(() => {
  var e = {
      932: (e) => {
        "use strict";
        e.exports = function (e, t) {
          var n,
            i = String(e),
            r = 0;
          if ("string" != typeof t || 1 !== t.length)
            throw new Error("Expected character");
          n = i.indexOf(t);
          for (; -1 !== n; ) r++, (n = i.indexOf(t, n + 1));
          return r;
        };
      },
      5848: (e) => {
        "use strict";
        e.exports = JSON.parse(
          '{"nbsp":" ","iexcl":"¡","cent":"¢","pound":"£","curren":"¤","yen":"¥","brvbar":"¦","sect":"§","uml":"¨","copy":"©","ordf":"ª","laquo":"«","not":"¬","shy":"­","reg":"®","macr":"¯","deg":"°","plusmn":"±","sup2":"²","sup3":"³","acute":"´","micro":"µ","para":"¶","middot":"·","cedil":"¸","sup1":"¹","ordm":"º","raquo":"»","frac14":"¼","frac12":"½","frac34":"¾","iquest":"¿","Agrave":"À","Aacute":"Á","Acirc":"Â","Atilde":"Ã","Auml":"Ä","Aring":"Å","AElig":"Æ","Ccedil":"Ç","Egrave":"È","Eacute":"É","Ecirc":"Ê","Euml":"Ë","Igrave":"Ì","Iacute":"Í","Icirc":"Î","Iuml":"Ï","ETH":"Ð","Ntilde":"Ñ","Ograve":"Ò","Oacute":"Ó","Ocirc":"Ô","Otilde":"Õ","Ouml":"Ö","times":"×","Oslash":"Ø","Ugrave":"Ù","Uacute":"Ú","Ucirc":"Û","Uuml":"Ü","Yacute":"Ý","THORN":"Þ","szlig":"ß","agrave":"à","aacute":"á","acirc":"â","atilde":"ã","auml":"ä","aring":"å","aelig":"æ","ccedil":"ç","egrave":"è","eacute":"é","ecirc":"ê","euml":"ë","igrave":"ì","iacute":"í","icirc":"î","iuml":"ï","eth":"ð","ntilde":"ñ","ograve":"ò","oacute":"ó","ocirc":"ô","otilde":"õ","ouml":"ö","divide":"÷","oslash":"ø","ugrave":"ù","uacute":"ú","ucirc":"û","uuml":"ü","yacute":"ý","thorn":"þ","yuml":"ÿ","fnof":"ƒ","Alpha":"Α","Beta":"Β","Gamma":"Γ","Delta":"Δ","Epsilon":"Ε","Zeta":"Ζ","Eta":"Η","Theta":"Θ","Iota":"Ι","Kappa":"Κ","Lambda":"Λ","Mu":"Μ","Nu":"Ν","Xi":"Ξ","Omicron":"Ο","Pi":"Π","Rho":"Ρ","Sigma":"Σ","Tau":"Τ","Upsilon":"Υ","Phi":"Φ","Chi":"Χ","Psi":"Ψ","Omega":"Ω","alpha":"α","beta":"β","gamma":"γ","delta":"δ","epsilon":"ε","zeta":"ζ","eta":"η","theta":"θ","iota":"ι","kappa":"κ","lambda":"λ","mu":"μ","nu":"ν","xi":"ξ","omicron":"ο","pi":"π","rho":"ρ","sigmaf":"ς","sigma":"σ","tau":"τ","upsilon":"υ","phi":"φ","chi":"χ","psi":"ψ","omega":"ω","thetasym":"ϑ","upsih":"ϒ","piv":"ϖ","bull":"•","hellip":"…","prime":"′","Prime":"″","oline":"‾","frasl":"⁄","weierp":"℘","image":"ℑ","real":"ℜ","trade":"™","alefsym":"ℵ","larr":"←","uarr":"↑","rarr":"→","darr":"↓","harr":"↔","crarr":"↵","lArr":"⇐","uArr":"⇑","rArr":"⇒","dArr":"⇓","hArr":"⇔","forall":"∀","part":"∂","exist":"∃","empty":"∅","nabla":"∇","isin":"∈","notin":"∉","ni":"∋","prod":"∏","sum":"∑","minus":"−","lowast":"∗","radic":"√","prop":"∝","infin":"∞","ang":"∠","and":"∧","or":"∨","cap":"∩","cup":"∪","int":"∫","there4":"∴","sim":"∼","cong":"≅","asymp":"≈","ne":"≠","equiv":"≡","le":"≤","ge":"≥","sub":"⊂","sup":"⊃","nsub":"⊄","sube":"⊆","supe":"⊇","oplus":"⊕","otimes":"⊗","perp":"⊥","sdot":"⋅","lceil":"⌈","rceil":"⌉","lfloor":"⌊","rfloor":"⌋","lang":"〈","rang":"〉","loz":"◊","spades":"♠","clubs":"♣","hearts":"♥","diams":"♦","quot":"\\"","amp":"&","lt":"<","gt":">","OElig":"Œ","oelig":"œ","Scaron":"Š","scaron":"š","Yuml":"Ÿ","circ":"ˆ","tilde":"˜","ensp":" ","emsp":" ","thinsp":" ","zwnj":"‌","zwj":"‍","lrm":"‎","rlm":"‏","ndash":"–","mdash":"—","lsquo":"‘","rsquo":"’","sbquo":"‚","ldquo":"“","rdquo":"”","bdquo":"„","dagger":"†","Dagger":"‡","permil":"‰","lsaquo":"‹","rsaquo":"›","euro":"€"}'
        );
      },
      6588: (e) => {
        "use strict";
        e.exports = JSON.parse(
          '{"AElig":"Æ","AMP":"&","Aacute":"Á","Acirc":"Â","Agrave":"À","Aring":"Å","Atilde":"Ã","Auml":"Ä","COPY":"©","Ccedil":"Ç","ETH":"Ð","Eacute":"É","Ecirc":"Ê","Egrave":"È","Euml":"Ë","GT":">","Iacute":"Í","Icirc":"Î","Igrave":"Ì","Iuml":"Ï","LT":"<","Ntilde":"Ñ","Oacute":"Ó","Ocirc":"Ô","Ograve":"Ò","Oslash":"Ø","Otilde":"Õ","Ouml":"Ö","QUOT":"\\"","REG":"®","THORN":"Þ","Uacute":"Ú","Ucirc":"Û","Ugrave":"Ù","Uuml":"Ü","Yacute":"Ý","aacute":"á","acirc":"â","acute":"´","aelig":"æ","agrave":"à","amp":"&","aring":"å","atilde":"ã","auml":"ä","brvbar":"¦","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","curren":"¤","deg":"°","divide":"÷","eacute":"é","ecirc":"ê","egrave":"è","eth":"ð","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","iacute":"í","icirc":"î","iexcl":"¡","igrave":"ì","iquest":"¿","iuml":"ï","laquo":"«","lt":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","ntilde":"ñ","oacute":"ó","ocirc":"ô","ograve":"ò","ordf":"ª","ordm":"º","oslash":"ø","otilde":"õ","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","raquo":"»","reg":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","thorn":"þ","times":"×","uacute":"ú","ucirc":"û","ugrave":"ù","uml":"¨","uuml":"ü","yacute":"ý","yen":"¥","yuml":"ÿ"}'
        );
      },
      3407: (e) => {
        "use strict";
        e.exports = JSON.parse(
          '{"AEli":"Æ","AElig":"Æ","AM":"&","AMP":"&","Aacut":"Á","Aacute":"Á","Abreve":"Ă","Acir":"Â","Acirc":"Â","Acy":"А","Afr":"𝔄","Agrav":"À","Agrave":"À","Alpha":"Α","Amacr":"Ā","And":"⩓","Aogon":"Ą","Aopf":"𝔸","ApplyFunction":"⁡","Arin":"Å","Aring":"Å","Ascr":"𝒜","Assign":"≔","Atild":"Ã","Atilde":"Ã","Aum":"Ä","Auml":"Ä","Backslash":"∖","Barv":"⫧","Barwed":"⌆","Bcy":"Б","Because":"∵","Bernoullis":"ℬ","Beta":"Β","Bfr":"𝔅","Bopf":"𝔹","Breve":"˘","Bscr":"ℬ","Bumpeq":"≎","CHcy":"Ч","COP":"©","COPY":"©","Cacute":"Ć","Cap":"⋒","CapitalDifferentialD":"ⅅ","Cayleys":"ℭ","Ccaron":"Č","Ccedi":"Ç","Ccedil":"Ç","Ccirc":"Ĉ","Cconint":"∰","Cdot":"Ċ","Cedilla":"¸","CenterDot":"·","Cfr":"ℭ","Chi":"Χ","CircleDot":"⊙","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","Colon":"∷","Colone":"⩴","Congruent":"≡","Conint":"∯","ContourIntegral":"∮","Copf":"ℂ","Coproduct":"∐","CounterClockwiseContourIntegral":"∳","Cross":"⨯","Cscr":"𝒞","Cup":"⋓","CupCap":"≍","DD":"ⅅ","DDotrahd":"⤑","DJcy":"Ђ","DScy":"Ѕ","DZcy":"Џ","Dagger":"‡","Darr":"↡","Dashv":"⫤","Dcaron":"Ď","Dcy":"Д","Del":"∇","Delta":"Δ","Dfr":"𝔇","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","Diamond":"⋄","DifferentialD":"ⅆ","Dopf":"𝔻","Dot":"¨","DotDot":"⃜","DotEqual":"≐","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrow":"↓","DownArrowBar":"⤓","DownArrowUpArrow":"⇵","DownBreve":"̑","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVector":"↽","DownLeftVectorBar":"⥖","DownRightTeeVector":"⥟","DownRightVector":"⇁","DownRightVectorBar":"⥗","DownTee":"⊤","DownTeeArrow":"↧","Downarrow":"⇓","Dscr":"𝒟","Dstrok":"Đ","ENG":"Ŋ","ET":"Ð","ETH":"Ð","Eacut":"É","Eacute":"É","Ecaron":"Ě","Ecir":"Ê","Ecirc":"Ê","Ecy":"Э","Edot":"Ė","Efr":"𝔈","Egrav":"È","Egrave":"È","Element":"∈","Emacr":"Ē","EmptySmallSquare":"◻","EmptyVerySmallSquare":"▫","Eogon":"Ę","Eopf":"𝔼","Epsilon":"Ε","Equal":"⩵","EqualTilde":"≂","Equilibrium":"⇌","Escr":"ℰ","Esim":"⩳","Eta":"Η","Eum":"Ë","Euml":"Ë","Exists":"∃","ExponentialE":"ⅇ","Fcy":"Ф","Ffr":"𝔉","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","Fopf":"𝔽","ForAll":"∀","Fouriertrf":"ℱ","Fscr":"ℱ","GJcy":"Ѓ","G":">","GT":">","Gamma":"Γ","Gammad":"Ϝ","Gbreve":"Ğ","Gcedil":"Ģ","Gcirc":"Ĝ","Gcy":"Г","Gdot":"Ġ","Gfr":"𝔊","Gg":"⋙","Gopf":"𝔾","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","Gt":"≫","HARDcy":"Ъ","Hacek":"ˇ","Hat":"^","Hcirc":"Ĥ","Hfr":"ℌ","HilbertSpace":"ℋ","Hopf":"ℍ","HorizontalLine":"─","Hscr":"ℋ","Hstrok":"Ħ","HumpDownHump":"≎","HumpEqual":"≏","IEcy":"Е","IJlig":"Ĳ","IOcy":"Ё","Iacut":"Í","Iacute":"Í","Icir":"Î","Icirc":"Î","Icy":"И","Idot":"İ","Ifr":"ℑ","Igrav":"Ì","Igrave":"Ì","Im":"ℑ","Imacr":"Ī","ImaginaryI":"ⅈ","Implies":"⇒","Int":"∬","Integral":"∫","Intersection":"⋂","InvisibleComma":"⁣","InvisibleTimes":"⁢","Iogon":"Į","Iopf":"𝕀","Iota":"Ι","Iscr":"ℐ","Itilde":"Ĩ","Iukcy":"І","Ium":"Ï","Iuml":"Ï","Jcirc":"Ĵ","Jcy":"Й","Jfr":"𝔍","Jopf":"𝕁","Jscr":"𝒥","Jsercy":"Ј","Jukcy":"Є","KHcy":"Х","KJcy":"Ќ","Kappa":"Κ","Kcedil":"Ķ","Kcy":"К","Kfr":"𝔎","Kopf":"𝕂","Kscr":"𝒦","LJcy":"Љ","L":"<","LT":"<","Lacute":"Ĺ","Lambda":"Λ","Lang":"⟪","Laplacetrf":"ℒ","Larr":"↞","Lcaron":"Ľ","Lcedil":"Ļ","Lcy":"Л","LeftAngleBracket":"⟨","LeftArrow":"←","LeftArrowBar":"⇤","LeftArrowRightArrow":"⇆","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVector":"⇃","LeftDownVectorBar":"⥙","LeftFloor":"⌊","LeftRightArrow":"↔","LeftRightVector":"⥎","LeftTee":"⊣","LeftTeeArrow":"↤","LeftTeeVector":"⥚","LeftTriangle":"⊲","LeftTriangleBar":"⧏","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVector":"↿","LeftUpVectorBar":"⥘","LeftVector":"↼","LeftVectorBar":"⥒","Leftarrow":"⇐","Leftrightarrow":"⇔","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","LessLess":"⪡","LessSlantEqual":"⩽","LessTilde":"≲","Lfr":"𝔏","Ll":"⋘","Lleftarrow":"⇚","Lmidot":"Ŀ","LongLeftArrow":"⟵","LongLeftRightArrow":"⟷","LongRightArrow":"⟶","Longleftarrow":"⟸","Longleftrightarrow":"⟺","Longrightarrow":"⟹","Lopf":"𝕃","LowerLeftArrow":"↙","LowerRightArrow":"↘","Lscr":"ℒ","Lsh":"↰","Lstrok":"Ł","Lt":"≪","Map":"⤅","Mcy":"М","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","MinusPlus":"∓","Mopf":"𝕄","Mscr":"ℳ","Mu":"Μ","NJcy":"Њ","Nacute":"Ń","Ncaron":"Ň","Ncedil":"Ņ","Ncy":"Н","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","Nfr":"𝔑","NoBreak":"⁠","NonBreakingSpace":" ","Nopf":"ℕ","Not":"⫬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","NotLeftTriangle":"⋪","NotLeftTriangleBar":"⧏̸","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangle":"⋫","NotRightTriangleBar":"⧐̸","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","Nscr":"𝒩","Ntild":"Ñ","Ntilde":"Ñ","Nu":"Ν","OElig":"Œ","Oacut":"Ó","Oacute":"Ó","Ocir":"Ô","Ocirc":"Ô","Ocy":"О","Odblac":"Ő","Ofr":"𝔒","Ograv":"Ò","Ograve":"Ò","Omacr":"Ō","Omega":"Ω","Omicron":"Ο","Oopf":"𝕆","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","Or":"⩔","Oscr":"𝒪","Oslas":"Ø","Oslash":"Ø","Otild":"Õ","Otilde":"Õ","Otimes":"⨷","Oum":"Ö","Ouml":"Ö","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","PartialD":"∂","Pcy":"П","Pfr":"𝔓","Phi":"Φ","Pi":"Π","PlusMinus":"±","Poincareplane":"ℌ","Popf":"ℙ","Pr":"⪻","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","Prime":"″","Product":"∏","Proportion":"∷","Proportional":"∝","Pscr":"𝒫","Psi":"Ψ","QUO":"\\"","QUOT":"\\"","Qfr":"𝔔","Qopf":"ℚ","Qscr":"𝒬","RBarr":"⤐","RE":"®","REG":"®","Racute":"Ŕ","Rang":"⟫","Rarr":"↠","Rarrtl":"⤖","Rcaron":"Ř","Rcedil":"Ŗ","Rcy":"Р","Re":"ℜ","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","Rfr":"ℜ","Rho":"Ρ","RightAngleBracket":"⟩","RightArrow":"→","RightArrowBar":"⇥","RightArrowLeftArrow":"⇄","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVector":"⇂","RightDownVectorBar":"⥕","RightFloor":"⌋","RightTee":"⊢","RightTeeArrow":"↦","RightTeeVector":"⥛","RightTriangle":"⊳","RightTriangleBar":"⧐","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVector":"↾","RightUpVectorBar":"⥔","RightVector":"⇀","RightVectorBar":"⥓","Rightarrow":"⇒","Ropf":"ℝ","RoundImplies":"⥰","Rrightarrow":"⇛","Rscr":"ℛ","Rsh":"↱","RuleDelayed":"⧴","SHCHcy":"Щ","SHcy":"Ш","SOFTcy":"Ь","Sacute":"Ś","Sc":"⪼","Scaron":"Š","Scedil":"Ş","Scirc":"Ŝ","Scy":"С","Sfr":"𝔖","ShortDownArrow":"↓","ShortLeftArrow":"←","ShortRightArrow":"→","ShortUpArrow":"↑","Sigma":"Σ","SmallCircle":"∘","Sopf":"𝕊","Sqrt":"√","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","Sscr":"𝒮","Star":"⋆","Sub":"⋐","Subset":"⋐","SubsetEqual":"⊆","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","SuchThat":"∋","Sum":"∑","Sup":"⋑","Superset":"⊃","SupersetEqual":"⊇","Supset":"⋑","THOR":"Þ","THORN":"Þ","TRADE":"™","TSHcy":"Ћ","TScy":"Ц","Tab":"\\t","Tau":"Τ","Tcaron":"Ť","Tcedil":"Ţ","Tcy":"Т","Tfr":"𝔗","Therefore":"∴","Theta":"Θ","ThickSpace":"  ","ThinSpace":" ","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","Topf":"𝕋","TripleDot":"⃛","Tscr":"𝒯","Tstrok":"Ŧ","Uacut":"Ú","Uacute":"Ú","Uarr":"↟","Uarrocir":"⥉","Ubrcy":"Ў","Ubreve":"Ŭ","Ucir":"Û","Ucirc":"Û","Ucy":"У","Udblac":"Ű","Ufr":"𝔘","Ugrav":"Ù","Ugrave":"Ù","Umacr":"Ū","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","Uopf":"𝕌","UpArrow":"↑","UpArrowBar":"⤒","UpArrowDownArrow":"⇅","UpDownArrow":"↕","UpEquilibrium":"⥮","UpTee":"⊥","UpTeeArrow":"↥","Uparrow":"⇑","Updownarrow":"⇕","UpperLeftArrow":"↖","UpperRightArrow":"↗","Upsi":"ϒ","Upsilon":"Υ","Uring":"Ů","Uscr":"𝒰","Utilde":"Ũ","Uum":"Ü","Uuml":"Ü","VDash":"⊫","Vbar":"⫫","Vcy":"В","Vdash":"⊩","Vdashl":"⫦","Vee":"⋁","Verbar":"‖","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","Vopf":"𝕍","Vscr":"𝒱","Vvdash":"⊪","Wcirc":"Ŵ","Wedge":"⋀","Wfr":"𝔚","Wopf":"𝕎","Wscr":"𝒲","Xfr":"𝔛","Xi":"Ξ","Xopf":"𝕏","Xscr":"𝒳","YAcy":"Я","YIcy":"Ї","YUcy":"Ю","Yacut":"Ý","Yacute":"Ý","Ycirc":"Ŷ","Ycy":"Ы","Yfr":"𝔜","Yopf":"𝕐","Yscr":"𝒴","Yuml":"Ÿ","ZHcy":"Ж","Zacute":"Ź","Zcaron":"Ž","Zcy":"З","Zdot":"Ż","ZeroWidthSpace":"​","Zeta":"Ζ","Zfr":"ℨ","Zopf":"ℤ","Zscr":"𝒵","aacut":"á","aacute":"á","abreve":"ă","ac":"∾","acE":"∾̳","acd":"∿","acir":"â","acirc":"â","acut":"´","acute":"´","acy":"а","aeli":"æ","aelig":"æ","af":"⁡","afr":"𝔞","agrav":"à","agrave":"à","alefsym":"ℵ","aleph":"ℵ","alpha":"α","amacr":"ā","amalg":"⨿","am":"&","amp":"&","and":"∧","andand":"⩕","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsd":"∡","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","aogon":"ą","aopf":"𝕒","ap":"≈","apE":"⩰","apacir":"⩯","ape":"≊","apid":"≋","apos":"\'","approx":"≈","approxeq":"≊","arin":"å","aring":"å","ascr":"𝒶","ast":"*","asymp":"≈","asympeq":"≍","atild":"ã","atilde":"ã","aum":"ä","auml":"ä","awconint":"∳","awint":"⨑","bNot":"⫭","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","barvee":"⊽","barwed":"⌅","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","beta":"β","beth":"ℶ","between":"≬","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bnot":"⌐","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxDL":"╗","boxDR":"╔","boxDl":"╖","boxDr":"╓","boxH":"═","boxHD":"╦","boxHU":"╩","boxHd":"╤","boxHu":"╧","boxUL":"╝","boxUR":"╚","boxUl":"╜","boxUr":"╙","boxV":"║","boxVH":"╬","boxVL":"╣","boxVR":"╠","boxVh":"╫","boxVl":"╢","boxVr":"╟","boxbox":"⧉","boxdL":"╕","boxdR":"╒","boxdl":"┐","boxdr":"┌","boxh":"─","boxhD":"╥","boxhU":"╨","boxhd":"┬","boxhu":"┴","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxuL":"╛","boxuR":"╘","boxul":"┘","boxur":"└","boxv":"│","boxvH":"╪","boxvL":"╡","boxvR":"╞","boxvh":"┼","boxvl":"┤","boxvr":"├","bprime":"‵","breve":"˘","brvba":"¦","brvbar":"¦","bscr":"𝒷","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsol":"\\\\","bsolb":"⧅","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","bumpeq":"≏","cacute":"ć","cap":"∩","capand":"⩄","capbrcup":"⩉","capcap":"⩋","capcup":"⩇","capdot":"⩀","caps":"∩︀","caret":"⁁","caron":"ˇ","ccaps":"⩍","ccaron":"č","ccedi":"ç","ccedil":"ç","ccirc":"ĉ","ccups":"⩌","ccupssm":"⩐","cdot":"ċ","cedi":"¸","cedil":"¸","cemptyv":"⦲","cen":"¢","cent":"¢","centerdot":"·","cfr":"𝔠","chcy":"ч","check":"✓","checkmark":"✓","chi":"χ","cir":"○","cirE":"⧃","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledR":"®","circledS":"Ⓢ","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","clubs":"♣","clubsuit":"♣","colon":":","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","conint":"∮","copf":"𝕔","coprod":"∐","cop":"©","copy":"©","copysr":"℗","crarr":"↵","cross":"✗","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cup":"∪","cupbrcap":"⩈","cupcap":"⩆","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curre":"¤","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dArr":"⇓","dHar":"⥥","dagger":"†","daleth":"ℸ","darr":"↓","dash":"‐","dashv":"⊣","dbkarow":"⤏","dblac":"˝","dcaron":"ď","dcy":"д","dd":"ⅆ","ddagger":"‡","ddarr":"⇊","ddotseq":"⩷","de":"°","deg":"°","delta":"δ","demptyv":"⦱","dfisht":"⥿","dfr":"𝔡","dharl":"⇃","dharr":"⇂","diam":"⋄","diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","digamma":"ϝ","disin":"⋲","div":"÷","divid":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","dopf":"𝕕","dot":"˙","doteq":"≐","doteqdot":"≑","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","downarrow":"↓","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","dscr":"𝒹","dscy":"ѕ","dsol":"⧶","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","dzcy":"џ","dzigrarr":"⟿","eDDot":"⩷","eDot":"≑","eacut":"é","eacute":"é","easter":"⩮","ecaron":"ě","ecir":"ê","ecirc":"ê","ecolon":"≕","ecy":"э","edot":"ė","ee":"ⅇ","efDot":"≒","efr":"𝔢","eg":"⪚","egrav":"è","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","emacr":"ē","empty":"∅","emptyset":"∅","emptyv":"∅","emsp13":" ","emsp14":" ","emsp":" ","eng":"ŋ","ensp":" ","eogon":"ę","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","equals":"=","equest":"≟","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erDot":"≓","erarr":"⥱","escr":"ℯ","esdot":"≐","esim":"≂","eta":"η","et":"ð","eth":"ð","eum":"ë","euml":"ë","euro":"€","excl":"!","exist":"∃","expectation":"ℰ","exponentiale":"ⅇ","fallingdotseq":"≒","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","ffr":"𝔣","filig":"ﬁ","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","fopf":"𝕗","forall":"∀","fork":"⋔","forkv":"⫙","fpartint":"⨍","frac1":"¼","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac3":"¾","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","gE":"≧","gEl":"⪌","gacute":"ǵ","gamma":"γ","gammad":"ϝ","gap":"⪆","gbreve":"ğ","gcirc":"ĝ","gcy":"г","gdot":"ġ","ge":"≥","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","ges":"⩾","gescc":"⪩","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","gfr":"𝔤","gg":"≫","ggg":"⋙","gimel":"ℷ","gjcy":"ѓ","gl":"≷","glE":"⪒","gla":"⪥","glj":"⪤","gnE":"≩","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gneq":"⪈","gneqq":"≩","gnsim":"⋧","gopf":"𝕘","grave":"`","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","g":">","gt":">","gtcc":"⪧","gtcir":"⩺","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","hArr":"⇔","hairsp":" ","half":"½","hamilt":"ℋ","hardcy":"ъ","harr":"↔","harrcir":"⥈","harrw":"↭","hbar":"ℏ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","horbar":"―","hscr":"𝒽","hslash":"ℏ","hstrok":"ħ","hybull":"⁃","hyphen":"‐","iacut":"í","iacute":"í","ic":"⁣","icir":"î","icirc":"î","icy":"и","iecy":"е","iexc":"¡","iexcl":"¡","iff":"⇔","ifr":"𝔦","igrav":"ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","ijlig":"ĳ","imacr":"ī","image":"ℑ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","imof":"⊷","imped":"Ƶ","in":"∈","incare":"℅","infin":"∞","infintie":"⧝","inodot":"ı","int":"∫","intcal":"⊺","integers":"ℤ","intercal":"⊺","intlarhk":"⨗","intprod":"⨼","iocy":"ё","iogon":"į","iopf":"𝕚","iota":"ι","iprod":"⨼","iques":"¿","iquest":"¿","iscr":"𝒾","isin":"∈","isinE":"⋹","isindot":"⋵","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","itilde":"ĩ","iukcy":"і","ium":"ï","iuml":"ï","jcirc":"ĵ","jcy":"й","jfr":"𝔧","jmath":"ȷ","jopf":"𝕛","jscr":"𝒿","jsercy":"ј","jukcy":"є","kappa":"κ","kappav":"ϰ","kcedil":"ķ","kcy":"к","kfr":"𝔨","kgreen":"ĸ","khcy":"х","kjcy":"ќ","kopf":"𝕜","kscr":"𝓀","lAarr":"⇚","lArr":"⇐","lAtail":"⤛","lBarr":"⤎","lE":"≦","lEg":"⪋","lHar":"⥢","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","lambda":"λ","lang":"⟨","langd":"⦑","langle":"⟨","lap":"⪅","laqu":"«","laquo":"«","larr":"←","larrb":"⇤","larrbfs":"⤟","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","lat":"⪫","latail":"⤙","late":"⪭","lates":"⪭︀","lbarr":"⤌","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","lcaron":"ľ","lcedil":"ļ","lceil":"⌈","lcub":"{","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","leftarrow":"←","leftarrowtail":"↢","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","leftthreetimes":"⋋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","les":"⩽","lescc":"⪨","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","lessgtr":"≶","lesssim":"≲","lfisht":"⥼","lfloor":"⌊","lfr":"𝔩","lg":"≶","lgE":"⪑","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","ljcy":"љ","ll":"≪","llarr":"⇇","llcorner":"⌞","llhard":"⥫","lltri":"◺","lmidot":"ŀ","lmoust":"⎰","lmoustache":"⎰","lnE":"≨","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","longleftrightarrow":"⟷","longmapsto":"⟼","longrightarrow":"⟶","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","lstrok":"ł","l":"<","lt":"<","ltcc":"⪦","ltcir":"⩹","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltrPar":"⦖","ltri":"◃","ltrie":"⊴","ltrif":"◂","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","mDDot":"∺","mac":"¯","macr":"¯","male":"♂","malt":"✠","maltese":"✠","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","mcy":"м","mdash":"—","measuredangle":"∡","mfr":"𝔪","mho":"℧","micr":"µ","micro":"µ","mid":"∣","midast":"*","midcir":"⫰","middo":"·","middot":"·","minus":"−","minusb":"⊟","minusd":"∸","minusdu":"⨪","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","mopf":"𝕞","mp":"∓","mscr":"𝓂","mstpos":"∾","mu":"μ","multimap":"⊸","mumap":"⊸","nGg":"⋙̸","nGt":"≫⃒","nGtv":"≫̸","nLeftarrow":"⇍","nLeftrightarrow":"⇎","nLl":"⋘̸","nLt":"≪⃒","nLtv":"≪̸","nRightarrow":"⇏","nVDash":"⊯","nVdash":"⊮","nabla":"∇","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natur":"♮","natural":"♮","naturals":"ℕ","nbs":" ","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","ncaron":"ň","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","ncy":"н","ndash":"–","ne":"≠","neArr":"⇗","nearhk":"⤤","nearr":"↗","nearrow":"↗","nedot":"≐̸","nequiv":"≢","nesear":"⤨","nesim":"≂̸","nexist":"∄","nexists":"∄","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","ngsim":"≵","ngt":"≯","ngtr":"≯","nhArr":"⇎","nharr":"↮","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","njcy":"њ","nlArr":"⇍","nlE":"≦̸","nlarr":"↚","nldr":"‥","nle":"≰","nleftarrow":"↚","nleftrightarrow":"↮","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nlsim":"≴","nlt":"≮","nltri":"⋪","nltrie":"⋬","nmid":"∤","nopf":"𝕟","no":"¬","not":"¬","notin":"∉","notinE":"⋹̸","notindot":"⋵̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","npar":"∦","nparallel":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","npre":"⪯̸","nprec":"⊀","npreceq":"⪯̸","nrArr":"⇏","nrarr":"↛","nrarrc":"⤳̸","nrarrw":"↝̸","nrightarrow":"↛","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","ntild":"ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","nu":"ν","num":"#","numero":"№","numsp":" ","nvDash":"⊭","nvHarr":"⤄","nvap":"≍⃒","nvdash":"⊬","nvge":"≥⃒","nvgt":">⃒","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwArr":"⇖","nwarhk":"⤣","nwarr":"↖","nwarrow":"↖","nwnear":"⤧","oS":"Ⓢ","oacut":"ó","oacute":"ó","oast":"⊛","ocir":"ô","ocirc":"ô","ocy":"о","odash":"⊝","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","oelig":"œ","ofcir":"⦿","ofr":"𝔬","ogon":"˛","ograv":"ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","omacr":"ō","omega":"ω","omicron":"ο","omid":"⦶","ominus":"⊖","oopf":"𝕠","opar":"⦷","operp":"⦹","oplus":"⊕","or":"∨","orarr":"↻","ord":"º","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oscr":"ℴ","oslas":"ø","oslash":"ø","osol":"⊘","otild":"õ","otilde":"õ","otimes":"⊗","otimesas":"⨶","oum":"ö","ouml":"ö","ovbar":"⌽","par":"¶","para":"¶","parallel":"∥","parsim":"⫳","parsl":"⫽","part":"∂","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","pfr":"𝔭","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plus":"+","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plusdo":"∔","plusdu":"⨥","pluse":"⩲","plusm":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","pointint":"⨕","popf":"𝕡","poun":"£","pound":"£","pr":"≺","prE":"⪳","prap":"⪷","prcue":"≼","pre":"⪯","prec":"≺","precapprox":"⪷","preccurlyeq":"≼","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","precsim":"≾","prime":"′","primes":"ℙ","prnE":"⪵","prnap":"⪹","prnsim":"⋨","prod":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","propto":"∝","prsim":"≾","prurel":"⊰","pscr":"𝓅","psi":"ψ","puncsp":" ","qfr":"𝔮","qint":"⨌","qopf":"𝕢","qprime":"⁗","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quo":"\\"","quot":"\\"","rAarr":"⇛","rArr":"⇒","rAtail":"⤜","rBarr":"⤏","rHar":"⥤","race":"∽̱","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","rangd":"⦒","range":"⦥","rangle":"⟩","raqu":"»","raquo":"»","rarr":"→","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","rarrtl":"↣","rarrw":"↝","ratail":"⤚","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","rcaron":"ř","rcedil":"ŗ","rceil":"⌉","rcub":"}","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","rect":"▭","re":"®","reg":"®","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","rhard":"⇁","rharu":"⇀","rharul":"⥬","rho":"ρ","rhov":"ϱ","rightarrow":"→","rightarrowtail":"↣","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","rightthreetimes":"⋌","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoust":"⎱","rmoustache":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","roplus":"⨮","rotimes":"⨵","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","rsaquo":"›","rscr":"𝓇","rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","ruluhar":"⥨","rx":"℞","sacute":"ś","sbquo":"‚","sc":"≻","scE":"⪴","scap":"⪸","scaron":"š","sccue":"≽","sce":"⪰","scedil":"ş","scirc":"ŝ","scnE":"⪶","scnap":"⪺","scnsim":"⋩","scpolint":"⨓","scsim":"≿","scy":"с","sdot":"⋅","sdotb":"⊡","sdote":"⩦","seArr":"⇘","searhk":"⤥","searr":"↘","searrow":"↘","sec":"§","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","sfr":"𝔰","sfrown":"⌢","sharp":"♯","shchcy":"щ","shcy":"ш","shortmid":"∣","shortparallel":"∥","sh":"­","shy":"­","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","softcy":"ь","sol":"/","solb":"⧄","solbar":"⌿","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","squ":"□","square":"□","squarf":"▪","squf":"▪","srarr":"→","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","subE":"⫅","subdot":"⪽","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","subseteq":"⊆","subseteqq":"⫅","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succ":"≻","succapprox":"⪸","succcurlyeq":"≽","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","sum":"∑","sung":"♪","sup":"⊃","sup1":"¹","sup2":"²","sup3":"³","supE":"⫆","supdot":"⪾","supdsub":"⫘","supe":"⊇","supedot":"⫄","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swArr":"⇙","swarhk":"⤦","swarr":"↙","swarrow":"↙","swnwar":"⤪","szli":"ß","szlig":"ß","target":"⌖","tau":"τ","tbrk":"⎴","tcaron":"ť","tcedil":"ţ","tcy":"т","tdot":"⃛","telrec":"⌕","tfr":"𝔱","there4":"∴","therefore":"∴","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","thinsp":" ","thkap":"≈","thksim":"∼","thor":"þ","thorn":"þ","tilde":"˜","time":"×","times":"×","timesb":"⊠","timesbar":"⨱","timesd":"⨰","tint":"∭","toea":"⤨","top":"⊤","topbot":"⌶","topcir":"⫱","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","tscr":"𝓉","tscy":"ц","tshcy":"ћ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","uArr":"⇑","uHar":"⥣","uacut":"ú","uacute":"ú","uarr":"↑","ubrcy":"ў","ubreve":"ŭ","ucir":"û","ucirc":"û","ucy":"у","udarr":"⇅","udblac":"ű","udhar":"⥮","ufisht":"⥾","ufr":"𝔲","ugrav":"ù","ugrave":"ù","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","umacr":"ū","um":"¨","uml":"¨","uogon":"ų","uopf":"𝕦","uparrow":"↑","updownarrow":"↕","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","upsi":"υ","upsih":"ϒ","upsilon":"υ","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","uring":"ů","urtri":"◹","uscr":"𝓊","utdot":"⋰","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","uum":"ü","uuml":"ü","uwangle":"⦧","vArr":"⇕","vBar":"⫨","vBarv":"⫩","vDash":"⊨","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vcy":"в","vdash":"⊢","vee":"∨","veebar":"⊻","veeeq":"≚","vellip":"⋮","verbar":"|","vert":"|","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","vopf":"𝕧","vprop":"∝","vrtri":"⊳","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","vzigzag":"⦚","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","wedgeq":"≙","weierp":"℘","wfr":"𝔴","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","xfr":"𝔵","xhArr":"⟺","xharr":"⟷","xi":"ξ","xlArr":"⟸","xlarr":"⟵","xmap":"⟼","xnis":"⋻","xodot":"⨀","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrArr":"⟹","xrarr":"⟶","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","yacut":"ý","yacute":"ý","yacy":"я","ycirc":"ŷ","ycy":"ы","ye":"¥","yen":"¥","yfr":"𝔶","yicy":"ї","yopf":"𝕪","yscr":"𝓎","yucy":"ю","yum":"ÿ","yuml":"ÿ","zacute":"ź","zcaron":"ž","zcy":"з","zdot":"ż","zeetrf":"ℨ","zeta":"ζ","zfr":"𝔷","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","zscr":"𝓏","zwj":"‍","zwnj":"‌"}'
        );
      },
      6852: (e) => {
        "use strict";
        e.exports = JSON.parse(
          '{"0":"�","128":"€","130":"‚","131":"ƒ","132":"„","133":"…","134":"†","135":"‡","136":"ˆ","137":"‰","138":"Š","139":"‹","140":"Œ","142":"Ž","145":"‘","146":"’","147":"“","148":"”","149":"•","150":"–","151":"—","152":"˜","153":"™","154":"š","155":"›","156":"œ","158":"ž","159":"Ÿ"}'
        );
      },
      9357: (e) => {
        "use strict";
        e.exports = function (e) {
          return String(e).replace(/\s+/g, " ");
        };
      },
      6851: (e, t) => {
        "use strict";
        t.P = function (e, t) {
          var n = t || {},
            i = !1 === n.padLeft ? "" : " ",
            r = n.padRight ? " " : "";
          "" === e[e.length - 1] && (e = e.concat(""));
          return e.join(r + "," + i).trim();
        };
      },
      8909: (e) => {
        "use strict";
        e.exports = function (e, t) {
          var n;
          if (
            null != t &&
            "string" != typeof t &&
            ("object" != typeof t || 0 === t.length)
          )
            throw new Error(
              "Expected `string` or `Array.<string>` for `tagNames`, not `" +
                t +
                "`"
            );
          if (
            !e ||
            "object" != typeof e ||
            "element" !== e.type ||
            "string" != typeof e.tagName
          )
            return !1;
          if (null == t) return !0;
          if (((n = e.tagName), "string" == typeof t)) return n === t;
          return -1 !== t.indexOf(n);
        };
      },
      773: (e, t, n) => {
        "use strict";
        e.exports = n(5204);
      },
      5802: (e, t, n) => {
        "use strict";
        var i = n(1878);
        e.exports = function (e, t) {
          var n = t && t.children,
            r = n && n.length,
            o = -1,
            s = [];
          for (; ++o < r; ) s[o] = i(e, n[o], o, t);
          return s.join("");
        };
      },
      1928: (e, t, n) => {
        "use strict";
        var i = n(7529),
          r = n(4860);
        e.exports = function (e, t) {
          var n = t.value;
          if (e.bogusComments)
            return "<?" + r(n, i(e.entities, { subset: a })) + ">";
          return (
            "\x3c!--" +
            n.replace(o, function (t) {
              return r(t, i(e.entities, { subset: s }));
            }) +
            "--\x3e"
          );
        };
        var o = /^>|^->|<!--|-->|--!>|<!-$/g,
          s = ["<", ">"],
          a = [">"];
      },
      5966: (e) => {
        "use strict";
        var t = "\0",
          n = "&",
          i = "`",
          r = '"',
          o = "'",
          s = [" ", "\t", "\n", "\r", "\f"],
          a = s.concat(n, "/", ">", "="),
          l = s.concat(n, ">"),
          c = l.concat(t, r, o, "<", "=", i),
          u = [n, o],
          h = [n, r];
        e.exports = {
          name: [
            [a, a.concat(r, o, i)],
            [a.concat(t, r, o, "<"), a.concat(t, r, o, "<", i)],
          ],
          unquoted: [
            [l, c],
            [c, c],
          ],
          single: [
            [u, u.concat(r, i)],
            [u.concat(t), u.concat(t, r, i)],
          ],
          double: [
            [h, h.concat(o, i)],
            [h.concat(t), h.concat(t, o, i)],
          ],
        };
      },
      5842: (e, t, n) => {
        "use strict";
        var i = n(7529),
          r = n(932),
          o = n(4860);
        e.exports = function (e, t) {
          var n = e.upperDoctype ? a : s,
            i = e.tightDoctype ? "" : " ",
            r = t.name,
            o = t.public,
            c = t.system,
            u = ["<!" + n];
          r &&
            (u.push(i, r),
            null != o
              ? u.push(" public", i, l(e, o))
              : null != c && u.push(" system"),
            null != c && u.push(i, l(e, c)));
          return u.join("") + ">";
        };
        var s = "doctype",
          a = s.toUpperCase();
        function l(e, t) {
          var n = e.quote,
            s = e.alternative,
            a = String(t),
            l = r(a, n) > r(a, s) ? s : n;
          return l + o(a, i(e.entities, { subset: ["<", "&", l] })) + l;
        }
      },
      4307: (e, t, n) => {
        "use strict";
        var i = n(7529),
          r = n(1218),
          o = n(9560),
          s = n(6582).P,
          a = n(6851).P,
          l = n(4860),
          c = n(932),
          u = n(5802),
          h = n(5966);
        e.exports = function (e, t, n, i) {
          var o,
            s,
            a,
            l,
            c,
            h,
            p = e.schema,
            f = t.tagName,
            g = "",
            m = t;
          "html" === p.space && "svg" === f && (e.schema = r);
          (c = (function (e, t) {
            var n,
              i,
              r,
              o,
              s,
              a,
              l = [];
            for (n in t) null != (i = t[n]) && (r = d(e, n, i)) && l.push(r);
            (o = l.length), (s = -1);
            for (; ++s < o; )
              (r = l[s]),
                (a = null),
                e.tight && (a = r.charAt(r.length - 1)),
                s !== o - 1 && '"' !== a && "'" !== a && (l[s] = r + " ");
            return l.join("");
          })(e, t.properties)),
            "svg" === e.schema.space
              ? ((a = !1), (s = !0), (o = e.closeEmpty))
              : ((a = e.omit),
                (s = e.close),
                (o = -1 !== e.voids.indexOf(f.toLowerCase())),
                "template" === f && (m = t.content));
          (l = u(e, m)),
            (o = !l && o),
            (!c && a && a.opening(t, n, i)) ||
              ((g = "<" + f + (c ? " " + c : "")),
              o &&
                s &&
                ((h = c.charAt(c.length - 1)),
                (!e.tightClose ||
                  "/" === h ||
                  ("svg" === e.schema.space && h && '"' !== h && "'" !== h)) &&
                  (g += " "),
                (g += "/")),
              (g += ">"));
          (g += l), o || (a && a.closing(t, n, i)) || (g += "</" + f + ">");
          return (e.schema = p), g;
        };
        var p = "'";
        function d(e, t, n) {
          var r = e.schema,
            u = o(r, t),
            d = u.attribute;
          return (
            !u.overloadedBoolean || (n !== d && "" !== n)
              ? (u.boolean || (u.overloadedBoolean && "string" != typeof n)) &&
                (n = Boolean(n))
              : (n = !0),
            null == n || !1 === n || ("number" == typeof n && isNaN(n))
              ? ""
              : ((d = (function (e, t) {
                  var n = "html" === e.schema.space ? e.valid : 1,
                    r = h.name[n][e.safe];
                  return l(t, i(e.entities, { subset: r }));
                })(e, d)),
                !0 === n
                  ? d
                  : d +
                    (function (e, t, n, r) {
                      var o,
                        u,
                        d = e.entities,
                        f = e.quote,
                        g = e.alternative,
                        m = e.smart;
                      "object" == typeof n &&
                        "length" in n &&
                        (n = (r.commaSeparated ? a : s)(n, {
                          padLeft: !e.tightLists,
                        }));
                      (!(n = String(n)) && e.collapseEmpty) ||
                        ((o = n),
                        e.unquoted &&
                          ((u = h.unquoted[e.valid][e.safe]),
                          (o = l(n, i(d, { subset: u, attribute: !0 })))),
                        (e.unquoted && o === n) ||
                          (m && c(n, f) > c(n, g) && (f = g),
                          (u = (u = f === p ? h.single : h.double)[
                            "html" === e.schema.space ? e.valid : 1
                          ][e.safe]),
                          (n =
                            f +
                            (n = l(n, i(d, { subset: u, attribute: !0 }))) +
                            f)),
                        (n = n ? "=" + n : n));
                      return n;
                    })(e, 0, n, u))
          );
        }
      },
      5204: (e, t, n) => {
        "use strict";
        var i = n(7247),
          r = n(1218),
          o = n(4318),
          s = n(1600),
          a = n(1878);
        e.exports = function (e, t) {
          var n = t || {},
            u = n.quote || l,
            h = u === l ? "'" : l,
            p = n.quoteSmart,
            d =
              e && "object" == typeof e && "length" in e
                ? { type: "root", children: e }
                : e;
          if (u !== l && "'" !== u)
            throw new Error(
              "Invalid quote `" + u + "`, expected `'` or `" + '"`'
            );
          void 0 !== n.allowDangerousHTML &&
            (c ||
              ((c = !0),
              console.warn(
                "Deprecation warning: `allowDangerousHTML` is a nonstandard option, use `allowDangerousHtml` instead"
              )));
          return a(
            {
              valid: n.allowParseErrors ? 0 : 1,
              safe: n.allowDangerousCharacters ? 0 : 1,
              schema: "svg" === n.space ? r : i,
              omit: n.omitOptionalTags && s,
              quote: u,
              alternative: h,
              smart: p,
              unquoted: Boolean(n.preferUnquoted),
              tight: n.tightAttributes,
              upperDoctype: Boolean(n.upperDoctype),
              tightDoctype: Boolean(n.tightDoctype),
              bogusComments: Boolean(n.bogusComments),
              tightLists: n.tightCommaSeparatedLists,
              tightClose: n.tightSelfClosing,
              collapseEmpty: n.collapseEmptyAttributes,
              dangerous: n.allowDangerousHtml || n.allowDangerousHTML,
              voids: n.voids || o.concat(),
              entities: n.entities || {},
              close: n.closeSelfClosing,
              closeEmpty: n.closeEmptyElements,
            },
            d
          );
        };
        var l = '"',
          c = !1;
      },
      8639: (e, t, n) => {
        "use strict";
        var i = n(8145),
          r = n(8909),
          o = n(8115),
          s = n(3370).e,
          a = n(5254),
          l = i("comment"),
          c = "optgroup",
          u = ["option"].concat(c),
          h = ["dt", "dd"],
          p = ["menuitem", "hr", "menu"],
          d = ["rp", "rt"],
          f = ["tbody", "tfoot"],
          g = ["td", "th"],
          m = ["a", "audio", "del", "ins", "map", "noscript", "video"],
          v = [
            "address",
            "article",
            "aside",
            "blockquote",
            "details",
            "div",
            "dl",
            "fieldset",
            "figcaption",
            "figure",
            "footer",
            "form",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "header",
            "hgroup",
            "hr",
            "main",
            "menu",
            "nav",
            "ol",
            "p",
            "pre",
            "section",
            "table",
            "ul",
          ];
        function y(e, t, n) {
          var i = s(n, t, !0);
          return !i || (!l(i) && !o(i));
        }
        function b(e, t, n) {
          var i = s(n, t);
          return !i || r(i, d);
        }
        function w(e, t, n) {
          var i = s(n, t);
          return !i || r(i, g);
        }
        e.exports = a({
          html: function (e, t, n) {
            var i = s(n, t);
            return !i || !l(i);
          },
          head: y,
          body: function (e, t, n) {
            var i = s(n, t);
            return !i || !l(i);
          },
          p: function (e, t, n) {
            var i = s(n, t);
            return i ? r(i, v) : !n || !r(n, m);
          },
          li: function (e, t, n) {
            var i = s(n, t);
            return !i || r(i, "li");
          },
          dt: function (e, t, n) {
            var i = s(n, t);
            return i && r(i, h);
          },
          dd: function (e, t, n) {
            var i = s(n, t);
            return !i || r(i, h);
          },
          rt: b,
          rp: b,
          optgroup: function (e, t, n) {
            var i = s(n, t);
            return !i || r(i, c);
          },
          option: function (e, t, n) {
            var i = s(n, t);
            return !i || r(i, u);
          },
          menuitem: function (e, t, n) {
            var i = s(n, t);
            return !i || r(i, p);
          },
          colgroup: y,
          caption: y,
          thead: function (e, t, n) {
            var i = s(n, t);
            return i && r(i, f);
          },
          tbody: function (e, t, n) {
            var i = s(n, t);
            return !i || r(i, f);
          },
          tfoot: function (e, t, n) {
            return !s(n, t);
          },
          tr: function (e, t, n) {
            var i = s(n, t);
            return !i || r(i, "tr");
          },
          td: w,
          th: w,
        });
      },
      1600: (e, t, n) => {
        "use strict";
        (t.opening = n(6014)), (t.closing = n(8639));
      },
      5254: (e) => {
        "use strict";
        e.exports = function (e) {
          return function (n, i, r) {
            var o = n.tagName;
            return !!t.call(e, o) && e[o](n, i, r);
          };
        };
        var t = {}.hasOwnProperty;
      },
      6014: (e, t, n) => {
        "use strict";
        var i = n(8145),
          r = n(8909),
          o = n(3370).b,
          s = n(4414),
          a = n(4997),
          l = n(8115),
          c = n(8639),
          u = n(5254),
          h = i("comment"),
          p = ["title", "base"],
          d = ["meta", "link", "script", "style", "template"],
          f = ["thead", "tbody"];
        e.exports = u({
          html: function (e) {
            var t = s(e);
            return !t || !h(t);
          },
          head: function (e) {
            var t,
              n,
              i = e.children,
              o = i.length,
              s = [],
              a = -1;
            for (; ++a < o; )
              if (((t = i[a]), (n = t.tagName), r(t, p))) {
                if (-1 !== s.indexOf(n)) return !1;
                s.push(n);
              }
            return 0 !== o;
          },
          body: function (e) {
            var t = s(e, !0);
            return !t || (!h(t) && !l(t) && !r(t, d));
          },
          colgroup: function (e, t, n) {
            var i = o(n, t),
              l = s(e, !0);
            if (r(i, "colgroup") && c(i, a(n, i), n)) return !1;
            return l && r(l, "col");
          },
          tbody: function (e, t, n) {
            var i = o(n, t),
              l = s(e);
            if (r(i, f) && c(i, a(n, i), n)) return !1;
            return l && r(l, "tr");
          },
        });
      },
      4414: (e, t, n) => {
        "use strict";
        var i = n(3370).e;
        e.exports = function (e, t) {
          return i(e, -1, t);
        };
      },
      4997: (e) => {
        "use strict";
        e.exports = function (e, t) {
          return e && e.children && e.children.indexOf(t);
        };
      },
      3370: (e, t, n) => {
        "use strict";
        var i = n(3560);
        function r(e) {
          return function (t, n, r) {
            var o = t && t.children,
              s = n + e,
              a = o && o[s];
            if (!r) for (; a && i(a); ) a = o[(s += e)];
            return a;
          };
        }
        (t.b = r(-1)), (t.e = r(1));
      },
      8115: (e, t, n) => {
        "use strict";
        var i = n(8145),
          r = n(3560);
        e.exports = function (e) {
          return o(e) && r(e.value.charAt(0));
        };
        var o = i("text");
      },
      1878: (e, t, n) => {
        "use strict";
        e.exports = function (e, t, n, o) {
          var s = t && t.type;
          if (!s) throw new Error("Expected node, not `" + t + "`");
          if (!i.call(r, s))
            throw new Error("Cannot compile unknown node `" + s + "`");
          return r[s](e, t, n, o);
        };
        var i = {}.hasOwnProperty,
          r = {};
        (r.root = n(5802)),
          (r.text = n(9514)),
          (r.element = n(4307)),
          (r.doctype = n(5842)),
          (r.comment = n(1928)),
          (r.raw = n(9044));
      },
      9044: (e, t, n) => {
        "use strict";
        var i = n(9514);
        e.exports = function (e, t) {
          return e.dangerous ? t.value : i(e, t);
        };
      },
      9514: (e, t, n) => {
        "use strict";
        var i = n(7529),
          r = n(4860);
        e.exports = function (e, t, n, o) {
          var s = t.value;
          return (function (e) {
            return e && ("script" === e.tagName || "style" === e.tagName);
          })(o)
            ? s
            : r(s, i(e.entities, { subset: ["<", "&"] }));
        };
      },
      3560: (e) => {
        "use strict";
        e.exports = function (e) {
          var n;
          if (e && "object" == typeof e && "text" === e.type) n = e.value || "";
          else {
            if ("string" != typeof e) return !1;
            n = e;
          }
          return "" === n.replace(t, "");
        };
        var t = /[ \t\n\f\r]/g;
      },
      4318: (e) => {
        "use strict";
        e.exports = JSON.parse(
          '["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"]'
        );
      },
      5717: (e) => {
        "function" == typeof Object.create
          ? (e.exports = function (e, t) {
              t &&
                ((e.super_ = t),
                (e.prototype = Object.create(t.prototype, {
                  constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0,
                  },
                })));
            })
          : (e.exports = function (e, t) {
              if (t) {
                e.super_ = t;
                var n = function () {};
                (n.prototype = t.prototype),
                  (e.prototype = new n()),
                  (e.prototype.constructor = e);
              }
            });
      },
      6260: (e) => {
        "use strict";
        e.exports = function (e) {
          var t = "string" == typeof e ? e.charCodeAt(0) : e;
          return (t >= 97 && t <= 122) || (t >= 65 && t <= 90);
        };
      },
      7961: (e, t, n) => {
        "use strict";
        var i = n(6260),
          r = n(6195);
        e.exports = function (e) {
          return i(e) || r(e);
        };
      },
      8738: (e) => {
        e.exports = function (e) {
          return (
            null != e &&
            null != e.constructor &&
            "function" == typeof e.constructor.isBuffer &&
            e.constructor.isBuffer(e)
          );
        };
      },
      6195: (e) => {
        "use strict";
        e.exports = function (e) {
          var t = "string" == typeof e ? e.charCodeAt(0) : e;
          return t >= 48 && t <= 57;
        };
      },
      9480: (e) => {
        "use strict";
        e.exports = function (e) {
          var t = "string" == typeof e ? e.charCodeAt(0) : e;
          return (
            (t >= 97 && t <= 102) ||
            (t >= 65 && t <= 70) ||
            (t >= 48 && t <= 57)
          );
        };
      },
      2139: (e) => {
        "use strict";
        e.exports = function (e) {
          return n.test("number" == typeof e ? t(e) : e.charAt(0));
        };
        var t = String.fromCharCode,
          n = /\s/;
      },
      3017: (e) => {
        "use strict";
        e.exports = function (e) {
          return n.test("number" == typeof e ? t(e) : e.charAt(0));
        };
        var t = String.fromCharCode,
          n = /\w/;
      },
      2123: (e) => {
        "use strict";
        e.exports = r;
        var t = [
            "\\",
            "`",
            "*",
            "{",
            "}",
            "[",
            "]",
            "(",
            ")",
            "#",
            "+",
            "-",
            ".",
            "!",
            "_",
            ">",
          ],
          n = t.concat(["~", "|"]),
          i = n.concat([
            "\n",
            '"',
            "$",
            "%",
            "&",
            "'",
            ",",
            "/",
            ":",
            ";",
            "<",
            "=",
            "?",
            "@",
            "^",
          ]);
        function r(e) {
          var r = e || {};
          return r.commonmark ? i : r.gfm ? n : t;
        }
        (r.default = t), (r.gfm = n), (r.commonmark = i);
      },
      6630: (e, t, n) => {
        "use strict";
        var i = n(2854);
        e.exports = function (e, t) {
          return (function (e) {
            return t;
            function t(t) {
              var n = t && o(t);
              return n && r.call(e, n) ? e[n] : null;
            }
          })(
            (function (e) {
              var t = {};
              if (!e || !e.type)
                throw new Error("mdast-util-definitions expected node");
              return i(e, "definition", n), t;
              function n(e) {
                var n = o(e.identifier);
                r.call(t, n) || (t[n] = e);
              }
            })(e)
          );
        };
        var r = {}.hasOwnProperty;
        function o(e) {
          return e.toUpperCase();
        }
      },
      5426: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          var n,
            r,
            o = t.children || [],
            s = o.length,
            a = [],
            l = -1;
          for (; ++l < s; )
            (n = i(e, o[l], t)) &&
              (l &&
                "break" === o[l - 1].type &&
                (n.value && (n.value = n.value.replace(/^\s+/, "")),
                (r = n.children && n.children[0]) &&
                  r.value &&
                  (r.value = r.value.replace(/^\s+/, ""))),
              (a = a.concat(n)));
          return a;
        };
        var i = n(719);
      },
      1696: (e, t, n) => {
        "use strict";
        e.exports = function (e) {
          var t,
            n,
            s,
            a,
            l = e.footnoteById,
            c = e.footnoteOrder,
            u = c.length,
            h = -1,
            p = [];
          for (; ++h < u; )
            (t = l[c[h].toUpperCase()]) &&
              ((s = t.children.concat()),
              (a = s[s.length - 1]),
              (n = {
                type: "link",
                url: "#fnref-" + t.identifier,
                data: { hProperties: { className: ["footnote-backref"] } },
                children: [{ type: "text", value: "↩" }],
              }),
              (a && "paragraph" === a.type) ||
                ((a = { type: "paragraph", children: [] }), s.push(a)),
              a.children.push(n),
              p.push({
                type: "listItem",
                data: { hProperties: { id: "fn-" + t.identifier } },
                children: s,
                position: t.position,
              }));
          if (0 === p.length) return null;
          return e(
            null,
            "div",
            { className: ["footnotes"] },
            o([i(e), r(e, { type: "list", ordered: !0, children: p })], !0)
          );
        };
        var i = n(7552),
          r = n(7888),
          o = n(6115);
      },
      4590: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          return e(t, "blockquote", i(r(e, t), !0));
        };
        var i = n(6115),
          r = n(5426);
      },
      3562: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          return [e(t, "br"), i("text", "\n")];
        };
        var i = n(914);
      },
      7891: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          var n,
            r = t.value ? t.value + "\n" : "",
            o = t.lang && t.lang.match(/^[^ \t]+(?=[ \t]|$)/),
            s = {};
          o && (s.className = ["language-" + o]);
          (n = e(t, "code", s, [i("text", r)])),
            t.meta && (n.data = { meta: t.meta });
          return e(t.position, "pre", [n]);
        };
        var i = n(914);
      },
      9381: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          return e(t, "del", i(e, t));
        };
        var i = n(5426);
      },
      790: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          return e(t, "em", i(e, t));
        };
        var i = n(5426);
      },
      8235: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          var n = e.footnoteOrder,
            r = String(t.identifier);
          -1 === n.indexOf(r) && n.push(r);
          return e(t.position, "sup", { id: "fnref-" + r }, [
            e(t, "a", { href: "#fn-" + r, className: ["footnote-ref"] }, [
              i("text", t.label || r),
            ]),
          ]);
        };
        var i = n(914);
      },
      5758: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          var n = e.footnoteById,
            r = e.footnoteOrder,
            o = 1;
          for (; o in n; ) o++;
          return (
            (o = String(o)),
            r.push(o),
            (n[o] = {
              type: "footnoteDefinition",
              identifier: o,
              children: [{ type: "paragraph", children: t.children }],
              position: t.position,
            }),
            i(e, {
              type: "footnoteReference",
              identifier: o,
              position: t.position,
            })
          );
        };
        var i = n(8235);
      },
      4890: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          return e(t, "h" + t.depth, i(e, t));
        };
        var i = n(5426);
      },
      2202: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          return e.dangerous ? e.augment(t, i("raw", t.value)) : null;
        };
        var i = n(914);
      },
      1454: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          var n,
            o = e.definition(t.identifier);
          if (!o) return r(e, t);
          (n = { src: i(o.url || ""), alt: t.alt }),
            null !== o.title && void 0 !== o.title && (n.title = o.title);
          return e(t, "img", n);
        };
        var i = n(729),
          r = n(713);
      },
      5037: (e, t, n) => {
        "use strict";
        var i = n(729);
        e.exports = function (e, t) {
          var n = { src: i(t.url), alt: t.alt };
          null !== t.title && void 0 !== t.title && (n.title = t.title);
          return e(t, "img", n);
        };
      },
      4617: (e, t, n) => {
        "use strict";
        function i() {
          return null;
        }
        e.exports = {
          blockquote: n(4590),
          break: n(3562),
          code: n(7891),
          delete: n(9381),
          emphasis: n(790),
          footnoteReference: n(8235),
          footnote: n(5758),
          heading: n(4890),
          html: n(2202),
          imageReference: n(1454),
          image: n(5037),
          inlineCode: n(8409),
          linkReference: n(9266),
          link: n(404),
          listItem: n(4463),
          list: n(7888),
          paragraph: n(8346),
          root: n(8100),
          strong: n(4970),
          table: n(2605),
          text: n(989),
          thematicBreak: n(7552),
          toml: i,
          yaml: i,
          definition: i,
          footnoteDefinition: i,
        };
      },
      8409: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          var n = t.value.replace(/\r?\n|\r/g, " ");
          return e(t, "code", [i("text", n)]);
        };
        var i = n(914);
      },
      9266: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          var n,
            s = e.definition(t.identifier);
          if (!s) return r(e, t);
          (n = { href: i(s.url || "") }),
            null !== s.title && void 0 !== s.title && (n.title = s.title);
          return e(t, "a", n, o(e, t));
        };
        var i = n(729),
          r = n(713),
          o = n(5426);
      },
      404: (e, t, n) => {
        "use strict";
        var i = n(729),
          r = n(5426);
        e.exports = function (e, t) {
          var n = { href: i(t.url) };
          null !== t.title && void 0 !== t.title && (n.title = t.title);
          return e(t, "a", n, r(e, t));
        };
      },
      4463: (e, t, n) => {
        "use strict";
        e.exports = function (e, t, n) {
          var s,
            a,
            l,
            c = r(e, t),
            u = c[0],
            h = n
              ? (function (e) {
                  var t = e.spread,
                    n = e.children,
                    i = n.length,
                    r = -1;
                  for (; !t && ++r < i; ) t = o(n[r]);
                  return t;
                })(n)
              : o(t),
            p = {},
            d = [];
          "boolean" == typeof t.checked &&
            ((u && "p" === u.tagName) || ((u = e(null, "p", [])), c.unshift(u)),
            u.children.length > 0 && u.children.unshift(i("text", " ")),
            u.children.unshift(
              e(null, "input", {
                type: "checkbox",
                checked: t.checked,
                disabled: !0,
              })
            ),
            (p.className = ["task-list-item"]));
          (s = c.length), (a = -1);
          for (; ++a < s; )
            (l = c[a]),
              (h || 0 !== a || "p" !== l.tagName) && d.push(i("text", "\n")),
              "p" !== l.tagName || h ? d.push(l) : (d = d.concat(l.children));
          s && (h || "p" !== l.tagName) && d.push(i("text", "\n"));
          return e(t, "li", p, d);
        };
        var i = n(914),
          r = n(5426);
        function o(e) {
          var t = e.spread;
          return null == t ? e.children.length > 1 : t;
        }
      },
      7888: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          var n,
            o,
            s = {},
            a = t.ordered ? "ol" : "ul",
            l = -1;
          "number" == typeof t.start && 1 !== t.start && (s.start = t.start);
          (n = r(e, t)), (o = n.length);
          for (; ++l < o; )
            if (
              n[l].properties.className &&
              -1 !== n[l].properties.className.indexOf("task-list-item")
            ) {
              s.className = ["contains-task-list"];
              break;
            }
          return e(t, a, s, i(n, !0));
        };
        var i = n(6115),
          r = n(5426);
      },
      8346: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          return e(t, "p", i(e, t));
        };
        var i = n(5426);
      },
      8100: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          return e.augment(t, i("root", r(o(e, t))));
        };
        var i = n(914),
          r = n(6115),
          o = n(5426);
      },
      4970: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          return e(t, "strong", i(e, t));
        };
        var i = n(5426);
      },
      2605: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          var n,
            s,
            a,
            l,
            c,
            u = t.children,
            h = u.length,
            p = t.align || [],
            d = p.length,
            f = [];
          for (; h--; ) {
            for (
              s = u[h].children,
                l = 0 === h ? "th" : "td",
                n = d || s.length,
                a = [];
              n--;

            )
              (c = s[n]), (a[n] = e(c, l, { align: p[n] }, c ? o(e, c) : []));
            f[h] = e(u[h], "tr", r(a, !0));
          }
          return e(
            t,
            "table",
            r(
              [e(f[0].position, "thead", r([f[0]], !0))].concat(
                f[1]
                  ? e(
                      { start: i.start(f[1]), end: i.end(f[f.length - 1]) },
                      "tbody",
                      r(f.slice(1), !0)
                    )
                  : []
              ),
              !0
            )
          );
        };
        var i = n(7361),
          r = n(6115),
          o = n(5426);
      },
      989: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          return e.augment(
            t,
            i("text", String(t.value).replace(/[ \t]*(\r?\n|\r)[ \t]*/g, "$1"))
          );
        };
        var i = n(914);
      },
      7552: (e) => {
        "use strict";
        e.exports = function (e, t) {
          return e(t, "hr");
        };
      },
      719: (e, t, n) => {
        "use strict";
        e.exports = function (e, t, n) {
          var i,
            r = t && t.type;
          if (!r) throw new Error("Expected node, got `" + t + "`");
          i = o.call(e.handlers, r)
            ? e.handlers[r]
            : e.passThrough && e.passThrough.indexOf(r) > -1
            ? a
            : e.unknownHandler;
          return ("function" == typeof i ? i : s)(e, t, n);
        };
        var i = n(914),
          r = n(5426),
          o = {}.hasOwnProperty;
        function s(e, t) {
          return (function (e) {
            var t = e.data || {};
            if (
              o.call(t, "hName") ||
              o.call(t, "hProperties") ||
              o.call(t, "hChildren")
            )
              return !1;
            return "value" in e;
          })(t)
            ? e.augment(t, i("text", t.value))
            : e(t, "div", r(e, t));
        }
        function a(e, t) {
          var n;
          return t.children
            ? (((n = Object.assign({}, t)).children = r(e, t)), n)
            : t;
        }
      },
      713: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          var n,
            o,
            s,
            a = t.referenceType,
            l = "]";
          "collapsed" === a
            ? (l += "[]")
            : "full" === a && (l += "[" + (t.label || t.identifier) + "]");
          if ("imageReference" === t.type) return i("text", "![" + t.alt + l);
          (n = r(e, t)),
            (o = n[0]) && "text" === o.type
              ? (o.value = "[" + o.value)
              : n.unshift(i("text", "["));
          (s = n[n.length - 1]) && "text" === s.type
            ? (s.value += l)
            : n.push(i("text", l));
          return n;
        };
        var i = n(914),
          r = n(5426);
      },
      6115: (e, t, n) => {
        "use strict";
        e.exports = function (e, t) {
          var n = [],
            r = -1,
            o = e.length;
          t && n.push(i("text", "\n"));
          for (; ++r < o; ) r && n.push(i("text", "\n")), n.push(e[r]);
          t && e.length > 0 && n.push(i("text", "\n"));
          return n;
        };
        var i = n(914);
      },
      729: (e) => {
        "use strict";
        var t = {};
        function n(e, i, r) {
          var o,
            s,
            a,
            l,
            c,
            u = "";
          for (
            "string" != typeof i && ((r = i), (i = n.defaultChars)),
              void 0 === r && (r = !0),
              c = (function (e) {
                var n,
                  i,
                  r = t[e];
                if (r) return r;
                for (r = t[e] = [], n = 0; n < 128; n++)
                  (i = String.fromCharCode(n)),
                    /^[0-9a-z]$/i.test(i)
                      ? r.push(i)
                      : r.push(
                          "%" + ("0" + n.toString(16).toUpperCase()).slice(-2)
                        );
                for (n = 0; n < e.length; n++) r[e.charCodeAt(n)] = e[n];
                return r;
              })(i),
              o = 0,
              s = e.length;
            o < s;
            o++
          )
            if (
              ((a = e.charCodeAt(o)),
              r &&
                37 === a &&
                o + 2 < s &&
                /^[0-9a-f]{2}$/i.test(e.slice(o + 1, o + 3)))
            )
              (u += e.slice(o, o + 3)), (o += 2);
            else if (a < 128) u += c[a];
            else if (a >= 55296 && a <= 57343) {
              if (
                a >= 55296 &&
                a <= 56319 &&
                o + 1 < s &&
                (l = e.charCodeAt(o + 1)) >= 56320 &&
                l <= 57343
              ) {
                (u += encodeURIComponent(e[o] + e[o + 1])), o++;
                continue;
              }
              u += "%EF%BF%BD";
            } else u += encodeURIComponent(e[o]);
          return u;
        }
        (n.defaultChars = ";/?:@&=+$,-_.!~*'()#"),
          (n.componentChars = "-_.!~*'()"),
          (e.exports = n);
      },
      7621: (e, t, n) => {
        "use strict";
        var i = n(3407);
        e.exports = function (e) {
          return !!r.call(i, e) && i[e];
        };
        var r = {}.hasOwnProperty;
      },
      7574: (e, t, n) => {
        "use strict";
        var i = n(6588),
          r = n(6852),
          o = n(6195),
          s = n(9480),
          a = n(7961),
          l = n(7621);
        e.exports = function (e, t) {
          var n,
            o,
            s = {};
          t || (t = {});
          for (o in p) (n = t[o]), (s[o] = null == n ? p[o] : n);
          (s.position.indent || s.position.start) &&
            ((s.indent = s.position.indent || []),
            (s.position = s.position.start));
          return (function (e, t) {
            var n,
              o,
              s,
              p,
              k,
              C,
              x,
              S,
              E,
              M,
              L,
              A,
              D,
              T,
              P,
              O,
              F,
              I,
              N,
              B = t.additional,
              R = t.nonTerminated,
              z = t.text,
              H = t.reference,
              V = t.warning,
              q = t.textContext,
              j = t.referenceContext,
              U = t.warningContext,
              W = t.position,
              _ = t.indent || [],
              G = e.length,
              K = 0,
              $ = -1,
              Y = W.column || 1,
              J = W.line || 1,
              Q = "",
              X = [];
            "string" == typeof B && (B = B.charCodeAt(0));
            (O = Z()), (S = V ? ee : h), K--, G++;
            for (; ++K < G; )
              if ((10 === k && (Y = _[$] || 1), 38 === (k = e.charCodeAt(K)))) {
                if (
                  9 === (x = e.charCodeAt(K + 1)) ||
                  10 === x ||
                  12 === x ||
                  32 === x ||
                  38 === x ||
                  60 === x ||
                  x != x ||
                  (B && x === B)
                ) {
                  (Q += u(k)), Y++;
                  continue;
                }
                for (
                  A = D = K + 1,
                    N = D,
                    35 === x
                      ? ((N = ++A),
                        88 === (x = e.charCodeAt(N)) || 120 === x
                          ? ((T = f), (N = ++A))
                          : (T = g))
                      : (T = d),
                    n = "",
                    L = "",
                    p = "",
                    P = v[T],
                    N--;
                  ++N < G && P((x = e.charCodeAt(N)));

                )
                  (p += u(x)), T === d && c.call(i, p) && ((n = p), (L = i[p]));
                (s = 59 === e.charCodeAt(N)) &&
                  (N++, (o = T === d && l(p)) && ((n = p), (L = o))),
                  (I = 1 + N - D),
                  (s || R) &&
                    (p
                      ? T === d
                        ? (s && !L
                            ? S(5, 1)
                            : (n !== p &&
                                ((I = 1 + (N = A + n.length) - A), (s = !1)),
                              s ||
                                ((E = n ? 1 : 3),
                                t.attribute
                                  ? 61 === (x = e.charCodeAt(N))
                                    ? (S(E, I), (L = null))
                                    : a(x)
                                    ? (L = null)
                                    : S(E, I)
                                  : S(E, I))),
                          (C = L))
                        : (s || S(2, I),
                          b((C = parseInt(p, m[T])))
                            ? (S(7, I), (C = u(65533)))
                            : C in r
                            ? (S(6, I), (C = r[C]))
                            : ((M = ""),
                              w(C) && S(6, I),
                              C > 65535 &&
                                ((M += u(((C -= 65536) >>> 10) | 55296)),
                                (C = 56320 | (1023 & C))),
                              (C = M + u(C))))
                      : T !== d && S(4, I)),
                  C
                    ? (te(),
                      (O = Z()),
                      (K = N - 1),
                      (Y += N - D + 1),
                      X.push(C),
                      (F = Z()).offset++,
                      H &&
                        H.call(j, C, { start: O, end: F }, e.slice(D - 1, N)),
                      (O = F))
                    : ((p = e.slice(D - 1, N)),
                      (Q += p),
                      (Y += p.length),
                      (K = N - 1));
              } else
                10 === k && (J++, $++, (Y = 0)),
                  k == k ? ((Q += u(k)), Y++) : te();
            return X.join("");
            function Z() {
              return { line: J, column: Y, offset: K + (W.offset || 0) };
            }
            function ee(e, t) {
              var n = Z();
              (n.column += t), (n.offset += t), V.call(U, y[e], n, e);
            }
            function te() {
              Q &&
                (X.push(Q),
                z && z.call(q, Q, { start: O, end: Z() }),
                (Q = ""));
            }
          })(e, s);
        };
        var c = {}.hasOwnProperty,
          u = String.fromCharCode,
          h = Function.prototype,
          p = {
            warning: null,
            reference: null,
            text: null,
            warningContext: null,
            referenceContext: null,
            textContext: null,
            position: {},
            additional: null,
            attribute: !1,
            nonTerminated: !0,
          },
          d = "named",
          f = "hexadecimal",
          g = "decimal",
          m = { hexadecimal: 16, decimal: 10 },
          v = {};
        (v.named = a), (v[g] = o), (v[f] = s);
        var y = {};
        function b(e) {
          return (e >= 55296 && e <= 57343) || e > 1114111;
        }
        function w(e) {
          return (
            (e >= 1 && e <= 8) ||
            11 === e ||
            (e >= 13 && e <= 31) ||
            (e >= 127 && e <= 159) ||
            (e >= 64976 && e <= 65007) ||
            65535 == (65535 & e) ||
            65534 == (65535 & e)
          );
        }
        (y[1] = "Named character references must be terminated by a semicolon"),
          (y[2] =
            "Numeric character references must be terminated by a semicolon"),
          (y[3] = "Named character references cannot be empty"),
          (y[4] = "Numeric character references cannot be empty"),
          (y[5] = "Named character references must be known"),
          (y[6] = "Numeric character references cannot be disallowed"),
          (y[7] =
            "Numeric character references cannot be outside the permissible Unicode range");
      },
      9560: (e, t, n) => {
        "use strict";
        var i = n(6632),
          r = n(8805),
          o = n(7643),
          s = "data";
        e.exports = function (e, t) {
          var n = i(t),
            p = t,
            d = o;
          if (n in e.normal) return e.property[e.normal[n]];
          n.length > 4 &&
            n.slice(0, 4) === s &&
            a.test(t) &&
            ("-" === t.charAt(4)
              ? (p = (function (e) {
                  var t = e.slice(5).replace(l, h);
                  return s + t.charAt(0).toUpperCase() + t.slice(1);
                })(t))
              : (t = (function (e) {
                  var t = e.slice(4);
                  if (l.test(t)) return e;
                  "-" !== (t = t.replace(c, u)).charAt(0) && (t = "-" + t);
                  return s + t;
                })(t)),
            (d = r));
          return new d(p, t);
        };
        var a = /^data[-\w.:]+$/i,
          l = /-[a-z]/g,
          c = /[A-Z]/g;
        function u(e) {
          return "-" + e.toLowerCase();
        }
        function h(e) {
          return e.charAt(1).toUpperCase();
        }
      },
      7247: (e, t, n) => {
        "use strict";
        var i = n(9940),
          r = n(8289),
          o = n(5812),
          s = n(4397),
          a = n(7716),
          l = n(1805);
        e.exports = i([o, r, s, a, l]);
      },
      7716: (e, t, n) => {
        "use strict";
        var i = n(7e3),
          r = n(7596),
          o = i.booleanish,
          s = i.number,
          a = i.spaceSeparated;
        e.exports = r({
          transform: function (e, t) {
            return "role" === t ? t : "aria-" + t.slice(4).toLowerCase();
          },
          properties: {
            ariaActiveDescendant: null,
            ariaAtomic: o,
            ariaAutoComplete: null,
            ariaBusy: o,
            ariaChecked: o,
            ariaColCount: s,
            ariaColIndex: s,
            ariaColSpan: s,
            ariaControls: a,
            ariaCurrent: null,
            ariaDescribedBy: a,
            ariaDetails: null,
            ariaDisabled: o,
            ariaDropEffect: a,
            ariaErrorMessage: null,
            ariaExpanded: o,
            ariaFlowTo: a,
            ariaGrabbed: o,
            ariaHasPopup: null,
            ariaHidden: o,
            ariaInvalid: null,
            ariaKeyShortcuts: null,
            ariaLabel: null,
            ariaLabelledBy: a,
            ariaLevel: s,
            ariaLive: null,
            ariaModal: o,
            ariaMultiLine: o,
            ariaMultiSelectable: o,
            ariaOrientation: null,
            ariaOwns: a,
            ariaPlaceholder: null,
            ariaPosInSet: s,
            ariaPressed: o,
            ariaReadOnly: o,
            ariaRelevant: null,
            ariaRequired: o,
            ariaRoleDescription: a,
            ariaRowCount: s,
            ariaRowIndex: s,
            ariaRowSpan: s,
            ariaSelected: o,
            ariaSetSize: s,
            ariaSort: null,
            ariaValueMax: s,
            ariaValueMin: s,
            ariaValueNow: s,
            ariaValueText: null,
            role: null,
          },
        });
      },
      1805: (e, t, n) => {
        "use strict";
        var i = n(7e3),
          r = n(7596),
          o = n(855),
          s = i.boolean,
          a = i.overloadedBoolean,
          l = i.booleanish,
          c = i.number,
          u = i.spaceSeparated,
          h = i.commaSeparated;
        e.exports = r({
          space: "html",
          attributes: {
            acceptcharset: "accept-charset",
            classname: "class",
            htmlfor: "for",
            httpequiv: "http-equiv",
          },
          transform: o,
          mustUseProperty: ["checked", "multiple", "muted", "selected"],
          properties: {
            abbr: null,
            accept: h,
            acceptCharset: u,
            accessKey: u,
            action: null,
            allow: null,
            allowFullScreen: s,
            allowPaymentRequest: s,
            allowUserMedia: s,
            alt: null,
            as: null,
            async: s,
            autoCapitalize: null,
            autoComplete: u,
            autoFocus: s,
            autoPlay: s,
            capture: s,
            charSet: null,
            checked: s,
            cite: null,
            className: u,
            cols: c,
            colSpan: null,
            content: null,
            contentEditable: l,
            controls: s,
            controlsList: u,
            coords: c | h,
            crossOrigin: null,
            data: null,
            dateTime: null,
            decoding: null,
            default: s,
            defer: s,
            dir: null,
            dirName: null,
            disabled: s,
            download: a,
            draggable: l,
            encType: null,
            enterKeyHint: null,
            form: null,
            formAction: null,
            formEncType: null,
            formMethod: null,
            formNoValidate: s,
            formTarget: null,
            headers: u,
            height: c,
            hidden: s,
            high: c,
            href: null,
            hrefLang: null,
            htmlFor: u,
            httpEquiv: u,
            id: null,
            imageSizes: null,
            imageSrcSet: h,
            inputMode: null,
            integrity: null,
            is: null,
            isMap: s,
            itemId: null,
            itemProp: u,
            itemRef: u,
            itemScope: s,
            itemType: u,
            kind: null,
            label: null,
            lang: null,
            language: null,
            list: null,
            loop: s,
            low: c,
            manifest: null,
            max: null,
            maxLength: c,
            media: null,
            method: null,
            min: null,
            minLength: c,
            multiple: s,
            muted: s,
            name: null,
            nonce: null,
            noModule: s,
            noValidate: s,
            onAbort: null,
            onAfterPrint: null,
            onAuxClick: null,
            onBeforePrint: null,
            onBeforeUnload: null,
            onBlur: null,
            onCancel: null,
            onCanPlay: null,
            onCanPlayThrough: null,
            onChange: null,
            onClick: null,
            onClose: null,
            onContextMenu: null,
            onCopy: null,
            onCueChange: null,
            onCut: null,
            onDblClick: null,
            onDrag: null,
            onDragEnd: null,
            onDragEnter: null,
            onDragExit: null,
            onDragLeave: null,
            onDragOver: null,
            onDragStart: null,
            onDrop: null,
            onDurationChange: null,
            onEmptied: null,
            onEnded: null,
            onError: null,
            onFocus: null,
            onFormData: null,
            onHashChange: null,
            onInput: null,
            onInvalid: null,
            onKeyDown: null,
            onKeyPress: null,
            onKeyUp: null,
            onLanguageChange: null,
            onLoad: null,
            onLoadedData: null,
            onLoadedMetadata: null,
            onLoadEnd: null,
            onLoadStart: null,
            onMessage: null,
            onMessageError: null,
            onMouseDown: null,
            onMouseEnter: null,
            onMouseLeave: null,
            onMouseMove: null,
            onMouseOut: null,
            onMouseOver: null,
            onMouseUp: null,
            onOffline: null,
            onOnline: null,
            onPageHide: null,
            onPageShow: null,
            onPaste: null,
            onPause: null,
            onPlay: null,
            onPlaying: null,
            onPopState: null,
            onProgress: null,
            onRateChange: null,
            onRejectionHandled: null,
            onReset: null,
            onResize: null,
            onScroll: null,
            onSecurityPolicyViolation: null,
            onSeeked: null,
            onSeeking: null,
            onSelect: null,
            onSlotChange: null,
            onStalled: null,
            onStorage: null,
            onSubmit: null,
            onSuspend: null,
            onTimeUpdate: null,
            onToggle: null,
            onUnhandledRejection: null,
            onUnload: null,
            onVolumeChange: null,
            onWaiting: null,
            onWheel: null,
            open: s,
            optimum: c,
            pattern: null,
            ping: u,
            placeholder: null,
            playsInline: s,
            poster: null,
            preload: null,
            readOnly: s,
            referrerPolicy: null,
            rel: u,
            required: s,
            reversed: s,
            rows: c,
            rowSpan: c,
            sandbox: u,
            scope: null,
            scoped: s,
            seamless: s,
            selected: s,
            shape: null,
            size: c,
            sizes: null,
            slot: null,
            span: c,
            spellCheck: l,
            src: null,
            srcDoc: null,
            srcLang: null,
            srcSet: h,
            start: c,
            step: null,
            style: null,
            tabIndex: c,
            target: null,
            title: null,
            translate: null,
            type: null,
            typeMustMatch: s,
            useMap: null,
            value: l,
            width: c,
            wrap: null,
            align: null,
            aLink: null,
            archive: u,
            axis: null,
            background: null,
            bgColor: null,
            border: c,
            borderColor: null,
            bottomMargin: c,
            cellPadding: null,
            cellSpacing: null,
            char: null,
            charOff: null,
            classId: null,
            clear: null,
            code: null,
            codeBase: null,
            codeType: null,
            color: null,
            compact: s,
            declare: s,
            event: null,
            face: null,
            frame: null,
            frameBorder: null,
            hSpace: c,
            leftMargin: c,
            link: null,
            longDesc: null,
            lowSrc: null,
            marginHeight: c,
            marginWidth: c,
            noResize: s,
            noHref: s,
            noShade: s,
            noWrap: s,
            object: null,
            profile: null,
            prompt: null,
            rev: null,
            rightMargin: c,
            rules: null,
            scheme: null,
            scrolling: l,
            standby: null,
            summary: null,
            text: null,
            topMargin: c,
            valueType: null,
            version: null,
            vAlign: null,
            vLink: null,
            vSpace: c,
            allowTransparency: null,
            autoCorrect: null,
            autoSave: null,
            disablePictureInPicture: s,
            disableRemotePlayback: s,
            prefix: null,
            property: null,
            results: c,
            security: null,
            unselectable: null,
          },
        });
      },
      5789: (e, t, n) => {
        "use strict";
        var i = n(7e3),
          r = n(7596),
          o = n(8740),
          s = i.boolean,
          a = i.number,
          l = i.spaceSeparated,
          c = i.commaSeparated,
          u = i.commaOrSpaceSeparated;
        e.exports = r({
          space: "svg",
          attributes: {
            accentHeight: "accent-height",
            alignmentBaseline: "alignment-baseline",
            arabicForm: "arabic-form",
            baselineShift: "baseline-shift",
            capHeight: "cap-height",
            className: "class",
            clipPath: "clip-path",
            clipRule: "clip-rule",
            colorInterpolation: "color-interpolation",
            colorInterpolationFilters: "color-interpolation-filters",
            colorProfile: "color-profile",
            colorRendering: "color-rendering",
            crossOrigin: "crossorigin",
            dataType: "datatype",
            dominantBaseline: "dominant-baseline",
            enableBackground: "enable-background",
            fillOpacity: "fill-opacity",
            fillRule: "fill-rule",
            floodColor: "flood-color",
            floodOpacity: "flood-opacity",
            fontFamily: "font-family",
            fontSize: "font-size",
            fontSizeAdjust: "font-size-adjust",
            fontStretch: "font-stretch",
            fontStyle: "font-style",
            fontVariant: "font-variant",
            fontWeight: "font-weight",
            glyphName: "glyph-name",
            glyphOrientationHorizontal: "glyph-orientation-horizontal",
            glyphOrientationVertical: "glyph-orientation-vertical",
            hrefLang: "hreflang",
            horizAdvX: "horiz-adv-x",
            horizOriginX: "horiz-origin-x",
            horizOriginY: "horiz-origin-y",
            imageRendering: "image-rendering",
            letterSpacing: "letter-spacing",
            lightingColor: "lighting-color",
            markerEnd: "marker-end",
            markerMid: "marker-mid",
            markerStart: "marker-start",
            navDown: "nav-down",
            navDownLeft: "nav-down-left",
            navDownRight: "nav-down-right",
            navLeft: "nav-left",
            navNext: "nav-next",
            navPrev: "nav-prev",
            navRight: "nav-right",
            navUp: "nav-up",
            navUpLeft: "nav-up-left",
            navUpRight: "nav-up-right",
            onAbort: "onabort",
            onActivate: "onactivate",
            onAfterPrint: "onafterprint",
            onBeforePrint: "onbeforeprint",
            onBegin: "onbegin",
            onCancel: "oncancel",
            onCanPlay: "oncanplay",
            onCanPlayThrough: "oncanplaythrough",
            onChange: "onchange",
            onClick: "onclick",
            onClose: "onclose",
            onCopy: "oncopy",
            onCueChange: "oncuechange",
            onCut: "oncut",
            onDblClick: "ondblclick",
            onDrag: "ondrag",
            onDragEnd: "ondragend",
            onDragEnter: "ondragenter",
            onDragExit: "ondragexit",
            onDragLeave: "ondragleave",
            onDragOver: "ondragover",
            onDragStart: "ondragstart",
            onDrop: "ondrop",
            onDurationChange: "ondurationchange",
            onEmptied: "onemptied",
            onEnd: "onend",
            onEnded: "onended",
            onError: "onerror",
            onFocus: "onfocus",
            onFocusIn: "onfocusin",
            onFocusOut: "onfocusout",
            onHashChange: "onhashchange",
            onInput: "oninput",
            onInvalid: "oninvalid",
            onKeyDown: "onkeydown",
            onKeyPress: "onkeypress",
            onKeyUp: "onkeyup",
            onLoad: "onload",
            onLoadedData: "onloadeddata",
            onLoadedMetadata: "onloadedmetadata",
            onLoadStart: "onloadstart",
            onMessage: "onmessage",
            onMouseDown: "onmousedown",
            onMouseEnter: "onmouseenter",
            onMouseLeave: "onmouseleave",
            onMouseMove: "onmousemove",
            onMouseOut: "onmouseout",
            onMouseOver: "onmouseover",
            onMouseUp: "onmouseup",
            onMouseWheel: "onmousewheel",
            onOffline: "onoffline",
            onOnline: "ononline",
            onPageHide: "onpagehide",
            onPageShow: "onpageshow",
            onPaste: "onpaste",
            onPause: "onpause",
            onPlay: "onplay",
            onPlaying: "onplaying",
            onPopState: "onpopstate",
            onProgress: "onprogress",
            onRateChange: "onratechange",
            onRepeat: "onrepeat",
            onReset: "onreset",
            onResize: "onresize",
            onScroll: "onscroll",
            onSeeked: "onseeked",
            onSeeking: "onseeking",
            onSelect: "onselect",
            onShow: "onshow",
            onStalled: "onstalled",
            onStorage: "onstorage",
            onSubmit: "onsubmit",
            onSuspend: "onsuspend",
            onTimeUpdate: "ontimeupdate",
            onToggle: "ontoggle",
            onUnload: "onunload",
            onVolumeChange: "onvolumechange",
            onWaiting: "onwaiting",
            onZoom: "onzoom",
            overlinePosition: "overline-position",
            overlineThickness: "overline-thickness",
            paintOrder: "paint-order",
            panose1: "panose-1",
            pointerEvents: "pointer-events",
            referrerPolicy: "referrerpolicy",
            renderingIntent: "rendering-intent",
            shapeRendering: "shape-rendering",
            stopColor: "stop-color",
            stopOpacity: "stop-opacity",
            strikethroughPosition: "strikethrough-position",
            strikethroughThickness: "strikethrough-thickness",
            strokeDashArray: "stroke-dasharray",
            strokeDashOffset: "stroke-dashoffset",
            strokeLineCap: "stroke-linecap",
            strokeLineJoin: "stroke-linejoin",
            strokeMiterLimit: "stroke-miterlimit",
            strokeOpacity: "stroke-opacity",
            strokeWidth: "stroke-width",
            tabIndex: "tabindex",
            textAnchor: "text-anchor",
            textDecoration: "text-decoration",
            textRendering: "text-rendering",
            typeOf: "typeof",
            underlinePosition: "underline-position",
            underlineThickness: "underline-thickness",
            unicodeBidi: "unicode-bidi",
            unicodeRange: "unicode-range",
            unitsPerEm: "units-per-em",
            vAlphabetic: "v-alphabetic",
            vHanging: "v-hanging",
            vIdeographic: "v-ideographic",
            vMathematical: "v-mathematical",
            vectorEffect: "vector-effect",
            vertAdvY: "vert-adv-y",
            vertOriginX: "vert-origin-x",
            vertOriginY: "vert-origin-y",
            wordSpacing: "word-spacing",
            writingMode: "writing-mode",
            xHeight: "x-height",
            playbackOrder: "playbackorder",
            timelineBegin: "timelinebegin",
          },
          transform: o,
          properties: {
            about: u,
            accentHeight: a,
            accumulate: null,
            additive: null,
            alignmentBaseline: null,
            alphabetic: a,
            amplitude: a,
            arabicForm: null,
            ascent: a,
            attributeName: null,
            attributeType: null,
            azimuth: a,
            bandwidth: null,
            baselineShift: null,
            baseFrequency: null,
            baseProfile: null,
            bbox: null,
            begin: null,
            bias: a,
            by: null,
            calcMode: null,
            capHeight: a,
            className: l,
            clip: null,
            clipPath: null,
            clipPathUnits: null,
            clipRule: null,
            color: null,
            colorInterpolation: null,
            colorInterpolationFilters: null,
            colorProfile: null,
            colorRendering: null,
            content: null,
            contentScriptType: null,
            contentStyleType: null,
            crossOrigin: null,
            cursor: null,
            cx: null,
            cy: null,
            d: null,
            dataType: null,
            defaultAction: null,
            descent: a,
            diffuseConstant: a,
            direction: null,
            display: null,
            dur: null,
            divisor: a,
            dominantBaseline: null,
            download: s,
            dx: null,
            dy: null,
            edgeMode: null,
            editable: null,
            elevation: a,
            enableBackground: null,
            end: null,
            event: null,
            exponent: a,
            externalResourcesRequired: null,
            fill: null,
            fillOpacity: a,
            fillRule: null,
            filter: null,
            filterRes: null,
            filterUnits: null,
            floodColor: null,
            floodOpacity: null,
            focusable: null,
            focusHighlight: null,
            fontFamily: null,
            fontSize: null,
            fontSizeAdjust: null,
            fontStretch: null,
            fontStyle: null,
            fontVariant: null,
            fontWeight: null,
            format: null,
            fr: null,
            from: null,
            fx: null,
            fy: null,
            g1: c,
            g2: c,
            glyphName: c,
            glyphOrientationHorizontal: null,
            glyphOrientationVertical: null,
            glyphRef: null,
            gradientTransform: null,
            gradientUnits: null,
            handler: null,
            hanging: a,
            hatchContentUnits: null,
            hatchUnits: null,
            height: null,
            href: null,
            hrefLang: null,
            horizAdvX: a,
            horizOriginX: a,
            horizOriginY: a,
            id: null,
            ideographic: a,
            imageRendering: null,
            initialVisibility: null,
            in: null,
            in2: null,
            intercept: a,
            k: a,
            k1: a,
            k2: a,
            k3: a,
            k4: a,
            kernelMatrix: u,
            kernelUnitLength: null,
            keyPoints: null,
            keySplines: null,
            keyTimes: null,
            kerning: null,
            lang: null,
            lengthAdjust: null,
            letterSpacing: null,
            lightingColor: null,
            limitingConeAngle: a,
            local: null,
            markerEnd: null,
            markerMid: null,
            markerStart: null,
            markerHeight: null,
            markerUnits: null,
            markerWidth: null,
            mask: null,
            maskContentUnits: null,
            maskUnits: null,
            mathematical: null,
            max: null,
            media: null,
            mediaCharacterEncoding: null,
            mediaContentEncodings: null,
            mediaSize: a,
            mediaTime: null,
            method: null,
            min: null,
            mode: null,
            name: null,
            navDown: null,
            navDownLeft: null,
            navDownRight: null,
            navLeft: null,
            navNext: null,
            navPrev: null,
            navRight: null,
            navUp: null,
            navUpLeft: null,
            navUpRight: null,
            numOctaves: null,
            observer: null,
            offset: null,
            onAbort: null,
            onActivate: null,
            onAfterPrint: null,
            onBeforePrint: null,
            onBegin: null,
            onCancel: null,
            onCanPlay: null,
            onCanPlayThrough: null,
            onChange: null,
            onClick: null,
            onClose: null,
            onCopy: null,
            onCueChange: null,
            onCut: null,
            onDblClick: null,
            onDrag: null,
            onDragEnd: null,
            onDragEnter: null,
            onDragExit: null,
            onDragLeave: null,
            onDragOver: null,
            onDragStart: null,
            onDrop: null,
            onDurationChange: null,
            onEmptied: null,
            onEnd: null,
            onEnded: null,
            onError: null,
            onFocus: null,
            onFocusIn: null,
            onFocusOut: null,
            onHashChange: null,
            onInput: null,
            onInvalid: null,
            onKeyDown: null,
            onKeyPress: null,
            onKeyUp: null,
            onLoad: null,
            onLoadedData: null,
            onLoadedMetadata: null,
            onLoadStart: null,
            onMessage: null,
            onMouseDown: null,
            onMouseEnter: null,
            onMouseLeave: null,
            onMouseMove: null,
            onMouseOut: null,
            onMouseOver: null,
            onMouseUp: null,
            onMouseWheel: null,
            onOffline: null,
            onOnline: null,
            onPageHide: null,
            onPageShow: null,
            onPaste: null,
            onPause: null,
            onPlay: null,
            onPlaying: null,
            onPopState: null,
            onProgress: null,
            onRateChange: null,
            onRepeat: null,
            onReset: null,
            onResize: null,
            onScroll: null,
            onSeeked: null,
            onSeeking: null,
            onSelect: null,
            onShow: null,
            onStalled: null,
            onStorage: null,
            onSubmit: null,
            onSuspend: null,
            onTimeUpdate: null,
            onToggle: null,
            onUnload: null,
            onVolumeChange: null,
            onWaiting: null,
            onZoom: null,
            opacity: null,
            operator: null,
            order: null,
            orient: null,
            orientation: null,
            origin: null,
            overflow: null,
            overlay: null,
            overlinePosition: a,
            overlineThickness: a,
            paintOrder: null,
            panose1: null,
            path: null,
            pathLength: a,
            patternContentUnits: null,
            patternTransform: null,
            patternUnits: null,
            phase: null,
            ping: l,
            pitch: null,
            playbackOrder: null,
            pointerEvents: null,
            points: null,
            pointsAtX: a,
            pointsAtY: a,
            pointsAtZ: a,
            preserveAlpha: null,
            preserveAspectRatio: null,
            primitiveUnits: null,
            propagate: null,
            property: u,
            r: null,
            radius: null,
            referrerPolicy: null,
            refX: null,
            refY: null,
            rel: u,
            rev: u,
            renderingIntent: null,
            repeatCount: null,
            repeatDur: null,
            requiredExtensions: u,
            requiredFeatures: u,
            requiredFonts: u,
            requiredFormats: u,
            resource: null,
            restart: null,
            result: null,
            rotate: null,
            rx: null,
            ry: null,
            scale: null,
            seed: null,
            shapeRendering: null,
            side: null,
            slope: null,
            snapshotTime: null,
            specularConstant: a,
            specularExponent: a,
            spreadMethod: null,
            spacing: null,
            startOffset: null,
            stdDeviation: null,
            stemh: null,
            stemv: null,
            stitchTiles: null,
            stopColor: null,
            stopOpacity: null,
            strikethroughPosition: a,
            strikethroughThickness: a,
            string: null,
            stroke: null,
            strokeDashArray: u,
            strokeDashOffset: null,
            strokeLineCap: null,
            strokeLineJoin: null,
            strokeMiterLimit: a,
            strokeOpacity: a,
            strokeWidth: null,
            style: null,
            surfaceScale: a,
            syncBehavior: null,
            syncBehaviorDefault: null,
            syncMaster: null,
            syncTolerance: null,
            syncToleranceDefault: null,
            systemLanguage: u,
            tabIndex: a,
            tableValues: null,
            target: null,
            targetX: a,
            targetY: a,
            textAnchor: null,
            textDecoration: null,
            textRendering: null,
            textLength: null,
            timelineBegin: null,
            title: null,
            transformBehavior: null,
            type: null,
            typeOf: u,
            to: null,
            transform: null,
            u1: null,
            u2: null,
            underlinePosition: a,
            underlineThickness: a,
            unicode: null,
            unicodeBidi: null,
            unicodeRange: null,
            unitsPerEm: a,
            values: null,
            vAlphabetic: a,
            vMathematical: a,
            vectorEffect: null,
            vHanging: a,
            vIdeographic: a,
            version: null,
            vertAdvY: a,
            vertOriginX: a,
            vertOriginY: a,
            viewBox: null,
            viewTarget: null,
            visibility: null,
            width: null,
            widths: null,
            wordSpacing: null,
            writingMode: null,
            x: null,
            x1: null,
            x2: null,
            xChannelSelector: null,
            xHeight: a,
            y: null,
            y1: null,
            y2: null,
            yChannelSelector: null,
            z: null,
            zoomAndPan: null,
          },
        });
      },
      855: (e, t, n) => {
        "use strict";
        var i = n(8740);
        e.exports = function (e, t) {
          return i(e, t.toLowerCase());
        };
      },
      8740: (e) => {
        "use strict";
        e.exports = function (e, t) {
          return t in e ? e[t] : t;
        };
      },
      7596: (e, t, n) => {
        "use strict";
        var i = n(6632),
          r = n(9607),
          o = n(8805);
        e.exports = function (e) {
          var t,
            n,
            s = e.space,
            a = e.mustUseProperty || [],
            l = e.attributes || {},
            c = e.properties,
            u = e.transform,
            h = {},
            p = {};
          for (t in c)
            (n = new o(t, u(l, t), c[t], s)),
              -1 !== a.indexOf(t) && (n.mustUseProperty = !0),
              (h[t] = n),
              (p[i(t)] = t),
              (p[i(n.attribute)] = t);
          return new r(h, p, s);
        };
      },
      8805: (e, t, n) => {
        "use strict";
        var i = n(7643),
          r = n(7e3);
        (e.exports = a), (a.prototype = new i()), (a.prototype.defined = !0);
        var o = [
            "boolean",
            "booleanish",
            "overloadedBoolean",
            "number",
            "commaSeparated",
            "spaceSeparated",
            "commaOrSpaceSeparated",
          ],
          s = o.length;
        function a(e, t, n, a) {
          var c,
            u = -1;
          for (l(this, "space", a), i.call(this, e, t); ++u < s; )
            l(this, (c = o[u]), (n & r[c]) === r[c]);
        }
        function l(e, t, n) {
          n && (e[t] = n);
        }
      },
      7643: (e) => {
        "use strict";
        e.exports = n;
        var t = n.prototype;
        function n(e, t) {
          (this.property = e), (this.attribute = t);
        }
        (t.space = null),
          (t.attribute = null),
          (t.property = null),
          (t.boolean = !1),
          (t.booleanish = !1),
          (t.overloadedBoolean = !1),
          (t.number = !1),
          (t.commaSeparated = !1),
          (t.spaceSeparated = !1),
          (t.commaOrSpaceSeparated = !1),
          (t.mustUseProperty = !1),
          (t.defined = !1);
      },
      9940: (e, t, n) => {
        "use strict";
        var i = n(7529),
          r = n(9607);
        e.exports = function (e) {
          var t,
            n,
            o = e.length,
            s = [],
            a = [],
            l = -1;
          for (; ++l < o; )
            (t = e[l]), s.push(t.property), a.push(t.normal), (n = t.space);
          return new r(i.apply(null, s), i.apply(null, a), n);
        };
      },
      9607: (e) => {
        "use strict";
        e.exports = n;
        var t = n.prototype;
        function n(e, t, n) {
          (this.property = e), (this.normal = t), n && (this.space = n);
        }
        (t.space = null), (t.normal = {}), (t.property = {});
      },
      7e3: (e, t) => {
        "use strict";
        var n = 0;
        function i() {
          return Math.pow(2, ++n);
        }
        (t.boolean = i()),
          (t.booleanish = i()),
          (t.overloadedBoolean = i()),
          (t.number = i()),
          (t.spaceSeparated = i()),
          (t.commaSeparated = i()),
          (t.commaOrSpaceSeparated = i());
      },
      8289: (e, t, n) => {
        "use strict";
        var i = n(7596);
        e.exports = i({
          space: "xlink",
          transform: function (e, t) {
            return "xlink:" + t.slice(5).toLowerCase();
          },
          properties: {
            xLinkActuate: null,
            xLinkArcRole: null,
            xLinkHref: null,
            xLinkRole: null,
            xLinkShow: null,
            xLinkTitle: null,
            xLinkType: null,
          },
        });
      },
      5812: (e, t, n) => {
        "use strict";
        var i = n(7596);
        e.exports = i({
          space: "xml",
          transform: function (e, t) {
            return "xml:" + t.slice(3).toLowerCase();
          },
          properties: { xmlLang: null, xmlBase: null, xmlSpace: null },
        });
      },
      4397: (e, t, n) => {
        "use strict";
        var i = n(7596),
          r = n(855);
        e.exports = i({
          space: "xmlns",
          attributes: { xmlnsxlink: "xmlns:xlink" },
          transform: r,
          properties: { xmlns: null, xmlnsXLink: null },
        });
      },
      6632: (e) => {
        "use strict";
        e.exports = function (e) {
          return e.toLowerCase();
        };
      },
      1218: (e, t, n) => {
        "use strict";
        var i = n(9940),
          r = n(8289),
          o = n(5812),
          s = n(4397),
          a = n(7716),
          l = n(5789);
        e.exports = i([o, r, s, a, l]);
      },
      6464: (e) => {
        "use strict";
        var t,
          n = "";
        e.exports = function (e, i) {
          if ("string" != typeof e) throw new TypeError("expected a string");
          if (1 === i) return e;
          if (2 === i) return e + e;
          var r = e.length * i;
          if (t !== e || void 0 === t) (t = e), (n = "");
          else if (n.length >= r) return n.substr(0, r);
          for (; r > n.length && i > 1; )
            1 & i && (n += e), (i >>= 1), (e += e);
          return (n = (n += e).substr(0, r));
        };
      },
      6582: (e, t) => {
        "use strict";
        t.P = function (e) {
          return e.join(" ").trim();
        };
        var n = /[ \t\n\r\f]+/g;
      },
      78: (e) => {
        "use strict";
        e.exports = function (e, t, n) {
          return function () {
            var i = n || this,
              r = i[e];
            return (i[e] = !t), o;
            function o() {
              i[e] = r;
            }
          };
        };
      },
      832: (e) => {
        "use strict";
        e.exports = JSON.parse(
          '["cent","copy","divide","gt","lt","not","para","times"]'
        );
      },
      4860: (e, t, n) => {
        "use strict";
        var i = n(5848),
          r = n(6588),
          o = n(9480),
          s = n(6195),
          a = n(7961),
          l = n(832);
        (e.exports = f),
          (f.escape = function (e) {
            return f(e, { escapeOnly: !0, useNamedReferences: !0 });
          });
        var c = {}.hasOwnProperty,
          u = (function () {
            var e,
              t = {};
            for (e in i) t[i[e]] = e;
            return t;
          })(),
          h = v(['"', "'", "<", ">", "&", "`"]),
          p = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
          d = /[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g;
        function f(e, t) {
          var n = t || {},
            i = n.subset,
            o = i ? v(i) : h,
            s = n.escapeOnly,
            f = n.omitOptionalSemicolons;
          return (
            (e = e.replace(o, y)),
            i || s
              ? e
              : e
                  .replace(p, function (e, t, n) {
                    return g(
                      1024 * (e.charCodeAt(0) - 55296) +
                        e.charCodeAt(1) -
                        56320 +
                        65536,
                      n.charCodeAt(t + 2),
                      f
                    );
                  })
                  .replace(d, y)
          );
          function y(e, t, i) {
            return (function (e, t, n) {
              var i,
                o,
                s,
                h,
                p = n.useShortestReferences,
                d = n.omitOptionalSemicolons;
              (p || n.useNamedReferences) &&
                c.call(u, e) &&
                (i = (function (e, t, n, i) {
                  var o = "&" + e;
                  if (
                    n &&
                    c.call(r, e) &&
                    -1 === l.indexOf(e) &&
                    (!i || (t && 61 !== t && !a(t)))
                  )
                    return o;
                  return o + ";";
                })(u[e], t, d, n.attribute));
              (!p && i) ||
                ((s = g((o = e.charCodeAt(0)), t, d)),
                p && (h = m(o, t, d)).length < s.length && (s = h));
              if (i && (!p || i.length < s.length)) return i;
              return s;
            })(e, i.charCodeAt(t + 1), n);
          }
        }
        function g(e, t, n) {
          var i = "&#x" + e.toString(16).toUpperCase();
          return n && t && !o(t) ? i : i + ";";
        }
        function m(e, t, n) {
          var i = "&#" + String(e);
          return n && t && !s(t) ? i : i + ";";
        }
        function v(e) {
          return new RegExp("[" + e.join("") + "]", "g");
        }
      },
      7257: (e) => {
        "use strict";
        e.exports = function (e) {
          var t = String(e),
            n = t.length;
          for (; "\n" === t.charAt(--n); );
          return t.slice(0, n + 1);
        };
      },
      2745: (e, t) => {
        ((t = e.exports =
          function (e) {
            return e.replace(/^\s*|\s*$/g, "");
          }).left = function (e) {
          return e.replace(/^\s*/, "");
        }),
          (t.right = function (e) {
            return e.replace(/\s*$/, "");
          });
      },
      3278: (e, t, n) => {
        "use strict";
        var i = n(7529),
          r = n(5717);
        e.exports = function (e) {
          var t, n, o;
          for (n in (r(a, e), r(s, a), (t = a.prototype)))
            (o = t[n]) &&
              "object" == typeof o &&
              (t[n] = "concat" in o ? o.concat() : i(o));
          return a;
          function s(t) {
            return e.apply(this, t);
          }
          function a() {
            return this instanceof a
              ? e.apply(this, arguments)
              : new s(arguments);
          }
        };
      },
      914: (e) => {
        "use strict";
        e.exports = function (e, t, n) {
          var i;
          null != n ||
            ("object" == typeof t && !Array.isArray(t)) ||
            ((n = t), (t = {}));
          (i = Object.assign({ type: String(e) }, t)),
            Array.isArray(n)
              ? (i.children = n)
              : null != n && (i.value = String(n));
          return i;
        };
      },
      1744: (e) => {
        "use strict";
        function t(e) {
          return e && "object" == typeof e ? e : {};
        }
        e.exports = function (e) {
          var n = t(t(e).position),
            i = t(n.start),
            r = t(n.end);
          return !(i.line && i.column && r.line && r.column);
        };
      },
      8145: (e) => {
        "use strict";
        function t(e) {
          if ("string" == typeof e)
            return (function (e) {
              return t;
              function t(t) {
                return Boolean(t && t.type === e);
              }
            })(e);
          if (null == e) return r;
          if ("object" == typeof e) return ("length" in e ? i : n)(e);
          if ("function" == typeof e) return e;
          throw new Error("Expected function, string, or object as test");
        }
        function n(e) {
          return function (t) {
            var n;
            for (n in e) if (t[n] !== e[n]) return !1;
            return !0;
          };
        }
        function i(e) {
          var n = (function (e) {
              for (var n = [], i = e.length, r = -1; ++r < i; ) n[r] = t(e[r]);
              return n;
            })(e),
            i = n.length;
          return function () {
            var e = -1;
            for (; ++e < i; ) if (n[e].apply(this, arguments)) return !0;
            return !1;
          };
        }
        function r() {
          return !0;
        }
        e.exports = t;
      },
      7361: (e) => {
        "use strict";
        var t = r("start"),
          n = r("end");
        function i(e) {
          return { start: t(e), end: n(e) };
        }
        function r(e) {
          return (t.displayName = e), t;
          function t(t) {
            var n = (t && t.position && t.position[e]) || {};
            return {
              line: n.line || null,
              column: n.column || null,
              offset: isNaN(n.offset) ? null : n.offset,
            };
          }
        }
        (e.exports = i), (i.start = t), (i.end = n);
      },
      3183: (e, t, n) => {
        "use strict";
        var i = n(2854);
        function r(e) {
          delete e.position;
        }
        function o(e) {
          e.position = void 0;
        }
        e.exports = function (e, t) {
          return i(e, t ? r : o), e;
        };
      },
      5432: (e) => {
        "use strict";
        var t = {}.hasOwnProperty;
        function n(e) {
          return (
            (e && "object" == typeof e) || (e = {}),
            r(e.line) + ":" + r(e.column)
          );
        }
        function i(e) {
          return (
            (e && "object" == typeof e) || (e = {}), n(e.start) + "-" + n(e.end)
          );
        }
        function r(e) {
          return e && "number" == typeof e ? e : 1;
        }
        e.exports = function (e) {
          if (!e || "object" != typeof e) return "";
          if (t.call(e, "position") || t.call(e, "type")) return i(e.position);
          if (t.call(e, "start") || t.call(e, "end")) return i(e);
          if (t.call(e, "line") || t.call(e, "column")) return n(e);
          return "";
        };
      },
      6750: (e) => {
        e.exports = function (e) {
          return e;
        };
      },
      9294: (e, t, n) => {
        "use strict";
        e.exports = a;
        var i = n(8145),
          r = n(6750),
          o = "skip",
          s = !1;
        function a(e, t, n, a) {
          var p;
          function d(e, i, c) {
            var f,
              g = h(e) ? e : {};
            return (
              u(g.type) &&
                ((f = u(g.tagName) ? g.tagName : u(g.name) ? g.name : void 0),
                (m.displayName =
                  "node (" + r(g.type + (f ? "<" + f + ">" : "")) + ")")),
              m
            );
            function m() {
              var r,
                u = [];
              return ((t && !p(e, i, c[c.length - 1] || null)) ||
                (u = l(n(e, c)))[0] !== s) &&
                e.children &&
                u[0] !== o &&
                (r = l(
                  (function (e, t) {
                    var n,
                      i = -1,
                      r = a ? -1 : 1,
                      o = (a ? e.length : i) + r;
                    for (; o > i && o < e.length; ) {
                      if ((n = d(e[o], o, t)())[0] === s) return n;
                      o = "number" == typeof n[1] ? n[1] : o + r;
                    }
                  })(e.children, c.concat(e))
                ))[0] === s
                ? r
                : u;
            }
          }
          c(t) && !c(n) && ((a = n), (n = t), (t = null)),
            (p = i(t)),
            d(e, null, [])();
        }
        function l(e) {
          return h(e) && "length" in e
            ? e
            : "number" == typeof e
            ? [true, e]
            : [e];
        }
        function c(e) {
          return "function" == typeof e;
        }
        function u(e) {
          return "string" == typeof e;
        }
        function h(e) {
          return "object" == typeof e && null !== e;
        }
        (a.CONTINUE = true), (a.SKIP = o), (a.EXIT = s);
      },
      2854: (e, t, n) => {
        "use strict";
        e.exports = a;
        var i = n(9294),
          r = i.CONTINUE,
          o = i.SKIP,
          s = i.EXIT;
        function a(e, t, n, r) {
          "function" == typeof t &&
            "function" != typeof n &&
            ((r = n), (n = t), (t = null)),
            i(
              e,
              t,
              function (e, t) {
                var i = t[t.length - 1],
                  r = i ? i.children.indexOf(e) : null;
                return n(e, r, i);
              },
              r
            );
        }
        (a.CONTINUE = r), (a.SKIP = o), (a.EXIT = s);
      },
      4787: (e) => {
        "use strict";
        e.exports = function (e) {
          var t = String(e),
            n = [],
            i = /\r?\n|\r/g;
          for (; i.exec(t); ) n.push(i.lastIndex);
          return (
            n.push(t.length + 1),
            {
              toPoint: r,
              toPosition: r,
              toOffset: function (e) {
                var t,
                  i = e && e.line,
                  r = e && e.column;
                isNaN(i) ||
                  isNaN(r) ||
                  !(i - 1 in n) ||
                  (t = (n[i - 2] || 0) + r - 1 || 0);
                return t > -1 && t < n[n.length - 1] ? t : -1;
              },
            }
          );
          function r(e) {
            var t = -1;
            if (e > -1 && e < n[n.length - 1])
              for (; ++t < n.length; )
                if (n[t] > e)
                  return {
                    line: t + 1,
                    column: e - (n[t - 1] || 0) + 1,
                    offset: e,
                  };
            return {};
          }
        };
      },
      734: (e, t, n) => {
        "use strict";
        var i = n(5432);
        function r() {}
        (e.exports = s),
          (r.prototype = Error.prototype),
          (s.prototype = new r());
        var o = s.prototype;
        function s(e, t, n) {
          var r, o, s;
          "string" == typeof t && ((n = t), (t = null)),
            (r = (function (e) {
              var t,
                n = [null, null];
              "string" == typeof e &&
                (-1 === (t = e.indexOf(":"))
                  ? (n[1] = e)
                  : ((n[0] = e.slice(0, t)), (n[1] = e.slice(t + 1))));
              return n;
            })(n)),
            (o = i(t) || "1:1"),
            (s = {
              start: { line: null, column: null },
              end: { line: null, column: null },
            }),
            t && t.position && (t = t.position),
            t && (t.start ? ((s = t), (t = t.start)) : (s.start = t)),
            e.stack && ((this.stack = e.stack), (e = e.message)),
            (this.message = e),
            (this.name = o),
            (this.reason = e),
            (this.line = t ? t.line : null),
            (this.column = t ? t.column : null),
            (this.location = s),
            (this.source = r[0]),
            (this.ruleId = r[1]);
        }
        (o.file = ""),
          (o.name = ""),
          (o.reason = ""),
          (o.message = ""),
          (o.stack = ""),
          (o.fatal = null),
          (o.column = null),
          (o.line = null);
      },
      939: (e, t, n) => {
        "use strict";
        e.exports = n(5905);
      },
      5442: (e, t, n) => {
        "use strict";
        var i = n(8064),
          r = n(4228),
          o = n(8738);
        e.exports = l;
        var s = {}.hasOwnProperty,
          a = ["history", "path", "basename", "stem", "extname", "dirname"];
        function l(e) {
          var t, n;
          if (e) {
            if ("string" == typeof e || o(e)) e = { contents: e };
            else if ("message" in e && "messages" in e) return e;
          } else e = {};
          if (!(this instanceof l)) return new l(e);
          for (
            this.data = {},
              this.messages = [],
              this.history = [],
              this.cwd = r.cwd(),
              n = -1;
            ++n < a.length;

          )
            (t = a[n]), s.call(e, t) && (this[t] = e[t]);
          for (t in e) a.indexOf(t) < 0 && (this[t] = e[t]);
        }
        function c(e, t) {
          if (e && e.indexOf(i.sep) > -1)
            throw new Error(
              "`" + t + "` cannot be a path: did not expect `" + i.sep + "`"
            );
        }
        function u(e, t) {
          if (!e) throw new Error("`" + t + "` cannot be empty");
        }
        function h(e, t) {
          if (!e)
            throw new Error(
              "Setting `" + t + "` requires `path` to be set too"
            );
        }
        (l.prototype.toString = function (e) {
          return (this.contents || "").toString(e);
        }),
          Object.defineProperty(l.prototype, "path", {
            get: function () {
              return this.history[this.history.length - 1];
            },
            set: function (e) {
              u(e, "path"), this.path !== e && this.history.push(e);
            },
          }),
          Object.defineProperty(l.prototype, "dirname", {
            get: function () {
              return "string" == typeof this.path
                ? i.dirname(this.path)
                : void 0;
            },
            set: function (e) {
              h(this.path, "dirname"),
                (this.path = i.join(e || "", this.basename));
            },
          }),
          Object.defineProperty(l.prototype, "basename", {
            get: function () {
              return "string" == typeof this.path
                ? i.basename(this.path)
                : void 0;
            },
            set: function (e) {
              u(e, "basename"),
                c(e, "basename"),
                (this.path = i.join(this.dirname || "", e));
            },
          }),
          Object.defineProperty(l.prototype, "extname", {
            get: function () {
              return "string" == typeof this.path
                ? i.extname(this.path)
                : void 0;
            },
            set: function (e) {
              if ((c(e, "extname"), h(this.path, "extname"), e)) {
                if (46 !== e.charCodeAt(0))
                  throw new Error("`extname` must start with `.`");
                if (e.indexOf(".", 1) > -1)
                  throw new Error("`extname` cannot contain multiple dots");
              }
              this.path = i.join(this.dirname, this.stem + (e || ""));
            },
          }),
          Object.defineProperty(l.prototype, "stem", {
            get: function () {
              return "string" == typeof this.path
                ? i.basename(this.path, this.extname)
                : void 0;
            },
            set: function (e) {
              u(e, "stem"),
                c(e, "stem"),
                (this.path = i.join(
                  this.dirname || "",
                  e + (this.extname || "")
                ));
            },
          });
      },
      5905: (e, t, n) => {
        "use strict";
        var i = n(734),
          r = n(5442);
        (e.exports = r),
          (r.prototype.message = function (e, t, n) {
            var r = new i(e, t, n);
            this.path &&
              ((r.name = this.path + ":" + r.name), (r.file = this.path));
            return (r.fatal = !1), this.messages.push(r), r;
          }),
          (r.prototype.info = function () {
            var e = this.message.apply(this, arguments);
            return (e.fatal = null), e;
          }),
          (r.prototype.fail = function () {
            var e = this.message.apply(this, arguments);
            throw ((e.fatal = !0), e);
          });
      },
      8064: (e, t) => {
        "use strict";
        function n(e) {
          var t, n;
          return (
            i(e),
            (t = 47 === e.charCodeAt(0)),
            (n = (function (e, t) {
              var n,
                i,
                r = "",
                o = 0,
                s = -1,
                a = 0,
                l = -1;
              for (; ++l <= e.length; ) {
                if (l < e.length) n = e.charCodeAt(l);
                else {
                  if (47 === n) break;
                  n = 47;
                }
                if (47 === n) {
                  if (s === l - 1 || 1 === a);
                  else if (s !== l - 1 && 2 === a) {
                    if (
                      r.length < 2 ||
                      2 !== o ||
                      46 !== r.charCodeAt(r.length - 1) ||
                      46 !== r.charCodeAt(r.length - 2)
                    )
                      if (r.length > 2) {
                        if ((i = r.lastIndexOf("/")) !== r.length - 1) {
                          i < 0
                            ? ((r = ""), (o = 0))
                            : (o =
                                (r = r.slice(0, i)).length -
                                1 -
                                r.lastIndexOf("/")),
                            (s = l),
                            (a = 0);
                          continue;
                        }
                      } else if (r.length) {
                        (r = ""), (o = 0), (s = l), (a = 0);
                        continue;
                      }
                    t && ((r = r.length ? r + "/.." : ".."), (o = 2));
                  } else
                    r.length
                      ? (r += "/" + e.slice(s + 1, l))
                      : (r = e.slice(s + 1, l)),
                      (o = l - s - 1);
                  (s = l), (a = 0);
                } else 46 === n && a > -1 ? a++ : (a = -1);
              }
              return r;
            })(e, !t)).length ||
              t ||
              (n = "."),
            n.length && 47 === e.charCodeAt(e.length - 1) && (n += "/"),
            t ? "/" + n : n
          );
        }
        function i(e) {
          if ("string" != typeof e)
            throw new TypeError(
              "Path must be a string. Received " + JSON.stringify(e)
            );
        }
        (t.basename = function (e, t) {
          var n,
            r,
            o,
            s,
            a = 0,
            l = -1;
          if (void 0 !== t && "string" != typeof t)
            throw new TypeError('"ext" argument must be a string');
          if (
            (i(e),
            (n = e.length),
            void 0 === t || !t.length || t.length > e.length)
          ) {
            for (; n--; )
              if (47 === e.charCodeAt(n)) {
                if (o) {
                  a = n + 1;
                  break;
                }
              } else l < 0 && ((o = !0), (l = n + 1));
            return l < 0 ? "" : e.slice(a, l);
          }
          if (t === e) return "";
          (r = -1), (s = t.length - 1);
          for (; n--; )
            if (47 === e.charCodeAt(n)) {
              if (o) {
                a = n + 1;
                break;
              }
            } else
              r < 0 && ((o = !0), (r = n + 1)),
                s > -1 &&
                  (e.charCodeAt(n) === t.charCodeAt(s--)
                    ? s < 0 && (l = n)
                    : ((s = -1), (l = r)));
          a === l ? (l = r) : l < 0 && (l = e.length);
          return e.slice(a, l);
        }),
          (t.dirname = function (e) {
            var t, n, r;
            if ((i(e), !e.length)) return ".";
            (t = -1), (r = e.length);
            for (; --r; )
              if (47 === e.charCodeAt(r)) {
                if (n) {
                  t = r;
                  break;
                }
              } else n || (n = !0);
            return t < 0
              ? 47 === e.charCodeAt(0)
                ? "/"
                : "."
              : 1 === t && 47 === e.charCodeAt(0)
              ? "//"
              : e.slice(0, t);
          }),
          (t.extname = function (e) {
            var t,
              n,
              r,
              o = -1,
              s = 0,
              a = -1,
              l = 0;
            i(e), (r = e.length);
            for (; r--; )
              if (47 !== (n = e.charCodeAt(r)))
                a < 0 && ((t = !0), (a = r + 1)),
                  46 === n
                    ? o < 0
                      ? (o = r)
                      : 1 !== l && (l = 1)
                    : o > -1 && (l = -1);
              else if (t) {
                s = r + 1;
                break;
              }
            if (
              o < 0 ||
              a < 0 ||
              0 === l ||
              (1 === l && o === a - 1 && o === s + 1)
            )
              return "";
            return e.slice(o, a);
          }),
          (t.join = function () {
            var e,
              t = -1;
            for (; ++t < arguments.length; )
              i(arguments[t]),
                arguments[t] &&
                  (e = void 0 === e ? arguments[t] : e + "/" + arguments[t]);
            return void 0 === e ? "." : n(e);
          }),
          (t.sep = "/");
      },
      4228: (e, t) => {
        "use strict";
        t.cwd = function () {
          return "/";
        };
      },
      7529: (e) => {
        e.exports = function () {
          for (var e = {}, n = 0; n < arguments.length; n++) {
            var i = arguments[n];
            for (var r in i) t.call(i, r) && (e[r] = i[r]);
          }
          return e;
        };
        var t = Object.prototype.hasOwnProperty;
      },
      5572: (e, t, n) => {
        "use strict";
        var i = n(3278),
          r = n(7529),
          o = n(4186);
        function s(e) {
          var t = this.data("settings"),
            n = i(o);
          (n.prototype.options = r(n.prototype.options, t, e)),
            (this.Parser = n);
        }
        (e.exports = s), (s.Parser = o);
      },
      8204: (e) => {
        "use strict";
        e.exports = [
          "address",
          "article",
          "aside",
          "base",
          "basefont",
          "blockquote",
          "body",
          "caption",
          "center",
          "col",
          "colgroup",
          "dd",
          "details",
          "dialog",
          "dir",
          "div",
          "dl",
          "dt",
          "fieldset",
          "figcaption",
          "figure",
          "footer",
          "form",
          "frame",
          "frameset",
          "h1",
          "h2",
          "h3",
          "h4",
          "h5",
          "h6",
          "head",
          "header",
          "hgroup",
          "hr",
          "html",
          "iframe",
          "legend",
          "li",
          "link",
          "main",
          "menu",
          "menuitem",
          "meta",
          "nav",
          "noframes",
          "ol",
          "optgroup",
          "option",
          "p",
          "param",
          "pre",
          "section",
          "source",
          "title",
          "summary",
          "table",
          "tbody",
          "td",
          "tfoot",
          "th",
          "thead",
          "title",
          "tr",
          "track",
          "ul",
        ];
      },
      1819: (e, t, n) => {
        "use strict";
        var i = n(7529),
          r = n(7574);
        e.exports = function (e) {
          return (
            (n.raw = function (e, n, s) {
              return r(e, i(s, { position: t(n), warning: o }));
            }),
            n
          );
          function t(t) {
            for (var n = e.offset, i = t.line, r = []; ++i && i in n; )
              r.push((n[i] || 0) + 1);
            return { start: t, indent: r };
          }
          function n(n, i, s) {
            r(n, {
              position: t(i),
              warning: o,
              text: s,
              reference: s,
              textContext: e,
              referenceContext: e,
            });
          }
          function o(t, n, i) {
            3 !== i && e.file.message(t, n);
          }
        };
      },
      3114: (e, t, n) => {
        "use strict";
        e.exports = {
          position: !0,
          gfm: !0,
          commonmark: !1,
          pedantic: !1,
          blocks: n(8204),
        };
      },
      563: (e) => {
        "use strict";
        e.exports = function (e, t) {
          var n = e.indexOf("\n", t);
          for (; n > t && " " === e.charAt(n - 1); ) n--;
          return n;
        };
      },
      6497: (e) => {
        "use strict";
        e.exports = function (e, t) {
          return e.indexOf("`", t);
        };
      },
      3723: (e) => {
        "use strict";
        e.exports = function (e, t) {
          return e.indexOf("~~", t);
        };
      },
      973: (e, t, n) => {
        "use strict";
        var i = n(6195),
          r = n(6260);
        function o(e) {
          return i(e) || r(e) || 43 === e || 45 === e || 46 === e || 95 === e;
        }
        e.exports = function e(t, n) {
          var i, r;
          if (!this.options.gfm) return -1;
          if (-1 === (i = t.indexOf("@", n))) return -1;
          if ((r = i) === n || !o(t.charCodeAt(r - 1)))
            return e.call(this, t, i + 1);
          for (; r > n && o(t.charCodeAt(r - 1)); ) r--;
          return r;
        };
      },
      2411: (e) => {
        "use strict";
        e.exports = function (e, t) {
          var n = e.indexOf("*", t),
            i = e.indexOf("_", t);
          if (-1 === i) return n;
          if (-1 === n) return i;
          return i < n ? i : n;
        };
      },
      4681: (e) => {
        "use strict";
        e.exports = function (e, t) {
          return e.indexOf("\\", t);
        };
      },
      633: (e) => {
        "use strict";
        e.exports = function (e, t) {
          var n = e.indexOf("[", t),
            i = e.indexOf("![", t);
          if (-1 === i) return n;
          return n < i ? n : i;
        };
      },
      1016: (e) => {
        "use strict";
        e.exports = function (e, t) {
          var n = e.indexOf("**", t),
            i = e.indexOf("__", t);
          if (-1 === i) return n;
          if (-1 === n) return i;
          return i < n ? i : n;
        };
      },
      46: (e) => {
        "use strict";
        e.exports = function (e, t) {
          return e.indexOf("<", t);
        };
      },
      8637: (e) => {
        "use strict";
        e.exports = function (e, n) {
          var i,
            r,
            o,
            s = -1;
          if (!this.options.gfm) return s;
          (r = t.length), (i = -1);
          for (; ++i < r; )
            -1 !== (o = e.indexOf(t[i], n)) && (-1 === s || o < s) && (s = o);
          return s;
        };
        var t = ["www.", "http://", "https://"];
      },
      4767: (e, t, n) => {
        "use strict";
        var i = n(7529),
          r = n(3183);
        e.exports = function () {
          var e,
            t = this,
            n = String(t.file),
            s = { line: 1, column: 1, offset: 0 },
            a = i(s);
          65279 === (n = n.replace(o, "\n")).charCodeAt(0) &&
            ((n = n.slice(1)), a.column++, a.offset++);
          (e = {
            type: "root",
            children: t.tokenizeBlock(n, a),
            position: { start: s, end: t.eof || i(s) },
          }),
            t.options.position || r(e, !0);
          return e;
        };
        var o = /\r\n|\r/g;
      },
      4186: (e, t, n) => {
        "use strict";
        var i = n(7529),
          r = n(78),
          o = n(4787),
          s = n(7678),
          a = n(1819),
          l = n(831);
        function c(e, t) {
          (this.file = t),
            (this.offset = {}),
            (this.options = i(this.options)),
            this.setOptions({}),
            (this.inList = !1),
            (this.inBlock = !1),
            (this.inLink = !1),
            (this.atStart = !0),
            (this.toOffset = o(t).toOffset),
            (this.unescape = s(this, "escape")),
            (this.decode = a(this));
        }
        e.exports = c;
        var u = c.prototype;
        function h(e) {
          var t,
            n = [];
          for (t in e) n.push(t);
          return n;
        }
        (u.setOptions = n(5248)),
          (u.parse = n(4767)),
          (u.options = n(3114)),
          (u.exitStart = r("atStart", !0)),
          (u.enterList = r("inList", !1)),
          (u.enterLink = r("inLink", !1)),
          (u.enterBlock = r("inBlock", !1)),
          (u.interruptParagraph = [
            ["thematicBreak"],
            ["list"],
            ["atxHeading"],
            ["fencedCode"],
            ["blockquote"],
            ["html"],
            ["setextHeading", { commonmark: !1 }],
            ["definition", { commonmark: !1 }],
          ]),
          (u.interruptList = [
            ["atxHeading", { pedantic: !1 }],
            ["fencedCode", { pedantic: !1 }],
            ["thematicBreak", { pedantic: !1 }],
            ["definition", { commonmark: !1 }],
          ]),
          (u.interruptBlockquote = [
            ["indentedCode", { commonmark: !0 }],
            ["fencedCode", { commonmark: !0 }],
            ["atxHeading", { commonmark: !0 }],
            ["setextHeading", { commonmark: !0 }],
            ["thematicBreak", { commonmark: !0 }],
            ["html", { commonmark: !0 }],
            ["list", { commonmark: !0 }],
            ["definition", { commonmark: !1 }],
          ]),
          (u.blockTokenizers = {
            blankLine: n(9269),
            indentedCode: n(6167),
            fencedCode: n(1484),
            blockquote: n(8502),
            atxHeading: n(684),
            thematicBreak: n(8352),
            list: n(2866),
            setextHeading: n(1578),
            html: n(6494),
            definition: n(7742),
            table: n(308),
            paragraph: n(7006),
          }),
          (u.inlineTokenizers = {
            escape: n(1796),
            autoLink: n(2768),
            url: n(26),
            email: n(4937),
            html: n(5810),
            link: n(7786),
            reference: n(977),
            strong: n(1248),
            emphasis: n(3391),
            deletion: n(5702),
            code: n(1243),
            break: n(4245),
            text: n(8825),
          }),
          (u.blockMethods = h(u.blockTokenizers)),
          (u.inlineMethods = h(u.inlineTokenizers)),
          (u.tokenizeBlock = l("block")),
          (u.tokenizeInline = l("inline")),
          (u.tokenizeFactory = l);
      },
      5248: (e, t, n) => {
        "use strict";
        var i = n(7529),
          r = n(2123),
          o = n(3114);
        e.exports = function (e) {
          var t,
            n,
            s = this,
            a = s.options;
          if (null == e) e = {};
          else {
            if ("object" != typeof e)
              throw new Error(
                "Invalid value `" + e + "` for setting `options`"
              );
            e = i(e);
          }
          for (t in o) {
            if (
              (null == (n = e[t]) && (n = a[t]),
              ("blocks" !== t && "boolean" != typeof n) ||
                ("blocks" === t && "object" != typeof n))
            )
              throw new Error(
                "Invalid value `" + n + "` for setting `options." + t + "`"
              );
            e[t] = n;
          }
          return (s.options = e), (s.escape = r(e)), s;
        };
      },
      2768: (e, t, n) => {
        "use strict";
        var i = n(2139),
          r = n(7574),
          o = n(46);
        (e.exports = l), (l.locator = o), (l.notInLink = !0);
        var s = "mailto:",
          a = s.length;
        function l(e, t, n) {
          var o,
            l,
            c,
            u,
            h,
            p = this,
            d = "",
            f = t.length,
            g = 0,
            m = "",
            v = !1,
            y = "";
          if ("<" === t.charAt(0)) {
            for (
              g++, d = "<";
              g < f &&
              ((o = t.charAt(g)),
              !(
                i(o) ||
                ">" === o ||
                "@" === o ||
                (":" === o && "/" === t.charAt(g + 1))
              ));

            )
              (m += o), g++;
            if (m) {
              if (((y += m), (m = ""), (y += o = t.charAt(g)), g++, "@" === o))
                v = !0;
              else {
                if (":" !== o || "/" !== t.charAt(g + 1)) return;
                (y += "/"), g++;
              }
              for (; g < f && ((o = t.charAt(g)), !i(o) && ">" !== o); )
                (m += o), g++;
              if (((o = t.charAt(g)), m && ">" === o))
                return (
                  !!n ||
                  ((c = y += m),
                  (d += y + o),
                  (l = e.now()).column++,
                  l.offset++,
                  v &&
                    (y.slice(0, a).toLowerCase() === s
                      ? ((c = c.slice(a)), (l.column += a), (l.offset += a))
                      : (y = s + y)),
                  (u = p.inlineTokenizers),
                  (p.inlineTokenizers = { text: u.text }),
                  (h = p.enterLink()),
                  (c = p.tokenizeInline(c, l)),
                  (p.inlineTokenizers = u),
                  h(),
                  e(d)({
                    type: "link",
                    title: null,
                    url: r(y, { nonTerminated: !1 }),
                    children: c,
                  }))
                );
            }
          }
        }
      },
      9269: (e) => {
        "use strict";
        var t = /^[ \t]*(\n|$)/;
        e.exports = function (e, n, i) {
          var r,
            o = "",
            s = 0,
            a = n.length;
          for (; s < a && null != (r = t.exec(n.slice(s))); )
            (s += r[0].length), (o += r[0]);
          if ("" === o) return;
          if (i) return !0;
          e(o);
        };
      },
      8502: (e, t, n) => {
        "use strict";
        var i = n(2745),
          r = n(7901);
        e.exports = function (e, t, n) {
          var o,
            s,
            a,
            l,
            c,
            u,
            h,
            p,
            d,
            f = this,
            g = f.offset,
            m = f.blockTokenizers,
            v = f.interruptBlockquote,
            y = e.now(),
            b = y.line,
            w = t.length,
            k = [],
            C = [],
            x = [],
            S = 0;
          for (; S < w && (" " === (s = t.charAt(S)) || "\t" === s); ) S++;
          if (">" !== t.charAt(S)) return;
          if (n) return !0;
          S = 0;
          for (; S < w; ) {
            for (
              l = t.indexOf("\n", S), h = S, p = !1, -1 === l && (l = w);
              S < w && (" " === (s = t.charAt(S)) || "\t" === s);

            )
              S++;
            if (
              (">" === t.charAt(S)
                ? (S++, (p = !0), " " === t.charAt(S) && S++)
                : (S = h),
              (c = t.slice(S, l)),
              !p && !i(c))
            ) {
              S = h;
              break;
            }
            if (!p && ((a = t.slice(S)), r(v, m, f, [e, a, !0]))) break;
            (u = h === S ? c : t.slice(h, l)),
              x.push(S - h),
              k.push(u),
              C.push(c),
              (S = l + 1);
          }
          (S = -1), (w = x.length), (o = e(k.join("\n")));
          for (; ++S < w; ) (g[b] = (g[b] || 0) + x[S]), b++;
          return (
            (d = f.enterBlock()),
            (C = f.tokenizeBlock(C.join("\n"), y)),
            d(),
            o({ type: "blockquote", children: C })
          );
        };
      },
      4245: (e, t, n) => {
        "use strict";
        var i = n(563);
        (e.exports = r), (r.locator = i);
        function r(e, t, n) {
          for (var i, r = t.length, o = -1, s = ""; ++o < r; ) {
            if ("\n" === (i = t.charAt(o))) {
              if (o < 2) return;
              return !!n || e((s += i))({ type: "break" });
            }
            if (" " !== i) return;
            s += i;
          }
        }
      },
      1484: (e) => {
        "use strict";
        e.exports = function (e, r, o) {
          var s,
            a,
            l,
            c,
            u,
            h,
            p,
            d,
            f,
            g,
            m,
            v,
            y,
            b = this,
            w = b.options.gfm,
            k = r.length + 1,
            C = 0,
            x = "";
          if (!w) return;
          for (; C < k && ((l = r.charAt(C)) === i || l === n); ) (x += l), C++;
          if (((v = C), "~" !== (l = r.charAt(C)) && "`" !== l)) return;
          C++, (a = l), (s = 1), (x += l);
          for (; C < k && (l = r.charAt(C)) === a; ) (x += l), s++, C++;
          if (s < 3) return;
          for (; C < k && ((l = r.charAt(C)) === i || l === n); ) (x += l), C++;
          (c = ""), (p = "");
          for (; C < k && (l = r.charAt(C)) !== t && ("`" !== a || l !== a); )
            l === i || l === n ? (p += l) : ((c += p + l), (p = "")), C++;
          if ((l = r.charAt(C)) && l !== t) return;
          if (o) return !0;
          ((y = e.now()).column += x.length),
            (y.offset += x.length),
            (x += c),
            (c = b.decode.raw(b.unescape(c), y)),
            p && (x += p);
          (p = ""), (g = ""), (m = ""), (d = ""), (f = "");
          var S = !0;
          for (; C < k; )
            if (
              ((l = r.charAt(C)),
              (d += g),
              (f += m),
              (g = ""),
              (m = ""),
              l === t)
            ) {
              for (
                S ? ((x += l), (S = !1)) : ((g += l), (m += l)), p = "", C++;
                C < k && (l = r.charAt(C)) === i;

              )
                (p += l), C++;
              if (((g += p), (m += p.slice(v)), !(p.length >= 4))) {
                for (p = ""; C < k && (l = r.charAt(C)) === a; ) (p += l), C++;
                if (((g += p), (m += p), !(p.length < s))) {
                  for (p = ""; C < k && ((l = r.charAt(C)) === i || l === n); )
                    (g += l), (m += l), C++;
                  if (!l || l === t) break;
                }
              }
            } else (d += l), (m += l), C++;
          (x += d + g), (C = -1), (k = c.length);
          for (; ++C < k; )
            if ((l = c.charAt(C)) === i || l === n) u || (u = c.slice(0, C));
            else if (u) {
              h = c.slice(C);
              break;
            }
          return e(x)({
            type: "code",
            lang: u || c || null,
            meta: h || null,
            value: f,
          });
        };
        var t = "\n",
          n = "\t",
          i = " ";
      },
      6167: (e, t, n) => {
        "use strict";
        var i = n(6464),
          r = n(7257);
        e.exports = function (e, t, n) {
          var i,
            s,
            a,
            l = -1,
            c = t.length,
            u = "",
            h = "",
            p = "",
            d = "";
          for (; ++l < c; )
            if (((i = t.charAt(l)), a))
              if (
                ((a = !1), (u += p), (h += d), (p = ""), (d = ""), "\n" === i)
              )
                (p = i), (d = i);
              else
                for (u += i, h += i; ++l < c; ) {
                  if (!(i = t.charAt(l)) || "\n" === i) {
                    (d = i), (p = i);
                    break;
                  }
                  (u += i), (h += i);
                }
            else if (
              " " === i &&
              t.charAt(l + 1) === i &&
              t.charAt(l + 2) === i &&
              t.charAt(l + 3) === i
            )
              (p += o), (l += 3), (a = !0);
            else if ("\t" === i) (p += i), (a = !0);
            else {
              for (s = ""; "\t" === i || " " === i; )
                (s += i), (i = t.charAt(++l));
              if ("\n" !== i) break;
              (p += s + i), (d += i);
            }
          if (h)
            return (
              !!n || e(u)({ type: "code", lang: null, meta: null, value: r(h) })
            );
        };
        var o = i(" ", 4);
      },
      1243: (e, t, n) => {
        "use strict";
        var i = n(6497);
        (e.exports = r), (r.locator = i);
        function r(e, t, n) {
          for (
            var i, r, o, s, a, l, c = t.length, u = 0;
            u < c && 96 === t.charCodeAt(u);

          )
            u++;
          if (0 !== u && u !== c) {
            for (i = u, a = t.charCodeAt(u); u < c; ) {
              if (((s = a), (a = t.charCodeAt(u + 1)), 96 === s)) {
                if (
                  (void 0 === r && (r = u),
                  (o = u + 1),
                  96 !== a && o - r === i)
                ) {
                  l = !0;
                  break;
                }
              } else void 0 !== r && ((r = void 0), (o = void 0));
              u++;
            }
            if (l) {
              if (n) return !0;
              if (
                ((u = i),
                (c = r),
                (s = t.charCodeAt(u)),
                (a = t.charCodeAt(c - 1)),
                (l = !1),
                c - u > 2 && (32 === s || 10 === s) && (32 === a || 10 === a))
              ) {
                for (u++, c--; u < c; ) {
                  if (32 !== (s = t.charCodeAt(u)) && 10 !== s) {
                    l = !0;
                    break;
                  }
                  u++;
                }
                !0 === l && (i++, r--);
              }
              return e(t.slice(0, o))({
                type: "inlineCode",
                value: t.slice(i, r),
              });
            }
          }
        }
      },
      7742: (e, t, n) => {
        "use strict";
        var i = n(2139),
          r = n(6749);
        e.exports = function (e, t, n) {
          var i,
            h,
            p,
            d,
            f,
            g,
            m,
            v,
            y = this,
            b = y.options.commonmark,
            w = 0,
            k = t.length,
            C = "";
          for (; w < k && ((d = t.charAt(w)) === a || d === s); ) (C += d), w++;
          if ("[" !== (d = t.charAt(w))) return;
          w++, (C += d), (p = "");
          for (; w < k && (d = t.charAt(w)) !== l; )
            "\\" === d && ((p += d), w++, (d = t.charAt(w))), (p += d), w++;
          if (!p || t.charAt(w) !== l || ":" !== t.charAt(w + 1)) return;
          (g = p), (w = (C += p + l + ":").length), (p = "");
          for (; w < k && ((d = t.charAt(w)) === s || d === a || d === o); )
            (C += d), w++;
          if (((d = t.charAt(w)), (p = ""), (i = C), "<" === d)) {
            for (w++; w < k && c((d = t.charAt(w))); ) (p += d), w++;
            if ((d = t.charAt(w)) === c.delimiter) (C += "<" + p + d), w++;
            else {
              if (b) return;
              (w -= p.length + 1), (p = "");
            }
          }
          if (!p) {
            for (; w < k && u((d = t.charAt(w))); ) (p += d), w++;
            C += p;
          }
          if (!p) return;
          (m = p), (p = "");
          for (; w < k && ((d = t.charAt(w)) === s || d === a || d === o); )
            (p += d), w++;
          (d = t.charAt(w)),
            (f = null),
            '"' === d
              ? (f = '"')
              : "'" === d
              ? (f = "'")
              : "(" === d && (f = ")");
          if (f) {
            if (!p) return;
            for (
              w = (C += p + d).length, p = "";
              w < k && (d = t.charAt(w)) !== f;

            ) {
              if (d === o) {
                if ((w++, (d = t.charAt(w)) === o || d === f)) return;
                p += o;
              }
              (p += d), w++;
            }
            if ((d = t.charAt(w)) !== f) return;
            (h = C), (C += p + d), w++, (v = p), (p = "");
          } else (p = ""), (w = C.length);
          for (; w < k && ((d = t.charAt(w)) === s || d === a); ) (C += d), w++;
          if (!(d = t.charAt(w)) || d === o)
            return (
              !!n ||
              ((i = e(i).test().end),
              (m = y.decode.raw(y.unescape(m), i, { nonTerminated: !1 })),
              v &&
                ((h = e(h).test().end), (v = y.decode.raw(y.unescape(v), h))),
              e(C)({
                type: "definition",
                identifier: r(g),
                label: g,
                title: v || null,
                url: m,
              }))
            );
        };
        var o = "\n",
          s = "\t",
          a = " ",
          l = "]";
        function c(e) {
          return ">" !== e && "[" !== e && e !== l;
        }
        function u(e) {
          return "[" !== e && e !== l && !i(e);
        }
        c.delimiter = ">";
      },
      5702: (e, t, n) => {
        "use strict";
        var i = n(2139),
          r = n(3723);
        (e.exports = s), (s.locator = r);
        var o = "~";
        function s(e, t, n) {
          var r,
            s,
            a,
            l = "",
            c = "",
            u = "",
            h = "";
          if (
            this.options.gfm &&
            t.charAt(0) === o &&
            t.charAt(1) === o &&
            !i(t.charAt(2))
          )
            for (
              r = 1, s = t.length, (a = e.now()).column += 2, a.offset += 2;
              ++r < s;

            ) {
              if (!((l = t.charAt(r)) !== o || c !== o || (u && i(u))))
                return (
                  !!n ||
                  e("~~" + h + "~~")({
                    type: "delete",
                    children: this.tokenizeInline(h, a),
                  })
                );
              (h += c), (u = c), (c = l);
            }
        }
      },
      4937: (e, t, n) => {
        "use strict";
        var i = n(7574),
          r = n(6195),
          o = n(6260),
          s = n(973);
        (e.exports = a), (a.locator = s), (a.notInLink = !0);
        function a(e, t, n) {
          var s,
            a,
            l,
            c,
            u = this,
            h = u.options.gfm,
            p = u.inlineTokenizers,
            d = 0,
            f = t.length,
            g = -1;
          if (h) {
            for (
              s = t.charCodeAt(d);
              r(s) || o(s) || 43 === s || 45 === s || 46 === s || 95 === s;

            )
              s = t.charCodeAt(++d);
            if (0 !== d && 64 === s) {
              for (
                d++;
                d < f &&
                ((s = t.charCodeAt(d)),
                r(s) || o(s) || 45 === s || 46 === s || 95 === s);

              )
                d++, -1 === g && 46 === s && (g = d);
              if (-1 !== g && g !== d && 45 !== s && 95 !== s)
                return (
                  46 === s && d--,
                  (a = t.slice(0, d)),
                  !!n ||
                    ((c = u.enterLink()),
                    (u.inlineTokenizers = { text: p.text }),
                    (l = u.tokenizeInline(a, e.now())),
                    (u.inlineTokenizers = p),
                    c(),
                    e(a)({
                      type: "link",
                      title: null,
                      url: "mailto:" + i(a, { nonTerminated: !1 }),
                      children: l,
                    }))
                );
            }
          }
        }
      },
      3391: (e, t, n) => {
        "use strict";
        var i = n(2745),
          r = n(3017),
          o = n(2139),
          s = n(2411);
        (e.exports = a), (a.locator = s);
        function a(e, t, n) {
          var s,
            a,
            l,
            c,
            u,
            h,
            p,
            d = 0,
            f = t.charAt(d);
          if (
            !(
              ("*" !== f && "_" !== f) ||
              ((a = this.options.pedantic),
              (u = f),
              (l = f),
              (h = t.length),
              d++,
              (c = ""),
              (f = ""),
              a && o(t.charAt(d)))
            )
          )
            for (; d < h; ) {
              if (((p = f), !((f = t.charAt(d)) !== l || (a && o(p))))) {
                if ((f = t.charAt(++d)) !== l) {
                  if (!i(c) || p === l) return;
                  if (!a && "_" === l && r(f)) {
                    c += l;
                    continue;
                  }
                  return (
                    !!n ||
                    ((s = e.now()).column++,
                    s.offset++,
                    e(u + c + l)({
                      type: "emphasis",
                      children: this.tokenizeInline(c, s),
                    }))
                  );
                }
                c += l;
              }
              a || "\\" !== f || ((c += f), (f = t.charAt(++d))), (c += f), d++;
            }
        }
      },
      1796: (e, t, n) => {
        "use strict";
        var i = n(4681);
        (e.exports = r), (r.locator = i);
        function r(e, t, n) {
          var i, r;
          if (
            "\\" === t.charAt(0) &&
            ((i = t.charAt(1)), -1 !== this.escape.indexOf(i))
          )
            return (
              !!n ||
              ((r =
                "\n" === i ? { type: "break" } : { type: "text", value: i }),
              e("\\" + i)(r))
            );
        }
      },
      684: (e) => {
        "use strict";
        e.exports = function (e, r, o) {
          var s,
            a,
            l,
            c = this.options.pedantic,
            u = r.length + 1,
            h = -1,
            p = e.now(),
            d = "",
            f = "";
          for (; ++h < u; ) {
            if ((s = r.charAt(h)) !== n && s !== t) {
              h--;
              break;
            }
            d += s;
          }
          l = 0;
          for (; ++h <= u; ) {
            if ((s = r.charAt(h)) !== i) {
              h--;
              break;
            }
            (d += s), l++;
          }
          if (l > 6) return;
          if (!l || (!c && r.charAt(h + 1) === i)) return;
          (u = r.length + 1), (a = "");
          for (; ++h < u; ) {
            if ((s = r.charAt(h)) !== n && s !== t) {
              h--;
              break;
            }
            a += s;
          }
          if (!c && 0 === a.length && s && "\n" !== s) return;
          if (o) return !0;
          (d += a), (a = ""), (f = "");
          for (; ++h < u && (s = r.charAt(h)) && "\n" !== s; )
            if (s === n || s === t || s === i) {
              for (; s === n || s === t; ) (a += s), (s = r.charAt(++h));
              if (c || !f || a || s !== i) {
                for (; s === i; ) (a += s), (s = r.charAt(++h));
                for (; s === n || s === t; ) (a += s), (s = r.charAt(++h));
                h--;
              } else f += s;
            } else (f += a + s), (a = "");
          return (
            (p.column += d.length),
            (p.offset += d.length),
            e((d += f + a))({
              type: "heading",
              depth: l,
              children: this.tokenizeInline(f, p),
            })
          );
        };
        var t = "\t",
          n = " ",
          i = "#";
      },
      1578: (e) => {
        "use strict";
        e.exports = function (e, t, n) {
          var i,
            r,
            o,
            s,
            a,
            l = e.now(),
            c = t.length,
            u = -1,
            h = "";
          for (; ++u < c; ) {
            if (" " !== (o = t.charAt(u)) || u >= 3) {
              u--;
              break;
            }
            h += o;
          }
          (i = ""), (r = "");
          for (; ++u < c; ) {
            if ("\n" === (o = t.charAt(u))) {
              u--;
              break;
            }
            " " === o || "\t" === o ? (r += o) : ((i += r + o), (r = ""));
          }
          if (
            ((l.column += h.length),
            (l.offset += h.length),
            (h += i + r),
            (o = t.charAt(++u)),
            (s = t.charAt(++u)),
            "\n" !== o || ("=" !== s && "-" !== s))
          )
            return;
          (h += o), (r = s), (a = "=" === s ? 1 : 2);
          for (; ++u < c; ) {
            if ((o = t.charAt(u)) !== s) {
              if ("\n" !== o) return;
              u--;
              break;
            }
            r += o;
          }
          if (n) return !0;
          return e(h + r)({
            type: "heading",
            depth: a,
            children: this.tokenizeInline(i, l),
          });
        };
      },
      6494: (e, t, n) => {
        "use strict";
        var i = n(1537).g;
        e.exports = function (e, t, n) {
          var i,
            m,
            v,
            y,
            b,
            w,
            k,
            C = this.options.blocks.join("|"),
            x = new RegExp("^</?(" + C + ")(?=(\\s|/?>|$))", "i"),
            S = t.length,
            E = 0,
            M = [
              [r, o, !0],
              [s, a, !0],
              [l, c, !0],
              [u, h, !0],
              [p, d, !0],
              [x, f, !0],
              [g, f, !1],
            ];
          for (; E < S && ("\t" === (y = t.charAt(E)) || " " === y); ) E++;
          if ("<" !== t.charAt(E)) return;
          (i = -1 === (i = t.indexOf("\n", E + 1)) ? S : i),
            (m = t.slice(E, i)),
            (v = -1),
            (b = M.length);
          for (; ++v < b; )
            if (M[v][0].test(m)) {
              w = M[v];
              break;
            }
          if (!w) return;
          if (n) return w[2];
          if (((E = i), !w[1].test(m)))
            for (; E < S; ) {
              if (
                ((i = -1 === (i = t.indexOf("\n", E + 1)) ? S : i),
                (m = t.slice(E + 1, i)),
                w[1].test(m))
              ) {
                m && (E = i);
                break;
              }
              E = i;
            }
          return (k = t.slice(0, E)), e(k)({ type: "html", value: k });
        };
        var r = /^<(script|pre|style)(?=(\s|>|$))/i,
          o = /<\/(script|pre|style)>/i,
          s = /^<!--/,
          a = /-->/,
          l = /^<\?/,
          c = /\?>/,
          u = /^<![A-Za-z]/,
          h = />/,
          p = /^<!\[CDATA\[/,
          d = /]]>/,
          f = /^$/,
          g = new RegExp(i.source + "\\s*$");
      },
      5810: (e, t, n) => {
        "use strict";
        var i = n(6260),
          r = n(46),
          o = n(1537)._;
        (e.exports = l), (l.locator = r);
        var s = /^<a /i,
          a = /^<\/a>/i;
        function l(e, t, n) {
          var r,
            l,
            c = this,
            u = t.length;
          if (
            !("<" !== t.charAt(0) || u < 3) &&
            ((r = t.charAt(1)),
            (i(r) || "?" === r || "!" === r || "/" === r) && (l = t.match(o)))
          )
            return (
              !!n ||
              ((l = l[0]),
              !c.inLink && s.test(l)
                ? (c.inLink = !0)
                : c.inLink && a.test(l) && (c.inLink = !1),
              e(l)({ type: "html", value: l }))
            );
        }
      },
      7786: (e, t, n) => {
        "use strict";
        var i = n(2139),
          r = n(633);
        (e.exports = l), (l.locator = r);
        var o = "(",
          s = ")",
          a = "\\";
        function l(e, t, n) {
          var r,
            l,
            c,
            u,
            h,
            p,
            d,
            f,
            g,
            m,
            v,
            y,
            b,
            w,
            k,
            C,
            x,
            S,
            E = this,
            M = "",
            L = 0,
            A = t.charAt(0),
            D = E.options.pedantic,
            T = E.options.commonmark,
            P = E.options.gfm;
          if (
            ("!" === A && ((f = !0), (M = A), (A = t.charAt(++L))),
            "[" === A && (f || !E.inLink))
          ) {
            for (
              M += A,
                w = "",
                L++,
                v = t.length,
                b = 0,
                (C = e.now()).column += L,
                C.offset += L;
              L < v;

            ) {
              if (((p = A = t.charAt(L)), "`" === A)) {
                for (l = 1; "`" === t.charAt(L + 1); ) (p += A), L++, l++;
                c ? l >= c && (c = 0) : (c = l);
              } else if (A === a) L++, (p += t.charAt(L));
              else if ((c && !P) || "[" !== A) {
                if ((!c || P) && "]" === A) {
                  if (!b) {
                    if (t.charAt(L + 1) !== o) return;
                    (p += o), (r = !0), L++;
                    break;
                  }
                  b--;
                }
              } else b++;
              (w += p), (p = ""), L++;
            }
            if (r) {
              for (g = w, M += w + p, L++; L < v && ((A = t.charAt(L)), i(A)); )
                (M += A), L++;
              if (((w = ""), (u = M), "<" === (A = t.charAt(L)))) {
                for (L++, u += "<"; L < v && ">" !== (A = t.charAt(L)); ) {
                  if (T && "\n" === A) return;
                  (w += A), L++;
                }
                if (">" !== t.charAt(L)) return;
                (M += "<" + w + ">"), (k = w), L++;
              } else {
                for (
                  A = null, p = "";
                  L < v &&
                  ((A = t.charAt(L)),
                  !p || !('"' === A || "'" === A || (T && A === o)));

                ) {
                  if (i(A)) {
                    if (!D) break;
                    p += A;
                  } else {
                    if (A === o) b++;
                    else if (A === s) {
                      if (0 === b) break;
                      b--;
                    }
                    (w += p),
                      (p = ""),
                      A === a && ((w += a), (A = t.charAt(++L))),
                      (w += A);
                  }
                  L++;
                }
                (k = w), (L = (M += w).length);
              }
              for (w = ""; L < v && ((A = t.charAt(L)), i(A)); ) (w += A), L++;
              if (
                ((A = t.charAt(L)),
                (M += w),
                w && ('"' === A || "'" === A || (T && A === o)))
              )
                if ((L++, (w = ""), (m = A === o ? s : A), (h = M += A), T)) {
                  for (; L < v && (A = t.charAt(L)) !== m; )
                    A === a && ((w += a), (A = t.charAt(++L))), L++, (w += A);
                  if ((A = t.charAt(L)) !== m) return;
                  for (
                    y = w, M += w + A, L++;
                    L < v && ((A = t.charAt(L)), i(A));

                  )
                    (M += A), L++;
                } else
                  for (p = ""; L < v; ) {
                    if ((A = t.charAt(L)) === m)
                      d && ((w += m + p), (p = "")), (d = !0);
                    else if (d) {
                      if (A === s) {
                        (M += w + m + p), (y = w);
                        break;
                      }
                      i(A) ? (p += A) : ((w += m + p + A), (p = ""), (d = !1));
                    } else w += A;
                    L++;
                  }
              if (t.charAt(L) === s)
                return (
                  !!n ||
                  ((M += s),
                  (k = E.decode.raw(E.unescape(k), e(u).test().end, {
                    nonTerminated: !1,
                  })),
                  y &&
                    ((h = e(h).test().end),
                    (y = E.decode.raw(E.unescape(y), h))),
                  (S = {
                    type: f ? "image" : "link",
                    title: y || null,
                    url: k,
                  }),
                  f
                    ? (S.alt = E.decode.raw(E.unescape(g), C) || null)
                    : ((x = E.enterLink()),
                      (S.children = E.tokenizeInline(g, C)),
                      x()),
                  e(M)(S))
                );
            }
          }
        }
      },
      2866: (e, t, n) => {
        "use strict";
        var i = n(2745),
          r = n(6464),
          o = n(6195),
          s = n(8930),
          a = n(9460),
          l = n(7901);
        e.exports = function (e, t, n) {
          var r,
            s,
            a,
            p,
            d,
            f,
            g,
            m,
            y,
            b,
            w,
            k,
            C,
            x,
            S,
            E,
            M,
            L,
            A,
            D,
            T,
            P,
            O,
            F = this,
            I = F.options.commonmark,
            N = F.options.pedantic,
            B = F.blockTokenizers,
            R = F.interruptList,
            z = 0,
            H = t.length,
            V = null,
            q = !1;
          for (; z < H && ((p = t.charAt(z)) === h || p === c); ) z++;
          if ("*" === (p = t.charAt(z)) || "+" === p || "-" === p)
            (d = p), (a = !1);
          else {
            for (a = !0, s = ""; z < H && ((p = t.charAt(z)), o(p)); )
              (s += p), z++;
            if (((p = t.charAt(z)), !s || !("." === p || (I && ")" === p))))
              return;
            if (n && "1" !== s) return;
            (V = parseInt(s, 10)), (d = p);
          }
          if (
            (p = t.charAt(++z)) !== c &&
            p !== h &&
            (N || (p !== u && "" !== p))
          )
            return;
          if (n) return !0;
          (z = 0), (x = []), (S = []), (E = []);
          for (; z < H; ) {
            for (
              f = t.indexOf(u, z),
                g = z,
                m = !1,
                O = !1,
                -1 === f && (f = H),
                r = 0;
              z < H;

            ) {
              if ((p = t.charAt(z)) === h) r += 4 - (r % 4);
              else {
                if (p !== c) break;
                r++;
              }
              z++;
            }
            if (
              (M && r >= M.indent && (O = !0),
              (p = t.charAt(z)),
              (y = null),
              !O)
            ) {
              if ("*" === p || "+" === p || "-" === p) (y = p), z++, r++;
              else {
                for (s = ""; z < H && ((p = t.charAt(z)), o(p)); )
                  (s += p), z++;
                (p = t.charAt(z)),
                  z++,
                  s &&
                    ("." === p || (I && ")" === p)) &&
                    ((y = p), (r += s.length + 1));
              }
              if (y)
                if ((p = t.charAt(z)) === h) (r += 4 - (r % 4)), z++;
                else if (p === c) {
                  for (P = z + 4; z < P && t.charAt(z) === c; ) z++, r++;
                  z === P && t.charAt(z) === c && ((z -= 3), (r -= 3));
                } else p !== u && "" !== p && (y = null);
            }
            if (y) {
              if (!N && d !== y) break;
              m = !0;
            } else
              I || O || t.charAt(g) !== c
                ? I && M && (O = r >= M.indent || r > 4)
                : (O = !0),
                (m = !1),
                (z = g);
            if (
              ((w = t.slice(g, f)),
              (b = g === z ? w : t.slice(z, f)),
              ("*" === y || "_" === y || "-" === y) &&
                B.thematicBreak.call(F, e, w, !0))
            )
              break;
            if (((k = C), (C = !m && !i(b).length), O && M))
              (M.value = M.value.concat(E, w)), (S = S.concat(E, w)), (E = []);
            else if (m)
              0 !== E.length &&
                ((q = !0), M.value.push(""), (M.trail = E.concat())),
                (M = { value: [w], indent: r, trail: [] }),
                x.push(M),
                (S = S.concat(E, w)),
                (E = []);
            else if (C) {
              if (k && !I) break;
              E.push(w);
            } else {
              if (k) break;
              if (l(R, B, F, [e, w, !0])) break;
              (M.value = M.value.concat(E, w)), (S = S.concat(E, w)), (E = []);
            }
            z = f + 1;
          }
          (D = e(S.join(u)).reset({
            type: "list",
            ordered: a,
            start: V,
            spread: q,
            children: [],
          })),
            (L = F.enterList()),
            (A = F.enterBlock()),
            (z = -1),
            (H = x.length);
          for (; ++z < H; )
            (M = x[z].value.join(u)),
              (T = e.now()),
              e(M)(v(F, M, T), D),
              (M = x[z].trail.join(u)),
              z !== H - 1 && (M += u),
              e(M);
          return L(), A(), D;
        };
        var c = " ",
          u = "\n",
          h = "\t",
          p = /\n\n(?!\s*$)/,
          d = /^\[(.)][ \t]/,
          f = /^([ \t]*)([*+-]|\d+[.)])( {1,4}(?! )| |\t|$|(?=\n))([^\n]*)/,
          g = /^([ \t]*)([*+-]|\d+[.)])([ \t]+)/,
          m = /^( {1,4}|\t)?/gm;
        function v(e, t, n) {
          var i,
            r,
            o = e.offset,
            s = e.options.pedantic ? y : b,
            a = null,
            l = null;
          return (
            (t = s.apply(null, arguments)),
            e.options.gfm &&
              (i = t.match(d)) &&
              ((r = i[0].length),
              (a = " " !== i[1]),
              (l = i[1]),
              (o[n.line] += r),
              (t = t.slice(r))),
            {
              type: "listItem",
              spread: p.test(t),
              checked: a,
              checklist: l,
              children: e.tokenizeBlock(t, n),
            }
          );
        }
        function y(e, t, n) {
          var i = e.offset,
            r = n.line;
          return (t = t.replace(g, o)), (r = n.line), t.replace(m, o);
          function o(e) {
            return (i[r] = (i[r] || 0) + e.length), r++, "";
          }
        }
        function b(e, t, n) {
          var i,
            o,
            l,
            h,
            p,
            d,
            g,
            m = e.offset,
            v = n.line;
          for (
            h = (t = t.replace(f, function (e, t, n, s, a) {
              (o = t + n + s),
                (l = a),
                Number(n) < 10 && o.length % 2 == 1 && (n = c + n);
              return (i = t + r(c, n.length) + s) + l;
            })).split(u),
              (p = a(t, s(i).indent).split(u))[0] = l,
              m[v] = (m[v] || 0) + o.length,
              v++,
              d = 0,
              g = h.length;
            ++d < g;

          )
            (m[v] = (m[v] || 0) + h[d].length - p[d].length), v++;
          return p.join(u);
        }
      },
      7006: (e, t, n) => {
        "use strict";
        var i = n(2745),
          r = n(7257),
          o = n(7901);
        e.exports = function (e, t, n) {
          var a,
            l,
            c,
            u,
            h,
            p = this,
            d = p.options.commonmark,
            f = p.blockTokenizers,
            g = p.interruptParagraph,
            m = t.indexOf(s),
            v = t.length;
          for (; m < v; ) {
            if (-1 === m) {
              m = v;
              break;
            }
            if (t.charAt(m + 1) === s) break;
            if (d) {
              for (u = 0, a = m + 1; a < v; ) {
                if ("\t" === (c = t.charAt(a))) {
                  u = 4;
                  break;
                }
                if (" " !== c) break;
                u++, a++;
              }
              if (u >= 4 && c !== s) {
                m = t.indexOf(s, m + 1);
                continue;
              }
            }
            if (((l = t.slice(m + 1)), o(g, f, p, [e, l, !0]))) break;
            if (
              ((a = m),
              -1 !== (m = t.indexOf(s, m + 1)) && "" === i(t.slice(a, m)))
            ) {
              m = a;
              break;
            }
          }
          if (((l = t.slice(0, m)), n)) return !0;
          return (
            (h = e.now()),
            (l = r(l)),
            e(l)({ type: "paragraph", children: p.tokenizeInline(l, h) })
          );
        };
        var s = "\n";
      },
      977: (e, t, n) => {
        "use strict";
        var i = n(2139),
          r = n(633),
          o = n(6749);
        (e.exports = h), (h.locator = r);
        var s = "link",
          a = "full",
          l = "[",
          c = "\\",
          u = "]";
        function h(e, t, n) {
          var r,
            h,
            p,
            d,
            f,
            g,
            m,
            v,
            y = this,
            b = y.options.commonmark,
            w = t.charAt(0),
            k = 0,
            C = t.length,
            x = "",
            S = "",
            E = s,
            M = "shortcut";
          if (
            ("!" === w && ((E = "image"), (S = w), (w = t.charAt(++k))),
            w === l)
          ) {
            for (k++, S += w, g = "", v = 0; k < C; ) {
              if ((w = t.charAt(k)) === l) (m = !0), v++;
              else if (w === u) {
                if (!v) break;
                v--;
              }
              w === c && ((g += c), (w = t.charAt(++k))), (g += w), k++;
            }
            if (((x = g), (r = g), (w = t.charAt(k)) === u)) {
              if ((k++, (x += w), (g = ""), !b))
                for (; k < C && ((w = t.charAt(k)), i(w)); ) (g += w), k++;
              if ((w = t.charAt(k)) === l) {
                for (
                  h = "", g += w, k++;
                  k < C && (w = t.charAt(k)) !== l && w !== u;

                )
                  w === c && ((h += c), (w = t.charAt(++k))), (h += w), k++;
                (w = t.charAt(k)) === u
                  ? ((M = h ? a : "collapsed"), (g += h + w), k++)
                  : (h = ""),
                  (x += g),
                  (g = "");
              } else {
                if (!r) return;
                h = r;
              }
              if (M === a || !m)
                return (
                  (x = S + x),
                  E === s && y.inLink
                    ? null
                    : !!n ||
                      (((p = e.now()).column += S.length),
                      (p.offset += S.length),
                      (d = {
                        type: E + "Reference",
                        identifier: o((h = M === a ? h : r)),
                        label: h,
                        referenceType: M,
                      }),
                      E === s
                        ? ((f = y.enterLink()),
                          (d.children = y.tokenizeInline(r, p)),
                          f())
                        : (d.alt = y.decode.raw(y.unescape(r), p) || null),
                      e(x)(d))
                );
            }
          }
        }
      },
      1248: (e, t, n) => {
        "use strict";
        var i = n(2745),
          r = n(2139),
          o = n(1016);
        (e.exports = s), (s.locator = o);
        function s(e, t, n) {
          var o,
            s,
            a,
            l,
            c,
            u,
            h,
            p = 0,
            d = t.charAt(p);
          if (
            !(
              ("*" !== d && "_" !== d) ||
              t.charAt(++p) !== d ||
              ((s = this.options.pedantic),
              (c = (a = d) + a),
              (u = t.length),
              p++,
              (l = ""),
              (d = ""),
              s && r(t.charAt(p)))
            )
          )
            for (; p < u; ) {
              if (
                ((h = d),
                !(
                  (d = t.charAt(p)) !== a ||
                  t.charAt(p + 1) !== a ||
                  (s && r(h))
                ) && (d = t.charAt(p + 2)) !== a)
              ) {
                if (!i(l)) return;
                return (
                  !!n ||
                  (((o = e.now()).column += 2),
                  (o.offset += 2),
                  e(c + l + c)({
                    type: "strong",
                    children: this.tokenizeInline(l, o),
                  }))
                );
              }
              s || "\\" !== d || ((l += d), (d = t.charAt(++p))), (l += d), p++;
            }
        }
      },
      308: (e, t, n) => {
        "use strict";
        var i = n(2139);
        e.exports = function (e, t, n) {
          var s, a, l, c, u, h, p, d, f, g, m, v, y, b, w, k, C, x, S, E, M, L;
          if (!this.options.gfm) return;
          (s = 0), (k = 0), (h = t.length + 1), (p = []);
          for (; s < h; ) {
            if (
              ((E = t.indexOf(r, s)),
              (M = t.indexOf("|", s + 1)),
              -1 === E && (E = t.length),
              -1 === M || M > E)
            ) {
              if (k < 2) return;
              break;
            }
            p.push(t.slice(s, E)), k++, (s = E + 1);
          }
          (c = p.join(r)),
            (a = p.splice(1, 1)[0] || []),
            (s = 0),
            (h = a.length),
            k--,
            (l = !1),
            (m = []);
          for (; s < h; ) {
            if ("|" === (f = a.charAt(s))) {
              if (((g = null), !1 === l)) {
                if (!1 === L) return;
              } else m.push(l), (l = !1);
              L = !1;
            } else if ("-" === f) (g = !0), (l = l || null);
            else if (":" === f)
              l = l === o ? "center" : g && null === l ? "right" : o;
            else if (!i(f)) return;
            s++;
          }
          !1 !== l && m.push(l);
          if (m.length < 1) return;
          if (n) return !0;
          (w = -1),
            (x = []),
            (S = e(c).reset({ type: "table", align: m, children: x }));
          for (; ++w < k; ) {
            for (
              C = p[w],
                u = { type: "tableRow", children: [] },
                w && e(r),
                e(C).reset(u, S),
                h = C.length + 1,
                s = 0,
                d = "",
                v = "",
                y = !0;
              s < h;

            )
              "\t" !== (f = C.charAt(s)) && " " !== f
                ? ("" === f || "|" === f
                    ? y
                      ? e(f)
                      : ((!v && !f) ||
                          y ||
                          ((c = v),
                          d.length > 1 &&
                            (f
                              ? ((c += d.slice(0, -1)),
                                (d = d.charAt(d.length - 1)))
                              : ((c += d), (d = ""))),
                          (b = e.now()),
                          e(c)(
                            {
                              type: "tableCell",
                              children: this.tokenizeInline(v, b),
                            },
                            u
                          )),
                        e(d + f),
                        (d = ""),
                        (v = ""))
                    : (d && ((v += d), (d = "")),
                      (v += f),
                      "\\" === f &&
                        s !== h - 2 &&
                        ((v += C.charAt(s + 1)), s++)),
                  (y = !1),
                  s++)
                : (v ? (d += f) : e(f), s++);
            w || e(r + a);
          }
          return S;
        };
        var r = "\n",
          o = "left";
      },
      8825: (e) => {
        "use strict";
        e.exports = function (e, t, n) {
          var i,
            r,
            o,
            s,
            a,
            l,
            c,
            u,
            h,
            p,
            d = this;
          if (n) return !0;
          (i = d.inlineMethods),
            (s = i.length),
            (r = d.inlineTokenizers),
            (o = -1),
            (h = t.length);
          for (; ++o < s; )
            "text" !== (u = i[o]) &&
              r[u] &&
              ((c = r[u].locator) ||
                e.file.fail("Missing locator: `" + u + "`"),
              -1 !== (l = c.call(d, t, 1)) && l < h && (h = l));
          (a = t.slice(0, h)),
            (p = e.now()),
            d.decode(a, p, function (t, n, i) {
              e(i || t)({ type: "text", value: t });
            });
        };
      },
      8352: (e) => {
        "use strict";
        e.exports = function (e, t, n) {
          var i,
            r,
            o,
            s,
            a = -1,
            l = t.length + 1,
            c = "";
          for (; ++a < l && ("\t" === (i = t.charAt(a)) || " " === i); ) c += i;
          if ("*" !== i && "-" !== i && "_" !== i) return;
          (r = i), (c += i), (o = 1), (s = "");
          for (; ++a < l; )
            if ((i = t.charAt(a)) === r) o++, (c += s + r), (s = "");
            else {
              if (" " !== i)
                return o >= 3 && (!i || "\n" === i)
                  ? ((c += s), !!n || e(c)({ type: "thematicBreak" }))
                  : void 0;
              s += i;
            }
        };
      },
      26: (e, t, n) => {
        "use strict";
        var i = n(932),
          r = n(7574),
          o = n(6195),
          s = n(6260),
          a = n(2139),
          l = n(8637);
        (e.exports = c), (c.locator = l), (c.notInLink = !0);
        function c(e, t, n) {
          var l,
            c,
            u,
            h,
            p,
            d,
            f,
            g,
            m,
            v,
            y,
            b,
            w,
            k,
            C = this,
            x = C.options.gfm,
            S = C.inlineTokenizers,
            E = t.length,
            M = -1,
            L = !1;
          if (x) {
            if ("www." === t.slice(0, 4)) (L = !0), (h = 4);
            else if ("http://" === t.slice(0, 7).toLowerCase()) h = 7;
            else {
              if ("https://" !== t.slice(0, 8).toLowerCase()) return;
              h = 8;
            }
            for (M = h - 1, u = h, l = []; h < E; )
              if (46 !== (f = t.charCodeAt(h))) {
                if (!o(f) && !s(f) && 45 !== f && 95 !== f) break;
                h++;
              } else {
                if (M === h - 1) break;
                l.push(h), (M = h), h++;
              }
            if (
              (46 === f && (l.pop(), h--),
              void 0 !== l[0] &&
                ((c = l.length < 2 ? u : l[l.length - 2] + 1),
                -1 === t.slice(c, h).indexOf("_")))
            ) {
              if (n) return !0;
              for (
                g = h, p = h;
                h < E && ((f = t.charCodeAt(h)), !a(f) && 60 !== f);

              )
                h++,
                  33 === f ||
                    42 === f ||
                    44 === f ||
                    46 === f ||
                    58 === f ||
                    63 === f ||
                    95 === f ||
                    126 === f ||
                    (g = h);
              if (((h = g), 41 === t.charCodeAt(h - 1)))
                for (d = t.slice(p, h), m = i(d, "("), v = i(d, ")"); v > m; )
                  (h = p + d.lastIndexOf(")")), (d = t.slice(p, h)), v--;
              if (59 === t.charCodeAt(h - 1) && (h--, s(t.charCodeAt(h - 1)))) {
                for (g = h - 2; s(t.charCodeAt(g)); ) g--;
                38 === t.charCodeAt(g) && (h = g);
              }
              return (
                (y = t.slice(0, h)),
                (w = r(y, { nonTerminated: !1 })),
                L && (w = "http://" + w),
                (k = C.enterLink()),
                (C.inlineTokenizers = { text: S.text }),
                (b = C.tokenizeInline(y, e.now())),
                (C.inlineTokenizers = S),
                k(),
                e(y)({ type: "link", title: null, url: w, children: b })
              );
            }
          }
        }
      },
      831: (e) => {
        "use strict";
        function t(e) {
          var t, n;
          return (
            "text" !== e.type ||
            !e.position ||
            ((t = e.position.start),
            (n = e.position.end),
            t.line !== n.line || n.column - t.column === e.value.length)
          );
        }
        function n(e, t) {
          return (e.value += t.value), e;
        }
        function i(e, t) {
          return this.options.commonmark || this.options.gfm
            ? t
            : ((e.children = e.children.concat(t.children)), e);
        }
        e.exports = function (e) {
          return function (r, o) {
            var s,
              a,
              l,
              c,
              u,
              h = this,
              p = h.offset,
              d = [],
              f = h[e + "Methods"],
              g = h[e + "Tokenizers"],
              m = o.line,
              v = o.column;
            if (!r) return d;
            (E.now = w), (E.file = h.file), y("");
            for (; r; ) {
              for (
                s = -1, a = f.length, c = !1;
                ++s < a &&
                (!(l = g[f[s]]) ||
                  (l.onlyAtStart && !h.atStart) ||
                  (l.notInList && h.inList) ||
                  (l.notInBlock && h.inBlock) ||
                  (l.notInLink && h.inLink) ||
                  ((u = r.length), l.apply(h, [E, r]), !(c = u !== r.length)));

              );
              c || h.file.fail(new Error("Infinite loop"), E.now());
            }
            return (h.eof = w()), d;
            function y(e) {
              for (var t = -1, n = e.indexOf("\n"); -1 !== n; )
                m++, (t = n), (n = e.indexOf("\n", n + 1));
              -1 === t ? (v += e.length) : (v = e.length - t),
                m in p &&
                  (-1 !== t ? (v += p[m]) : v <= p[m] && (v = p[m] + 1));
            }
            function b() {
              var e = [],
                t = m + 1;
              return function () {
                for (var n = m + 1; t < n; ) e.push((p[t] || 0) + 1), t++;
                return e;
              };
            }
            function w() {
              var e = { line: m, column: v };
              return (e.offset = h.toOffset(e)), e;
            }
            function k(e) {
              (this.start = e), (this.end = w());
            }
            function C(e) {
              r.slice(0, e.length) !== e &&
                h.file.fail(
                  new Error(
                    "Incorrectly eaten value: please report this warning on https://git.io/vg5Ft"
                  ),
                  w()
                );
            }
            function x() {
              var e = w();
              return t;
              function t(t, n) {
                var i = t.position,
                  r = i ? i.start : e,
                  o = [],
                  s = i && i.end.line,
                  a = e.line;
                if (((t.position = new k(r)), i && n && i.indent)) {
                  if (((o = i.indent), s < a)) {
                    for (; ++s < a; ) o.push((p[s] || 0) + 1);
                    o.push(e.column);
                  }
                  n = o.concat(n);
                }
                return (t.position.indent = n || []), t;
              }
            }
            function S(e, r) {
              var o = r ? r.children : d,
                s = o[o.length - 1];
              return (
                s &&
                  e.type === s.type &&
                  ("text" === e.type || "blockquote" === e.type) &&
                  t(s) &&
                  t(e) &&
                  (e = ("text" === e.type ? n : i).call(h, s, e)),
                e !== s && o.push(e),
                h.atStart && 0 !== d.length && h.exitStart(),
                e
              );
            }
            function E(e) {
              var t = b(),
                n = x(),
                i = w();
              return (
                C(e),
                (o.reset = s),
                (s.test = a),
                (o.test = a),
                (r = r.slice(e.length)),
                y(e),
                (t = t()),
                o
              );
              function o(e, i) {
                return n(S(n(e), i), t);
              }
              function s() {
                var t = o.apply(null, arguments);
                return (m = i.line), (v = i.column), (r = e + r), t;
              }
              function a() {
                var t = n({});
                return (m = i.line), (v = i.column), (r = e + r), t.position;
              }
            }
          };
        };
      },
      7678: (e) => {
        "use strict";
        e.exports = function (e, n) {
          return function (i) {
            var r,
              o = 0,
              s = i.indexOf(t),
              a = e[n],
              l = [];
            for (; -1 !== s; )
              l.push(i.slice(o, s)),
                (o = s + 1),
                ((r = i.charAt(o)) && -1 !== a.indexOf(r)) || l.push(t),
                (s = i.indexOf(t, o + 1));
            return l.push(i.slice(o)), l.join("");
          };
        };
        var t = "\\";
      },
      8930: (e) => {
        "use strict";
        e.exports = function (e) {
          var t,
            n = 0,
            i = 0,
            r = e.charAt(n),
            o = {},
            s = 0;
          for (; "\t" === r || " " === r; ) {
            for (
              i += t = "\t" === r ? 4 : 1, t > 1 && (i = Math.floor(i / t) * t);
              s < i;

            )
              o[++s] = n;
            r = e.charAt(++n);
          }
          return { indent: i, stops: o };
        };
      },
      1537: (e, t) => {
        "use strict";
        var n =
            "<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\u0000-\\u0020]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",
          i = "<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>";
        (t.g = new RegExp("^(?:" + n + "|" + i + ")")),
          (t._ = new RegExp(
            "^(?:" +
              n +
              "|" +
              i +
              "|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Za-z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"
          ));
      },
      7901: (e) => {
        "use strict";
        e.exports = function (e, t, n, i) {
          var r,
            o,
            s = e.length,
            a = -1;
          for (; ++a < s; )
            if (
              ((r = e[a]),
              (void 0 === (o = r[1] || {}).pedantic ||
                o.pedantic === n.options.pedantic) &&
                (void 0 === o.commonmark ||
                  o.commonmark === n.options.commonmark) &&
                t[r[0]].apply(n, i))
            )
              return !0;
          return !1;
        };
      },
      6749: (e, t, n) => {
        "use strict";
        var i = n(9357);
        e.exports = function (e) {
          return i(e).toLowerCase();
        };
      },
      9460: (e, t, n) => {
        "use strict";
        var i = n(2745),
          r = n(6464),
          o = n(8930);
        e.exports = function (e, t) {
          var n,
            s,
            a,
            l = e.split("\n"),
            c = l.length + 1,
            u = 1 / 0,
            h = [];
          l.unshift(r(" ", t) + "!");
          for (; c--; )
            if (((s = o(l[c])), (h[c] = s.stops), 0 !== i(l[c]).length)) {
              if (!s.indent) {
                u = 1 / 0;
                break;
              }
              s.indent > 0 && s.indent < u && (u = s.indent);
            }
          if (u !== 1 / 0)
            for (c = l.length; c--; ) {
              for (a = h[c], n = u; n && !(n in a); ) n--;
              l[c] = l[c].slice(a[n] + 1);
            }
          return l.shift(), l.join("\n");
        };
      },
    },
    t = {};
  function n(i) {
    var r = t[i];
    if (void 0 !== r) return r.exports;
    var o = (t[i] = { exports: {} });
    return e[i](o, o.exports, n), o.exports;
  }
  (n.n = (e) => {
    var t = e && e.__esModule ? () => e.default : () => e;
    return n.d(t, { a: t }), t;
  }),
    (n.d = (e, t) => {
      for (var i in t)
        n.o(t, i) &&
          !n.o(e, i) &&
          Object.defineProperty(e, i, { enumerable: !0, get: t[i] });
    }),
    (n.g = (function () {
      if ("object" == typeof globalThis) return globalThis;
      try {
        return this || new Function("return this")();
      } catch (e) {
        if ("object" == typeof window) return window;
      }
    })()),
    (n.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t)),
    (n.r = (e) => {
      "undefined" != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }),
        Object.defineProperty(e, "__esModule", { value: !0 });
    }),
    (() => {
      "use strict";
      var e = {};
      n.r(e),
        n.d(e, {
          DefaultBufferLength: () => On,
          MountedTree: () => Bn,
          NodeProp: () => Nn,
          NodeSet: () => Hn,
          NodeType: () => zn,
          Parser: () => oi,
          Tree: () => jn,
          TreeBuffer: () => Wn,
          TreeCursor: () => Xn,
          TreeFragment: () => ri,
          parseMixed: () => ai,
        });
      var t = {};
      n.r(t),
        n.d(t, {
          Line: () => qi,
          Text: () => Fi,
          codePointAt: () => Ai,
          codePointSize: () => Ti,
          countColumn: () => Pi,
          findClusterBreak: () => xi,
          findColumn: () => Oi,
          fromCodePoint: () => Di,
        });
      var i = {};
      n.r(i),
        n.d(i, {
          Annotation: () => Dr,
          AnnotationType: () => Tr,
          ChangeDesc: () => Wi,
          ChangeSet: () => _i,
          CharCategory: () => qr,
          Compartment: () => vr,
          EditorSelection: () => Zi,
          EditorState: () => Wr,
          Facet: () => ir,
          MapMode: () => Ui,
          Prec: () => gr,
          SelectionRange: () => Xi,
          StateEffect: () => Or,
          StateEffectType: () => Pr,
          StateField: () => lr,
          Text: () => Fi,
          Transaction: () => Fr,
          combineConfig: () => _r,
        });
      var r = {};
      n.r(r),
        n.d(r, {
          Range: () => Zr,
          RangeSet: () => no,
          RangeSetBuilder: () => io,
          RangeValue: () => Xr,
        });
      var o = {};
      n.r(o),
        n.d(o, {
          BidiSpan: () => ka,
          BlockInfo: () => bl,
          BlockType: () => Cs,
          Decoration: () => xs,
          Direction: () => sa,
          EditorView: () => Zl,
          MatchDecorator: () => Tc,
          PluginField: () => $s,
          PluginFieldProvider: () => Ks,
          Range: () => Zr,
          ViewPlugin: () => Qs,
          ViewUpdate: () => oa,
          WidgetType: () => ks,
          __test: () => Kc,
          drawSelection: () => mc,
          dropCursor: () => Ac,
          highlightActiveLine: () => jc,
          highlightSpecialChars: () => Bc,
          keymap: () => lc,
          logException: () => _s,
          placeholder: () => Gc,
          runScopeHandlers: () => hc,
          scrollPastEnd: () => qc,
        });
      var s = {};
      n.r(s),
        n.d(s, {
          IndentContext: () => yu,
          LRLanguage: () => Xc,
          Language: () => Jc,
          LanguageDescription: () => pu,
          LanguageSupport: () => hu,
          ParseContext: () => ou,
          TreeIndentContext: () => xu,
          continuedIndent: () => Au,
          defineLanguageFacet: () => Yc,
          delimitedIndent: () => Eu,
          ensureSyntaxTree: () => eu,
          flatIndent: () => Lu,
          foldInside: () => Ou,
          foldNodeProp: () => Pu,
          foldService: () => Tu,
          foldable: () => Fu,
          getIndentUnit: () => gu,
          getIndentation: () => vu,
          indentNodeProp: () => bu,
          indentOnInput: () => Du,
          indentService: () => du,
          indentString: () => mu,
          indentUnit: () => fu,
          language: () => uu,
          languageDataProp: () => $c,
          syntaxParserRunning: () => nu,
          syntaxTree: () => Zc,
          syntaxTreeAvailable: () => tu,
        });
      var a = {};
      n.r(a),
        n.d(a, {
          StreamLanguage: () => Ru,
          StringStream: () => Nu,
          ignoreSpellcheckToken: () => Ju,
          lineClassNodeProp: () => Ku,
          lineHighlighter: () => Yu,
          tokenClassNodeProp: () => Gu,
        });
      var l = {};
      n.r(l),
        n.d(l, {
          closeHoverTooltips: () => Fw,
          getTooltip: () => Tw,
          hasHoverTooltips: () => Pw,
          hoverTooltip: () => Dw,
          repositionTooltips: () => Iw,
          showTooltip: () => Sw,
          tooltips: () => yw,
        });
      var c = {};
      n.r(c),
        n.d(c, {
          CompletionContext: () => Nw,
          acceptCompletion: () => dk,
          autocompletion: () => Wk,
          clearSnippet: () => Pk,
          closeCompletion: () => gk,
          completeAnyWord: () => Uk,
          completeFromList: () => Rw,
          completionKeymap: () => _k,
          completionStatus: () => Kk,
          currentCompletions: () => $k,
          ifIn: () => zw,
          ifNotIn: () => Hw,
          moveCompletionSelection: () => pk,
          nextSnippetField: () => Ok,
          pickedCompletion: () => Uw,
          prevSnippetField: () => Fk,
          selectedCompletion: () => Yk,
          snippet: () => Dk,
          snippetCompletion: () => Rk,
          snippetKeymap: () => Nk,
          startCompletion: () => fk,
        });
      var u = {};
      n.r(u),
        n.d(u, {
          closeBrackets: () => tC,
          closeBracketsKeymap: () => lC,
          deleteBracketPair: () => aC,
          insertBracket: () => cC,
        });
      var h = {};
      n.r(h),
        n.d(h, {
          collab: () => kC,
          getClientID: () => EC,
          getSyncedVersion: () => SC,
          receiveUpdates: () => CC,
          sendableUpdates: () => xC,
        });
      var p = {};
      n.r(p), n.d(p, { bracketMatching: () => OC, matchBrackets: () => IC });
      var d = {};
      n.r(d),
        n.d(d, {
          copyLineDown: () => vS,
          copyLineUp: () => mS,
          cursorCharBackward: () => WC,
          cursorCharForward: () => UC,
          cursorCharLeft: () => qC,
          cursorCharRight: () => jC,
          cursorDocEnd: () => _x,
          cursorDocStart: () => Wx,
          cursorGroupBackward: () => YC,
          cursorGroupForward: () => $C,
          cursorGroupLeft: () => GC,
          cursorGroupRight: () => KC,
          cursorLineBoundaryBackward: () => px,
          cursorLineBoundaryForward: () => hx,
          cursorLineDown: () => sx,
          cursorLineEnd: () => fx,
          cursorLineStart: () => dx,
          cursorLineUp: () => ox,
          cursorMatchingBracket: () => mx,
          cursorPageDown: () => cx,
          cursorPageUp: () => lx,
          cursorSubwordBackward: () => ZC,
          cursorSubwordForward: () => XC,
          cursorSyntaxLeft: () => nx,
          cursorSyntaxRight: () => ix,
          defaultKeymap: () => TS,
          deleteCharBackward: () => tS,
          deleteCharForward: () => nS,
          deleteGroupBackward: () => rS,
          deleteGroupForward: () => oS,
          deleteLine: () => yS,
          deleteToLineEnd: () => sS,
          deleteToLineStart: () => aS,
          deleteTrailingWhitespace: () => lS,
          emacsStyleKeymap: () => AS,
          indentLess: () => MS,
          indentMore: () => ES,
          indentSelection: () => SS,
          indentWithTab: () => PS,
          insertBlankLine: () => kS,
          insertNewline: () => bS,
          insertNewlineAndIndent: () => wS,
          insertTab: () => LS,
          moveLineDown: () => fS,
          moveLineUp: () => dS,
          selectAll: () => $x,
          selectCharBackward: () => xx,
          selectCharForward: () => Cx,
          selectCharLeft: () => wx,
          selectCharRight: () => kx,
          selectDocEnd: () => Kx,
          selectDocStart: () => Gx,
          selectGroupBackward: () => Ax,
          selectGroupForward: () => Lx,
          selectGroupLeft: () => Ex,
          selectGroupRight: () => Mx,
          selectLine: () => Yx,
          selectLineBoundaryBackward: () => qx,
          selectLineBoundaryForward: () => Vx,
          selectLineDown: () => Bx,
          selectLineEnd: () => Ux,
          selectLineStart: () => jx,
          selectLineUp: () => Nx,
          selectMatchingBracket: () => vx,
          selectPageDown: () => Hx,
          selectPageUp: () => zx,
          selectParentSyntax: () => Jx,
          selectSubwordBackward: () => Px,
          selectSubwordForward: () => Tx,
          selectSyntaxLeft: () => Ox,
          selectSyntaxRight: () => Fx,
          simplifySelection: () => Qx,
          splitLine: () => cS,
          standardKeymap: () => DS,
          transposeChars: () => uS,
        });
      var f = {};
      n.r(f),
        n.d(f, {
          blockComment: () => zS,
          blockUncomment: () => HS,
          commentKeymap: () => VS,
          lineComment: () => NS,
          lineUncomment: () => BS,
          toggleBlockComment: () => RS,
          toggleComment: () => OS,
          toggleLineComment: () => IS,
        });
      var g = {};
      n.r(g),
        n.d(g, {
          GutterMarker: () => WS,
          gutter: () => $S,
          gutterLineClass: () => _S,
          gutters: () => QS,
          highlightActiveLineGutter: () => fE,
          lineNumberMarkers: () => oE,
          lineNumbers: () => uE,
        });
      var m = {};
      n.r(m),
        n.d(m, {
          codeFolding: () => PE,
          foldAll: () => ME,
          foldCode: () => xE,
          foldEffect: () => mE,
          foldGutter: () => NE,
          foldKeymap: () => AE,
          foldedRanges: () => wE,
          unfoldAll: () => LE,
          unfoldCode: () => SE,
          unfoldEffect: () => vE,
        });
      var v = {};
      n.r(v),
        n.d(v, {
          HighlightStyle: () => $E,
          Tag: () => zE,
          classHighlightStyle: () => bM,
          defaultHighlightStyle: () => yM,
          highlightTree: () => YE,
          styleTags: () => jE,
          tags: () => vM,
        });
      var y = {};
      n.r(y),
        n.d(y, {
          history: () => EM,
          historyField: () => MM,
          historyKeymap: () => _M,
          invertedEffects: () => CM,
          isolateHistory: () => kM,
          redo: () => DM,
          redoDepth: () => IM,
          redoSelection: () => PM,
          undo: () => AM,
          undoDepth: () => FM,
          undoSelection: () => TM,
        });
      var b = {};
      n.r(b),
        n.d(b, { getPanel: () => $M, panels: () => KM, showPanel: () => ZM });
      var w = {};
      n.r(w),
        n.d(w, {
          closeLintPanel: () => mL,
          diagnosticCount: () => hL,
          forceLinting: () => CL,
          lintGutter: () => zL,
          lintKeymap: () => yL,
          linter: () => kL,
          nextDiagnostic: () => vL,
          openLintPanel: () => gL,
          setDiagnostics: () => sL,
          setDiagnosticsEffect: () => aL,
        });
      var k = {};
      n.r(k), n.d(k, { rectangularSelection: () => jL });
      var C = {};
      n.r(C),
        n.d(C, {
          RegExpCursor: () => KL,
          SearchCursor: () => WL,
          SearchQuery: () => dA,
          closeSearchPanel: () => NA,
          findNext: () => MA,
          findPrevious: () => LA,
          getSearchQuery: () => wA,
          gotoLine: () => eA,
          highlightSelectionMatches: () => rA,
          openSearchPanel: () => IA,
          replaceAll: () => PA,
          replaceNext: () => TA,
          search: () => hA,
          searchConfig: () => pA,
          searchKeymap: () => BA,
          selectMatches: () => AA,
          selectNextOccurrence: () => cA,
          selectSelectionMatches: () => DA,
          setSearchQuery: () => vA,
        });
      var x = {};
      n.r(x),
        n.d(x, {
          ContextTracker: () => hD,
          ExternalTokenizer: () => XA,
          InputStream: () => JA,
          LRParser: () => pD,
          Stack: () => WA,
        });
      var S = {};
      n.r(S),
        n.d(S, {
          AbstractTextComponent: () => oT,
          App: () => Hq,
          BaseComponent: () => eT,
          ButtonComponent: () => nT,
          Component: () => nm,
          DropdownComponent: () => uT,
          EditableFileView: () => uw,
          Editor: () => gh,
          EditorSuggest: () => kN,
          Events: () => Sb,
          ExtraButtonComponent: () => iT,
          FileManager: () => jN,
          FileSystemAdapter: () => tI,
          FileView: () => cw,
          FuzzySuggestModal: () => BN,
          HoverPopover: () => qF,
          ItemView: () => sw,
          Keymap: () => nw,
          MarkdownPreviewRenderer: () => cb,
          MarkdownPreviewSection: () => ob,
          MarkdownPreviewView: () => _B,
          MarkdownRenderChild: () => rb,
          MarkdownRenderer: () => qB,
          MarkdownSourceView: () => tO,
          MarkdownView: () => IR,
          Menu: () => rw,
          MenuItem: () => iw,
          MetadataCache: () => XD,
          Modal: () => vD,
          MomentFormatComponent: () => cT,
          Notice: () => lw,
          Platform: () => eb,
          Plugin: () => rB,
          PluginSettingTab: () => oB,
          PopoverState: () => TF,
          PopoverSuggest: () => XI,
          Scope: () => ew,
          Setting: () => ZD,
          SettingTab: () => IN,
          SliderComponent: () => hT,
          SuggestModal: () => NN,
          TAbstractFile: () => Mb,
          TFile: () => Ab,
          TFolder: () => Db,
          TextAreaComponent: () => lT,
          TextComponent: () => sT,
          TextFileView: () => PF,
          ToggleComponent: () => rT,
          ValueComponent: () => tT,
          Vault: () => Tb,
          View: () => ow,
          ViewRegistry: () => pI,
          Workspace: () => FN,
          WorkspaceItem: () => MI,
          WorkspaceLeaf: () => PI,
          WorkspaceParent: () => LI,
          WorkspaceRibbon: () => ON,
          WorkspaceSidedock: () => TI,
          WorkspaceSplit: () => AI,
          WorkspaceTabs: () => DI,
          addIcon: () => Zy,
          apiVersion: () => Dq,
          debounce: () => Tt,
          editorEditorField: () => sF,
          editorLivePreviewField: () => lF,
          editorViewField: () => aF,
          finishRenderMath: () => up,
          fuzzySearch: () => nP,
          getAllTags: () => LD,
          getLinkpath: () => xD,
          htmlToMarkdown: () => mD,
          iterateCacheRefs: () => ED,
          iterateRefs: () => MD,
          loadMathJax: () => rp,
          loadMermaid: () => ep,
          loadPdfJs: () => Qh,
          loadPrism: () => np,
          moment: () => _N,
          normalizePath: () => rt,
          parseFrontMatterAliases: () => Kg,
          parseFrontMatterEntry: () => _g,
          parseFrontMatterStringArray: () => Gg,
          parseFrontMatterTags: () => $g,
          parseLinktext: () => SD,
          parseYaml: () => UN,
          prepareFuzzySearch: () => ZT,
          prepareQuery: () => XT,
          prepareSimpleSearch: () => sP,
          renderMatches: () => lP,
          renderMath: () => op,
          renderResults: () => aP,
          request: () => $N,
          requestUrl: () => KN,
          requireApiVersion: () => Tq,
          resolveSubpath: () => DD,
          sanitizeHTMLToDom: () => tm,
          setIcon: () => Xy,
          sortSearchResults: () => iP,
          stringifyYaml: () => WN,
          stripHeading: () => AD,
        });
      var E = function (e, t) {
        return (E =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, t) {
              e.__proto__ = t;
            }) ||
          function (e, t) {
            for (var n in t)
              Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
          })(e, t);
      };
      function M(e, t) {
        if ("function" != typeof t && null !== t)
          throw new TypeError(
            "Class extends value " + String(t) + " is not a constructor or null"
          );
        function n() {
          this.constructor = e;
        }
        E(e, t),
          (e.prototype =
            null === t
              ? Object.create(t)
              : ((n.prototype = t.prototype), new n()));
      }
      var L = function () {
        return (L =
          Object.assign ||
          function (e) {
            for (var t, n = 1, i = arguments.length; n < i; n++)
              for (var r in (t = arguments[n]))
                Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
            return e;
          }).apply(this, arguments);
      };
      function A(e, t, n, i) {
        return new (n || (n = Promise))(function (r, o) {
          function s(e) {
            try {
              l(i.next(e));
            } catch (e) {
              o(e);
            }
          }
          function a(e) {
            try {
              l(i.throw(e));
            } catch (e) {
              o(e);
            }
          }
          function l(e) {
            var t;
            e.done
              ? r(e.value)
              : ((t = e.value),
                t instanceof n
                  ? t
                  : new n(function (e) {
                      e(t);
                    })).then(s, a);
          }
          l((i = i.apply(e, t || [])).next());
        });
      }
      function D(e, t) {
        var n,
          i,
          r,
          o,
          s = {
            label: 0,
            sent: function () {
              if (1 & r[0]) throw r[1];
              return r[1];
            },
            trys: [],
            ops: [],
          };
        return (
          (o = { next: a(0), throw: a(1), return: a(2) }),
          "function" == typeof Symbol &&
            (o[Symbol.iterator] = function () {
              return this;
            }),
          o
        );
        function a(o) {
          return function (a) {
            return (function (o) {
              if (n) throw new TypeError("Generator is already executing.");
              for (; s; )
                try {
                  if (
                    ((n = 1),
                    i &&
                      (r =
                        2 & o[0]
                          ? i.return
                          : o[0]
                          ? i.throw || ((r = i.return) && r.call(i), 0)
                          : i.next) &&
                      !(r = r.call(i, o[1])).done)
                  )
                    return r;
                  switch (((i = 0), r && (o = [2 & o[0], r.value]), o[0])) {
                    case 0:
                    case 1:
                      r = o;
                      break;
                    case 4:
                      return s.label++, { value: o[1], done: !1 };
                    case 5:
                      s.label++, (i = o[1]), (o = [0]);
                      continue;
                    case 7:
                      (o = s.ops.pop()), s.trys.pop();
                      continue;
                    default:
                      if (
                        !((r = s.trys),
                        (r = r.length > 0 && r[r.length - 1]) ||
                          (6 !== o[0] && 2 !== o[0]))
                      ) {
                        s = 0;
                        continue;
                      }
                      if (3 === o[0] && (!r || (o[1] > r[0] && o[1] < r[3]))) {
                        s.label = o[1];
                        break;
                      }
                      if (6 === o[0] && s.label < r[1]) {
                        (s.label = r[1]), (r = o);
                        break;
                      }
                      if (r && s.label < r[2]) {
                        (s.label = r[2]), s.ops.push(o);
                        break;
                      }
                      r[2] && s.ops.pop(), s.trys.pop();
                      continue;
                  }
                  o = t.call(e, s);
                } catch (e) {
                  (o = [6, e]), (i = 0);
                } finally {
                  n = r = 0;
                }
              if (5 & o[0]) throw o[1];
              return { value: o[0] ? o[1] : void 0, done: !0 };
            })([o, a]);
          };
        }
      }
      Object.create;
      function T(e) {
        var t = "function" == typeof Symbol && Symbol.iterator,
          n = t && e[t],
          i = 0;
        if (n) return n.call(e);
        if (e && "number" == typeof e.length)
          return {
            next: function () {
              return (
                e && i >= e.length && (e = void 0),
                { value: e && e[i++], done: !e }
              );
            },
          };
        throw new TypeError(
          t ? "Object is not iterable." : "Symbol.iterator is not defined."
        );
      }
      function P(e, t) {
        for (var n = 0, i = t.length, r = e.length; n < i; n++, r++)
          e[r] = t[n];
        return e;
      }
      function O(e) {
        return this instanceof O ? ((this.v = e), this) : new O(e);
      }
      function F(e, t, n) {
        if (!Symbol.asyncIterator)
          throw new TypeError("Symbol.asyncIterator is not defined.");
        var i,
          r = n.apply(e, t || []),
          o = [];
        return (
          (i = {}),
          s("next"),
          s("throw"),
          s("return"),
          (i[Symbol.asyncIterator] = function () {
            return this;
          }),
          i
        );
        function s(e) {
          r[e] &&
            (i[e] = function (t) {
              return new Promise(function (n, i) {
                o.push([e, t, n, i]) > 1 || a(e, t);
              });
            });
        }
        function a(e, t) {
          try {
            !(function (e) {
              e.value instanceof O
                ? Promise.resolve(e.value.v).then(l, c)
                : u(o[0][2], e);
            })(r[e](t));
          } catch (e) {
            u(o[0][3], e);
          }
        }
        function l(e) {
          a("next", e);
        }
        function c(e) {
          a("throw", e);
        }
        function u(e, t) {
          e(t), o.shift(), o.length && a(o[0][0], o[0][1]);
        }
      }
      function I(e) {
        if (!Symbol.asyncIterator)
          throw new TypeError("Symbol.asyncIterator is not defined.");
        var t,
          n = e[Symbol.asyncIterator];
        return n
          ? n.call(e)
          : ((e = T(e)),
            (t = {}),
            i("next"),
            i("throw"),
            i("return"),
            (t[Symbol.asyncIterator] = function () {
              return this;
            }),
            t);
        function i(n) {
          t[n] =
            e[n] &&
            function (t) {
              return new Promise(function (i, r) {
                (function (e, t, n, i) {
                  Promise.resolve(i).then(function (t) {
                    e({ value: t, done: n });
                  }, t);
                })(i, r, (t = e[n](t)).done, t.value);
              });
            };
        }
      }
      Object.create;
      function N(e, t, n) {
        Object.defineProperty(e, t, {
          value: n,
          enumerable: !1,
          configurable: !0,
          writable: !0,
        });
      }
      for (var B = window, R = 0, z = ["TouchEvent"]; R < z.length; R++) {
        var H = z[R];
        void 0 === B[H] && (B[H] = function () {});
      }
      Object.isEmpty ||
        N(Object, "isEmpty", function (e) {
          for (var t in e) if (e.hasOwnProperty(t)) return !1;
          return !0;
        }),
        Object.each ||
          (Object.each = function (e, t, n) {
            for (var i in e)
              if (e.hasOwnProperty(i) && !1 === t.call(n, e[i], i)) return !1;
            return !0;
          }),
        Array.prototype.first ||
          N(Array.prototype, "first", function () {
            if (0 !== this.length) return this[0];
          }),
        Array.prototype.last ||
          N(Array.prototype, "last", function () {
            if (0 !== this.length) return this[this.length - 1];
          }),
        Array.prototype.contains ||
          N(Array.prototype, "contains", function (e) {
            return -1 !== this.indexOf(e);
          }),
        Array.prototype.remove ||
          N(Array.prototype, "remove", function (e) {
            for (var t = this.length - 1; t >= 0; t--)
              this[t] === e && this.splice(t, 1);
          }),
        Array.prototype.shuffle ||
          N(Array.prototype, "shuffle", function () {
            for (var e, t, n = this.length; 0 !== n; )
              (t = Math.floor(Math.random() * n)),
                (e = this[(n -= 1)]),
                (this[n] = this[t]),
                (this[t] = e);
            return this;
          }),
        Math.clamp ||
          (Math.clamp = function (e, t, n) {
            return Math.min(Math.max(e, t), n);
          }),
        Math.square ||
          (Math.square = function (e) {
            return e * e;
          }),
        String.isString ||
          (String.isString = function (e) {
            return "string" == typeof e || e instanceof String;
          }),
        String.prototype.contains ||
          (String.prototype.contains = function (e) {
            return -1 !== this.indexOf(e);
          }),
        String.prototype.startsWith ||
          (String.prototype.startsWith = function (e, t) {
            return this.substr(!t || t < 0 ? 0 : +t, e.length) === e;
          }),
        String.prototype.endsWith ||
          (String.prototype.endsWith = function (e, t) {
            var n = void 0 === t || t > this.length ? this.length : t;
            return this.substring(n - e.length, n) === e;
          }),
        String.prototype.format ||
          (String.prototype.format = function () {
            for (var e = [], t = 0; t < arguments.length; t++)
              e[t] = arguments[t];
            return this.replace(/{(\d+)}/g, function (t, n) {
              return void 0 !== e[n] ? e[n] : t;
            });
          }),
        Number.isNumber ||
          N(Number, "isNumber", function (e) {
            return "number" == typeof e;
          }),
        N(window, "isBoolean", function (e) {
          return "boolean" == typeof e;
        });
      var V = function (e) {
        var t = e.nodeType;
        if (1 === t || 9 === t || 11 === t) {
          if ("string" == typeof e.textContent) return e.textContent;
          for (var n = [], i = e.firstChild; i; i = i.nextSibling) n.push(V(i));
          return n.join("");
        }
        return ((3 === t || 4 === t) && e.nodeValue) || "";
      };
      (Element.prototype.getText = function () {
        return V(this);
      }),
        (Element.prototype.setText = function (e) {
          !(function (e, t) {
            if (t instanceof DocumentFragment || t instanceof Node)
              return e.empty(), void e.appendChild(t);
            String.isString(t) || (t = String(t));
            var n = e.nodeType;
            (1 !== n && 9 !== n && 11 !== n) || (e.textContent = t);
          })(this, e);
        }),
        (Element.prototype.addClass = function () {
          for (var e = [], t = 0; t < arguments.length; t++)
            e[t] = arguments[t];
          this.addClasses(e);
        }),
        (Element.prototype.addClasses = function (e) {
          for (var t = 0; t < e.length; t++) this.classList.add(e[t]);
        }),
        (Element.prototype.removeClass = function () {
          for (var e = [], t = 0; t < arguments.length; t++)
            e[t] = arguments[t];
          this.removeClasses(e);
        }),
        (Element.prototype.removeClasses = function (e) {
          for (var t = 0; t < e.length; t++) this.classList.remove(e[t]);
        }),
        (Element.prototype.toggleClass = function (e, t) {
          e instanceof Array || (e = [e]),
            t ? this.addClasses(e) : this.removeClasses(e);
        }),
        (Element.prototype.hasClass = function (e) {
          return this.classList.contains(e);
        }),
        [
          Element.prototype,
          Document.prototype,
          DocumentFragment.prototype,
        ].forEach(function (e) {
          N(e, "prepend", function () {
            for (var e = [], t = 0; t < arguments.length; t++)
              e[t] = arguments[t];
            for (
              var n = document.createDocumentFragment(), i = 0, r = e;
              i < r.length;
              i++
            ) {
              var o = r[i];
              n.appendChild(
                o instanceof Node ? o : document.createTextNode(String(o))
              );
            }
            this.insertBefore(n, this.firstChild);
          });
        }),
        (Node.prototype.detach = function () {
          this.parentNode && this.parentNode.removeChild(this);
        }),
        (Node.prototype.empty = function () {
          for (; this.lastChild; ) this.removeChild(this.lastChild);
        }),
        (Node.prototype.insertAfter = function (e) {
          e.parentNode && e.parentNode.insertBefore(this, e.nextSibling);
        }),
        (Node.prototype.indexOf = function (e) {
          return Array.prototype.indexOf.call(this.childNodes, e);
        }),
        (Node.prototype.setChildrenInPlace = function (e) {
          for (
            var t = this.firstChild, n = new Set(e), i = 0, r = e;
            i < r.length;
            i++
          ) {
            for (var o = r[i]; t && !n.has(t); ) {
              var s = t;
              (t = t.nextSibling), this.removeChild(s);
            }
            o !== t ? this.insertBefore(o, t) : (t = t.nextSibling);
          }
          for (; t; ) {
            s = t;
            (t = t.nextSibling), this.removeChild(s);
          }
        }),
        (Node.prototype.appendText = function (e) {
          this.appendChild(document.createTextNode(e));
        }),
        (Element.prototype.setAttr = function (e, t) {
          null === t
            ? this.removeAttribute(e)
            : this.setAttribute(e, String(t));
        }),
        (Element.prototype.setAttrs = function (e) {
          for (var t in e)
            if (e.hasOwnProperty(t)) {
              var n = e[t];
              this.setAttr(t, n);
            }
        }),
        (Element.prototype.getAttr = Element.prototype.getAttribute),
        N(Element.prototype, "matchParent", function (e, t) {
          if (this.matches(e)) return this;
          if (this === t) return null;
          var n = this.parentElement;
          return n ? n.matchParent(e, t) : null;
        }),
        HTMLElement.prototype.show ||
          (HTMLElement.prototype.show = function () {
            "none" === this.style.display &&
              ((this.style.display = this.getAttribute("data-display") || ""),
              this.removeAttribute("data-display"));
          }),
        HTMLElement.prototype.hide ||
          (HTMLElement.prototype.hide = function () {
            var e = this.style.display;
            "none" !== e &&
              ((this.style.display = "none"),
              e
                ? this.setAttribute("data-display", e)
                : this.removeAttribute("data-display"));
          }),
        HTMLElement.prototype.toggle ||
          (HTMLElement.prototype.toggle = function (e) {
            e ? this.show() : this.hide();
          }),
        HTMLElement.prototype.toggleVisibility ||
          (HTMLElement.prototype.toggleVisibility = function (e) {
            this.style.visibility = e ? "" : "hidden";
          }),
        N(HTMLElement.prototype, "isShown", function () {
          return !!this.offsetParent;
        }),
        (window.fish = function (e) {
          return document.querySelector(e);
        }),
        (window.fishAll = function (e) {
          return Array.prototype.slice.call(document.querySelectorAll(e));
        }),
        (Element.prototype.find = function (e) {
          return this.querySelector(e);
        }),
        (Element.prototype.findAll = function (e) {
          return Array.prototype.slice.call(this.querySelectorAll(e));
        }),
        (Element.prototype.findAllSelf = function (e) {
          var t = Array.prototype.slice.call(this.querySelectorAll(e));
          return this.matches(e) && t.unshift(this), t;
        }),
        (Node.prototype.createEl = function (e, t, n) {
          return (
            "string" == typeof t && (t = { cls: t }),
            ((t = t || {}).parent = this),
            createEl(e, t, n)
          );
        }),
        (Node.prototype.createDiv = function (e, t) {
          return this.createEl("div", e, t);
        }),
        (Node.prototype.createSpan = function (e, t) {
          return this.createEl("span", e, t);
        }),
        (window.createEl = function (e, t, n) {
          var i = document.createElement(e);
          "string" == typeof t && (t = { cls: t });
          var r = t || {},
            o = r.cls,
            s = r.text,
            a = r.attr,
            l = r.title,
            c = r.value,
            u = r.type,
            h = r.parent,
            p = r.prepend,
            d = r.href;
          return (
            o &&
              (Array.isArray(o)
                ? (i.className = o.join(" "))
                : (i.className = o)),
            s && i.setText(s),
            a && i.setAttrs(a),
            l && (i.title = l),
            c &&
              (i instanceof HTMLInputElement ||
                i instanceof HTMLSelectElement ||
                i instanceof HTMLOptionElement) &&
              (i.value = c),
            u && i instanceof HTMLInputElement && (i.type = u),
            u && i instanceof HTMLStyleElement && i.setAttribute("type", u),
            d &&
              (i instanceof HTMLAnchorElement ||
                i instanceof HTMLLinkElement) &&
              (i.href = d),
            n && n(i),
            h && (p ? h.insertBefore(i, h.firstChild) : h.appendChild(i)),
            i
          );
        }),
        (window.createDiv = function (e, t) {
          return createEl("div", e, t);
        }),
        (window.createSpan = function (e, t) {
          return createEl("span", e, t);
        }),
        (window.createFragment = function (e) {
          var t = document.createDocumentFragment();
          return e && e(t), t;
        });
      var q = function (e, t, n, i) {
          var r = this._EVENTS;
          r || ((r = {}), (this._EVENTS = r));
          var o = r[e];
          o || ((o = []), (r[e] = o));
          var s = function (e) {
            var i = e.target;
            if (i instanceof Element) {
              var r = i.matchParent(t, e.currentTarget);
              r && n.call(this, e, r);
            }
          };
          o.push({ selector: t, listener: n, options: i, callback: s }),
            this.addEventListener(e, s, i);
        },
        j = function (e, t, n, i) {
          var r = this,
            o = this._EVENTS;
          if (o) {
            var s = o[e];
            s &&
              (o[e] = s.filter(function (o) {
                if (o.selector === t && o.listener === n && o.options === i) {
                  var s = o.callback;
                  return r.removeEventListener(e, s, i), !1;
                }
                return !0;
              }));
          }
        };
      (HTMLElement.prototype.on = q),
        (HTMLElement.prototype.off = j),
        (Document.prototype.on = q),
        (Document.prototype.off = j),
        (HTMLElement.prototype.onClickEvent = function (e, t) {
          this.addEventListener("click", e, t),
            this.addEventListener("auxclick", e, t);
        }),
        (HTMLElement.prototype.trigger = function (e) {
          var t = document.createEvent("HTMLEvents");
          t.initEvent(e, !0, !1), this.dispatchEvent(t);
        });
      var U = new WeakMap();
      function W(e) {
        var t = e.method,
          n = e.url,
          i = e.success,
          r = e.error,
          o = e.data,
          s = e.headers,
          a = e.withCredentials;
        t = t || "GET";
        var l = new XMLHttpRequest();
        if (
          ((e.req = l),
          l.open(t, n, !0),
          (l.onload = function () {
            var e = l.status,
              t = l.response;
            e >= 200 && e < 400 ? i && i(t, l) : r && r(t, l);
          }),
          (l.onerror = function (e) {
            r && r(e, l);
          }),
          s)
        )
          for (var c in s) s.hasOwnProperty(c) && l.setRequestHeader(c, s[c]);
        (l.withCredentials = a || !1),
          o
            ? (void 0 === a && (l.withCredentials = !0),
              String.isString(o)
                ? l.send(o)
                : o instanceof ArrayBuffer
                ? (l.setRequestHeader(
                    "Content-Type",
                    "application/octet-stream"
                  ),
                  l.send(o))
                : (l.setRequestHeader(
                    "Content-Type",
                    "application/json; charset=utf-8"
                  ),
                  l.send(JSON.stringify(o))))
            : l.send();
      }
      function _(e) {
        return e.buffer.slice(e.byteOffset, e.byteOffset + e.byteLength);
      }
      function G(e) {
        return e.buffer.slice(e.byteOffset, e.byteOffset + e.byteLength);
      }
      function K(e) {
        return G(new TextEncoder().encode(e));
      }
      function $(e) {
        return new TextDecoder().decode(new Uint8Array(e));
      }
      function Y(e) {
        for (
          var t = window.atob(e), n = t.length, i = new Uint8Array(n), r = 0;
          r < n;
          r++
        )
          i[r] = t.charCodeAt(r);
        return i.buffer;
      }
      function J(e) {
        return Q(new Uint8Array(e));
      }
      function Q(e) {
        for (var t = [], n = e.byteLength, i = 0; i < n; i++)
          t.push(String.fromCharCode(e[i]));
        return window.btoa(t.join(""));
      }
      function X(e) {
        return A(this, void 0, Promise, function () {
          var t;
          return D(this, function (n) {
            switch (n.label) {
              case 0:
                return (t = te), [4, Z(e)];
              case 1:
                return [2, t.apply(void 0, [n.sent()])];
            }
          });
        });
      }
      function Z(e) {
        return A(this, void 0, Promise, function () {
          return D(this, function (t) {
            return [2, crypto.subtle.digest("SHA-256", new Uint8Array(e))];
          });
        });
      }
      function ee(e) {
        for (
          var t = e.length / 2,
            n = new ArrayBuffer(t),
            i = new Uint8Array(n),
            r = 0;
          r < t;
          r++
        )
          i[r] = parseInt(e.substr(2 * r, 2), 16);
        return n;
      }
      function te(e) {
        for (var t = new Uint8Array(e), n = [], i = 0; i < t.length; i++) {
          var r = t[i];
          n.push((r >>> 4).toString(16)), n.push((15 & r).toString(16));
        }
        return n.join("");
      }
      (HTMLElement.prototype.onNodeInserted = function (e, t) {
        var n = this,
          i = function (n) {
            t && r(), "node-inserted" === n.animationName && e();
          },
          r = function () {
            n.removeEventListener("animationstart", i);
            var e = (U.get(n) || 0) - 1;
            e <= 0
              ? (U.delete(n), n.removeClass("node-insert-event"))
              : U.set(n, e);
          };
        return (
          U.set(this, (U.get(this) || 0) + 1),
          this.addClass("node-insert-event"),
          this.addEventListener("animationstart", i),
          r
        );
      }),
        (window.ajax = W),
        (window.ajaxPromise = function (e) {
          return new Promise(function (t, n) {
            (e.success = t),
              (e.error = function (e, t) {
                return n(t);
              }),
              W(e);
          });
        }),
        (window.ready = function (e) {
          "loading" !== document.readyState
            ? e()
            : document.addEventListener("DOMContentLoaded", e);
        });
      var ne = "AES-GCM";
      function ie(e) {
        return crypto.subtle.importKey("raw", e, ne, !1, [
          "encrypt",
          "decrypt",
        ]);
      }
      function re(e, t, n) {
        return A(this, void 0, Promise, function () {
          var i, r, o;
          return D(this, function (s) {
            switch (s.label) {
              case 0:
                return (
                  n || (n = crypto.getRandomValues(new Uint8Array(12))),
                  [4, crypto.subtle.encrypt({ name: ne, iv: n }, t, e)]
                );
              case 1:
                return (
                  (i = s.sent()),
                  (r = new ArrayBuffer(n.byteLength + i.byteLength)),
                  (o = new Uint8Array(r)).set(new Uint8Array(n), 0),
                  o.set(new Uint8Array(i), n.byteLength),
                  [2, r]
                );
            }
          });
        });
      }
      function oe(e, t) {
        return A(this, void 0, Promise, function () {
          var n, i;
          return D(this, function (r) {
            switch (r.label) {
              case 0:
                if (e.byteLength < 12) throw new Error("Encrypted data is bad");
                return 12 === e.byteLength
                  ? [2, new ArrayBuffer(0)]
                  : ((n = new Uint8Array(e, 0, 12)),
                    (i = new Uint8Array(e, 12)),
                    [4, crypto.subtle.decrypt({ name: ne, iv: n }, t, i)]);
              case 1:
                return [2, r.sent()];
            }
          });
        });
      }
      var se = 32768,
        ae = { N: se, r: 8, p: 1, maxmem: 67108864 };
      function le(e, t) {
        return A(this, void 0, Promise, function () {
          var n;
          return D(this, function (i) {
            switch (i.label) {
              case 0:
                return (
                  (e = e.normalize("NFKC")),
                  (t = t.normalize("NFKC")),
                  (n = window.require && window.require("crypto"))
                    ? [
                        4,
                        new Promise(function (i, r) {
                          n.scrypt(
                            Buffer.from(e, "utf8"),
                            Buffer.from(t, "utf8"),
                            32,
                            ae,
                            function (e, t) {
                              e ? r(e) : i(t);
                            }
                          );
                        }),
                      ]
                    : [3, 2]
                );
              case 1:
                return [2, _(i.sent())];
              case 2:
                return [
                  4,
                  window.scrypt.scrypt(
                    new Uint8Array(K(e)),
                    new Uint8Array(K(t)),
                    se,
                    8,
                    1,
                    32
                  ),
                ];
              case 3:
                return [2, G(i.sent())];
            }
          });
        });
      }
      function ce(e) {
        if (e <= 0) return "0 B";
        for (
          var t = ["B", "KB", "MB", "GB", "TB", "PB"], n = t.length - 1, i = 0;
          i < t.length;
          i++
        )
          if (e < Math.pow(1024, i + 1)) {
            n = i;
            break;
          }
        return (
          (function (e, t, n, i) {
            void 0 === t && (t = 2);
            void 0 === n && (n = ".");
            void 0 === i && (i = ",");
            var r = e < 0 ? "-" : "";
            e = Math.abs(e);
            var o = parseInt(e.toFixed(t), 10) + "",
              s = o.length > 3 ? o.length % 3 : 0;
            return (
              r +
              (s ? o.substr(0, s) + i : "") +
              o.substr(s).replace(/(\d{3})(?=\d)/g, "$1" + i) +
              (t
                ? n +
                  Math.abs(e - Math.floor(e))
                    .toFixed(t)
                    .slice(2)
                : "")
            );
          })(e / Math.pow(1024, n), 0 === n ? 0 : 2) +
          " " +
          t[n]
        );
      }
      var ue =
        "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*?()";
      var he,
        pe =
          -1 !== (he = navigator.appVersion).indexOf("Win")
            ? "Windows"
            : -1 !== he.indexOf("Mac")
            ? "MacOS"
            : -1 !== he.indexOf("X11") || -1 !== he.indexOf("Linux")
            ? "Linux"
            : "Unknown OS",
        de = navigator.userAgent.toLowerCase(),
        fe = "MacOS" === pe,
        ge = "Windows" === pe,
        me = "Linux" === pe,
        ve = de.indexOf("firefox") > -1,
        ye = /^((?!chrome|android).)*safari/i.test(de);
      function be(e) {
        return fe && 0 === e.button && e.ctrlKey;
      }
      var we = Object.prototype.hasOwnProperty;
      function ke(e, t) {
        return we.call(e, t);
      }
      var Ce = /&(amp|lt|gt|quot);/g,
        xe = { "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"' };
      function Se(e) {
        return xe[e];
      }
      function Ee(e) {
        return e.replace(Ce, Se);
      }
      var Me = /[.?*+^$[\]\\(){}|-]/g;
      function Le(e) {
        return e.replace(Me, "\\$&");
      }
      function Ae(e, t) {
        if (e === t) return !0;
        if (null == e || null == t) return !1;
        if (e.length !== t.length) return !1;
        for (var n = 0; n < e.length; ++n) if (e[n] !== t[n]) return !1;
        return !0;
      }
      function De(e) {
        return Array.from(new Set(e));
      }
      var Te =
        /[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/;
      var Pe = (function () {
        function e() {
          this.data = {};
        }
        return (
          (e.prototype.add = function (e, t) {
            var n = this.data,
              i = n[e];
            i || ((i = []), (n[e] = i)), i.contains(t) || i.push(t);
          }),
          (e.prototype.remove = function (e, t) {
            var n = this.data,
              i = n[e];
            i && (i.remove(t), 0 === i.length && delete n[e]);
          }),
          (e.prototype.removeKey = function (e) {
            delete this.data[e];
          }),
          (e.prototype.get = function (e) {
            return this.data.hasOwnProperty(e) ? this.data[e] : null;
          }),
          (e.prototype.keys = function () {
            return Object.keys(this.data);
          }),
          (e.prototype.clear = function (e) {
            delete this.data[e];
          }),
          (e.prototype.clearAll = function () {
            this.data = {};
          }),
          (e.prototype.contains = function (e, t) {
            var n = this.data[e];
            return n && n.contains(t);
          }),
          (e.prototype.count = function () {
            var e = this.data,
              t = 0;
            for (var n in e) e.hasOwnProperty(n) && (t += e[n].length);
            return t;
          }),
          e
        );
      })();
      function Oe(e) {
        for (var t = [], n = 0; n < e; n++)
          t.push(((16 * Math.random()) | 0).toString(16));
        return t.join("");
      }
      function Fe(e, t) {
        for (
          var n = 0, i = 0;
          i < t && -1 !== (i = e.indexOf("\n", i)) && !(i >= t);

        )
          i++, n++;
        return n;
      }
      var Ie = "#^[]|",
        Ne = ge ? '*"\\/<>:|?' : "\\/:",
        Be = Ne.split("").join(" "),
        Re = Ie.split("").join(" "),
        ze = new RegExp("[" + Le(Ne) + "]"),
        He = new RegExp("[" + Le(Ie) + "]");
      function Ve(e) {
        return e.split("/").every(function (e) {
          return !ze.test(e);
        });
      }
      var qe = /\u00A0/g;
      var je = ["bmp", "png", "jpg", "jpeg", "gif", "svg", "webp"],
        Ue = ["mp3", "wav", "m4a", "3gp", "flac", "ogg", "oga"],
        We = ["mp4", "webm", "ogv"],
        _e = ["pdf"],
        Ge = ["md"],
        Ke = ["json", "css", "js"],
        $e = [].concat(je, Ue, We, _e, Ge);
      function Ye(e) {
        var t = e.lastIndexOf("/");
        return -1 === t ? e : e.slice(t + 1);
      }
      function Je(e) {
        var t = e.lastIndexOf("/");
        return -1 === t ? "" : e.slice(0, t);
      }
      function Qe(e) {
        for (; e; ) {
          if (Ye(e).startsWith(".")) return !0;
          e = Je(e);
        }
        return !1;
      }
      function Xe(e) {
        var t = Ye(e),
          n = t.lastIndexOf(".");
        return -1 === n || n === t.length - 1 || 0 === n ? t : t.substr(0, n);
      }
      function Ze(e) {
        var t = e.lastIndexOf(".");
        return -1 === t || t === e.length - 1 || 0 === t ? e : e.substr(0, t);
      }
      function et(e) {
        var t = e.lastIndexOf(".");
        return -1 === t || t === e.length - 1 || 0 === t
          ? ""
          : e.substr(t + 1).toLowerCase();
      }
      function tt(e, t) {
        return t ? e + "." + t : e;
      }
      function nt(e, t) {
        return et(e) === t;
      }
      function it(e) {
        return $e.contains(e);
      }
      function rt(e) {
        return ((t = ot(e)), t.replace(qe, " ")).normalize("NFC");
        var t;
      }
      function ot(e) {
        return (
          "" ===
            (e = e.replace(/([\\/])+/g, "/").replace(/(^\/+|\/+$)/g, "")) &&
            (e = "/"),
          e
        );
      }
      function st(e) {
        var t = Ye(e);
        return "md" === et(t) ? Xe(t) : t;
      }
      function at(e) {
        return "md" === et(Ye(e)) ? Ze(e) : e;
      }
      var lt = window.require;
      function ct(e) {
        return lt && lt(e);
      }
      function ut(e) {
        var t = ct("electron");
        t && e(t);
      }
      function ht(e) {
        return A(this, void 0, Promise, function () {
          var t;
          return D(this, function (n) {
            return (t = ct("fs")) && t.existsSync(e)
              ? [2, t.promises.readFile(e)]
              : [2, null];
          });
        });
      }
      function pt(e) {
        return A(this, void 0, Promise, function () {
          var t, n;
          return D(this, function (i) {
            if (!(t = ct("electron"))) throw new Error("Not electron");
            return (
              (n = t.ipcRenderer),
              [
                2,
                new Promise(function (t, i) {
                  var r = Oe(16);
                  n.once(r, function (e, n) {
                    n.body ? t(n) : i(n.error);
                  }),
                    n.send("request-url", r, e);
                }),
              ]
            );
          });
        });
      }
      var dt = !1;
      ut(function (e) {
        dt = e.ipcRenderer.sendSync("is-dev");
      });
      var ft = dt;
      function gt() {
        return A(this, void 0, Promise, function () {
          var e, t, n, i, r, o, s, a, l;
          return D(this, function (c) {
            switch (c.label) {
              case 0:
                return (e = ct("electron"))
                  ? ((t = e.remote.clipboard),
                    (n = t.readImage()) && !n.isEmpty()
                      ? ((i = n.toPNG()),
                        [
                          2,
                          {
                            name: "Pasted image",
                            extension: "png",
                            data: G(i),
                          },
                        ])
                      : ((r = ""),
                        "Windows" === pe
                          ? (r = t
                              .readBuffer("FileNameW")
                              .toString("ucs2")
                              .replace("\0", ""))
                          : "MacOS" === pe &&
                            (r = t.read("public.file-url")) &&
                            ((r = r.replace("file://", "")),
                            (r = decodeURI(r))),
                        r
                          ? ((o = Ye(rt(r))),
                            (s = et(o)),
                            (a = Xe(o)),
                            [4, ht(r)])
                          : [2, null]))
                  : [2, null];
              case 1:
                return (l = c.sent())
                  ? [2, { filepath: r, name: a, extension: s, data: l }]
                  : [2, null];
            }
          });
        });
      }
      ft ||
        ut(function (e) {
          try {
            e.deprecate.setHandler(function () {});
          } catch (e) {}
        });
      var mt = "language",
        vt = "en",
        yt = {
          en: "English",
          zh: "简体中文",
          "zh-TW": "繁體中文",
          ru: "Pусский",
          ko: "한국어",
          it: "Italiano",
          id: "Bahasa Indonesia",
          ro: "Română",
          "pt-BR": "Portugues do Brasil",
          cz: "čeština",
          de: "Deutsch",
          es: "Español",
          fr: "Français",
          no: "Norsk",
          pl: "język polski",
          pt: "Português",
          ja: "日本語",
          da: "Dansk",
          uk: "Український",
          sq: "Shqip",
          th: "ไทย",
          tr: "Türkçe (kısmi)",
          hi: "हिन्दी (आंशिक)",
          nl: "Nederlands (gedeeltelijk)",
          ar: "العربية (جزئي)",
        },
        bt = { interpolation: { prefix: "{{{{", suffix: "}}}}" } },
        wt = "default";
      i18next.init({
        fallbackLng: vt,
        ns: [wt],
        defaultNS: wt,
        initImmediate: !1,
        interpolation: { escapeValue: !1 },
      });
      var kt = {
        setting: {
          options: "Options",
          plugin: "Plugin",
          "builtin-plugins": "Core plugins",
          "plugin-options": "Plugin options",
          "folder-path-example-placeholder": "Example: folder 1/folder 2",
          "file-path-example-placeholder": "Example: folder/note",
          "msg-restart-required":
            "Changing this option requires a restart to take effect.",
          editor: {
            name: "Editor",
            "section-general": "General",
            "section-behavior": "Behavior",
            "section-display": "Display",
            "option-spellcheck": "Spellcheck",
            "option-spellcheck-description": "Turn on the spellchecker.",
            "spellcheck-languages": "Spellcheck languages",
            "spellcheck-languages-description":
              "Choose the languages for the spellchecker to use.",
            "spellcheck-languages-mac-description":
              "The native spellchecker will automatically detect the language being used for you on macOS.",
            "spellcheck-dict": "Spellcheck dictionary",
            "spellcheck-dict-empty": "The spellcheck dictionary is empty.",
            "option-readable-line-length": "Readable line length",
            "option-readable-line-description":
              "Limit maximum line length. Less content fits onscreen, but long blocks of text are more readable.",
            "option-strict-line-break": "Strict line breaks",
            "option-strict-line-break-description":
              "Markdown specs ignore single line breaks in reading view. Turn this off to make single line breaks visible.",
            "option-show-frontmatter": "Show frontmatter",
            "option-show-frontmatter-description":
              "In reading view, show frontmatter as a code block. Turn off to hide frontmatter section.",
            "option-auto-pair-brackets": "Auto pair brackets",
            "option-auto-pair-brackets-description":
              "Pair brackets and quotes automatically.",
            "option-auto-pair-markdown": "Auto pair Markdown syntax",
            "option-auto-pair-markdown-description":
              "Pair symbols automatically for bold and italic.",
            "option-smart-indent-lists": "Smart indent lists",
            "option-smart-indent-lists-description":
              "Automatically set indentation and place list items correctly.",
            "option-fold-heading": "Fold heading",
            "option-fold-heading-description":
              "Lets you fold all content under a heading.",
            "option-fold-indent": "Fold indent",
            "option-fold-indent-description":
              "Lets you fold part of an indentation, such as lists.",
            "option-default-new-pane-view": "Default new pane view",
            "option-default-new-pane-view-description":
              "The default view a new pane gets opened in.",
            "option-default-new-pane-view-editing": "Editing view",
            "option-default-new-pane-view-reading": "Reading view",
            "option-default-editing-mode": "Default editing mode",
            "option-default-editing-mode-description":
              "The default editing mode a new pane will start with.",
            "option-default-editing-mode-source": "Source mode",
            "option-default-editing-mode-live-preview": "Live Preview",
            "option-legacy-editor": "Use legacy editor",
            "option-legacy-editor-description":
              "The legacy editor does not support Live Preview, but has better compatibility with some older plugins, themes, and snippets. To enable Live Preview, disable this option.",
            "option-show-line-number": "Show line number",
            "option-show-line-number-description":
              "Show line number in the gutter.",
            "option-use-tabs": "Use tabs",
            "option-use-tabs-description":
              "Use tabs to indent by pressing the “Tab” key. Turn this off to indent using up to 4 spaces.",
            "option-tab-size": "Tab size",
            "option-tab-size-description":
              "Number of spaces a tab character will render as.",
            "option-line-wrap": "Line wrap",
            "option-line-wrap-description":
              "Wrap long lines to fit within the window, without having to scroll from left to right.",
            "option-rtl": "Right-to-left (RTL)",
            "option-rtl-description":
              "Sets the text direction of notes to display in right-to-left.",
            "option-auto-convert-html": "Auto convert HTML",
            "option-auto-convert-html-description":
              "Automatically convert HTML to Markdown when pasting and drag-and-drop from webpages. Use Ctrl/Cmd+Shift+V to paste without conversion.",
            "option-vim-key-bindings": "Vim key bindings",
            "option-vim-key-bindings-description":
              "Allows you to use Vim key bindings when editing.",
            "option-vim-key-bindings-mobile":
              "On mobile devices, this setting is per-device and is not synchronized through the config file.",
            "option-emacsy-keys": "Legacy Emacs-style key bindings for macOS",
            "option-emacsy-keys-description":
              "Allows you to use the additional Emacs-style navigation keys, which are standard on macOS, but may interfere with some key operations. Not available while in Vim mode.",
            "label-confirm-enable-vim": "Confirm entering Vim mode",
            "label-vim-warning":
              "Vim mode is for efficient text editing but can be quite counter-intuitive. If you're not familiar with Vim, this option might make it look like Obsidian has stopped working.",
            "label-vim-test":
              "To verify that you know your way around Vim, please enter the command to quit Vim without saving below:",
            "label-vim-your-answer": "Your answer",
            "placeholder-enter-command": "Enter command...",
            "button-confirm-enable-vim": "Let me enable Vim",
            "msg-vim-mode-enabled": "Command is correct. Vim mode now enabled.",
            "msg-vim-mode-not-enabled":
              "Command is incorrect. Vim mode remains disabled to protect you.",
            "msg-vim-mode-please-enter-command":
              "Please enter the command to enable Vim mode",
            "button-turn-on-live-preview": "Turn on Live Preview",
            "label-live-preview-update": "Live Preview update",
            "label-live-preview-update-1":
              "With this update, Obsidian now offers the new Live Preview mode.",
            "label-live-preview-update-2":
              "Live Preview lets you preview your notes in the same view that you're writing them in, so you don't need to keep switching between Edit and Preview.",
            "label-live-preview-update-3":
              "You can see Live Preview in action below:",
            "label-live-preview-update-4":
              "After turning it on, you can turn it off anytime if you decide you don't like it.",
          },
          file: {
            name: "Files & Links",
            "option-confirm-file-deletion": "Confirm file deletion",
            "option-confirm-file-deletion-description":
              "Prompt before file deletion.",
            "option-delete-destination": "Deleted files",
            "option-delete-destination-description":
              "What happens to a file after you delete it.",
            "option-choice-system-trash": "Move to system trash",
            "option-choice-vault-trash":
              "Move to Obsidian trash (.trash folder)",
            "option-choice-permanent-delete": "Permanently delete",
            "option-always-update-links": "Automatically update internal links",
            "option-always-update-links-description":
              "Turn off to be prompted to update links after renaming a file.",
            "option-new-note-location": "Default location for new notes",
            "option-new-note-location-description":
              "Where newly created notes are placed. Plugin settings will override this.",
            "option-choice-vault-root": "Vault folder",
            "option-choice-current-folder": "Same folder as current file",
            "option-choice-specified-folder": "In the folder specified below",
            "option-new-file-folder-path": "Folder to create new notes in",
            "option-new-file-folder-path-description":
              "Newly created notes will appear under this folder. Plugin settings will override this.",
            "option-use-wiki-links": "Use [[Wikilinks]]",
            "option-use-wiki-links-description":
              "Auto-generate Wikilinks for [[links]] and ![[images]] instead of Markdown links and images. Disable this option to generate Markdown links instead.",
            "option-show-unsupported-files": "Detect all file extensions",
            "option-show-unsupported-files-description":
              "Show files with any extension even if Obsidian can't open them natively, so that you can link to them and see them in File Explorer and Quick Switcher.",
            "option-link-autocompleted-format": "New link format",
            "option-link-autocompleted-format-description":
              "What links to insert when auto-generating internal links.",
            "option-choice-shortest-linktext": "Shortest path when possible",
            "option-choice-relative-path": "Relative path to file",
            "option-choice-absolute-path": "Absolute path in vault",
            "option-new-attachment-location":
              "Default location for new attachments",
            "option-new-attachment-location-description":
              "Where newly added attachments are placed.",
            "option-choice-subdirectory": "In subfolder under current folder",
            "option-attachment-folder-path": "Attachment folder path",
            "option-attachment-folder-path-description":
              "Place newly created attachment files, such as images created via drag-and-drop or audio recordings, in this folder.",
            "option-attachment-subfolder-path": "Subfolder name",
            "option-attachment-subfolder-path-description":
              'If your file is under "vault/folder", and you set subfolder name to "attachments", attachments will be saved to "vault/folder/attachments".',
            "option-attachment-subfolder-path-placeholder": "attachments",
          },
          appearance: {
            name: "Appearance",
            "option-base-theme": "Base theme",
            "option-base-theme-description":
              "Choose Obsidian's default color scheme.",
            "dark-theme": "Dark",
            "light-theme": "Light",
            "option-use-obsidian-css": "Apply custom CSS",
            "option-use-obsidian-css-description":
              "Read and apply “obsidian.css” in the vault folder. This is a legacy setting, please consider moving your custom CSS file to the snippet folder below.",
            "option-community-themes": "Community themes",
            "option-community-themes-description":
              "Preview and use amazing themes created by the community.",
            "button-browse-community-themes": "Browse",
            "option-font-size": "Font size",
            "option-font-size-description":
              "Font size in pixels that affects editing and reading views.",
            "option-font-size-action": "Quick font size adjustment",
            "option-font-size-action-description":
              "Adjust the font size using Ctrl + Scroll, or using the trackpad pinch-zoom gesture.",
            "option-themes": "Themes",
            "option-manage-themes-description":
              "Manage installed themes and browse community themes.",
            "option-theme-button-manage": "Manage",
            "option-choice-none": "None",
            "button-reload-themes": "Reload themes",
            "msg-reloaded-themes": "Reloaded custom CSS themes.",
            "button-open-themes-folder": "Open themes folder",
            "option-css-snippets": "CSS snippets",
            "label-no-css-snippets-found": "No CSS snippets found.",
            "no-snippet-description": 'CSS Snippets are stored in "{{path}}".',
            "button-reload-snippets": "Reload snippets",
            "button-open-snippets-folder": "Open snippets folder",
            "msg-reloaded-snippets": "Reloaded CSS snippets.",
            "option-toggle-snippet-description":
              'Apply CSS snippet at "{{path}}".',
            "label-installed-themes": "Installed themes",
            "label-screenshot-unavailable": "Screenshot unavailable",
            "label-default-theme": "Default",
            "tooltip-click-to-enlarge": "Click to enlarge",
            "button-update": "Update",
            "label-currently-selected": "Selected",
          },
          hotkeys: {
            name: "Hotkeys",
            "prompt-filter": "Filter...",
            "tooltip-delete-hotkey": "Delete hotkey",
            "label-waiting-for-hotkey-press": "Press hotkey...",
            "tooltip-restore-default": "Restore default",
            "tooltip-customize-command": "Customize this command",
            "tooltip-hotkey-single-conflict":
              'This hotkey conflicts with "{{command}}"',
            "tooltip-hotkey-multiple-conflicts":
              "This hotkey conflicts with {{count}} other commands",
            "label-blank-hotkey": "Blank",
          },
          about: {
            name: "About",
            "label-commercial-license": "Commercial license",
            "label-license-key": "License key",
            "license-key-placeholder": "Your license key...",
            "label-enter-commercial-license":
              "Please enter your commercial license key:",
            "label-activate-license": "Activate license",
            "button-activate": "Activate",
            "label-unknown-version": "Unknown",
            "label-current-version": "Current version: ",
            "label-install-version": "(Installer version: {{version}})",
            "label-up-to-date": "Your app is up-to-date!",
            "label-read-changelog": "Read the changelog.",
            "label-manual-install-required":
              "A manual installation is required to update to the latest version.",
            "label-download": "Download",
            "label-new-version-ready":
              "A new version is ready to be installed. ",
            "label-relaunch-to-update": "Relaunch the app to update.",
            "label-disabled-updates": "Updates are disabled.",
            "label-checking-for-updates": "Checking for updates...",
            "button-relaunch": "Relaunch",
            "button-check-for-updates": "Check for updates",
            "option-auto-update": "Automatic updates",
            "option-auto-update-description":
              "Turn this off to prevent the app from checking for updates.",
            "option-open-help": "Obsidian help",
            "option-open-help-description": "Open the help documentation.",
            "button-open": "Open",
            "option-language": "Language",
            "option-language-description": "Change the display language.",
            "option-insider-build": "Receive insider builds",
            "option-insider-build-description":
              "Auto-update to insider builds and try new features. These builds are bleeding-edge and might be less stable.",
            "option-advanced": "Advanced",
            "option-hw-acceleration": "Hardware Acceleration",
            "option-hw-acceleration-description":
              "Turns on Hardware Acceleration, which uses your GPU to make Obsidian smoother.",
            "option-hw-acceleration-warning":
              "If you turn this off, app performance will be severely degraded.",
            "option-config-location": "Override config folder",
            "option-config-location-description":
              "Use a different config folder than the default one. Must start with a dot.",
            "option-config-location-warning":
              "Config location must be a valid folder name that starts with a dot.",
            "label-license": "License",
            "label-your-commercial-license-key":
              'Your commercial license key is "{{key}}".',
            "label-commercial-license-info":
              'Registered to "{{company}}" for {{seats}} users. Valid until {{expiry}}.',
            "label-validating-commercial-license": "Validating...",
            "label-invalid-commercial-license": "License invalid: ",
            "button-activate-commercial-license": "Activate commercial license",
            "button-remove-commercial-license": "Remove",
            "label-personal-license": " personal license. ",
            "label-thank-you-for-support": "Thank you for your support!",
            "label-free-personal-license":
              "Personal license: free for personal use.",
          },
          account: {
            name: "Account",
            "label-welcome": "Welcome, {{name}}!",
            "label-your-account-email": "Your account is ",
            "label-insider": "insider",
            "label-supporter": "supporter",
            "label-vip": "VIP",
            "label-role-text": "You've upgraded to {{- role}}!",
            "label-insider-build-access":
              "Thank you for your support. You have access to our insider builds.",
            "label-action-suggestion": "You may want to:",
            "button-get-commercial-license": "Get a commercial license",
            "button-get-catalyst-license":
              "Support Obsidian with Obsidian Catalyst",
            "button-check-for-catalyst-license": "Check for Obsidian Catalyst",
            "button-upgrade-catalyst-license": "Upgrade to a higher tier",
            "button-log-out": "Log out",
            "label-log-in": "Log in",
            "label-email": "Email",
            "placeholder-email": "Your email...",
            "label-password": "Password",
            "placeholder-password": "Your password...",
            "button-login": "Login",
            "message-empty-email": "Email cannot be empty.",
            "message-invalid-email": "Email is not valid.",
            "message-empty-password": "Password cannot be empty.",
            "message-login-failed":
              "Login failed, please double check your email and password.",
            "label-no-account": "Don't have an account? ",
            "link-sign-up-now": "Sign up now",
            "message-get-community-badges-instructions":
              "For Discord and forum badges, please refer to {{link}}.",
            "message-get-community-badges-link-text": "this guide",
            "message-obtain-commercial-license":
              "To obtain a commercial license, visit {{pricingPageLink}}.",
          },
          "core-plugin": {
            "plugin-list": "Plugin list",
            "option-search-plugin": "Search core plugins",
            "option-search-plugin-description":
              "Filter plugins by name or description.",
            "placeholder-search-plugin": "Search plugins...",
          },
          "third-party-plugin": {
            name: "Community plugins",
            "option-safe-mode": "Safe mode",
            "option-safe-mode-description-on":
              "Safe Mode is ON. All community plugins are disabled.",
            "option-safe-mode-description-off":
              "Safe Mode is OFF. Community plugins can now be enabled.",
            "option-browse-community-plugins": "Community plugins",
            "option-browse-community-plugins-description":
              "Browse and install third-party plugins made by our amazing community.",
            "button-browse": "Browse",
            "label-third-party-plugin-warning":
              "Community plugins can access files on your computer, connect the internet, and even install additional programs. They can also be faulty and cause data corruption or data loss.",
            "label-disable-safe-mode-confirmation":
              "Would you like to disable Safe Mode to allow these third-party plugins? Make sure you have setup backups of your vault in case plugins malfunction and wipe your notes.",
            "button-keep-safe-mode": "Keep Safe Mode on",
            "button-disable-safe-mode": "Turn off Safe Mode",
            "label-select-a-plugin":
              "Select a plugin to install or learn more about it.",
            "placeholder-community-plugins": "Search community plugins...",
            "msg-failed-load-plugins": "Failed to load community plugins.",
            "label-installed": "Installed",
            "tooltip-downloaded-times": "Downloaded {{count}} time",
            "tooltip-downloaded-times_plural": "Downloaded {{count}} times",
            "button-install": "Install",
            "button-enable": "Enable",
            "button-disable": "Disable",
            "button-copy-share-link": "Copy share link",
            "label-no-results-found": "No results found.",
            "msg-failed-to-load-manifest": "Failed to load plugin manifest.",
            "label-version": "Version: {{version}}",
            "label-currently-installed-version":
              " (currently installed: {{version}})",
            "label-by-author": "By ",
            "label-repository": "Repository: ",
            "label-unsupported": "This plugin does not support your device.",
            "button-update": "Update",
            "label-no-readme": "This plugin did not provide a README file.",
            "msg-installing-plugin": 'Installing plugin "{{name}}"...',
            "msg-failed-to-install-plugin":
              'Failed to install plugin "{{name}}".',
            "msg-successfully-installed-plugin":
              'Successfully installed plugin "{{name}}".',
            "label-installed-plugins": "Installed plugins",
            "button-reload-plugins": "Reload plugins",
            "msg-reloaded-third-party-plugins": "Reloaded third-party plugins.",
            "label-uninstall": "Uninstall",
            "label-uninstall-plugin": "Uninstall plugin",
            "label-uninstall-plugin-confirmation":
              "Are you sure you want to uninstall this plugin? This will delete the folder of the plugin.",
            "button-open-plugins-folder": "Open plugins folder",
            "button-check-for-updates": "Check for updates",
            "button-update-all-plugins": "Update all",
            "label-current-plugins": "Current plugins",
            "label-currently-installed":
              "You currently have {{count}} plugin installed.",
            "label-currently-installed_plural":
              "You currently have {{count}} plugins installed.",
            "label-debug-startup-time": "Debug startup time",
            "label-debug-startup-time-description":
              "Show a message with how long each plugin took to initialize when starting the app.",
            "msg-no-updates-found": "No plugin updates found.",
            "msg-updates-found": "Found {{count}} plugin to update.",
            "msg-updates-found_plural": "Found {{count}} plugins to update.",
            "msg-update-plugin": "Update to version {{version}}",
            "option-search-installed-plugin": "Search installed plugins",
            "option-search-installed-plugin-description":
              "Filter installed plugins by name or description.",
            "placeholder-search-installed-plugin":
              "Search installed plugins...",
            "label-sort-downloads-high-to-low": "Download count (high to low)",
            "label-sort-downloads-low-to-high": "Download count (low to high)",
            "label-sort-release-date-new-to-old":
              "First released time (new to old)",
            "label-sort-release-date-old-to-new":
              "First released time (old to new)",
            "label-sort-name-alphabetical": "Name (A to Z)",
            "label-sort-name-alphabetical-reverse": "Name (Z to A)",
            "label-search-summary": "Showing {{pluginCount}}:",
          },
          "mobile-toolbar": {
            name: "Mobile",
            "option-configure-quick-action": "Configure mobile Quick Action",
            "option-configure-quick-action-description":
              'Configure which command to trigger when pull down from the top. The current command is set to "{{command}}".',
            "button-configure": "Configure",
            "placeholder-select-quick-action": "Select Quick Action...",
            "manage-toolbar-options": "Manage toolbar options",
            "option-internal-link": "Add internal link",
            "option-internal-embed": "Add embed",
            "option-tag": "Add tag",
            "option-heading": "Toggle heading",
            "option-strikethrough": "Toggle strikethrough",
            "option-highlight": "Toggle highlight",
            "option-code": "Toggle code",
            "option-blockquote": "Toggle blockquote",
            "option-markdown-link": "Add Markdown link",
            "option-bullet-list": "Toggle bullet list",
            "option-numbered-list": "Toggle numbered list",
            "option-indent-list": "Indent list item",
            "option-unindent-list": "Unindent list item",
            "option-undo": "Undo",
            "option-redo": "Redo",
            "option-move-caret-up": "Move caret up",
            "option-move-caret-down": "Move caret down",
            "option-move-caret-left": "Move caret left",
            "option-move-caret-right": "Move caret right",
            "option-first-line": "Go to first line",
            "option-last-line": "Go to last line",
            "option-toggle-keyboard": "Toggle keyboard",
            "option-configure-toolbar": "Configure mobile toolbar",
            "option-added-options": "Added options",
            "option-more-toolbar-options": "More toolbar options",
            "option-attach": "Insert attachment",
            "option-add-command": "Add global command",
            "option-add-command-description":
              "Select any global command to add to the toolbar.",
          },
        },
        editor: {
          search: {
            "placeholder-find": "Find",
            "placeholder-replace": "Replace",
            "label-previous": "Prev",
            "label-next": "Next",
            "label-all": "All",
            "label-exit-search": "Exit search",
            "label-replace": "Replace",
            "label-replace-all": "Replace all",
          },
          "link-suggestion": {
            "label-type-hash": "Type #",
            "label-link-heading": "to link heading",
            "label-type-block": "Type ^",
            "label-link-block": "to link blocks",
            "label-type-pipe": "Type |",
            "label-change-display-text": "to change display text",
            "label-no-match-found": "No match found",
          },
          spellcheck: {
            "no-suggestion": "No suggestions...",
            "add-to-dictionary": "Add to dictionary",
          },
          "print-modal": {
            title: "Export to PDF",
            caption: 'Export "{{filename}}" to PDF with the settings below.',
            "setting-page-size": "Page size",
            "setting-page-size-a3": "A3",
            "setting-page-size-a4": "A4",
            "setting-page-size-a5": "A5",
            "setting-page-size-legal": "Legal",
            "setting-page-size-letter": "Letter",
            "setting-page-size-tabloid": "Tabloid",
            "setting-landscape": "Landscape",
            "setting-margin": "Margin",
            "setting-margin-default": "Default",
            "setting-margin-minimal": "Minimal",
            "setting-margin-none": "None",
            "setting-downscale-percent": "Downscale percent",
            "button-export-to-pdf": "Export to PDF",
          },
          "link-popover": {
            "tooltip-follow-link": "Follow link",
            "tooltip-open-link": "Open link",
            "tooltip-search-tag": "Search tag",
          },
        },
        interface: {
          "embed-open-in-default-app-tooltip": "Open in default app",
          "empty-sidebar": "The sidebar is empty, try dragging a pane here.",
          "sidebar-expand": "Expand",
          "sidebar-collapse": "Collapse",
          "msg-fail-to-save-file":
            'Failed to save file "{{filepath}}". {{message}}. Make a backup of the contents of this file now to avoid losing data.',
          "no-file": "No file",
          "msg-file-changed":
            '"{{file}}" has been modified externally, merging changes automatically.',
          "switch-vault": "Open another vault",
          help: "Help",
          settings: "Settings",
          "drag-to-rearrange": "Drag to rearrange",
          "msg-switched-to-read": "Switched default view mode to reading view.",
          "msg-switched-to-edit": "Switched default view mode to editing view.",
          "msg-upgrade-installer":
            "To use this feature, please re-install with latest installer available from our website.",
          "tooltip-restore-default-settings": "Restore default settings",
          "label-copy": "Copy to clipboard",
          copied: "{{item}} copied to your clipboard",
          url: "URL",
          "msg-open-file-through-uri": 'Opened file "{{path}}"',
          "msg-file-not-found-through-uri": 'File "{{name}}" not found.',
          "delete-action-short-name": "Delete",
          "msg-indexing":
            "Obsidian is indexing your vault...\nThis should only happen once.\nSome functionality may not be available until this is complete.",
          "msg-indexing-complete": "Indexing complete.",
          "msg-demo-vault":
            "This is a demo vault.\nChanges you make in this vault will be lost.",
          "label-enter-to-create": "Enter to create",
          "label-update-available": "Update Available",
          "label-debug-info": "Debug info",
          "button-learn-more": "Learn more",
          "button-not-now": "Not now",
          "empty-state": {
            "no-file-open": "No file is open",
            "create-new-file": "Create new file",
            "go-to-file": "Go to file",
            "see-recent-files": "See recent files",
            close: "Close",
            "unknown-pane-title": "Plugin no longer active",
            "unknown-pane-desc":
              "The plugin that created this pane ({{type}}) has gone away",
          },
          menu: {
            "edit-view": "Current view: editing",
            "read-view": "Current view: reading",
            "switch-to-edit-view": "Click to edit",
            "switch-to-read-view": "Click to read",
            "mod-click-open-new-pane": "{{key}}+Click to open in new pane",
            find: "Find...",
            replace: "Replace...",
            edit: "Edit",
            preview: "Preview",
            "more-options": "More options",
            close: "Close",
            pin: "Pin",
            "unlink-pane": "Unlink pane",
            "link-pane": "Link with pane...",
            "delete-file": "Delete file",
            "open-in-new-pane": "Open in new pane",
            "copy-url": "Copy URL",
            "close-current-pane": "Close current pane",
            copy: "Copy",
            cut: "Cut",
            paste: "Paste",
            "paste-as-plain-text": "Paste as plain text",
            "select-all": "Select all",
            "rename-heading": "Rename this heading...",
          },
          tooltip: {
            "click-to-expand": "Click to expand",
            "click-to-collapse": "Click to collapse",
            alias: "Alias",
            "not-created-yet": "Not created yet, select to create",
          },
          "start-screen": {
            "label-version": "Version",
            "option-open-folder-as-vault": "Open folder as vault",
            "option-open-folder-as-vault-description":
              "Choose an existing folder of Markdown files.",
            "option-create-vault": "Create new vault",
            "option-create-vault-description":
              "Create a new Obsidian vault under a folder.",
            "option-open-help-vault": "Open help vault",
            "option-open-help-vault-description": 'Open a "Demo & Help" vault.',
            "option-new-vault-name": "Vault name",
            "option-new-vault-name-description":
              "Pick a name for your awesome vault.",
            "option-new-vault-location": "Location",
            "option-new-vault-location-description":
              "Pick a place to put your new vault.",
            "button-open": "Open",
            "button-help": "Help",
            "button-browse": "Browse",
            "button-create-vault": "Create",
            "button-back": "Back",
            "msg-empty-vault-name": "Vault name cannot be empty.",
            "msg-invalid-folder": "Please pick a valid folder.",
            "msg-failed-to-create-vault": "Failed to create vault.",
            "msg-failed-to-create-vault-at-location":
              "Could not create vault at the given location. Please double check the location and permission.",
            "msg-error-failed-to-open-vault": "Failed to open.",
            "msg-error-remove-current-open-vault":
              "Can't remove a currently open vault.",
          },
          "drag-and-drop": {
            "insert-link-here": "Insert link here",
            "insert-links-here": "Insert links here",
            "move-into-folder": 'Move into "{{folder}}"',
            "star-this-file": "Star this file",
            "star-these-files": "Star these files",
            "open-in-this-pane": "Open in this pane",
          },
          window: {
            maximize: "Maximize",
            minimize: "Minimize",
            "restore-down": "Restore down",
            "close-window": "Close window",
            "go-back": "Go back",
            "go-forward": "Go forward",
          },
          "start-up": {
            "loading-obsidian": "Loading Obsidian...",
            "obsidian-load-error": "An error occurred while loading Obsidian.",
            "button-reload-app": "Reload app",
            "button-open-another-vault": "Open another vault",
            "loading-components": "Loading components...",
            "loading-plugins": "Loading plugins...",
            "loading-vault": "Loading vault...",
            "msg-failed-to-load-vault": "Failed to load vault: ",
            "loading-cache": "Loading cache...",
            "loading-workspace": "Loading workspace...",
          },
          mobile: {
            "action-import": "Import into vault",
            "action-choose-file-to-insert": "Choose a file to insert",
            "action-insert-text-into-file": "Insert text into {{filename}}",
            "action-insert-link-into-file": "Insert link into {{filename}}",
            "msg-importing": "Importing...",
            "msg-import-success": "Import success",
            "msg-failed-to-import-file": "Failed to import file {{filename}}",
          },
        },
        commands: {
          "save-file": "Save current file",
          "follow-cursor-link": "Follow link under cursor",
          "open-cursor-link-in-new-pane": "Open link under cursor in new pane",
          "navigate-pane-above": "Focus on pane above",
          "navigate-pane-below": "Focus on pane below",
          "navigate-pane-left": "Focus on pane to the left",
          "navigate-pane-right": "Focus on pane to the right",
          "toggle-pin": "Toggle pin",
          "split-vertically": "Split vertically",
          "split-horizontally": "Split horizontally",
          "navigate-back": "Navigate back",
          "navigate-forward": "Navigate forward",
          "use-dark-mode": "Use dark mode",
          "use-light-mode": "Use light mode",
          "search-current-file": "Search current file",
          "search-replace-current-file": "Search & replace in current file",
          "open-settings": "Open settings",
          "open-help": "Open help",
          "toggle-edit": "Toggle editing/reading view",
          "toggle-source-mode": "Toggle Live Preview/Source mode",
          "delete-current-file": "Delete current file",
          "close-active-pane": "Close active pane",
          "close-other-panes": "Close all other panes",
          "toggle-left-sidebar": "Toggle left sidebar",
          "toggle-right-sidebar": "Toggle right sidebar",
          "toggle-default-new-pane-mode": "Toggle default new pane mode",
          "focus-editor": "Focus on editor",
          "toggle-fold": "Toggle fold on the current line",
          "fold-all": "Fold all headings and lists",
          "unfold-all": "Unfold all headings and lists",
          "swap-line-up": "Move line up",
          "swap-line-down": "Move line down",
          "toggle-bold": "Toggle bold",
          "toggle-italics": "Toggle italics",
          "toggle-highlight": "Toggle highlight",
          "toggle-comments": "Toggle comment",
          "insert-link": "Insert Markdown link",
          "toggle-spellcheck": "Toggle spellcheck",
          "delete-paragraph": "Delete paragraph",
          "toggle-checklist": "Toggle checkbox status",
          "cycle-list-checklist": "Cycle bullet/checkbox",
          "edit-file-title": "Edit file title",
          "copy-path": "Copy file path",
          "copy-url": "Copy Obsidian URL",
          "export-pdf": "Export to PDF",
          reload: "Reload app without saving",
          "undo-close-pane": "Undo close pane",
          "context-menu": "Show context menu under cursor",
          "show-debug-info": "Show debug info",
          "toggle-preview": "Toggle reading view",
        },
        dialogue: {
          "label-link-affected": "This will affect {{links}} in {{files}}.",
          "msg-updated-links": "Updated {{links}} in {{files}}.",
          "label-update-links": "Update links",
          "label-confirm-update-link-to-file":
            "Do you want to update internal links that link to this file?",
          "button-always-update": "Always update",
          "button-just-once": "Just once",
          "button-do-not-update": "Do not update",
          "label-confirm-deletion":
            'Are you sure you want to delete "{{filename}}"?',
          "label-move-to-system-trash":
            "It will be moved to your system trash.",
          "label-move-to-vault-trash":
            'It will be moved to your Obsidian trash, which is located in the ".trash" hidden folder in your vault.',
          "label-permanent-delete": "The file will be permanent deleted.",
          "label-non-empty-folder": "This folder is not empty.",
          "label-delete-folder-warning":
            "If you continue, all files inside this folder will be deleted.",
          "label-delete-folder": "Delete folder",
          "button-delete": "Delete",
          "button-delete-do-not-ask-again": "Delete and don't ask again",
          "label-existing-backlink":
            "There are currently {{links}} pointing to this note.",
          "label-delete-file": "Delete file",
          "button-cancel": "Cancel",
          "button-done": "Done",
          "button-continue": "Continue",
          "preparing-pdf": "Preparing PDF...",
          "label-rename-file": "Rename file",
          "label-new-name": "New name",
          "msg-rename-success": "Successfully renamed file.",
          "label-rename-heading": "Rename heading",
        },
        plugins: {
          name: "Plugins",
          "file-explorer": {
            name: "File explorer",
            desc: "See the files and folders in your vault.",
            "action-open": "Open file explorer",
            "action-show": "Show file explorer",
            "action-create-note": "Create new note",
            "action-create-note-in-new-pane": "Create note in new pane",
            "action-new-note": "New note",
            "action-new-folder": "New folder",
            "action-change-sort": "Change sort order",
            "action-reveal-file": "Reveal file in navigation",
            "action-reveal-active-file": "Reveal active file in navigation",
            "command-move-file": "Move file to another folder",
            "action-move-file": "Move file to...",
            "action-move-folder": "Move folder to...",
            "prompt-type-folder": "Type a folder",
            "label-no-folders": "No folders found.",
            "instruction-navigate": "to navigate",
            "instruction-move": "to move",
            "instruction-dismiss": "to dismiss",
            "label-sort-a-to-z": "File name (A to Z)",
            "label-sort-z-to-a": "File name (Z to A)",
            "label-sort-new-to-old": "Modified time (new to old)",
            "label-sort-old-to-new": "Modified time (old to new)",
            "label-sort-created-old-to-new": "Created time (old to new)",
            "label-sort-created-new-to-old": "Created time (new to old)",
            "menu-opt-new-note": "New note",
            "menu-opt-new-folder": "New folder",
            "menu-opt-set-attachment-folder": "Set as attachment folder",
            "menu-opt-rename": "Rename",
            "menu-opt-delete": "Delete",
            "menu-opt-make-copy": "Make a copy",
            "msg-invalid-characters":
              "File name cannot contain any of these characters: ",
            "msg-unsafe-characters":
              "Links will not work with file names containing any of these characters: ",
            "msg-file-already-exists":
              "There's already a file with the same name",
            "msg-empty-file-name": "File name cannot be empty.",
            "tooltip-modified-time": "Last modified at {{time}}",
            "tooltip-created-time": "Created at {{time}}",
            "tooltip-folders-files-count": "{{fileCount}}, {{folderCount}}",
            "action-move-file-short-name": "Move",
            "label-untitled-file": "Untitled",
            "label-untitled-folder": "Untitled",
            "msg-set-attachment-folder":
              'Attachments will be saved to "{{path}}" from now on.',
          },
          search: {
            name: "Search",
            desc: "Search for a keyword in all the notes.",
            "action-open-search": "Search in all files",
            "label-collapse-results": "Collapse results",
            "label-match-case": "Match case",
            "label-explain-search-term": "Explain search term",
            "label-more-context": "Show more context",
            "prompt-start-search": "Type to start search...",
            "label-match-text": "Matches text: ",
            "label-match-regex": "Matches regex: ",
            "label-match-exact-text": "Contains exact text: ",
            "label-match-all": "Match all of: ",
            "label-match-any": "Match any of: ",
            "label-excluding": "Excluding: ",
            "label-case-sensitive": "Case sensitive",
            "label-case-insensitive": "Case insensitive",
            "label-match-file-path": "Match file path: ",
            "label-match-file-name": "Match file name: ",
            "label-match-content": "Match file content: ",
            "label-match-task": "Match task: ",
            "label-match-task-todo": "Match task (todo): ",
            "label-match-task-done": "Match task (done): ",
            "label-match-line": "Match line: ",
            "label-match-block": "Match block: ",
            "label-match-section": "Match section: ",
            "label-match-tag": "Match tag: ",
            "label-no-matches": "No matches found.",
            "matches-with-count": "... and {{count}} more match.",
            "matches-with-count_plural": "... and {{count}} more matches.",
            "label-copy-search-results": "Copy search results",
            "button-copy-results": "Copy results",
            "msg-successfully-copied": "Results copied to your clipboard.",
            "option-show-path": "Show path",
            "option-show-path-description":
              "Display full path of the file rather than just the file name.",
            "option-link-style": "Link style",
            "option-link-style-description":
              "Optionally turn each file result in to a link.",
            "option-choice-link-style-none": "None",
            "option-choice-link-style-wikilink": "Wikilink",
            "option-choice-link-style-markdown-link": "Markdown link",
            "option-list-prefix": "List prefix",
            "option-list-prefix-description":
              "Optionally add a list item prefix to each file result.",
            "option-choice-list-style-none": "None",
            "option-choice-list-style-dash": "Dash (-)",
            "option-choice-list-style-asterisk": "Asterisk (*)",
            "option-choice-list-style-numbered": "Numbered",
            "tooltip-clear-search": "Clear search",
            "label-search-options": "Search options",
            "tooltip-read-more": "Read more",
            "label-history": "History",
            "tooltip-clear-history": "Clear search history",
            "label-path-option-description": "match path of the file",
            "label-file-name-option-description": "match file name",
            "label-tag-option-description": "search for tags",
            "label-line-option-description": "search keywords on same line",
            "label-section-option-description":
              "search keywords under same heading",
            "menu-opt-search-for": 'Search for "{{keyword}}"',
          },
          "quick-switcher": {
            name: "Quick switcher",
            desc: "Use Ctrl/Cmd+O to jump to other files with your keyboard.",
            "short-name": "Switcher",
            "action-open": "Open quick switcher",
            "instruction-navigate": "to navigate",
            "instruction-open": "to open",
            "instruction-open-in-new-pane": "to open in new pane",
            "instruction-create": "to create",
            "instruction-dismiss": "to dismiss",
            "label-no-note-create-new":
              "No notes found. Enter to create a new one.",
            "prompt-type-file-name": "Type file to switch to or create...",
            "label-enter-to-create": "Enter to create",
            "tooltip-not-created-yet": "Not created yet, select to create",
            "option-show-existing-only": "Show existing only",
            "option-show-existing-only-description":
              "Only show results from existing files. Links to files that are not yet created will be hidden.",
            "option-show-attachments": "Show attachments",
            "option-show-attachments-desc":
              "Show attachment files like images, videos, and PDFs.",
            "option-show-all-file-types": "Show all file types",
            "option-show-all-file-types-desc":
              "Show all files including ones that Obsidian can't open. The file will be opened with the default app for that file type.",
          },
          "graph-view": {
            name: "Graph view",
            desc: "View a graph that displays links between your notes.",
            "action-open": "Open graph view",
            "action-open-local": "Open local graph",
            "action-copy-screenshot": "Copy screenshot",
            "tab-title": "Graph of {{displayText}}",
            "label-filters": "Filters",
            "prompt-filter-nodes": "Search files...",
            "option-depth": "Depth",
            "option-depth-description": "Show nodes this number of links away",
            "option-neighbor-links": "Neighbor links",
            "option-neighbor-links-description": "Show links between neighbors",
            "option-forelinks": "Outgoing links",
            "option-forelinks-description": "Show links to other files",
            "option-backlinks": "Incoming links",
            "option-backlinks-description": "Show links from other files",
            "option-show-tags": "Tags",
            "option-show-tags-description":
              "Tags are linked to the files that contain them",
            "option-show-attachments": "Attachments",
            "option-show-attachments-description": "Show attachments",
            "option-show-existing-files-only": "Existing files only",
            "option-show-existing-files-only-description":
              "When enabled, links to nonexistent files are not shown",
            "option-show-orphans": "Orphans",
            "option-show-orphans-description":
              "Show files that are not linked to any other file",
            "label-display": "Display",
            "option-show-arrows": "Arrows",
            "option-show-arrows-description": "Show arrows when zoomed in",
            "option-text-fade": "Text fade threshold",
            "option-node-size": "Node size",
            "option-link-thickness": "Link thickness",
            "label-forces": "Forces",
            "option-center-force": "Center force",
            "option-link-force": "Link force",
            "option-link-distance": "Link distance",
            "option-repel-force": "Repel force",
            "tooltip-open-graph-settings": "Open graph settings",
            "msg-screenshot-copied": "Screenshot copied to the clipboard.",
            "label-groups": "Groups",
            "placeholder-enter-query": "Enter query...",
            "tooltip-delete-graph": "Delete group",
            "button-new-group": "New group",
            "tooltip-click-to-change-drag-to-reorder":
              "Click to change color\nDrag to reorder groups",
            "action-timelapse": "Start graph timelapse animation",
            "tooltip-start-timelapse-animation": "Start timelapse animation",
            "button-animate-timelapse": "Animate",
          },
          backlinks: {
            name: "Backlinks",
            desc: "Show links from other files to this file. Backlinks can be shown in a separate pane or optionally in the document itself.",
            "action-open": "Open backlinks",
            "action-show": "Show backlinks pane",
            "action-open-for-current": "Open backlinks for the current file",
            "action-toggle-backlinks-in-document":
              "Toggle backlinks in document",
            "label-linked-mentions": "Linked mentions",
            "label-no-backlinks": "No backlinks found.",
            "label-unlinked-mentions": "Unlinked mentions",
            "label-show-search": "Show search filter",
            "label-link-button-text": "Link",
            "tab-title": "Backlinks for {{displayText}}",
            "label-no-unlinked-mentions": "No unlinked mentions found.",
            ellipsis: "...",
            "option-backlink-in-document": "Backlink in document",
            "option-backlink-in-document-desc":
              "Show backlinks in document by default when opening new panes.",
          },
          "outgoing-links": {
            name: "Outgoing Links",
            desc: "Show outgoing links and detect unlinked mentions of other notes in the current note.",
            "action-open": "Open outgoing links",
            "action-show": "Show outgoing links pane",
            "action-open-for-current":
              "Open outgoing links for the current file",
            "tab-title": "Outgoing links from {{displayText}}",
            "label-links": "Links",
            "label-no-links": "No links found.",
            "label-unlinked-mentions": "Unlinked mentions",
            "tooltip-link-file": "Link this file",
            "tooltip-not-created": "Not created yet",
          },
          "tag-pane": {
            name: "Tag pane",
            desc: "Display your tags and their number of occurrences.",
            "action-show": "Show tag pane",
            "label-no-tags": "No tags found.",
            "label-sort-by-name-a-to-z": "Tag name (A to Z)",
            "label-sort-by-name-z-to-a": "Tag name (Z to A)",
            "label-sort-by-frequency-high-to-low": "Frequency (high to low)",
            "label-sort-by-frequency-low-to-high": "Frequency (low to high)",
            "action-show-nested-tags": "Show nested tags",
          },
          "page-preview": {
            name: "Page preview",
            desc: "Hover an internal link to preview its content. In editor mode, press Ctrl/Cmd while hovering.",
            "label-empty-note":
              '"{{linktext}}" is not created yet. Click to create.',
            "label-source-editor": "Editing view",
            "label-source-preview": "Reading view",
            "label-source-search": "Search, Backlinks, and Outgoing links",
            "label-require-mod":
              "Require {{key}} to trigger page preview on hover",
          },
          starred: {
            name: "Starred",
            desc: "Star frequently used files and searches.",
            "action-show": "Show starred pane",
            "action-toggle": "Star/unstar current file",
            "action-toggle-search": "Star/unstar current search",
            "action-star": "Star",
            "action-unstar": "Unstar",
            "menu-opt-remove": "Remove",
            "msg-successfully-starred":
              'Successfully starred {{type}} "{{title}}".',
            "msg-removed-starred": 'Removed starred {{type}} "{{title}}".',
            "msg-cannot-find-path": 'Cannot find file at "{{path}}".',
          },
          "custom-css": {
            name: "Custom CSS",
            desc: "Read and apply “obsidian.css” in the vault folder.",
            "setting-community-themes": "Community themes",
            "msg-fetching-themes": "Fetching community theme data...",
            "prompt-filter": "Filter...",
            "label-dark-theme-only": "Dark themes only",
            "label-light-theme-only": "Light themes only",
            "label-use": "Use",
            "label-update": "Update",
            "tooltip-remove-theme": "Remove theme",
            "label-visit-on-github": "Visit on GitHub",
            "msg-load-error":
              "Could not load community themes, please check your network.",
            "msg-now-using-theme":
              "You're now using {{title}} as your CSS theme.",
            "msg-deleted-theme": "The theme {{title}} has been deleted.",
            "msg-updated-theme": "The theme {{title}} has been updated.",
          },
          "command-palette": {
            name: "Command palette",
            desc: "Use Cmd/Ctrl+P and begin typing to invoke a command.",
            "action-open": "Open command palette",
            "instruction-navigate": "to navigate",
            "instruction-use": "to use",
            "instruction-dismiss": "to dismiss",
            "label-no-commands": "No commands found.",
            "prompt-type-command": "Select a command...",
            "label-pinned-commands": "Pinned commands",
            "option-add-new-pin": "New pinned command",
            "option-add-new-pin-description":
              "Pinned commands will appear at the top of all commands when no search query is present.",
          },
          "markdown-format-importer": {
            name: "Markdown format importer",
            desc: "Convert Markdown from other apps to Obsidian format.",
            "action-open": "Open Markdown importer",
            "option-roam-tag-fixer": "Roam Research tag fixer",
            "option-roam-tag-fixer-description":
              'Converts "#tag" and "#[[tag]]" to "[[tag]]".',
            "option-roam-highlight-fixer": "Roam Research highlight fixer",
            "option-roam-highlight-fixer-description":
              'Converts "^^highlight^^" to "==highlight==".',
            "option-roam-todo-converter": "Roam Research TODO converter",
            "option-roam-todo-converter-description":
              'Converts "{{[[TODO]]}}" to "[ ]".',
            "option-bear-highlight-fixer": "Bear highlight fixer",
            "option-bear-highlight-fixer-description":
              'Converts "::highlight::" to "==highlight==".',
            "zettelkasten-link-fixer": "Zettelkasten link fixer",
            "zettelkasten-link-fixer-description":
              'Fixes "[[UID]]" links to full "[[UID File Name]]".',
            "zettelkasten-link-beautifier": "Zettelkasten link beautifier",
            "zettelkasten-link-beautifier-description":
              'Fixes "[[UID]]" links and also beautify them "[[UID File Name|File Name]]".',
            "msg-all-files-warning":
              "Warning: the importer will convert all the files in your vault, not just the current file.",
            "msg-override-files-warning":
              "Your files will be overwritten. Back up all your files before attempting conversion.",
            "label-start-conversion": "Start Conversion",
            "label-stop": "Stop",
            "label-go-back": "Go back",
            "label-done": "Done",
            "label-processing": "Processing...",
            "label-cancelling": "Cancelling...",
            "label-finished": "Finished!",
            "label-processed-files": "Processed files",
            "label-modified-files": "Modified files",
            "label-total-replacements": "Total replacements",
          },
          "daily-notes": {
            name: "Daily notes",
            desc: "Create or open today's daily note.",
            "short-name": "Today",
            "action-open": "Open today's daily note",
            "action-open-previous": "Open previous daily note",
            "action-open-next": "Open next daily note",
            "action-insert-text": "Insert text into daily note",
            "action-insert-link": "Insert link into daily note",
            "msg-fail-format":
              'Failed to create daily note. "{{format}}" is not a valid format.',
            "msg-fail-folder":
              'Failed to create daily note. Folder "{{folderOption}}" not found.',
            "msg-fail-template-file":
              'Failed to create daily note. Template file "{{template}}" not found.',
            "msg-no-previous": "There's no daily note before this one.",
            "msg-no-next": "There's no daily note after this one.",
            "option-date-format": "Date format",
            "label-refer-to-syntax": "For more syntax, refer to ",
            "label-syntax-link": "format reference",
            "label-syntax-live-preview":
              "Your current syntax looks like this: ",
            "option-new-file-location": "New file location",
            "option-new-file-location-description":
              "New daily notes will be placed here.",
            "option-template": "Template file location",
            "option-template-description":
              "Choose the file to use as a template.",
            "option-open-on-start": "Open daily note on startup",
            "option-open-on-start-description":
              "Open your daily note automatically whenever you open this vault.",
          },
          "zettelkasten-prefixer": {
            name: "Zettelkasten prefixer",
            desc: "Create a note with a 12-digit Zettelkasten ID (YYYYMMDDHHII).",
            "short-name": "ZK note",
            "action-create-note": "Create new Zettelkasten note",
            "option-new-file-location": "New file location",
            "option-new-file-location-description":
              "The folder path to create the new Zettelkasten note.",
            "msg-folder-not-found":
              'Failed to create Zettelkasten note. Folder "{{folderOption}}" not found.',
            "option-template-file": "Template file location",
            "option-template-file-description":
              "The file path to use as template.",
            "option-template-file-placeholder": "Example: folder1/note",
            "option-id-format": "Zettel ID format",
            "msg-template-file-not-found":
              'Failed to create Zettelkasten note. Template file "{{template}}" not found.',
          },
          "random-note": {
            name: "Random note",
            desc: "Open a random note to rediscover or review.",
            "short-name": "Random",
            "action-open": "Open random note",
          },
          outline: {
            name: "Outline",
            desc: "Display the outline of the current file or linked pane.",
            "action-open": "Open outline",
            "action-show": "Show outline pane",
            "action-open-for-current": "Open outline of the current file",
            "tab-title": "Outline of {{displayText}}",
            "label-no-headings": "No headings found.",
          },
          "word-count": {
            name: "Word count",
            desc: "Show word count in the status bar.",
          },
          slides: {
            name: "Slides",
            desc: 'Present from Markdown. Use "---" to separate slides.',
            "action-start": "Start presentation",
          },
          "audio-recorder": {
            name: "Audio recorder",
            desc: "Record audio and save as attachment.",
            "action-start": "Start recording audio",
            "action-stop": "Stop recording audio",
            "action-toggle": "Start/stop recording",
            "msg-access-denied":
              "Microphone access was denied, please enable it from the preference pane.",
            "msg-pending-grant":
              "Please grant microphone permission to start recording.",
            "msg-no-microphone": "No microphone is connected.",
          },
          "open-with-default-app": {
            name: "Open in default app",
            desc: "Add a button to open the current file in its default app.",
            "action-open-file": "Open in default app",
            "action-open-file-mobile": "Share",
            "action-show-in-folder": "Show in system explorer",
          },
          templates: {
            name: "Templates",
            desc: "Insert template content from a folder of template files.",
            "action-insert": "Insert template",
            "action-insert-current-date": "Insert current date",
            "action-insert-current-time": "Insert current time",
            "option-template-folder-location": "Template folder location",
            "option-template-folder-location-description":
              "Files in this folder will be available as templates.",
            "option-template-date-format": "Date format",
            "option-template-date-format-description":
              "{{date}} in the template file will be replaced with this value.",
            "option-template-date-format-description2":
              "You can also use {{date:YYYY-MM-DD}} to override the format once.",
            "option-template-time-format": "Time format",
            "option-template-time-format-description":
              "{{time}} in the template file will be replaced with this value.",
            "option-template-time-format-description2":
              "You can also use {{time:HH:mm}} to override the format once.",
            "instruction-navigate": "to navigate",
            "instruction-insert": "to insert template",
            "instruction-dismiss": "to dismiss",
            "msg-no-templates-found": "No templates found",
            "msg-fail-invalid-folder":
              "Failed to list templates. Template folder is invalid.",
            "msg-fail-folder-not-found":
              'Failed to list templates. Folder "{{folderOption}}" not found.',
            "prompt-type-template": "Type name of a template...",
          },
          translucency: {
            name: "Translucent window",
            desc: "Turn on translucency effect to enhance a sense of depth. Best used with dark mode. Not supported on Linux.",
          },
          "slash-command": {
            name: "Slash commands",
            desc: "Enable the ability to trigger slash commands in the editor by typing the forward slash.",
          },
          "editor-status": {
            name: "Editor status",
            desc: "Adds a status bar item to show and change the current editor mode.",
            read: "Reading",
            "edit-source": "Source mode",
            "edit-live-preview": "Live Preview",
          },
          publish: {
            name: "Publish",
            desc: "Publish your notes through Obsidian Publish.",
            "action-publish-changes": "Publish changes",
            "label-no-internet-access":
              "You need access to the internet to publish changes.",
            "label-publish-service-description":
              "Obsidian Publish is an add-on paid service that lets you publish your notes online directly from Obsidian.",
            "label-please-login":
              "To start publishing, please log in or create a new Obsidian account.",
            "label-no-publish-subscription":
              "You do not have an Obsidian Publish subscription yet.",
            "button-purchase": "Purchase",
            "label-manage-sites": "Manage sites",
            "label-no-sites": "You don't have any sites.",
            "button-choose": "Choose",
            "tooltip-edit-site-id": "Edit site ID",
            "tooltip-delete-site": "Delete site",
            "label-delete-site-confirmation":
              "Are you sure you want to delete this site?",
            "label-delete-site-details":
              "This will immediately and permanently delete your site.",
            "label-confirm-delete-site": 'Confirm delete site "{{site}}"',
            "option-site-id": "Site ID",
            "option-site-id-description":
              "Your site will be at https://publish.obsidian.md/{site id}. You can change this later. Only lower case letters, numbers, and dashes are allowed.",
            "option-site-id-placeholder": "Pick a site ID",
            "button-create": "Create",
            "msg-invalid-site-id":
              "Site ID can only contain lowercase letters, numbers, and dashes.",
            "msg-site-id-in-use":
              "This site ID is in use, please try another one.",
            "msg-create-site-issue":
              "That was an issue when creating your site.",
            "label-site-options": "Site options",
            "option-site-metadata": "Metadata",
            "option-site-components": "Components",
            "option-site-appearance": "Appearance",
            "option-site-reading-experience": "Reading experience",
            "option-site-misc": "Other site settings",
            "option-site-name": "Site name",
            "option-site-name-description":
              "Name of your published site. It will show up in the page title of your site.",
            "option-site-name-placeholder": "Name of your site",
            "option-home-page-file": "Homepage file",
            "option-home-page-file-description":
              "The first page the user sees when landing on your published site",
            "option-home-page-file-placeholder": "Pick a published file",
            "option-logo": "Logo",
            "option-logo-description": "Pick an image file as your site logo.",
            "option-logo-placeholder":
              "Any any uploaded image in your vault...",
            "option-theme": "Theme",
            "option-theme-description":
              "Choose default color scheme for your site.",
            "option-show-navigation": "Show navigation",
            "option-show-navigation-description":
              "Display a list of all published pages on the left side of your published site.",
            "option-show-search": "Show search bar",
            "option-show-search-description":
              "Display a search bar that lets the visitors search pages, aliases, and headings on your site.",
            "option-show-graph": "Show graph view",
            "option-show-graph-description":
              "Display a small local graph on each page.",
            "option-show-outline": "Show table of contents",
            "option-show-outline-description":
              "Display the outline of headings on each page.",
            "option-show-backlinks": "Show backlinks",
            "option-show-backlinks-description":
              "Show backlink section at the end of each page.",
            "option-sliding-window-mode": "Use sliding windows",
            "option-sliding-window-mode-description":
              "Open pages in new panes to the right. Allows scrolling through panes horizontally.",
            "option-hover-preview-file": "Show hover preview",
            "option-hover-preview-file-description":
              "Display page preview when hovering links.",
            "option-hide-title": "Hide page title",
            "option-hide-title-description":
              "Hide the page title heading. Useful when you have your own headings at the beginning of each page.",
            "option-readable-line-length": "Readable line length",
            "option-readable-line-length-description":
              "Limit maximum line length. Fits less content on the screen, but makes long paragraphs more readable.",
            "option-site-password": "Passwords",
            "option-site-password-description":
              "Restrict access to your site with passwords.",
            "option-google-analytics": "Google Analytics tracking code",
            "option-google-analytics-description":
              "Configure Google Analytics for your site. Only available for visitors from your custom domain URL. Please check with your local laws and regulations first.",
            "button-manage-passwords": "Manage",
            "button-save-site-settings": "Save site settings",
            "msg-updated-options": "Updated options for your site.",
            "button-go-back": "Back",
            "label-publishing-to": "Publishing to",
            "tooltip-switch-site": "Switch site",
            "button-add-linked": "Add linked",
            "tooltip-add-linked":
              "Add all files that are linked by currently selected items",
            "msg-added-linked-files": "{{count}} linked file has been added.",
            "msg-added-linked-files_plural":
              "{{count}} linked files have been added.",
            "tooltip-open-site-options": "Change site options",
            "label-no-changes-detected": "No changes were detected.",
            "label-changed-files-to-be-published": "Changed",
            "label-unchanged-files-already-published":
              "Unchanged (select to unpublish)",
            "label-file-selected": " selected",
            "button-select-all-files": "Select all",
            "button-deselect-all-files": "Deselect all",
            "label-new-files-to-be-published": "New",
            "button-publish": "Publish",
            "msg-no-permission-to-publish-to-site":
              "You do not have permissions to publish to the current site.",
            "msg-select-at-least-one-file": "Please select at least one file.",
            "label-upload-changes": "Upload changes",
            "button-done": "Done",
            "button-stop": "Stop",
            "label-status-uploading": "Uploading",
            "label-status-to-publish": "To publish",
            "label-status-to-delete": "To delete",
            "label-status-published": "Published",
            "label-status-deleted": "Deleted",
            "label-status-failed": "Failed",
            "label-status-cancelled": "Cancelled",
            "button-change": "Change",
            "label-clear-cache":
              "It takes up to a few minutes for the changes to show up on your site. If you do not see your latest changes, try clearing the cache in your browser.",
            "label-visit-site": "You can visit your site here: ",
            "msg-something-went-wrong":
              "Something went wrong. Please check the developer console for details.",
            "msg-network-error": "A network error occurred.",
            "label-manage-passwords": "Manage passwords",
            "label-add-password": "Add password",
            "action-new-password": "New password",
            "label-no-password":
              "Your site currently does not have any passwords. Anyone can visit it.",
            "label-have-password":
              "Your site is password protected. If you have multiple passwords, visitors can access your site by entering any of them.",
            "option-password-name": "Password",
            "option-password-desc":
              "A hash of your password will be stored securely. Once the password is set, it cannot be revealed in plaintext.",
            "option-password-placeholder": "Your password",
            "option-nickname-name": "Nickname (optional)",
            "option-nickname-desc":
              "Set a nickname to remind yourself what or who the password is for.",
            "action-add-password": "Add this password",
            "label-untitled-password": "Untitled password",
            "label-password-created-time": "Created {{time}}",
            "msg-added-new-password": "Added new password.",
            "option-custom-domain": "Custom domain",
            "option-custom-domain-desc":
              "Use your own domain rather than the https://publish.obsidian.md/{site id} URL.",
            "option-noindex": "Disallow search engine indexing",
            "option-noindex-desc":
              "Prevent search engines from indexing your site.",
            "button-configure": "Configure",
            "label-configure-custom-domain": "Configure custom domain",
            "option-custom-url-name": "Custom URL",
            "option-custom-url-desc":
              "The URL that your site will be located at.",
            "option-custom-url-placeholder": "www.yourdomain.com",
            "option-custom-url-redirect": "Redirect to your custom domain",
            "option-custom-url-redirect-desc":
              "Redirect visitors on publish.obsidian.md/id to your custom domain.",
            "button-update-custom-domain": "Update domain setting",
            "label-custom-domain-instructions":
              "Please refer to our {{link}} on our help site for more information.",
            "label-custom-domain-link-name": "custom domain setup guide",
            "label-site-usage": "You're using {{site}} out of your {{limit}}.",
            "button-add-more-sites": "Buy more sites",
          },
          workspaces: {
            name: "Workspaces",
            desc: "Save and load workspace layout.",
            "action-load": "Load workspace",
            "action-manage-workspaces": "Manage workspaces",
            "action-save-and-load": "Save and load another workspace",
            "placeholder-save-current-workspace-as":
              "Save current workspace as...",
            "button-save": "Save",
            "button-load": "Load",
            "tooltip-delete-workspace": "Delete workspace",
            "msg-delete-workspace-success": "Successfully deleted workspace.",
            "msg-please-enter-name":
              "Please enter a name for the new workspace.",
            "msg-save-workspace-success": "Successfully saved workspace.",
            "label-no-workspaces-found": "No saved workspace found.",
            "placeholder-type-to-search-workspaces": "Type workspace name...",
          },
          sync: {
            name: "Sync",
            desc: "Synchronize your files through Obsidian Sync.",
            "action-view-version-history": "View Sync version history",
            "label-load-more": "Load more",
            "label-copy-to-clipboard": "Copy to clipboard",
            "label-restore-this-version": "Restore this version",
            "msg-already-latest-version":
              "This version is already the latest version.",
            "msg-restored-version":
              "Successfully restored version from {{time}}",
            "label-file-deleted": "This file was deleted",
            "label-no-earlier-version":
              "There was no earlier versions of this file.",
            "label-empty-file": "Empty",
            "label-setting-files": "Setting files",
            "label-deleted-files": "Deleted files",
            "label-click-to-see-history": "Click on a file to see its history.",
            "label-create-remote-vault": "Create remote vault",
            "msg-please-enter-password": "Please enter a password.",
            "msg-vault-name-cannot-be-empty": "Vault name cannot be empty.",
            "msg-successfully-created-vault":
              'Successfully create remote vault "{{name}}".',
            "label-remote-vault-explanation":
              "Remote vaults securely synchronize your vault between devices.",
            "option-vault-name": "Vault name",
            "option-vault-name-desc":
              "Helps you remember what this vault is for.",
            "option-vault-name-placeholder": "My awesome vault",
            "option-use-custom-encryption-password":
              "Customize end-to-end encryption password",
            "option-use-custom-encryption-password-desc":
              "If you turn this off, we will securely manage an encryption key for you.",
            "option-use-custom-encryption-password-desc-warning":
              "This option cannot be changed later.",
            "option-encryption-password": "Encryption password",
            "option-encryption-password-desc":
              "This password cannot be changed later.",
            "option-encryption-password-desc-warning":
              "If you forget this password, any remote data will remain unusable forever.",
            "option-encryption-password-desc-2":
              "This does not affect your local data.",
            "option-encryption-password-placeholder": "Your password",
            "label-enter-encryption-password": "Enter encryption password",
            "button-unlock-vault": "Unlock vault",
            "msg-verified-password": "Successfully verified your password.",
            "label-remote-vaults": "Your remote vaults",
            "label-vault-created-time": "Created {{time}}",
            "tooltip-delete-remote-vault": "Delete",
            "label-confirm-delete-remote-vault": "Confirm delete vault",
            "label-confirm-delete-remote-vault-question":
              "Are you sure you want to delete this remote vault?",
            "label-confirm-delete-remote-vault-result":
              "All data on our server, including version history, will be deleted. Your local files will stay intact.",
            "label-confirm-delete-remote-vault-warning":
              "This action is permanent and irreversible.",
            "msg-remote-vault-deleted": "{{name}} has been deleted.",
            "button-connect-to-remote-vault": "Connect",
            "button-disconnect-from-remote-vault": "Disconnect",
            "label-not-remote-vaults": "You don't have any remote vaults.",
            "button-create-new-remote-vault": "Create new vault",
            "label-sync-log": "Sync log",
            "options-only-show-errors": "Errors only",
            "options-only-show-errors-desc":
              "Only show errors and hide other log items.",
            "button-copy-sync-log": "Copy sync log",
            "msg-successfully-copied-sync-log": "Successfully copied sync log.",
            "button-retry": "Retry",
            "label-no-sync-subscription":
              "You do not have an Obsidian Sync subscription yet.",
            "button-purchase-subscription": "Purchase",
            "option-pick-remote-vault": "Pick remote vault",
            "button-choose-remote-vault": "Choose",
            "option-pick-remote-vault-desc-connected":
              'Currently connected to the "{{name}}" remote vault.',
            "option-pick-remote-vault-desc-not-connected":
              "Currently not connected to any remote vault.",
            "option-sync-status": "Sync status",
            "option-sync-status-desc-paused":
              "Obsidian Sync is currently paused.",
            "option-sync-status-desc-running":
              "Obsidian Sync is currently running.",
            "option-device-name": "Device name",
            "option-device-name-desc":
              "This name will be displayed in the sync log. Leave empty to use the default name.",
            "button-resume": "Resume",
            "button-pause": "Pause",
            "option-view-deleted-files": "Deleted files",
            "option-view-deleted-files-desc": "View and restore deleted files.",
            "option-sync-log": "Sync activity",
            "option-sync-log-desc":
              "View recent sync activities for debugging.",
            "button-view": "View",
            "button-bulk-restore": "Bulk restore",
            "button-restore-selected-files": "Restore selected files",
            "msg-restoring": "Restoring...",
            "msg-restoring-complete":
              "`Restore complete: {{succeeded}} succeeded and {{failed}} failed.`",
            "option-over-size": "Vault size over limit",
            "option-over-size-desc":
              "Your vault is at {{size}} out of {{limit}}.",
            "msg-largest-files": "View largest files",
            "msg-largest-files-desc":
              "These are the remote files that are taking the most space. After deleting attachments, use the purge button to free up remote vault space.",
            "button-purge-remote": "Purge",
            "tooltip-purge-remote":
              "Permanently purge deleted attachments from remote vault to save space.",
            "msg-purge-complete": "Purge complete.",
            "option-selective-sync": "Selective sync",
            "option-excluded-folders": "Excluded folders",
            "option-excluded-folder-desc":
              "Prevent certain folders from being synced.",
            "option-currently-excluded-folders":
              " These folders currently excluded:",
            "button-manage-excluded-folders": "Manage",
            "option-sync-image": "Sync images",
            "option-sync-image-desc":
              "Sync image files with these extensions: {{extensions}}.",
            "option-sync-audio": "Sync audio",
            "option-sync-audio-desc":
              "Sync audio files with these extensions: {{extensions}}.",
            "option-sync-video": "Sync videos",
            "option-sync-video-desc":
              "Sync video files with these extensions: {{extensions}}.",
            "option-sync-pdf": "Sync PDFs",
            "option-sync-pdf-desc": "Sync PDF files.",
            "option-sync-unsupported": "Sync all other types",
            "option-sync-unsupported-desc": "Sync unsupported file types.",
            "option-vault-config-sync": "Vault configuration sync",
            "option-view-config-files": "Settings version history",
            "option-view-config-files-desc":
              "View and restore version history of setting files.",
            "option-sync-app": "Main settings",
            "option-sync-app-desc":
              "Enable to sync editor settings, files & links settings, etc.",
            "option-sync-appearance": "Appearance settings",
            "option-sync-appearance-desc":
              "Sync appearance settings like dark mode, active theme, and enabled snippets.",
            "option-sync-appearance-data": "Themes and snippets",
            "option-sync-appearance-data-desc":
              "Sync downloaded themes and snippets. Whether they are enabled depends on the previous setting.",
            "option-sync-hotkey": "Hotkeys",
            "option-sync-hotkey-desc": "Sync custom hotkeys.",
            "option-sync-core-plugin": "Active core plugin list",
            "option-sync-core-plugin-desc":
              "Sync which core plugins are enabled.",
            "option-sync-core-plugin-data": "Core plugin settings",
            "option-sync-core-plugin-data-desc": "Sync core plugin settings.",
            "option-sync-community-plugin": "Active community plugin list",
            "option-sync-community-plugin-desc":
              "Sync which community plugins are enabled.",
            "option-sync-community-plugin-data": "Installed community plugins",
            "option-sync-community-plugin-data-desc":
              "Sync installed community plugins (.js, .css, and manifest.json files) and their settings.",
            "label-sync-introduction":
              "Obsidian Sync is Obsidian's add-on sync service with end-to-end encryption and version history.",
            "label-account-required":
              "To start syncing, please log in or create a new Obsidian account.",
            "button-sign-up": "Sign up",
            "button-log-in": "Log in",
            "label-manage-excluded-folders": "Manage excluded folders",
            "label-number-of-folders-excluded":
              "{{folders}} are currently excluded from being synced.",
            "label-setup-connection": "Setup connection",
            "label-now-connected-to-vault":
              'You\'re now connected to "{{name}}".',
            "button-start-syncing": "Start syncing",
            "label-confirm-merge-vault": "Confirm Merge Vault",
            "msg-vault-has-notes":
              "Your local vault already contains some notes.",
            "msg-merge-warning":
              'If you connect to the remote vault "{{name}}", notes in your local vault will be merged with notes from your remote vault.',
          },
          "file-recovery": {
            name: "File recovery",
            desc: "Let you restore recent snapshots to recover from accidental data loss. Snapshots are only saved for Markdown files.",
            "action-open": "Open saved snapshots",
            "option-interval": "Snapshot interval",
            "option-interval-description":
              "Minimal interval in minutes between two snapshots.",
            "option-keep": "History length",
            "option-keep-description": "Length in days snapshots is kept for.",
            "option-open-history": "Snapshots",
            "option-open-history-description":
              "View and restore saved snapshots.",
            "button-view-snapshots": "View",
            "option-clear": "Clear history",
            "option-clear-description": "Wipe all snapshots.",
            "button-clear-history": "Clear",
            "label-clear-warning":
              "Are you sure you want to delete all snapshots? Note that only snapshots will be removed. All files inside your vault will not be affected.",
            "msg-clear-complete": "Snapshots cleared.",
            "label-no-history-found": "No snapshots found.",
            "placeholder-choose-file": "Choose a file...",
            "label-select-file":
              "Please select a file on the left to view snapshots.",
          },
          "note-composer": {
            name: "Note composer",
            desc: "Merge, split, and refactor notes.",
            "option-confirm-file-merge": "Confirm file merge",
            "option-confirm-file-merge-description":
              "Prompt before merge two files.",
            "option-split-replacement-text": "Text after extraction",
            "option-split-replacement-text-description":
              "What to show in place of the selected text after extracting it.",
            "option-choice-split-replacement-text-link": "Link to new file",
            "option-choice-split-replacement-text-embed": "Embed new file",
            "option-choice-split-replacement-text-none": "None",
            "option-template-file": "Template file location",
            "option-template-file-description":
              "Template file to use when merging or extracting. Available variables: {{content}}, {{fromTitle}}, {{newTitle}}, {{date:FORMAT}}, e.g. {{date:YYYY-MM-DD}}.",
            "command-merge-file": "Merge current file with another file...",
            "action-merge-file": "Merge entire file with...",
            "label-no-files": "No files found.",
            "instruction-navigate": "to navigate",
            "instruction-merge": "to merge",
            "instruction-create-new": "to create new",
            "instruction-merge-at-top": "to merge at top",
            "instruction-dismiss": "to dismiss",
            "prompt-select-file-to-merge": "Select file to merge into...",
            "label-merge-file": "Merge file",
            "label-confirm-file-merge":
              'Are you sure you want to merge "{{file}}" into "{{destination}}"? "{{file}}" will be deleted.',
            "button-merge": "Merge",
            "button-merge-do-not-ask-again": "Merge and don't ask again",
            "command-split-file": "Extract current selection...",
            "command-extract-heading": "Extract this heading...",
            "instruction-append": "to move to bottom",
            "instruction-prepend": "to move to top",
            "msg-fail-to-fetch-template":
              'Failed to fetch template file: "{{template}}" not found.',
            "msg-fail-to-find-heading": "Failed to find heading",
          },
        },
        nouns: {
          "word-with-count": "{{count}} word",
          "word-with-count_plural": "{{count}} words",
          "character-with-count": "{{count}} character",
          "character-with-count_plural": "{{count}} characters",
          "link-with-count": "{{count}} link",
          "link-with-count_plural": "{{count}} links",
          "file-with-count": "{{count}} file",
          "file-with-count_plural": "{{count}} files",
          "folder-with-count": "{{count}} folder",
          "folder-with-count_plural": "{{count}} folders",
          "backlink-with-count": "{{count}} backlink",
          "backlink-with-count_plural": "{{count}} backlinks",
          "site-with-count": "{{count}} site",
          "site-with-count_plural": "{{count}} sites",
          "plugin-with-count": "{{count}} plugin",
          "plugin-with-count_plural": "{{count}} plugins",
        },
      };
      function Ct(e, t) {
        if (String.isString(e)) return null !== t && String.isString(t) ? t : e;
        var n = {};
        for (var i in e)
          e.hasOwnProperty(i) && (n[i] = Ct(e[i], (t && t[i]) || null));
        return n;
      }
      i18next.addResourceBundle(vt, wt, kt);
      var xt = Promise.resolve(),
        St = localStorage.getItem(mt);
      if (St) {
        !1,
          (xt = A(void 0, void 0, void 0, function () {
            var e, t;
            return D(this, function (n) {
              switch (n.label) {
                case 0:
                  return (
                    n.trys.push([0, 3, , 4]),
                    [4, ajaxPromise({ url: "/i18n/" + St + ".json" })]
                  );
                case 1:
                  return (
                    (e = n.sent()),
                    (t = JSON.parse(e)),
                    i18next.addResourceBundle(St, wt, t),
                    [4, i18next.changeLanguage(St)]
                  );
                case 2:
                  return n.sent(), [3, 4];
                case 3:
                  return (
                    n.sent(),
                    console.error("Failed to load language pack."),
                    [3, 4]
                  );
                case 4:
                  return !0, [2];
              }
            });
          }));
        try {
          var Et = St.toLowerCase(),
            Mt = { zh: "zh-cn", cz: "cs", no: "nn" };
          Mt.hasOwnProperty(Et) && (Et = Mt[Et]), window.moment.locale(Et);
        } catch (e) {}
      }
      ft &&
        ut(function (e) {
          window.i18nGenBundles = function () {
            var t = window.require("fs"),
              n = e.ipcRenderer.sendSync("resources");
            for (var i in yt)
              if (yt.hasOwnProperty(i)) {
                var r = n + "/i18n/" + i + ".json";
                try {
                  if (t.existsSync(r)) {
                    var o = t.readFileSync(r, "utf8"),
                      s = JSON.parse(o),
                      a = Ct(kt, s),
                      l = JSON.stringify(a, null, "\t");
                    t.writeFileSync(r, l, "utf8"),
                      console.log("Saved bundle for", i);
                  }
                } catch (e) {
                  console.error("Failed to process translation for", i, e);
                }
              }
          };
        });
      var Lt = i18next.t.bind(i18next);
      function At(e) {
        e += ".";
        var t = function (t, n) {
          return Lt(e + t, n);
        };
        return (
          (t.prefix = function (t) {
            return At(e + t);
          }),
          t
        );
      }
      function Dt(e) {
        if (!e) return "";
        var t = e.split("-"),
          n = {
            aa: "Afar",
            ab: "Abkhaz",
            ae: "Avestan",
            af: "Afrikaans",
            ak: "Akan",
            am: "Amharic",
            an: "Aragonese",
            ar: "Arabic",
            as: "Assamese",
            av: "Avaric",
            ay: "Aymara",
            az: "Azerbaijani",
            ba: "Bashkir",
            be: "Belarusian",
            bg: "Bulgarian",
            bi: "Bislama",
            bm: "Bambara",
            bn: "Bengali",
            bo: "Tibetan",
            br: "Breton",
            bs: "Bosnian",
            ca: "Catalan",
            ce: "Chechen",
            ch: "Chamorro",
            co: "Corsican",
            cr: "Cree",
            cs: "Czech",
            cu: "Old Church Slavonic",
            cv: "Chuvash",
            cy: "Welsh",
            da: "Danish",
            de: "German",
            dv: "Divehi",
            dz: "Dzongkha",
            ee: "Ewe",
            el: "Greek",
            en: "English",
            eo: "Esperanto",
            es: "Spanish",
            et: "Estonian",
            eu: "Basque",
            fa: "Persian",
            ff: "Fula",
            fi: "Finnish",
            fj: "Fijian",
            fo: "Faroese",
            fr: "French",
            fy: "Western Frisian",
            ga: "Irish",
            gd: "Scottish Gaelic",
            gl: "Galician",
            gn: "Guaraní",
            gu: "Gujarati",
            gv: "Manx",
            ha: "Hausa",
            he: "Hebrew",
            hi: "Hindi",
            ho: "Hiri Motu",
            hr: "Croatian",
            ht: "Haitian",
            hu: "Hungarian",
            hy: "Armenian",
            hz: "Herero",
            ia: "Interlingua",
            id: "Indonesian",
            ie: "Interlingue",
            ig: "Igbo",
            ii: "Nuosu",
            ik: "Inupiaq",
            io: "Ido",
            is: "Icelandic",
            it: "Italian",
            iu: "Inuktitut",
            ja: "Japanese",
            jv: "Javanese",
            ka: "Georgian",
            kg: "Kongo",
            ki: "Kikuyu",
            kj: "Kwanyama",
            kk: "Kazakh",
            kl: "Kalaallisut",
            km: "Khmer",
            kn: "Kannada",
            ko: "Korean",
            kr: "Kanuri",
            ks: "Kashmiri",
            ku: "Kurdish",
            kv: "Komi",
            kw: "Cornish",
            ky: "Kyrgyz",
            la: "Latin",
            lb: "Luxembourgish",
            lg: "Ganda",
            li: "Limburgish",
            ln: "Lingala",
            lo: "Lao",
            lt: "Lithuanian",
            lu: "Luba-Katanga",
            lv: "Latvian",
            mg: "Malagasy",
            mh: "Marshallese",
            mi: "Māori",
            mk: "Macedonian",
            ml: "Malayalam",
            mn: "Mongolian",
            mr: "Marathi",
            ms: "Malay",
            mt: "Maltese",
            my: "Burmese",
            na: "Nauru",
            nb: "Norwegian Bokmål",
            nd: "Northern Ndebele",
            ne: "Nepali",
            ng: "Ndonga",
            nl: "Dutch",
            nn: "Norwegian Nynorsk",
            no: "Norwegian",
            nr: "Southern Ndebele",
            nv: "Navajo",
            ny: "Chichewa",
            oc: "Occitan",
            oj: "Ojibwe",
            om: "Oromo",
            or: "Oriya",
            os: "Ossetian",
            pa: "Panjabi",
            pi: "Pāli",
            pl: "Polish",
            ps: "Pashto",
            pt: "Portuguese",
            qu: "Quechua",
            rm: "Romansh",
            rn: "Kirundi",
            ro: "Romanian",
            ru: "Russian",
            rw: "Kinyarwanda",
            sa: "Sanskrit",
            sc: "Sardinian",
            sd: "Sindhi",
            se: "Northern Sami",
            sg: "Sango",
            si: "Sinhala",
            sk: "Slovak",
            sl: "Slovenian",
            sm: "Samoan",
            sn: "Shona",
            so: "Somali",
            sq: "Albanian",
            sr: "Serbian",
            ss: "Swati",
            st: "Southern Sotho",
            su: "Sundanese",
            sv: "Swedish",
            sw: "Swahili",
            ta: "Tamil",
            te: "Telugu",
            tg: "Tajik",
            th: "Thai",
            ti: "Tigrinya",
            tk: "Turkmen",
            tl: "Tagalog",
            tn: "Tswana",
            to: "Tonga",
            tr: "Turkish",
            ts: "Tsonga",
            tt: "Tatar",
            tw: "Twi",
            ty: "Tahitian",
            ug: "Uyghur",
            uk: "Ukrainian",
            ur: "Urdu",
            uz: "Uzbek",
            ve: "Venda",
            vi: "Vietnamese",
            vo: "Volapük",
            wa: "Walloon",
            wo: "Wolof",
            xh: "Xhosa",
            yi: "Yiddish",
            yo: "Yoruba",
            za: "Zhuang",
            zh: "Chinese",
            zu: "Zulu",
          },
          i = {
            aar: "Afar",
            abk: "Abkhaz",
            ace: "Achinese",
            ach: "Acoli",
            ada: "Adangme",
            ady: "Adyghe; Adygei",
            afa: "Afro-Asiatic languages",
            afh: "Afrihili",
            afr: "Afrikaans",
            ain: "Ainu",
            aka: "Akan",
            akk: "Akkadian",
            alb: "Albanian",
            ale: "Aleut",
            alg: "Algonquian languages",
            alt: "Southern Altai",
            amh: "Amharic",
            ang: "English, Old (ca.450-1100)",
            anp: "Angika",
            apa: "Apache languages",
            ara: "Arabic",
            arc: "Official Aramaic (700-300 BCE); Imperial Aramaic (700-300 BCE)",
            arg: "Aragonese",
            arm: "Armenian",
            arn: "Mapudungun; Mapuche",
            arp: "Arapaho",
            art: "Artificial languages",
            arw: "Arawak",
            asm: "Assamese",
            ast: "Asturian; Bable; Leonese; Asturleonese",
            ath: "Athapascan languages",
            aus: "Australian languages",
            ava: "Avaric",
            ave: "Avestan",
            awa: "Awadhi",
            aym: "Aymara",
            aze: "Azerbaijani",
            bad: "Banda languages",
            bai: "Bamileke languages",
            bak: "Bashkir",
            bal: "Baluchi",
            bam: "Bambara",
            ban: "Balinese",
            baq: "Basque",
            bas: "Basa",
            bat: "Baltic languages",
            bej: "Beja; Bedawiyet",
            bel: "Belarusian",
            bem: "Bemba",
            ben: "Bengali",
            ber: "Berber languages",
            bho: "Bhojpuri",
            bik: "Bikol",
            bin: "Bini; Edo",
            bis: "Bislama",
            bla: "Siksika",
            bnt: "Bantu languages",
            bos: "Bosnian",
            bra: "Braj",
            bre: "Breton",
            btk: "Batak languages",
            bua: "Buriat",
            bug: "Buginese",
            bul: "Bulgarian",
            bur: "Burmese",
            byn: "Blin; Bilin",
            cad: "Caddo",
            cai: "Central American Indian languages",
            car: "Galibi Carib",
            cat: "Catalan",
            cau: "Caucasian languages",
            ceb: "Cebuano",
            cel: "Celtic languages",
            cha: "Chamorro",
            chb: "Chibcha",
            che: "Chechen",
            chg: "Chagatai",
            chi: "Chinese",
            chk: "Chuukese",
            chm: "Mari",
            chn: "Chinook jargon",
            cho: "Choctaw",
            chp: "Chipewyan; Dene Suline",
            chr: "Cherokee",
            chu: "Old Church Slavonic",
            chv: "Chuvash",
            chy: "Cheyenne",
            cmc: "Chamic languages",
            cnr: "Montenegrin",
            cop: "Coptic",
            cor: "Cornish",
            cos: "Corsican",
            cpe: "Creoles and pidgins, English based",
            cpf: "Creoles and pidgins, French-based",
            cpp: "Creoles and pidgins, Portuguese-based",
            cre: "Cree",
            crh: "Crimean Tatar; Crimean Turkish",
            crp: "Creoles and pidgins",
            csb: "Kashubian",
            cus: "Cushitic languages",
            cze: "Czech",
            dak: "Dakota",
            dan: "Danish",
            dar: "Dargwa",
            day: "Land Dayak languages",
            del: "Delaware",
            den: "Slave (Athapascan)",
            dgr: "Dogrib",
            din: "Dinka",
            div: "Divehi",
            doi: "Dogri",
            dra: "Dravidian languages",
            dsb: "Lower Sorbian",
            dua: "Duala",
            dum: "Dutch, Middle (ca.1050-1350)",
            dut: "Dutch",
            dyu: "Dyula",
            dzo: "Dzongkha",
            efi: "Efik",
            egy: "Egyptian (Ancient)",
            eka: "Ekajuk",
            elx: "Elamite",
            eng: "English",
            enm: "English, Middle (1100-1500)",
            epo: "Esperanto",
            est: "Estonian",
            ewe: "Ewe",
            ewo: "Ewondo",
            fan: "Fang",
            fao: "Faroese",
            fat: "Fanti",
            fij: "Fijian",
            fil: "Filipino; Pilipino",
            fin: "Finnish",
            fiu: "Finno-Ugrian languages",
            fon: "Fon",
            fre: "French",
            frm: "French, Middle (ca.1400-1600)",
            fro: "French, Old (842-ca.1400)",
            frr: "Northern Frisian",
            frs: "Eastern Frisian",
            fry: "Western Frisian",
            ful: "Fula",
            fur: "Friulian",
            gaa: "Ga",
            gay: "Gayo",
            gba: "Gbaya",
            gem: "Germanic languages",
            geo: "Georgian",
            ger: "German",
            gez: "Geez",
            gil: "Gilbertese",
            gla: "Scottish Gaelic",
            gle: "Irish",
            glg: "Galician",
            glv: "Manx",
            gmh: "German, Middle High (ca.1050-1500)",
            goh: "German, Old High (ca.750-1050)",
            gon: "Gondi",
            gor: "Gorontalo",
            got: "Gothic",
            grb: "Grebo",
            grc: "Greek, Ancient (to 1453)",
            gre: "Greek",
            grn: "Guaraní",
            gsw: "Swiss German; Alemannic; Alsatian",
            guj: "Gujarati",
            gwi: "Gwich'in",
            hai: "Haida",
            hat: "Haitian",
            hau: "Hausa",
            haw: "Hawaiian",
            heb: "Hebrew",
            her: "Herero",
            hil: "Hiligaynon",
            him: "Himachali languages; Western Pahari languages",
            hin: "Hindi",
            hit: "Hittite",
            hmn: "Hmong; Mong",
            hmo: "Hiri Motu",
            hrv: "Croatian",
            hsb: "Upper Sorbian",
            hun: "Hungarian",
            hup: "Hupa",
            iba: "Iban",
            ibo: "Igbo",
            ice: "Icelandic",
            ido: "Ido",
            iii: "Nuosu",
            ijo: "Ijo languages",
            iku: "Inuktitut",
            ile: "Interlingue",
            ilo: "Iloko",
            ina: "Interlingua",
            inc: "Indic languages",
            ind: "Indonesian",
            ine: "Indo-European languages",
            inh: "Ingush",
            ipk: "Inupiaq",
            ira: "Iranian languages",
            iro: "Iroquoian languages",
            ita: "Italian",
            jav: "Javanese",
            jbo: "Lojban",
            jpn: "Japanese",
            jpr: "Judeo-Persian",
            jrb: "Judeo-Arabic",
            kaa: "Kara-Kalpak",
            kab: "Kabyle",
            kac: "Kachin; Jingpho",
            kal: "Kalaallisut",
            kam: "Kamba",
            kan: "Kannada",
            kar: "Karen languages",
            kas: "Kashmiri",
            kau: "Kanuri",
            kaw: "Kawi",
            kaz: "Kazakh",
            kbd: "Kabardian",
            kha: "Khasi",
            khi: "Khoisan languages",
            khm: "Khmer",
            kho: "Khotanese; Sakan",
            kik: "Kikuyu",
            kin: "Kinyarwanda",
            kir: "Kyrgyz",
            kmb: "Kimbundu",
            kok: "Konkani",
            kom: "Komi",
            kon: "Kongo",
            kor: "Korean",
            kos: "Kosraean",
            kpe: "Kpelle",
            krc: "Karachay-Balkar",
            krl: "Karelian",
            kro: "Kru languages",
            kru: "Kurukh",
            kua: "Kwanyama",
            kum: "Kumyk",
            kur: "Kurdish",
            kut: "Kutenai",
            lad: "Ladino",
            lah: "Lahnda",
            lam: "Lamba",
            lao: "Lao",
            lat: "Latin",
            lav: "Latvian",
            lez: "Lezghian",
            lim: "Limburgish",
            lin: "Lingala",
            lit: "Lithuanian",
            lol: "Mongo",
            loz: "Lozi",
            ltz: "Luxembourgish",
            lua: "Luba-Lulua",
            lub: "Luba-Katanga",
            lug: "Ganda",
            lui: "Luiseno",
            lun: "Lunda",
            luo: "Luo (Kenya and Tanzania)",
            lus: "Lushai",
            mac: "Macedonian",
            mad: "Madurese",
            mag: "Magahi",
            mah: "Marshallese",
            mai: "Maithili",
            mak: "Makasar",
            mal: "Malayalam",
            man: "Mandingo",
            mao: "Māori",
            map: "Austronesian languages",
            mar: "Marathi",
            mas: "Masai",
            may: "Malay",
            mdf: "Moksha",
            mdr: "Mandar",
            men: "Mende",
            mga: "Irish, Middle (900-1200)",
            mic: "Mi'kmaq; Micmac",
            min: "Minangkabau",
            mis: "Uncoded languages",
            mkh: "Mon-Khmer languages",
            mlg: "Malagasy",
            mlt: "Maltese",
            mnc: "Manchu",
            mni: "Manipuri",
            mno: "Manobo languages",
            moh: "Mohawk",
            mon: "Mongolian",
            mos: "Mossi",
            mul: "Multiple languages",
            mun: "Munda languages",
            mus: "Creek",
            mwl: "Mirandese",
            mwr: "Marwari",
            myn: "Mayan languages",
            myv: "Erzya",
            nah: "Nahuatl languages",
            nai: "North American Indian languages",
            nap: "Neapolitan",
            nau: "Nauru",
            nav: "Navajo",
            nbl: "Southern Ndebele",
            nde: "Northern Ndebele",
            ndo: "Ndonga",
            nds: "Low German; Low Saxon; German, Low; Saxon, Low",
            nep: "Nepali",
            new: "Nepal Bhasa; Newari",
            nia: "Nias",
            nic: "Niger-Kordofanian languages",
            niu: "Niuean",
            nno: "Norwegian Nynorsk",
            nob: "Norwegian Bokmål",
            nog: "Nogai",
            non: "Norse, Old",
            nor: "Norwegian",
            nqo: "N'Ko",
            nso: "Pedi; Sepedi; Northern Sotho",
            nub: "Nubian languages",
            nwc: "Classical Newari; Old Newari; Classical Nepal Bhasa",
            nya: "Chichewa",
            nym: "Nyamwezi",
            nyn: "Nyankole",
            nyo: "Nyoro",
            nzi: "Nzima",
            oci: "Occitan",
            oji: "Ojibwe",
            ori: "Oriya",
            orm: "Oromo",
            osa: "Osage",
            oss: "Ossetian",
            ota: "Turkish, Ottoman (1500-1928)",
            oto: "Otomian languages",
            paa: "Papuan languages",
            pag: "Pangasinan",
            pal: "Pahlavi",
            pam: "Pampanga; Kapampangan",
            pan: "Panjabi",
            pap: "Papiamento",
            pau: "Palauan",
            peo: "Persian, Old (ca.600-400 B.C.)",
            per: "Persian",
            phi: "Philippine languages",
            phn: "Phoenician",
            pli: "Pāli",
            pol: "Polish",
            pon: "Pohnpeian",
            por: "Portuguese",
            pra: "Prakrit languages",
            pro: "Provençal, Old (to 1500); Occitan, Old (to 1500)",
            pus: "Pashto",
            "qaa-qtz": "Reserved for local use",
            que: "Quechua",
            raj: "Rajasthani",
            rap: "Rapanui",
            rar: "Rarotongan; Cook Islands Maori",
            roa: "Romance languages",
            roh: "Romansh",
            rom: "Romany",
            rum: "Romanian",
            run: "Kirundi",
            rup: "Aromanian; Arumanian; Macedo-Romanian",
            rus: "Russian",
            sad: "Sandawe",
            sag: "Sango",
            sah: "Yakut",
            sai: "South American Indian languages",
            sal: "Salishan languages",
            sam: "Samaritan Aramaic",
            san: "Sanskrit",
            sas: "Sasak",
            sat: "Santali",
            scn: "Sicilian",
            sco: "Scots",
            sel: "Selkup",
            sem: "Semitic languages",
            sga: "Irish, Old (to 900)",
            sgn: "Sign Languages",
            shn: "Shan",
            sid: "Sidamo",
            sin: "Sinhala",
            sio: "Siouan languages",
            sit: "Sino-Tibetan languages",
            sla: "Slavic languages",
            slo: "Slovak",
            slv: "Slovenian",
            sma: "Southern Sami",
            sme: "Northern Sami",
            smi: "Sami languages",
            smj: "Lule Sami",
            smn: "Inari Sami",
            smo: "Samoan",
            sms: "Skolt Sami",
            sna: "Shona",
            snd: "Sindhi",
            snk: "Soninke",
            sog: "Sogdian",
            som: "Somali",
            son: "Songhai languages",
            sot: "Southern Sotho",
            spa: "Spanish",
            srd: "Sardinian",
            srn: "Sranan Tongo",
            srp: "Serbian",
            srr: "Serer",
            ssa: "Nilo-Saharan languages",
            ssw: "Swati",
            suk: "Sukuma",
            sun: "Sundanese",
            sus: "Susu",
            sux: "Sumerian",
            swa: "Swahili",
            swe: "Swedish",
            syc: "Classical Syriac",
            syr: "Syriac",
            tah: "Tahitian",
            tai: "Tai languages",
            tam: "Tamil",
            tat: "Tatar",
            tel: "Telugu",
            tem: "Timne",
            ter: "Tereno",
            tet: "Tetum",
            tgk: "Tajik",
            tgl: "Tagalog",
            tha: "Thai",
            tib: "Tibetan",
            tig: "Tigre",
            tir: "Tigrinya",
            tiv: "Tiv",
            tkl: "Tokelau",
            tlh: "Klingon; tlhIngan-Hol",
            tli: "Tlingit",
            tmh: "Tamashek",
            tog: "Tonga (Nyasa)",
            ton: "Tonga",
            tpi: "Tok Pisin",
            tsi: "Tsimshian",
            tsn: "Tswana",
            tso: "Tsonga",
            tuk: "Turkmen",
            tum: "Tumbuka",
            tup: "Tupi languages",
            tur: "Turkish",
            tut: "Altaic languages",
            tvl: "Tuvalu",
            twi: "Twi",
            tyv: "Tuvinian",
            udm: "Udmurt",
            uga: "Ugaritic",
            uig: "Uyghur",
            ukr: "Ukrainian",
            umb: "Umbundu",
            und: "Undetermined",
            urd: "Urdu",
            uzb: "Uzbek",
            vai: "Vai",
            ven: "Venda",
            vie: "Vietnamese",
            vol: "Volapük",
            vot: "Votic",
            wak: "Wakashan languages",
            wal: "Wolaitta; Wolaytta",
            war: "Waray",
            was: "Washo",
            wel: "Welsh",
            wen: "Sorbian languages",
            wln: "Walloon",
            wol: "Wolof",
            xal: "Kalmyk; Oirat",
            xho: "Xhosa",
            yao: "Yao",
            yap: "Yapese",
            yid: "Yiddish",
            yor: "Yoruba",
            ypk: "Yupik languages",
            zap: "Zapotec",
            zbl: "Blissymbols; Blissymbolics; Bliss",
            zen: "Zenaga",
            zgh: "Standard Moroccan Tamazight",
            zha: "Zhuang",
            znd: "Zande languages",
            zul: "Zulu",
            zun: "Zuni",
            zxx: "No linguistic content; Not applicable",
            zza: "Zaza; Dimili; Dimli; Kirdki; Kirmanjki; Zazaki",
          },
          r = {
            AF: "Afghanistan",
            AX: "Åland Islands",
            AL: "Albania",
            DZ: "Algeria",
            AS: "American Samoa",
            AD: "Andorra",
            AO: "Angola",
            AI: "Anguilla",
            AQ: "Antarctica",
            AG: "Antigua and Barbuda",
            AR: "Argentina",
            AM: "Armenia",
            AW: "Aruba",
            AU: "Australia",
            AT: "Austria",
            AZ: "Azerbaijan",
            BS: "Bahamas",
            BH: "Bahrain",
            BD: "Bangladesh",
            BB: "Barbados",
            BY: "Belarus",
            BE: "Belgium",
            BZ: "Belize",
            BJ: "Benin",
            BM: "Bermuda",
            BT: "Bhutan",
            BO: "Bolivia, Plurinational State of",
            BQ: "Bonaire, Sint Eustatius and Saba",
            BA: "Bosnia and Herzegovina",
            BW: "Botswana",
            BV: "Bouvet Island",
            BR: "Brazil",
            IO: "British Indian Ocean Territory",
            BN: "Brunei Darussalam",
            BG: "Bulgaria",
            BF: "Burkina Faso",
            BI: "Burundi",
            KH: "Cambodia",
            CM: "Cameroon",
            CA: "Canada",
            CV: "Cape Verde",
            KY: "Cayman Islands",
            CF: "Central African Republic",
            TD: "Chad",
            CL: "Chile",
            CN: "China",
            CX: "Christmas Island",
            CC: "Cocos (Keeling) Islands",
            CO: "Colombia",
            KM: "Comoros",
            CG: "Congo",
            CD: "Congo, the Democratic Republic of the",
            CK: "Cook Islands",
            CR: "Costa Rica",
            CI: "Côte d'Ivoire",
            HR: "Croatia",
            CU: "Cuba",
            CW: "Curaçao",
            CY: "Cyprus",
            CZ: "Czech Republic",
            DK: "Denmark",
            DJ: "Djibouti",
            DM: "Dominica",
            DO: "Dominican Republic",
            EC: "Ecuador",
            EG: "Egypt",
            SV: "El Salvador",
            GQ: "Equatorial Guinea",
            ER: "Eritrea",
            EE: "Estonia",
            ET: "Ethiopia",
            FK: "Falkland Islands (Malvinas)",
            FO: "Faroe Islands",
            FJ: "Fiji",
            FI: "Finland",
            FR: "France",
            GF: "French Guiana",
            PF: "French Polynesia",
            TF: "French Southern Territories",
            GA: "Gabon",
            GM: "Gambia",
            GE: "Georgia",
            DE: "Germany",
            GH: "Ghana",
            GI: "Gibraltar",
            GR: "Greece",
            GL: "Greenland",
            GD: "Grenada",
            GP: "Guadeloupe",
            GU: "Guam",
            GT: "Guatemala",
            GG: "Guernsey",
            GN: "Guinea",
            GW: "Guinea-Bissau",
            GY: "Guyana",
            HT: "Haiti",
            HM: "Heard Island and McDonald Islands",
            VA: "Holy See (Vatican City State)",
            HN: "Honduras",
            HK: "Hong Kong",
            HU: "Hungary",
            IS: "Iceland",
            IN: "India",
            ID: "Indonesia",
            IR: "Iran, Islamic Republic of",
            IQ: "Iraq",
            IE: "Ireland",
            IM: "Isle of Man",
            IL: "Israel",
            IT: "Italy",
            JM: "Jamaica",
            JP: "Japan",
            JE: "Jersey",
            JO: "Jordan",
            KZ: "Kazakhstan",
            KE: "Kenya",
            KI: "Kiribati",
            KP: "Korea, Democratic People's Republic of",
            KR: "Korea, Republic of",
            KW: "Kuwait",
            KG: "Kyrgyzstan",
            LA: "Lao People's Democratic Republic",
            LV: "Latvia",
            LB: "Lebanon",
            LS: "Lesotho",
            LR: "Liberia",
            LY: "Libya",
            LI: "Liechtenstein",
            LT: "Lithuania",
            LU: "Luxembourg",
            MO: "Macao",
            MK: "Macedonia, the Former Yugoslav Republic of",
            MG: "Madagascar",
            MW: "Malawi",
            MY: "Malaysia",
            MV: "Maldives",
            ML: "Mali",
            MT: "Malta",
            MH: "Marshall Islands",
            MQ: "Martinique",
            MR: "Mauritania",
            MU: "Mauritius",
            YT: "Mayotte",
            MX: "Mexico",
            FM: "Micronesia, Federated States of",
            MD: "Moldova, Republic of",
            MC: "Monaco",
            MN: "Mongolia",
            ME: "Montenegro",
            MS: "Montserrat",
            MA: "Morocco",
            MZ: "Mozambique",
            MM: "Myanmar",
            NA: "Namibia",
            NR: "Nauru",
            NP: "Nepal",
            NL: "Netherlands",
            NC: "New Caledonia",
            NZ: "New Zealand",
            NI: "Nicaragua",
            NE: "Niger",
            NG: "Nigeria",
            NU: "Niue",
            NF: "Norfolk Island",
            MP: "Northern Mariana Islands",
            NO: "Norway",
            OM: "Oman",
            PK: "Pakistan",
            PW: "Palau",
            PS: "Palestine, State of",
            PA: "Panama",
            PG: "Papua New Guinea",
            PY: "Paraguay",
            PE: "Peru",
            PH: "Philippines",
            PN: "Pitcairn",
            PL: "Poland",
            PT: "Portugal",
            PR: "Puerto Rico",
            QA: "Qatar",
            RE: "Réunion",
            RO: "Romania",
            RU: "Russian Federation",
            RW: "Rwanda",
            BL: "Saint Barthélemy",
            SH: "Saint Helena, Ascension and Tristan da Cunha",
            KN: "Saint Kitts and Nevis",
            LC: "Saint Lucia",
            MF: "Saint Martin (French part)",
            PM: "Saint Pierre and Miquelon",
            VC: "Saint Vincent and the Grenadines",
            WS: "Samoa",
            SM: "San Marino",
            ST: "Sao Tome and Principe",
            SA: "Saudi Arabia",
            SN: "Senegal",
            RS: "Serbia",
            SC: "Seychelles",
            SL: "Sierra Leone",
            SG: "Singapore",
            SX: "Sint Maarten (Dutch part)",
            SK: "Slovakia",
            SI: "Slovenia",
            SB: "Solomon Islands",
            SO: "Somalia",
            ZA: "South Africa",
            GS: "South Georgia and the South Sandwich Islands",
            SS: "South Sudan",
            ES: "Spain",
            LK: "Sri Lanka",
            SD: "Sudan",
            SR: "Suriname",
            SJ: "Svalbard and Jan Mayen",
            SZ: "Swaziland",
            SE: "Sweden",
            CH: "Switzerland",
            SY: "Syrian Arab Republic",
            TW: "Taiwan",
            TJ: "Tajikistan",
            TZ: "Tanzania, United Republic of",
            TH: "Thailand",
            TL: "Timor-Leste",
            TG: "Togo",
            TK: "Tokelau",
            TO: "Tonga",
            TT: "Trinidad and Tobago",
            TN: "Tunisia",
            TR: "Turkey",
            TM: "Turkmenistan",
            TC: "Turks and Caicos Islands",
            TV: "Tuvalu",
            UG: "Uganda",
            UA: "Ukraine",
            AE: "United Arab Emirates",
            GB: "United Kingdom",
            US: "United States",
            UM: "United States Minor Outlying Islands",
            UY: "Uruguay",
            UZ: "Uzbekistan",
            VU: "Vanuatu",
            VE: "Venezuela, Bolivarian Republic of",
            VN: "Viet Nam",
            VG: "Virgin Islands, British",
            VI: "Virgin Islands, U.S.",
            WF: "Wallis and Futuna",
            EH: "Western Sahara",
            YE: "Yemen",
            ZM: "Zambia",
            ZW: "Zimbabwe",
          };
        return t.length > 1
          ? (n[t[0]] || i[t[0]] || t[0]) +
              " (" +
              (r[t[1]] || t[1]) +
              ")" +
              t
                .slice(2)
                .map(function (e) {
                  return "(" + e + ")";
                })
                .join("")
          : t.length > 0
          ? n[t[0]] || i[t[0]] || r[t[0]] || t[0]
          : "";
      }
      function Tt(e, t, n) {
        void 0 === t && (t = 0), void 0 === n && (n = !1);
        var i = null,
          r = null,
          o = null,
          s = 0,
          a = function () {
            if (s) {
              var t = Date.now();
              if (t < s) return (i = window.setTimeout(a, s - t)), void (s = 0);
            }
            i = null;
            var n = r,
              l = o;
            (r = null), (o = null), e.apply(n, l);
          },
          l = function () {
            for (var e = [], l = 0; l < arguments.length; l++)
              e[l] = arguments[l];
            (r = this),
              (o = e),
              i ? n && (s = Date.now() + t) : (i = window.setTimeout(a, t));
          };
        return (
          (l.cancel = function () {
            return i && (clearTimeout(i), (i = null)), l;
          }),
          l
        );
      }
      function Pt(e) {
        if (navigator.clipboard && navigator.permissions)
          navigator.clipboard.writeText(e);
        else {
          var t = document.createElement("textarea");
          (t.value = e),
            (t.style.top = "0"),
            (t.style.left = "0"),
            (t.style.position = "fixed"),
            document.body.appendChild(t);
          try {
            t.focus(), t.select(), document.execCommand("copy");
          } catch (e) {}
          document.body.removeChild(t);
        }
      }
      function Ot(e, t) {
        return A(this, void 0, Promise, function () {
          var n, i, r, o;
          return D(this, function (s) {
            return (
              (n = e.getAttr("alt") || null),
              (i = e.createEl("img", { attr: { alt: n } })),
              (r = e.getAttr("width")),
              (o = e.getAttr("height")),
              r && i.setAttr("width", r),
              o && i.setAttr("height", o),
              [
                2,
                new Promise(function (e) {
                  var n = function () {
                    return e();
                  };
                  i.addEventListener("load", n),
                    i.addEventListener("error", n),
                    setTimeout(n, 5e3),
                    (i.src = t);
                }),
              ]
            );
          });
        });
      }
      function Ft(e, t) {
        return A(this, void 0, Promise, function () {
          var n;
          return D(this, function (i) {
            return (
              (n = e.createEl("audio", { attr: { controls: "" } })),
              [
                2,
                new Promise(function (e) {
                  var i = function () {
                    return e();
                  };
                  n.addEventListener("loadedmetadata", i),
                    n.addEventListener("error", i),
                    setTimeout(i, 5e3),
                    (n.src = t);
                }),
              ]
            );
          });
        });
      }
      function It(e, t) {
        return A(this, void 0, Promise, function () {
          var n;
          return D(this, function (i) {
            return (
              (n = e.createEl("video", { attr: { controls: "" } })),
              [
                2,
                new Promise(function (i) {
                  var r = function () {
                    return i();
                  };
                  n.addEventListener("loadedmetadata", function () {
                    0 === n.videoWidth && 0 === n.videoHeight
                      ? (e.removeChild(n), Ft(e, t).then(r, r))
                      : r();
                  }),
                    n.addEventListener("error", r),
                    setTimeout(r, 5e3),
                    (n.src = t);
                }),
              ]
            );
          });
        });
      }
      var Nt = window.requestIdleCallback;
      function Bt(e, t) {
        if (t > 0 && Nt) {
          var n = Nt(e, { timeout: t });
          return {
            high: !1,
            cancel: function () {
              return window.cancelIdleCallback(n);
            },
          };
        }
        var i = requestAnimationFrame(e);
        return {
          high: !0,
          cancel: function () {
            return cancelAnimationFrame(i);
          },
        };
      }
      function Rt(e, t) {
        var n = e.relatedTarget;
        return !(n instanceof Node && t.contains(n));
      }
      function zt(e) {
        e.addEventListener("mousedown", function (e) {
          1 === e.button && e.preventDefault();
        });
      }
      /bot|crawl|spider/i.test(navigator.userAgent);
      var Ht = { sx: 0, sy: 0, ex: 0, ey: 0, t: 0 };
      function Vt(e) {
        return (
          (Ht &&
            Date.now() - Ht.t < 1e3 &&
            Math.abs(e.clientX - Ht.sx) < 5 &&
            Math.abs(e.clientY - Ht.sy) < 5) ||
          (Math.abs(e.clientX - Ht.ex) < 5 && Math.abs(e.clientY - Ht.ey) < 5)
        );
      }
      function qt(e, t, n, i, r, o) {
        function s(e) {
          var t,
            i = e.clientY,
            r = Array.from(n.childNodes);
          for (t = 0; t < r.length; t++) {
            if (i < r[t].getBoundingClientRect().bottom) return t;
          }
          return t;
        }
        var a, l;
        (i *= i),
          (l = function (e, a) {
            var l = a.clientX,
              c = a.clientY,
              u = t.getBoundingClientRect(),
              h = l - u.x,
              p = c - u.y,
              d = null;
            return {
              move: function (e, o) {
                e.preventDefault();
                var a = o.clientX,
                  u = o.clientY;
                if (null === d) {
                  var f = a - l,
                    g = u - c;
                  if (f * f + g * g < i) return !0;
                  var m = t.offsetWidth,
                    v = t.offsetHeight;
                  d = createDiv("drag-ghost");
                  var y = t.cloneNode(!0);
                  d.appendChild(y),
                    (d.style.padding = "0 5px"),
                    (d.style.maxWidth = "unset"),
                    (y.style.width = m + "px"),
                    (y.style.height = v + "px"),
                    document.body.appendChild(d),
                    document.body.addClass("is-grabbing"),
                    (t.style.visibility = "hidden"),
                    r();
                  var b = d.getBoundingClientRect(),
                    w = y.getBoundingClientRect();
                  (h += w.x - b.x), (p += w.y - b.y);
                }
                e.preventDefault();
                var k = s(o);
                d &&
                  ((d.style.left = a - h + "px"), (d.style.top = u - p + "px")),
                  t.detach();
                var C = n.childNodes[k];
                return n.insertBefore(t, C), !0;
              },
              end: function (e, i) {
                if ((e.preventDefault(), d)) {
                  var r = s(i);
                  d.detach(),
                    document.body.removeClass("is-grabbing"),
                    (t.style.visibility = ""),
                    t.detach();
                  var a = n.childNodes[r];
                  n.insertBefore(t, a), o(r);
                }
              },
            };
          }),
          (a = e).addEventListener("mousedown", function (e) {
            if (0 === e.button && !Vt(e)) {
              var t = l(e, e);
              if (t) {
                var n = function (e) {
                    t.move(e, e) || r();
                  },
                  i = function (e) {
                    r(), t.end(e, e);
                  },
                  r = function () {
                    document.removeEventListener("mousemove", n),
                      document.removeEventListener("mouseup", i);
                  };
                document.addEventListener("mousemove", n),
                  document.addEventListener("mouseup", i);
              }
            }
          }),
          a.addEventListener("touchstart", function (e) {
            if (!(e.touches.length > 1)) {
              var t = e.touches[0],
                n = l(e, t);
              if (n) {
                var i = t.identifier,
                  r = function (e) {
                    for (var t = e.changedTouches, n = 0; n < t.length; n++) {
                      var r = t[n];
                      if (r.identifier === i) return r;
                    }
                    return null;
                  },
                  o = function (e) {
                    var t = r(e);
                    t && (c(), n.end(e, t));
                  },
                  s = function (e) {
                    var t = r(e);
                    t && (c(), n.end(e, t));
                  },
                  a = function (e) {
                    var t = r(e);
                    t && (n.move(e, t) || c());
                  },
                  c = function () {
                    document.removeEventListener("touchcancel", s),
                      document.removeEventListener("touchend", o),
                      document.removeEventListener("touchmove", a);
                  };
                document.addEventListener("touchcancel", s),
                  document.addEventListener("touchend", o),
                  document.addEventListener("touchmove", a, { passive: !1 });
              }
            }
          });
      }
      var jt = (function () {
          function e() {
            this.map = new WeakMap();
          }
          return (
            (e.prototype.get = function (e) {
              return this.map.get(e);
            }),
            (e.prototype.set = function (e, t) {
              return this.map.set(e, t), this;
            }),
            (e.prototype.has = function (e) {
              return this.map.has(e);
            }),
            (e.prototype.delete = function (e) {
              return this.map.delete(e);
            }),
            e
          );
        })(),
        Ut = 0,
        Wt = (function () {
          function e() {
            this._ = "_weakmap_" + Ut++;
          }
          return (
            (e.prototype.get = function (e) {
              return this.has(e) ? e[this._] : void 0;
            }),
            (e.prototype.set = function (e, t) {
              return (
                Object.defineProperty(e, this._, {
                  configurable: !0,
                  value: t,
                }),
                this
              );
            }),
            (e.prototype.has = function (e) {
              return Object.hasOwnProperty.call(e, this._);
            }),
            (e.prototype.delete = function (e) {
              return this.has(e) && delete e[this._];
            }),
            e
          );
        })();
      function _t() {
        return window.WeakMap ? new jt() : new Wt();
      }
      var Gt = null,
        Kt = null;
      var $t = null;
      function Yt() {
        $t && (clearTimeout($t), ($t = null));
      }
      var Jt = _t();
      function Qt(e, t) {
        if (Rt(e, t) && !Vt(e)) {
          Yt();
          var n = t.getAttribute("aria-label") || "";
          Jt.has(t) && (n = Jt.get(t)(t));
          var i = "bottom";
          t.hasAttribute("aria-label-position") &&
            (i = t.getAttribute("aria-label-position"));
          var r = [];
          t.hasAttribute("aria-label-classes") &&
            (r = (t.getAttribute("aria-label-classes") || "").split(" "));
          var o = 0;
          t.hasAttribute("aria-label-delay") &&
            ((o = parseInt(t.getAttribute("aria-label-delay") || "")),
            isNaN(o) && (o = 0)),
            Zt(t, n, { placement: i, classes: r, delay: o });
        }
      }
      function Xt(e, t) {
        Rt(e, t) && en();
      }
      function Zt(e, t, n) {
        var i = (n = n || {}).placement,
          r = void 0 === i ? "bottom" : i,
          o = n.classes,
          s = void 0 === o ? [] : o,
          a = n.gap,
          l = void 0 === a ? 8 : a,
          c = n.horizontalParent,
          u = n.delay,
          h = void 0 === u ? 0 : u;
        if (h > 0)
          return (
            Yt(),
            (n.delay = 0),
            void ($t = window.setTimeout(function () {
              return Zt(e, t, n);
            }, h))
          );
        if (t) {
          var p = e.getBoundingClientRect(),
            d = p.top,
            f = p.left,
            g = p.width,
            m = p.height;
          if (c) {
            var v = c.getBoundingClientRect();
            (f = v.left), (g = v.width);
          }
          Gt && Kt === e
            ? Gt.setText(t)
            : (en(), (Gt = createDiv({ cls: "tooltip", text: t })));
          var y = Gt.createDiv("tooltip-arrow"),
            b = 0,
            w = 0;
          "bottom" === r
            ? ((b = d + m + l), (w = f + g / 2))
            : "right" === r
            ? ((b = d + m / 2), (w = f + g + l), s.push("mod-right"))
            : "left" === r
            ? ((b = d + m / 2), (w = f - l), s.push("mod-left"))
            : "top" === r &&
              ((b = d - l - 5), (w = f + g / 2), s.push("mod-top")),
            Gt.addClasses(s),
            (Gt.style.top = "0px"),
            (Gt.style.left = "0px"),
            (Gt.style.width = ""),
            (Gt.style.height = ""),
            Gt.parentNode || document.body.appendChild(Gt);
          var k = Gt.getBoundingClientRect(),
            C = ["bottom", "top"].contains(r) ? k.width / 2 : k.width,
            x = "right" === r || "left" === r ? k.height / 2 : k.height;
          if (
            ("left" === r ? (w -= C) : "top" === r && (b -= x),
            b + x > window.innerHeight && (b = window.innerHeight - x - l),
            (b = Math.max(b, l)),
            "top" === r || "bottom" === r)
          ) {
            if (w + C > window.innerWidth)
              (w -= S = w + C + l - window.innerWidth),
                (y.style.left = "initial"),
                (y.style.right = C - S - l / 2 + "px");
            else if (w - l - C < 0) {
              var S;
              (w += S = -(w - l - C)),
                (y.style.right = "initial"),
                (y.style.left = C - S - l / 2 + "px");
            }
            w = Math.max(w, l);
          }
          (Gt.style.top = b + "px"),
            (Gt.style.left = w + "px"),
            (Gt.style.width = k.width + "px"),
            (Gt.style.height = k.height + "px"),
            (Kt = e);
        }
      }
      function en() {
        Yt(), Gt && (Gt.detach(), (Gt = null), (Kt = null));
      }
      function tn(e, t) {
        var n = t || {},
          i = n.placement,
          r = n.classes,
          o = n.delay;
        i && "bottom" !== i && e.setAttribute("aria-label-position", i),
          r && e.setAttribute("aria-label-classes", r.join(" ")),
          o && e.setAttribute("aria-label-delay", String(o));
      }
      function nn(e, t, n) {
        e.setAttribute("aria-label", t), tn(e, n), Kt === e && Zt(e, t, n);
      }
      var rn = (function () {
        function e(e) {
          (this.leftSpacing = 0), (this.win = e);
          var t = (this.isMac = "darwin" === window.process.platform),
            n = document.body;
          n.addClass("is-frameless");
          var i = (this.titleBarEl = createDiv("titlebar"));
          n.insertBefore(i, n.firstChild);
          var r = (this.titleBarInnerEl = i.createDiv("titlebar-inner"));
          (this.titleBarLeftEl = r.createDiv("titlebar-left")),
            (this.titleBarTextEl = r.createDiv({
              cls: "titlebar-text",
              text: "Obsidian",
            })),
            window.addEventListener("resize", this.updateStatus.bind(this)),
            new MutationObserver(this.updateTitle.bind(this)).observe(
              fish("title"),
              { subtree: !0, characterData: !0, childList: !0 }
            ),
            (this.leftButtonContainerEl = r.createDiv(
              "titlebar-button-container mod-left"
            ));
          var o = r.createDiv("titlebar-button-container mod-right");
          if ((this.updateStatus(), this.updateTitle(), !t)) {
            if (e.minimizable) {
              var s = o.createDiv("titlebar-button mod-minimize");
              (s.innerHTML =
                '<svg aria-hidden="false" width="10" height="10" viewBox="0 0 12 12"><rect fill="currentColor" width="10" height="1" x="1" y="6"></rect></svg>'),
                xt.then(function () {
                  nn(s, Lt("interface.window.minimize"));
                }),
                s.addEventListener("click", function () {
                  e.minimize();
                });
            }
            if (e.maximizable) {
              var a = o.createDiv("titlebar-button mod-maximize");
              a.innerHTML =
                '<svg aria-hidden="false" width="10" height="10" viewBox="0 0 12 12"><rect width="9" height="9" x="1.5" y="1.5" fill="none" stroke="currentColor"></rect></svg>';
              var l = function () {
                e.isMaximized()
                  ? nn(a, Lt("interface.window.restore-down"))
                  : nn(a, Lt("interface.window.maximize"));
              };
              a.addEventListener("click", function () {
                e.isMaximized() ? e.unmaximize() : e.maximize(), l();
              }),
                xt.then(function () {
                  l();
                }),
                window.addEventListener("resize", l);
            }
            if (e.closable) {
              var c = o.createDiv("titlebar-button mod-close");
              (c.innerHTML =
                '<svg aria-hidden="false" width="10" height="10" viewBox="0 0 12 12"><polygon fill="currentColor" fill-rule="evenodd" points="11 1.576 6.583 6 11 10.424 10.424 11 6 6.583 1.576 11 1 10.424 5.417 6 1 1.576 1.576 1 6 5.417 10.424 1"></polygon></svg>'),
                xt.then(function () {
                  nn(c, Lt("interface.window.close-window"));
                }),
                c.addEventListener("click", function () {
                  e.close();
                });
            }
          }
          t &&
            e.maximizable &&
            r.addEventListener("dblclick", function (t) {
              0 === t.button &&
                ut(function (t) {
                  var n = t.remote.systemPreferences.getUserDefault(
                    "AppleActionOnDoubleClick",
                    "string"
                  );
                  "Minimize" === n
                    ? e.minimize()
                    : ("Maximize" !== n && "" !== n) ||
                      (e.isMaximized() ? e.unmaximize() : e.maximize());
                });
            });
        }
        return (
          (e.prototype.updateTitle = function () {
            this.titleBarTextEl.setText(document.title);
          }),
          (e.prototype.updateStatus = function () {
            var e = this,
              t = e.win,
              n = e.isMac,
              i = e.titleBarEl,
              r = t.webContents.getZoomFactor(),
              o = document.body,
              s = t.isFullScreen(),
              a = 22,
              l = (t.isMaximized() ? 0 : 2) / r;
            (a += l),
              s && (a = 0),
              (o.style.paddingTop = a + "px"),
              (i.style.height = a + "px"),
              (i.style.paddingTop = l + "px"),
              i.toggle(!s),
              o.toggleClass("is-fullscreen", s),
              (this.leftButtonContainerEl.style.left = n
                ? 70 / r + "px"
                : this.leftSpacing + "px");
          }),
          e
        );
      })();
      ut(function (e) {
        if (!e.remote)
          try {
            e.remote = window.require("@electron/remote");
          } catch (e) {
            console.error(e);
          }
        var t = window.open;
        window.open = function (n, i, r, o) {
          return "string" == typeof n && 0 === n.indexOf("file:")
            ? (e.ipcRenderer.send("open-url", n), null)
            : t.apply(this, arguments);
        };
        var n = e.remote.getCurrentWindow();
        n.frameless && (window.frameDom = new rn(n));
      });
      const on = ((e) =>
        (e.CapacitorPlatforms = ((e) => {
          const t = new Map();
          t.set("web", { name: "web" });
          const n = e.CapacitorPlatforms || {
            currentPlatform: { name: "web" },
            platforms: t,
          };
          return (
            (n.addPlatform = (e, t) => {
              n.platforms.set(e, t);
            }),
            (n.setPlatform = (e) => {
              n.platforms.has(e) && (n.currentPlatform = n.platforms.get(e));
            }),
            n
          );
        })(e)))(
        "undefined" != typeof globalThis
          ? globalThis
          : "undefined" != typeof self
          ? self
          : "undefined" != typeof window
          ? window
          : void 0 !== n.g
          ? n.g
          : {}
      );
      on.addPlatform, on.setPlatform;
      var sn;
      !(function (e) {
        (e.Unimplemented = "UNIMPLEMENTED"), (e.Unavailable = "UNAVAILABLE");
      })(sn || (sn = {}));
      class an extends Error {
        constructor(e, t) {
          super(e), (this.message = e), (this.code = t);
        }
      }
      const ln = (e) => {
          var t, n;
          return (null == e ? void 0 : e.androidBridge)
            ? "android"
            : (
                null ===
                  (n =
                    null === (t = null == e ? void 0 : e.webkit) || void 0 === t
                      ? void 0
                      : t.messageHandlers) || void 0 === n
                  ? void 0
                  : n.bridge
              )
            ? "ios"
            : "web";
        },
        cn = (e) => {
          var t, n, i, r, o;
          const s = e.Capacitor || {},
            a = (s.Plugins = s.Plugins || {}),
            l = e.CapacitorPlatforms,
            c =
              (null === (t = null == l ? void 0 : l.currentPlatform) ||
              void 0 === t
                ? void 0
                : t.getPlatform) || (() => ln(e)),
            u =
              (null === (n = null == l ? void 0 : l.currentPlatform) ||
              void 0 === n
                ? void 0
                : n.isNativePlatform) || (() => "web" !== ln(e)),
            h =
              (null === (i = null == l ? void 0 : l.currentPlatform) ||
              void 0 === i
                ? void 0
                : i.isPluginAvailable) ||
              ((e) => {
                const t = d.get(e);
                return !!(null == t ? void 0 : t.platforms.has(c())) || !!p(e);
              }),
            p =
              (null === (r = null == l ? void 0 : l.currentPlatform) ||
              void 0 === r
                ? void 0
                : r.getPluginHeader) ||
              ((e) => {
                var t;
                return null === (t = s.PluginHeaders) || void 0 === t
                  ? void 0
                  : t.find((t) => t.name === e);
              }),
            d = new Map(),
            f =
              (null === (o = null == l ? void 0 : l.currentPlatform) ||
              void 0 === o
                ? void 0
                : o.registerPlugin) ||
              ((e, t = {}) => {
                const n = d.get(e);
                if (n)
                  return (
                    console.warn(
                      `Capacitor plugin "${e}" already registered. Cannot register plugins twice.`
                    ),
                    n.proxy
                  );
                const i = c(),
                  r = p(e);
                let o;
                const l = (n) => {
                    let a;
                    const l = (...l) => {
                      const c = (async () => (
                        !o &&
                          i in t &&
                          (o = o =
                            "function" == typeof t[i] ? await t[i]() : t[i]),
                        o
                      ))().then((t) => {
                        const o = ((t, n) => {
                          var o, a;
                          if (!r) {
                            if (t)
                              return null === (a = t[n]) || void 0 === a
                                ? void 0
                                : a.bind(t);
                            throw new an(
                              `"${e}" plugin is not implemented on ${i}`,
                              sn.Unimplemented
                            );
                          }
                          {
                            const i =
                              null == r
                                ? void 0
                                : r.methods.find((e) => n === e.name);
                            if (i)
                              return "promise" === i.rtype
                                ? (t) => s.nativePromise(e, n.toString(), t)
                                : (t, i) =>
                                    s.nativeCallback(e, n.toString(), t, i);
                            if (t)
                              return null === (o = t[n]) || void 0 === o
                                ? void 0
                                : o.bind(t);
                          }
                        })(t, n);
                        if (o) {
                          const e = o(...l);
                          return (a = null == e ? void 0 : e.remove), e;
                        }
                        throw new an(
                          `"${e}.${n}()" is not implemented on ${i}`,
                          sn.Unimplemented
                        );
                      });
                      return (
                        "addListener" === n && (c.remove = async () => a()), c
                      );
                    };
                    return (
                      (l.toString = () =>
                        `${n.toString()}() { [capacitor code] }`),
                      Object.defineProperty(l, "name", {
                        value: n,
                        writable: !1,
                        configurable: !1,
                      }),
                      l
                    );
                  },
                  u = l("addListener"),
                  h = l("removeListener"),
                  f = (e, t) => {
                    const n = u({ eventName: e }, t),
                      i = async () => {
                        const i = await n;
                        h({ eventName: e, callbackId: i }, t);
                      },
                      r = new Promise((e) => n.then(() => e({ remove: i })));
                    return (
                      (r.remove = async () => {
                        console.warn(
                          "Using addListener() without 'await' is deprecated."
                        ),
                          await i();
                      }),
                      r
                    );
                  },
                  g = new Proxy(
                    {},
                    {
                      get(e, t) {
                        switch (t) {
                          case "$$typeof":
                            return;
                          case "addListener":
                            return r ? f : u;
                          case "removeListener":
                            return h;
                          default:
                            return l(t);
                        }
                      },
                    }
                  );
                return (
                  (a[e] = g),
                  d.set(e, {
                    name: e,
                    proxy: g,
                    platforms: new Set([...Object.keys(t), ...(r ? [i] : [])]),
                  }),
                  g
                );
              });
          return (
            s.convertFileSrc || (s.convertFileSrc = (e) => e),
            (s.getPlatform = c),
            (s.handleError = (t) => e.console.error(t)),
            (s.isNativePlatform = u),
            (s.isPluginAvailable = h),
            (s.pluginMethodNoop = (e, t, n) =>
              Promise.reject(
                `${n} does not have an implementation of "${t}".`
              )),
            (s.registerPlugin = f),
            (s.Exception = an),
            (s.DEBUG = !!s.DEBUG),
            (s.isLoggingEnabled = !!s.isLoggingEnabled),
            (s.platform = s.getPlatform()),
            (s.isNative = s.isNativePlatform()),
            s
          );
        },
        un = ((e) => (e.Capacitor = cn(e)))(
          "undefined" != typeof globalThis
            ? globalThis
            : "undefined" != typeof self
            ? self
            : "undefined" != typeof window
            ? window
            : void 0 !== n.g
            ? n.g
            : {}
        ),
        hn = un.registerPlugin;
      un.Plugins;
      var pn, dn;
      !(function (e) {
        (e.Dark = "DARK"), (e.Light = "LIGHT"), (e.Default = "DEFAULT");
      })(pn || (pn = {})),
        (function (e) {
          (e.Body = "body"),
            (e.Ionic = "ionic"),
            (e.Native = "native"),
            (e.None = "none");
        })(dn || (dn = {}));
      hn("Keyboard");
      var fn, gn;
      !(function (e) {
        (e.Dark = "DARK"), (e.Light = "LIGHT"), (e.Default = "DEFAULT");
      })(fn || (fn = {})),
        (function (e) {
          (e.None = "NONE"), (e.Slide = "SLIDE"), (e.Fade = "FADE");
        })(gn || (gn = {}));
      var mn = "https://api.obsidian.md";
      ft && (mn = "http://127.0.0.1:3000");
      var vn = mn + "/user/info",
        yn = mn + "/subscription/business",
        bn = mn + "/user/signin",
        wn = mn + "/user/signout",
        kn = mn + "/vault/list",
        Cn = mn + "/vault/access",
        xn = mn + "/vault/create",
        Sn = mn + "/vault/delete",
        En = mn + "/publish/list",
        Mn = mn + "/publish/create",
        Ln = mn + "/publish/delete",
        An = mn + "/publish/limit",
        Dn = mn + "/subscription/list",
        Tn = "obsidian-account",
        Pn = (function () {
          function e() {
            (this.keyValidation = ""),
              (this.company = ""),
              (this.expiry = 0),
              (this.seats = 0);
            try {
              var e = JSON.parse(localStorage.getItem(Tn));
              (this.email = e.email),
                (this.name = e.name),
                (this.token = e.token),
                (this.license = e.license),
                (this.key = e.key);
            } catch (e) {}
          }
          return (
            (e.prototype.save = function () {
              var e = {
                email: this.email,
                name: this.name,
                token: this.token,
                license: this.license,
                key: this.key,
              };
              localStorage.setItem(Tn, JSON.stringify(e));
            }),
            (e.prototype.login = function (e, t, n) {
              var i = this;
              ajax({
                url: bn,
                method: "POST",
                withCredentials: !1,
                data: { email: e, password: t },
                success: function (e) {
                  var t = JSON.parse(e);
                  t.token && ((i.token = t.token), i.save()), n && n(t);
                },
              });
            }),
            (e.prototype.logout = function (e) {
              var t = this;
              ajax({
                url: wn,
                method: "POST",
                withCredentials: !1,
                data: { token: this.token },
                success: function (n) {
                  (t.token = ""),
                    (t.email = ""),
                    (t.name = ""),
                    (t.license = ""),
                    e && e(n);
                },
              });
            }),
            (e.prototype.getUserInfo = function () {
              return A(this, void 0, Promise, function () {
                var e, t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [
                        4,
                        ajaxPromise({
                          url: vn,
                          method: "POST",
                          withCredentials: !1,
                          data: { token: this.token },
                        }),
                      ];
                    case 1:
                      return (
                        (e = n.sent()),
                        "Not logged in" === (t = JSON.parse(e)).error
                          ? ((this.email = null),
                            (this.name = null),
                            (this.token = null),
                            (this.license = null),
                            this.save(),
                            [2])
                          : ((this.email = t.email),
                            (this.name = t.name),
                            (this.license = t.license),
                            this.save(),
                            [2, t])
                      );
                  }
                });
              });
            }),
            (e.prototype.checkKey = function (e) {
              var t = this;
              this.key
                ? ajax({
                    url: yn,
                    method: "POST",
                    withCredentials: !1,
                    data: { key: this.key },
                    success: function (n) {
                      var i = JSON.parse(n);
                      if (i.error)
                        return (t.keyValidation = i.error), void (e && e());
                      (t.keyValidation = "valid"),
                        (t.company = i.company),
                        (t.expiry = i.expiry),
                        (t.seats = i.seats),
                        t.save(),
                        e && e();
                    },
                    error: e,
                  })
                : e();
            }),
            (e.prototype.getVaults = function (e) {
              ajax({
                url: kn,
                method: "POST",
                withCredentials: !1,
                data: { token: this.token },
                success: function (t) {
                  var n = JSON.parse(t);
                  e && e(n.vaults);
                },
              });
            }),
            (e.prototype.createVault = function (e, t, n, i) {
              ajax({
                url: xn,
                method: "POST",
                withCredentials: !1,
                data: { name: e, token: this.token, keyhash: t, salt: n },
                success: function (e) {
                  var t = JSON.parse(e);
                  i && i(t);
                },
              });
            }),
            (e.prototype.deleteVault = function (e, t) {
              ajax({
                url: Sn,
                method: "POST",
                withCredentials: !1,
                data: { vault_uid: e, token: this.token },
                success: function (e) {
                  var n = JSON.parse(e);
                  t && t(n);
                },
              });
            }),
            (e.prototype.verifyVaultKey = function (e, t, n) {
              return A(this, void 0, void 0, function () {
                return D(this, function (i) {
                  return [
                    2,
                    ajaxPromise({
                      url: Cn,
                      method: "POST",
                      withCredentials: !1,
                      data: {
                        token: this.token,
                        vault_uid: e,
                        keyhash: t,
                        host: n,
                      },
                    }),
                  ];
                });
              });
            }),
            (e.prototype.getSites = function () {
              return A(this, void 0, Promise, function () {
                var e, t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (t = (e = JSON).parse),
                        [
                          4,
                          ajaxPromise({
                            url: En,
                            method: "POST",
                            withCredentials: !1,
                            data: { token: this.token },
                          }),
                        ]
                      );
                    case 1:
                      return [2, t.apply(e, [n.sent()])];
                  }
                });
              });
            }),
            (e.prototype.createSite = function (e) {
              ajax({
                url: Mn,
                method: "POST",
                withCredentials: !1,
                data: { token: this.token },
                success: function (t) {
                  var n = JSON.parse(t);
                  e && e(n);
                },
                error: function (t) {
                  e && e(t);
                },
              });
            }),
            (e.prototype.deleteSite = function (e, t) {
              ajax({
                url: Ln,
                method: "POST",
                withCredentials: !1,
                data: { token: this.token, site_uid: e },
                success: function (e) {
                  var n = JSON.parse(e);
                  t && t(n);
                },
                error: function (e) {
                  t && t(e);
                },
              });
            }),
            (e.prototype.getSiteLimit = function () {
              return A(this, void 0, Promise, function () {
                var e, t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (t = (e = JSON).parse),
                        [
                          4,
                          ajaxPromise({
                            url: An,
                            method: "POST",
                            withCredentials: !1,
                            data: { token: this.token },
                          }),
                        ]
                      );
                    case 1:
                      return [2, t.apply(e, [n.sent()])];
                  }
                });
              });
            }),
            (e.prototype.getSubscriptions = function () {
              return A(this, void 0, Promise, function () {
                var e, t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (t = (e = JSON).parse),
                        [
                          4,
                          ajaxPromise({
                            url: Dn,
                            method: "POST",
                            data: { token: this.token },
                          }),
                        ]
                      );
                    case 1:
                      return [2, t.apply(e, [n.sent()])];
                  }
                });
              });
            }),
            (e.prototype.setKey = function (e) {
              (this.key = e), this.save();
            }),
            e
          );
        })(),
        On = 1024,
        Fn = 0,
        In = function (e, t) {
          (this.from = e), (this.to = t);
        },
        Nn = (function () {
          function e(e) {
            void 0 === e && (e = {}),
              (this.id = Fn++),
              (this.perNode = !!e.perNode),
              (this.deserialize =
                e.deserialize ||
                function () {
                  throw new Error(
                    "This node type doesn't define a deserialize function"
                  );
                });
          }
          return (
            (e.prototype.add = function (e) {
              var t = this;
              if (this.perNode)
                throw new RangeError("Can't add per-node props to node types");
              return (
                "function" != typeof e && (e = zn.match(e)),
                function (n) {
                  var i = e(n);
                  return void 0 === i ? null : [t, i];
                }
              );
            }),
            e
          );
        })();
      (Nn.closedBy = new Nn({
        deserialize: function (e) {
          return e.split(" ");
        },
      })),
        (Nn.openedBy = new Nn({
          deserialize: function (e) {
            return e.split(" ");
          },
        })),
        (Nn.group = new Nn({
          deserialize: function (e) {
            return e.split(" ");
          },
        })),
        (Nn.contextHash = new Nn({ perNode: !0 })),
        (Nn.lookAhead = new Nn({ perNode: !0 })),
        (Nn.mounted = new Nn({ perNode: !0 }));
      var Bn = function (e, t, n) {
          (this.tree = e), (this.overlay = t), (this.parser = n);
        },
        Rn = Object.create(null),
        zn = (function () {
          function e(e, t, n, i) {
            void 0 === i && (i = 0),
              (this.name = e),
              (this.props = t),
              (this.id = n),
              (this.flags = i);
          }
          return (
            (e.define = function (t) {
              var n = t.props && t.props.length ? Object.create(null) : Rn,
                i =
                  (t.top ? 1 : 0) |
                  (t.skipped ? 2 : 0) |
                  (t.error ? 4 : 0) |
                  (null == t.name ? 8 : 0),
                r = new e(t.name || "", n, t.id, i);
              if (t.props)
                for (var o = 0, s = t.props; o < s.length; o++) {
                  var a = s[o];
                  if ((Array.isArray(a) || (a = a(r)), a)) {
                    if (a[0].perNode)
                      throw new RangeError(
                        "Can't store a per-node prop on a node type"
                      );
                    n[a[0].id] = a[1];
                  }
                }
              return r;
            }),
            (e.prototype.prop = function (e) {
              return this.props[e.id];
            }),
            Object.defineProperty(e.prototype, "isTop", {
              get: function () {
                return (1 & this.flags) > 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "isSkipped", {
              get: function () {
                return (2 & this.flags) > 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "isError", {
              get: function () {
                return (4 & this.flags) > 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "isAnonymous", {
              get: function () {
                return (8 & this.flags) > 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.is = function (e) {
              if ("string" == typeof e) {
                if (this.name == e) return !0;
                var t = this.prop(Nn.group);
                return !!t && t.indexOf(e) > -1;
              }
              return this.id == e;
            }),
            (e.match = function (e) {
              var t = Object.create(null);
              for (var n in e)
                for (var i = 0, r = n.split(" "); i < r.length; i++) {
                  var o = r[i];
                  t[o] = e[n];
                }
              return function (e) {
                for (
                  var n = e.prop(Nn.group), i = -1;
                  i < (n ? n.length : 0);
                  i++
                ) {
                  var r = t[i < 0 ? e.name : n[i]];
                  if (r) return r;
                }
              };
            }),
            e
          );
        })();
      zn.none = new zn("", Object.create(null), 0, 8);
      var Hn = (function () {
          function e(e) {
            this.types = e;
            for (var t = 0; t < e.length; t++)
              if (e[t].id != t)
                throw new RangeError(
                  "Node type ids should correspond to array positions when creating a node set"
                );
          }
          return (
            (e.prototype.extend = function () {
              for (var t = [], n = 0; n < arguments.length; n++)
                t[n] = arguments[n];
              for (var i = [], r = 0, o = this.types; r < o.length; r++) {
                for (var s = o[r], a = null, l = 0, c = t; l < c.length; l++) {
                  var u = c[l],
                    h = u(s);
                  h &&
                    (a || (a = Object.assign({}, s.props)),
                    (a[h[0].id] = h[1]));
                }
                i.push(a ? new zn(s.name, a, s.id, s.flags) : s);
              }
              return new e(i);
            }),
            e
          );
        })(),
        Vn = new WeakMap(),
        qn = new WeakMap(),
        jn = (function () {
          function e(e, t, n, i, r) {
            if (
              ((this.type = e),
              (this.children = t),
              (this.positions = n),
              (this.length = i),
              (this.props = null),
              r && r.length)
            ) {
              this.props = Object.create(null);
              for (var o = 0, s = r; o < s.length; o++) {
                var a = s[o],
                  l = a[0],
                  c = a[1];
                this.props["number" == typeof l ? l : l.id] = c;
              }
            }
          }
          return (
            (e.prototype.toString = function () {
              var e = this.prop(Nn.mounted);
              if (e && !e.overlay) return e.tree.toString();
              for (var t = "", n = 0, i = this.children; n < i.length; n++) {
                var r = i[n].toString();
                r && (t && (t += ","), (t += r));
              }
              return this.type.name
                ? (/\W/.test(this.type.name) && !this.type.isError
                    ? JSON.stringify(this.type.name)
                    : this.type.name) + (t.length ? "(" + t + ")" : "")
                : t;
            }),
            (e.prototype.cursor = function (e, t) {
              void 0 === t && (t = 0);
              var n = (null != e && Vn.get(this)) || this.topNode,
                i = new Xn(n);
              return null != e && (i.moveTo(e, t), Vn.set(this, i._tree)), i;
            }),
            (e.prototype.fullCursor = function () {
              return new Xn(this.topNode, 1);
            }),
            Object.defineProperty(e.prototype, "topNode", {
              get: function () {
                return new $n(this, 0, 0, null);
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.resolve = function (e, t) {
              void 0 === t && (t = 0);
              var n = Kn(Vn.get(this) || this.topNode, e, t, !1);
              return Vn.set(this, n), n;
            }),
            (e.prototype.resolveInner = function (e, t) {
              void 0 === t && (t = 0);
              var n = Kn(qn.get(this) || this.topNode, e, t, !0);
              return qn.set(this, n), n;
            }),
            (e.prototype.iterate = function (e) {
              var t,
                n = e.enter,
                i = e.leave,
                r = e.from,
                o = void 0 === r ? 0 : r,
                s = e.to,
                a = void 0 === s ? this.length : s,
                l = this;
              !(function () {
                var e = l.cursor();
                t = e;
              })();
              for (var c = t, u = undefined; ; ) {
                var h = !1;
                if (
                  c.from <= a &&
                  c.to >= o &&
                  (c.type.isAnonymous || !1 !== n(c.type, c.from, c.to, u))
                ) {
                  if (c.firstChild()) continue;
                  c.type.isAnonymous || (h = !0);
                }
                for (
                  ;
                  h && i && i(c.type, c.from, c.to, u),
                    (h = c.type.isAnonymous),
                    !c.nextSibling();

                ) {
                  if (!c.parent()) return;
                  h = !0;
                }
              }
            }),
            (e.prototype.prop = function (e) {
              return e.perNode
                ? this.props
                  ? this.props[e.id]
                  : void 0
                : this.type.prop(e);
            }),
            Object.defineProperty(e.prototype, "propValues", {
              get: function () {
                var e = [];
                if (this.props)
                  for (var t in this.props) e.push([+t, this.props[t]]);
                return e;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.balance = function (t) {
              var n = this;
              return (
                void 0 === t && (t = {}),
                this.children.length <= 8
                  ? this
                  : ii(
                      zn.none,
                      this.children,
                      this.positions,
                      0,
                      this.children.length,
                      0,
                      this.length,
                      function (t, i, r) {
                        return new e(n.type, t, i, r, n.propValues);
                      },
                      t.makeTree ||
                        function (t, n, i) {
                          return new e(zn.none, t, n, i);
                        }
                    )
              );
            }),
            (e.build = function (e) {
              return ei(e);
            }),
            e
          );
        })();
      jn.empty = new jn(zn.none, [], [], 0);
      var Un = (function () {
          function e(e, t) {
            (this.buffer = e), (this.index = t);
          }
          return (
            Object.defineProperty(e.prototype, "id", {
              get: function () {
                return this.buffer[this.index - 4];
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "start", {
              get: function () {
                return this.buffer[this.index - 3];
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "end", {
              get: function () {
                return this.buffer[this.index - 2];
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "size", {
              get: function () {
                return this.buffer[this.index - 1];
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "pos", {
              get: function () {
                return this.index;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.next = function () {
              this.index -= 4;
            }),
            (e.prototype.fork = function () {
              return new e(this.buffer, this.index);
            }),
            e
          );
        })(),
        Wn = (function () {
          function e(e, t, n) {
            (this.buffer = e), (this.length = t), (this.set = n);
          }
          return (
            Object.defineProperty(e.prototype, "type", {
              get: function () {
                return zn.none;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.toString = function () {
              for (var e = [], t = 0; t < this.buffer.length; )
                e.push(this.childString(t)), (t = this.buffer[t + 3]);
              return e.join(",");
            }),
            (e.prototype.childString = function (e) {
              var t = this.buffer[e],
                n = this.buffer[e + 3],
                i = this.set.types[t],
                r = i.name;
              if (
                (/\W/.test(r) && !i.isError && (r = JSON.stringify(r)),
                n == (e += 4))
              )
                return r;
              for (var o = []; e < n; )
                o.push(this.childString(e)), (e = this.buffer[e + 3]);
              return r + "(" + o.join(",") + ")";
            }),
            (e.prototype.findChild = function (e, t, n, i, r) {
              for (
                var o = this.buffer, s = -1, a = e;
                a != t && !(_n(r, i, o[a + 1], o[a + 2]) && ((s = a), n > 0));
                a = o[a + 3]
              );
              return s;
            }),
            (e.prototype.slice = function (t, n, i, r) {
              for (
                var o = this.buffer, s = new Uint16Array(n - t), a = t, l = 0;
                a < n;

              )
                (s[l++] = o[a++]),
                  (s[l++] = o[a++] - i),
                  (s[l++] = o[a++] - i),
                  (s[l++] = o[a++] - t);
              return new e(s, r - i, this.set);
            }),
            e
          );
        })();
      function _n(e, t, n, i) {
        switch (e) {
          case -2:
            return n < t;
          case -1:
            return i >= t && n < t;
          case 0:
            return n < t && i > t;
          case 1:
            return n <= t && i > t;
          case 2:
            return i > t;
          case 4:
            return !0;
        }
      }
      function Gn(e, t) {
        for (var n = e.childBefore(t); n; ) {
          var i = n.lastChild;
          if (!i || i.to != n.to) break;
          i.type.isError && i.from == i.to
            ? ((e = n), (n = i.prevSibling))
            : (n = i);
        }
        return e;
      }
      function Kn(e, t, n, i) {
        for (
          var r;
          e.from == e.to ||
          (n < 1 ? e.from >= t : e.from > t) ||
          (n > -1 ? e.to <= t : e.to < t);

        ) {
          if (!(s = !i && e instanceof $n && e.index < 0 ? null : e.parent))
            return e;
          e = s;
        }
        if (i)
          for (var o = e, s = o.parent; s; s = (o = s).parent)
            o instanceof $n &&
              o.index < 0 &&
              (null === (r = s.enter(t, n, !0)) || void 0 === r
                ? void 0
                : r.from) != o.from &&
              (e = s);
        for (;;) {
          var a = e.enter(t, n, i);
          if (!a) return e;
          e = a;
        }
      }
      var $n = (function () {
        function e(e, t, n, i) {
          (this.node = e),
            (this._from = t),
            (this.index = n),
            (this._parent = i);
        }
        return (
          Object.defineProperty(e.prototype, "type", {
            get: function () {
              return this.node.type;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "name", {
            get: function () {
              return this.node.type.name;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "from", {
            get: function () {
              return this._from;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "to", {
            get: function () {
              return this._from + this.node.length;
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.nextChild = function (t, n, i, r, o) {
            void 0 === o && (o = 0);
            for (var s = this; ; ) {
              for (
                var a = s.node,
                  l = a.children,
                  c = a.positions,
                  u = n > 0 ? l.length : -1;
                t != u;
                t += n
              ) {
                var h = l[t],
                  p = c[t] + s._from;
                if (_n(r, i, p, p + h.length))
                  if (h instanceof Wn) {
                    if (2 & o) continue;
                    var d = h.findChild(0, h.buffer.length, n, i - p, r);
                    if (d > -1) return new Qn(new Jn(s, h, t, p), null, d);
                  } else if (1 & o || !h.type.isAnonymous || Zn(h)) {
                    var f = void 0;
                    if (
                      !(1 & o) &&
                      h.props &&
                      (f = h.prop(Nn.mounted)) &&
                      !f.overlay
                    )
                      return new e(f.tree, p, t, s);
                    var g = new e(h, p, t, s);
                    return 1 & o || !g.type.isAnonymous
                      ? g
                      : g.nextChild(n < 0 ? h.children.length - 1 : 0, n, i, r);
                  }
              }
              if (1 & o || !s.type.isAnonymous) return null;
              if (
                ((t =
                  s.index >= 0
                    ? s.index + n
                    : n < 0
                    ? -1
                    : s._parent.node.children.length),
                !(s = s._parent))
              )
                return null;
            }
          }),
          Object.defineProperty(e.prototype, "firstChild", {
            get: function () {
              return this.nextChild(0, 1, 0, 4);
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "lastChild", {
            get: function () {
              return this.nextChild(this.node.children.length - 1, -1, 0, 4);
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.childAfter = function (e) {
            return this.nextChild(0, 1, e, 2);
          }),
          (e.prototype.childBefore = function (e) {
            return this.nextChild(this.node.children.length - 1, -1, e, -2);
          }),
          (e.prototype.enter = function (t, n, i, r) {
            var o;
            if (
              (void 0 === i && (i = !0),
              void 0 === r && (r = !0),
              i && (o = this.node.prop(Nn.mounted)) && o.overlay)
            )
              for (
                var s = t - this.from, a = 0, l = o.overlay;
                a < l.length;
                a++
              ) {
                var c = l[a],
                  u = c.from,
                  h = c.to;
                if ((n > 0 ? u <= s : u < s) && (n < 0 ? h >= s : h > s))
                  return new e(o.tree, o.overlay[0].from + this.from, -1, this);
              }
            return this.nextChild(0, 1, t, n, r ? 0 : 2);
          }),
          (e.prototype.nextSignificantParent = function () {
            for (var e = this; e.type.isAnonymous && e._parent; ) e = e._parent;
            return e;
          }),
          Object.defineProperty(e.prototype, "parent", {
            get: function () {
              return this._parent ? this._parent.nextSignificantParent() : null;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "nextSibling", {
            get: function () {
              return this._parent && this.index >= 0
                ? this._parent.nextChild(this.index + 1, 1, 0, 4)
                : null;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "prevSibling", {
            get: function () {
              return this._parent && this.index >= 0
                ? this._parent.nextChild(this.index - 1, -1, 0, 4)
                : null;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "cursor", {
            get: function () {
              return new Xn(this);
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "tree", {
            get: function () {
              return this.node;
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.toTree = function () {
            return this.node;
          }),
          (e.prototype.resolve = function (e, t) {
            return void 0 === t && (t = 0), Kn(this, e, t, !1);
          }),
          (e.prototype.resolveInner = function (e, t) {
            return void 0 === t && (t = 0), Kn(this, e, t, !0);
          }),
          (e.prototype.enterUnfinishedNodesBefore = function (e) {
            return Gn(this, e);
          }),
          (e.prototype.getChild = function (e, t, n) {
            void 0 === t && (t = null), void 0 === n && (n = null);
            var i = Yn(this, e, t, n);
            return i.length ? i[0] : null;
          }),
          (e.prototype.getChildren = function (e, t, n) {
            return (
              void 0 === t && (t = null),
              void 0 === n && (n = null),
              Yn(this, e, t, n)
            );
          }),
          (e.prototype.toString = function () {
            return this.node.toString();
          }),
          e
        );
      })();
      function Yn(e, t, n, i) {
        var r = e.cursor,
          o = [];
        if (!r.firstChild()) return o;
        if (null != n) for (; !r.type.is(n); ) if (!r.nextSibling()) return o;
        for (;;) {
          if (null != i && r.type.is(i)) return o;
          if ((r.type.is(t) && o.push(r.node), !r.nextSibling()))
            return null == i ? o : [];
        }
      }
      var Jn = function (e, t, n, i) {
          (this.parent = e),
            (this.buffer = t),
            (this.index = n),
            (this.start = i);
        },
        Qn = (function () {
          function e(e, t, n) {
            (this.context = e),
              (this._parent = t),
              (this.index = n),
              (this.type = e.buffer.set.types[e.buffer.buffer[n]]);
          }
          return (
            Object.defineProperty(e.prototype, "name", {
              get: function () {
                return this.type.name;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "from", {
              get: function () {
                return (
                  this.context.start +
                  this.context.buffer.buffer[this.index + 1]
                );
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "to", {
              get: function () {
                return (
                  this.context.start +
                  this.context.buffer.buffer[this.index + 2]
                );
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.child = function (t, n, i) {
              var r = this.context.buffer,
                o = r.findChild(
                  this.index + 4,
                  r.buffer[this.index + 3],
                  t,
                  n - this.context.start,
                  i
                );
              return o < 0 ? null : new e(this.context, this, o);
            }),
            Object.defineProperty(e.prototype, "firstChild", {
              get: function () {
                return this.child(1, 0, 4);
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "lastChild", {
              get: function () {
                return this.child(-1, 0, 4);
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.childAfter = function (e) {
              return this.child(1, e, 2);
            }),
            (e.prototype.childBefore = function (e) {
              return this.child(-1, e, -2);
            }),
            (e.prototype.enter = function (t, n, i, r) {
              if ((void 0 === r && (r = !0), !r)) return null;
              var o = this.context.buffer,
                s = o.findChild(
                  this.index + 4,
                  o.buffer[this.index + 3],
                  n > 0 ? 1 : -1,
                  t - this.context.start,
                  n
                );
              return s < 0 ? null : new e(this.context, this, s);
            }),
            Object.defineProperty(e.prototype, "parent", {
              get: function () {
                return (
                  this._parent || this.context.parent.nextSignificantParent()
                );
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.externalSibling = function (e) {
              return this._parent
                ? null
                : this.context.parent.nextChild(
                    this.context.index + e,
                    e,
                    0,
                    4
                  );
            }),
            Object.defineProperty(e.prototype, "nextSibling", {
              get: function () {
                var t = this.context.buffer,
                  n = t.buffer[this.index + 3];
                return n <
                  (this._parent
                    ? t.buffer[this._parent.index + 3]
                    : t.buffer.length)
                  ? new e(this.context, this._parent, n)
                  : this.externalSibling(1);
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "prevSibling", {
              get: function () {
                var t = this.context.buffer,
                  n = this._parent ? this._parent.index + 4 : 0;
                return this.index == n
                  ? this.externalSibling(-1)
                  : new e(
                      this.context,
                      this._parent,
                      t.findChild(n, this.index, -1, 0, 4)
                    );
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "cursor", {
              get: function () {
                return new Xn(this);
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "tree", {
              get: function () {
                return null;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.toTree = function () {
              var e = [],
                t = [],
                n = this.context.buffer,
                i = this.index + 4,
                r = n.buffer[this.index + 3];
              if (r > i) {
                var o = n.buffer[this.index + 1],
                  s = n.buffer[this.index + 2];
                e.push(n.slice(i, r, o, s)), t.push(0);
              }
              return new jn(this.type, e, t, this.to - this.from);
            }),
            (e.prototype.resolve = function (e, t) {
              return void 0 === t && (t = 0), Kn(this, e, t, !1);
            }),
            (e.prototype.resolveInner = function (e, t) {
              return void 0 === t && (t = 0), Kn(this, e, t, !0);
            }),
            (e.prototype.enterUnfinishedNodesBefore = function (e) {
              return Gn(this, e);
            }),
            (e.prototype.toString = function () {
              return this.context.buffer.childString(this.index);
            }),
            (e.prototype.getChild = function (e, t, n) {
              void 0 === t && (t = null), void 0 === n && (n = null);
              var i = Yn(this, e, t, n);
              return i.length ? i[0] : null;
            }),
            (e.prototype.getChildren = function (e, t, n) {
              return (
                void 0 === t && (t = null),
                void 0 === n && (n = null),
                Yn(this, e, t, n)
              );
            }),
            e
          );
        })(),
        Xn = (function () {
          function e(e, t) {
            if (
              (void 0 === t && (t = 0),
              (this.mode = t),
              (this.buffer = null),
              (this.stack = []),
              (this.index = 0),
              (this.bufferNode = null),
              e instanceof $n)
            )
              this.yieldNode(e);
            else {
              (this._tree = e.context.parent), (this.buffer = e.context);
              for (var n = e._parent; n; n = n._parent)
                this.stack.unshift(n.index);
              (this.bufferNode = e), this.yieldBuf(e.index);
            }
          }
          return (
            Object.defineProperty(e.prototype, "name", {
              get: function () {
                return this.type.name;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.yieldNode = function (e) {
              return (
                !!e &&
                ((this._tree = e),
                (this.type = e.type),
                (this.from = e.from),
                (this.to = e.to),
                !0)
              );
            }),
            (e.prototype.yieldBuf = function (e, t) {
              this.index = e;
              var n = this.buffer,
                i = n.start,
                r = n.buffer;
              return (
                (this.type = t || r.set.types[r.buffer[e]]),
                (this.from = i + r.buffer[e + 1]),
                (this.to = i + r.buffer[e + 2]),
                !0
              );
            }),
            (e.prototype.yield = function (e) {
              return (
                !!e &&
                (e instanceof $n
                  ? ((this.buffer = null), this.yieldNode(e))
                  : ((this.buffer = e.context), this.yieldBuf(e.index, e.type)))
              );
            }),
            (e.prototype.toString = function () {
              return this.buffer
                ? this.buffer.buffer.childString(this.index)
                : this._tree.toString();
            }),
            (e.prototype.enterChild = function (e, t, n) {
              if (!this.buffer)
                return this.yield(
                  this._tree.nextChild(
                    e < 0 ? this._tree.node.children.length - 1 : 0,
                    e,
                    t,
                    n,
                    this.mode
                  )
                );
              var i = this.buffer.buffer,
                r = i.findChild(
                  this.index + 4,
                  i.buffer[this.index + 3],
                  e,
                  t - this.buffer.start,
                  n
                );
              return (
                !(r < 0) && (this.stack.push(this.index), this.yieldBuf(r))
              );
            }),
            (e.prototype.firstChild = function () {
              return this.enterChild(1, 0, 4);
            }),
            (e.prototype.lastChild = function () {
              return this.enterChild(-1, 0, 4);
            }),
            (e.prototype.childAfter = function (e) {
              return this.enterChild(1, e, 2);
            }),
            (e.prototype.childBefore = function (e) {
              return this.enterChild(-1, e, -2);
            }),
            (e.prototype.enter = function (e, t, n, i) {
              return (
                void 0 === n && (n = !0),
                void 0 === i && (i = !0),
                this.buffer
                  ? !!i && this.enterChild(1, e, t)
                  : this.yield(this._tree.enter(e, t, n && !(1 & this.mode), i))
              );
            }),
            (e.prototype.parent = function () {
              if (!this.buffer)
                return this.yieldNode(
                  1 & this.mode ? this._tree._parent : this._tree.parent
                );
              if (this.stack.length) return this.yieldBuf(this.stack.pop());
              var e =
                1 & this.mode
                  ? this.buffer.parent
                  : this.buffer.parent.nextSignificantParent();
              return (this.buffer = null), this.yieldNode(e);
            }),
            (e.prototype.sibling = function (e) {
              if (!this.buffer)
                return (
                  !!this._tree._parent &&
                  this.yield(
                    this._tree.index < 0
                      ? null
                      : this._tree._parent.nextChild(
                          this._tree.index + e,
                          e,
                          0,
                          4,
                          this.mode
                        )
                  )
                );
              var t = this.buffer.buffer,
                n = this.stack.length - 1;
              if (e < 0) {
                var i = n < 0 ? 0 : this.stack[n] + 4;
                if (this.index != i)
                  return this.yieldBuf(t.findChild(i, this.index, -1, 0, 4));
              } else {
                var r = t.buffer[this.index + 3];
                if (r < (n < 0 ? t.buffer.length : t.buffer[this.stack[n] + 3]))
                  return this.yieldBuf(r);
              }
              return (
                n < 0 &&
                this.yield(
                  this.buffer.parent.nextChild(
                    this.buffer.index + e,
                    e,
                    0,
                    4,
                    this.mode
                  )
                )
              );
            }),
            (e.prototype.nextSibling = function () {
              return this.sibling(1);
            }),
            (e.prototype.prevSibling = function () {
              return this.sibling(-1);
            }),
            (e.prototype.atLastNode = function (e) {
              var t,
                n,
                i,
                r,
                o = this.buffer;
              if (o) {
                if (e > 0) {
                  if (this.index < o.buffer.buffer.length) return !1;
                } else
                  for (var s = 0; s < this.index; s++)
                    if (o.buffer.buffer[s + 3] < this.index) return !1;
                (i = o.index), (r = o.parent);
              } else (i = (t = this._tree).index), (r = t._parent);
              for (; r; i = (n = r).index, r = n._parent)
                if (i > -1) {
                  s = i + e;
                  for (
                    var a = e < 0 ? -1 : r.node.children.length;
                    s != a;
                    s += e
                  ) {
                    var l = r.node.children[s];
                    if (
                      1 & this.mode ||
                      l instanceof Wn ||
                      !l.type.isAnonymous ||
                      Zn(l)
                    )
                      return !1;
                  }
                }
              return !0;
            }),
            (e.prototype.move = function (e, t) {
              if (t && this.enterChild(e, 0, 4)) return !0;
              for (;;) {
                if (this.sibling(e)) return !0;
                if (this.atLastNode(e) || !this.parent()) return !1;
              }
            }),
            (e.prototype.next = function (e) {
              return void 0 === e && (e = !0), this.move(1, e);
            }),
            (e.prototype.prev = function (e) {
              return void 0 === e && (e = !0), this.move(-1, e);
            }),
            (e.prototype.moveTo = function (e, t) {
              for (
                void 0 === t && (t = 0);
                (this.from == this.to ||
                  (t < 1 ? this.from >= e : this.from > e) ||
                  (t > -1 ? this.to <= e : this.to < e)) &&
                this.parent();

              );
              for (; this.enterChild(1, e, t); );
              return this;
            }),
            Object.defineProperty(e.prototype, "node", {
              get: function () {
                if (!this.buffer) return this._tree;
                var e = this.bufferNode,
                  t = null,
                  n = 0;
                if (e && e.context == this.buffer)
                  e: for (var i = this.index, r = this.stack.length; r >= 0; ) {
                    for (var o = e; o; o = o._parent)
                      if (o.index == i) {
                        if (i == this.index) return o;
                        (t = o), (n = r + 1);
                        break e;
                      }
                    i = this.stack[--r];
                  }
                for (var s = n; s < this.stack.length; s++)
                  t = new Qn(this.buffer, t, this.stack[s]);
                return (this.bufferNode = new Qn(this.buffer, t, this.index));
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "tree", {
              get: function () {
                return this.buffer ? null : this._tree.node;
              },
              enumerable: !1,
              configurable: !0,
            }),
            e
          );
        })();
      function Zn(e) {
        return e.children.some(function (e) {
          return e instanceof Wn || !e.type.isAnonymous || Zn(e);
        });
      }
      function ei(e) {
        var t,
          n = e.buffer,
          i = e.nodeSet,
          r = e.maxBufferLength,
          o = void 0 === r ? On : r,
          s = e.reused,
          a = void 0 === s ? [] : s,
          l = e.minRepeatType,
          c = void 0 === l ? i.types.length : l,
          u = Array.isArray(n) ? new Un(n, n.length) : n,
          h = i.types,
          p = 0,
          d = 0;
        function f(e, t, n, r, s) {
          for (
            var l = u.id, y = u.start, b = u.end, w = u.size, k = d;
            w < 0;

          ) {
            if ((u.next(), -1 == w)) {
              var C = a[l];
              return n.push(C), void r.push(y - e);
            }
            if (-3 == w) return void (p = l);
            if (-4 == w) return void (d = l);
            throw new RangeError("Unrecognized record size: " + w);
          }
          var x,
            S,
            E = h[l],
            M = y - e;
          if (
            b - y <= o &&
            (S = (function (e, t) {
              var n = u.fork(),
                i = 0,
                r = 0,
                s = 0,
                a = n.end - o,
                l = { size: 0, start: 0, skip: 0 };
              e: for (var h = n.pos - e; n.pos > h; ) {
                var p = n.size;
                if (n.id == t && p >= 0)
                  (l.size = i),
                    (l.start = r),
                    (l.skip = s),
                    (s += 4),
                    (i += 4),
                    n.next();
                else {
                  var d = n.pos - p;
                  if (p < 0 || d < h || n.start < a) break;
                  var f = n.id >= c ? 4 : 0,
                    g = n.start;
                  for (n.next(); n.pos > d; ) {
                    if (n.size < 0) {
                      if (-3 != n.size) break e;
                      f += 4;
                    } else n.id >= c && (f += 4);
                    n.next();
                  }
                  (r = g), (i += p), (s += f);
                }
              }
              (t < 0 || i == e) && ((l.size = i), (l.start = r), (l.skip = s));
              return l.size > 4 ? l : void 0;
            })(u.pos - t, s))
          ) {
            for (
              var L = new Uint16Array(S.size - S.skip),
                A = u.pos - S.size,
                D = L.length;
              u.pos > A;

            )
              D = v(S.start, L, D);
            (x = new Wn(L, b - S.start, i)), (M = S.start - e);
          } else {
            A = u.pos - w;
            u.next();
            for (
              var T = [], P = [], O = l >= c ? l : -1, F = 0, I = b;
              u.pos > A;

            )
              O >= 0 && u.id == O && u.size >= 0
                ? (u.end <= I - o &&
                    (g(T, P, y, F, u.end, I, O, k),
                    (F = T.length),
                    (I = u.end)),
                  u.next())
                : f(y, A, T, P, O);
            if (
              (O >= 0 && F > 0 && F < T.length && g(T, P, y, F, y, I, O, k),
              T.reverse(),
              P.reverse(),
              O > -1 && F > 0)
            ) {
              var N = (function (e) {
                return function (t, n, i) {
                  var r,
                    o,
                    s = 0,
                    a = t.length - 1;
                  if (a >= 0 && (r = t[a]) instanceof jn) {
                    if (!a && r.type == e && r.length == i) return r;
                    (o = r.prop(Nn.lookAhead)) && (s = n[a] + r.length + o);
                  }
                  return m(e, t, n, i, s);
                };
              })(E);
              x = ii(E, T, P, 0, T.length, 0, b - y, N, N);
            } else x = m(E, T, P, b - y, k - b);
          }
          n.push(x), r.push(M);
        }
        function g(e, t, n, r, o, s, a, l) {
          for (var c = [], u = []; e.length > r; )
            c.push(e.pop()), u.push(t.pop() + n - o);
          e.push(m(i.types[a], c, u, s - o, l - s)), t.push(o - n);
        }
        function m(e, t, n, i, r, o) {
          if ((void 0 === r && (r = 0), p)) {
            var s = [Nn.contextHash, p];
            o = o ? [s].concat(o) : [s];
          }
          if (r > 25) {
            s = [Nn.lookAhead, r];
            o = o ? [s].concat(o) : [s];
          }
          return new jn(e, t, n, i, o);
        }
        function v(e, t, n) {
          var i = u.id,
            r = u.start,
            o = u.end,
            s = u.size;
          if ((u.next(), s >= 0 && i < c)) {
            var a = n;
            if (s > 4)
              for (var l = u.pos - (s - 4); u.pos > l; ) n = v(e, t, n);
            (t[--n] = a), (t[--n] = o - e), (t[--n] = r - e), (t[--n] = i);
          } else -3 == s ? (p = i) : -4 == s && (d = i);
          return n;
        }
        for (var y = [], b = []; u.pos > 0; )
          f(e.start || 0, e.bufferStart || 0, y, b, -1);
        var w =
          null !== (t = e.length) && void 0 !== t
            ? t
            : y.length
            ? b[0] + y[0].length
            : 0;
        return new jn(h[e.topID], y.reverse(), b.reverse(), w);
      }
      var ti = new WeakMap();
      function ni(e, t) {
        if (!e.isAnonymous || t instanceof Wn || t.type != e) return 1;
        var n = ti.get(t);
        if (null == n) {
          n = 1;
          for (var i = 0, r = t.children; i < r.length; i++) {
            var o = r[i];
            if (o.type != e || !(o instanceof jn)) {
              n = 1;
              break;
            }
            n += ni(e, o);
          }
          ti.set(t, n);
        }
        return n;
      }
      function ii(e, t, n, i, r, o, s, a, l) {
        for (var c = 0, u = i; u < r; u++) c += ni(e, t[u]);
        var h = Math.ceil((1.5 * c) / 8),
          p = [],
          d = [];
        return (
          (function t(n, i, r, s, a) {
            for (var c = r; c < s; ) {
              var u = c,
                f = i[c],
                g = ni(e, n[c]);
              for (c++; c < s; c++) {
                var m = ni(e, n[c]);
                if (g + m >= h) break;
                g += m;
              }
              if (c == u + 1) {
                if (g > h) {
                  var v = n[u];
                  t(v.children, v.positions, 0, v.children.length, i[u] + a);
                  continue;
                }
                p.push(n[u]);
              } else {
                var y = i[c - 1] + n[c - 1].length - f;
                p.push(ii(e, n, i, u, c, f, y, null, l));
              }
              d.push(f + a - o);
            }
          })(t, n, i, r, 0),
          (a || l)(p, d, s)
        );
      }
      var ri = (function () {
          function e(e, t, n, i, r, o) {
            void 0 === r && (r = !1),
              void 0 === o && (o = !1),
              (this.from = e),
              (this.to = t),
              (this.tree = n),
              (this.offset = i),
              (this.open = (r ? 1 : 0) | (o ? 2 : 0));
          }
          return (
            Object.defineProperty(e.prototype, "openStart", {
              get: function () {
                return (1 & this.open) > 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "openEnd", {
              get: function () {
                return (2 & this.open) > 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.addTree = function (t, n, i) {
              void 0 === n && (n = []), void 0 === i && (i = !1);
              for (
                var r = [new e(0, t.length, t, 0, !1, i)], o = 0, s = n;
                o < s.length;
                o++
              ) {
                var a = s[o];
                a.to > t.length && r.push(a);
              }
              return r;
            }),
            (e.applyChanges = function (t, n, i) {
              if ((void 0 === i && (i = 128), !n.length)) return t;
              for (
                var r = [],
                  o = 1,
                  s = t.length ? t[0] : null,
                  a = 0,
                  l = 0,
                  c = 0;
                ;
                a++
              ) {
                var u = a < n.length ? n[a] : null,
                  h = u ? u.fromA : 1e9;
                if (h - l >= i)
                  for (; s && s.from < h; ) {
                    var p = s;
                    if (l >= p.from || h <= p.to || c) {
                      var d = Math.max(p.from, l) - c,
                        f = Math.min(p.to, h) - c;
                      p =
                        d >= f
                          ? null
                          : new e(d, f, p.tree, p.offset + c, a > 0, !!u);
                    }
                    if ((p && r.push(p), s.to > h)) break;
                    s = o < t.length ? t[o++] : null;
                  }
                if (!u) break;
                (l = u.toA), (c = u.toA - u.toB);
              }
              return r;
            }),
            e
          );
        })(),
        oi = (function () {
          function e() {}
          return (
            (e.prototype.startParse = function (e, t, n) {
              return (
                "string" == typeof e && (e = new si(e)),
                (n = n
                  ? n.length
                    ? n.map(function (e) {
                        return new In(e.from, e.to);
                      })
                    : [new In(0, 0)]
                  : [new In(0, e.length)]),
                this.createParse(e, t || [], n)
              );
            }),
            (e.prototype.parse = function (e, t, n) {
              for (var i = this.startParse(e, t, n); ; ) {
                var r = i.advance();
                if (r) return r;
              }
            }),
            e
          );
        })(),
        si = (function () {
          function e(e) {
            this.string = e;
          }
          return (
            Object.defineProperty(e.prototype, "length", {
              get: function () {
                return this.string.length;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.chunk = function (e) {
              return this.string.slice(e);
            }),
            Object.defineProperty(e.prototype, "lineChunks", {
              get: function () {
                return !1;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.read = function (e, t) {
              return this.string.slice(e, t);
            }),
            e
          );
        })();
      function ai(e) {
        return function (t, n, i, r) {
          return new hi(t, e, n, i, r);
        };
      }
      var li = function (e, t, n, i, r) {
          (this.parser = e),
            (this.parse = t),
            (this.overlay = n),
            (this.target = i),
            (this.ranges = r);
        },
        ci = function (e, t, n, i, r, o, s) {
          (this.parser = e),
            (this.predicate = t),
            (this.mounts = n),
            (this.index = i),
            (this.start = r),
            (this.target = o),
            (this.prev = s),
            (this.depth = 0),
            (this.ranges = []);
        },
        ui = new Nn({ perNode: !0 }),
        hi = (function () {
          function e(e, t, n, i, r) {
            (this.nest = t),
              (this.input = n),
              (this.fragments = i),
              (this.ranges = r),
              (this.inner = []),
              (this.innerDone = 0),
              (this.baseTree = null),
              (this.stoppedAt = null),
              (this.baseParse = e);
          }
          return (
            (e.prototype.advance = function () {
              if (this.baseParse) {
                var e = this.baseParse.advance();
                if (!e) return null;
                if (
                  ((this.baseParse = null),
                  (this.baseTree = e),
                  this.startInner(),
                  null != this.stoppedAt)
                )
                  for (var t = 0, n = this.inner; t < n.length; t++) {
                    n[t].parse.stopAt(this.stoppedAt);
                  }
              }
              if (this.innerDone == this.inner.length) {
                var i = this.baseTree;
                return (
                  null != this.stoppedAt &&
                    (i = new jn(
                      i.type,
                      i.children,
                      i.positions,
                      i.length,
                      i.propValues.concat([[ui, this.stoppedAt]])
                    )),
                  i
                );
              }
              var r = this.inner[this.innerDone],
                o = r.parse.advance();
              if (o) {
                this.innerDone++;
                var s = Object.assign(Object.create(null), r.target.props);
                (s[Nn.mounted.id] = new Bn(o, r.overlay, r.parser)),
                  (r.target.props = s);
              }
              return null;
            }),
            Object.defineProperty(e.prototype, "parsedPos", {
              get: function () {
                if (this.baseParse) return 0;
                for (
                  var e = this.input.length, t = this.innerDone;
                  t < this.inner.length;
                  t++
                )
                  this.inner[t].ranges[0].from < e &&
                    (e = Math.min(e, this.inner[t].parse.parsedPos));
                return e;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.stopAt = function (e) {
              if (((this.stoppedAt = e), this.baseParse))
                this.baseParse.stopAt(e);
              else
                for (var t = this.innerDone; t < this.inner.length; t++)
                  this.inner[t].parse.stopAt(e);
            }),
            (e.prototype.startInner = function () {
              var e = new mi(this.fragments),
                t = null,
                n = null,
                i = new Xn(
                  new $n(this.baseTree, this.ranges[0].from, 0, null),
                  1
                );
              e: for (
                var r = void 0, o = void 0;
                null == this.stoppedAt || i.from < this.stoppedAt;

              ) {
                var s = !0,
                  a = void 0;
                if (e.hasNode(i)) {
                  if (t) {
                    var l = t.mounts.find(function (e) {
                      return (
                        e.frag.from <= i.from &&
                        e.frag.to >= i.to &&
                        e.mount.overlay
                      );
                    });
                    if (l)
                      for (var c = 0, u = l.mount.overlay; c < u.length; c++) {
                        var h = u[c],
                          p = h.from + l.pos,
                          d = h.to + l.pos;
                        p >= i.from &&
                          d <= i.to &&
                          t.ranges.push({ from: p, to: d });
                      }
                  }
                  s = !1;
                } else if (n && (o = pi(n.ranges, i.from, i.to))) s = 2 != o;
                else if (
                  !i.type.isAnonymous &&
                  i.from < i.to &&
                  (r = this.nest(i, this.input))
                ) {
                  i.tree || fi(i);
                  var f = e.findMounts(i.from, r.parser);
                  if ("function" == typeof r.overlay)
                    t = new ci(
                      r.parser,
                      r.overlay,
                      f,
                      this.inner.length,
                      i.from,
                      i.tree,
                      t
                    );
                  else
                    (g = vi(this.ranges, r.overlay || [new In(i.from, i.to)]))
                      .length &&
                      this.inner.push(
                        new li(
                          r.parser,
                          r.parser.startParse(this.input, yi(f, g), g),
                          r.overlay
                            ? r.overlay.map(function (e) {
                                return new In(e.from - i.from, e.to - i.from);
                              })
                            : null,
                          i.tree,
                          g
                        )
                      ),
                      r.overlay
                        ? g.length && (n = { ranges: g, depth: 0, prev: n })
                        : (s = !1);
                } else
                  t &&
                    (a = t.predicate(i)) &&
                    (!0 === a && (a = new In(i.from, i.to)),
                    a.from < a.to && t.ranges.push(a));
                if (s && i.firstChild()) t && t.depth++, n && n.depth++;
                else
                  for (; !i.nextSibling(); ) {
                    if (!i.parent()) break e;
                    var g;
                    t &&
                      !--t.depth &&
                      ((g = vi(this.ranges, t.ranges)).length &&
                        this.inner.splice(
                          t.index,
                          0,
                          new li(
                            t.parser,
                            t.parser.startParse(this.input, yi(t.mounts, g), g),
                            t.ranges.map(function (e) {
                              return new In(e.from - t.start, e.to - t.start);
                            }),
                            t.target,
                            g
                          )
                        ),
                      (t = t.prev)),
                      n && !--n.depth && (n = n.prev);
                  }
              }
            }),
            e
          );
        })();
      function pi(e, t, n) {
        for (var i = 0, r = e; i < r.length; i++) {
          var o = r[i];
          if (o.from >= n) break;
          if (o.to > t) return o.from <= t && o.to >= n ? 2 : 1;
        }
        return 0;
      }
      function di(e, t, n, i, r, o) {
        if (t < n) {
          var s = e.buffer[t + 1],
            a = e.buffer[n - 2];
          i.push(e.slice(t, n, s, a)), r.push(s - o);
        }
      }
      function fi(e) {
        var t = e.node,
          n = 0;
        do {
          e.parent(), n++;
        } while (!e.tree);
        for (
          var i = 0, r = e.tree, o = 0;
          !(
            (o = r.positions[i] + e.from) <= t.from &&
            o + r.children[i].length >= t.to
          );
          i++
        );
        var s = r.children[i],
          a = s.buffer;
        r.children[i] = (function e(n, i, r, l) {
          for (var c = n; a[c + 2] + o <= t.from; ) c = a[c + 3];
          var u = [],
            h = [];
          di(s, n, c, u, h, l);
          var p =
            a[c + 1] + o == t.from && a[c + 2] + o == t.to && a[c] == t.type.id;
          u.push(
            p ? t.toTree() : e(c + 4, a[c + 3], s.set.types[a[c]], a[c + 1])
          ),
            h.push(a[c + 1] - l),
            di(s, a[c + 3], i, u, h, l);
          var d = u.length - 1;
          return new jn(r, u, h, h[d] + u[d].length);
        })(0, a.length, zn.none, 0);
        for (var l = 0; l <= n; l++) e.childAfter(t.from);
      }
      var gi = (function () {
          function e(e, t) {
            (this.offset = t), (this.done = !1), (this.cursor = e.fullCursor());
          }
          return (
            (e.prototype.moveTo = function (e) {
              for (
                var t = this.cursor, n = e - this.offset;
                !this.done && t.from < n;

              )
                (t.to >= e && t.enter(n, 1, !1, !1)) ||
                  t.next(!1) ||
                  (this.done = !0);
            }),
            (e.prototype.hasNode = function (e) {
              if (
                (this.moveTo(e.from),
                !this.done &&
                  this.cursor.from + this.offset == e.from &&
                  this.cursor.tree)
              )
                for (var t = this.cursor.tree; ; ) {
                  if (t == e.tree) return !0;
                  if (
                    !(
                      t.children.length &&
                      0 == t.positions[0] &&
                      t.children[0] instanceof jn
                    )
                  )
                    break;
                  t = t.children[0];
                }
              return !1;
            }),
            e
          );
        })(),
        mi = (function () {
          function e(e) {
            var t;
            if (
              ((this.fragments = e),
              (this.curTo = 0),
              (this.fragI = 0),
              e.length)
            ) {
              var n = (this.curFrag = e[0]);
              (this.curTo =
                null !== (t = n.tree.prop(ui)) && void 0 !== t ? t : n.to),
                (this.inner = new gi(n.tree, -n.offset));
            } else this.curFrag = this.inner = null;
          }
          return (
            (e.prototype.hasNode = function (e) {
              for (; this.curFrag && e.from >= this.curTo; ) this.nextFrag();
              return (
                this.curFrag &&
                this.curFrag.from <= e.from &&
                this.curTo >= e.to &&
                this.inner.hasNode(e)
              );
            }),
            (e.prototype.nextFrag = function () {
              var e;
              if ((this.fragI++, this.fragI == this.fragments.length))
                this.curFrag = this.inner = null;
              else {
                var t = (this.curFrag = this.fragments[this.fragI]);
                (this.curTo =
                  null !== (e = t.tree.prop(ui)) && void 0 !== e ? e : t.to),
                  (this.inner = new gi(t.tree, -t.offset));
              }
            }),
            (e.prototype.findMounts = function (e, t) {
              var n,
                i = [];
              if (this.inner) {
                this.inner.cursor.moveTo(e, 1);
                for (var r = this.inner.cursor.node; r; r = r.parent) {
                  var o =
                    null === (n = r.tree) || void 0 === n
                      ? void 0
                      : n.prop(Nn.mounted);
                  if (o && o.parser == t)
                    for (var s = this.fragI; s < this.fragments.length; s++) {
                      var a = this.fragments[s];
                      if (a.from >= r.to) break;
                      a.tree == this.curFrag.tree &&
                        i.push({ frag: a, pos: r.from - a.offset, mount: o });
                    }
                }
              }
              return i;
            }),
            e
          );
        })();
      function vi(e, t) {
        for (var n = null, i = t, r = 1, o = 0; r < e.length; r++)
          for (var s = e[r - 1].to, a = e[r].from; o < i.length; o++) {
            var l = i[o];
            if (l.from >= a) break;
            l.to <= s ||
              (n || (i = n = t.slice()),
              l.from < s
                ? ((n[o] = new In(l.from, s)),
                  l.to > a && n.splice(o + 1, 0, new In(a, l.to)))
                : l.to > a
                ? (n[o--] = new In(a, l.to))
                : n.splice(o--, 1));
          }
        return i;
      }
      function yi(e, t) {
        for (
          var n = [],
            i = function (e, i, r) {
              var o = e + (i.overlay ? i.overlay[0].from : 0),
                s = o + i.tree.length,
                a = Math.max(r.from, o),
                l = Math.min(r.to, s);
              if (i.overlay)
                for (
                  var c = i.overlay.map(function (t) {
                      return new In(t.from + e, t.to + e);
                    }),
                    u = (function (e, t, n, i) {
                      for (
                        var r = 0, o = 0, s = !1, a = !1, l = -1e9, c = [];
                        ;

                      ) {
                        var u = r == e.length ? 1e9 : s ? e[r].to : e[r].from,
                          h = o == t.length ? 1e9 : a ? t[o].to : t[o].from;
                        if (s != a) {
                          var p = Math.max(l, n),
                            d = Math.min(u, h, i);
                          p < d && c.push(new In(p, d));
                        }
                        if (1e9 == (l = Math.min(u, h))) break;
                        u == l && (s ? ((s = !1), r++) : (s = !0)),
                          h == l && (a ? ((a = !1), o++) : (a = !0));
                      }
                      return c;
                    })(t, c, a, l),
                    h = 0,
                    p = a;
                  ;
                  h++
                ) {
                  var d = h == u.length,
                    f = d ? l : u[h].from;
                  if (
                    (f > p &&
                      n.push(new ri(p, f, i.tree, -o, r.from >= p, r.to <= f)),
                    d)
                  )
                    break;
                  p = u[h].to;
                }
              else n.push(new ri(a, l, i.tree, -o, r.from >= o, r.to <= s));
            },
            r = 0,
            o = e;
          r < o.length;
          r++
        ) {
          var s = o[r];
          i(s.pos, s.mount, s.frag);
        }
        return n;
      }
      for (
        var bi =
            "lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o"
              .split(",")
              .map(function (e) {
                return e ? parseInt(e, 36) : 1;
              }),
          wi = 1;
        wi < bi.length;
        wi++
      )
        bi[wi] += bi[wi - 1];
      function ki(e) {
        for (var t = 1; t < bi.length; t += 2)
          if (bi[t] > e) return bi[t - 1] <= e;
        return !1;
      }
      function Ci(e) {
        return e >= 127462 && e <= 127487;
      }
      function xi(e, t, n, i) {
        return (
          void 0 === n && (n = !0),
          void 0 === i && (i = !0),
          (n ? Si : Ei)(e, t, i)
        );
      }
      function Si(e, t, n) {
        if (t == e.length) return t;
        t && Mi(e.charCodeAt(t)) && Li(e.charCodeAt(t - 1)) && t--;
        var i = Ai(e, t);
        for (t += Ti(i); t < e.length; ) {
          var r = Ai(e, t);
          if (8205 == i || 8205 == r || (n && ki(r))) (t += Ti(r)), (i = r);
          else {
            if (!Ci(r)) break;
            for (var o = 0, s = t - 2; s >= 0 && Ci(Ai(e, s)); ) o++, (s -= 2);
            if (o % 2 == 0) break;
            t += 2;
          }
        }
        return t;
      }
      function Ei(e, t, n) {
        for (; t > 0; ) {
          var i = Si(e, t - 2, n);
          if (i < t) return i;
          t--;
        }
        return 0;
      }
      function Mi(e) {
        return e >= 56320 && e < 57344;
      }
      function Li(e) {
        return e >= 55296 && e < 56320;
      }
      function Ai(e, t) {
        var n = e.charCodeAt(t);
        if (!Li(n) || t + 1 == e.length) return n;
        var i = e.charCodeAt(t + 1);
        return Mi(i) ? i - 56320 + ((n - 55296) << 10) + 65536 : n;
      }
      function Di(e) {
        return e <= 65535
          ? String.fromCharCode(e)
          : ((e -= 65536),
            String.fromCharCode(55296 + (e >> 10), 56320 + (1023 & e)));
      }
      function Ti(e) {
        return e < 65536 ? 1 : 2;
      }
      function Pi(e, t, n) {
        void 0 === n && (n = e.length);
        for (var i = 0, r = 0; r < n; )
          9 == e.charCodeAt(r)
            ? ((i += t - (i % t)), r++)
            : (i++, (r = xi(e, r)));
        return i;
      }
      function Oi(e, t, n, i) {
        for (var r = 0, o = 0; ; ) {
          if (o >= t) return r;
          if (r == e.length) break;
          (o += 9 == e.charCodeAt(r) ? n - (o % n) : 1), (r = xi(e, r));
        }
        return !0 === i ? -1 : e.length;
      }
      var Fi = (function () {
          function e() {}
          return (
            (e.prototype.lineAt = function (e) {
              if (e < 0 || e > this.length)
                throw new RangeError(
                  "Invalid position " +
                    e +
                    " in document of length " +
                    this.length
                );
              return this.lineInner(e, !1, 1, 0);
            }),
            (e.prototype.line = function (e) {
              if (e < 1 || e > this.lines)
                throw new RangeError(
                  "Invalid line number " +
                    e +
                    " in " +
                    this.lines +
                    "-line document"
                );
              return this.lineInner(e, !0, 1, 0);
            }),
            (e.prototype.replace = function (e, t, n) {
              var i = [];
              return (
                this.decompose(0, e, i, 2),
                n.length && n.decompose(0, n.length, i, 3),
                this.decompose(t, this.length, i, 1),
                Ni.from(i, this.length - (t - e) + n.length)
              );
            }),
            (e.prototype.append = function (e) {
              return this.replace(this.length, this.length, e);
            }),
            (e.prototype.slice = function (e, t) {
              void 0 === t && (t = this.length);
              var n = [];
              return this.decompose(e, t, n, 0), Ni.from(n, t - e);
            }),
            (e.prototype.eq = function (e) {
              if (e == this) return !0;
              if (e.length != this.length || e.lines != this.lines) return !1;
              for (
                var t = this.scanIdentical(e, 1),
                  n = this.length - this.scanIdentical(e, -1),
                  i = new zi(this),
                  r = new zi(e),
                  o = t,
                  s = t;
                ;

              ) {
                if (
                  (i.next(o),
                  r.next(o),
                  (o = 0),
                  i.lineBreak != r.lineBreak ||
                    i.done != r.done ||
                    i.value != r.value)
                )
                  return !1;
                if (((s += i.value.length), i.done || s >= n)) return !0;
              }
            }),
            (e.prototype.iter = function (e) {
              return void 0 === e && (e = 1), new zi(this, e);
            }),
            (e.prototype.iterRange = function (e, t) {
              return void 0 === t && (t = this.length), new Hi(this, e, t);
            }),
            (e.prototype.iterLines = function (e, t) {
              var n;
              if (null == e) n = this.iter();
              else {
                null == t && (t = this.lines + 1);
                var i = this.line(e).from;
                n = this.iterRange(
                  i,
                  Math.max(
                    i,
                    t == this.lines + 1
                      ? this.length
                      : t <= 1
                      ? 0
                      : this.line(t - 1).to
                  )
                );
              }
              return new Vi(n);
            }),
            (e.prototype.toString = function () {
              return this.sliceString(0);
            }),
            (e.prototype.toJSON = function () {
              var e = [];
              return this.flatten(e), e;
            }),
            (e.of = function (t) {
              if (0 == t.length)
                throw new RangeError("A document must have at least one line");
              return 1 != t.length || t[0]
                ? t.length <= 32
                  ? new Ii(t)
                  : Ni.from(Ii.split(t, []))
                : e.empty;
            }),
            e
          );
        })(),
        Ii = (function (e) {
          function t(t, n) {
            void 0 === n &&
              (n = (function (e) {
                for (var t = -1, n = 0, i = e; n < i.length; n++) {
                  t += i[n].length + 1;
                }
                return t;
              })(t));
            var i = e.call(this) || this;
            return (i.text = t), (i.length = n), i;
          }
          return (
            M(t, e),
            Object.defineProperty(t.prototype, "lines", {
              get: function () {
                return this.text.length;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(t.prototype, "children", {
              get: function () {
                return null;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (t.prototype.lineInner = function (e, t, n, i) {
              for (var r = 0; ; r++) {
                var o = this.text[r],
                  s = i + o.length;
                if ((t ? n : s) >= e) return new qi(i, s, n, o);
                (i = s + 1), n++;
              }
            }),
            (t.prototype.decompose = function (e, n, i, r) {
              var o =
                e <= 0 && n >= this.length
                  ? this
                  : new t(
                      Ri(this.text, e, n),
                      Math.min(n, this.length) - Math.max(0, e)
                    );
              if (1 & r) {
                var s = i.pop(),
                  a = Bi(o.text, s.text.slice(), 0, o.length);
                if (a.length <= 32) i.push(new t(a, s.length + o.length));
                else {
                  var l = a.length >> 1;
                  i.push(new t(a.slice(0, l)), new t(a.slice(l)));
                }
              } else i.push(o);
            }),
            (t.prototype.replace = function (n, i, r) {
              if (!(r instanceof t))
                return e.prototype.replace.call(this, n, i, r);
              var o = Bi(this.text, Bi(r.text, Ri(this.text, 0, n)), i),
                s = this.length + r.length - (i - n);
              return o.length <= 32 ? new t(o, s) : Ni.from(t.split(o, []), s);
            }),
            (t.prototype.sliceString = function (e, t, n) {
              void 0 === t && (t = this.length), void 0 === n && (n = "\n");
              for (
                var i = "", r = 0, o = 0;
                r <= t && o < this.text.length;
                o++
              ) {
                var s = this.text[o],
                  a = r + s.length;
                r > e && o && (i += n),
                  e < a && t > r && (i += s.slice(Math.max(0, e - r), t - r)),
                  (r = a + 1);
              }
              return i;
            }),
            (t.prototype.flatten = function (e) {
              for (var t = 0, n = this.text; t < n.length; t++) {
                var i = n[t];
                e.push(i);
              }
            }),
            (t.prototype.scanIdentical = function () {
              return 0;
            }),
            (t.split = function (e, n) {
              for (var i = [], r = -1, o = 0, s = e; o < s.length; o++) {
                var a = s[o];
                i.push(a),
                  (r += a.length + 1),
                  32 == i.length && (n.push(new t(i, r)), (i = []), (r = -1));
              }
              return r > -1 && n.push(new t(i, r)), n;
            }),
            t
          );
        })(Fi),
        Ni = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            (i.children = t), (i.length = n), (i.lines = 0);
            for (var r = 0, o = t; r < o.length; r++) {
              var s = o[r];
              i.lines += s.lines;
            }
            return i;
          }
          return (
            M(t, e),
            (t.prototype.lineInner = function (e, t, n, i) {
              for (var r = 0; ; r++) {
                var o = this.children[r],
                  s = i + o.length,
                  a = n + o.lines - 1;
                if ((t ? a : s) >= e) return o.lineInner(e, t, n, i);
                (i = s + 1), (n = a + 1);
              }
            }),
            (t.prototype.decompose = function (e, t, n, i) {
              for (var r = 0, o = 0; o <= t && r < this.children.length; r++) {
                var s = this.children[r],
                  a = o + s.length;
                if (e <= a && t >= o) {
                  var l = i & ((o <= e ? 1 : 0) | (a >= t ? 2 : 0));
                  o >= e && a <= t && !l
                    ? n.push(s)
                    : s.decompose(e - o, t - o, n, l);
                }
                o = a + 1;
              }
            }),
            (t.prototype.replace = function (n, i, r) {
              if (r.lines < this.lines)
                for (var o = 0, s = 0; o < this.children.length; o++) {
                  var a = this.children[o],
                    l = s + a.length;
                  if (n >= s && i <= l) {
                    var c = a.replace(n - s, i - s, r),
                      u = this.lines - a.lines + c.lines;
                    if (c.lines < u >> 4 && c.lines > u >> 6) {
                      var h = this.children.slice();
                      return (
                        (h[o] = c), new t(h, this.length - (i - n) + r.length)
                      );
                    }
                    return e.prototype.replace.call(this, s, l, c);
                  }
                  s = l + 1;
                }
              return e.prototype.replace.call(this, n, i, r);
            }),
            (t.prototype.sliceString = function (e, t, n) {
              void 0 === t && (t = this.length), void 0 === n && (n = "\n");
              for (
                var i = "", r = 0, o = 0;
                r < this.children.length && o <= t;
                r++
              ) {
                var s = this.children[r],
                  a = o + s.length;
                o > e && r && (i += n),
                  e < a && t > o && (i += s.sliceString(e - o, t - o, n)),
                  (o = a + 1);
              }
              return i;
            }),
            (t.prototype.flatten = function (e) {
              for (var t = 0, n = this.children; t < n.length; t++) {
                n[t].flatten(e);
              }
            }),
            (t.prototype.scanIdentical = function (e, n) {
              if (!(e instanceof t)) return 0;
              for (
                var i = 0,
                  r =
                    n > 0
                      ? [0, 0, this.children.length, e.children.length]
                      : [
                          this.children.length - 1,
                          e.children.length - 1,
                          -1,
                          -1,
                        ],
                  o = r[0],
                  s = r[1],
                  a = r[2],
                  l = r[3];
                ;
                o += n, s += n
              ) {
                if (o == a || s == l) return i;
                var c = this.children[o],
                  u = e.children[s];
                if (c != u) return i + c.scanIdentical(u, n);
                i += c.length + 1;
              }
            }),
            (t.from = function (e, n) {
              void 0 === n &&
                (n = e.reduce(function (e, t) {
                  return e + t.length + 1;
                }, -1));
              for (var i = 0, r = 0, o = e; r < o.length; r++) {
                i += o[r].lines;
              }
              if (i < 32) {
                for (var s = [], a = 0, l = e; a < l.length; a++) {
                  l[a].flatten(s);
                }
                return new Ii(s, n);
              }
              var c = Math.max(32, i >> 5),
                u = c << 1,
                h = c >> 1,
                p = [],
                d = 0,
                f = -1,
                g = [];
              function m(e) {
                var n;
                if (e.lines > u && e instanceof t)
                  for (var i = 0, r = e.children; i < r.length; i++) {
                    m(r[i]);
                  }
                else
                  e.lines > h && (d > h || !d)
                    ? (v(), p.push(e))
                    : e instanceof Ii &&
                      d &&
                      (n = g[g.length - 1]) instanceof Ii &&
                      e.lines + n.lines <= 32
                    ? ((d += e.lines),
                      (f += e.length + 1),
                      (g[g.length - 1] = new Ii(
                        n.text.concat(e.text),
                        n.length + 1 + e.length
                      )))
                    : (d + e.lines > c && v(),
                      (d += e.lines),
                      (f += e.length + 1),
                      g.push(e));
              }
              function v() {
                0 != d &&
                  (p.push(1 == g.length ? g[0] : t.from(g, f)),
                  (f = -1),
                  (d = g.length = 0));
              }
              for (var y = 0, b = e; y < b.length; y++) {
                m(b[y]);
              }
              return v(), 1 == p.length ? p[0] : new t(p, n);
            }),
            t
          );
        })(Fi);
      function Bi(e, t, n, i) {
        void 0 === n && (n = 0), void 0 === i && (i = 1e9);
        for (var r = 0, o = 0, s = !0; o < e.length && r <= i; o++) {
          var a = e[o],
            l = r + a.length;
          l >= n &&
            (l > i && (a = a.slice(0, i - r)),
            r < n && (a = a.slice(n - r)),
            s ? ((t[t.length - 1] += a), (s = !1)) : t.push(a)),
            (r = l + 1);
        }
        return t;
      }
      function Ri(e, t, n) {
        return Bi(e, [""], t, n);
      }
      Fi.empty = new Ii([""], 0);
      var zi = (function () {
          function e(e, t) {
            void 0 === t && (t = 1),
              (this.dir = t),
              (this.done = !1),
              (this.lineBreak = !1),
              (this.value = ""),
              (this.nodes = [e]),
              (this.offsets = [
                t > 0
                  ? 1
                  : (e instanceof Ii ? e.text.length : e.children.length) << 1,
              ]);
          }
          return (
            (e.prototype.nextInner = function (e, t) {
              for (this.done = this.lineBreak = !1; ; ) {
                var n = this.nodes.length - 1,
                  i = this.nodes[n],
                  r = this.offsets[n],
                  o = r >> 1,
                  s = i instanceof Ii ? i.text.length : i.children.length;
                if (o == (t > 0 ? s : 0)) {
                  if (0 == n) return (this.done = !0), (this.value = ""), this;
                  t > 0 && this.offsets[n - 1]++,
                    this.nodes.pop(),
                    this.offsets.pop();
                } else if ((1 & r) == (t > 0 ? 0 : 1)) {
                  if (((this.offsets[n] += t), 0 == e))
                    return (this.lineBreak = !0), (this.value = "\n"), this;
                  e--;
                } else if (i instanceof Ii) {
                  var a = i.text[o + (t < 0 ? -1 : 0)];
                  if (((this.offsets[n] += t), a.length > Math.max(0, e)))
                    return (
                      (this.value =
                        0 == e
                          ? a
                          : t > 0
                          ? a.slice(e)
                          : a.slice(0, a.length - e)),
                      this
                    );
                  e -= a.length;
                } else {
                  e > (a = i.children[o + (t < 0 ? -1 : 0)]).length
                    ? ((e -= a.length), (this.offsets[n] += t))
                    : (t < 0 && this.offsets[n]--,
                      this.nodes.push(a),
                      this.offsets.push(
                        t > 0
                          ? 1
                          : (a instanceof Ii
                              ? a.text.length
                              : a.children.length) << 1
                      ));
                }
              }
            }),
            (e.prototype.next = function (e) {
              return (
                void 0 === e && (e = 0),
                e < 0 &&
                  (this.nextInner(-e, -this.dir), (e = this.value.length)),
                this.nextInner(e, this.dir)
              );
            }),
            e
          );
        })(),
        Hi = (function () {
          function e(e, t, n) {
            (this.value = ""),
              (this.done = !1),
              (this.cursor = new zi(e, t > n ? -1 : 1)),
              (this.pos = t > n ? e.length : 0),
              (this.from = Math.min(t, n)),
              (this.to = Math.max(t, n));
          }
          return (
            (e.prototype.nextInner = function (e, t) {
              if (t < 0 ? this.pos <= this.from : this.pos >= this.to)
                return (this.value = ""), (this.done = !0), this;
              e += Math.max(
                0,
                t < 0 ? this.pos - this.to : this.from - this.pos
              );
              var n = t < 0 ? this.pos - this.from : this.to - this.pos;
              e > n && (e = n), (n -= e);
              var i = this.cursor.next(e).value;
              return (
                (this.pos += (i.length + e) * t),
                (this.value =
                  i.length <= n
                    ? i
                    : t < 0
                    ? i.slice(i.length - n)
                    : i.slice(0, n)),
                (this.done = !this.value),
                this
              );
            }),
            (e.prototype.next = function (e) {
              return (
                void 0 === e && (e = 0),
                e < 0
                  ? (e = Math.max(e, this.from - this.pos))
                  : e > 0 && (e = Math.min(e, this.to - this.pos)),
                this.nextInner(e, this.cursor.dir)
              );
            }),
            Object.defineProperty(e.prototype, "lineBreak", {
              get: function () {
                return this.cursor.lineBreak && "" != this.value;
              },
              enumerable: !1,
              configurable: !0,
            }),
            e
          );
        })(),
        Vi = (function () {
          function e(e) {
            (this.inner = e),
              (this.afterBreak = !0),
              (this.value = ""),
              (this.done = !1);
          }
          return (
            (e.prototype.next = function (e) {
              void 0 === e && (e = 0);
              var t = this.inner.next(e),
                n = t.done,
                i = t.lineBreak,
                r = t.value;
              return (
                n
                  ? ((this.done = !0), (this.value = ""))
                  : i
                  ? this.afterBreak
                    ? (this.value = "")
                    : ((this.afterBreak = !0), this.next())
                  : ((this.value = r), (this.afterBreak = !1)),
                this
              );
            }),
            Object.defineProperty(e.prototype, "lineBreak", {
              get: function () {
                return !1;
              },
              enumerable: !1,
              configurable: !0,
            }),
            e
          );
        })();
      "undefined" != typeof Symbol &&
        ((Fi.prototype[Symbol.iterator] = function () {
          return this.iter();
        }),
        (zi.prototype[Symbol.iterator] =
          Hi.prototype[Symbol.iterator] =
          Vi.prototype[Symbol.iterator] =
            function () {
              return this;
            }));
      var qi = (function () {
          function e(e, t, n, i) {
            (this.from = e), (this.to = t), (this.number = n), (this.text = i);
          }
          return (
            Object.defineProperty(e.prototype, "length", {
              get: function () {
                return this.to - this.from;
              },
              enumerable: !1,
              configurable: !0,
            }),
            e
          );
        })(),
        ji = /\r\n?|\n/,
        Ui = (function (e) {
          return (
            (e[(e.Simple = 0)] = "Simple"),
            (e[(e.TrackDel = 1)] = "TrackDel"),
            (e[(e.TrackBefore = 2)] = "TrackBefore"),
            (e[(e.TrackAfter = 3)] = "TrackAfter"),
            e
          );
        })(Ui || (Ui = {})),
        Wi = (function () {
          function e(e) {
            this.sections = e;
          }
          return (
            Object.defineProperty(e.prototype, "length", {
              get: function () {
                for (var e = 0, t = 0; t < this.sections.length; t += 2)
                  e += this.sections[t];
                return e;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "newLength", {
              get: function () {
                for (var e = 0, t = 0; t < this.sections.length; t += 2) {
                  var n = this.sections[t + 1];
                  e += n < 0 ? this.sections[t] : n;
                }
                return e;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "empty", {
              get: function () {
                return (
                  0 == this.sections.length ||
                  (2 == this.sections.length && this.sections[1] < 0)
                );
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.iterGaps = function (e) {
              for (var t = 0, n = 0, i = 0; t < this.sections.length; ) {
                var r = this.sections[t++],
                  o = this.sections[t++];
                o < 0 ? (e(n, i, r), (i += r)) : (i += o), (n += r);
              }
            }),
            (e.prototype.iterChangedRanges = function (e, t) {
              void 0 === t && (t = !1), $i(this, e, t);
            }),
            Object.defineProperty(e.prototype, "invertedDesc", {
              get: function () {
                for (var t = [], n = 0; n < this.sections.length; ) {
                  var i = this.sections[n++],
                    r = this.sections[n++];
                  r < 0 ? t.push(i, r) : t.push(r, i);
                }
                return new e(t);
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.composeDesc = function (e) {
              return this.empty ? e : e.empty ? this : Ji(this, e);
            }),
            (e.prototype.mapDesc = function (e, t) {
              return void 0 === t && (t = !1), e.empty ? this : Yi(this, e, t);
            }),
            (e.prototype.mapPos = function (e, t, n) {
              void 0 === t && (t = -1), void 0 === n && (n = Ui.Simple);
              for (var i = 0, r = 0, o = 0; o < this.sections.length; ) {
                var s = this.sections[o++],
                  a = this.sections[o++],
                  l = i + s;
                if (a < 0) {
                  if (l > e) return r + (e - i);
                  r += s;
                } else {
                  if (
                    n != Ui.Simple &&
                    l >= e &&
                    ((n == Ui.TrackDel && i < e && l > e) ||
                      (n == Ui.TrackBefore && i < e) ||
                      (n == Ui.TrackAfter && l > e))
                  )
                    return null;
                  if (l > e || (l == e && t < 0 && !s))
                    return e == i || t < 0 ? r : r + a;
                  r += a;
                }
                i = l;
              }
              if (e > i)
                throw new RangeError(
                  "Position " +
                    e +
                    " is out of range for changeset of length " +
                    i
                );
              return r;
            }),
            (e.prototype.touchesRange = function (e, t) {
              void 0 === t && (t = e);
              for (var n = 0, i = 0; n < this.sections.length && i <= t; ) {
                var r = i + this.sections[n++];
                if (this.sections[n++] >= 0 && i <= t && r >= e)
                  return !(i < e && r > t) || "cover";
                i = r;
              }
              return !1;
            }),
            (e.prototype.toString = function () {
              for (var e = "", t = 0; t < this.sections.length; ) {
                var n = this.sections[t++],
                  i = this.sections[t++];
                e += (e ? " " : "") + n + (i >= 0 ? ":" + i : "");
              }
              return e;
            }),
            (e.prototype.toJSON = function () {
              return this.sections;
            }),
            (e.fromJSON = function (t) {
              if (
                !Array.isArray(t) ||
                t.length % 2 ||
                t.some(function (e) {
                  return "number" != typeof e;
                })
              )
                throw new RangeError(
                  "Invalid JSON representation of ChangeDesc"
                );
              return new e(t);
            }),
            e
          );
        })(),
        _i = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (i.inserted = n), i;
          }
          return (
            M(t, e),
            (t.prototype.apply = function (e) {
              if (this.length != e.length)
                throw new RangeError(
                  "Applying change set to a document with the wrong length"
                );
              return (
                $i(
                  this,
                  function (t, n, i, r, o) {
                    return (e = e.replace(i, i + (n - t), o));
                  },
                  !1
                ),
                e
              );
            }),
            (t.prototype.mapDesc = function (e, t) {
              return void 0 === t && (t = !1), Yi(this, e, t, !0);
            }),
            (t.prototype.invert = function (e) {
              for (
                var n = this.sections.slice(), i = [], r = 0, o = 0;
                r < n.length;
                r += 2
              ) {
                var s = n[r],
                  a = n[r + 1];
                if (a >= 0) {
                  (n[r] = a), (n[r + 1] = s);
                  for (var l = r >> 1; i.length < l; ) i.push(Fi.empty);
                  i.push(s ? e.slice(o, o + s) : Fi.empty);
                }
                o += s;
              }
              return new t(n, i);
            }),
            (t.prototype.compose = function (e) {
              return this.empty ? e : e.empty ? this : Ji(this, e, !0);
            }),
            (t.prototype.map = function (e, t) {
              return (
                void 0 === t && (t = !1), e.empty ? this : Yi(this, e, t, !0)
              );
            }),
            (t.prototype.iterChanges = function (e, t) {
              void 0 === t && (t = !1), $i(this, e, t);
            }),
            Object.defineProperty(t.prototype, "desc", {
              get: function () {
                return new Wi(this.sections);
              },
              enumerable: !1,
              configurable: !0,
            }),
            (t.prototype.filter = function (e) {
              var n = [],
                i = [],
                r = [],
                o = new Qi(this);
              e: for (var s = 0, a = 0; ; ) {
                for (
                  var l = s == e.length ? 1e9 : e[s++];
                  a < l || (a == l && 0 == o.len);

                ) {
                  if (o.done) break e;
                  Gi(r, (h = Math.min(o.len, l - a)), -1);
                  var c = -1 == o.ins ? -1 : 0 == o.off ? o.ins : 0;
                  Gi(n, h, c),
                    c > 0 && Ki(i, n, o.text),
                    o.forward(h),
                    (a += h);
                }
                for (var u = e[s++]; a < u; ) {
                  if (o.done) break e;
                  var h;
                  Gi(n, (h = Math.min(o.len, u - a)), -1),
                    Gi(r, h, -1 == o.ins ? -1 : 0 == o.off ? o.ins : 0),
                    o.forward(h),
                    (a += h);
                }
              }
              return { changes: new t(n, i), filtered: new Wi(r) };
            }),
            (t.prototype.toJSON = function () {
              for (var e = [], t = 0; t < this.sections.length; t += 2) {
                var n = this.sections[t],
                  i = this.sections[t + 1];
                i < 0
                  ? e.push(n)
                  : 0 == i
                  ? e.push([n])
                  : e.push([n].concat(this.inserted[t >> 1].toJSON()));
              }
              return e;
            }),
            (t.of = function (e, n, i) {
              var r = [],
                o = [],
                s = 0,
                a = null;
              function l(e) {
                if ((void 0 === e && (e = !1), e || r.length)) {
                  s < n && Gi(r, n - s, -1);
                  var i = new t(r, o);
                  (a = a ? a.compose(i.map(a)) : i),
                    (r = []),
                    (o = []),
                    (s = 0);
                }
              }
              return (
                (function e(c) {
                  if (Array.isArray(c))
                    for (var u = 0, h = c; u < h.length; u++) {
                      e(h[u]);
                    }
                  else if (c instanceof t) {
                    if (c.length != n)
                      throw new RangeError(
                        "Mismatched change set length (got " +
                          c.length +
                          ", expected " +
                          n +
                          ")"
                      );
                    l(), (a = a ? a.compose(c.map(a)) : c);
                  } else {
                    var p = c.from,
                      d = c.to,
                      f = void 0 === d ? p : d,
                      g = c.insert;
                    if (p > f || p < 0 || f > n)
                      throw new RangeError(
                        "Invalid change range " +
                          p +
                          " to " +
                          f +
                          " (in doc of length " +
                          n +
                          ")"
                      );
                    var m = g
                        ? "string" == typeof g
                          ? Fi.of(g.split(i || ji))
                          : g
                        : Fi.empty,
                      v = m.length;
                    if (p == f && 0 == v) return;
                    p < s && l(),
                      p > s && Gi(r, p - s, -1),
                      Gi(r, f - p, v),
                      Ki(o, r, m),
                      (s = f);
                  }
                })(e),
                l(!a),
                a
              );
            }),
            (t.empty = function (e) {
              return new t(e ? [e, -1] : [], []);
            }),
            (t.fromJSON = function (e) {
              if (!Array.isArray(e))
                throw new RangeError(
                  "Invalid JSON representation of ChangeSet"
                );
              for (var n = [], i = [], r = 0; r < e.length; r++) {
                var o = e[r];
                if ("number" == typeof o) n.push(o, -1);
                else {
                  if (
                    !Array.isArray(o) ||
                    "number" != typeof o[0] ||
                    o.some(function (e, t) {
                      return t && "string" != typeof e;
                    })
                  )
                    throw new RangeError(
                      "Invalid JSON representation of ChangeSet"
                    );
                  if (1 == o.length) n.push(o[0], 0);
                  else {
                    for (; i.length < r; ) i.push(Fi.empty);
                    (i[r] = Fi.of(o.slice(1))), n.push(o[0], i[r].length);
                  }
                }
              }
              return new t(n, i);
            }),
            t
          );
        })(Wi);
      function Gi(e, t, n, i) {
        if ((void 0 === i && (i = !1), !(0 == t && n <= 0))) {
          var r = e.length - 2;
          r >= 0 && n <= 0 && n == e[r + 1]
            ? (e[r] += t)
            : 0 == t && 0 == e[r]
            ? (e[r + 1] += n)
            : i
            ? ((e[r] += t), (e[r + 1] += n))
            : e.push(t, n);
        }
      }
      function Ki(e, t, n) {
        if (0 != n.length) {
          var i = (t.length - 2) >> 1;
          if (i < e.length) e[e.length - 1] = e[e.length - 1].append(n);
          else {
            for (; e.length < i; ) e.push(Fi.empty);
            e.push(n);
          }
        }
      }
      function $i(e, t, n) {
        for (var i = e.inserted, r = 0, o = 0, s = 0; s < e.sections.length; ) {
          var a = e.sections[s++],
            l = e.sections[s++];
          if (l < 0) (r += a), (o += a);
          else {
            for (
              var c = r, u = o, h = Fi.empty;
              (c += a),
                (u += l),
                l && i && (h = h.append(i[(s - 2) >> 1])),
                !(n || s == e.sections.length || e.sections[s + 1] < 0);

            )
              (a = e.sections[s++]), (l = e.sections[s++]);
            t(r, c, o, u, h), (r = c), (o = u);
          }
        }
      }
      function Yi(e, t, n, i) {
        void 0 === i && (i = !1);
        for (
          var r = [],
            o = i ? [] : null,
            s = new Qi(e),
            a = new Qi(t),
            l = 0,
            c = 0;
          ;

        )
          if (-1 == s.ins) (l += s.len), s.next();
          else if (-1 == a.ins && c < l) {
            var u = Math.min(a.len, l - c);
            a.forward(u), Gi(r, u, -1), (c += u);
          } else if (
            a.ins >= 0 &&
            (s.done ||
              c < l ||
              (c == l && (a.len < s.len || (a.len == s.len && !n))))
          ) {
            for (Gi(r, a.ins, -1); l > c && !s.done && l + s.len < c + a.len; )
              (l += s.len), s.next();
            (c += a.len), a.next();
          } else {
            if (!(s.ins >= 0)) {
              if (s.done && a.done) return o ? new _i(r, o) : new Wi(r);
              throw new Error("Mismatched change set lengths");
            }
            for (var h = 0, p = l + s.len; ; )
              if (a.ins >= 0 && c > l && c + a.len < p)
                (h += a.ins), (c += a.len), a.next();
              else {
                if (!(-1 == a.ins && c < p)) break;
                (h += u = Math.min(a.len, p - c)), a.forward(u), (c += u);
              }
            Gi(r, h, s.ins), o && Ki(o, r, s.text), (l = p), s.next();
          }
      }
      function Ji(e, t, n) {
        void 0 === n && (n = !1);
        for (
          var i = [], r = n ? [] : null, o = new Qi(e), s = new Qi(t), a = !1;
          ;

        ) {
          if (o.done && s.done) return r ? new _i(i, r) : new Wi(i);
          if (0 == o.ins) Gi(i, o.len, 0, a), o.next();
          else if (0 != s.len || s.done) {
            if (o.done || s.done)
              throw new Error("Mismatched change set lengths");
            var l = Math.min(o.len2, s.len),
              c = i.length;
            if (-1 == o.ins) {
              var u = -1 == s.ins ? -1 : s.off ? 0 : s.ins;
              Gi(i, l, u, a), r && u && Ki(r, i, s.text);
            } else
              -1 == s.ins
                ? (Gi(i, o.off ? 0 : o.len, l, a), r && Ki(r, i, o.textBit(l)))
                : (Gi(i, o.off ? 0 : o.len, s.off ? 0 : s.ins, a),
                  r && !s.off && Ki(r, i, s.text));
            (a =
              (o.ins > l || (s.ins >= 0 && s.len > l)) && (a || i.length > c)),
              o.forward2(l),
              s.forward(l);
          } else Gi(i, 0, s.ins, a), r && Ki(r, i, s.text), s.next();
        }
      }
      var Qi = (function () {
          function e(e) {
            (this.set = e), (this.i = 0), this.next();
          }
          return (
            (e.prototype.next = function () {
              var e = this.set.sections;
              this.i < e.length
                ? ((this.len = e[this.i++]), (this.ins = e[this.i++]))
                : ((this.len = 0), (this.ins = -2)),
                (this.off = 0);
            }),
            Object.defineProperty(e.prototype, "done", {
              get: function () {
                return -2 == this.ins;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "len2", {
              get: function () {
                return this.ins < 0 ? this.len : this.ins;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "text", {
              get: function () {
                var e = this.set.inserted,
                  t = (this.i - 2) >> 1;
                return t >= e.length ? Fi.empty : e[t];
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.textBit = function (e) {
              var t = this.set.inserted,
                n = (this.i - 2) >> 1;
              return n >= t.length && !e
                ? Fi.empty
                : t[n].slice(this.off, null == e ? void 0 : this.off + e);
            }),
            (e.prototype.forward = function (e) {
              e == this.len ? this.next() : ((this.len -= e), (this.off += e));
            }),
            (e.prototype.forward2 = function (e) {
              -1 == this.ins
                ? this.forward(e)
                : e == this.ins
                ? this.next()
                : ((this.ins -= e), (this.off += e));
            }),
            e
          );
        })(),
        Xi = (function () {
          function e(e, t, n) {
            (this.from = e), (this.to = t), (this.flags = n);
          }
          return (
            Object.defineProperty(e.prototype, "anchor", {
              get: function () {
                return 16 & this.flags ? this.to : this.from;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "head", {
              get: function () {
                return 16 & this.flags ? this.from : this.to;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "empty", {
              get: function () {
                return this.from == this.to;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "assoc", {
              get: function () {
                return 4 & this.flags ? -1 : 8 & this.flags ? 1 : 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "bidiLevel", {
              get: function () {
                var e = 3 & this.flags;
                return 3 == e ? null : e;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "goalColumn", {
              get: function () {
                var e = this.flags >> 5;
                return 33554431 == e ? void 0 : e;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.map = function (t, n) {
              var i, r;
              return (
                void 0 === n && (n = -1),
                this.empty
                  ? (i = r = t.mapPos(this.from, n))
                  : ((i = t.mapPos(this.from, 1)), (r = t.mapPos(this.to, -1))),
                i == this.from && r == this.to ? this : new e(i, r, this.flags)
              );
            }),
            (e.prototype.extend = function (e, t) {
              if (
                (void 0 === t && (t = e), e <= this.anchor && t >= this.anchor)
              )
                return Zi.range(e, t);
              var n =
                Math.abs(e - this.anchor) > Math.abs(t - this.anchor) ? e : t;
              return Zi.range(this.anchor, n);
            }),
            (e.prototype.eq = function (e) {
              return this.anchor == e.anchor && this.head == e.head;
            }),
            (e.prototype.toJSON = function () {
              return { anchor: this.anchor, head: this.head };
            }),
            (e.fromJSON = function (e) {
              if (
                !e ||
                "number" != typeof e.anchor ||
                "number" != typeof e.head
              )
                throw new RangeError(
                  "Invalid JSON representation for SelectionRange"
                );
              return Zi.range(e.anchor, e.head);
            }),
            e
          );
        })(),
        Zi = (function () {
          function e(e, t) {
            void 0 === t && (t = 0), (this.ranges = e), (this.mainIndex = t);
          }
          return (
            (e.prototype.map = function (t, n) {
              return (
                void 0 === n && (n = -1),
                t.empty
                  ? this
                  : e.create(
                      this.ranges.map(function (e) {
                        return e.map(t, n);
                      }),
                      this.mainIndex
                    )
              );
            }),
            (e.prototype.eq = function (e) {
              if (
                this.ranges.length != e.ranges.length ||
                this.mainIndex != e.mainIndex
              )
                return !1;
              for (var t = 0; t < this.ranges.length; t++)
                if (!this.ranges[t].eq(e.ranges[t])) return !1;
              return !0;
            }),
            Object.defineProperty(e.prototype, "main", {
              get: function () {
                return this.ranges[this.mainIndex];
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.asSingle = function () {
              return 1 == this.ranges.length ? this : new e([this.main]);
            }),
            (e.prototype.addRange = function (t, n) {
              return (
                void 0 === n && (n = !0),
                e.create([t].concat(this.ranges), n ? 0 : this.mainIndex + 1)
              );
            }),
            (e.prototype.replaceRange = function (t, n) {
              void 0 === n && (n = this.mainIndex);
              var i = this.ranges.slice();
              return (i[n] = t), e.create(i, this.mainIndex);
            }),
            (e.prototype.toJSON = function () {
              return {
                ranges: this.ranges.map(function (e) {
                  return e.toJSON();
                }),
                main: this.mainIndex,
              };
            }),
            (e.fromJSON = function (t) {
              if (
                !t ||
                !Array.isArray(t.ranges) ||
                "number" != typeof t.main ||
                t.main >= t.ranges.length
              )
                throw new RangeError(
                  "Invalid JSON representation for EditorSelection"
                );
              return new e(
                t.ranges.map(function (e) {
                  return Xi.fromJSON(e);
                }),
                t.main
              );
            }),
            (e.single = function (t, n) {
              return void 0 === n && (n = t), new e([e.range(t, n)], 0);
            }),
            (e.create = function (t, n) {
              if ((void 0 === n && (n = 0), 0 == t.length))
                throw new RangeError("A selection needs at least one range");
              for (var i = 0, r = 0; r < t.length; r++) {
                var o = t[r];
                if (o.empty ? o.from <= i : o.from < i) return er(t.slice(), n);
                i = o.to;
              }
              return new e(t, n);
            }),
            (e.cursor = function (e, t, n, i) {
              return (
                void 0 === t && (t = 0),
                new Xi(
                  e,
                  e,
                  (0 == t ? 0 : t < 0 ? 4 : 8) |
                    (null == n ? 3 : Math.min(2, n)) |
                    ((null != i ? i : 33554431) << 5)
                )
              );
            }),
            (e.range = function (e, t, n) {
              var i = (null != n ? n : 33554431) << 5;
              return t < e
                ? new Xi(t, e, 24 | i)
                : new Xi(e, t, i | (t > e ? 4 : 0));
            }),
            e
          );
        })();
      function er(e, t) {
        void 0 === t && (t = 0);
        var n = e[t];
        e.sort(function (e, t) {
          return e.from - t.from;
        }),
          (t = e.indexOf(n));
        for (var i = 1; i < e.length; i++) {
          var r = e[i],
            o = e[i - 1];
          if (r.empty ? r.from <= o.to : r.from < o.to) {
            var s = o.from,
              a = Math.max(r.to, o.to);
            i <= t && t--,
              e.splice(
                --i,
                2,
                r.anchor > r.head ? Zi.range(a, s) : Zi.range(s, a)
              );
          }
        }
        return new Zi(e, t);
      }
      function tr(e, t) {
        for (var n = 0, i = e.ranges; n < i.length; n++) {
          if (i[n].to > t)
            throw new RangeError("Selection points outside of document");
        }
      }
      var nr = 0,
        ir = (function () {
          function e(e, t, n, i, r) {
            (this.combine = e),
              (this.compareInput = t),
              (this.compare = n),
              (this.isStatic = i),
              (this.extensions = r),
              (this.id = nr++),
              (this.default = e([]));
          }
          return (
            (e.define = function (t) {
              return (
                void 0 === t && (t = {}),
                new e(
                  t.combine ||
                    function (e) {
                      return e;
                    },
                  t.compareInput ||
                    function (e, t) {
                      return e === t;
                    },
                  t.compare ||
                    (t.combine
                      ? function (e, t) {
                          return e === t;
                        }
                      : rr),
                  !!t.static,
                  t.enables
                )
              );
            }),
            (e.prototype.of = function (e) {
              return new or([], this, 0, e);
            }),
            (e.prototype.compute = function (e, t) {
              if (this.isStatic)
                throw new Error("Can't compute a static facet");
              return new or(e, this, 1, t);
            }),
            (e.prototype.computeN = function (e, t) {
              if (this.isStatic)
                throw new Error("Can't compute a static facet");
              return new or(e, this, 2, t);
            }),
            (e.prototype.from = function (e, t) {
              return (
                t ||
                  (t = function (e) {
                    return e;
                  }),
                this.compute([e], function (n) {
                  return t(n.field(e));
                })
              );
            }),
            e
          );
        })();
      function rr(e, t) {
        return (
          e == t ||
          (e.length == t.length &&
            e.every(function (e, n) {
              return e === t[n];
            }))
        );
      }
      var or = (function () {
        function e(e, t, n, i) {
          (this.dependencies = e),
            (this.facet = t),
            (this.type = n),
            (this.value = i),
            (this.id = nr++);
        }
        return (
          (e.prototype.dynamicSlot = function (e) {
            for (
              var t,
                n = this.value,
                i = this.facet.compareInput,
                r = this.id,
                o = e[r] >> 1,
                s = 2 == this.type,
                a = !1,
                l = !1,
                c = [],
                u = 0,
                h = this.dependencies;
              u < h.length;
              u++
            ) {
              var p = h[u];
              "doc" == p
                ? (a = !0)
                : "selection" == p
                ? (l = !0)
                : 0 == (1 & (null !== (t = e[p.id]) && void 0 !== t ? t : 1)) &&
                  c.push(e[p.id]);
            }
            return {
              create: function (e) {
                return (e.values[o] = n(e)), 1;
              },
              update: function (e, t) {
                if (
                  (a && t.docChanged) ||
                  (l && (t.docChanged || t.selection)) ||
                  c.some(function (t) {
                    return (1 & wr(e, t)) > 0;
                  })
                ) {
                  var r = n(e);
                  if (s ? !sr(r, e.values[o], i) : !i(r, e.values[o]))
                    return (e.values[o] = r), 1;
                }
                return 0;
              },
              reconfigure: function (e, t) {
                var a = n(e),
                  l = t.config.address[r];
                if (null != l) {
                  var c = kr(t, l);
                  if (s ? sr(a, c, i) : i(a, c)) return (e.values[o] = c), 0;
                }
                return (e.values[o] = a), 1;
              },
            };
          }),
          e
        );
      })();
      function sr(e, t, n) {
        if (e.length != t.length) return !1;
        for (var i = 0; i < e.length; i++) if (!n(e[i], t[i])) return !1;
        return !0;
      }
      var ar = ir.define({ static: !0 }),
        lr = (function () {
          function e(e, t, n, i, r) {
            (this.id = e),
              (this.createF = t),
              (this.updateF = n),
              (this.compareF = i),
              (this.spec = r),
              (this.provides = void 0);
          }
          return (
            (e.define = function (t) {
              var n = new e(
                nr++,
                t.create,
                t.update,
                t.compare ||
                  function (e, t) {
                    return e === t;
                  },
                t
              );
              return t.provide && (n.provides = t.provide(n)), n;
            }),
            (e.prototype.create = function (e) {
              var t = this,
                n = e.facet(ar).find(function (e) {
                  return e.field == t;
                });
              return ((null == n ? void 0 : n.create) || this.createF)(e);
            }),
            (e.prototype.slot = function (e) {
              var t = this,
                n = e[this.id] >> 1;
              return {
                create: function (e) {
                  return (e.values[n] = t.create(e)), 1;
                },
                update: function (e, i) {
                  var r = e.values[n],
                    o = t.updateF(r, i);
                  return t.compareF(r, o) ? 0 : ((e.values[n] = o), 1);
                },
                reconfigure: function (e, i) {
                  return null != i.config.address[t.id]
                    ? ((e.values[n] = i.field(t)), 0)
                    : ((e.values[n] = t.create(e)), 1);
                },
              };
            }),
            (e.prototype.init = function (e) {
              return [this, ar.of({ field: this, create: e })];
            }),
            Object.defineProperty(e.prototype, "extension", {
              get: function () {
                return this;
              },
              enumerable: !1,
              configurable: !0,
            }),
            e
          );
        })(),
        cr = 4,
        ur = 3,
        hr = 2,
        pr = 1,
        dr = 0;
      function fr(e) {
        return function (t) {
          return new mr(t, e);
        };
      }
      var gr = {
          lowest: fr(cr),
          low: fr(ur),
          default: fr(hr),
          high: fr(pr),
          highest: fr(dr),
          fallback: fr(cr),
          extend: fr(pr),
          override: fr(dr),
        },
        mr = function (e, t) {
          (this.inner = e), (this.prec = t);
        },
        vr = (function () {
          function e() {}
          return (
            (e.prototype.of = function (e) {
              return new yr(this, e);
            }),
            (e.prototype.reconfigure = function (t) {
              return e.reconfigure.of({ compartment: this, extension: t });
            }),
            (e.prototype.get = function (e) {
              return e.config.compartments.get(this);
            }),
            e
          );
        })(),
        yr = function (e, t) {
          (this.compartment = e), (this.inner = t);
        },
        br = (function () {
          function e(e, t, n, i, r, o) {
            for (
              this.base = e,
                this.compartments = t,
                this.dynamicSlots = n,
                this.address = i,
                this.staticValues = r,
                this.facets = o,
                this.statusTemplate = [];
              this.statusTemplate.length < n.length;

            )
              this.statusTemplate.push(0);
          }
          return (
            (e.prototype.staticFacet = function (e) {
              var t = this.address[e.id];
              return null == t ? e.default : this.staticValues[t >> 1];
            }),
            (e.resolve = function (t, n, i) {
              for (
                var r = [],
                  o = Object.create(null),
                  s = new Map(),
                  a = 0,
                  l = (function (e, t, n) {
                    var i = [[], [], [], [], []],
                      r = new Map();
                    function o(e, s) {
                      var a = r.get(e);
                      if (null != a) {
                        if (a >= s) return;
                        var l = i[a].indexOf(e);
                        l > -1 && i[a].splice(l, 1),
                          e instanceof yr && n.delete(e.compartment);
                      }
                      if ((r.set(e, s), Array.isArray(e)))
                        for (var c = 0, u = e; c < u.length; c++) {
                          o(u[c], s);
                        }
                      else if (e instanceof yr) {
                        if (n.has(e.compartment))
                          throw new RangeError(
                            "Duplicate use of compartment in extensions"
                          );
                        var h = t.get(e.compartment) || e.inner;
                        n.set(e.compartment, h), o(h, s);
                      } else if (e instanceof mr) o(e.inner, e.prec);
                      else if (e instanceof lr)
                        i[s].push(e), e.provides && o(e.provides, s);
                      else if (e instanceof or)
                        i[s].push(e),
                          e.facet.extensions && o(e.facet.extensions, s);
                      else {
                        if (!(h = e.extension))
                          throw new Error(
                            "Unrecognized extension value in extension set (" +
                              e +
                              "). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."
                          );
                        o(h, s);
                      }
                    }
                    return (
                      o(e, hr),
                      i.reduce(function (e, t) {
                        return e.concat(t);
                      })
                    );
                  })(t, n, s);
                a < l.length;
                a++
              ) {
                var c = l[a];
                c instanceof lr
                  ? r.push(c)
                  : (o[c.facet.id] || (o[c.facet.id] = [])).push(c);
              }
              for (
                var u = Object.create(null),
                  h = [],
                  p = [],
                  d = function (e) {
                    (u[e.id] = p.length << 1),
                      p.push(function (t) {
                        return e.slot(t);
                      });
                  },
                  f = 0,
                  g = r;
                f < g.length;
                f++
              ) {
                d(g[f]);
              }
              var m = null == i ? void 0 : i.config.facets,
                v = function (e) {
                  var t = o[e],
                    n = t[0].facet,
                    r = (m && m[e]) || [];
                  if (
                    t.every(function (e) {
                      return 0 == e.type;
                    })
                  )
                    if (((u[n.id] = (h.length << 1) | 1), rr(r, t)))
                      h.push(i.facet(n));
                    else {
                      var s = n.combine(
                        t.map(function (e) {
                          return e.value;
                        })
                      );
                      h.push(i && n.compare(s, i.facet(n)) ? i.facet(n) : s);
                    }
                  else {
                    for (
                      var a = function (e) {
                          0 == e.type
                            ? ((u[e.id] = (h.length << 1) | 1), h.push(e.value))
                            : ((u[e.id] = p.length << 1),
                              p.push(function (t) {
                                return e.dynamicSlot(t);
                              }));
                        },
                        l = 0,
                        c = t;
                      l < c.length;
                      l++
                    ) {
                      a(c[l]);
                    }
                    (u[n.id] = p.length << 1),
                      p.push(function (e) {
                        return (function (e, t, n) {
                          var i = n.map(function (t) {
                              return e[t.id];
                            }),
                            r = n.map(function (e) {
                              return e.type;
                            }),
                            o = i.filter(function (e) {
                              return !(1 & e);
                            }),
                            s = e[t.id] >> 1;
                          function a(e) {
                            for (var n = [], o = 0; o < i.length; o++) {
                              var s = kr(e, i[o]);
                              if (2 == r[o])
                                for (var a = 0, l = s; a < l.length; a++) {
                                  var c = l[a];
                                  n.push(c);
                                }
                              else n.push(s);
                            }
                            return t.combine(n);
                          }
                          return {
                            create: function (e) {
                              for (var t = 0, n = i; t < n.length; t++)
                                wr(e, n[t]);
                              return (e.values[s] = a(e)), 1;
                            },
                            update: function (e, n) {
                              if (
                                !o.some(function (t) {
                                  return 1 & wr(e, t);
                                })
                              )
                                return 0;
                              var i = a(e);
                              return t.compare(i, e.values[s])
                                ? 0
                                : ((e.values[s] = i), 1);
                            },
                            reconfigure: function (e, r) {
                              var o = i.some(function (t) {
                                  return 1 & wr(e, t);
                                }),
                                l = r.config.facets[t.id],
                                c = r.facet(t);
                              if (l && !o && rr(n, l))
                                return (e.values[s] = c), 0;
                              var u = a(e);
                              return t.compare(u, c)
                                ? ((e.values[s] = c), 0)
                                : ((e.values[s] = u), 1);
                            },
                          };
                        })(e, n, t);
                      });
                  }
                };
              for (var y in o) v(y);
              return new e(
                t,
                s,
                p.map(function (e) {
                  return e(u);
                }),
                u,
                h,
                o
              );
            }),
            e
          );
        })();
      function wr(e, t) {
        if (1 & t) return 2;
        var n = t >> 1,
          i = e.status[n];
        if (4 == i)
          throw new Error("Cyclic dependency between fields and/or facets");
        if (2 & i) return i;
        e.status[n] = 4;
        var r = e.computeSlot(e, e.config.dynamicSlots[n]);
        return (e.status[n] = 2 | r);
      }
      function kr(e, t) {
        return 1 & t ? e.config.staticValues[t >> 1] : e.values[t >> 1];
      }
      var Cr = ir.define(),
        xr = ir.define({
          combine: function (e) {
            return e.some(function (e) {
              return e;
            });
          },
          static: !0,
        }),
        Sr = ir.define({
          combine: function (e) {
            return e.length ? e[0] : void 0;
          },
          static: !0,
        }),
        Er = ir.define(),
        Mr = ir.define(),
        Lr = ir.define(),
        Ar = ir.define({
          combine: function (e) {
            return !!e.length && e[0];
          },
        }),
        Dr = (function () {
          function e(e, t) {
            (this.type = e), (this.value = t);
          }
          return (
            (e.define = function () {
              return new Tr();
            }),
            e
          );
        })(),
        Tr = (function () {
          function e() {}
          return (
            (e.prototype.of = function (e) {
              return new Dr(this, e);
            }),
            e
          );
        })(),
        Pr = (function () {
          function e(e) {
            this.map = e;
          }
          return (
            (e.prototype.of = function (e) {
              return new Or(this, e);
            }),
            e
          );
        })(),
        Or = (function () {
          function e(e, t) {
            (this.type = e), (this.value = t);
          }
          return (
            (e.prototype.map = function (t) {
              var n = this.type.map(this.value, t);
              return void 0 === n
                ? void 0
                : n == this.value
                ? this
                : new e(this.type, n);
            }),
            (e.prototype.is = function (e) {
              return this.type == e;
            }),
            (e.define = function (e) {
              return (
                void 0 === e && (e = {}),
                new Pr(
                  e.map ||
                    function (e) {
                      return e;
                    }
                )
              );
            }),
            (e.mapEffects = function (e, t) {
              if (!e.length) return e;
              for (var n = [], i = 0, r = e; i < r.length; i++) {
                var o = r[i].map(t);
                o && n.push(o);
              }
              return n;
            }),
            e
          );
        })();
      (Or.reconfigure = Or.define()), (Or.appendConfig = Or.define());
      var Fr = (function () {
        function e(t, n, i, r, o, s) {
          (this.startState = t),
            (this.changes = n),
            (this.selection = i),
            (this.effects = r),
            (this.annotations = o),
            (this.scrollIntoView = s),
            (this._doc = null),
            (this._state = null),
            i && tr(i, n.newLength),
            o.some(function (t) {
              return t.type == e.time;
            }) || (this.annotations = o.concat(e.time.of(Date.now())));
        }
        return (
          Object.defineProperty(e.prototype, "newDoc", {
            get: function () {
              return (
                this._doc ||
                (this._doc = this.changes.apply(this.startState.doc))
              );
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "newSelection", {
            get: function () {
              return (
                this.selection || this.startState.selection.map(this.changes)
              );
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "state", {
            get: function () {
              return (
                this._state || this.startState.applyTransaction(this),
                this._state
              );
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.annotation = function (e) {
            for (var t = 0, n = this.annotations; t < n.length; t++) {
              var i = n[t];
              if (i.type == e) return i.value;
            }
          }),
          Object.defineProperty(e.prototype, "docChanged", {
            get: function () {
              return !this.changes.empty;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "reconfigured", {
            get: function () {
              return this.startState.config != this.state.config;
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.isUserEvent = function (t) {
            var n = this.annotation(e.userEvent);
            return !(
              !n ||
              !(
                n == t ||
                (n.length > t.length &&
                  n.slice(0, t.length) == t &&
                  "." == n[t.length])
              )
            );
          }),
          e
        );
      })();
      function Ir(e, t) {
        for (var n = [], i = 0, r = 0; ; ) {
          var o = void 0,
            s = void 0;
          if (i < e.length && (r == t.length || t[r] >= e[i]))
            (o = e[i++]), (s = e[i++]);
          else {
            if (!(r < t.length)) return n;
            (o = t[r++]), (s = t[r++]);
          }
          !n.length || n[n.length - 1] < o
            ? n.push(o, s)
            : n[n.length - 1] < s && (n[n.length - 1] = s);
        }
      }
      function Nr(e, t, n) {
        var i, r, o, s;
        return (
          n
            ? ((r = t.changes),
              (o = _i.empty(t.changes.length)),
              (s = e.changes.compose(t.changes)))
            : ((r = t.changes.map(e.changes)),
              (o = e.changes.mapDesc(t.changes, !0)),
              (s = e.changes.compose(r))),
          {
            changes: s,
            selection: t.selection
              ? t.selection.map(o)
              : null === (i = e.selection) || void 0 === i
              ? void 0
              : i.map(r),
            effects: Or.mapEffects(e.effects, r).concat(
              Or.mapEffects(t.effects, o)
            ),
            annotations: e.annotations.length
              ? e.annotations.concat(t.annotations)
              : t.annotations,
            scrollIntoView: e.scrollIntoView || t.scrollIntoView,
          }
        );
      }
      function Br(e, t, n) {
        var i = t.selection,
          r = Hr(t.annotations);
        return (
          t.userEvent && (r = r.concat(Fr.userEvent.of(t.userEvent))),
          {
            changes:
              t.changes instanceof _i
                ? t.changes
                : _i.of(t.changes || [], n, e.facet(Sr)),
            selection: i && (i instanceof Zi ? i : Zi.single(i.anchor, i.head)),
            effects: Hr(t.effects),
            annotations: r,
            scrollIntoView: !!t.scrollIntoView,
          }
        );
      }
      function Rr(e, t, n) {
        var i = Br(e, t.length ? t[0] : {}, e.doc.length);
        t.length && !1 === t[0].filter && (n = !1);
        for (var r = 1; r < t.length; r++) {
          !1 === t[r].filter && (n = !1);
          var o = !!t[r].sequential;
          i = Nr(i, Br(e, t[r], o ? i.changes.newLength : e.doc.length), o);
        }
        var s = new Fr(
          e,
          i.changes,
          i.selection,
          i.effects,
          i.annotations,
          i.scrollIntoView
        );
        return (function (e) {
          for (
            var t = e.startState, n = t.facet(Lr), i = e, r = n.length - 1;
            r >= 0;
            r--
          ) {
            var o = n[r](e);
            o &&
              Object.keys(o).length &&
              (i = Nr(e, Br(t, o, e.changes.newLength), !0));
          }
          return i == e
            ? e
            : new Fr(
                t,
                e.changes,
                e.selection,
                i.effects,
                i.annotations,
                i.scrollIntoView
              );
        })(
          n
            ? (function (e) {
                for (
                  var t = e.startState, n = !0, i = 0, r = t.facet(Er);
                  i < r.length;
                  i++
                ) {
                  var o = (0, r[i])(e);
                  if (!1 === o) {
                    n = !1;
                    break;
                  }
                  Array.isArray(o) && (n = !0 === n ? o : Ir(n, o));
                }
                if (!0 !== n) {
                  var s = void 0,
                    a = void 0;
                  if (!1 === n)
                    (a = e.changes.invertedDesc), (s = _i.empty(t.doc.length));
                  else
                    (s = (u = e.changes.filter(n)).changes),
                      (a = u.filtered.invertedDesc);
                  e = new Fr(
                    t,
                    s,
                    e.selection && e.selection.map(a),
                    Or.mapEffects(e.effects, a),
                    e.annotations,
                    e.scrollIntoView
                  );
                }
                for (var l = t.facet(Mr), c = l.length - 1; c >= 0; c--) {
                  var u;
                  e =
                    (u = l[c](e)) instanceof Fr
                      ? u
                      : Array.isArray(u) && 1 == u.length && u[0] instanceof Fr
                      ? u[0]
                      : Rr(t, Hr(u), !1);
                }
                return e;
              })(s)
            : s
        );
      }
      (Fr.time = Dr.define()),
        (Fr.userEvent = Dr.define()),
        (Fr.addToHistory = Dr.define()),
        (Fr.remote = Dr.define());
      var zr = [];
      function Hr(e) {
        return null == e ? zr : Array.isArray(e) ? e : [e];
      }
      var Vr,
        qr = (function (e) {
          return (
            (e[(e.Word = 0)] = "Word"),
            (e[(e.Space = 1)] = "Space"),
            (e[(e.Other = 2)] = "Other"),
            e
          );
        })(qr || (qr = {})),
        jr =
          /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
      try {
        Vr = new RegExp("[\\p{Alphabetic}\\p{Number}_]", "u");
      } catch (e) {}
      function Ur(e) {
        return function (t) {
          if (!/\S/.test(t)) return qr.Space;
          if (
            (function (e) {
              if (Vr) return Vr.test(e);
              for (var t = 0; t < e.length; t++) {
                var n = e[t];
                if (
                  /\w/.test(n) ||
                  (n > "" && (n.toUpperCase() != n.toLowerCase() || jr.test(n)))
                )
                  return !0;
              }
              return !1;
            })(t)
          )
            return qr.Word;
          for (var n = 0; n < e.length; n++)
            if (t.indexOf(e[n]) > -1) return qr.Word;
          return qr.Other;
        };
      }
      var Wr = (function () {
        function e(e, t, n, i, r, o) {
          (this.config = e),
            (this.doc = t),
            (this.selection = n),
            (this.values = i),
            (this.status = e.statusTemplate.slice()),
            (this.computeSlot = r),
            o && (o._state = this);
          for (var s = 0; s < this.config.dynamicSlots.length; s++)
            wr(this, s << 1);
          this.computeSlot = null;
        }
        return (
          (e.prototype.field = function (e, t) {
            void 0 === t && (t = !0);
            var n = this.config.address[e.id];
            if (null != n) return wr(this, n), kr(this, n);
            if (t) throw new RangeError("Field is not present in this state");
          }),
          (e.prototype.update = function () {
            for (var e = [], t = 0; t < arguments.length; t++)
              e[t] = arguments[t];
            return Rr(this, e, !0);
          }),
          (e.prototype.applyTransaction = function (t) {
            for (
              var n,
                i = this,
                r = this.config,
                o = r.base,
                s = r.compartments,
                a = 0,
                l = t.effects;
              a < l.length;
              a++
            ) {
              var c = l[a];
              c.is(vr.reconfigure)
                ? (r &&
                    ((s = new Map()),
                    r.compartments.forEach(function (e, t) {
                      return s.set(t, e);
                    }),
                    (r = null)),
                  s.set(c.value.compartment, c.value.extension))
                : c.is(Or.reconfigure)
                ? ((r = null), (o = c.value))
                : c.is(Or.appendConfig) &&
                  ((r = null), (o = Hr(o).concat(c.value)));
            }
            r
              ? (n = t.startState.values.slice())
              : (n = new e(
                  (r = br.resolve(o, s, this)),
                  this.doc,
                  this.selection,
                  r.dynamicSlots.map(function () {
                    return null;
                  }),
                  function (e, t) {
                    return t.reconfigure(e, i);
                  },
                  null
                ).values);
            new e(
              r,
              t.newDoc,
              t.newSelection,
              n,
              function (e, n) {
                return n.update(e, t);
              },
              t
            );
          }),
          (e.prototype.replaceSelection = function (e) {
            return (
              "string" == typeof e && (e = this.toText(e)),
              this.changeByRange(function (t) {
                return {
                  changes: { from: t.from, to: t.to, insert: e },
                  range: Zi.cursor(t.from + e.length),
                };
              })
            );
          }),
          (e.prototype.changeByRange = function (e) {
            for (
              var t = this.selection,
                n = e(t.ranges[0]),
                i = this.changes(n.changes),
                r = [n.range],
                o = Hr(n.effects),
                s = 1;
              s < t.ranges.length;
              s++
            ) {
              for (
                var a = e(t.ranges[s]),
                  l = this.changes(a.changes),
                  c = l.map(i),
                  u = 0;
                u < s;
                u++
              )
                r[u] = r[u].map(c);
              var h = i.mapDesc(l, !0);
              r.push(a.range.map(h)),
                (i = i.compose(c)),
                (o = Or.mapEffects(o, c).concat(
                  Or.mapEffects(Hr(a.effects), h)
                ));
            }
            return {
              changes: i,
              selection: Zi.create(r, t.mainIndex),
              effects: o,
            };
          }),
          (e.prototype.changes = function (t) {
            return (
              void 0 === t && (t = []),
              t instanceof _i
                ? t
                : _i.of(t, this.doc.length, this.facet(e.lineSeparator))
            );
          }),
          (e.prototype.toText = function (t) {
            return Fi.of(t.split(this.facet(e.lineSeparator) || ji));
          }),
          (e.prototype.sliceDoc = function (e, t) {
            return (
              void 0 === e && (e = 0),
              void 0 === t && (t = this.doc.length),
              this.doc.sliceString(e, t, this.lineBreak)
            );
          }),
          (e.prototype.facet = function (e) {
            var t = this.config.address[e.id];
            return null == t ? e.default : (wr(this, t), kr(this, t));
          }),
          (e.prototype.toJSON = function (e) {
            var t = {
              doc: this.sliceDoc(),
              selection: this.selection.toJSON(),
            };
            if (e)
              for (var n in e) {
                var i = e[n];
                i instanceof lr &&
                  (t[n] = i.spec.toJSON(this.field(e[n]), this));
              }
            return t;
          }),
          (e.fromJSON = function (t, n, i) {
            if ((void 0 === n && (n = {}), !t || "string" != typeof t.doc))
              throw new RangeError(
                "Invalid JSON representation for EditorState"
              );
            var r = [];
            if (i) {
              var o = function (e) {
                var n = i[e],
                  o = t[e];
                r.push(
                  n.init(function (e) {
                    return n.spec.fromJSON(o, e);
                  })
                );
              };
              for (var s in i) o(s);
            }
            return e.create({
              doc: t.doc,
              selection: Zi.fromJSON(t.selection),
              extensions: n.extensions ? r.concat([n.extensions]) : r,
            });
          }),
          (e.create = function (t) {
            void 0 === t && (t = {});
            var n = br.resolve(t.extensions || [], new Map()),
              i =
                t.doc instanceof Fi
                  ? t.doc
                  : Fi.of(
                      (t.doc || "").split(n.staticFacet(e.lineSeparator) || ji)
                    ),
              r = t.selection
                ? t.selection instanceof Zi
                  ? t.selection
                  : Zi.single(t.selection.anchor, t.selection.head)
                : Zi.single(0);
            return (
              tr(r, i.length),
              n.staticFacet(xr) || (r = r.asSingle()),
              new e(
                n,
                i,
                r,
                n.dynamicSlots.map(function () {
                  return null;
                }),
                function (e, t) {
                  return t.create(e);
                },
                null
              )
            );
          }),
          Object.defineProperty(e.prototype, "tabSize", {
            get: function () {
              return this.facet(e.tabSize);
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "lineBreak", {
            get: function () {
              return this.facet(e.lineSeparator) || "\n";
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "readOnly", {
            get: function () {
              return this.facet(Ar);
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.phrase = function (t) {
            for (var n = 0, i = this.facet(e.phrases); n < i.length; n++) {
              var r = i[n];
              if (Object.prototype.hasOwnProperty.call(r, t)) return r[t];
            }
            return t;
          }),
          (e.prototype.languageDataAt = function (e, t, n) {
            void 0 === n && (n = -1);
            for (var i = [], r = 0, o = this.facet(Cr); r < o.length; r++)
              for (var s = 0, a = (0, o[r])(this, t, n); s < a.length; s++) {
                var l = a[s];
                Object.prototype.hasOwnProperty.call(l, e) && i.push(l[e]);
              }
            return i;
          }),
          (e.prototype.charCategorizer = function (e) {
            return Ur(this.languageDataAt("wordChars", e).join(""));
          }),
          (e.prototype.wordAt = function (e) {
            for (
              var t = this.doc.lineAt(e),
                n = t.text,
                i = t.from,
                r = t.length,
                o = this.charCategorizer(e),
                s = e - i,
                a = e - i;
              s > 0;

            ) {
              var l = xi(n, s, !1);
              if (o(n.slice(l, s)) != qr.Word) break;
              s = l;
            }
            for (; a < r; ) {
              var c = xi(n, a);
              if (o(n.slice(a, c)) != qr.Word) break;
              a = c;
            }
            return s == a ? null : Zi.range(s + i, a + i);
          }),
          e
        );
      })();
      function _r(e, t, n) {
        void 0 === n && (n = {});
        for (var i = {}, r = 0, o = e; r < o.length; r++)
          for (var s = o[r], a = 0, l = Object.keys(s); a < l.length; a++) {
            var c = s[(h = l[a])],
              u = i[h];
            if (void 0 === u) i[h] = c;
            else if (u === c || void 0 === c);
            else {
              if (!Object.hasOwnProperty.call(n, h))
                throw new Error("Config merge conflict for field " + h);
              i[h] = n[h](u, c);
            }
          }
        for (var h in t) void 0 === i[h] && (i[h] = t[h]);
        return i;
      }
      (Wr.allowMultipleSelections = xr),
        (Wr.tabSize = ir.define({
          combine: function (e) {
            return e.length ? e[0] : 4;
          },
        })),
        (Wr.lineSeparator = Sr),
        (Wr.readOnly = Ar),
        (Wr.phrases = ir.define()),
        (Wr.languageData = Cr),
        (Wr.changeFilter = Er),
        (Wr.transactionFilter = Mr),
        (Wr.transactionExtender = Lr),
        (vr.reconfigure = Or.define());
      const Gr = "undefined" == typeof Symbol ? "__ͼ" : Symbol.for("ͼ"),
        Kr =
          "undefined" == typeof Symbol
            ? "__styleSet" + Math.floor(1e8 * Math.random())
            : Symbol("styleSet"),
        $r =
          "undefined" != typeof globalThis
            ? globalThis
            : "undefined" != typeof window
            ? window
            : {};
      class Yr {
        constructor(e, t) {
          this.rules = [];
          let { finish: n } = t || {};
          function i(e) {
            return /^@/.test(e) ? [e] : e.split(/,\s*/);
          }
          function r(e, t, o, s) {
            let a = [],
              l = /^@(\w+)\b/.exec(e[0]),
              c = l && "keyframes" == l[1];
            if (l && null == t) return o.push(e[0] + ";");
            for (let n in t) {
              let s = t[n];
              if (/&/.test(n))
                r(
                  n
                    .split(/,\s*/)
                    .map((t) => e.map((e) => t.replace(/&/, e)))
                    .reduce((e, t) => e.concat(t)),
                  s,
                  o
                );
              else if (s && "object" == typeof s) {
                if (!l)
                  throw new RangeError(
                    "The value of a property (" +
                      n +
                      ") should be a primitive value."
                  );
                r(i(n), s, a, c);
              } else
                null != s &&
                  a.push(
                    n
                      .replace(/_.*/, "")
                      .replace(/[A-Z]/g, (e) => "-" + e.toLowerCase()) +
                      ": " +
                      s +
                      ";"
                  );
            }
            (a.length || c) &&
              o.push(
                (!n || l || s ? e : e.map(n)).join(", ") +
                  " {" +
                  a.join(" ") +
                  "}"
              );
          }
          for (let t in e) r(i(t), e[t], this.rules);
        }
        getRules() {
          return this.rules.join("\n");
        }
        static newName() {
          let e = $r[Gr] || 1;
          return ($r[Gr] = e + 1), "ͼ" + e.toString(36);
        }
        static mount(e, t) {
          (e[Kr] || new Qr(e)).mount(Array.isArray(t) ? t : [t]);
        }
      }
      let Jr = null;
      class Qr {
        constructor(e) {
          if (
            !e.head &&
            e.adoptedStyleSheets &&
            "undefined" != typeof CSSStyleSheet
          ) {
            if (Jr)
              return (
                (e.adoptedStyleSheets = [Jr.sheet].concat(
                  e.adoptedStyleSheets
                )),
                (e[Kr] = Jr)
              );
            (this.sheet = new CSSStyleSheet()),
              (e.adoptedStyleSheets = [this.sheet].concat(
                e.adoptedStyleSheets
              )),
              (Jr = this);
          } else {
            this.styleTag = (e.ownerDocument || e).createElement("style");
            let t = e.head || e;
            t.insertBefore(this.styleTag, t.firstChild);
          }
          (this.modules = []), (e[Kr] = this);
        }
        mount(e) {
          let t = this.sheet,
            n = 0,
            i = 0;
          for (let r = 0; r < e.length; r++) {
            let o = e[r],
              s = this.modules.indexOf(o);
            if (
              (s < i && s > -1 && (this.modules.splice(s, 1), i--, (s = -1)),
              -1 == s)
            ) {
              if ((this.modules.splice(i++, 0, o), t))
                for (let e = 0; e < o.rules.length; e++)
                  t.insertRule(o.rules[e], n++);
            } else {
              for (; i < s; ) n += this.modules[i++].rules.length;
              (n += o.rules.length), i++;
            }
          }
          if (!t) {
            let e = "";
            for (let t = 0; t < this.modules.length; t++)
              e += this.modules[t].getRules() + "\n";
            this.styleTag.textContent = e;
          }
        }
      }
      var Xr = (function () {
        function e() {}
        return (
          (e.prototype.eq = function (e) {
            return this == e;
          }),
          (e.prototype.range = function (e, t) {
            return void 0 === t && (t = e), new Zr(e, t, this);
          }),
          e
        );
      })();
      (Xr.prototype.startSide = Xr.prototype.endSide = 0),
        (Xr.prototype.point = !1),
        (Xr.prototype.mapMode = Ui.TrackDel);
      var Zr = function (e, t, n) {
        (this.from = e), (this.to = t), (this.value = n);
      };
      function eo(e, t) {
        return e.from - t.from || e.value.startSide - t.value.startSide;
      }
      var to = (function () {
          function e(e, t, n, i) {
            (this.from = e),
              (this.to = t),
              (this.value = n),
              (this.maxPoint = i);
          }
          return (
            Object.defineProperty(e.prototype, "length", {
              get: function () {
                return this.to[this.to.length - 1];
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.findIndex = function (e, t, n, i) {
              void 0 === i && (i = 0);
              for (var r = n ? this.to : this.from, o = i, s = r.length; ; ) {
                if (o == s) return o;
                var a = (o + s) >> 1,
                  l =
                    r[a] - e ||
                    (n ? this.value[a].endSide : this.value[a].startSide) - t;
                if (a == o) return l >= 0 ? o : s;
                l >= 0 ? (s = a) : (o = a + 1);
              }
            }),
            (e.prototype.between = function (e, t, n, i) {
              for (
                var r = this.findIndex(t, -1e9, !0),
                  o = this.findIndex(n, 1e9, !1, r);
                r < o;
                r++
              )
                if (!1 === i(this.from[r] + e, this.to[r] + e, this.value[r]))
                  return !1;
            }),
            (e.prototype.map = function (t, n) {
              for (
                var i = [], r = [], o = [], s = -1, a = -1, l = 0;
                l < this.value.length;
                l++
              ) {
                var c = this.value[l],
                  u = this.from[l] + t,
                  h = this.to[l] + t,
                  p = void 0,
                  d = void 0;
                if (u == h) {
                  var f = n.mapPos(u, c.startSide, c.mapMode);
                  if (null == f) continue;
                  if (
                    ((p = d = f),
                    c.startSide != c.endSide &&
                      (d = n.mapPos(u, c.endSide)) < p)
                  )
                    continue;
                } else if (
                  (p = n.mapPos(u, c.startSide)) >
                    (d = n.mapPos(h, c.endSide)) ||
                  (p == d && c.startSide > 0 && c.endSide <= 0)
                )
                  continue;
                (d - p || c.endSide - c.startSide) < 0 ||
                  (s < 0 && (s = p),
                  c.point && (a = Math.max(a, d - p)),
                  i.push(c),
                  r.push(p - s),
                  o.push(d - s));
              }
              return { mapped: i.length ? new e(r, o, i, a) : null, pos: s };
            }),
            e
          );
        })(),
        no = (function () {
          function e(t, n, i, r) {
            void 0 === i && (i = e.empty),
              (this.chunkPos = t),
              (this.chunk = n),
              (this.nextLayer = i),
              (this.maxPoint = r);
          }
          return (
            Object.defineProperty(e.prototype, "length", {
              get: function () {
                var e = this.chunk.length - 1;
                return e < 0
                  ? 0
                  : Math.max(this.chunkEnd(e), this.nextLayer.length);
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "size", {
              get: function () {
                if (this.isEmpty) return 0;
                for (
                  var e = this.nextLayer.size, t = 0, n = this.chunk;
                  t < n.length;
                  t++
                ) {
                  e += n[t].value.length;
                }
                return e;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.chunkEnd = function (e) {
              return this.chunkPos[e] + this.chunk[e].length;
            }),
            (e.prototype.update = function (t) {
              var n = t.add,
                i = void 0 === n ? [] : n,
                r = t.sort,
                o = void 0 !== r && r,
                s = t.filterFrom,
                a = void 0 === s ? 0 : s,
                l = t.filterTo,
                c = void 0 === l ? this.length : l,
                u = t.filter;
              if (0 == i.length && !u) return this;
              if ((o && (i = i.slice().sort(eo)), this.isEmpty))
                return i.length ? e.of(i) : this;
              for (
                var h = new oo(this, null, -1).goto(0),
                  p = 0,
                  d = [],
                  f = new io();
                h.value || p < i.length;

              )
                if (
                  p < i.length &&
                  (h.from - i[p].from || h.startSide - i[p].value.startSide) >=
                    0
                ) {
                  var g = i[p++];
                  f.addInner(g.from, g.to, g.value) || d.push(g);
                } else
                  1 == h.rangeIndex &&
                  h.chunkIndex < this.chunk.length &&
                  (p == i.length || this.chunkEnd(h.chunkIndex) < i[p].from) &&
                  (!u ||
                    a > this.chunkEnd(h.chunkIndex) ||
                    c < this.chunkPos[h.chunkIndex]) &&
                  f.addChunk(
                    this.chunkPos[h.chunkIndex],
                    this.chunk[h.chunkIndex]
                  )
                    ? h.nextChunk()
                    : ((!u ||
                        a > h.to ||
                        c < h.from ||
                        u(h.from, h.to, h.value)) &&
                        (f.addInner(h.from, h.to, h.value) ||
                          d.push(new Zr(h.from, h.to, h.value))),
                      h.next());
              return f.finishInner(
                this.nextLayer.isEmpty && !d.length
                  ? e.empty
                  : this.nextLayer.update({
                      add: d,
                      filter: u,
                      filterFrom: a,
                      filterTo: c,
                    })
              );
            }),
            (e.prototype.map = function (t) {
              if (t.empty || this.isEmpty) return this;
              for (
                var n = [], i = [], r = -1, o = 0;
                o < this.chunk.length;
                o++
              ) {
                var s = this.chunkPos[o],
                  a = this.chunk[o],
                  l = t.touchesRange(s, s + a.length);
                if (!1 === l)
                  (r = Math.max(r, a.maxPoint)), n.push(a), i.push(t.mapPos(s));
                else if (!0 === l) {
                  var c = a.map(s, t),
                    u = c.mapped,
                    h = c.pos;
                  u && ((r = Math.max(r, u.maxPoint)), n.push(u), i.push(h));
                }
              }
              var p = this.nextLayer.map(t);
              return 0 == n.length ? p : new e(i, n, p, r);
            }),
            (e.prototype.between = function (e, t, n) {
              if (!this.isEmpty) {
                for (var i = 0; i < this.chunk.length; i++) {
                  var r = this.chunkPos[i],
                    o = this.chunk[i];
                  if (
                    t >= r &&
                    e <= r + o.length &&
                    !1 === o.between(r, e - r, t - r, n)
                  )
                    return;
                }
                this.nextLayer.between(e, t, n);
              }
            }),
            (e.prototype.iter = function (e) {
              return void 0 === e && (e = 0), so.from([this]).goto(e);
            }),
            Object.defineProperty(e.prototype, "isEmpty", {
              get: function () {
                return this.nextLayer == this;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.iter = function (e, t) {
              return void 0 === t && (t = 0), so.from(e).goto(t);
            }),
            (e.compare = function (e, t, n, i, r) {
              void 0 === r && (r = -1);
              var o = e.filter(function (e) {
                  return e.maxPoint > 0 || (!e.isEmpty && e.maxPoint >= r);
                }),
                s = t.filter(function (e) {
                  return e.maxPoint > 0 || (!e.isEmpty && e.maxPoint >= r);
                }),
                a = ro(o, s, n),
                l = new lo(o, a, r),
                c = new lo(s, a, r);
              n.iterGaps(function (e, t, n) {
                return co(l, e, c, t, n, i);
              }),
                n.empty && 0 == n.length && co(l, 0, c, 0, 0, i);
            }),
            (e.eq = function (e, t, n, i) {
              void 0 === n && (n = 0), null == i && (i = 1e9);
              var r = e.filter(function (e) {
                  return !e.isEmpty && t.indexOf(e) < 0;
                }),
                o = t.filter(function (t) {
                  return !t.isEmpty && e.indexOf(t) < 0;
                });
              if (r.length != o.length) return !1;
              if (!r.length) return !0;
              for (
                var s = ro(r, o),
                  a = new lo(r, s, 0).goto(n),
                  l = new lo(o, s, 0).goto(n);
                ;

              ) {
                if (
                  a.to != l.to ||
                  !uo(a.active, l.active) ||
                  (a.point && (!l.point || !a.point.eq(l.point)))
                )
                  return !1;
                if (a.to > i) return !0;
                a.next(), l.next();
              }
            }),
            (e.spans = function (e, t, n, i, r) {
              var o;
              void 0 === r && (r = -1);
              for (
                var s = new lo(
                    e,
                    null,
                    r,
                    null === (o = i.filterPoint) || void 0 === o
                      ? void 0
                      : o.bind(i)
                  ).goto(t),
                  a = t,
                  l = s.openStart;
                ;

              ) {
                var c = Math.min(s.to, n);
                if (
                  (s.point
                    ? (i.point(a, c, s.point, s.activeForPoint(s.to), l),
                      (l = s.openEnd(c) + (s.to > c ? 1 : 0)))
                    : c > a && (i.span(a, c, s.active, l), (l = s.openEnd(c))),
                  s.to > n)
                )
                  break;
                (a = s.to), s.next();
              }
              return l;
            }),
            (e.of = function (e, t) {
              void 0 === t && (t = !1);
              for (
                var n = new io(),
                  i = 0,
                  r =
                    e instanceof Zr
                      ? [e]
                      : t
                      ? (function (e) {
                          if (e.length > 1)
                            for (var t = e[0], n = 1; n < e.length; n++) {
                              var i = e[n];
                              if (eo(t, i) > 0) return e.slice().sort(eo);
                              t = i;
                            }
                          return e;
                        })(e)
                      : e;
                i < r.length;
                i++
              ) {
                var o = r[i];
                n.add(o.from, o.to, o.value);
              }
              return n.finish();
            }),
            e
          );
        })();
      (no.empty = new no([], [], null, -1)), (no.empty.nextLayer = no.empty);
      var io = (function () {
        function e() {
          (this.chunks = []),
            (this.chunkPos = []),
            (this.chunkStart = -1),
            (this.last = null),
            (this.lastFrom = -1e9),
            (this.lastTo = -1e9),
            (this.from = []),
            (this.to = []),
            (this.value = []),
            (this.maxPoint = -1),
            (this.setMaxPoint = -1),
            (this.nextLayer = null);
        }
        return (
          (e.prototype.finishChunk = function (e) {
            this.chunks.push(
              new to(this.from, this.to, this.value, this.maxPoint)
            ),
              this.chunkPos.push(this.chunkStart),
              (this.chunkStart = -1),
              (this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint)),
              (this.maxPoint = -1),
              e && ((this.from = []), (this.to = []), (this.value = []));
          }),
          (e.prototype.add = function (t, n, i) {
            this.addInner(t, n, i) ||
              (this.nextLayer || (this.nextLayer = new e())).add(t, n, i);
          }),
          (e.prototype.addInner = function (e, t, n) {
            var i = e - this.lastTo || n.startSide - this.last.endSide;
            if (
              i <= 0 &&
              (e - this.lastFrom || n.startSide - this.last.startSide) < 0
            )
              throw new Error(
                "Ranges must be added sorted by `from` position and `startSide`"
              );
            return (
              !(i < 0) &&
              (250 == this.from.length && this.finishChunk(!0),
              this.chunkStart < 0 && (this.chunkStart = e),
              this.from.push(e - this.chunkStart),
              this.to.push(t - this.chunkStart),
              (this.last = n),
              (this.lastFrom = e),
              (this.lastTo = t),
              this.value.push(n),
              n.point && (this.maxPoint = Math.max(this.maxPoint, t - e)),
              !0)
            );
          }),
          (e.prototype.addChunk = function (e, t) {
            if (
              (e - this.lastTo || t.value[0].startSide - this.last.endSide) < 0
            )
              return !1;
            this.from.length && this.finishChunk(!0),
              (this.setMaxPoint = Math.max(this.setMaxPoint, t.maxPoint)),
              this.chunks.push(t),
              this.chunkPos.push(e);
            var n = t.value.length - 1;
            return (
              (this.last = t.value[n]),
              (this.lastFrom = t.from[n] + e),
              (this.lastTo = t.to[n] + e),
              !0
            );
          }),
          (e.prototype.finish = function () {
            return this.finishInner(no.empty);
          }),
          (e.prototype.finishInner = function (e) {
            if (
              (this.from.length && this.finishChunk(!1),
              0 == this.chunks.length)
            )
              return e;
            var t = new no(
              this.chunkPos,
              this.chunks,
              this.nextLayer ? this.nextLayer.finishInner(e) : e,
              this.setMaxPoint
            );
            return (this.from = null), t;
          }),
          e
        );
      })();
      function ro(e, t, n) {
        for (var i = new Map(), r = 0, o = e; r < o.length; r++)
          for (var s = o[r], a = 0; a < s.chunk.length; a++)
            s.chunk[a].maxPoint <= 0 && i.set(s.chunk[a], s.chunkPos[a]);
        for (var l = new Set(), c = 0, u = t; c < u.length; c++)
          for (s = u[c], a = 0; a < s.chunk.length; a++) {
            var h = i.get(s.chunk[a]);
            null == h ||
              (n ? n.mapPos(h) : h) != s.chunkPos[a] ||
              (null == n ? void 0 : n.touchesRange(h, h + s.chunk[a].length)) ||
              l.add(s.chunk[a]);
          }
        return l;
      }
      var oo = (function () {
          function e(e, t, n, i) {
            void 0 === i && (i = 0),
              (this.layer = e),
              (this.skip = t),
              (this.minPoint = n),
              (this.rank = i);
          }
          return (
            Object.defineProperty(e.prototype, "startSide", {
              get: function () {
                return this.value ? this.value.startSide : 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "endSide", {
              get: function () {
                return this.value ? this.value.endSide : 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.goto = function (e, t) {
              return (
                void 0 === t && (t = -1e9),
                (this.chunkIndex = this.rangeIndex = 0),
                this.gotoInner(e, t, !1),
                this
              );
            }),
            (e.prototype.gotoInner = function (e, t, n) {
              for (; this.chunkIndex < this.layer.chunk.length; ) {
                var i = this.layer.chunk[this.chunkIndex];
                if (
                  !(
                    (this.skip && this.skip.has(i)) ||
                    this.layer.chunkEnd(this.chunkIndex) < e ||
                    i.maxPoint < this.minPoint
                  )
                )
                  break;
                this.chunkIndex++, (n = !1);
              }
              if (this.chunkIndex < this.layer.chunk.length) {
                var r = this.layer.chunk[this.chunkIndex].findIndex(
                  e - this.layer.chunkPos[this.chunkIndex],
                  t,
                  !0
                );
                (!n || this.rangeIndex < r) && this.setRangeIndex(r);
              }
              this.next();
            }),
            (e.prototype.forward = function (e, t) {
              (this.to - e || this.endSide - t) < 0 && this.gotoInner(e, t, !0);
            }),
            (e.prototype.next = function () {
              for (;;) {
                if (this.chunkIndex == this.layer.chunk.length) {
                  (this.from = this.to = 1e9), (this.value = null);
                  break;
                }
                var e = this.layer.chunkPos[this.chunkIndex],
                  t = this.layer.chunk[this.chunkIndex],
                  n = e + t.from[this.rangeIndex];
                if (
                  ((this.from = n),
                  (this.to = e + t.to[this.rangeIndex]),
                  (this.value = t.value[this.rangeIndex]),
                  this.setRangeIndex(this.rangeIndex + 1),
                  this.minPoint < 0 ||
                    (this.value.point && this.to - this.from >= this.minPoint))
                )
                  break;
              }
            }),
            (e.prototype.setRangeIndex = function (e) {
              if (e == this.layer.chunk[this.chunkIndex].value.length) {
                if ((this.chunkIndex++, this.skip))
                  for (
                    ;
                    this.chunkIndex < this.layer.chunk.length &&
                    this.skip.has(this.layer.chunk[this.chunkIndex]);

                  )
                    this.chunkIndex++;
                this.rangeIndex = 0;
              } else this.rangeIndex = e;
            }),
            (e.prototype.nextChunk = function () {
              this.chunkIndex++, (this.rangeIndex = 0), this.next();
            }),
            (e.prototype.compare = function (e) {
              return (
                this.from - e.from ||
                this.startSide - e.startSide ||
                this.to - e.to ||
                this.endSide - e.endSide
              );
            }),
            e
          );
        })(),
        so = (function () {
          function e(e) {
            this.heap = e;
          }
          return (
            (e.from = function (t, n, i) {
              void 0 === n && (n = null), void 0 === i && (i = -1);
              for (var r = [], o = 0; o < t.length; o++)
                for (var s = t[o]; !s.isEmpty; s = s.nextLayer)
                  s.maxPoint >= i && r.push(new oo(s, n, i, o));
              return 1 == r.length ? r[0] : new e(r);
            }),
            Object.defineProperty(e.prototype, "startSide", {
              get: function () {
                return this.value ? this.value.startSide : 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.goto = function (e, t) {
              void 0 === t && (t = -1e9);
              for (var n = 0, i = this.heap; n < i.length; n++) {
                i[n].goto(e, t);
              }
              for (var r = this.heap.length >> 1; r >= 0; r--) ao(this.heap, r);
              return this.next(), this;
            }),
            (e.prototype.forward = function (e, t) {
              for (var n = 0, i = this.heap; n < i.length; n++) {
                i[n].forward(e, t);
              }
              for (var r = this.heap.length >> 1; r >= 0; r--) ao(this.heap, r);
              (this.to - e || this.value.endSide - t) < 0 && this.next();
            }),
            (e.prototype.next = function () {
              if (0 == this.heap.length)
                (this.from = this.to = 1e9),
                  (this.value = null),
                  (this.rank = -1);
              else {
                var e = this.heap[0];
                (this.from = e.from),
                  (this.to = e.to),
                  (this.value = e.value),
                  (this.rank = e.rank),
                  e.value && e.next(),
                  ao(this.heap, 0);
              }
            }),
            e
          );
        })();
      function ao(e, t) {
        for (var n = e[t]; ; ) {
          var i = 1 + (t << 1);
          if (i >= e.length) break;
          var r = e[i];
          if (
            (i + 1 < e.length &&
              r.compare(e[i + 1]) >= 0 &&
              ((r = e[i + 1]), i++),
            n.compare(r) < 0)
          )
            break;
          (e[i] = n), (e[t] = r), (t = i);
        }
      }
      var lo = (function () {
        function e(e, t, n, i) {
          void 0 === i &&
            (i = function () {
              return !0;
            }),
            (this.minPoint = n),
            (this.filterPoint = i),
            (this.active = []),
            (this.activeTo = []),
            (this.activeRank = []),
            (this.minActive = -1),
            (this.point = null),
            (this.pointFrom = 0),
            (this.pointRank = 0),
            (this.to = -1e9),
            (this.endSide = 0),
            (this.openStart = -1),
            (this.cursor = so.from(e, t, n));
        }
        return (
          (e.prototype.goto = function (e, t) {
            return (
              void 0 === t && (t = -1e9),
              this.cursor.goto(e, t),
              (this.active.length =
                this.activeTo.length =
                this.activeRank.length =
                  0),
              (this.minActive = -1),
              (this.to = e),
              (this.endSide = t),
              (this.openStart = -1),
              this.next(),
              this
            );
          }),
          (e.prototype.forward = function (e, t) {
            for (
              ;
              this.minActive > -1 &&
              (this.activeTo[this.minActive] - e ||
                this.active[this.minActive].endSide - t) < 0;

            )
              this.removeActive(this.minActive);
            this.cursor.forward(e, t);
          }),
          (e.prototype.removeActive = function (e) {
            ho(this.active, e),
              ho(this.activeTo, e),
              ho(this.activeRank, e),
              (this.minActive = fo(this.active, this.activeTo));
          }),
          (e.prototype.addActive = function (e) {
            for (
              var t = 0, n = this.cursor, i = n.value, r = n.to, o = n.rank;
              t < this.activeRank.length && this.activeRank[t] <= o;

            )
              t++;
            po(this.active, t, i),
              po(this.activeTo, t, r),
              po(this.activeRank, t, o),
              e && po(e, t, this.cursor.from),
              (this.minActive = fo(this.active, this.activeTo));
          }),
          (e.prototype.next = function () {
            var e = this.to,
              t = this.point;
            this.point = null;
            for (var n = this.openStart < 0 ? [] : null, i = 0; ; ) {
              var r = this.minActive;
              if (
                r > -1 &&
                (this.activeTo[r] - this.cursor.from ||
                  this.active[r].endSide - this.cursor.startSide) < 0
              ) {
                if (this.activeTo[r] > e) {
                  (this.to = this.activeTo[r]),
                    (this.endSide = this.active[r].endSide);
                  break;
                }
                this.removeActive(r), n && ho(n, r);
              } else {
                if (!this.cursor.value) {
                  this.to = this.endSide = 1e9;
                  break;
                }
                if (this.cursor.from > e) {
                  (this.to = this.cursor.from),
                    (this.endSide = this.cursor.startSide);
                  break;
                }
                var o = this.cursor.value;
                if (o.point)
                  if (
                    t &&
                    this.cursor.to == this.to &&
                    this.cursor.from < this.cursor.to
                  )
                    this.cursor.next();
                  else {
                    if (
                      this.filterPoint(
                        this.cursor.from,
                        this.cursor.to,
                        this.cursor.value,
                        this.cursor.rank
                      )
                    ) {
                      (this.point = o),
                        (this.pointFrom = this.cursor.from),
                        (this.pointRank = this.cursor.rank),
                        (this.to = this.cursor.to),
                        (this.endSide = o.endSide),
                        this.cursor.from < e && (i = 1),
                        this.cursor.next(),
                        this.to > e && this.forward(this.to, this.endSide);
                      break;
                    }
                    this.cursor.next();
                  }
                else this.addActive(n), this.cursor.next();
              }
            }
            if (n) {
              for (var s = 0; s < n.length && n[s] < e; ) s++;
              this.openStart = s + i;
            }
          }),
          (e.prototype.activeForPoint = function (e) {
            if (!this.active.length) return this.active;
            for (
              var t = [], n = this.active.length - 1;
              n >= 0 && !(this.activeRank[n] < this.pointRank);
              n--
            )
              (this.activeTo[n] > e ||
                (this.activeTo[n] == e &&
                  this.active[n].endSide >= this.point.endSide)) &&
                t.push(this.active[n]);
            return t.reverse();
          }),
          (e.prototype.openEnd = function (e) {
            for (
              var t = 0, n = this.activeTo.length - 1;
              n >= 0 && this.activeTo[n] > e;
              n--
            )
              t++;
            return t;
          }),
          e
        );
      })();
      function co(e, t, n, i, r, o) {
        e.goto(t), n.goto(i);
        for (var s = i + r, a = i, l = i - t; ; ) {
          var c = e.to + l - n.to || e.endSide - n.endSide,
            u = c < 0 ? e.to + l : n.to,
            h = Math.min(u, s);
          if (
            (e.point || n.point
              ? (e.point &&
                  n.point &&
                  (e.point == n.point || e.point.eq(n.point)) &&
                  uo(e.activeForPoint(e.to + l), n.activeForPoint(n.to))) ||
                o.comparePoint(a, h, e.point, n.point)
              : h > a &&
                !uo(e.active, n.active) &&
                o.compareRange(a, h, e.active, n.active),
            u > s)
          )
            break;
          (a = u), c <= 0 && e.next(), c >= 0 && n.next();
        }
      }
      function uo(e, t) {
        if (e.length != t.length) return !1;
        for (var n = 0; n < e.length; n++)
          if (e[n] != t[n] && !e[n].eq(t[n])) return !1;
        return !0;
      }
      function ho(e, t) {
        for (var n = t, i = e.length - 1; n < i; n++) e[n] = e[n + 1];
        e.pop();
      }
      function po(e, t, n) {
        for (var i = e.length - 1; i >= t; i--) e[i + 1] = e[i];
        e[t] = n;
      }
      function fo(e, t) {
        for (var n = -1, i = 1e9, r = 0; r < t.length; r++)
          (t[r] - i || e[r].endSide - e[n].endSide) < 0 &&
            ((n = r), (i = t[r]));
        return n;
      }
      for (
        var go = {
            8: "Backspace",
            9: "Tab",
            10: "Enter",
            12: "NumLock",
            13: "Enter",
            16: "Shift",
            17: "Control",
            18: "Alt",
            20: "CapsLock",
            27: "Escape",
            32: " ",
            33: "PageUp",
            34: "PageDown",
            35: "End",
            36: "Home",
            37: "ArrowLeft",
            38: "ArrowUp",
            39: "ArrowRight",
            40: "ArrowDown",
            44: "PrintScreen",
            45: "Insert",
            46: "Delete",
            59: ";",
            61: "=",
            91: "Meta",
            92: "Meta",
            106: "*",
            107: "+",
            108: ",",
            109: "-",
            110: ".",
            111: "/",
            144: "NumLock",
            145: "ScrollLock",
            160: "Shift",
            161: "Shift",
            162: "Control",
            163: "Control",
            164: "Alt",
            165: "Alt",
            173: "-",
            186: ";",
            187: "=",
            188: ",",
            189: "-",
            190: ".",
            191: "/",
            192: "`",
            219: "[",
            220: "\\",
            221: "]",
            222: "'",
            229: "q",
          },
          mo = {
            48: ")",
            49: "!",
            50: "@",
            51: "#",
            52: "$",
            53: "%",
            54: "^",
            55: "&",
            56: "*",
            57: "(",
            59: ":",
            61: "+",
            173: "_",
            186: ":",
            187: "+",
            188: "<",
            189: "_",
            190: ">",
            191: "?",
            192: "~",
            219: "{",
            220: "|",
            221: "}",
            222: '"',
            229: "Q",
          },
          vo =
            "undefined" != typeof navigator &&
            /Chrome\/(\d+)/.exec(navigator.userAgent),
          yo =
            "undefined" != typeof navigator &&
            /Apple Computer/.test(navigator.vendor),
          bo =
            "undefined" != typeof navigator &&
            /Gecko\/\d+/.test(navigator.userAgent),
          wo =
            "undefined" != typeof navigator && /Mac/.test(navigator.platform),
          ko =
            "undefined" != typeof navigator &&
            /MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(
              navigator.userAgent
            ),
          Co = (vo && (wo || +vo[1] < 57)) || (bo && wo),
          xo = 0;
        xo < 10;
        xo++
      )
        go[48 + xo] = go[96 + xo] = String(xo);
      for (xo = 1; xo <= 24; xo++) go[xo + 111] = "F" + xo;
      for (xo = 65; xo <= 90; xo++)
        (go[xo] = String.fromCharCode(xo + 32)),
          (mo[xo] = String.fromCharCode(xo));
      for (var So in go) mo.hasOwnProperty(So) || (mo[So] = go[So]);
      function Eo(e) {
        return (
          11 == e.nodeType ? (e.getSelection ? e : e.ownerDocument) : e
        ).getSelection();
      }
      function Mo(e, t) {
        return !!t && e.contains(1 != t.nodeType ? t.parentNode : t);
      }
      function Lo(e, t) {
        if (!t.anchorNode) return !1;
        try {
          return Mo(e, t.anchorNode);
        } catch (e) {
          return !1;
        }
      }
      function Ao(e) {
        return 3 == e.nodeType
          ? Vo(e, 0, e.nodeValue.length).getClientRects()
          : 1 == e.nodeType
          ? e.getClientRects()
          : [];
      }
      function Do(e, t, n, i) {
        return !!n && (Po(e, t, n, i, -1) || Po(e, t, n, i, 1));
      }
      function To(e) {
        for (var t = 0; ; t++) if (!(e = e.previousSibling)) return t;
      }
      function Po(e, t, n, i, r) {
        for (;;) {
          if (e == n && t == i) return !0;
          if (t == (r < 0 ? 0 : Oo(e))) {
            if ("DIV" == e.nodeName) return !1;
            var o = e.parentNode;
            if (!o || 1 != o.nodeType) return !1;
            (t = To(e) + (r < 0 ? 0 : 1)), (e = o);
          } else {
            if (1 != e.nodeType) return !1;
            if (
              1 == (e = e.childNodes[t + (r < 0 ? -1 : 0)]).nodeType &&
              "false" == e.contentEditable
            )
              return !1;
            t = r < 0 ? Oo(e) : 0;
          }
        }
      }
      function Oo(e) {
        return 3 == e.nodeType ? e.nodeValue.length : e.childNodes.length;
      }
      var Fo = { left: 0, right: 0, top: 0, bottom: 0 };
      function Io(e, t) {
        var n = t ? e.left : e.right;
        return { left: n, right: n, top: e.top, bottom: e.bottom };
      }
      function No(e) {
        return { left: 0, right: e.innerWidth, top: 0, bottom: e.innerHeight };
      }
      var Bo,
        Ro = (function () {
          function e() {
            (this.anchorNode = null),
              (this.anchorOffset = 0),
              (this.focusNode = null),
              (this.focusOffset = 0);
          }
          return (
            (e.prototype.eq = function (e) {
              return (
                this.anchorNode == e.anchorNode &&
                this.anchorOffset == e.anchorOffset &&
                this.focusNode == e.focusNode &&
                this.focusOffset == e.focusOffset
              );
            }),
            (e.prototype.setRange = function (e) {
              this.set(
                e.anchorNode,
                e.anchorOffset,
                e.focusNode,
                e.focusOffset
              );
            }),
            (e.prototype.set = function (e, t, n, i) {
              (this.anchorNode = e),
                (this.anchorOffset = t),
                (this.focusNode = n),
                (this.focusOffset = i);
            }),
            e
          );
        })(),
        zo = null;
      function Ho(e) {
        if (e.setActive) return e.setActive();
        if (zo) return e.focus(zo);
        for (
          var t = [], n = e;
          n && (t.push(n, n.scrollTop, n.scrollLeft), n != n.ownerDocument);
          n = n.parentNode
        );
        if (
          (e.focus(
            null == zo
              ? {
                  get preventScroll() {
                    return (zo = { preventScroll: !0 }), !0;
                  },
                }
              : void 0
          ),
          !zo)
        ) {
          zo = !1;
          for (var i = 0; i < t.length; ) {
            var r = t[i++],
              o = t[i++],
              s = t[i++];
            r.scrollTop != o && (r.scrollTop = o),
              r.scrollLeft != s && (r.scrollLeft = s);
          }
        }
      }
      function Vo(e, t, n) {
        void 0 === n && (n = t);
        var i = Bo || (Bo = document.createRange());
        return i.setEnd(e, n), i.setStart(e, t), i;
      }
      function qo(e, t, n) {
        var i = { key: t, code: t, keyCode: n, which: n, cancelable: !0 },
          r = new KeyboardEvent("keydown", i);
        (r.synthetic = !0), e.dispatchEvent(r);
        var o = new KeyboardEvent("keyup", i);
        return (
          (o.synthetic = !0),
          e.dispatchEvent(o),
          r.defaultPrevented || o.defaultPrevented
        );
      }
      function jo(e) {
        for (; e.attributes.length; ) e.removeAttributeNode(e.attributes[0]);
      }
      var Uo = (function () {
          function e(e, t, n) {
            void 0 === n && (n = !0),
              (this.node = e),
              (this.offset = t),
              (this.precise = n);
          }
          return (
            (e.before = function (t, n) {
              return new e(t.parentNode, To(t), n);
            }),
            (e.after = function (t, n) {
              return new e(t.parentNode, To(t) + 1, n);
            }),
            e
          );
        })(),
        Wo = [],
        _o = (function () {
          function e() {
            (this.parent = null), (this.dom = null), (this.dirty = 2);
          }
          return (
            Object.defineProperty(e.prototype, "editorView", {
              get: function () {
                if (!this.parent)
                  throw new Error("Accessing view in orphan content view");
                return this.parent.editorView;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "overrideDOMText", {
              get: function () {
                return null;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "posAtStart", {
              get: function () {
                return this.parent ? this.parent.posBefore(this) : 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "posAtEnd", {
              get: function () {
                return this.posAtStart + this.length;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.posBefore = function (e) {
              for (
                var t = this.posAtStart, n = 0, i = this.children;
                n < i.length;
                n++
              ) {
                var r = i[n];
                if (r == e) return t;
                t += r.length + r.breakAfter;
              }
              throw new RangeError("Invalid child in posBefore");
            }),
            (e.prototype.posAfter = function (e) {
              return this.posBefore(e) + e.length;
            }),
            (e.prototype.coordsAt = function (e, t) {
              return null;
            }),
            (e.prototype.sync = function (t) {
              if (2 & this.dirty) {
                for (
                  var n = this.dom, i = n.firstChild, r = 0, o = this.children;
                  r < o.length;
                  r++
                ) {
                  if ((c = o[r]).dirty) {
                    if (!c.dom && i) {
                      var s = e.get(i);
                      (s && (s.parent || s.constructor != c.constructor)) ||
                        c.reuseDOM(i);
                    }
                    c.sync(t), (c.dirty = 0);
                  }
                  if (
                    (t &&
                      !t.written &&
                      t.node == n &&
                      i != c.dom &&
                      (t.written = !0),
                    c.dom.parentNode == n)
                  ) {
                    for (; i && i != c.dom; ) i = Go(i);
                    i = c.dom.nextSibling;
                  } else n.insertBefore(c.dom, i);
                }
                for (i && t && t.node == n && (t.written = !0); i; ) i = Go(i);
              } else if (1 & this.dirty)
                for (var a = 0, l = this.children; a < l.length; a++) {
                  var c;
                  (c = l[a]).dirty && (c.sync(t), (c.dirty = 0));
                }
            }),
            (e.prototype.reuseDOM = function (e) {}),
            (e.prototype.localPosFromDOM = function (t, n) {
              var i;
              if (t == this.dom) i = this.dom.childNodes[n];
              else {
                for (var r = 0 == Oo(t) ? 0 : 0 == n ? -1 : 1; ; ) {
                  var o = t.parentNode;
                  if (o == this.dom) break;
                  0 == r &&
                    o.firstChild != o.lastChild &&
                    (r = t == o.firstChild ? -1 : 1),
                    (t = o);
                }
                i = r < 0 ? t : t.nextSibling;
              }
              if (i == this.dom.firstChild) return 0;
              for (; i && !e.get(i); ) i = i.nextSibling;
              if (!i) return this.length;
              for (var s = 0, a = 0; ; s++) {
                var l = this.children[s];
                if (l.dom == i) return a;
                a += l.length + l.breakAfter;
              }
            }),
            (e.prototype.domBoundsAround = function (e, t, n) {
              void 0 === n && (n = 0);
              for (
                var i = -1, r = -1, o = -1, s = -1, a = 0, l = n, c = n;
                a < this.children.length;
                a++
              ) {
                var u = this.children[a],
                  h = l + u.length;
                if (l < e && h > t) return u.domBoundsAround(e, t, l);
                if (
                  (h >= e && -1 == i && ((i = a), (r = l)),
                  l > t && u.dom.parentNode == this.dom)
                ) {
                  (o = a), (s = c);
                  break;
                }
                (c = h), (l = h + u.breakAfter);
              }
              return {
                from: r,
                to: s < 0 ? n + this.length : s,
                startDOM:
                  (i ? this.children[i - 1].dom.nextSibling : null) ||
                  this.dom.firstChild,
                endDOM:
                  o < this.children.length && o >= 0
                    ? this.children[o].dom
                    : null,
              };
            }),
            (e.prototype.markDirty = function (e) {
              void 0 === e && (e = !1),
                (this.dirty |= 2),
                this.markParentsDirty(e);
            }),
            (e.prototype.markParentsDirty = function (e) {
              for (var t = this.parent; t; t = t.parent) {
                if ((e && (t.dirty |= 2), 1 & t.dirty)) return;
                (t.dirty |= 1), (e = !1);
              }
            }),
            (e.prototype.setParent = function (e) {
              this.parent != e &&
                ((this.parent = e), this.dirty && this.markParentsDirty(!0));
            }),
            (e.prototype.setDOM = function (e) {
              this.dom && (this.dom.cmView = null),
                (this.dom = e),
                (e.cmView = this);
            }),
            Object.defineProperty(e.prototype, "rootView", {
              get: function () {
                for (var e = this; ; ) {
                  var t = e.parent;
                  if (!t) return e;
                  e = t;
                }
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.replaceChildren = function (e, t, n) {
              var i;
              void 0 === n && (n = Wo), this.markDirty();
              for (var r = e; r < t; r++) {
                var o = this.children[r];
                o.parent == this && o.destroy();
              }
              (i = this.children).splice.apply(i, P([e, t - e], n));
              for (r = 0; r < n.length; r++) n[r].setParent(this);
            }),
            (e.prototype.ignoreMutation = function (e) {
              return !1;
            }),
            (e.prototype.ignoreEvent = function (e) {
              return !1;
            }),
            (e.prototype.childCursor = function (e) {
              return (
                void 0 === e && (e = this.length),
                new Ko(this.children, e, this.children.length)
              );
            }),
            (e.prototype.childPos = function (e, t) {
              return void 0 === t && (t = 1), this.childCursor().findPos(e, t);
            }),
            (e.prototype.toString = function () {
              var e = this.constructor.name.replace("View", "");
              return (
                e +
                (this.children.length
                  ? "(" + this.children.join() + ")"
                  : this.length
                  ? "[" + ("Text" == e ? this.text : this.length) + "]"
                  : "") +
                (this.breakAfter ? "#" : "")
              );
            }),
            (e.get = function (e) {
              return e.cmView;
            }),
            Object.defineProperty(e.prototype, "isEditable", {
              get: function () {
                return !0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.merge = function (e, t, n, i, r, o) {
              return !1;
            }),
            (e.prototype.become = function (e) {
              return !1;
            }),
            (e.prototype.getSide = function () {
              return 0;
            }),
            (e.prototype.destroy = function () {
              this.parent = null;
            }),
            e
          );
        })();
      function Go(e) {
        var t = e.nextSibling;
        return e.parentNode.removeChild(e), t;
      }
      _o.prototype.breakAfter = 0;
      var Ko = (function () {
        function e(e, t, n) {
          (this.children = e), (this.pos = t), (this.i = n), (this.off = 0);
        }
        return (
          (e.prototype.findPos = function (e, t) {
            for (void 0 === t && (t = 1); ; ) {
              if (
                e > this.pos ||
                (e == this.pos &&
                  (t > 0 ||
                    0 == this.i ||
                    this.children[this.i - 1].breakAfter))
              )
                return (this.off = e - this.pos), this;
              var n = this.children[--this.i];
              this.pos -= n.length + n.breakAfter;
            }
          }),
          e
        );
      })();
      function $o(e, t, n, i, r, o, s, a, l) {
        var c = e.children,
          u = c.length ? c[t] : null,
          h = o.length ? o[o.length - 1] : null,
          p = h ? h.breakAfter : s;
        if (
          !(
            t == i &&
            u &&
            !s &&
            !p &&
            o.length < 2 &&
            u.merge(n, r, o.length ? h : null, 0 == n, a, l)
          )
        ) {
          if (i < c.length) {
            var d = c[i];
            d && r < d.length
              ? (t == i && ((d = d.split(r)), (r = 0)),
                !p && h && d.merge(0, r, h, !0, 0, l)
                  ? (o[o.length - 1] = d)
                  : (r && d.merge(0, r, null, !1, 0, l), o.push(d)))
              : (null == d ? void 0 : d.breakAfter) &&
                (h ? (h.breakAfter = 1) : (s = 1)),
              i++;
          }
          for (
            u &&
            ((u.breakAfter = s),
            n > 0 &&
              (!s && o.length && u.merge(n, u.length, o[0], !1, a, 0)
                ? (u.breakAfter = o.shift().breakAfter)
                : (n < u.length ||
                    (u.children.length &&
                      0 == u.children[u.children.length - 1].length)) &&
                  u.merge(n, u.length, null, !1, a, 0),
              t++));
            t < i && o.length;

          )
            if (c[i - 1].become(o[o.length - 1]))
              i--, o.pop(), (l = o.length ? 0 : a);
            else {
              if (!c[t].become(o[0])) break;
              t++, o.shift(), (a = o.length ? 0 : l);
            }
          !o.length &&
            t &&
            i < c.length &&
            !c[t - 1].breakAfter &&
            c[i].merge(0, 0, c[t - 1], !1, a, l) &&
            t--,
            (t < i || o.length) && e.replaceChildren(t, i, o);
        }
      }
      function Yo(e, t, n, i, r, o) {
        for (
          var s = e.childCursor(),
            a = s.findPos(n, 1),
            l = a.i,
            c = a.off,
            u = s.findPos(t, -1),
            h = u.i,
            p = u.off,
            d = t - n,
            f = 0,
            g = i;
          f < g.length;
          f++
        ) {
          d += g[f].length;
        }
        (e.length += d), $o(e, h, p, l, c, i, 0, r, o);
      }
      var Jo =
          "undefined" != typeof navigator
            ? navigator
            : { userAgent: "", vendor: "", platform: "" },
        Qo =
          "undefined" != typeof document
            ? document
            : { documentElement: { style: {} } },
        Xo = /Edge\/(\d+)/.exec(Jo.userAgent),
        Zo = /MSIE \d/.test(Jo.userAgent),
        es = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Jo.userAgent),
        ts = !!(Zo || es || Xo),
        ns = !ts && /gecko\/(\d+)/i.test(Jo.userAgent),
        is = !ts && /Chrome\/(\d+)/.exec(Jo.userAgent),
        rs = "webkitFontSmoothing" in Qo.documentElement.style,
        os = !ts && /Apple Computer/.test(Jo.vendor),
        ss = os && (/Mobile\/\w+/.test(Jo.userAgent) || Jo.maxTouchPoints > 2),
        as = {
          mac: ss || /Mac/.test(Jo.platform),
          windows: /Win/.test(Jo.platform),
          linux: /Linux|X11/.test(Jo.platform),
          ie: ts,
          ie_version: Zo ? Qo.documentMode || 6 : es ? +es[1] : Xo ? +Xo[1] : 0,
          gecko: ns,
          gecko_version: ns
            ? +(/Firefox\/(\d+)/.exec(Jo.userAgent) || [0, 0])[1]
            : 0,
          chrome: !!is,
          chrome_version: is ? +is[1] : 0,
          ios: ss,
          android: /Android\b/.test(Jo.userAgent),
          webkit: rs,
          safari: os,
          webkit_version: rs
            ? +(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent) || [0, 0])[1]
            : 0,
          tabSize:
            null != Qo.documentElement.style.tabSize
              ? "tab-size"
              : "-moz-tab-size",
        },
        ls = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (n.text = t), n;
          }
          return (
            M(t, e),
            Object.defineProperty(t.prototype, "length", {
              get: function () {
                return this.text.length;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (t.prototype.createDOM = function (e) {
              this.setDOM(e || document.createTextNode(this.text));
            }),
            (t.prototype.sync = function (e) {
              this.dom || this.createDOM(),
                this.dom.nodeValue != this.text &&
                  (e && e.node == this.dom && (e.written = !0),
                  (this.dom.nodeValue = this.text));
            }),
            (t.prototype.reuseDOM = function (e) {
              3 == e.nodeType && this.createDOM(e);
            }),
            (t.prototype.merge = function (e, n, i) {
              return (
                (!i ||
                  (i instanceof t &&
                    !(this.length - (n - e) + i.length > 256))) &&
                ((this.text =
                  this.text.slice(0, e) +
                  (i ? i.text : "") +
                  this.text.slice(n)),
                this.markDirty(),
                !0)
              );
            }),
            (t.prototype.split = function (e) {
              var n = new t(this.text.slice(e));
              return (this.text = this.text.slice(0, e)), this.markDirty(), n;
            }),
            (t.prototype.localPosFromDOM = function (e, t) {
              return e == this.dom ? t : t ? this.text.length : 0;
            }),
            (t.prototype.domAtPos = function (e) {
              return new Uo(this.dom, e);
            }),
            (t.prototype.domBoundsAround = function (e, t, n) {
              return {
                from: n,
                to: n + this.length,
                startDOM: this.dom,
                endDOM: this.dom.nextSibling,
              };
            }),
            (t.prototype.coordsAt = function (e, t) {
              return us(this.dom, e, t);
            }),
            t
          );
        })(_o),
        cs = (function (e) {
          function t(t, n, i) {
            void 0 === n && (n = []), void 0 === i && (i = 0);
            var r = e.call(this) || this;
            (r.mark = t), (r.children = n), (r.length = i);
            for (var o = 0, s = n; o < s.length; o++) {
              s[o].setParent(r);
            }
            return r;
          }
          return (
            M(t, e),
            (t.prototype.setAttrs = function (e) {
              if (
                (jo(e),
                this.mark.class && (e.className = this.mark.class),
                this.mark.attrs)
              )
                for (var t in this.mark.attrs)
                  e.setAttribute(t, this.mark.attrs[t]);
              return e;
            }),
            (t.prototype.reuseDOM = function (e) {
              e.nodeName == this.mark.tagName.toUpperCase() &&
                (this.setDOM(e), (this.dirty |= 6));
            }),
            (t.prototype.sync = function (t) {
              this.dom
                ? 4 & this.dirty && this.setAttrs(this.dom)
                : this.setDOM(
                    this.setAttrs(document.createElement(this.mark.tagName))
                  ),
                e.prototype.sync.call(this, t);
            }),
            (t.prototype.merge = function (e, n, i, r, o, s) {
              return (
                (!i ||
                  !(
                    !(i instanceof t && i.mark.eq(this.mark)) ||
                    (e && o <= 0) ||
                    (n < this.length && s <= 0)
                  )) &&
                (Yo(this, e, n, i ? i.children : [], o - 1, s - 1),
                this.markDirty(),
                !0)
              );
            }),
            (t.prototype.split = function (e) {
              for (
                var n = [], i = 0, r = -1, o = 0, s = 0, a = this.children;
                s < a.length;
                s++
              ) {
                var l = a[s],
                  c = i + l.length;
                c > e && n.push(i < e ? l.split(e - i) : l),
                  r < 0 && i >= e && (r = o),
                  (i = c),
                  o++;
              }
              var u = this.length - e;
              return (
                (this.length = e),
                r > -1 && ((this.children.length = r), this.markDirty()),
                new t(this.mark, n, u)
              );
            }),
            (t.prototype.domAtPos = function (e) {
              return gs(this.dom, this.children, e);
            }),
            (t.prototype.coordsAt = function (e, t) {
              return vs(this, e, t);
            }),
            t
          );
        })(_o);
      function us(e, t, n) {
        var i = e.nodeValue.length;
        t > i && (t = i);
        var r = t,
          o = t,
          s = 0;
        (0 == t && n < 0) || (t == i && n >= 0)
          ? as.chrome || as.gecko || (t ? (r--, (s = 1)) : (o++, (s = -1)))
          : n < 0
          ? r--
          : o++;
        var a = Vo(e, r, o).getClientRects();
        if (!a.length) return Fo;
        var l = a[(s ? s < 0 : n >= 0) ? 0 : a.length - 1];
        return (
          as.safari &&
            !s &&
            0 == l.width &&
            (l =
              Array.prototype.find.call(a, function (e) {
                return e.width;
              }) || l),
          s ? Io(l, s < 0) : l || null
        );
      }
      var hs = (function (e) {
          function t(t, n, i) {
            var r = e.call(this) || this;
            return (
              (r.widget = t),
              (r.length = n),
              (r.side = i),
              (r.prevWidget = null),
              r
            );
          }
          return (
            M(t, e),
            (t.create = function (e, n, i) {
              return new (e.customView || t)(e, n, i);
            }),
            (t.prototype.split = function (e) {
              var n = t.create(this.widget, this.length - e, this.side);
              return (this.length -= e), n;
            }),
            (t.prototype.sync = function () {
              (this.dom && this.widget.updateDOM(this.dom)) ||
                (this.dom &&
                  this.prevWidget &&
                  this.prevWidget.destroy(this.dom),
                (this.prevWidget = null),
                this.setDOM(this.widget.toDOM(this.editorView)),
                (this.dom.contentEditable = "false"));
            }),
            (t.prototype.getSide = function () {
              return this.side;
            }),
            (t.prototype.merge = function (e, n, i, r, o, s) {
              return (
                !(
                  i &&
                  (!(i instanceof t && this.widget.compare(i.widget)) ||
                    (e > 0 && o <= 0) ||
                    (n < this.length && s <= 0))
                ) &&
                ((this.length = e + (i ? i.length : 0) + (this.length - n)), !0)
              );
            }),
            (t.prototype.become = function (e) {
              return (
                e.length == this.length &&
                e instanceof t &&
                e.side == this.side &&
                this.widget.constructor == e.widget.constructor &&
                (this.widget.eq(e.widget) || this.markDirty(!0),
                this.dom && !this.prevWidget && (this.prevWidget = this.widget),
                (this.widget = e.widget),
                !0)
              );
            }),
            (t.prototype.ignoreMutation = function () {
              return !0;
            }),
            (t.prototype.ignoreEvent = function (e) {
              return this.widget.ignoreEvent(e);
            }),
            Object.defineProperty(t.prototype, "overrideDOMText", {
              get: function () {
                if (0 == this.length) return Fi.empty;
                for (var e = this; e.parent; ) e = e.parent;
                var t = e.editorView,
                  n = t && t.state.doc,
                  i = this.posAtStart;
                return n ? n.slice(i, i + this.length) : Fi.empty;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (t.prototype.domAtPos = function (e) {
              return 0 == e
                ? Uo.before(this.dom)
                : Uo.after(this.dom, e == this.length);
            }),
            (t.prototype.domBoundsAround = function () {
              return null;
            }),
            (t.prototype.coordsAt = function (e, t) {
              var n = this.dom.getClientRects(),
                i = null;
              if (!n.length) return Fo;
              for (
                var r = e > 0 ? n.length - 1 : 0;
                (i = n[r]),
                  !(e > 0 ? 0 == r : r == n.length - 1 || i.top < i.bottom);
                r += e > 0 ? -1 : 1
              );
              return (0 == e && t > 0) || (e == this.length && t <= 0)
                ? i
                : Io(i, 0 == e);
            }),
            Object.defineProperty(t.prototype, "isEditable", {
              get: function () {
                return !1;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (t.prototype.destroy = function () {
              e.prototype.destroy.call(this),
                this.dom && this.widget.destroy(this.dom);
            }),
            t
          );
        })(_o),
        ps = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.domAtPos = function (e) {
              var t = this.widget.topView;
              return t
                ? ds(e, t, this.widget.text)
                : new Uo(
                    this.widget.text,
                    Math.min(e, this.widget.text.nodeValue.length)
                  );
            }),
            (t.prototype.sync = function () {
              this.setDOM(this.widget.toDOM());
            }),
            (t.prototype.localPosFromDOM = function (e, t) {
              return t
                ? 3 == e.nodeType
                  ? Math.min(t, this.length)
                  : this.length
                : 0;
            }),
            (t.prototype.ignoreMutation = function () {
              return !1;
            }),
            Object.defineProperty(t.prototype, "overrideDOMText", {
              get: function () {
                return null;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (t.prototype.coordsAt = function (e, t) {
              return us(this.widget.text, e, t);
            }),
            (t.prototype.destroy = function () {
              var t;
              e.prototype.destroy.call(this),
                null === (t = this.widget.topView) ||
                  void 0 === t ||
                  t.destroy();
            }),
            Object.defineProperty(t.prototype, "isEditable", {
              get: function () {
                return !0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            t
          );
        })(hs);
      function ds(e, t, n) {
        if (t instanceof cs) {
          for (var i = 0, r = t.children; i < r.length; i++) {
            var o = r[i],
              s = o.dom == n || o.dom.contains(n.parentNode),
              a = s ? n.nodeValue.length : o.length;
            if (e < a || (e == a && o.getSide() <= 0))
              return s ? ds(e, o, n) : o.domAtPos(e);
            e -= a;
          }
          return t.domAtPos(t.length);
        }
        return t.dom == n
          ? new Uo(n, Math.min(e, n.nodeValue.length))
          : t.domAtPos(e);
      }
      var fs = (function (e) {
        function t(t) {
          var n = e.call(this) || this;
          return (n.side = t), n;
        }
        return (
          M(t, e),
          Object.defineProperty(t.prototype, "length", {
            get: function () {
              return 0;
            },
            enumerable: !1,
            configurable: !0,
          }),
          (t.prototype.merge = function () {
            return !1;
          }),
          (t.prototype.become = function (e) {
            return e instanceof t && e.side == this.side;
          }),
          (t.prototype.split = function () {
            return new t(this.side);
          }),
          (t.prototype.sync = function () {
            if (!this.dom) {
              var e = document.createElement("img");
              (e.className = "cm-widgetBuffer"), this.setDOM(e);
            }
          }),
          (t.prototype.getSide = function () {
            return this.side;
          }),
          (t.prototype.domAtPos = function (e) {
            return Uo.before(this.dom);
          }),
          (t.prototype.localPosFromDOM = function () {
            return 0;
          }),
          (t.prototype.domBoundsAround = function () {
            return null;
          }),
          (t.prototype.coordsAt = function (e) {
            return this.dom.getBoundingClientRect();
          }),
          Object.defineProperty(t.prototype, "overrideDOMText", {
            get: function () {
              return Fi.empty;
            },
            enumerable: !1,
            configurable: !0,
          }),
          t
        );
      })(_o);
      function gs(e, t, n) {
        for (var i = 0, r = 0; i < t.length; i++) {
          var o = t[i],
            s = r + o.length;
          if (!(s == r && o.getSide() <= 0)) {
            if (n > r && n < s && o.dom.parentNode == e)
              return o.domAtPos(n - r);
            if (n <= r) break;
            r = s;
          }
        }
        for (; i > 0; i--) {
          var a = t[i - 1].dom;
          if (a.parentNode == e) return Uo.after(a);
        }
        return new Uo(e, 0);
      }
      function ms(e, t, n) {
        var i,
          r = e.children;
        n > 0 &&
        t instanceof cs &&
        r.length &&
        (i = r[r.length - 1]) instanceof cs &&
        i.mark.eq(t.mark)
          ? ms(i, t.children[0], n - 1)
          : (r.push(t), t.setParent(e)),
          (e.length += t.length);
      }
      function vs(e, t, n) {
        for (var i = 0, r = 0; r < e.children.length; r++) {
          var o = e.children[r],
            s = i + o.length,
            a = void 0;
          if (
            (n <= 0 || s == e.length || o.getSide() > 0 ? s >= t : s > t) &&
            (t < s ||
              r + 1 == e.children.length ||
              (a = e.children[r + 1]).length ||
              a.getSide() > 0)
          ) {
            var l = 0;
            if (s == i) {
              if (o.getSide() <= 0) continue;
              l = n = -o.getSide();
            }
            var c = o.coordsAt(Math.max(0, t - i), n);
            return l && c ? Io(c, n < 0) : c;
          }
          i = s;
        }
        var u = e.dom.lastChild;
        if (!u) return e.dom.getBoundingClientRect();
        var h = Ao(u);
        return h[h.length - 1] || null;
      }
      function ys(e, t) {
        for (var n in e)
          "class" == n && t.class
            ? (t.class += " " + e.class)
            : "style" == n && t.style
            ? (t.style += ";" + e.style)
            : (t[n] = e[n]);
        return t;
      }
      function bs(e, t) {
        if (e == t) return !0;
        if (!e || !t) return !1;
        var n = Object.keys(e),
          i = Object.keys(t);
        if (n.length != i.length) return !1;
        for (var r = 0, o = n; r < o.length; r++) {
          var s = o[r];
          if (-1 == i.indexOf(s) || e[s] !== t[s]) return !1;
        }
        return !0;
      }
      function ws(e, t, n) {
        if (t) for (var i in t) (n && i in n) || e.removeAttribute(i);
        if (n) for (var i in n) (t && t[i] == n[i]) || e.setAttribute(i, n[i]);
      }
      ls.prototype.children =
        hs.prototype.children =
        fs.prototype.children =
          Wo;
      var ks = (function () {
          function e() {}
          return (
            (e.prototype.eq = function (e) {
              return !1;
            }),
            (e.prototype.updateDOM = function (e) {
              return !1;
            }),
            (e.prototype.compare = function (e) {
              return (
                this == e || (this.constructor == e.constructor && this.eq(e))
              );
            }),
            Object.defineProperty(e.prototype, "estimatedHeight", {
              get: function () {
                return -1;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.ignoreEvent = function (e) {
              return !0;
            }),
            Object.defineProperty(e.prototype, "customView", {
              get: function () {
                return null;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.destroy = function (e) {}),
            e
          );
        })(),
        Cs = (function (e) {
          return (
            (e[(e.Text = 0)] = "Text"),
            (e[(e.WidgetBefore = 1)] = "WidgetBefore"),
            (e[(e.WidgetAfter = 2)] = "WidgetAfter"),
            (e[(e.WidgetRange = 3)] = "WidgetRange"),
            e
          );
        })(Cs || (Cs = {})),
        xs = (function (e) {
          function t(t, n, i, r) {
            var o = e.call(this) || this;
            return (
              (o.startSide = t),
              (o.endSide = n),
              (o.widget = i),
              (o.spec = r),
              o
            );
          }
          return (
            M(t, e),
            Object.defineProperty(t.prototype, "heightRelevant", {
              get: function () {
                return !1;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (t.mark = function (e) {
              return new Ss(e);
            }),
            (t.widget = function (e) {
              var t = e.side || 0,
                n = !!e.block;
              return new Ms(
                e,
                (t += n ? (t > 0 ? 4e8 : -5e8) : t > 0 ? 1e8 : -1e8),
                t,
                n,
                e.widget || null,
                !1
              );
            }),
            (t.replace = function (e) {
              var t,
                n,
                i = !!e.block;
              if (e.isBlockGap) (t = -4e8), (n = 3e8);
              else {
                var r = Ls(e, i);
                (t = (r.start ? (i ? -3e8 : -1) : 5e8) - 1),
                  (n = 1 + (r.end ? (i ? 2e8 : 1) : -6e8));
              }
              return new Ms(e, t, n, i, e.widget || null, !0);
            }),
            (t.line = function (e) {
              return new Es(e);
            }),
            (t.set = function (e, t) {
              return void 0 === t && (t = !1), no.of(e, t);
            }),
            (t.prototype.hasHeight = function () {
              return !!this.widget && this.widget.estimatedHeight > -1;
            }),
            t
          );
        })(Xr);
      xs.none = no.empty;
      var Ss = (function (e) {
        function t(t) {
          var n = this,
            i = Ls(t),
            r = i.start,
            o = i.end;
          return (
            ((n =
              e.call(this, r ? -1 : 5e8, o ? 1 : -6e8, null, t) ||
              this).tagName = t.tagName || "span"),
            (n.class = t.class || ""),
            (n.attrs = t.attributes || null),
            n
          );
        }
        return (
          M(t, e),
          (t.prototype.eq = function (e) {
            return (
              this == e ||
              (e instanceof t &&
                this.tagName == e.tagName &&
                this.class == e.class &&
                bs(this.attrs, e.attrs))
            );
          }),
          (t.prototype.range = function (t, n) {
            if ((void 0 === n && (n = t), t >= n))
              throw new RangeError("Mark decorations may not be empty");
            return e.prototype.range.call(this, t, n);
          }),
          t
        );
      })(xs);
      Ss.prototype.point = !1;
      var Es = (function (e) {
        function t(t) {
          return e.call(this, -2e8, -2e8, null, t) || this;
        }
        return (
          M(t, e),
          (t.prototype.eq = function (e) {
            return (
              e instanceof t && bs(this.spec.attributes, e.spec.attributes)
            );
          }),
          (t.prototype.range = function (t, n) {
            if ((void 0 === n && (n = t), n != t))
              throw new RangeError(
                "Line decoration ranges must be zero-length"
              );
            return e.prototype.range.call(this, t, n);
          }),
          t
        );
      })(xs);
      (Es.prototype.mapMode = Ui.TrackBefore), (Es.prototype.point = !0);
      var Ms = (function (e) {
        function t(t, n, i, r, o, s) {
          var a = e.call(this, n, i, o, t) || this;
          return (
            (a.block = r),
            (a.isReplace = s),
            (a.mapMode = r
              ? n <= 0
                ? Ui.TrackBefore
                : Ui.TrackAfter
              : Ui.TrackDel),
            a
          );
        }
        return (
          M(t, e),
          Object.defineProperty(t.prototype, "type", {
            get: function () {
              return this.startSide < this.endSide
                ? Cs.WidgetRange
                : this.startSide <= 0
                ? Cs.WidgetBefore
                : Cs.WidgetAfter;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(t.prototype, "heightRelevant", {
            get: function () {
              return (
                this.block ||
                (!!this.widget && this.widget.estimatedHeight >= 5)
              );
            },
            enumerable: !1,
            configurable: !0,
          }),
          (t.prototype.eq = function (e) {
            return (
              e instanceof t &&
              ((n = this.widget),
              (i = e.widget),
              n == i || !!(n && i && n.compare(i))) &&
              this.block == e.block &&
              this.startSide == e.startSide &&
              this.endSide == e.endSide
            );
            var n, i;
          }),
          (t.prototype.range = function (t, n) {
            if (
              (void 0 === n && (n = t),
              this.isReplace &&
                (t > n || (t == n && this.startSide > 0 && this.endSide <= 0)))
            )
              throw new RangeError("Invalid range for replacement decoration");
            if (!this.isReplace && n != t)
              throw new RangeError(
                "Widget decorations can only have zero-length ranges"
              );
            return e.prototype.range.call(this, t, n);
          }),
          t
        );
      })(xs);
      function Ls(e, t) {
        void 0 === t && (t = !1);
        var n = e.inclusiveStart,
          i = e.inclusiveEnd;
        return (
          null == n && (n = e.inclusive),
          null == i && (i = e.inclusive),
          { start: null != n ? n : t, end: null != i ? i : t }
        );
      }
      function As(e, t, n, i) {
        void 0 === i && (i = 0);
        var r = n.length - 1;
        r >= 0 && n[r] + i >= e ? (n[r] = Math.max(n[r], t)) : n.push(e, t);
      }
      Ms.prototype.point = !0;
      var Ds = (function (e) {
          function t() {
            var t = e.apply(this, arguments) || this;
            return (
              (t.children = []),
              (t.length = 0),
              (t.prevAttrs = void 0),
              (t.attrs = null),
              (t.breakAfter = 0),
              t
            );
          }
          return (
            M(t, e),
            (t.prototype.merge = function (e, n, i, r, o, s) {
              if (i) {
                if (!(i instanceof t)) return !1;
                this.dom || i.transferDOM(this);
              }
              return (
                r && this.setDeco(i ? i.attrs : null),
                Yo(this, e, n, i ? i.children : [], o, s),
                !0
              );
            }),
            (t.prototype.split = function (e) {
              var n = new t();
              if (((n.breakAfter = this.breakAfter), 0 == this.length))
                return n;
              var i = this.childPos(e),
                r = i.i,
                o = i.off;
              o &&
                (n.append(this.children[r].split(o), 0),
                this.children[r].merge(
                  o,
                  this.children[r].length,
                  null,
                  !1,
                  0,
                  0
                ),
                r++);
              for (var s = r; s < this.children.length; s++)
                n.append(this.children[s], 0);
              for (; r > 0 && 0 == this.children[r - 1].length; )
                this.children[--r].destroy();
              return (
                (this.children.length = r),
                this.markDirty(),
                (this.length = e),
                n
              );
            }),
            (t.prototype.transferDOM = function (e) {
              this.dom &&
                (e.setDOM(this.dom),
                (e.prevAttrs =
                  void 0 === this.prevAttrs ? this.attrs : this.prevAttrs),
                (this.prevAttrs = void 0),
                (this.dom = null));
            }),
            (t.prototype.setDeco = function (e) {
              bs(this.attrs, e) ||
                (this.dom && ((this.prevAttrs = this.attrs), this.markDirty()),
                (this.attrs = e));
            }),
            (t.prototype.append = function (e, t) {
              ms(this, e, t);
            }),
            (t.prototype.addLineDeco = function (e) {
              var t = e.spec.attributes,
                n = e.spec.class;
              t && (this.attrs = ys(t, this.attrs || {})),
                n && (this.attrs = ys({ class: n }, this.attrs || {}));
            }),
            (t.prototype.domAtPos = function (e) {
              return gs(this.dom, this.children, e);
            }),
            (t.prototype.reuseDOM = function (e) {
              "DIV" == e.nodeName && (this.setDOM(e), (this.dirty |= 6));
            }),
            (t.prototype.sync = function (t) {
              var n;
              this.dom
                ? 4 & this.dirty &&
                  (jo(this.dom),
                  (this.dom.className = "cm-line"),
                  (this.prevAttrs = this.attrs ? null : void 0))
                : (this.setDOM(document.createElement("div")),
                  (this.dom.className = "cm-line"),
                  (this.prevAttrs = this.attrs ? null : void 0)),
                void 0 !== this.prevAttrs &&
                  (ws(this.dom, this.prevAttrs, this.attrs),
                  this.dom.classList.add("cm-line"),
                  (this.prevAttrs = void 0)),
                e.prototype.sync.call(this, t);
              for (var i = this.dom.lastChild; i && _o.get(i) instanceof cs; )
                i = i.lastChild;
              if (
                !i ||
                ("BR" != i.nodeName &&
                  0 ==
                    (null === (n = _o.get(i)) || void 0 === n
                      ? void 0
                      : n.isEditable) &&
                  (!as.ios ||
                    !this.children.some(function (e) {
                      return e instanceof ls;
                    })))
              ) {
                var r = document.createElement("BR");
                (r.cmIgnore = !0), this.dom.appendChild(r);
              }
            }),
            (t.prototype.measureTextSize = function () {
              if (0 == this.children.length || this.length > 20) return null;
              for (var e = 0, t = 0, n = this.children; t < n.length; t++) {
                var i = n[t];
                if (!(i instanceof ls)) return null;
                var r = Ao(i.dom);
                if (1 != r.length) return null;
                e += r[0].width;
              }
              return {
                lineHeight: this.dom.getBoundingClientRect().height,
                charWidth: e / this.length,
              };
            }),
            (t.prototype.coordsAt = function (e, t) {
              return vs(this, e, t);
            }),
            (t.prototype.become = function (e) {
              return !1;
            }),
            Object.defineProperty(t.prototype, "type", {
              get: function () {
                return Cs.Text;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (t.find = function (e, n) {
              for (var i = 0, r = 0; i < e.children.length; i++) {
                var o = e.children[i],
                  s = r + o.length;
                if (s >= n) {
                  if (o instanceof t) return o;
                  if (s > n) break;
                }
                r = s + o.breakAfter;
              }
              return null;
            }),
            t
          );
        })(_o),
        Ts = (function (e) {
          function t(t, n, i) {
            var r = e.call(this) || this;
            return (
              (r.widget = t),
              (r.length = n),
              (r.type = i),
              (r.breakAfter = 0),
              (r.prevWidget = null),
              r
            );
          }
          return (
            M(t, e),
            (t.prototype.merge = function (e, n, i, r, o, s) {
              return (
                !(
                  i &&
                  (!(i instanceof t && this.widget.compare(i.widget)) ||
                    (e > 0 && o <= 0) ||
                    (n < this.length && s <= 0))
                ) &&
                ((this.length = e + (i ? i.length : 0) + (this.length - n)), !0)
              );
            }),
            (t.prototype.domAtPos = function (e) {
              return 0 == e
                ? Uo.before(this.dom)
                : Uo.after(this.dom, e == this.length);
            }),
            (t.prototype.split = function (e) {
              var n = this.length - e;
              this.length = e;
              var i = new t(this.widget, n, this.type);
              return (i.breakAfter = this.breakAfter), i;
            }),
            Object.defineProperty(t.prototype, "children", {
              get: function () {
                return Wo;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (t.prototype.sync = function () {
              (this.dom && this.widget.updateDOM(this.dom)) ||
                (this.dom &&
                  this.prevWidget &&
                  this.prevWidget.destroy(this.dom),
                (this.prevWidget = null),
                this.setDOM(this.widget.toDOM(this.editorView)),
                (this.dom.contentEditable = "false"));
            }),
            Object.defineProperty(t.prototype, "overrideDOMText", {
              get: function () {
                return this.parent
                  ? this.parent.view.state.doc.slice(
                      this.posAtStart,
                      this.posAtEnd
                    )
                  : Fi.empty;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (t.prototype.domBoundsAround = function () {
              return null;
            }),
            (t.prototype.become = function (e) {
              return (
                e instanceof t &&
                e.type == this.type &&
                e.widget.constructor == this.widget.constructor &&
                (e.widget.eq(this.widget) || this.markDirty(!0),
                this.dom && !this.prevWidget && (this.prevWidget = this.widget),
                (this.widget = e.widget),
                (this.length = e.length),
                (this.breakAfter = e.breakAfter),
                !0)
              );
            }),
            (t.prototype.ignoreMutation = function () {
              return !0;
            }),
            (t.prototype.ignoreEvent = function (e) {
              return this.widget.ignoreEvent(e);
            }),
            (t.prototype.destroy = function () {
              e.prototype.destroy.call(this),
                this.dom && this.widget.destroy(this.dom);
            }),
            t
          );
        })(_o),
        Ps = (function () {
          function e(e, t, n, i) {
            (this.doc = e),
              (this.pos = t),
              (this.end = n),
              (this.disallowBlockEffectsBelow = i),
              (this.content = []),
              (this.curLine = null),
              (this.breakAtStart = 0),
              (this.pendingBuffer = 0),
              (this.atCursorPos = !0),
              (this.openStart = -1),
              (this.openEnd = -1),
              (this.text = ""),
              (this.textOff = 0),
              (this.cursor = e.iter()),
              (this.skip = t);
          }
          return (
            (e.prototype.posCovered = function () {
              if (0 == this.content.length)
                return (
                  !this.breakAtStart &&
                  this.doc.lineAt(this.pos).from != this.pos
                );
              var e = this.content[this.content.length - 1];
              return !(
                e.breakAfter ||
                (e instanceof Ts && e.type == Cs.WidgetBefore)
              );
            }),
            (e.prototype.getLine = function () {
              return (
                this.curLine ||
                  (this.content.push((this.curLine = new Ds())),
                  (this.atCursorPos = !0)),
                this.curLine
              );
            }),
            (e.prototype.flushBuffer = function (e) {
              this.pendingBuffer &&
                (this.curLine.append(Os(new fs(-1), e), e.length),
                (this.pendingBuffer = 0));
            }),
            (e.prototype.addBlockWidget = function (e) {
              this.flushBuffer([]), (this.curLine = null), this.content.push(e);
            }),
            (e.prototype.finish = function (e) {
              e ? (this.pendingBuffer = 0) : this.flushBuffer([]),
                this.posCovered() || this.getLine();
            }),
            (e.prototype.buildText = function (e, t, n) {
              for (; e > 0; ) {
                if (this.textOff == this.text.length) {
                  var i = this.cursor.next(this.skip),
                    r = i.value,
                    o = i.lineBreak,
                    s = i.done;
                  if (((this.skip = 0), s))
                    throw new Error(
                      "Ran out of text content when drawing inline views"
                    );
                  if (o) {
                    this.posCovered() || this.getLine(),
                      this.content.length
                        ? (this.content[this.content.length - 1].breakAfter = 1)
                        : (this.breakAtStart = 1),
                      this.flushBuffer([]),
                      (this.curLine = null),
                      e--;
                    continue;
                  }
                  (this.text = r), (this.textOff = 0);
                }
                var a = Math.min(this.text.length - this.textOff, e, 512);
                this.flushBuffer(t.slice(0, n)),
                  this.getLine().append(
                    Os(
                      new ls(this.text.slice(this.textOff, this.textOff + a)),
                      t
                    ),
                    n
                  ),
                  (this.atCursorPos = !0),
                  (this.textOff += a),
                  (e -= a),
                  (n = 0);
              }
            }),
            (e.prototype.span = function (e, t, n, i) {
              this.buildText(t - e, n, i),
                (this.pos = t),
                this.openStart < 0 && (this.openStart = i);
            }),
            (e.prototype.point = function (e, t, n, i, r) {
              var o = t - e;
              if (n instanceof Ms)
                if (n.block) {
                  var s = n.type;
                  s != Cs.WidgetAfter || this.posCovered() || this.getLine(),
                    this.addBlockWidget(
                      new Ts(n.widget || new Fs("div"), o, s)
                    );
                } else {
                  var a = hs.create(n.widget || new Fs("span"), o, n.startSide),
                    l =
                      this.atCursorPos &&
                      !a.isEditable &&
                      r <= i.length &&
                      (e < t || n.startSide > 0),
                    c = !a.isEditable && (e < t || n.startSide <= 0),
                    u = this.getLine();
                  2 != this.pendingBuffer || l || (this.pendingBuffer = 0),
                    this.flushBuffer(i),
                    l &&
                      (u.append(Os(new fs(1), i), r),
                      (r = i.length + Math.max(0, r - i.length))),
                    u.append(Os(a, i), r),
                    (this.atCursorPos = c),
                    (this.pendingBuffer = c ? (e < t ? 1 : 2) : 0);
                }
              else
                this.doc.lineAt(this.pos).from == this.pos &&
                  this.getLine().addLineDeco(n);
              o &&
                (this.textOff + o <= this.text.length
                  ? (this.textOff += o)
                  : ((this.skip += o - (this.text.length - this.textOff)),
                    (this.text = ""),
                    (this.textOff = 0)),
                (this.pos = t)),
                this.openStart < 0 && (this.openStart = r);
            }),
            (e.prototype.filterPoint = function (e, t, n, i) {
              if (i < this.disallowBlockEffectsBelow && n instanceof Ms) {
                if (n.block)
                  throw new RangeError(
                    "Block decorations may not be specified via plugins"
                  );
                if (t > this.doc.lineAt(this.pos).to)
                  throw new RangeError(
                    "Decorations that replace line breaks may not be specified via plugins"
                  );
              }
              return !0;
            }),
            (e.build = function (t, n, i, r, o) {
              var s = new e(t, n, i, o);
              return (
                (s.openEnd = no.spans(r, n, i, s)),
                s.openStart < 0 && (s.openStart = s.openEnd),
                s.finish(s.openEnd),
                s
              );
            }),
            e
          );
        })();
      function Os(e, t) {
        for (var n = 0, i = t; n < i.length; n++) {
          var r = i[n];
          e = new cs(r, [e], e.length);
        }
        return e;
      }
      var Fs = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (n.tag = t), n;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return e.tag == this.tag;
            }),
            (t.prototype.toDOM = function () {
              return document.createElement(this.tag);
            }),
            (t.prototype.updateDOM = function (e) {
              return e.nodeName.toLowerCase() == this.tag;
            }),
            t
          );
        })(ks),
        Is = [],
        Ns = ir.define(),
        Bs = ir.define(),
        Rs = ir.define(),
        zs = ir.define(),
        Hs = ir.define(),
        Vs = ir.define(),
        qs = Or.define({
          map: function (e, t) {
            return e.map(t);
          },
        }),
        js = Or.define({
          map: function (e, t) {
            return e.map(t);
          },
        }),
        Us = (function () {
          function e(e, t, n, i, r) {
            void 0 === t && (t = "nearest"),
              void 0 === n && (n = "nearest"),
              void 0 === i && (i = 5),
              void 0 === r && (r = 5),
              (this.range = e),
              (this.y = t),
              (this.x = n),
              (this.yMargin = i),
              (this.xMargin = r);
          }
          return (
            (e.prototype.map = function (t) {
              return t.empty
                ? this
                : new e(
                    this.range.map(t),
                    this.y,
                    this.x,
                    this.yMargin,
                    this.xMargin
                  );
            }),
            e
          );
        })(),
        Ws = Or.define({
          map: function (e, t) {
            return e.map(t);
          },
        });
      function _s(e, t, n) {
        var i = e.facet(zs);
        i.length
          ? i[0](t)
          : window.onerror
          ? window.onerror(String(t), n, void 0, void 0, t)
          : n
          ? console.error(n + ":", t)
          : console.error(t);
      }
      var Gs = ir.define({
          combine: function (e) {
            return !e.length || e[0];
          },
        }),
        Ks = function (e, t) {
          (this.field = e), (this.get = t);
        },
        $s = (function () {
          function e() {}
          return (
            (e.prototype.from = function (e) {
              return new Ks(this, e);
            }),
            (e.define = function () {
              return new e();
            }),
            e
          );
        })();
      ($s.decorations = $s.define()),
        ($s.atomicRanges = $s.define()),
        ($s.scrollMargins = $s.define());
      var Ys = 0,
        Js = ir.define(),
        Qs = (function () {
          function e(e, t, n) {
            (this.id = e),
              (this.create = t),
              (this.fields = n),
              (this.extension = Js.of(this));
          }
          return (
            (e.define = function (t, n) {
              var i = n || {},
                r = i.eventHandlers,
                o = i.provide,
                s = i.decorations,
                a = [];
              if (o)
                for (
                  var l = 0, c = Array.isArray(o) ? o : [o];
                  l < c.length;
                  l++
                ) {
                  var u = c[l];
                  a.push(u);
                }
              return (
                r &&
                  a.push(
                    Xs.from(function (e) {
                      return { plugin: e, handlers: r };
                    })
                  ),
                s && a.push($s.decorations.from(s)),
                new e(Ys++, t, a)
              );
            }),
            (e.fromClass = function (t, n) {
              return e.define(function (e) {
                return new t(e);
              }, n);
            }),
            e
          );
        })(),
        Xs = $s.define(),
        Zs = (function () {
          function e(e) {
            (this.spec = e), (this.mustUpdate = null), (this.value = null);
          }
          return (
            (e.prototype.takeField = function (e, t) {
              if (this.spec)
                for (var n = 0, i = this.spec.fields; n < i.length; n++) {
                  var r = i[n],
                    o = r.field,
                    s = r.get;
                  o == e && t.push(s(this.value));
                }
            }),
            (e.prototype.update = function (e) {
              if (this.value) {
                if (this.mustUpdate) {
                  var t = this.mustUpdate;
                  if (((this.mustUpdate = null), this.value.update))
                    try {
                      this.value.update(t);
                    } catch (e) {
                      if (
                        (_s(t.state, e, "CodeMirror plugin crashed"),
                        this.value.destroy)
                      )
                        try {
                          this.value.destroy();
                        } catch (e) {}
                      this.deactivate();
                    }
                }
              } else if (this.spec)
                try {
                  this.value = this.spec.create(e);
                } catch (t) {
                  _s(e.state, t, "CodeMirror plugin crashed"),
                    this.deactivate();
                }
              return this;
            }),
            (e.prototype.destroy = function (e) {
              var t;
              if (
                null === (t = this.value) || void 0 === t ? void 0 : t.destroy
              )
                try {
                  this.value.destroy();
                } catch (t) {
                  _s(e.state, t, "CodeMirror plugin crashed");
                }
            }),
            (e.prototype.deactivate = function () {
              this.spec = this.value = null;
            }),
            e
          );
        })(),
        ea = ir.define(),
        ta = ir.define(),
        na = ir.define(),
        ia = ir.define(),
        ra = (function () {
          function e(e, t, n, i) {
            (this.fromA = e), (this.toA = t), (this.fromB = n), (this.toB = i);
          }
          return (
            (e.prototype.join = function (t) {
              return new e(
                Math.min(this.fromA, t.fromA),
                Math.max(this.toA, t.toA),
                Math.min(this.fromB, t.fromB),
                Math.max(this.toB, t.toB)
              );
            }),
            (e.prototype.addToSet = function (e) {
              for (var t = e.length, n = this; t > 0; t--) {
                var i = e[t - 1];
                if (!(i.fromA > n.toA)) {
                  if (i.toA < n.fromA) break;
                  (n = n.join(i)), e.splice(t - 1, 1);
                }
              }
              return e.splice(t, 0, n), e;
            }),
            (e.extendWithRanges = function (t, n) {
              if (0 == n.length) return t;
              for (var i = [], r = 0, o = 0, s = 0, a = 0; ; r++) {
                for (
                  var l = r == t.length ? null : t[r],
                    c = s - a,
                    u = l ? l.fromB : 1e9;
                  o < n.length && n[o] < u;

                ) {
                  var h = n[o],
                    p = n[o + 1],
                    d = Math.max(a, h),
                    f = Math.min(u, p);
                  if ((d <= f && new e(d + c, f + c, d, f).addToSet(i), p > u))
                    break;
                  o += 2;
                }
                if (!l) return i;
                new e(l.fromA, l.toA, l.fromB, l.toB).addToSet(i),
                  (s = l.toA),
                  (a = l.toB);
              }
            }),
            e
          );
        })(),
        oa = (function () {
          function e(e, t, n) {
            void 0 === n && (n = Is),
              (this.view = e),
              (this.state = t),
              (this.transactions = n),
              (this.flags = 0),
              (this.startState = e.state),
              (this.changes = _i.empty(this.startState.doc.length));
            for (var i = 0, r = n; i < r.length; i++) {
              var o = r[i];
              this.changes = this.changes.compose(o.changes);
            }
            var s = [];
            this.changes.iterChangedRanges(function (e, t, n, i) {
              return s.push(new ra(e, t, n, i));
            }),
              (this.changedRanges = s);
            var a = e.hasFocus;
            a != e.inputState.notifiedFocused &&
              ((e.inputState.notifiedFocused = a), (this.flags |= 1));
          }
          return (
            Object.defineProperty(e.prototype, "viewportChanged", {
              get: function () {
                return (4 & this.flags) > 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "heightChanged", {
              get: function () {
                return (2 & this.flags) > 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "geometryChanged", {
              get: function () {
                return this.docChanged || (10 & this.flags) > 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "focusChanged", {
              get: function () {
                return (1 & this.flags) > 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "docChanged", {
              get: function () {
                return !this.changes.empty;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "selectionSet", {
              get: function () {
                return this.transactions.some(function (e) {
                  return e.selection;
                });
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "empty", {
              get: function () {
                return 0 == this.flags && 0 == this.transactions.length;
              },
              enumerable: !1,
              configurable: !0,
            }),
            e
          );
        })(),
        sa = (function (e) {
          return (e[(e.LTR = 0)] = "LTR"), (e[(e.RTL = 1)] = "RTL"), e;
        })(sa || (sa = {})),
        aa = sa.LTR,
        la = sa.RTL;
      function ca(e) {
        for (var t = [], n = 0; n < e.length; n++) t.push(1 << +e[n]);
        return t;
      }
      for (
        var ua = ca(
            "88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"
          ),
          ha = ca(
            "4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"
          ),
          pa = Object.create(null),
          da = [],
          fa = 0,
          ga = ["()", "[]", "{}"];
        fa < ga.length;
        fa++
      ) {
        var ma = ga[fa],
          va = ma.charCodeAt(0),
          ya = ma.charCodeAt(1);
        (pa[va] = ya), (pa[ya] = -va);
      }
      function ba(e) {
        return e <= 247
          ? ua[e]
          : 1424 <= e && e <= 1524
          ? 2
          : 1536 <= e && e <= 1785
          ? ha[e - 1536]
          : 1774 <= e && e <= 2220
          ? 4
          : (8192 <= e && e <= 8203) || 8204 == e
          ? 256
          : 1;
      }
      var wa = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,
        ka = (function () {
          function e(e, t, n) {
            (this.from = e), (this.to = t), (this.level = n);
          }
          return (
            Object.defineProperty(e.prototype, "dir", {
              get: function () {
                return this.level % 2 ? la : aa;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.side = function (e, t) {
              return (this.dir == t) == e ? this.to : this.from;
            }),
            (e.find = function (e, t, n, i) {
              for (var r = -1, o = 0; o < e.length; o++) {
                var s = e[o];
                if (s.from <= t && s.to >= t) {
                  if (s.level == n) return o;
                  (r < 0 ||
                    (0 != i
                      ? i < 0
                        ? s.from < t
                        : s.to > t
                      : e[r].level > s.level)) &&
                    (r = o);
                }
              }
              if (r < 0) throw new RangeError("Index out of range");
              return r;
            }),
            e
          );
        })(),
        Ca = [];
      function xa(e, t) {
        var n = e.length,
          i = t == aa ? 1 : 2,
          r = t == aa ? 2 : 1;
        if (!e || (1 == i && !wa.test(e))) return Sa(n);
        for (var o = 0, s = i, a = i; o < n; o++) {
          512 == (g = ba(e.charCodeAt(o)))
            ? (g = s)
            : 8 == g && 4 == a && (g = 16),
            (Ca[o] = 4 == g ? 2 : g),
            7 & g && (a = g),
            (s = g);
        }
        for (o = 0, s = i, a = i; o < n; o++) {
          if (128 == (g = Ca[o]))
            o < n - 1 && s == Ca[o + 1] && 24 & s
              ? (g = Ca[o] = s)
              : (Ca[o] = 256);
          else if (64 == g) {
            for (var l = o + 1; l < n && 64 == Ca[l]; ) l++;
            for (
              var c =
                  (o && 8 == s) || (l < n && 8 == Ca[l])
                    ? 1 == a
                      ? 1
                      : 8
                    : 256,
                u = o;
              u < l;
              u++
            )
              Ca[u] = c;
            o = l - 1;
          } else 8 == g && 1 == a && (Ca[o] = 1);
          (s = g), 7 & g && (a = g);
        }
        o = 0;
        for (var h = 0, p = 0, d = void 0, f = void 0, g = void 0; o < n; o++)
          if ((f = pa[(d = e.charCodeAt(o))]))
            if (f < 0) {
              for (var m = h - 3; m >= 0; m -= 3)
                if (da[m + 1] == -f) {
                  var v = da[m + 2],
                    y = 2 & v ? i : 4 & v ? (1 & v ? r : i) : 0;
                  y && (Ca[o] = Ca[da[m]] = y), (h = m);
                  break;
                }
            } else {
              if (189 == da.length) break;
              (da[h++] = o), (da[h++] = d), (da[h++] = p);
            }
          else if (2 == (g = Ca[o]) || 1 == g) {
            var b = g == i;
            p = b ? 0 : 1;
            for (m = h - 3; m >= 0; m -= 3) {
              var w = da[m + 2];
              if (2 & w) break;
              if (b) da[m + 2] |= 2;
              else {
                if (4 & w) break;
                da[m + 2] |= 4;
              }
            }
          }
        for (o = 0; o < n; o++)
          if (256 == Ca[o]) {
            for (l = o + 1; l < n && 256 == Ca[l]; ) l++;
            var k = 1 == (o ? Ca[o - 1] : i);
            for (
              c = k == (1 == (l < n ? Ca[l] : i)) ? (k ? 1 : 2) : i, u = o;
              u < l;
              u++
            )
              Ca[u] = c;
            o = l - 1;
          }
        var C = [];
        if (1 == i)
          for (o = 0; o < n; ) {
            for (var x = o, S = 1 != Ca[o++]; o < n && S == (1 != Ca[o]); ) o++;
            if (S)
              for (u = o; u > x; ) {
                l = u;
                for (var E = 2 != Ca[--u]; u > x && E == (2 != Ca[u - 1]); )
                  u--;
                C.push(new ka(u, l, E ? 2 : 1));
              }
            else C.push(new ka(x, o, 0));
          }
        else
          for (o = 0; o < n; ) {
            for (x = o, S = 2 == Ca[o++]; o < n && S == (2 == Ca[o]); ) o++;
            C.push(new ka(x, o, S ? 1 : 2));
          }
        return C;
      }
      function Sa(e) {
        return [new ka(0, e, 0)];
      }
      var Ea = "";
      function Ma(e, t, n, i, r) {
        var o,
          s = i.head - e.from,
          a = -1;
        if (0 == s) {
          if (!r || !e.length) return null;
          t[0].level != n && ((s = t[0].side(!1, n)), (a = 0));
        } else if (s == e.length) {
          if (r) return null;
          var l = t[t.length - 1];
          l.level != n && ((s = l.side(!0, n)), (a = t.length - 1));
        }
        a < 0 &&
          (a = ka.find(
            t,
            s,
            null !== (o = i.bidiLevel) && void 0 !== o ? o : -1,
            i.assoc
          ));
        var c = t[a];
        s == c.side(r, n) && (s = (c = t[(a += r ? 1 : -1)]).side(!r, n));
        var u = r == (c.dir == n),
          h = xi(e.text, s, u);
        if (
          ((Ea = e.text.slice(Math.min(s, h), Math.max(s, h))),
          h != c.side(r, n))
        )
          return Zi.cursor(h + e.from, u ? -1 : 1, c.level);
        var p = a == (r ? t.length - 1 : 0) ? null : t[a + (r ? 1 : -1)];
        return p || c.level == n
          ? p && p.level < c.level
            ? Zi.cursor(p.side(!r, n) + e.from, r ? 1 : -1, p.level)
            : Zi.cursor(h + e.from, r ? -1 : 1, c.level)
          : Zi.cursor(r ? e.to : e.from, r ? -1 : 1, n);
      }
      var La = "￿",
        Aa = (function () {
          function e(e, t) {
            (this.points = e),
              (this.text = ""),
              (this.lineSeparator = t.facet(Wr.lineSeparator));
          }
          return (
            (e.prototype.append = function (e) {
              this.text += e;
            }),
            (e.prototype.lineBreak = function () {
              this.text += La;
            }),
            (e.prototype.readRange = function (e, t) {
              if (!e) return this;
              for (var n = e.parentNode, i = e; ; ) {
                this.findPointBefore(n, i), this.readNode(i);
                var r = i.nextSibling;
                if (r == t) break;
                var o = _o.get(i),
                  s = _o.get(r);
                (o && s
                  ? o.breakAfter
                  : (o ? o.breakAfter : Da(i)) ||
                    (Da(r) && ("BR" != i.nodeName || i.cmIgnore))) &&
                  this.lineBreak(),
                  (i = r);
              }
              return this.findPointBefore(n, t), this;
            }),
            (e.prototype.readTextNode = function (e) {
              for (
                var t = e.nodeValue, n = 0, i = this.points;
                n < i.length;
                n++
              ) {
                (h = i[n]).node == e &&
                  (h.pos = this.text.length + Math.min(h.offset, t.length));
              }
              for (var r = 0, o = this.lineSeparator ? null : /\r\n?|\n/g; ; ) {
                var s = -1,
                  a = 1,
                  l = void 0;
                if (
                  (this.lineSeparator
                    ? ((s = t.indexOf(this.lineSeparator, r)),
                      (a = this.lineSeparator.length))
                    : (l = o.exec(t)) && ((s = l.index), (a = l[0].length)),
                  this.append(t.slice(r, s < 0 ? t.length : s)),
                  s < 0)
                )
                  break;
                if ((this.lineBreak(), a > 1))
                  for (var c = 0, u = this.points; c < u.length; c++) {
                    var h;
                    (h = u[c]).node == e &&
                      h.pos > this.text.length &&
                      (h.pos -= a - 1);
                  }
                r = s + a;
              }
            }),
            (e.prototype.readNode = function (e) {
              if (!e.cmIgnore) {
                var t = _o.get(e),
                  n = t && t.overrideDOMText;
                if (null != n) {
                  this.findPointInside(e, n.length);
                  for (var i = n.iter(); !i.next().done; )
                    i.lineBreak ? this.lineBreak() : this.append(i.value);
                } else
                  3 == e.nodeType
                    ? this.readTextNode(e)
                    : "BR" == e.nodeName
                    ? e.nextSibling && this.lineBreak()
                    : 1 == e.nodeType && this.readRange(e.firstChild, null);
              }
            }),
            (e.prototype.findPointBefore = function (e, t) {
              for (var n = 0, i = this.points; n < i.length; n++) {
                var r = i[n];
                r.node == e &&
                  e.childNodes[r.offset] == t &&
                  (r.pos = this.text.length);
              }
            }),
            (e.prototype.findPointInside = function (e, t) {
              for (var n = 0, i = this.points; n < i.length; n++) {
                var r = i[n];
                (3 == e.nodeType ? r.node == e : e.contains(r.node)) &&
                  (r.pos = this.text.length + Math.min(t, r.offset));
              }
            }),
            e
          );
        })();
      function Da(e) {
        return (
          1 == e.nodeType &&
          /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)
        );
      }
      var Ta = function (e, t) {
          (this.node = e), (this.offset = t), (this.pos = -1);
        },
        Pa = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (
              (n.view = t),
              (n.compositionDeco = xs.none),
              (n.decorations = []),
              (n.pluginDecorationLength = 0),
              (n.minWidth = 0),
              (n.minWidthFrom = 0),
              (n.minWidthTo = 0),
              (n.impreciseAnchor = null),
              (n.impreciseHead = null),
              (n.forceSelection = !1),
              (n.lastUpdate = Date.now()),
              n.setDOM(t.contentDOM),
              (n.children = [new Ds()]),
              n.children[0].setParent(n),
              n.updateDeco(),
              n.updateInner([new ra(0, 0, 0, t.state.doc.length)], 0),
              n
            );
          }
          return (
            M(t, e),
            Object.defineProperty(t.prototype, "root", {
              get: function () {
                return this.view.root;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(t.prototype, "editorView", {
              get: function () {
                return this.view;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(t.prototype, "length", {
              get: function () {
                return this.view.state.doc.length;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (t.prototype.update = function (e) {
              var t = this,
                n = e.changedRanges;
              this.minWidth > 0 &&
                n.length &&
                (n.every(function (e) {
                  var n = e.fromA;
                  return e.toA < t.minWidthFrom || n > t.minWidthTo;
                })
                  ? ((this.minWidthFrom = e.changes.mapPos(
                      this.minWidthFrom,
                      1
                    )),
                    (this.minWidthTo = e.changes.mapPos(this.minWidthTo, 1)))
                  : (this.minWidth = this.minWidthFrom = this.minWidthTo = 0)),
                this.view.inputState.composing < 0
                  ? (this.compositionDeco = xs.none)
                  : (e.transactions.length || this.dirty) &&
                    (this.compositionDeco = (function (e, t) {
                      var n = Fa(e);
                      if (!n) return xs.none;
                      var i = n.from,
                        r = n.to,
                        o = n.node,
                        s = n.text,
                        a = t.mapPos(i, 1),
                        l = Math.max(a, t.mapPos(r, -1)),
                        c = e.state,
                        u =
                          3 == o.nodeType
                            ? o.nodeValue
                            : new Aa([], c).readRange(o.firstChild, null).text;
                      if (l - a < u.length)
                        if (
                          c.doc.sliceString(
                            a,
                            Math.min(c.doc.length, a + u.length),
                            La
                          ) == u
                        )
                          l = a + u.length;
                        else {
                          if (
                            c.doc.sliceString(
                              Math.max(0, l - u.length),
                              l,
                              La
                            ) != u
                          )
                            return xs.none;
                          a = l - u.length;
                        }
                      else if (c.doc.sliceString(a, l, La) != u) return xs.none;
                      var h = _o.get(o);
                      h instanceof ps
                        ? (h = h.widget.topView)
                        : h && (h.parent = null);
                      return xs.set(
                        xs.replace({ widget: new Ia(o, s, h) }).range(a, l)
                      );
                    })(this.view, e.changes)),
                (as.ie || as.chrome) &&
                  !this.compositionDeco.size &&
                  e &&
                  e.state.doc.lines != e.startState.doc.lines &&
                  (this.forceSelection = !0);
              var i,
                r,
                o,
                s,
                a = this.decorations,
                l = this.updateDeco(),
                c =
                  ((i = a),
                  (r = l),
                  (o = e.changes),
                  (s = new Ba()),
                  no.compare(i, r, o, s),
                  s.changes);
              return (
                (n = ra.extendWithRanges(n, c)),
                (0 != this.dirty || 0 != n.length) &&
                  (this.updateInner(n, e.startState.doc.length),
                  e.transactions.length && (this.lastUpdate = Date.now()),
                  !0)
              );
            }),
            (t.prototype.updateInner = function (e, t) {
              var n = this;
              (this.view.viewState.mustMeasureContent = !0),
                this.updateChildren(e, t);
              var i = this.view.observer;
              i.ignore(function () {
                (n.dom.style.height = n.view.viewState.contentHeight + "px"),
                  (n.dom.style.minWidth = n.minWidth ? n.minWidth + "px" : "");
                var e =
                  as.chrome || as.ios
                    ? { node: i.selectionRange.focusNode, written: !1 }
                    : void 0;
                n.sync(e),
                  (n.dirty = 0),
                  e &&
                    (e.written || i.selectionRange.focusNode != e.node) &&
                    (n.forceSelection = !0),
                  (n.dom.style.height = "");
              });
              var r = [];
              if (
                this.view.viewport.from ||
                this.view.viewport.to < this.view.state.doc.length
              )
                for (var o = 0, s = this.children; o < s.length; o++) {
                  var a = s[o];
                  a instanceof Ts && a.widget instanceof Oa && r.push(a.dom);
                }
              i.updateGaps(r);
            }),
            (t.prototype.updateChildren = function (e, t) {
              for (var n = this.childCursor(t), i = e.length - 1; ; i--) {
                var r = i >= 0 ? e[i] : null;
                if (!r) break;
                var o = r.fromA,
                  s = r.toA,
                  a = r.fromB,
                  l = r.toB,
                  c = Ps.build(
                    this.view.state.doc,
                    a,
                    l,
                    this.decorations,
                    this.pluginDecorationLength
                  ),
                  u = c.content,
                  h = c.breakAtStart,
                  p = c.openStart,
                  d = c.openEnd,
                  f = n.findPos(s, 1),
                  g = f.i,
                  m = f.off,
                  v = n.findPos(o, -1);
                $o(this, v.i, v.off, g, m, u, h, p, d);
              }
            }),
            (t.prototype.updateSelection = function (e, t) {
              var n = this;
              if (
                (void 0 === e && (e = !1),
                void 0 === t && (t = !1),
                e && this.view.observer.readSelectionRange(),
                !(
                  (!t && !this.mayControlSelection()) ||
                  (as.ios && this.view.inputState.rapidCompositionStart)
                ))
              ) {
                var i = this.forceSelection;
                this.forceSelection = !1;
                var r = this.view.state.selection.main,
                  o = this.domAtPos(r.anchor),
                  s = r.empty ? o : this.domAtPos(r.head);
                if (
                  as.gecko &&
                  r.empty &&
                  (function (e) {
                    return (
                      1 == e.node.nodeType &&
                      e.node.firstChild &&
                      (0 == e.offset ||
                        "false" ==
                          e.node.childNodes[e.offset - 1].contentEditable) &&
                      (e.offset == e.node.childNodes.length ||
                        "false" == e.node.childNodes[e.offset].contentEditable)
                    );
                  })(o)
                ) {
                  var a = document.createTextNode("");
                  this.view.observer.ignore(function () {
                    return o.node.insertBefore(
                      a,
                      o.node.childNodes[o.offset] || null
                    );
                  }),
                    (o = s = new Uo(a, 0)),
                    (i = !0);
                }
                var l = this.view.observer.selectionRange;
                (!i &&
                  l.focusNode &&
                  Do(o.node, o.offset, l.anchorNode, l.anchorOffset) &&
                  Do(s.node, s.offset, l.focusNode, l.focusOffset)) ||
                  (this.view.observer.ignore(function () {
                    var e;
                    as.android &&
                      as.chrome &&
                      n.dom.contains(l.focusNode) &&
                      (function (e, t) {
                        for (
                          var n = e;
                          n && n != t;
                          n = n.assignedSlot || n.parentNode
                        )
                          if (1 == n.nodeType && "false" == n.contentEditable)
                            return !0;
                        return !1;
                      })(l.focusNode, n.dom) &&
                      (n.dom.blur(), n.dom.focus({ preventScroll: !0 }));
                    var t,
                      i,
                      a = Eo(n.root);
                    if (r.empty) {
                      if (as.gecko) {
                        var c =
                          ((t = o.node),
                          (i = o.offset),
                          1 != t.nodeType
                            ? 0
                            : (i &&
                              "false" == t.childNodes[i - 1].contentEditable
                                ? 1
                                : 0) |
                              (i < t.childNodes.length &&
                              "false" == t.childNodes[i].contentEditable
                                ? 2
                                : 0));
                        if (c && 3 != c) {
                          var u = Na(o.node, o.offset, 1 == c ? 1 : -1);
                          u && (o = new Uo(u, 1 == c ? 0 : u.nodeValue.length));
                        }
                      }
                      a.collapse(o.node, o.offset),
                        null != r.bidiLevel &&
                          null != l.cursorBidiLevel &&
                          (l.cursorBidiLevel = r.bidiLevel);
                    } else if (a.extend)
                      a.collapse(o.node, o.offset), a.extend(s.node, s.offset);
                    else {
                      var h = document.createRange();
                      r.anchor > r.head && ((o = (e = [s, o])[0]), (s = e[1])),
                        h.setEnd(s.node, s.offset),
                        h.setStart(o.node, o.offset),
                        a.removeAllRanges(),
                        a.addRange(h);
                    }
                  }),
                  this.view.observer.setSelectionRange(o, s)),
                  (this.impreciseAnchor = o.precise
                    ? null
                    : new Uo(l.anchorNode, l.anchorOffset)),
                  (this.impreciseHead = s.precise
                    ? null
                    : new Uo(l.focusNode, l.focusOffset));
              }
            }),
            (t.prototype.enforceCursorAssoc = function () {
              if (!this.compositionDeco.size) {
                var e = this.view.state.selection.main,
                  t = Eo(this.root);
                if (e.empty && e.assoc && t.modify) {
                  var n = Ds.find(this, e.head);
                  if (n) {
                    var i = n.posAtStart;
                    if (e.head != i && e.head != i + n.length) {
                      var r = this.coordsAt(e.head, -1),
                        o = this.coordsAt(e.head, 1);
                      if (r && o && !(r.bottom > o.top)) {
                        var s = this.domAtPos(e.head + e.assoc);
                        t.collapse(s.node, s.offset),
                          t.modify(
                            "move",
                            e.assoc < 0 ? "forward" : "backward",
                            "lineboundary"
                          );
                      }
                    }
                  }
                }
              }
            }),
            (t.prototype.mayControlSelection = function () {
              return this.view.state.facet(Gs)
                ? this.root.activeElement == this.dom
                : Lo(this.dom, this.view.observer.selectionRange);
            }),
            (t.prototype.nearest = function (e) {
              for (var t = e; t; ) {
                var n = _o.get(t);
                if (n && n.rootView == this) return n;
                t = t.parentNode;
              }
              return null;
            }),
            (t.prototype.posFromDOM = function (e, t) {
              var n = this.nearest(e);
              if (!n)
                throw new RangeError(
                  "Trying to find position for a DOM position outside of the document"
                );
              return n.localPosFromDOM(e, t) + n.posAtStart;
            }),
            (t.prototype.domAtPos = function (e) {
              for (
                var t = this.childCursor().findPos(e, -1), n = t.i, i = t.off;
                n < this.children.length - 1;

              ) {
                var r = this.children[n];
                if (i < r.length || r instanceof Ds) break;
                n++, (i = 0);
              }
              return this.children[n].domAtPos(i);
            }),
            (t.prototype.coordsAt = function (e, t) {
              for (var n = this.length, i = this.children.length - 1; ; i--) {
                var r = this.children[i],
                  o = n - r.breakAfter - r.length;
                if (
                  e > o ||
                  (e == o &&
                    r.type != Cs.WidgetBefore &&
                    r.type != Cs.WidgetAfter &&
                    (!i ||
                      2 == t ||
                      this.children[i - 1].breakAfter ||
                      (this.children[i - 1].type == Cs.WidgetBefore && t > -2)))
                )
                  return r.coordsAt(e - o, t);
                n = o;
              }
            }),
            (t.prototype.measureVisibleLineHeights = function () {
              for (
                var e = [],
                  t = this.view.viewState.viewport,
                  n = t.from,
                  i = t.to,
                  r = this.view.contentDOM.clientWidth,
                  o =
                    r >
                    Math.max(this.view.scrollDOM.clientWidth, this.minWidth) +
                      1,
                  s = -1,
                  a = 0,
                  l = 0;
                l < this.children.length;
                l++
              ) {
                var c = this.children[l],
                  u = a + c.length;
                if (u > i) break;
                if (a >= n) {
                  var h = c.dom.getBoundingClientRect();
                  if ((e.push(h.height), o)) {
                    var p = c.dom.lastChild,
                      d = p ? Ao(p) : [];
                    if (d.length) {
                      var f = d[d.length - 1],
                        g =
                          this.view.textDirection == sa.LTR
                            ? f.right - h.left
                            : h.right - f.left;
                      g > s &&
                        ((s = g),
                        (this.minWidth = r),
                        (this.minWidthFrom = a),
                        (this.minWidthTo = u));
                    }
                  }
                }
                a = u + c.breakAfter;
              }
              return e;
            }),
            (t.prototype.measureTextSize = function () {
              for (var e = this, t = 0, n = this.children; t < n.length; t++) {
                var i = n[t];
                if (i instanceof Ds) {
                  var r = i.measureTextSize();
                  if (r) return r;
                }
              }
              var o,
                s,
                a = document.createElement("div");
              return (
                (a.className = "cm-line"),
                (a.textContent = "abc def ghi jkl mno pqr stu"),
                this.view.observer.ignore(function () {
                  e.dom.appendChild(a);
                  var t = Ao(a.firstChild)[0];
                  (o = a.getBoundingClientRect().height),
                    (s = t ? t.width / 27 : 7),
                    a.remove();
                }),
                { lineHeight: o, charWidth: s }
              );
            }),
            (t.prototype.childCursor = function (e) {
              void 0 === e && (e = this.length);
              var t = this.children.length;
              return (
                t && (e -= this.children[--t].length),
                new Ko(this.children, e, t)
              );
            }),
            (t.prototype.computeBlockGapDeco = function () {
              for (var e = [], t = this.view.viewState, n = 0, i = 0; ; i++) {
                var r = i == t.viewports.length ? null : t.viewports[i],
                  o = r ? r.from - 1 : this.length;
                if (o > n) {
                  var s = t.lineBlockAt(o).bottom - t.lineBlockAt(n).top;
                  e.push(
                    xs
                      .replace({
                        widget: new Oa(s),
                        block: !0,
                        inclusive: !0,
                        isBlockGap: !0,
                      })
                      .range(n, o)
                  );
                }
                if (!r) break;
                n = r.to + 1;
              }
              return xs.set(e);
            }),
            (t.prototype.updateDeco = function () {
              var e = this.view.pluginField($s.decorations);
              return (
                (this.pluginDecorationLength = e.length),
                (this.decorations = P(P(P([], e), this.view.state.facet(na)), [
                  this.compositionDeco,
                  this.computeBlockGapDeco(),
                  this.view.viewState.lineGapDeco,
                ]))
              );
            }),
            (t.prototype.scrollIntoView = function (e) {
              var t,
                n = e.range,
                i = this.coordsAt(
                  n.head,
                  n.empty ? n.assoc : n.head > n.anchor ? -1 : 1
                );
              if (i) {
                !n.empty &&
                  (t = this.coordsAt(n.anchor, n.anchor > n.head ? -1 : 1)) &&
                  (i = {
                    left: Math.min(i.left, t.left),
                    top: Math.min(i.top, t.top),
                    right: Math.max(i.right, t.right),
                    bottom: Math.max(i.bottom, t.bottom),
                  });
                for (
                  var r = 0,
                    o = 0,
                    s = 0,
                    a = 0,
                    l = 0,
                    c = this.view.pluginField($s.scrollMargins);
                  l < c.length;
                  l++
                ) {
                  var u = c[l];
                  if (u) {
                    var h = u.left,
                      p = u.right,
                      d = u.top,
                      f = u.bottom;
                    null != h && (r = Math.max(r, h)),
                      null != p && (o = Math.max(o, p)),
                      null != d && (s = Math.max(s, d)),
                      null != f && (a = Math.max(a, f));
                  }
                }
                var g = {
                  left: i.left - r,
                  top: i.top - s,
                  right: i.right + o,
                  bottom: i.bottom + a,
                };
                !(function (e, t, n, i, r, o, s, a) {
                  for (var l = e.ownerDocument, c = l.defaultView, u = e; u; )
                    if (1 == u.nodeType) {
                      var h = void 0,
                        p = u == l.body;
                      if (p) h = No(c);
                      else {
                        if (
                          u.scrollHeight <= u.clientHeight &&
                          u.scrollWidth <= u.clientWidth
                        ) {
                          u = u.parentNode;
                          continue;
                        }
                        var d = u.getBoundingClientRect();
                        h = {
                          left: d.left,
                          right: d.left + u.clientWidth,
                          top: d.top,
                          bottom: d.top + u.clientHeight,
                        };
                      }
                      var f = 0,
                        g = 0;
                      if ("nearest" == r)
                        t.top < h.top
                          ? ((g = -(h.top - t.top + s)),
                            n > 0 &&
                              t.bottom > h.bottom + g &&
                              (g = t.bottom - h.bottom + g + s))
                          : t.bottom > h.bottom &&
                            ((g = t.bottom - h.bottom + s),
                            n < 0 &&
                              t.top - g < h.top &&
                              (g = -(h.top + g - t.top + s)));
                      else {
                        var m = t.bottom - t.top,
                          v = h.bottom - h.top;
                        g =
                          ("center" == r && m <= v
                            ? t.top + m / 2 - v / 2
                            : "start" == r || ("center" == r && n < 0)
                            ? t.top - s
                            : t.bottom - v + s) - h.top;
                      }
                      if (
                        ("nearest" == i
                          ? t.left < h.left
                            ? ((f = -(h.left - t.left + o)),
                              n > 0 &&
                                t.right > h.right + f &&
                                (f = t.right - h.right + f + o))
                            : t.right > h.right &&
                              ((f = t.right - h.right + o),
                              n < 0 &&
                                t.left < h.left + f &&
                                (f = -(h.left + f - t.left + o)))
                          : (f =
                              ("center" == i
                                ? t.left +
                                  (t.right - t.left) / 2 -
                                  (h.right - h.left) / 2
                                : ("start" == i) == a
                                ? t.left - o
                                : t.right - (h.right - h.left) + o) - h.left),
                        f || g)
                      )
                        if (p) c.scrollBy(f, g);
                        else {
                          if (g) {
                            var y = u.scrollTop;
                            (u.scrollTop += g), (g = u.scrollTop - y);
                          }
                          f &&
                            ((y = u.scrollLeft),
                            (u.scrollLeft += f),
                            (f = u.scrollLeft - y)),
                            (t = {
                              left: t.left - f,
                              top: t.top - g,
                              right: t.right - f,
                              bottom: t.bottom - g,
                            });
                        }
                      if (p) break;
                      (u = u.assignedSlot || u.parentNode), (i = r = "nearest");
                    } else {
                      if (11 != u.nodeType) break;
                      u = u.host;
                    }
                })(
                  this.view.scrollDOM,
                  g,
                  n.head < n.anchor ? -1 : 1,
                  e.x,
                  e.y,
                  e.xMargin,
                  e.yMargin,
                  this.view.textDirection == sa.LTR
                );
              }
            }),
            t
          );
        })(_o);
      var Oa = (function (e) {
        function t(t) {
          var n = e.call(this) || this;
          return (n.height = t), n;
        }
        return (
          M(t, e),
          (t.prototype.toDOM = function () {
            var e = document.createElement("div");
            return this.updateDOM(e), e;
          }),
          (t.prototype.eq = function (e) {
            return e.height == this.height;
          }),
          (t.prototype.updateDOM = function (e) {
            return (e.style.height = this.height + "px"), !0;
          }),
          Object.defineProperty(t.prototype, "estimatedHeight", {
            get: function () {
              return this.height;
            },
            enumerable: !1,
            configurable: !0,
          }),
          t
        );
      })(ks);
      function Fa(e) {
        var t = e.observer.selectionRange,
          n = t.focusNode && Na(t.focusNode, t.focusOffset, 0);
        if (!n) return null;
        var i = e.docView.nearest(n);
        if (!i) return null;
        if (i instanceof Ds) {
          for (var r = n; r.parentNode != i.dom; ) r = r.parentNode;
          for (var o = r.previousSibling; o && !_o.get(o); )
            o = o.previousSibling;
          var s = o ? _o.get(o).posAtEnd : i.posAtStart;
          return { from: s, to: s, node: r, text: n };
        }
        for (;;) {
          var a = i.parent;
          if (!a) return null;
          if (a instanceof Ds) break;
          i = a;
        }
        var l = i.posAtStart;
        return { from: l, to: l + i.length, node: i.dom, text: n };
      }
      var Ia = (function (e) {
        function t(t, n, i) {
          var r = e.call(this) || this;
          return (r.top = t), (r.text = n), (r.topView = i), r;
        }
        return (
          M(t, e),
          (t.prototype.eq = function (e) {
            return this.top == e.top && this.text == e.text;
          }),
          (t.prototype.toDOM = function () {
            return this.top;
          }),
          (t.prototype.ignoreEvent = function () {
            return !1;
          }),
          Object.defineProperty(t.prototype, "customView", {
            get: function () {
              return ps;
            },
            enumerable: !1,
            configurable: !0,
          }),
          t
        );
      })(ks);
      function Na(e, t, n) {
        for (;;) {
          if (3 == e.nodeType) return e;
          if (1 == e.nodeType && t > 0 && n <= 0)
            t = Oo((e = e.childNodes[t - 1]));
          else {
            if (!(1 == e.nodeType && t < e.childNodes.length && n >= 0))
              return null;
            (e = e.childNodes[t]), (t = 0);
          }
        }
      }
      var Ba = (function () {
        function e() {
          this.changes = [];
        }
        return (
          (e.prototype.compareRange = function (e, t) {
            As(e, t, this.changes);
          }),
          (e.prototype.comparePoint = function (e, t) {
            As(e, t, this.changes);
          }),
          e
        );
      })();
      function Ra(e, t) {
        return t.left > e ? t.left - e : Math.max(0, e - t.right);
      }
      function za(e, t) {
        return t.top > e ? t.top - e : Math.max(0, e - t.bottom);
      }
      function Ha(e, t) {
        return e.top < t.bottom - 1 && e.bottom > t.top + 1;
      }
      function Va(e, t) {
        return t < e.top
          ? { top: t, left: e.left, right: e.right, bottom: e.bottom }
          : e;
      }
      function qa(e, t) {
        return t > e.bottom
          ? { top: e.top, left: e.left, right: e.right, bottom: t }
          : e;
      }
      function ja(e, t, n) {
        for (var i, r, o, s, a, l, c, u, h = e.firstChild; h; h = h.nextSibling)
          for (var p = Ao(h), d = 0; d < p.length; d++) {
            var f = p[d];
            r && Ha(r, f) && (f = Va(qa(f, r.bottom), r.top));
            var g = Ra(t, f),
              m = za(n, f);
            if (0 == g && 0 == m)
              return 3 == h.nodeType ? Ua(h, t, n) : ja(h, t, n);
            (!i || s > m || (s == m && o > g)) &&
              ((i = h), (r = f), (o = g), (s = m)),
              0 == g
                ? n > f.bottom && (!c || c.bottom < f.bottom)
                  ? ((a = h), (c = f))
                  : n < f.top && (!u || u.top > f.top) && ((l = h), (u = f))
                : c && Ha(c, f)
                ? (c = qa(c, f.bottom))
                : u && Ha(u, f) && (u = Va(u, f.top));
          }
        if (
          (c && c.bottom >= n
            ? ((i = a), (r = c))
            : u && u.top <= n && ((i = l), (r = u)),
          !i)
        )
          return { node: e, offset: 0 };
        var v = Math.max(r.left, Math.min(r.right, t));
        return 3 == i.nodeType
          ? Ua(i, v, n)
          : o || "true" != i.contentEditable
          ? {
              node: e,
              offset:
                Array.prototype.indexOf.call(e.childNodes, i) +
                (t >= (r.left + r.right) / 2 ? 1 : 0),
            }
          : ja(i, v, n);
      }
      function Ua(e, t, n) {
        for (
          var i = e.nodeValue.length, r = -1, o = 1e9, s = 0, a = 0;
          a < i;
          a++
        )
          for (
            var l = Vo(e, a, a + 1).getClientRects(), c = 0;
            c < l.length;
            c++
          ) {
            var u = l[c];
            if (u.top != u.bottom) {
              s || (s = t - u.left);
              var h = (u.top > n ? u.top - n : n - u.bottom) - 1;
              if (u.left - 1 <= t && u.right + 1 >= t && h < o) {
                var p = t >= (u.left + u.right) / 2,
                  d = p;
                if (as.chrome || as.gecko)
                  Vo(e, a).getBoundingClientRect().left == u.right && (d = !p);
                if (h <= 0) return { node: e, offset: a + (d ? 1 : 0) };
                (r = a + (d ? 1 : 0)), (o = h);
              }
            }
          }
        return { node: e, offset: r > -1 ? r : s > 0 ? e.nodeValue.length : 0 };
      }
      function Wa(e, t, n, i) {
        var r,
          o,
          s = t.x,
          a = t.y;
        void 0 === i && (i = -1);
        var l,
          c = e.contentDOM.getBoundingClientRect(),
          u = c.top + e.viewState.paddingTop,
          h = e.viewState.docHeight,
          p = a - u;
        if (p < 0) return 0;
        if (p > h) return e.state.doc.length;
        for (
          var d = e.defaultLineHeight / 2, f = !1;
          (l = e.elementAtHeight(p)).type != Cs.Text;

        )
          for (; !((p = i > 0 ? l.bottom + d : l.top - d) >= 0 && p <= h); ) {
            if (f) return n ? null : 0;
            (f = !0), (i = -i);
          }
        a = u + p;
        var g = l.from;
        if (g < e.viewport.from)
          return 0 == e.viewport.from ? 0 : n ? null : _a(e, c, l, s, a);
        if (g > e.viewport.to)
          return e.viewport.to == e.state.doc.length
            ? e.state.doc.length
            : n
            ? null
            : _a(e, c, l, s, a);
        var m = e.dom.ownerDocument,
          v = e.root.elementFromPoint ? e.root : m,
          y = v.elementFromPoint(s, a);
        y && !e.contentDOM.contains(y) && (y = null),
          y ||
            ((s = Math.max(c.left + 1, Math.min(c.right - 1, s))),
            (y = v.elementFromPoint(s, a)) &&
              !e.contentDOM.contains(y) &&
              (y = null));
        var b,
          w = -1;
        if (
          y &&
          0 !=
            (null === (o = e.docView.nearest(y)) || void 0 === o
              ? void 0
              : o.isEditable)
        )
          if (m.caretPositionFromPoint) {
            var k = m.caretPositionFromPoint(s, a);
            k && ((b = k.offsetNode), (w = k.offset));
          } else if (m.caretRangeFromPoint) {
            var C = m.caretRangeFromPoint(s, a);
            C &&
              ((b = C.startContainer),
              (w = C.startOffset),
              as.safari &&
                (function (e, t, n) {
                  var i;
                  if (3 != e.nodeType || t != (i = e.nodeValue.length))
                    return !1;
                  for (var r = e.nextSibling; r; r = r.nextSibling)
                    if (1 != r.nodeType || "BR" != r.nodeName) return !1;
                  return Vo(e, i - 1, i).getBoundingClientRect().left > n;
                })(b, w, s) &&
                (b = void 0));
          }
        if (!b || !e.docView.dom.contains(b)) {
          var x = Ds.find(e.docView, g);
          if (!x) return p > l.top + l.height / 2 ? l.to : l.from;
          (b = (r = ja(x.dom, s, a)).node), (w = r.offset);
        }
        return e.docView.posFromDOM(b, w);
      }
      function _a(e, t, n, i, r) {
        var o = Math.round((i - t.left) * e.defaultCharacterWidth);
        e.lineWrapping &&
          n.height > 1.5 * e.defaultLineHeight &&
          (o +=
            Math.floor((r - n.top) / e.defaultLineHeight) *
            e.viewState.heightOracle.lineLength);
        var s = e.state.sliceDoc(n.from, n.to);
        return n.from + Oi(s, o, e.state.tabSize);
      }
      function Ga(e, t, n, i) {
        for (
          var r = e.state.doc.lineAt(t.head),
            o = e.bidiSpans(r),
            s = t,
            a = null;
          ;

        ) {
          var l = Ma(r, o, e.textDirection, s, n),
            c = Ea;
          if (!l) {
            if (r.number == (n ? e.state.doc.lines : 1)) return s;
            (c = "\n"),
              (r = e.state.doc.line(r.number + (n ? 1 : -1))),
              (o = e.bidiSpans(r)),
              (l = Zi.cursor(n ? r.from : r.to));
          }
          if (a) {
            if (!a(c)) return s;
          } else {
            if (!i) return l;
            a = i(c);
          }
          s = l;
        }
      }
      function Ka(e, t, n) {
        for (
          var i = e.pluginField($s.atomicRanges),
            r = function () {
              for (var e = !1, r = 0, o = i; r < o.length; r++) {
                o[r].between(n.from - 1, n.from + 1, function (i, r, o) {
                  n.from > i &&
                    n.from < r &&
                    ((n = t.from > n.from ? Zi.cursor(i, 1) : Zi.cursor(r, -1)),
                    (e = !0));
                });
              }
              if (!e) return { value: n };
            };
          ;

        ) {
          var o = r();
          if ("object" == typeof o) return o.value;
        }
      }
      var $a = (function () {
          function e(e) {
            var t = this;
            (this.lastKeyCode = 0),
              (this.lastKeyTime = 0),
              (this.pendingIOSKey = void 0),
              (this.lastSelectionOrigin = null),
              (this.lastSelectionTime = 0),
              (this.lastEscPress = 0),
              (this.lastContextMenu = 0),
              (this.scrollHandlers = []),
              (this.registeredEvents = []),
              (this.customHandlers = []),
              (this.composing = -1),
              (this.compositionFirstChange = null),
              (this.compositionEndedAt = 0),
              (this.rapidCompositionStart = !1),
              (this.mouseSelection = null);
            var n = function (n) {
                var r = Za[n];
                e.contentDOM.addEventListener(n, function (i) {
                  ("keydown" == n && t.keydown(e, i)) ||
                    (Xa(e, i) &&
                      !t.ignoreDuringComposition(i) &&
                      (t.mustFlushObserver(i) && e.observer.forceFlush(),
                      t.runCustomHandlers(n, e, i)
                        ? i.preventDefault()
                        : r(e, i)));
                }),
                  i.registeredEvents.push(n);
              },
              i = this;
            for (var r in Za) n(r);
            (this.notifiedFocused = e.hasFocus),
              this.ensureHandlers(e),
              as.safari &&
                e.contentDOM.addEventListener("input", function () {
                  return null;
                });
          }
          return (
            (e.prototype.setSelectionOrigin = function (e) {
              (this.lastSelectionOrigin = e),
                (this.lastSelectionTime = Date.now());
            }),
            (e.prototype.ensureHandlers = function (e) {
              for (
                var t = this,
                  n = 0,
                  i = (this.customHandlers = e.pluginField(Xs));
                n < i.length;
                n++
              ) {
                var r = i[n],
                  o = function (n) {
                    s.registeredEvents.indexOf(n) < 0 &&
                      "scroll" != n &&
                      (s.registeredEvents.push(n),
                      e.contentDOM.addEventListener(n, function (i) {
                        Xa(e, i) &&
                          t.runCustomHandlers(n, e, i) &&
                          i.preventDefault();
                      }));
                  },
                  s = this;
                for (var a in r.handlers) o(a);
              }
            }),
            (e.prototype.runCustomHandlers = function (e, t, n) {
              for (var i = 0, r = this.customHandlers; i < r.length; i++) {
                var o = r[i],
                  s = o.handlers[e];
                if (s)
                  try {
                    if (s.call(o.plugin, n, t) || n.defaultPrevented) return !0;
                  } catch (e) {
                    _s(t.state, e);
                  }
              }
              return !1;
            }),
            (e.prototype.runScrollHandlers = function (e, t) {
              for (var n = 0, i = this.customHandlers; n < i.length; n++) {
                var r = i[n],
                  o = r.handlers.scroll;
                if (o)
                  try {
                    o.call(r.plugin, t, e);
                  } catch (t) {
                    _s(e.state, t);
                  }
              }
            }),
            (e.prototype.keydown = function (e, t) {
              var n,
                i = this;
              return (
                (this.lastKeyCode = t.keyCode),
                (this.lastKeyTime = Date.now()),
                !!this.screenKeyEvent(e, t) ||
                  (!as.android ||
                  !as.chrome ||
                  t.synthetic ||
                  (13 != t.keyCode && 8 != t.keyCode)
                    ? !(
                        !as.ios ||
                        !(n = Ya.find(function (e) {
                          return e.keyCode == t.keyCode;
                        })) ||
                        t.ctrlKey ||
                        t.altKey ||
                        t.metaKey ||
                        t.synthetic
                      ) &&
                      ((this.pendingIOSKey = n),
                      setTimeout(function () {
                        return i.flushIOSKey(e);
                      }, 250),
                      !0)
                    : (e.observer.delayAndroidKey(t.key, t.keyCode), !0))
              );
            }),
            (e.prototype.flushIOSKey = function (e) {
              var t = this.pendingIOSKey;
              return (
                !!t &&
                ((this.pendingIOSKey = void 0),
                qo(e.contentDOM, t.key, t.keyCode))
              );
            }),
            (e.prototype.ignoreDuringComposition = function (e) {
              return (
                !!/^key/.test(e.type) &&
                (this.composing > 0 ||
                  (!!(
                    as.safari && Date.now() - this.compositionEndedAt < 500
                  ) &&
                    ((this.compositionEndedAt = 0), !0)))
              );
            }),
            (e.prototype.screenKeyEvent = function (e, t) {
              var n = 9 == t.keyCode && Date.now() < this.lastEscPress + 2e3;
              return (
                27 == t.keyCode
                  ? (this.lastEscPress = Date.now())
                  : Ja.indexOf(t.keyCode) < 0 && (this.lastEscPress = 0),
                n
              );
            }),
            (e.prototype.mustFlushObserver = function (e) {
              return (
                ("keydown" == e.type && 229 != e.keyCode) ||
                ("compositionend" == e.type && !as.ios)
              );
            }),
            (e.prototype.startMouseSelection = function (e) {
              this.mouseSelection && this.mouseSelection.destroy(),
                (this.mouseSelection = e);
            }),
            (e.prototype.update = function (e) {
              this.mouseSelection && this.mouseSelection.update(e),
                e.transactions.length &&
                  (this.lastKeyCode = this.lastSelectionTime = 0);
            }),
            (e.prototype.destroy = function () {
              this.mouseSelection && this.mouseSelection.destroy();
            }),
            e
          );
        })(),
        Ya = [
          { key: "Backspace", keyCode: 8, inputType: "deleteContentBackward" },
          { key: "Enter", keyCode: 13, inputType: "insertParagraph" },
          { key: "Delete", keyCode: 46, inputType: "deleteContentForward" },
        ],
        Ja = [16, 17, 18, 20, 91, 92, 224, 225],
        Qa = (function () {
          function e(e, t, n, i) {
            (this.view = e),
              (this.style = n),
              (this.mustSelect = i),
              (this.lastEvent = t);
            var r = e.contentDOM.ownerDocument;
            r.addEventListener("mousemove", (this.move = this.move.bind(this))),
              r.addEventListener("mouseup", (this.up = this.up.bind(this))),
              (this.extend = t.shiftKey),
              (this.multiple =
                e.state.facet(Wr.allowMultipleSelections) &&
                (function (e, t) {
                  var n = e.state.facet(Ns);
                  return n.length ? n[0](t) : as.mac ? t.metaKey : t.ctrlKey;
                })(e, t)),
              (this.dragMove = (function (e, t) {
                var n = e.state.facet(Bs);
                return n.length ? n[0](t) : as.mac ? !t.altKey : !t.ctrlKey;
              })(e, t)),
              (this.dragging =
                !(
                  !(function (e, t) {
                    if (e.state.selection.main.empty) return !1;
                    var n = Eo(e.root);
                    if (0 == n.rangeCount) return !0;
                    for (
                      var i = n.getRangeAt(0).getClientRects(), r = 0;
                      r < i.length;
                      r++
                    ) {
                      var o = i[r];
                      if (
                        o.left <= t.clientX &&
                        o.right >= t.clientX &&
                        o.top <= t.clientY &&
                        o.bottom >= t.clientY
                      )
                        return !0;
                    }
                    return !1;
                  })(e, t) || 1 != pl(t)
                ) && null),
              !1 === this.dragging && (t.preventDefault(), this.select(t));
          }
          return (
            (e.prototype.move = function (e) {
              if (0 == e.buttons) return this.destroy();
              !1 === this.dragging && this.select((this.lastEvent = e));
            }),
            (e.prototype.up = function (e) {
              null == this.dragging && this.select(this.lastEvent),
                this.dragging || e.preventDefault(),
                this.destroy();
            }),
            (e.prototype.destroy = function () {
              var e = this.view.contentDOM.ownerDocument;
              e.removeEventListener("mousemove", this.move),
                e.removeEventListener("mouseup", this.up),
                (this.view.inputState.mouseSelection = null);
            }),
            (e.prototype.select = function (e) {
              var t = this.style.get(e, this.extend, this.multiple);
              (!this.mustSelect &&
                t.eq(this.view.state.selection) &&
                t.main.assoc == this.view.state.selection.main.assoc) ||
                this.view.dispatch({
                  selection: t,
                  userEvent: "select.pointer",
                  scrollIntoView: !0,
                }),
                (this.mustSelect = !1);
            }),
            (e.prototype.update = function (e) {
              var t = this;
              e.docChanged &&
                this.dragging &&
                (this.dragging = this.dragging.map(e.changes)),
                this.style.update(e) &&
                  setTimeout(function () {
                    return t.select(t.lastEvent);
                  }, 20);
            }),
            e
          );
        })();
      function Xa(e, t) {
        if (!t.bubbles) return !0;
        if (t.defaultPrevented) return !1;
        for (var n = t.target, i = void 0; n != e.contentDOM; n = n.parentNode)
          if (!n || 11 == n.nodeType || ((i = _o.get(n)) && i.ignoreEvent(t)))
            return !1;
        return !0;
      }
      var Za = Object.create(null),
        el =
          (as.ie && as.ie_version < 15) || (as.ios && as.webkit_version < 604);
      function tl(e, t) {
        var n,
          i = e.state,
          r = 1,
          o = i.toText(t),
          s = o.lines == i.selection.ranges.length;
        if (
          null != fl &&
          i.selection.ranges.every(function (e) {
            return e.empty;
          }) &&
          fl == o.toString()
        ) {
          var a = -1;
          n = i.changeByRange(function (e) {
            var n = i.doc.lineAt(e.from);
            if (n.from == a) return { range: e };
            a = n.from;
            var l = i.toText((s ? o.line(r++).text : t) + i.lineBreak);
            return {
              changes: { from: n.from, insert: l },
              range: Zi.cursor(e.from + l.length),
            };
          });
        } else
          n = s
            ? i.changeByRange(function (e) {
                var t = o.line(r++);
                return {
                  changes: { from: e.from, to: e.to, insert: t.text },
                  range: Zi.cursor(e.from + t.length),
                };
              })
            : i.replaceSelection(o);
        e.dispatch(n, { userEvent: "input.paste", scrollIntoView: !0 });
      }
      Za.keydown = function (e, t) {
        e.inputState.setSelectionOrigin("select");
      };
      var nl = 0;
      function il(e, t, n, i) {
        if (1 == i) return Zi.cursor(t, n);
        if (2 == i)
          return (function (e, t, n) {
            void 0 === n && (n = 1);
            var i = e.charCategorizer(t),
              r = e.doc.lineAt(t),
              o = t - r.from;
            if (0 == r.length) return Zi.cursor(t);
            0 == o ? (n = 1) : o == r.length && (n = -1);
            var s = o,
              a = o;
            n < 0 ? (s = xi(r.text, o, !1)) : (a = xi(r.text, o));
            for (var l = i(r.text.slice(s, a)); s > 0; ) {
              var c = xi(r.text, s, !1);
              if (i(r.text.slice(c, s)) != l) break;
              s = c;
            }
            for (; a < r.length; ) {
              var u = xi(r.text, a);
              if (i(r.text.slice(a, u)) != l) break;
              a = u;
            }
            return Zi.range(s + r.from, a + r.from);
          })(e.state, t, n);
        var r = Ds.find(e.docView, t),
          o = e.state.doc.lineAt(r ? r.posAtEnd : t),
          s = r ? r.posAtStart : o.from,
          a = r ? r.posAtEnd : o.to;
        return a < e.state.doc.length && a == o.to && a++, Zi.range(s, a);
      }
      (Za.touchstart = function (e, t) {
        (nl = Date.now()), e.inputState.setSelectionOrigin("select.pointer");
      }),
        (Za.touchmove = function (e) {
          e.inputState.setSelectionOrigin("select.pointer");
        }),
        (Za.mousedown = function (e, t) {
          if ((e.observer.flush(), !(nl > Date.now() - 2e3 && 1 == pl(t)))) {
            for (
              var n = null, i = 0, r = e.state.facet(Rs);
              i < r.length;
              i++
            ) {
              if ((n = (0, r[i])(e, t))) break;
            }
            if (
              (n ||
                0 != t.button ||
                (n = (function (e, t) {
                  var n = al(e, t),
                    i = pl(t),
                    r = e.state.selection,
                    o = n,
                    s = t;
                  return {
                    update: function (e) {
                      e.docChanged &&
                        (n && (n.pos = e.changes.mapPos(n.pos)),
                        (r = r.map(e.changes)),
                        (s = null));
                    },
                    get: function (t, a, l) {
                      var c;
                      if (
                        (s && t.clientX == s.clientX && t.clientY == s.clientY
                          ? (c = o)
                          : ((c = o = al(e, t)), (s = t)),
                        !c || !n)
                      )
                        return r;
                      var u = il(e, c.pos, c.bias, i);
                      if (n.pos != c.pos && !a) {
                        var h = il(e, n.pos, n.bias, i),
                          p = Math.min(h.from, u.from),
                          d = Math.max(h.to, u.to);
                        u = p < u.from ? Zi.range(p, d) : Zi.range(d, p);
                      }
                      return a
                        ? r.replaceRange(r.main.extend(u.from, u.to))
                        : l
                        ? r.addRange(u)
                        : Zi.create([u]);
                    },
                  };
                })(e, t)),
              n)
            ) {
              var o = e.root.activeElement != e.contentDOM;
              o &&
                e.observer.ignore(function () {
                  return Ho(e.contentDOM);
                }),
                e.inputState.startMouseSelection(new Qa(e, t, n, o));
            }
          }
        });
      var rl = function (e, t) {
          return e >= t.top && e <= t.bottom;
        },
        ol = function (e, t, n) {
          return rl(t, n) && e >= n.left && e <= n.right;
        };
      function sl(e, t, n, i) {
        var r = Ds.find(e.docView, t);
        if (!r) return 1;
        var o = t - r.posAtStart;
        if (0 == o) return 1;
        if (o == r.length) return -1;
        var s = r.coordsAt(o, -1);
        if (s && ol(n, i, s)) return -1;
        var a = r.coordsAt(o, 1);
        return a && ol(n, i, a) ? 1 : s && rl(i, s) ? -1 : 1;
      }
      function al(e, t) {
        var n = e.posAtCoords({ x: t.clientX, y: t.clientY }, !1);
        return { pos: n, bias: sl(e, n, t.clientX, t.clientY) };
      }
      var ll = as.ie && as.ie_version <= 11,
        cl = null,
        ul = 0,
        hl = 0;
      function pl(e) {
        if (!ll) return e.detail;
        var t = cl,
          n = hl;
        return (
          (cl = e),
          (hl = Date.now()),
          (ul =
            !t ||
            (n > Date.now() - 400 &&
              Math.abs(t.clientX - e.clientX) < 2 &&
              Math.abs(t.clientY - e.clientY) < 2)
              ? (ul + 1) % 3
              : 1)
        );
      }
      function dl(e, t, n, i) {
        if (n) {
          var r = e.posAtCoords({ x: t.clientX, y: t.clientY }, !1);
          t.preventDefault();
          var o = e.inputState.mouseSelection,
            s =
              i && o && o.dragging && o.dragMove
                ? { from: o.dragging.from, to: o.dragging.to }
                : null,
            a = { from: r, insert: n },
            l = e.state.changes(s ? [s, a] : a);
          e.focus(),
            e.dispatch({
              changes: l,
              selection: { anchor: l.mapPos(r, -1), head: l.mapPos(r, 1) },
              userEvent: s ? "move.drop" : "input.drop",
            });
        }
      }
      (Za.dragstart = function (e, t) {
        var n = e.state.selection.main,
          i = e.inputState.mouseSelection;
        i && (i.dragging = n),
          t.dataTransfer &&
            (t.dataTransfer.setData("Text", e.state.sliceDoc(n.from, n.to)),
            (t.dataTransfer.effectAllowed = "copyMove"));
      }),
        (Za.drop = function (e, t) {
          if (t.dataTransfer) {
            if (e.state.readOnly) return t.preventDefault();
            var n = t.dataTransfer.files;
            if (n && n.length) {
              t.preventDefault();
              for (
                var i = Array(n.length),
                  r = 0,
                  o = function () {
                    ++r == n.length &&
                      dl(
                        e,
                        t,
                        i
                          .filter(function (e) {
                            return null != e;
                          })
                          .join(e.state.lineBreak),
                        !1
                      );
                  },
                  s = function (e) {
                    var t = new FileReader();
                    (t.onerror = o),
                      (t.onload = function () {
                        /[\x00-\x08\x0e-\x1f]{2}/.test(t.result) ||
                          (i[e] = t.result),
                          o();
                      }),
                      t.readAsText(n[e]);
                  },
                  a = 0;
                a < n.length;
                a++
              )
                s(a);
            } else dl(e, t, t.dataTransfer.getData("Text"), !0);
          }
        }),
        (Za.paste = function (e, t) {
          if (e.state.readOnly) return t.preventDefault();
          e.observer.flush();
          var n = el ? null : t.clipboardData;
          n
            ? (tl(e, n.getData("text/plain")), t.preventDefault())
            : (function (e) {
                var t = e.dom.parentNode;
                if (t) {
                  var n = t.appendChild(document.createElement("textarea"));
                  (n.style.cssText =
                    "position: fixed; left: -10000px; top: 10px"),
                    n.focus(),
                    setTimeout(function () {
                      e.focus(), n.remove(), tl(e, n.value);
                    }, 50);
                }
              })(e);
        });
      var fl = null;
      function gl(e, t) {
        if (e.docView.compositionDeco.size) {
          e.inputState.rapidCompositionStart = t;
          try {
            e.update([]);
          } finally {
            e.inputState.rapidCompositionStart = !1;
          }
        }
      }
      (Za.copy = Za.cut =
        function (e, t) {
          var n = (function (e) {
              for (
                var t = [], n = [], i = !1, r = 0, o = e.selection.ranges;
                r < o.length;
                r++
              ) {
                var s = o[r];
                s.empty || (t.push(e.sliceDoc(s.from, s.to)), n.push(s));
              }
              if (!t.length) {
                for (
                  var a = -1, l = 0, c = e.selection.ranges;
                  l < c.length;
                  l++
                ) {
                  var u = c[l].from,
                    h = e.doc.lineAt(u);
                  h.number > a &&
                    (t.push(h.text),
                    n.push({
                      from: h.from,
                      to: Math.min(e.doc.length, h.to + 1),
                    })),
                    (a = h.number);
                }
                i = !0;
              }
              return { text: t.join(e.lineBreak), ranges: n, linewise: i };
            })(e.state),
            i = n.text,
            r = n.ranges,
            o = n.linewise;
          if (i || o) {
            fl = o ? i : null;
            var s = el ? null : t.clipboardData;
            s
              ? (t.preventDefault(), s.clearData(), s.setData("text/plain", i))
              : (function (e, t) {
                  var n = e.dom.parentNode;
                  if (n) {
                    var i = n.appendChild(document.createElement("textarea"));
                    (i.style.cssText =
                      "position: fixed; left: -10000px; top: 10px"),
                      (i.value = t),
                      i.focus(),
                      (i.selectionEnd = t.length),
                      (i.selectionStart = 0),
                      setTimeout(function () {
                        i.remove(), e.focus();
                      }, 50);
                  }
                })(e, i),
              "cut" != t.type ||
                e.state.readOnly ||
                e.dispatch({
                  changes: r,
                  scrollIntoView: !0,
                  userEvent: "delete.cut",
                });
          }
        }),
        (Za.focus = Za.blur =
          function (e) {
            setTimeout(function () {
              e.hasFocus != e.inputState.notifiedFocused && e.update([]);
            }, 10);
          }),
        (Za.beforeprint = function (e) {
          (e.viewState.printing = !0),
            e.requestMeasure(),
            setTimeout(function () {
              (e.viewState.printing = !1), e.requestMeasure();
            }, 2e3);
        }),
        (Za.compositionstart = Za.compositionupdate =
          function (e) {
            null == e.inputState.compositionFirstChange &&
              (e.inputState.compositionFirstChange = !0),
              e.inputState.composing < 0 &&
                ((e.inputState.composing = 0),
                e.docView.compositionDeco.size &&
                  (e.observer.flush(), gl(e, !0)));
          }),
        (Za.compositionend = function (e) {
          (e.inputState.composing = -1),
            (e.inputState.compositionEndedAt = Date.now()),
            (e.inputState.compositionFirstChange = null),
            setTimeout(function () {
              e.inputState.composing < 0 && gl(e, !1);
            }, 50);
        }),
        (Za.contextmenu = function (e) {
          e.inputState.lastContextMenu = Date.now();
        }),
        (Za.beforeinput = function (e, t) {
          var n, i;
          if (
            as.chrome &&
            as.android &&
            (i = Ya.find(function (e) {
              return e.inputType == t.inputType;
            })) &&
            (e.observer.delayAndroidKey(i.key, i.keyCode),
            "Backspace" == i.key || "Delete" == i.key)
          ) {
            var r =
              (null === (n = window.visualViewport) || void 0 === n
                ? void 0
                : n.height) || 0;
            setTimeout(function () {
              var t;
              ((null === (t = window.visualViewport) || void 0 === t
                ? void 0
                : t.height) || 0) >
                r + 10 &&
                e.hasFocus &&
                (e.contentDOM.blur(), e.focus());
            }, 100);
          }
        });
      var ml = ["pre-wrap", "normal", "pre-line", "break-spaces"],
        vl = (function () {
          function e() {
            (this.doc = Fi.empty),
              (this.lineWrapping = !1),
              (this.direction = sa.LTR),
              (this.heightSamples = {}),
              (this.lineHeight = 14),
              (this.charWidth = 7),
              (this.lineLength = 30),
              (this.heightChanged = !1);
          }
          return (
            (e.prototype.heightForGap = function (e, t) {
              var n = this.doc.lineAt(t).number - this.doc.lineAt(e).number + 1;
              return (
                this.lineWrapping &&
                  (n += Math.ceil(
                    (t - e - n * this.lineLength * 0.5) / this.lineLength
                  )),
                this.lineHeight * n
              );
            }),
            (e.prototype.heightForLine = function (e) {
              return this.lineWrapping
                ? (1 +
                    Math.max(
                      0,
                      Math.ceil((e - this.lineLength) / (this.lineLength - 5))
                    )) *
                    this.lineHeight
                : this.lineHeight;
            }),
            (e.prototype.setDoc = function (e) {
              return (this.doc = e), this;
            }),
            (e.prototype.mustRefreshForStyle = function (e, t) {
              return (
                ml.indexOf(e) > -1 != this.lineWrapping || this.direction != t
              );
            }),
            (e.prototype.mustRefreshForHeights = function (e) {
              for (var t = !1, n = 0; n < e.length; n++) {
                var i = e[n];
                i < 0
                  ? n++
                  : this.heightSamples[Math.floor(10 * i)] ||
                    ((t = !0), (this.heightSamples[Math.floor(10 * i)] = !0));
              }
              return t;
            }),
            (e.prototype.refresh = function (e, t, n, i, r, o) {
              var s = ml.indexOf(e) > -1,
                a =
                  Math.round(n) != Math.round(this.lineHeight) ||
                  this.lineWrapping != s ||
                  this.direction != t;
              if (
                ((this.lineWrapping = s),
                (this.direction = t),
                (this.lineHeight = n),
                (this.charWidth = i),
                (this.lineLength = r),
                a)
              ) {
                this.heightSamples = {};
                for (var l = 0; l < o.length; l++) {
                  var c = o[l];
                  c < 0 ? l++ : (this.heightSamples[Math.floor(10 * c)] = !0);
                }
              }
              return a;
            }),
            e
          );
        })(),
        yl = (function () {
          function e(e, t) {
            (this.from = e), (this.heights = t), (this.index = 0);
          }
          return (
            Object.defineProperty(e.prototype, "more", {
              get: function () {
                return this.index < this.heights.length;
              },
              enumerable: !1,
              configurable: !0,
            }),
            e
          );
        })(),
        bl = (function () {
          function e(e, t, n, i, r) {
            (this.from = e),
              (this.length = t),
              (this.top = n),
              (this.height = i),
              (this.type = r);
          }
          return (
            Object.defineProperty(e.prototype, "to", {
              get: function () {
                return this.from + this.length;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "bottom", {
              get: function () {
                return this.top + this.height;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.join = function (t) {
              var n = (Array.isArray(this.type) ? this.type : [this]).concat(
                Array.isArray(t.type) ? t.type : [t]
              );
              return new e(
                this.from,
                this.length + t.length,
                this.top,
                this.height + t.height,
                n
              );
            }),
            (e.prototype.moveY = function (t) {
              return t
                ? new e(
                    this.from,
                    this.length,
                    this.top + t,
                    this.height,
                    Array.isArray(this.type)
                      ? this.type.map(function (e) {
                          return e.moveY(t);
                        })
                      : this.type
                  )
                : this;
            }),
            e
          );
        })(),
        wl = (function (e) {
          return (
            (e[(e.ByPos = 0)] = "ByPos"),
            (e[(e.ByHeight = 1)] = "ByHeight"),
            (e[(e.ByPosNoHeight = 2)] = "ByPosNoHeight"),
            e
          );
        })(wl || (wl = {})),
        kl = 0.001,
        Cl = (function () {
          function e(e, t, n) {
            void 0 === n && (n = 2),
              (this.length = e),
              (this.height = t),
              (this.flags = n);
          }
          return (
            Object.defineProperty(e.prototype, "outdated", {
              get: function () {
                return (2 & this.flags) > 0;
              },
              set: function (e) {
                this.flags = (e ? 2 : 0) | (-3 & this.flags);
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.setHeight = function (e, t) {
              this.height != t &&
                (Math.abs(this.height - t) > kl && (e.heightChanged = !0),
                (this.height = t));
            }),
            (e.prototype.replace = function (t, n, i) {
              return e.of(i);
            }),
            (e.prototype.decomposeLeft = function (e, t) {
              t.push(this);
            }),
            (e.prototype.decomposeRight = function (e, t) {
              t.push(this);
            }),
            (e.prototype.applyChanges = function (e, t, n, i) {
              for (var r = this, o = i.length - 1; o >= 0; o--) {
                var s = i[o],
                  a = s.fromA,
                  l = s.toA,
                  c = s.fromB,
                  u = s.toB,
                  h = r.lineAt(a, wl.ByPosNoHeight, t, 0, 0),
                  p = h.to >= l ? h : r.lineAt(l, wl.ByPosNoHeight, t, 0, 0);
                for (u += p.to - l, l = p.to; o > 0 && h.from <= i[o - 1].toA; )
                  (a = i[o - 1].fromA),
                    (c = i[o - 1].fromB),
                    o--,
                    a < h.from && (h = r.lineAt(a, wl.ByPosNoHeight, t, 0, 0));
                (c += h.from - a), (a = h.from);
                var d = Al.build(n, e, c, u);
                r = r.replace(a, l, d);
              }
              return r.updateHeight(n, 0);
            }),
            (e.empty = function () {
              return new Sl(0, 0);
            }),
            (e.of = function (t) {
              if (1 == t.length) return t[0];
              for (var n = 0, i = t.length, r = 0, o = 0; ; )
                if (n == i)
                  if (r > 2 * o) {
                    (s = t[n - 1]).break
                      ? t.splice(--n, 1, s.left, null, s.right)
                      : t.splice(--n, 1, s.left, s.right),
                      (i += 1 + s.break),
                      (r -= s.size);
                  } else {
                    if (!(o > 2 * r)) break;
                    var s;
                    (s = t[i]).break
                      ? t.splice(i, 1, s.left, null, s.right)
                      : t.splice(i, 1, s.left, s.right),
                      (i += 2 + s.break),
                      (o -= s.size);
                  }
                else if (r < o) {
                  (a = t[n++]) && (r += a.size);
                } else {
                  var a;
                  (a = t[--i]) && (o += a.size);
                }
              var l = 0;
              return (
                null == t[n - 1]
                  ? ((l = 1), n--)
                  : null == t[n] && ((l = 1), i++),
                new Ml(e.of(t.slice(0, n)), l, e.of(t.slice(i)))
              );
            }),
            e
          );
        })();
      Cl.prototype.size = 1;
      var xl = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t, n) || this;
            return (r.type = i), r;
          }
          return (
            M(t, e),
            (t.prototype.blockAt = function (e, t, n, i) {
              return new bl(i, this.length, n, this.height, this.type);
            }),
            (t.prototype.lineAt = function (e, t, n, i, r) {
              return this.blockAt(0, n, i, r);
            }),
            (t.prototype.forEachLine = function (e, t, n, i, r, o) {
              o(this.blockAt(0, n, i, r));
            }),
            (t.prototype.updateHeight = function (e, t, n, i) {
              return (
                void 0 === t && (t = 0),
                void 0 === n && (n = !1),
                i &&
                  i.from <= t &&
                  i.more &&
                  this.setHeight(e, i.heights[i.index++]),
                (this.outdated = !1),
                this
              );
            }),
            (t.prototype.toString = function () {
              return "block(" + this.length + ")";
            }),
            t
          );
        })(Cl),
        Sl = (function (e) {
          function t(t, n) {
            var i = e.call(this, t, n, Cs.Text) || this;
            return (i.collapsed = 0), (i.widgetHeight = 0), i;
          }
          return (
            M(t, e),
            (t.prototype.replace = function (e, n, i) {
              var r = i[0];
              return 1 == i.length &&
                (r instanceof t || (r instanceof El && 4 & r.flags)) &&
                Math.abs(this.length - r.length) < 10
                ? (r instanceof El
                    ? (r = new t(r.length, this.height))
                    : (r.height = this.height),
                  this.outdated || (r.outdated = !1),
                  r)
                : Cl.of(i);
            }),
            (t.prototype.updateHeight = function (e, t, n, i) {
              return (
                void 0 === t && (t = 0),
                void 0 === n && (n = !1),
                i && i.from <= t && i.more
                  ? this.setHeight(e, i.heights[i.index++])
                  : (n || this.outdated) &&
                    this.setHeight(
                      e,
                      Math.max(
                        this.widgetHeight,
                        e.heightForLine(this.length - this.collapsed)
                      )
                    ),
                (this.outdated = !1),
                this
              );
            }),
            (t.prototype.toString = function () {
              return (
                "line(" +
                this.length +
                (this.collapsed ? -this.collapsed : "") +
                (this.widgetHeight ? ":" + this.widgetHeight : "") +
                ")"
              );
            }),
            t
          );
        })(xl),
        El = (function (e) {
          function t(t) {
            return e.call(this, t, 0) || this;
          }
          return (
            M(t, e),
            (t.prototype.lines = function (e, t) {
              var n = e.lineAt(t).number,
                i = e.lineAt(t + this.length).number;
              return {
                firstLine: n,
                lastLine: i,
                lineHeight: this.height / (i - n + 1),
              };
            }),
            (t.prototype.blockAt = function (e, t, n, i) {
              var r = this.lines(t, i),
                o = r.firstLine,
                s = r.lastLine,
                a = r.lineHeight,
                l = Math.max(0, Math.min(s - o, Math.floor((e - n) / a))),
                c = t.line(o + l),
                u = c.from,
                h = c.length;
              return new bl(u, h, n + a * l, a, Cs.Text);
            }),
            (t.prototype.lineAt = function (e, t, n, i, r) {
              if (t == wl.ByHeight) return this.blockAt(e, n, i, r);
              if (t == wl.ByPosNoHeight) {
                var o = n.lineAt(e),
                  s = o.from,
                  a = o.to;
                return new bl(s, a - s, 0, 0, Cs.Text);
              }
              var l = this.lines(n, r),
                c = l.firstLine,
                u = l.lineHeight,
                h = n.lineAt(e),
                p = h.from,
                d = h.length,
                f = h.number;
              return new bl(p, d, i + u * (f - c), u, Cs.Text);
            }),
            (t.prototype.forEachLine = function (e, t, n, i, r, o) {
              for (
                var s = this.lines(n, r),
                  a = s.firstLine,
                  l = s.lineHeight,
                  c = Math.max(e, r),
                  u = Math.min(r + this.length, t);
                c <= u;

              ) {
                var h = n.lineAt(c);
                c == e && (i += l * (h.number - a)),
                  o(new bl(h.from, h.length, i, l, Cs.Text)),
                  (i += l),
                  (c = h.to + 1);
              }
            }),
            (t.prototype.replace = function (e, n, i) {
              var r = this.length - n;
              if (r > 0) {
                var o = i[i.length - 1];
                o instanceof t
                  ? (i[i.length - 1] = new t(o.length + r))
                  : i.push(null, new t(r - 1));
              }
              if (e > 0) {
                var s = i[0];
                s instanceof t
                  ? (i[0] = new t(e + s.length))
                  : i.unshift(new t(e - 1), null);
              }
              return Cl.of(i);
            }),
            (t.prototype.decomposeLeft = function (e, n) {
              n.push(new t(e - 1), null);
            }),
            (t.prototype.decomposeRight = function (e, n) {
              n.push(null, new t(this.length - e - 1));
            }),
            (t.prototype.updateHeight = function (e, n, i, r) {
              void 0 === n && (n = 0), void 0 === i && (i = !1);
              var o = n + this.length;
              if (r && r.from <= n + this.length && r.more) {
                var s = [],
                  a = Math.max(n, r.from),
                  l = -1,
                  c = e.heightChanged;
                for (
                  r.from > n &&
                  s.push(new t(r.from - n - 1).updateHeight(e, n));
                  a <= o && r.more;

                ) {
                  var u = e.doc.lineAt(a).length;
                  s.length && s.push(null);
                  var h = r.heights[r.index++];
                  -1 == l ? (l = h) : Math.abs(h - l) >= kl && (l = -2);
                  var p = new Sl(u, h);
                  (p.outdated = !1), s.push(p), (a += u + 1);
                }
                a <= o && s.push(null, new t(o - a).updateHeight(e, a));
                var d = Cl.of(s);
                return (
                  (e.heightChanged =
                    c ||
                    l < 0 ||
                    Math.abs(d.height - this.height) >= kl ||
                    Math.abs(l - this.lines(e.doc, n).lineHeight) >= kl),
                  d
                );
              }
              return (
                (i || this.outdated) &&
                  (this.setHeight(e, e.heightForGap(n, n + this.length)),
                  (this.outdated = !1)),
                this
              );
            }),
            (t.prototype.toString = function () {
              return "gap(" + this.length + ")";
            }),
            t
          );
        })(Cl),
        Ml = (function (e) {
          function t(t, n, i) {
            var r =
              e.call(
                this,
                t.length + n + i.length,
                t.height + i.height,
                n | (t.outdated || i.outdated ? 2 : 0)
              ) || this;
            return (r.left = t), (r.right = i), (r.size = t.size + i.size), r;
          }
          return (
            M(t, e),
            Object.defineProperty(t.prototype, "break", {
              get: function () {
                return 1 & this.flags;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (t.prototype.blockAt = function (e, t, n, i) {
              var r = n + this.left.height;
              return e < r
                ? this.left.blockAt(e, t, n, i)
                : this.right.blockAt(
                    e,
                    t,
                    r,
                    i + this.left.length + this.break
                  );
            }),
            (t.prototype.lineAt = function (e, t, n, i, r) {
              var o = i + this.left.height,
                s = r + this.left.length + this.break,
                a = t == wl.ByHeight ? e < o : e < s,
                l = a
                  ? this.left.lineAt(e, t, n, i, r)
                  : this.right.lineAt(e, t, n, o, s);
              if (this.break || (a ? l.to < s : l.from > s)) return l;
              var c = t == wl.ByPosNoHeight ? wl.ByPosNoHeight : wl.ByPos;
              return a
                ? l.join(this.right.lineAt(s, c, n, o, s))
                : this.left.lineAt(s, c, n, i, r).join(l);
            }),
            (t.prototype.forEachLine = function (e, t, n, i, r, o) {
              var s = i + this.left.height,
                a = r + this.left.length + this.break;
              if (this.break)
                e < a && this.left.forEachLine(e, t, n, i, r, o),
                  t >= a && this.right.forEachLine(e, t, n, s, a, o);
              else {
                var l = this.lineAt(a, wl.ByPos, n, i, r);
                e < l.from && this.left.forEachLine(e, l.from - 1, n, i, r, o),
                  l.to >= e && l.from <= t && o(l),
                  t > l.to && this.right.forEachLine(l.to + 1, t, n, s, a, o);
              }
            }),
            (t.prototype.replace = function (e, t, n) {
              var i = this.left.length + this.break;
              if (t < i)
                return this.balanced(this.left.replace(e, t, n), this.right);
              if (e > this.left.length)
                return this.balanced(
                  this.left,
                  this.right.replace(e - i, t - i, n)
                );
              var r = [];
              e > 0 && this.decomposeLeft(e, r);
              for (var o = r.length, s = 0, a = n; s < a.length; s++) {
                var l = a[s];
                r.push(l);
              }
              if ((e > 0 && Ll(r, o - 1), t < this.length)) {
                var c = r.length;
                this.decomposeRight(t, r), Ll(r, c);
              }
              return Cl.of(r);
            }),
            (t.prototype.decomposeLeft = function (e, t) {
              var n = this.left.length;
              if (e <= n) return this.left.decomposeLeft(e, t);
              t.push(this.left),
                this.break && e >= ++n && t.push(null),
                e > n && this.right.decomposeLeft(e - n, t);
            }),
            (t.prototype.decomposeRight = function (e, t) {
              var n = this.left.length,
                i = n + this.break;
              if (e >= i) return this.right.decomposeRight(e - i, t);
              e < n && this.left.decomposeRight(e, t),
                this.break && e < i && t.push(null),
                t.push(this.right);
            }),
            (t.prototype.balanced = function (e, t) {
              return e.size > 2 * t.size || t.size > 2 * e.size
                ? Cl.of(this.break ? [e, null, t] : [e, t])
                : ((this.left = e),
                  (this.right = t),
                  (this.height = e.height + t.height),
                  (this.outdated = e.outdated || t.outdated),
                  (this.size = e.size + t.size),
                  (this.length = e.length + this.break + t.length),
                  this);
            }),
            (t.prototype.updateHeight = function (e, t, n, i) {
              void 0 === t && (t = 0), void 0 === n && (n = !1);
              var r = this.left,
                o = this.right,
                s = t + r.length + this.break,
                a = null;
              return (
                i && i.from <= t + r.length && i.more
                  ? (a = r = r.updateHeight(e, t, n, i))
                  : r.updateHeight(e, t, n),
                i && i.from <= s + o.length && i.more
                  ? (a = o = o.updateHeight(e, s, n, i))
                  : o.updateHeight(e, s, n),
                a
                  ? this.balanced(r, o)
                  : ((this.height = this.left.height + this.right.height),
                    (this.outdated = !1),
                    this)
              );
            }),
            (t.prototype.toString = function () {
              return this.left + (this.break ? " " : "-") + this.right;
            }),
            t
          );
        })(Cl);
      function Ll(e, t) {
        var n, i;
        null == e[t] &&
          (n = e[t - 1]) instanceof El &&
          (i = e[t + 1]) instanceof El &&
          e.splice(t - 1, 3, new El(n.length + 1 + i.length));
      }
      var Al = (function () {
        function e(e, t) {
          (this.pos = e),
            (this.oracle = t),
            (this.nodes = []),
            (this.lineStart = -1),
            (this.lineEnd = -1),
            (this.covering = null),
            (this.writtenTo = e);
        }
        return (
          Object.defineProperty(e.prototype, "isCovered", {
            get: function () {
              return (
                this.covering &&
                this.nodes[this.nodes.length - 1] == this.covering
              );
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.span = function (e, t) {
            if (this.lineStart > -1) {
              var n = Math.min(t, this.lineEnd),
                i = this.nodes[this.nodes.length - 1];
              i instanceof Sl
                ? (i.length += n - this.pos)
                : (n > this.pos || !this.isCovered) &&
                  this.nodes.push(new Sl(n - this.pos, -1)),
                (this.writtenTo = n),
                t > n &&
                  (this.nodes.push(null),
                  this.writtenTo++,
                  (this.lineStart = -1));
            }
            this.pos = t;
          }),
          (e.prototype.point = function (e, t, n) {
            if (e < t || n.heightRelevant) {
              var i = n.widget ? n.widget.estimatedHeight : 0;
              i < 0 && (i = this.oracle.lineHeight);
              var r = t - e;
              n.block
                ? this.addBlock(new xl(r, i, n.type))
                : (r || i >= 5) && this.addLineDeco(i, r);
            } else t > e && this.span(e, t);
            this.lineEnd > -1 &&
              this.lineEnd < this.pos &&
              (this.lineEnd = this.oracle.doc.lineAt(this.pos).to);
          }),
          (e.prototype.enterLine = function () {
            if (!(this.lineStart > -1)) {
              var e = this.oracle.doc.lineAt(this.pos),
                t = e.from,
                n = e.to;
              (this.lineStart = t),
                (this.lineEnd = n),
                this.writtenTo < t &&
                  ((this.writtenTo < t - 1 ||
                    null == this.nodes[this.nodes.length - 1]) &&
                    this.nodes.push(this.blankContent(this.writtenTo, t - 1)),
                  this.nodes.push(null)),
                this.pos > t && this.nodes.push(new Sl(this.pos - t, -1)),
                (this.writtenTo = this.pos);
            }
          }),
          (e.prototype.blankContent = function (e, t) {
            var n = new El(t - e);
            return this.oracle.doc.lineAt(e).to == t && (n.flags |= 4), n;
          }),
          (e.prototype.ensureLine = function () {
            this.enterLine();
            var e = this.nodes.length
              ? this.nodes[this.nodes.length - 1]
              : null;
            if (e instanceof Sl) return e;
            var t = new Sl(0, -1);
            return this.nodes.push(t), t;
          }),
          (e.prototype.addBlock = function (e) {
            this.enterLine(),
              e.type != Cs.WidgetAfter || this.isCovered || this.ensureLine(),
              this.nodes.push(e),
              (this.writtenTo = this.pos = this.pos + e.length),
              e.type != Cs.WidgetBefore && (this.covering = e);
          }),
          (e.prototype.addLineDeco = function (e, t) {
            var n = this.ensureLine();
            (n.length += t),
              (n.collapsed += t),
              (n.widgetHeight = Math.max(n.widgetHeight, e)),
              (this.writtenTo = this.pos = this.pos + t);
          }),
          (e.prototype.finish = function (e) {
            var t =
              0 == this.nodes.length ? null : this.nodes[this.nodes.length - 1];
            !(this.lineStart > -1) || t instanceof Sl || this.isCovered
              ? (this.writtenTo < this.pos || null == t) &&
                this.nodes.push(this.blankContent(this.writtenTo, this.pos))
              : this.nodes.push(new Sl(0, -1));
            for (var n = e, i = 0, r = this.nodes; i < r.length; i++) {
              var o = r[i];
              o instanceof Sl && o.updateHeight(this.oracle, n),
                (n += o ? o.length : 1);
            }
            return this.nodes;
          }),
          (e.build = function (t, n, i, r) {
            var o = new e(i, t);
            return no.spans(n, i, r, o, 0), o.finish(i);
          }),
          e
        );
      })();
      var Dl = (function () {
        function e() {
          this.changes = [];
        }
        return (
          (e.prototype.compareRange = function () {}),
          (e.prototype.comparePoint = function (e, t, n, i) {
            (e < t || (n && n.heightRelevant) || (i && i.heightRelevant)) &&
              As(e, t, this.changes, 5);
          }),
          e
        );
      })();
      var Tl = (function () {
          function e(e, t, n) {
            (this.from = e), (this.to = t), (this.size = n);
          }
          return (
            (e.same = function (e, t) {
              if (e.length != t.length) return !1;
              for (var n = 0; n < e.length; n++) {
                var i = e[n],
                  r = t[n];
                if (i.from != r.from || i.to != r.to || i.size != r.size)
                  return !1;
              }
              return !0;
            }),
            (e.prototype.draw = function (e) {
              return xs
                .replace({ widget: new Pl(this.size, e) })
                .range(this.from, this.to);
            }),
            e
          );
        })(),
        Pl = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            return (i.size = t), (i.vertical = n), i;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return e.size == this.size && e.vertical == this.vertical;
            }),
            (t.prototype.toDOM = function () {
              var e = document.createElement("div");
              return (
                this.vertical
                  ? (e.style.height = this.size + "px")
                  : ((e.style.width = this.size + "px"),
                    (e.style.height = "2px"),
                    (e.style.display = "inline-block")),
                e
              );
            }),
            Object.defineProperty(t.prototype, "estimatedHeight", {
              get: function () {
                return this.vertical ? this.size : -1;
              },
              enumerable: !1,
              configurable: !0,
            }),
            t
          );
        })(ks),
        Ol = (function () {
          function e(e) {
            (this.state = e),
              (this.pixelViewport = {
                left: 0,
                right: window.innerWidth,
                top: 0,
                bottom: 0,
              }),
              (this.inView = !0),
              (this.paddingTop = 0),
              (this.paddingBottom = 0),
              (this.contentDOMWidth = 0),
              (this.contentDOMHeight = 0),
              (this.editorHeight = 0),
              (this.editorWidth = 0),
              (this.heightOracle = new vl()),
              (this.scaler = Rl),
              (this.scrollTarget = null),
              (this.printing = !1),
              (this.mustMeasureContent = !0),
              (this.visibleRanges = []),
              (this.mustEnforceCursorAssoc = !1),
              (this.heightMap = Cl.empty().applyChanges(
                e.facet(na),
                Fi.empty,
                this.heightOracle.setDoc(e.doc),
                [new ra(0, 0, 0, e.doc.length)]
              )),
              (this.viewport = this.getViewport(0, null)),
              this.updateViewportLines(),
              this.updateForViewport(),
              (this.lineGaps = this.ensureLineGaps([])),
              (this.lineGapDeco = xs.set(
                this.lineGaps.map(function (e) {
                  return e.draw(!1);
                })
              )),
              this.computeVisibleRanges();
          }
          return (
            (e.prototype.updateForViewport = function () {
              for (
                var e = [this.viewport],
                  t = this.state.selection.main,
                  n = function (n) {
                    var r = n ? t.head : t.anchor;
                    if (
                      !e.some(function (e) {
                        var t = e.from,
                          n = e.to;
                        return r >= t && r <= n;
                      })
                    ) {
                      var o = i.lineBlockAt(r),
                        s = o.from,
                        a = o.to;
                      e.push(new Fl(s, a));
                    }
                  },
                  i = this,
                  r = 0;
                r <= 1;
                r++
              )
                n(r);
              (this.viewports = e.sort(function (e, t) {
                return e.from - t.from;
              })),
                (this.scaler =
                  this.heightMap.height <= 7e6
                    ? Rl
                    : new zl(
                        this.heightOracle.doc,
                        this.heightMap,
                        this.viewports
                      ));
            }),
            (e.prototype.updateViewportLines = function () {
              var e = this;
              (this.viewportLines = []),
                this.heightMap.forEachLine(
                  this.viewport.from,
                  this.viewport.to,
                  this.state.doc,
                  0,
                  0,
                  function (t) {
                    e.viewportLines.push(
                      1 == e.scaler.scale ? t : Hl(t, e.scaler)
                    );
                  }
                );
            }),
            (e.prototype.update = function (e, t) {
              void 0 === t && (t = null);
              var n = this.state;
              this.state = e.state;
              var i,
                r,
                o,
                s,
                a = this.state.facet(na),
                l = e.changedRanges,
                c = ra.extendWithRanges(
                  l,
                  ((i = e.startState.facet(na)),
                  (r = a),
                  (o = e ? e.changes : _i.empty(this.state.doc.length)),
                  (s = new Dl()),
                  no.compare(i, r, o, s, 0),
                  s.changes)
                ),
                u = this.heightMap.height;
              (this.heightMap = this.heightMap.applyChanges(
                a,
                n.doc,
                this.heightOracle.setDoc(this.state.doc),
                c
              )),
                this.heightMap.height != u && (e.flags |= 2);
              var h = c.length
                ? this.mapViewport(this.viewport, e.changes)
                : this.viewport;
              ((t && (t.range.head < h.from || t.range.head > h.to)) ||
                !this.viewportIsAppropriate(h)) &&
                (h = this.getViewport(0, t));
              var p =
                !e.changes.empty ||
                2 & e.flags ||
                h.from != this.viewport.from ||
                h.to != this.viewport.to;
              (this.viewport = h),
                this.updateForViewport(),
                p && this.updateViewportLines(),
                (this.lineGaps.length ||
                  this.viewport.to - this.viewport.from > 4e3) &&
                  this.updateLineGaps(
                    this.ensureLineGaps(
                      this.mapLineGaps(this.lineGaps, e.changes)
                    )
                  ),
                (e.flags |= this.computeVisibleRanges()),
                t && (this.scrollTarget = t),
                !this.mustEnforceCursorAssoc &&
                  e.selectionSet &&
                  e.view.lineWrapping &&
                  e.state.selection.main.empty &&
                  e.state.selection.main.assoc &&
                  (this.mustEnforceCursorAssoc = !0);
            }),
            (e.prototype.measure = function (e) {
              var t = e.contentDOM,
                n = window.getComputedStyle(t),
                i = this.heightOracle,
                r = n.whiteSpace,
                o = "rtl" == n.direction ? sa.RTL : sa.LTR,
                s = this.heightOracle.mustRefreshForStyle(r, o),
                a =
                  s ||
                  this.mustMeasureContent ||
                  this.contentDOMHeight != t.clientHeight,
                l = 0,
                c = 0;
              if (
                (this.editorWidth != e.scrollDOM.clientWidth &&
                  (i.lineWrapping && (a = !0),
                  (this.editorWidth = e.scrollDOM.clientWidth),
                  (l |= 8)),
                a)
              ) {
                (this.mustMeasureContent = !1),
                  (this.contentDOMHeight = t.clientHeight);
                var u = parseInt(n.paddingTop) || 0,
                  h = parseInt(n.paddingBottom) || 0;
                (this.paddingTop == u && this.paddingBottom == h) ||
                  ((l |= 8), (this.paddingTop = u), (this.paddingBottom = h));
              }
              var p = this.printing
                  ? { top: -1e8, bottom: 1e8, left: -1e8, right: 1e8 }
                  : (function (e, t) {
                      for (
                        var n = e.getBoundingClientRect(),
                          i = Math.max(0, n.left),
                          r = Math.min(innerWidth, n.right),
                          o = Math.max(0, n.top),
                          s = Math.min(innerHeight, n.bottom),
                          a = e.ownerDocument.body,
                          l = e.parentNode;
                        l && l != a;

                      )
                        if (1 == l.nodeType) {
                          var c = l,
                            u = window.getComputedStyle(c);
                          if (
                            (c.scrollHeight > c.clientHeight ||
                              c.scrollWidth > c.clientWidth) &&
                            "visible" != u.overflow
                          ) {
                            var h = c.getBoundingClientRect();
                            (i = Math.max(i, h.left)),
                              (r = Math.min(r, h.right)),
                              (o = Math.max(o, h.top)),
                              (s = Math.min(s, h.bottom));
                          }
                          l =
                            "absolute" == u.position || "fixed" == u.position
                              ? c.offsetParent
                              : c.parentNode;
                        } else {
                          if (11 != l.nodeType) break;
                          l = l.host;
                        }
                      return {
                        left: i - n.left,
                        right: Math.max(i, r) - n.left,
                        top: o - (n.top + t),
                        bottom: Math.max(o, s) - (n.top + t),
                      };
                    })(t, this.paddingTop),
                d = p.top - this.pixelViewport.top,
                f = p.bottom - this.pixelViewport.bottom;
              this.pixelViewport = p;
              var g =
                this.pixelViewport.bottom > this.pixelViewport.top &&
                this.pixelViewport.right > this.pixelViewport.left;
              if (
                (g != this.inView && ((this.inView = g), g && (a = !0)),
                !this.inView)
              )
                return 0;
              var m = t.clientWidth;
              if (
                ((this.contentDOMWidth == m &&
                  this.editorHeight == e.scrollDOM.clientHeight) ||
                  ((this.contentDOMWidth = m),
                  (this.editorHeight = e.scrollDOM.clientHeight),
                  (l |= 8)),
                a)
              ) {
                var v = e.docView.measureVisibleLineHeights();
                if (
                  (i.mustRefreshForHeights(v) && (s = !0),
                  s ||
                    (i.lineWrapping &&
                      Math.abs(m - this.contentDOMWidth) > i.charWidth))
                ) {
                  var y = e.docView.measureTextSize(),
                    b = y.lineHeight,
                    w = y.charWidth;
                  (s = i.refresh(r, o, b, w, m / w, v)) &&
                    ((e.docView.minWidth = 0), (l |= 8));
                }
                d > 0 && f > 0
                  ? (c = Math.max(d, f))
                  : d < 0 && f < 0 && (c = Math.min(d, f)),
                  (i.heightChanged = !1),
                  (this.heightMap = this.heightMap.updateHeight(
                    i,
                    0,
                    s,
                    new yl(this.viewport.from, v)
                  )),
                  i.heightChanged && (l |= 2);
              }
              var k =
                !this.viewportIsAppropriate(this.viewport, c) ||
                (this.scrollTarget &&
                  (this.scrollTarget.range.head < this.viewport.from ||
                    this.scrollTarget.range.head > this.viewport.to));
              return (
                k && (this.viewport = this.getViewport(c, this.scrollTarget)),
                this.updateForViewport(),
                (2 & l || k) && this.updateViewportLines(),
                (this.lineGaps.length ||
                  this.viewport.to - this.viewport.from > 4e3) &&
                  this.updateLineGaps(
                    this.ensureLineGaps(s ? [] : this.lineGaps)
                  ),
                (l |= this.computeVisibleRanges()),
                this.mustEnforceCursorAssoc &&
                  ((this.mustEnforceCursorAssoc = !1),
                  e.docView.enforceCursorAssoc()),
                l
              );
            }),
            Object.defineProperty(e.prototype, "visibleTop", {
              get: function () {
                return this.scaler.fromDOM(this.pixelViewport.top);
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "visibleBottom", {
              get: function () {
                return this.scaler.fromDOM(this.pixelViewport.bottom);
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.getViewport = function (e, t) {
              var n = 0.5 - Math.max(-0.5, Math.min(0.5, e / 1e3 / 2)),
                i = this.heightMap,
                r = this.state.doc,
                o = this.visibleTop,
                s = this.visibleBottom,
                a = new Fl(
                  i.lineAt(o - 1e3 * n, wl.ByHeight, r, 0, 0).from,
                  i.lineAt(s + 1e3 * (1 - n), wl.ByHeight, r, 0, 0).to
                );
              if (t) {
                var l = t.range.head;
                if (l < a.from || l > a.to) {
                  var c = Math.min(
                      this.editorHeight,
                      this.pixelViewport.bottom - this.pixelViewport.top
                    ),
                    u = i.lineAt(l, wl.ByPos, r, 0, 0),
                    h = void 0;
                  (h =
                    "center" == t.y
                      ? (u.top + u.bottom) / 2 - c / 2
                      : "start" == t.y || ("nearest" == t.y && l < a.from)
                      ? u.top
                      : u.bottom - c),
                    (a = new Fl(
                      i.lineAt(h - 500, wl.ByHeight, r, 0, 0).from,
                      i.lineAt(h + c + 500, wl.ByHeight, r, 0, 0).to
                    ));
                }
              }
              return a;
            }),
            (e.prototype.mapViewport = function (e, t) {
              var n = t.mapPos(e.from, -1),
                i = t.mapPos(e.to, 1);
              return new Fl(
                this.heightMap.lineAt(n, wl.ByPos, this.state.doc, 0, 0).from,
                this.heightMap.lineAt(i, wl.ByPos, this.state.doc, 0, 0).to
              );
            }),
            (e.prototype.viewportIsAppropriate = function (e, t) {
              var n = e.from,
                i = e.to;
              if ((void 0 === t && (t = 0), !this.inView)) return !0;
              var r = this.heightMap.lineAt(
                  n,
                  wl.ByPos,
                  this.state.doc,
                  0,
                  0
                ).top,
                o = this.heightMap.lineAt(
                  i,
                  wl.ByPos,
                  this.state.doc,
                  0,
                  0
                ).bottom,
                s = this.visibleTop,
                a = this.visibleBottom;
              return (
                (0 == n || r <= s - Math.max(10, Math.min(-t, 250))) &&
                (i == this.state.doc.length ||
                  o >= a + Math.max(10, Math.min(t, 250))) &&
                r > s - 2e3 &&
                o < a + 2e3
              );
            }),
            (e.prototype.mapLineGaps = function (e, t) {
              if (!e.length || t.empty) return e;
              for (var n = [], i = 0, r = e; i < r.length; i++) {
                var o = r[i];
                t.touchesRange(o.from, o.to) ||
                  n.push(new Tl(t.mapPos(o.from), t.mapPos(o.to), o.size));
              }
              return n;
            }),
            (e.prototype.ensureLineGaps = function (e) {
              var t = [];
              if (this.heightOracle.direction != sa.LTR) return t;
              for (
                var n = function (n) {
                    if (n.length < 4e3) return "continue";
                    var r = (function (e, t, n) {
                      var i = [],
                        r = e,
                        o = 0;
                      no.spans(
                        n.facet(na),
                        e,
                        t,
                        {
                          span: function () {},
                          point: function (e, t) {
                            e > r && (i.push({ from: r, to: e }), (o += e - r)),
                              (r = t);
                          },
                        },
                        20
                      ),
                        r < t && (i.push({ from: r, to: t }), (o += t - r));
                      return { total: o, ranges: i };
                    })(n.from, n.to, i.state);
                    if (r.total < 4e3) return "continue";
                    var o = void 0,
                      s = void 0;
                    if (i.heightOracle.lineWrapping) {
                      var a =
                        (2e3 / i.heightOracle.lineLength) *
                        i.heightOracle.lineHeight;
                      (o = Il(r, (i.visibleTop - n.top - a) / n.height)),
                        (s = Il(r, (i.visibleBottom - n.top + a) / n.height));
                    } else {
                      var l = r.total * i.heightOracle.charWidth,
                        c = 2e3 * i.heightOracle.charWidth;
                      (o = Il(r, (i.pixelViewport.left - c) / l)),
                        (s = Il(r, (i.pixelViewport.right + c) / l));
                    }
                    var u = [];
                    o > n.from && u.push({ from: n.from, to: o }),
                      s < n.to && u.push({ from: s, to: n.to });
                    var h = i.state.selection.main;
                    h.from >= n.from &&
                      h.from <= n.to &&
                      Bl(u, h.from - 10, h.from + 10),
                      !h.empty &&
                        h.to >= n.from &&
                        h.to <= n.to &&
                        Bl(u, h.to - 10, h.to + 10);
                    for (
                      var p = function (o, s) {
                          s - o > 1e3 &&
                            t.push(
                              (function (e, t) {
                                for (var n = 0, i = e; n < i.length; n++) {
                                  var r = i[n];
                                  if (t(r)) return r;
                                }
                                return;
                              })(e, function (e) {
                                return (
                                  e.from >= n.from &&
                                  e.to <= n.to &&
                                  Math.abs(e.from - o) < 1e3 &&
                                  Math.abs(e.to - s) < 1e3
                                );
                              }) || new Tl(o, s, i.gapSize(n, o, s, r))
                            );
                        },
                        d = 0,
                        f = u;
                      d < f.length;
                      d++
                    ) {
                      var g = f[d];
                      p(g.from, g.to);
                    }
                  },
                  i = this,
                  r = 0,
                  o = this.viewportLines;
                r < o.length;
                r++
              ) {
                n(o[r]);
              }
              return t;
            }),
            (e.prototype.gapSize = function (e, t, n, i) {
              var r = Nl(i, n) - Nl(i, t);
              return this.heightOracle.lineWrapping
                ? e.height * r
                : i.total * this.heightOracle.charWidth * r;
            }),
            (e.prototype.updateLineGaps = function (e) {
              var t = this;
              Tl.same(e, this.lineGaps) ||
                ((this.lineGaps = e),
                (this.lineGapDeco = xs.set(
                  e.map(function (e) {
                    return e.draw(t.heightOracle.lineWrapping);
                  })
                )));
            }),
            (e.prototype.computeVisibleRanges = function () {
              var e = this.state.facet(na);
              this.lineGaps.length && (e = e.concat(this.lineGapDeco));
              var t = [];
              no.spans(
                e,
                this.viewport.from,
                this.viewport.to,
                {
                  span: function (e, n) {
                    t.push({ from: e, to: n });
                  },
                  point: function () {},
                },
                20
              );
              var n =
                t.length != this.visibleRanges.length ||
                this.visibleRanges.some(function (e, n) {
                  return e.from != t[n].from || e.to != t[n].to;
                });
              return (this.visibleRanges = t), n ? 4 : 0;
            }),
            (e.prototype.lineBlockAt = function (e) {
              return (
                (e >= this.viewport.from &&
                  e <= this.viewport.to &&
                  this.viewportLines.find(function (t) {
                    return t.from <= e && t.to >= e;
                  })) ||
                Hl(
                  this.heightMap.lineAt(e, wl.ByPos, this.state.doc, 0, 0),
                  this.scaler
                )
              );
            }),
            (e.prototype.lineBlockAtHeight = function (e) {
              return Hl(
                this.heightMap.lineAt(
                  this.scaler.fromDOM(e),
                  wl.ByHeight,
                  this.state.doc,
                  0,
                  0
                ),
                this.scaler
              );
            }),
            (e.prototype.elementAtHeight = function (e) {
              return Hl(
                this.heightMap.blockAt(
                  this.scaler.fromDOM(e),
                  this.state.doc,
                  0,
                  0
                ),
                this.scaler
              );
            }),
            Object.defineProperty(e.prototype, "docHeight", {
              get: function () {
                return this.scaler.toDOM(this.heightMap.height);
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "contentHeight", {
              get: function () {
                return this.docHeight + this.paddingTop + this.paddingBottom;
              },
              enumerable: !1,
              configurable: !0,
            }),
            e
          );
        })(),
        Fl = function (e, t) {
          (this.from = e), (this.to = t);
        };
      function Il(e, t) {
        var n = e.total,
          i = e.ranges;
        if (t <= 0) return i[0].from;
        if (t >= 1) return i[i.length - 1].to;
        for (var r = Math.floor(n * t), o = 0; ; o++) {
          var s = i[o],
            a = s.from,
            l = s.to - a;
          if (r <= l) return a + r;
          r -= l;
        }
      }
      function Nl(e, t) {
        for (var n = 0, i = 0, r = e.ranges; i < r.length; i++) {
          var o = r[i],
            s = o.from,
            a = o.to;
          if (t <= a) {
            n += t - s;
            break;
          }
          n += a - s;
        }
        return n / e.total;
      }
      function Bl(e, t, n) {
        for (var i = 0; i < e.length; i++) {
          var r = e[i];
          if (r.from < n && r.to > t) {
            var o = [];
            r.from < t && o.push({ from: r.from, to: t }),
              r.to > n && o.push({ from: n, to: r.to }),
              e.splice.apply(e, P([i, 1], o)),
              (i += o.length - 1);
          }
        }
      }
      var Rl = {
          toDOM: function (e) {
            return e;
          },
          fromDOM: function (e) {
            return e;
          },
          scale: 1,
        },
        zl = (function () {
          function e(e, t, n) {
            var i = 0,
              r = 0,
              o = 0;
            (this.viewports = n.map(function (n) {
              var r = n.from,
                o = n.to,
                s = t.lineAt(r, wl.ByPos, e, 0, 0).top,
                a = t.lineAt(o, wl.ByPos, e, 0, 0).bottom;
              return (
                (i += a - s),
                { from: r, to: o, top: s, bottom: a, domTop: 0, domBottom: 0 }
              );
            })),
              (this.scale = (7e6 - i) / (t.height - i));
            for (var s = 0, a = this.viewports; s < a.length; s++) {
              var l = a[s];
              (l.domTop = o + (l.top - r) * this.scale),
                (o = l.domBottom = l.domTop + (l.bottom - l.top)),
                (r = l.bottom);
            }
          }
          return (
            (e.prototype.toDOM = function (e) {
              for (var t = 0, n = 0, i = 0; ; t++) {
                var r = t < this.viewports.length ? this.viewports[t] : null;
                if (!r || e < r.top) return i + (e - n) * this.scale;
                if (e <= r.bottom) return r.domTop + (e - r.top);
                (n = r.bottom), (i = r.domBottom);
              }
            }),
            (e.prototype.fromDOM = function (e) {
              for (var t = 0, n = 0, i = 0; ; t++) {
                var r = t < this.viewports.length ? this.viewports[t] : null;
                if (!r || e < r.domTop) return n + (e - i) / this.scale;
                if (e <= r.domBottom) return r.top + (e - r.domTop);
                (n = r.bottom), (i = r.domBottom);
              }
            }),
            e
          );
        })();
      function Hl(e, t) {
        if (1 == t.scale) return e;
        var n = t.toDOM(e.top),
          i = t.toDOM(e.bottom);
        return new bl(
          e.from,
          e.length,
          n,
          i - n,
          Array.isArray(e.type)
            ? e.type.map(function (e) {
                return Hl(e, t);
              })
            : e.type
        );
      }
      var Vl = ir.define({
          combine: function (e) {
            return e.join(" ");
          },
        }),
        ql = ir.define({
          combine: function (e) {
            return e.indexOf(!0) > -1;
          },
        }),
        jl = Yr.newName(),
        Ul = Yr.newName(),
        Wl = Yr.newName(),
        _l = { "&light": "." + Ul, "&dark": "." + Wl };
      function Gl(e, t, n) {
        return new Yr(t, {
          finish: function (t) {
            return /&/.test(t)
              ? t.replace(/&\w*/, function (t) {
                  if ("&" == t) return e;
                  if (!n || !n[t])
                    throw new RangeError("Unsupported selector: " + t);
                  return n[t];
                })
              : e + " " + t;
          },
        });
      }
      var Kl = Gl(
          "." + jl,
          {
            "&.cm-editor": {
              position: "relative !important",
              boxSizing: "border-box",
              "&.cm-focused": { outline: "1px dotted #212121" },
              display: "flex !important",
              flexDirection: "column",
            },
            ".cm-scroller": {
              display: "flex !important",
              alignItems: "flex-start !important",
              fontFamily: "monospace",
              lineHeight: 1.4,
              height: "100%",
              overflowX: "auto",
              position: "relative",
              zIndex: 0,
            },
            ".cm-content": {
              margin: 0,
              flexGrow: 2,
              minHeight: "100%",
              display: "block",
              whiteSpace: "pre",
              wordWrap: "normal",
              boxSizing: "border-box",
              padding: "4px 0",
              outline: "none",
              "&[contenteditable=true]": {
                WebkitUserModify: "read-write-plaintext-only",
              },
            },
            ".cm-lineWrapping": {
              whiteSpace_fallback: "pre-wrap",
              whiteSpace: "break-spaces",
              wordBreak: "break-word",
              overflowWrap: "anywhere",
            },
            "&light .cm-content": { caretColor: "black" },
            "&dark .cm-content": { caretColor: "white" },
            ".cm-line": { display: "block", padding: "0 2px 0 4px" },
            ".cm-selectionLayer": { zIndex: -1, contain: "size style" },
            ".cm-selectionBackground": { position: "absolute" },
            "&light .cm-selectionBackground": { background: "#d9d9d9" },
            "&dark .cm-selectionBackground": { background: "#222" },
            "&light.cm-focused .cm-selectionBackground": {
              background: "#d7d4f0",
            },
            "&dark.cm-focused .cm-selectionBackground": { background: "#233" },
            ".cm-cursorLayer": {
              zIndex: 100,
              contain: "size style",
              pointerEvents: "none",
            },
            "&.cm-focused .cm-cursorLayer": {
              animation: "steps(1) cm-blink 1.2s infinite",
            },
            "@keyframes cm-blink": {
              "0%": {},
              "50%": { visibility: "hidden" },
              "100%": {},
            },
            "@keyframes cm-blink2": {
              "0%": {},
              "50%": { visibility: "hidden" },
              "100%": {},
            },
            ".cm-cursor, .cm-dropCursor": {
              position: "absolute",
              borderLeft: "1.2px solid black",
              marginLeft: "-0.6px",
              pointerEvents: "none",
            },
            ".cm-cursor": { display: "none" },
            "&dark .cm-cursor": { borderLeftColor: "#444" },
            "&.cm-focused .cm-cursor": { display: "block" },
            "&light .cm-activeLine": { backgroundColor: "#f3f9ff" },
            "&dark .cm-activeLine": { backgroundColor: "#223039" },
            "&light .cm-specialChar": { color: "red" },
            "&dark .cm-specialChar": { color: "#f78" },
            ".cm-tab": {
              display: "inline-block",
              overflow: "hidden",
              verticalAlign: "bottom",
            },
            ".cm-widgetBuffer": {
              verticalAlign: "text-top",
              height: "1em",
              display: "inline",
            },
            ".cm-placeholder": {
              color: "#888",
              display: "inline-block",
              verticalAlign: "top",
            },
            ".cm-button": {
              verticalAlign: "middle",
              color: "inherit",
              fontSize: "70%",
              padding: ".2em 1em",
              borderRadius: "1px",
            },
            "&light .cm-button": {
              backgroundImage: "linear-gradient(#eff1f5, #d9d9df)",
              border: "1px solid #888",
              "&:active": {
                backgroundImage: "linear-gradient(#b4b4b4, #d0d3d6)",
              },
            },
            "&dark .cm-button": {
              backgroundImage: "linear-gradient(#393939, #111)",
              border: "1px solid #888",
              "&:active": { backgroundImage: "linear-gradient(#111, #333)" },
            },
            ".cm-textfield": {
              verticalAlign: "middle",
              color: "inherit",
              fontSize: "70%",
              border: "1px solid silver",
              padding: ".2em .5em",
            },
            "&light .cm-textfield": { backgroundColor: "white" },
            "&dark .cm-textfield": {
              border: "1px solid #555",
              backgroundColor: "inherit",
            },
          },
          _l
        ),
        $l = {
          childList: !0,
          characterData: !0,
          subtree: !0,
          attributes: !0,
          characterDataOldValue: !0,
        },
        Yl = as.ie && as.ie_version <= 11,
        Jl = (function () {
          function e(e, t, n) {
            var i = this;
            (this.view = e),
              (this.onChange = t),
              (this.onScrollChanged = n),
              (this.active = !1),
              (this.selectionRange = new Ro()),
              (this.selectionChanged = !1),
              (this.delayedFlush = -1),
              (this.resizeTimeout = -1),
              (this.queue = []),
              (this.delayedAndroidKey = null),
              (this.scrollTargets = []),
              (this.intersection = null),
              (this.resize = null),
              (this.intersecting = !1),
              (this.gapIntersection = null),
              (this.gaps = []),
              (this.parentCheck = -1),
              (this.dom = e.contentDOM),
              (this.observer = new MutationObserver(function (t) {
                for (var n = 0, r = t; n < r.length; n++) {
                  var o = r[n];
                  i.queue.push(o);
                }
                ((as.ie && as.ie_version <= 11) ||
                  (as.ios && e.compositionStarted)) &&
                t.some(function (e) {
                  return (
                    ("childList" == e.type && e.removedNodes.length) ||
                    "characterData" == e.type
                  );
                })
                  ? i.flushSoon()
                  : i.flush();
              })),
              Yl &&
                (this.onCharData = function (e) {
                  i.queue.push({
                    target: e.target,
                    type: "characterData",
                    oldValue: e.prevValue,
                  }),
                    i.flushSoon();
                }),
              (this.onSelectionChange = this.onSelectionChange.bind(this)),
              window.addEventListener(
                "resize",
                (this.onResize = this.onResize.bind(this))
              ),
              "function" == typeof ResizeObserver &&
                ((this.resize = new ResizeObserver(function () {
                  i.view.docView.lastUpdate < Date.now() - 75 && i.onResize();
                })),
                this.resize.observe(e.scrollDOM)),
              this.start(),
              window.addEventListener(
                "scroll",
                (this.onScroll = this.onScroll.bind(this))
              ),
              "function" == typeof IntersectionObserver &&
                ((this.intersection = new IntersectionObserver(function (e) {
                  i.parentCheck < 0 &&
                    (i.parentCheck = setTimeout(
                      i.listenForScroll.bind(i),
                      1e3
                    )),
                    e.length > 0 &&
                      e[e.length - 1].intersectionRatio > 0 != i.intersecting &&
                      ((i.intersecting = !i.intersecting),
                      i.intersecting != i.view.inView &&
                        i.onScrollChanged(document.createEvent("Event")));
                }, {})),
                this.intersection.observe(this.dom),
                (this.gapIntersection = new IntersectionObserver(function (e) {
                  e.length > 0 &&
                    e[e.length - 1].intersectionRatio > 0 &&
                    i.onScrollChanged(document.createEvent("Event"));
                }, {}))),
              this.listenForScroll(),
              this.readSelectionRange(),
              this.dom.ownerDocument.addEventListener(
                "selectionchange",
                this.onSelectionChange
              );
          }
          return (
            (e.prototype.onScroll = function (e) {
              this.intersecting && this.flush(!1), this.onScrollChanged(e);
            }),
            (e.prototype.onResize = function () {
              var e = this;
              this.resizeTimeout < 0 &&
                (this.resizeTimeout = setTimeout(function () {
                  (e.resizeTimeout = -1), e.view.requestMeasure();
                }, 50));
            }),
            (e.prototype.updateGaps = function (e) {
              if (
                this.gapIntersection &&
                (e.length != this.gaps.length ||
                  this.gaps.some(function (t, n) {
                    return t != e[n];
                  }))
              ) {
                this.gapIntersection.disconnect();
                for (var t = 0, n = e; t < n.length; t++) {
                  var i = n[t];
                  this.gapIntersection.observe(i);
                }
                this.gaps = e;
              }
            }),
            (e.prototype.onSelectionChange = function (e) {
              if (this.readSelectionRange() && !this.delayedAndroidKey) {
                var t = this.view,
                  n = this.selectionRange;
                if (
                  t.state.facet(Gs)
                    ? t.root.activeElement == this.dom
                    : Lo(t.dom, n)
                ) {
                  var i = n.anchorNode && t.docView.nearest(n.anchorNode);
                  (i && i.ignoreEvent(e)) ||
                    (((as.ie && as.ie_version <= 11) ||
                      (as.android && as.chrome)) &&
                    !t.state.selection.main.empty &&
                    n.focusNode &&
                    Do(n.focusNode, n.focusOffset, n.anchorNode, n.anchorOffset)
                      ? this.flushSoon()
                      : this.flush(!1));
                }
              }
            }),
            (e.prototype.readSelectionRange = function () {
              var e = this.view.root,
                t = Eo(e),
                n =
                  (as.safari &&
                    11 == e.nodeType &&
                    (function () {
                      for (var e = document.activeElement; e && e.shadowRoot; )
                        e = e.shadowRoot.activeElement;
                      return e;
                    })() == this.view.contentDOM &&
                    (function (e) {
                      var t,
                        n = null;
                      function i(e) {
                        e.preventDefault(),
                          e.stopImmediatePropagation(),
                          (n = e.getTargetRanges()[0]);
                      }
                      if (
                        (e.contentDOM.addEventListener("beforeinput", i, !0),
                        document.execCommand("indent"),
                        e.contentDOM.removeEventListener("beforeinput", i, !0),
                        !n)
                      )
                        return null;
                      var r = n.startContainer,
                        o = n.startOffset,
                        s = n.endContainer,
                        a = n.endOffset,
                        l = e.docView.domAtPos(e.state.selection.main.anchor);
                      Do(l.node, l.offset, s, a) &&
                        ((r = (t = [s, a, r, o])[0]),
                        (o = t[1]),
                        (s = t[2]),
                        (a = t[3]));
                      return {
                        anchorNode: r,
                        anchorOffset: o,
                        focusNode: s,
                        focusOffset: a,
                      };
                    })(this.view)) ||
                  t;
              return (
                !this.selectionRange.eq(n) &&
                (this.selectionRange.setRange(n), (this.selectionChanged = !0))
              );
            }),
            (e.prototype.setSelectionRange = function (e, t) {
              this.selectionRange.set(e.node, e.offset, t.node, t.offset),
                (this.selectionChanged = !1);
            }),
            (e.prototype.listenForScroll = function () {
              this.parentCheck = -1;
              for (var e = 0, t = null, n = this.dom; n; )
                if (1 == n.nodeType)
                  !t &&
                  e < this.scrollTargets.length &&
                  this.scrollTargets[e] == n
                    ? e++
                    : t || (t = this.scrollTargets.slice(0, e)),
                    t && t.push(n),
                    (n = n.assignedSlot || n.parentNode);
                else {
                  if (11 != n.nodeType) break;
                  n = n.host;
                }
              if (
                (e < this.scrollTargets.length &&
                  !t &&
                  (t = this.scrollTargets.slice(0, e)),
                t)
              ) {
                for (var i = 0, r = this.scrollTargets; i < r.length; i++) {
                  (n = r[i]).removeEventListener("scroll", this.onScroll);
                }
                for (
                  var o = 0, s = (this.scrollTargets = t);
                  o < s.length;
                  o++
                ) {
                  (n = s[o]).addEventListener("scroll", this.onScroll);
                }
              }
            }),
            (e.prototype.ignore = function (e) {
              if (!this.active) return e();
              try {
                return this.stop(), e();
              } finally {
                this.start(), this.clear();
              }
            }),
            (e.prototype.start = function () {
              this.active ||
                (this.observer.observe(this.dom, $l),
                Yl &&
                  this.dom.addEventListener(
                    "DOMCharacterDataModified",
                    this.onCharData
                  ),
                (this.active = !0));
            }),
            (e.prototype.stop = function () {
              this.active &&
                ((this.active = !1),
                this.observer.disconnect(),
                Yl &&
                  this.dom.removeEventListener(
                    "DOMCharacterDataModified",
                    this.onCharData
                  ));
            }),
            (e.prototype.clear = function () {
              this.processRecords(),
                (this.queue.length = 0),
                (this.selectionChanged = !1);
            }),
            (e.prototype.delayAndroidKey = function (e, t) {
              var n = this;
              this.delayedAndroidKey ||
                requestAnimationFrame(function () {
                  var e = n.delayedAndroidKey;
                  n.delayedAndroidKey = null;
                  var t = n.view.state;
                  qo(n.view.contentDOM, e.key, e.keyCode)
                    ? n.processRecords()
                    : n.flush(),
                    n.view.state == t && n.view.update([]);
                }),
                (this.delayedAndroidKey && "Enter" != e) ||
                  (this.delayedAndroidKey = { key: e, keyCode: t });
            }),
            (e.prototype.flushSoon = function () {
              var e = this;
              this.delayedFlush < 0 &&
                (this.delayedFlush = window.setTimeout(function () {
                  (e.delayedFlush = -1), e.flush();
                }, 20));
            }),
            (e.prototype.forceFlush = function () {
              this.delayedFlush >= 0 &&
                (window.clearTimeout(this.delayedFlush),
                (this.delayedFlush = -1),
                this.flush());
            }),
            (e.prototype.processRecords = function () {
              for (
                var e = this.queue, t = 0, n = this.observer.takeRecords();
                t < n.length;
                t++
              ) {
                var i = n[t];
                e.push(i);
              }
              e.length && (this.queue = []);
              for (
                var r = -1, o = -1, s = !1, a = 0, l = e;
                a < l.length;
                a++
              ) {
                var c = l[a],
                  u = this.readMutation(c);
                u &&
                  (u.typeOver && (s = !0),
                  -1 == r
                    ? ((r = u.from), (o = u.to))
                    : ((r = Math.min(u.from, r)), (o = Math.max(u.to, o))));
              }
              return { from: r, to: o, typeOver: s };
            }),
            (e.prototype.flush = function (e) {
              if (
                (void 0 === e && (e = !0),
                !(this.delayedFlush >= 0 || this.delayedAndroidKey))
              ) {
                e && this.readSelectionRange();
                var t = this.processRecords(),
                  n = t.from,
                  i = t.to,
                  r = t.typeOver,
                  o =
                    this.selectionChanged && Lo(this.dom, this.selectionRange);
                if (!(n < 0) || o) {
                  this.selectionChanged = !1;
                  var s = this.view.state;
                  this.onChange(n, i, r),
                    this.view.state == s && this.view.update([]);
                }
              }
            }),
            (e.prototype.readMutation = function (e) {
              var t = this.view.docView.nearest(e.target);
              if (!t || t.ignoreMutation(e)) return null;
              if (
                (t.markDirty("attributes" == e.type),
                "attributes" == e.type && (t.dirty |= 4),
                "childList" == e.type)
              ) {
                var n = Ql(
                    t,
                    e.previousSibling || e.target.previousSibling,
                    -1
                  ),
                  i = Ql(t, e.nextSibling || e.target.nextSibling, 1);
                return {
                  from: n ? t.posAfter(n) : t.posAtStart,
                  to: i ? t.posBefore(i) : t.posAtEnd,
                  typeOver: !1,
                };
              }
              return "characterData" == e.type
                ? {
                    from: t.posAtStart,
                    to: t.posAtEnd,
                    typeOver: e.target.nodeValue == e.oldValue,
                  }
                : null;
            }),
            (e.prototype.destroy = function () {
              var e, t, n;
              this.stop(),
                null === (e = this.intersection) ||
                  void 0 === e ||
                  e.disconnect(),
                null === (t = this.gapIntersection) ||
                  void 0 === t ||
                  t.disconnect(),
                null === (n = this.resize) || void 0 === n || n.disconnect();
              for (var i = 0, r = this.scrollTargets; i < r.length; i++) {
                r[i].removeEventListener("scroll", this.onScroll);
              }
              window.removeEventListener("scroll", this.onScroll),
                window.removeEventListener("resize", this.onResize),
                this.dom.ownerDocument.removeEventListener(
                  "selectionchange",
                  this.onSelectionChange
                ),
                clearTimeout(this.parentCheck),
                clearTimeout(this.resizeTimeout);
            }),
            e
          );
        })();
      function Ql(e, t, n) {
        for (; t; ) {
          var i = _o.get(t);
          if (i && i.parent == e) return i;
          var r = t.parentNode;
          t = r != e.dom ? r : n > 0 ? t.nextSibling : t.previousSibling;
        }
        return null;
      }
      function Xl(e, t, n, i) {
        var r,
          o,
          s = e.state.selection.main;
        if (t > -1) {
          var a = e.docView.domBoundsAround(t, n, 0);
          if (!a || e.state.readOnly) return;
          var l = a.from,
            c = a.to,
            u =
              e.docView.impreciseHead || e.docView.impreciseAnchor
                ? []
                : (function (e) {
                    var t = [];
                    if (e.root.activeElement != e.contentDOM) return t;
                    var n = e.observer.selectionRange,
                      i = n.anchorNode,
                      r = n.anchorOffset,
                      o = n.focusNode,
                      s = n.focusOffset;
                    i &&
                      (t.push(new Ta(i, r)),
                      (o == i && s == r) || t.push(new Ta(o, s)));
                    return t;
                  })(e),
            h = new Aa(u, e.state);
          h.readRange(a.startDOM, a.endDOM);
          var p = s.from,
            d = null;
          ((8 === e.inputState.lastKeyCode &&
            e.inputState.lastKeyTime > Date.now() - 100) ||
            (as.android && h.text.length < c - l)) &&
            ((p = s.to), (d = "end"));
          var f = (function (e, t, n, i) {
            var r = Math.min(e.length, t.length),
              o = 0;
            for (; o < r && e.charCodeAt(o) == t.charCodeAt(o); ) o++;
            if (o == r && e.length == t.length) return null;
            var s = e.length,
              a = t.length;
            for (
              ;
              s > 0 && a > 0 && e.charCodeAt(s - 1) == t.charCodeAt(a - 1);

            )
              s--, a--;
            if ("end" == i) {
              n -= s + Math.max(0, o - Math.min(s, a)) - o;
            }
            if (s < o && e.length < t.length) {
              (a = (o -= n <= o && n >= s ? o - n : 0) + (a - s)), (s = o);
            } else if (a < o) {
              (s = (o -= n <= o && n >= a ? o - n : 0) + (s - a)), (a = o);
            }
            return { from: o, toA: s, toB: a };
          })(e.state.doc.sliceString(l, c, La), h.text, p - l, d);
          f &&
            (as.chrome &&
              13 == e.inputState.lastKeyCode &&
              f.toB == f.from + 2 &&
              "￿￿" == h.text.slice(f.from, f.toB) &&
              f.toB--,
            (r = {
              from: l + f.from,
              to: l + f.toA,
              insert: Fi.of(h.text.slice(f.from, f.toB).split(La)),
            })),
            (o = (function (e, t) {
              if (0 == e.length) return null;
              var n = e[0].pos,
                i = 2 == e.length ? e[1].pos : n;
              return n > -1 && i > -1 ? Zi.single(n + t, i + t) : null;
            })(u, l));
        } else if (e.hasFocus || !e.state.facet(Gs)) {
          var g = e.observer.selectionRange,
            m = e.docView,
            v = m.impreciseHead,
            y = m.impreciseAnchor,
            b =
              (v && v.node == g.focusNode && v.offset == g.focusOffset) ||
              !Mo(e.contentDOM, g.focusNode)
                ? e.state.selection.main.head
                : e.docView.posFromDOM(g.focusNode, g.focusOffset),
            w =
              (y && y.node == g.anchorNode && y.offset == g.anchorOffset) ||
              !Mo(e.contentDOM, g.anchorNode)
                ? e.state.selection.main.anchor
                : e.docView.posFromDOM(g.anchorNode, g.anchorOffset);
          (b == s.head && w == s.anchor) || (o = Zi.single(w, b));
        }
        if (r || o)
          if (
            (!r && i && !s.empty && o && o.main.empty
              ? (r = {
                  from: s.from,
                  to: s.to,
                  insert: e.state.doc.slice(s.from, s.to),
                })
              : r &&
                r.from >= s.from &&
                r.to <= s.to &&
                (r.from != s.from || r.to != s.to) &&
                s.to - s.from - (r.to - r.from) <= 4 &&
                (r = {
                  from: s.from,
                  to: s.to,
                  insert: e.state.doc
                    .slice(s.from, r.from)
                    .append(r.insert)
                    .append(e.state.doc.slice(r.to, s.to)),
                }),
            r)
          ) {
            var k = e.state;
            if (as.ios && e.inputState.flushIOSKey(e)) return;
            if (
              as.android &&
              ((r.from == s.from &&
                r.to == s.to &&
                1 == r.insert.length &&
                2 == r.insert.lines &&
                qo(e.contentDOM, "Enter", 13)) ||
                (r.from == s.from - 1 &&
                  r.to == s.to &&
                  0 == r.insert.length &&
                  qo(e.contentDOM, "Backspace", 8)) ||
                (r.from == s.from &&
                  r.to == s.to + 1 &&
                  0 == r.insert.length &&
                  qo(e.contentDOM, "Delete", 46)))
            )
              return;
            var C = r.insert.toString();
            if (
              e.state.facet(Vs).some(function (t) {
                return t(e, r.from, r.to, C);
              })
            )
              return;
            e.inputState.composing >= 0 && e.inputState.composing++;
            var x = void 0;
            if (
              r.from >= s.from &&
              r.to <= s.to &&
              r.to - r.from >= (s.to - s.from) / 3 &&
              (!o ||
                (o.main.empty && o.main.from == r.from + r.insert.length)) &&
              e.inputState.composing < 0
            ) {
              var S = s.from < r.from ? k.sliceDoc(s.from, r.from) : "",
                E = s.to > r.to ? k.sliceDoc(r.to, s.to) : "";
              x = k.replaceSelection(
                e.state.toText(
                  S + r.insert.sliceString(0, void 0, e.state.lineBreak) + E
                )
              );
            } else {
              var M = k.changes(r),
                L =
                  o && !k.selection.main.eq(o.main) && o.main.to <= M.newLength
                    ? o.main
                    : void 0;
              if (
                k.selection.ranges.length > 1 &&
                e.inputState.composing >= 0 &&
                r.to <= s.to &&
                r.to >= s.to - 10
              ) {
                var A = e.state.sliceDoc(r.from, r.to),
                  D = Fa(e) || e.state.doc.lineAt(s.head),
                  T = s.to - r.to,
                  P = s.to - s.from;
                x = k.changeByRange(function (t) {
                  if (t.from == s.from && t.to == s.to)
                    return { changes: M, range: L || t.map(M) };
                  var n = t.to - T,
                    i = n - A.length;
                  if (
                    t.to - t.from != P ||
                    e.state.sliceDoc(i, n) != A ||
                    (D && t.to >= D.from && t.from <= D.to)
                  )
                    return { range: t };
                  var o = k.changes({ from: i, to: n, insert: r.insert }),
                    a = t.to - s.to;
                  return {
                    changes: o,
                    range: L
                      ? Zi.range(
                          Math.max(0, L.anchor + a),
                          Math.max(0, L.head + a)
                        )
                      : t.map(o),
                  };
                });
              } else
                x = { changes: M, selection: L && k.selection.replaceRange(L) };
            }
            var O = "input.type";
            e.composing &&
              ((O += ".compose"),
              e.inputState.compositionFirstChange &&
                ((O += ".start"), (e.inputState.compositionFirstChange = !1))),
              e.dispatch(x, { scrollIntoView: !0, userEvent: O });
          } else if (o && !o.main.eq(s)) {
            var F = !1;
            O = "select";
            e.inputState.lastSelectionTime > Date.now() - 50 &&
              ("select" == e.inputState.lastSelectionOrigin && (F = !0),
              (O = e.inputState.lastSelectionOrigin)),
              e.dispatch({ selection: o, scrollIntoView: F, userEvent: O });
          }
      }
      var Zl = (function () {
        function e(e) {
          var t = this;
          void 0 === e && (e = {}),
            (this.plugins = []),
            (this.pluginMap = new Map()),
            (this.editorAttrs = {}),
            (this.contentAttrs = {}),
            (this.bidiCache = []),
            (this.destroyed = !1),
            (this.updateState = 2),
            (this.measureScheduled = -1),
            (this.measureRequests = []),
            (this.contentDOM = document.createElement("div")),
            (this.scrollDOM = document.createElement("div")),
            (this.scrollDOM.tabIndex = -1),
            (this.scrollDOM.className = "cm-scroller"),
            this.scrollDOM.appendChild(this.contentDOM),
            (this.announceDOM = document.createElement("div")),
            (this.announceDOM.style.cssText =
              "position: absolute; top: -10000px"),
            this.announceDOM.setAttribute("aria-live", "polite"),
            (this.dom = document.createElement("div")),
            this.dom.appendChild(this.announceDOM),
            this.dom.appendChild(this.scrollDOM),
            (this._dispatch =
              e.dispatch ||
              function (e) {
                return t.update([e]);
              }),
            (this.dispatch = this.dispatch.bind(this)),
            (this.root =
              e.root ||
              (function (e) {
                for (; e; ) {
                  if (e && (9 == e.nodeType || (11 == e.nodeType && e.host)))
                    return e;
                  e = e.assignedSlot || e.parentNode;
                }
                return null;
              })(e.parent) ||
              document),
            (this.viewState = new Ol(e.state || Wr.create())),
            (this.plugins = this.state.facet(Js).map(function (e) {
              return new Zs(e);
            }));
          for (var n = 0, i = this.plugins; n < i.length; n++) {
            i[n].update(this);
          }
          (this.observer = new Jl(
            this,
            function (e, n, i) {
              Xl(t, e, n, i);
            },
            function (e) {
              t.inputState.runScrollHandlers(t, e),
                t.observer.intersecting && t.measure();
            }
          )),
            (this.inputState = new $a(this)),
            (this.docView = new Pa(this)),
            this.mountStyles(),
            this.updateAttrs(),
            (this.updateState = 0),
            this.requestMeasure(),
            e.parent && e.parent.appendChild(this.dom);
        }
        return (
          Object.defineProperty(e.prototype, "state", {
            get: function () {
              return this.viewState.state;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "viewport", {
            get: function () {
              return this.viewState.viewport;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "visibleRanges", {
            get: function () {
              return this.viewState.visibleRanges;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "inView", {
            get: function () {
              return this.viewState.inView;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "composing", {
            get: function () {
              return this.inputState.composing > 0;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "compositionStarted", {
            get: function () {
              return this.inputState.composing >= 0;
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.dispatch = function () {
            for (var e, t = [], n = 0; n < arguments.length; n++)
              t[n] = arguments[n];
            this._dispatch(
              1 == t.length && t[0] instanceof Fr
                ? t[0]
                : (e = this.state).update.apply(e, t)
            );
          }),
          (e.prototype.update = function (e) {
            if (0 != this.updateState)
              throw new Error(
                "Calls to EditorView.update are not allowed while an update is in progress"
              );
            for (
              var t, n = !1, i = this.state, r = 0, o = e;
              r < o.length;
              r++
            ) {
              if ((c = o[r]).startState != i)
                throw new RangeError(
                  "Trying to update state with a transaction that doesn't start from the previous state."
                );
              i = c.state;
            }
            if (this.destroyed) this.viewState.state = i;
            else {
              if (i.facet(Wr.phrases) != this.state.facet(Wr.phrases))
                return this.setState(i);
              t = new oa(this, i, e);
              var s = this.viewState.scrollTarget;
              try {
                this.updateState = 2;
                for (var a = 0, l = e; a < l.length; a++) {
                  var c = l[a];
                  if ((s && (s = s.map(c.changes)), c.scrollIntoView)) {
                    var u = c.state.selection.main;
                    s = new Us(
                      u.empty
                        ? u
                        : Zi.cursor(u.head, u.head > u.anchor ? -1 : 1)
                    );
                  }
                  for (var h = 0, p = c.effects; h < p.length; h++) {
                    var d = p[h];
                    d.is(qs)
                      ? (s = new Us(d.value))
                      : d.is(js)
                      ? (s = new Us(d.value, "center"))
                      : d.is(Ws) && (s = d.value);
                  }
                }
                this.viewState.update(t, s),
                  (this.bidiCache = ic.update(this.bidiCache, t.changes)),
                  t.empty || (this.updatePlugins(t), this.inputState.update(t)),
                  (n = this.docView.update(t)),
                  this.state.facet(ia) != this.styleModules &&
                    this.mountStyles(),
                  this.updateAttrs(),
                  this.showAnnouncements(e),
                  this.docView.updateSelection(
                    n,
                    e.some(function (e) {
                      return e.isUserEvent("select.pointer");
                    })
                  );
              } finally {
                this.updateState = 0;
              }
              if (
                (t.startState.facet(Vl) != t.state.facet(Vl) &&
                  (this.viewState.mustMeasureContent = !0),
                (n ||
                  s ||
                  this.viewState.mustEnforceCursorAssoc ||
                  this.viewState.mustMeasureContent) &&
                  this.requestMeasure(),
                !t.empty)
              )
                for (var f = 0, g = this.state.facet(Hs); f < g.length; f++) {
                  (0, g[f])(t);
                }
            }
          }),
          (e.prototype.setState = function (e) {
            if (0 != this.updateState)
              throw new Error(
                "Calls to EditorView.setState are not allowed while an update is in progress"
              );
            if (this.destroyed) this.viewState.state = e;
            else {
              this.updateState = 2;
              var t = this.hasFocus;
              try {
                for (var n = 0, i = this.plugins; n < i.length; n++) {
                  i[n].destroy(this);
                }
                (this.viewState = new Ol(e)),
                  (this.plugins = e.facet(Js).map(function (e) {
                    return new Zs(e);
                  })),
                  this.pluginMap.clear();
                for (var r = 0, o = this.plugins; r < o.length; r++) {
                  o[r].update(this);
                }
                (this.docView = new Pa(this)),
                  this.inputState.ensureHandlers(this),
                  this.mountStyles(),
                  this.updateAttrs(),
                  (this.bidiCache = []);
              } finally {
                this.updateState = 0;
              }
              t && this.focus(), this.requestMeasure();
            }
          }),
          (e.prototype.updatePlugins = function (e) {
            var t = e.startState.facet(Js),
              n = e.state.facet(Js);
            if (t != n) {
              for (var i = [], r = 0, o = n; r < o.length; r++) {
                var s = o[r],
                  a = t.indexOf(s);
                if (a < 0) i.push(new Zs(s));
                else {
                  var l = this.plugins[a];
                  (l.mustUpdate = e), i.push(l);
                }
              }
              for (var c = 0, u = this.plugins; c < u.length; c++) {
                var h = u[c];
                h.mustUpdate != e && h.destroy(this);
              }
              (this.plugins = i),
                this.pluginMap.clear(),
                this.inputState.ensureHandlers(this);
            } else
              for (var p = 0, d = this.plugins; p < d.length; p++) {
                d[p].mustUpdate = e;
              }
            for (var f = 0; f < this.plugins.length; f++)
              this.plugins[f].update(this);
          }),
          (e.prototype.measure = function (e) {
            var t,
              n = this;
            if ((void 0 === e && (e = !0), !this.destroyed)) {
              this.measureScheduled > -1 &&
                cancelAnimationFrame(this.measureScheduled),
                (this.measureScheduled = 0),
                e && this.observer.flush();
              var i = null;
              try {
                for (var r = 0; ; r++) {
                  this.updateState = 1;
                  var o = this.viewport,
                    s = this.viewState.measure(this);
                  if (
                    !s &&
                    !this.measureRequests.length &&
                    null == this.viewState.scrollTarget
                  )
                    break;
                  if (r > 5) {
                    console.warn(
                      this.measureRequests.length
                        ? "Measure loop restarted more than 5 times"
                        : "Viewport failed to stabilize"
                    );
                    break;
                  }
                  var a = [];
                  4 & s ||
                    ((t = [a, this.measureRequests]),
                    (this.measureRequests = t[0]),
                    (a = t[1]));
                  var l = a.map(function (e) {
                      try {
                        return e.read(n);
                      } catch (e) {
                        return _s(n.state, e), nc;
                      }
                    }),
                    c = new oa(this, this.state),
                    u = !1,
                    h = !1;
                  (c.flags |= s),
                    i ? (i.flags |= s) : (i = c),
                    (this.updateState = 2),
                    c.empty ||
                      (this.updatePlugins(c),
                      this.inputState.update(c),
                      this.updateAttrs(),
                      (u = this.docView.update(c)));
                  for (var p = 0; p < a.length; p++)
                    if (l[p] != nc)
                      try {
                        var d = a[p];
                        d.write && d.write(l[p], this);
                      } catch (e) {
                        _s(this.state, e);
                      }
                  if (
                    (this.viewState.scrollTarget &&
                      (this.docView.scrollIntoView(this.viewState.scrollTarget),
                      (this.viewState.scrollTarget = null),
                      (h = !0)),
                    u && this.docView.updateSelection(!0),
                    this.viewport.from == o.from &&
                      this.viewport.to == o.to &&
                      !h &&
                      0 == this.measureRequests.length)
                  )
                    break;
                }
              } finally {
                (this.updateState = 0), (this.measureScheduled = -1);
              }
              if (i && !i.empty)
                for (var f = 0, g = this.state.facet(Hs); f < g.length; f++) {
                  (0, g[f])(i);
                }
            }
          }),
          Object.defineProperty(e.prototype, "themeClasses", {
            get: function () {
              return (
                jl +
                " " +
                (this.state.facet(ql) ? Wl : Ul) +
                " " +
                this.state.facet(Vl)
              );
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.updateAttrs = function () {
            var e = this,
              t = rc(this, ea, {
                class:
                  "cm-editor" +
                  (this.hasFocus ? " cm-focused " : " ") +
                  this.themeClasses,
              }),
              n = {
                spellcheck: "false",
                autocorrect: "off",
                autocapitalize: "off",
                translate: "no",
                contenteditable: this.state.facet(Gs) ? "true" : "false",
                class: "cm-content",
                style: as.tabSize + ": " + this.state.tabSize,
                role: "textbox",
                "aria-multiline": "true",
              };
            this.state.readOnly && (n["aria-readonly"] = "true"),
              rc(this, ta, n),
              this.observer.ignore(function () {
                ws(e.contentDOM, e.contentAttrs, n),
                  ws(e.dom, e.editorAttrs, t);
              }),
              (this.editorAttrs = t),
              (this.contentAttrs = n);
          }),
          (e.prototype.showAnnouncements = function (t) {
            for (var n = !0, i = 0, r = t; i < r.length; i++)
              for (var o = 0, s = r[i].effects; o < s.length; o++) {
                var a = s[o];
                if (a.is(e.announce))
                  n && (this.announceDOM.textContent = ""),
                    (n = !1),
                    (this.announceDOM.appendChild(
                      document.createElement("div")
                    ).textContent = a.value);
              }
          }),
          (e.prototype.mountStyles = function () {
            (this.styleModules = this.state.facet(ia)),
              Yr.mount(this.root, this.styleModules.concat(Kl).reverse());
          }),
          (e.prototype.readMeasured = function () {
            if (2 == this.updateState)
              throw new Error(
                "Reading the editor layout isn't allowed during an update"
              );
            0 == this.updateState &&
              this.measureScheduled > -1 &&
              this.measure(!1);
          }),
          (e.prototype.requestMeasure = function (e) {
            var t = this;
            if (
              (this.measureScheduled < 0 &&
                (this.measureScheduled = requestAnimationFrame(function () {
                  return t.measure();
                })),
              e)
            ) {
              if (null != e.key)
                for (var n = 0; n < this.measureRequests.length; n++)
                  if (this.measureRequests[n].key === e.key)
                    return void (this.measureRequests[n] = e);
              this.measureRequests.push(e);
            }
          }),
          (e.prototype.pluginField = function (e) {
            for (var t = [], n = 0, i = this.plugins; n < i.length; n++) {
              i[n].update(this).takeField(e, t);
            }
            return t;
          }),
          (e.prototype.plugin = function (e) {
            var t = this.pluginMap.get(e);
            return (
              (void 0 === t || (t && t.spec != e)) &&
                this.pluginMap.set(
                  e,
                  (t =
                    this.plugins.find(function (t) {
                      return t.spec == e;
                    }) || null)
                ),
              t && t.update(this).value
            );
          }),
          Object.defineProperty(e.prototype, "documentTop", {
            get: function () {
              return (
                this.contentDOM.getBoundingClientRect().top +
                this.viewState.paddingTop
              );
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "documentPadding", {
            get: function () {
              return {
                top: this.viewState.paddingTop,
                bottom: this.viewState.paddingBottom,
              };
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.blockAtHeight = function (e, t) {
            var n = tc(t, this);
            return this.elementAtHeight(e - n).moveY(n);
          }),
          (e.prototype.elementAtHeight = function (e) {
            return this.readMeasured(), this.viewState.elementAtHeight(e);
          }),
          (e.prototype.visualLineAtHeight = function (e, t) {
            var n = tc(t, this);
            return this.lineBlockAtHeight(e - n).moveY(n);
          }),
          (e.prototype.lineBlockAtHeight = function (e) {
            return this.readMeasured(), this.viewState.lineBlockAtHeight(e);
          }),
          (e.prototype.viewportLines = function (e, t) {
            for (
              var n = tc(t, this), i = 0, r = this.viewportLineBlocks;
              i < r.length;
              i++
            ) {
              e(r[i].moveY(n));
            }
          }),
          Object.defineProperty(e.prototype, "viewportLineBlocks", {
            get: function () {
              return this.viewState.viewportLines;
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.visualLineAt = function (e, t) {
            return (
              void 0 === t && (t = 0),
              this.lineBlockAt(e).moveY(t + this.viewState.paddingTop)
            );
          }),
          (e.prototype.lineBlockAt = function (e) {
            return this.viewState.lineBlockAt(e);
          }),
          Object.defineProperty(e.prototype, "contentHeight", {
            get: function () {
              return this.viewState.contentHeight;
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.moveByChar = function (e, t, n) {
            return Ka(this, e, Ga(this, e, t, n));
          }),
          (e.prototype.moveByGroup = function (e, t) {
            var n = this;
            return Ka(
              this,
              e,
              Ga(this, e, t, function (t) {
                return (function (e, t, n) {
                  var i = e.state.charCategorizer(t),
                    r = i(n);
                  return function (e) {
                    var t = i(e);
                    return r == qr.Space && (r = t), r == t;
                  };
                })(n, e.head, t);
              })
            );
          }),
          (e.prototype.moveToLineBoundary = function (e, t, n) {
            return (
              void 0 === n && (n = !0),
              (function (e, t, n, i) {
                var r = e.state.doc.lineAt(t.head),
                  o =
                    i && e.lineWrapping
                      ? e.coordsAtPos(
                          t.assoc < 0 && t.head > r.from ? t.head - 1 : t.head
                        )
                      : null;
                if (o) {
                  var s = e.dom.getBoundingClientRect(),
                    a = e.posAtCoords({
                      x:
                        n == (e.textDirection == sa.LTR)
                          ? s.right - 1
                          : s.left + 1,
                      y: (o.top + o.bottom) / 2,
                    });
                  if (null != a) return Zi.cursor(a, n ? -1 : 1);
                }
                var l = Ds.find(e.docView, t.head),
                  c = l ? (n ? l.posAtEnd : l.posAtStart) : n ? r.to : r.from;
                return Zi.cursor(c, n ? -1 : 1);
              })(this, e, t, n)
            );
          }),
          (e.prototype.moveVertically = function (e, t, n) {
            return Ka(
              this,
              e,
              (function (e, t, n, i) {
                var r = t.head,
                  o = n ? 1 : -1;
                if (r == (n ? e.state.doc.length : 0))
                  return Zi.cursor(r, t.assoc);
                var s,
                  a = t.goalColumn,
                  l = e.contentDOM.getBoundingClientRect(),
                  c = e.coordsAtPos(r),
                  u = e.documentTop;
                if (c)
                  null == a && (a = c.left - l.left),
                    (s = o < 0 ? c.top : c.bottom);
                else {
                  var h = e.viewState.lineBlockAt(r - u);
                  null == a &&
                    (a = Math.min(
                      l.right - l.left,
                      e.defaultCharacterWidth * (r - h.from)
                    )),
                    (s = (o < 0 ? h.top : h.bottom) + u);
                }
                for (
                  var p = l.left + a,
                    d = null != i ? i : e.defaultLineHeight >> 1,
                    f = 0;
                  ;
                  f += 10
                ) {
                  var g = s + (d + f) * o,
                    m = Wa(e, { x: p, y: g }, !1, o);
                  if (g < l.top || g > l.bottom || (o < 0 ? m < r : m > r))
                    return Zi.cursor(m, t.assoc, void 0, a);
                }
              })(this, e, t, n)
            );
          }),
          (e.prototype.scrollPosIntoView = function (e) {
            this.dispatch({ effects: qs.of(Zi.cursor(e)) });
          }),
          (e.prototype.domAtPos = function (e) {
            return this.docView.domAtPos(e);
          }),
          (e.prototype.posAtDOM = function (e, t) {
            return void 0 === t && (t = 0), this.docView.posFromDOM(e, t);
          }),
          (e.prototype.posAtCoords = function (e, t) {
            return (
              void 0 === t && (t = !0), this.readMeasured(), Wa(this, e, t)
            );
          }),
          (e.prototype.coordsAtPos = function (e, t) {
            void 0 === t && (t = 1), this.readMeasured();
            var n = this.docView.coordsAt(e, t);
            if (!n || n.left == n.right) return n;
            var i = this.state.doc.lineAt(e),
              r = this.bidiSpans(i);
            return Io(
              n,
              (r[ka.find(r, e - i.from, -1, t)].dir == sa.LTR) == t > 0
            );
          }),
          Object.defineProperty(e.prototype, "defaultCharacterWidth", {
            get: function () {
              return this.viewState.heightOracle.charWidth;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "defaultLineHeight", {
            get: function () {
              return this.viewState.heightOracle.lineHeight;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "textDirection", {
            get: function () {
              return this.viewState.heightOracle.direction;
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "lineWrapping", {
            get: function () {
              return this.viewState.heightOracle.lineWrapping;
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.bidiSpans = function (e) {
            if (e.length > ec) return Sa(e.length);
            for (
              var t = this.textDirection, n = 0, i = this.bidiCache;
              n < i.length;
              n++
            ) {
              var r = i[n];
              if (r.from == e.from && r.dir == t) return r.order;
            }
            var o = xa(e.text, this.textDirection);
            return this.bidiCache.push(new ic(e.from, e.to, t, o)), o;
          }),
          Object.defineProperty(e.prototype, "hasFocus", {
            get: function () {
              var e;
              return (
                (document.hasFocus() ||
                  (as.safari &&
                    (null === (e = this.inputState) || void 0 === e
                      ? void 0
                      : e.lastContextMenu) >
                      Date.now() - 3e4)) &&
                this.root.activeElement == this.contentDOM
              );
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.focus = function () {
            var e = this;
            this.observer.ignore(function () {
              Ho(e.contentDOM), e.docView.updateSelection();
            });
          }),
          (e.prototype.destroy = function () {
            for (var e = 0, t = this.plugins; e < t.length; e++) {
              t[e].destroy(this);
            }
            (this.plugins = []),
              this.inputState.destroy(),
              this.dom.remove(),
              this.observer.destroy(),
              this.measureScheduled > -1 &&
                cancelAnimationFrame(this.measureScheduled),
              (this.destroyed = !0);
          }),
          (e.scrollIntoView = function (e, t) {
            return (
              void 0 === t && (t = {}),
              Ws.of(
                new Us(
                  "number" == typeof e ? Zi.cursor(e) : e,
                  t.y,
                  t.x,
                  t.yMargin,
                  t.xMargin
                )
              )
            );
          }),
          (e.domEventHandlers = function (e) {
            return Qs.define(
              function () {
                return {};
              },
              { eventHandlers: e }
            );
          }),
          (e.theme = function (e, t) {
            var n = Yr.newName(),
              i = [Vl.of(n), ia.of(Gl("." + n, e))];
            return t && t.dark && i.push(ql.of(!0)), i;
          }),
          (e.baseTheme = function (e) {
            return gr.lowest(ia.of(Gl("." + jl, e, _l)));
          }),
          e
        );
      })();
      (Zl.scrollTo = qs),
        (Zl.centerOn = js),
        (Zl.styleModule = ia),
        (Zl.inputHandler = Vs),
        (Zl.exceptionSink = zs),
        (Zl.updateListener = Hs),
        (Zl.editable = Gs),
        (Zl.mouseSelectionStyle = Rs),
        (Zl.dragMovesSelection = Bs),
        (Zl.clickAddsSelectionRange = Ns),
        (Zl.decorations = na),
        (Zl.darkTheme = ql),
        (Zl.contentAttributes = ta),
        (Zl.editorAttributes = ea),
        (Zl.lineWrapping = Zl.contentAttributes.of({
          class: "cm-lineWrapping",
        })),
        (Zl.announce = Or.define());
      var ec = 4096;
      function tc(e, t) {
        return (
          (null == e ? t.contentDOM.getBoundingClientRect().top : e) +
          t.viewState.paddingTop
        );
      }
      var nc = {},
        ic = (function () {
          function e(e, t, n, i) {
            (this.from = e), (this.to = t), (this.dir = n), (this.order = i);
          }
          return (
            (e.update = function (t, n) {
              if (n.empty) return t;
              for (
                var i = [],
                  r = t.length ? t[t.length - 1].dir : sa.LTR,
                  o = Math.max(0, t.length - 10);
                o < t.length;
                o++
              ) {
                var s = t[o];
                s.dir != r ||
                  n.touchesRange(s.from, s.to) ||
                  i.push(
                    new e(
                      n.mapPos(s.from, 1),
                      n.mapPos(s.to, -1),
                      s.dir,
                      s.order
                    )
                  );
              }
              return i;
            }),
            e
          );
        })();
      function rc(e, t, n) {
        for (var i = e.state.facet(t), r = i.length - 1; r >= 0; r--) {
          var o = i[r],
            s = "function" == typeof o ? o(e) : o;
          s && ys(s, n);
        }
        return n;
      }
      var oc = as.mac ? "mac" : as.windows ? "win" : as.linux ? "linux" : "key";
      function sc(e, t, n) {
        return (
          t.altKey && (e = "Alt-" + e),
          t.ctrlKey && (e = "Ctrl-" + e),
          t.metaKey && (e = "Meta-" + e),
          !1 !== n && t.shiftKey && (e = "Shift-" + e),
          e
        );
      }
      var ac = Zl.domEventHandlers({
          keydown: function (e, t) {
            return dc(uc(t.state), e, t, "editor");
          },
        }),
        lc = ir.define({ enables: ac }),
        cc = new WeakMap();
      function uc(e) {
        var t = e.facet(lc),
          n = cc.get(t);
        return (
          n ||
            cc.set(
              t,
              (n = (function (e, t) {
                void 0 === t && (t = oc);
                for (
                  var n = Object.create(null),
                    i = Object.create(null),
                    r = function (e, t) {
                      var n = i[e];
                      if (null == n) i[e] = t;
                      else if (n != t)
                        throw new Error(
                          "Key binding " +
                            e +
                            " is used both as a regular binding and as a multi-stroke prefix"
                        );
                    },
                    o = function (e, i, o, s) {
                      for (
                        var a = n[e] || (n[e] = Object.create(null)),
                          l = i.split(/ (?!$)/).map(function (e) {
                            return (function (e, t) {
                              var n,
                                i,
                                r,
                                o,
                                s = e.split(/-(?!$)/),
                                a = s[s.length - 1];
                              "Space" == a && (a = " ");
                              for (var l = 0; l < s.length - 1; ++l) {
                                var c = s[l];
                                if (/^(cmd|meta|m)$/i.test(c)) o = !0;
                                else if (/^a(lt)?$/i.test(c)) n = !0;
                                else if (/^(c|ctrl|control)$/i.test(c)) i = !0;
                                else if (/^s(hift)?$/i.test(c)) r = !0;
                                else {
                                  if (!/^mod$/i.test(c))
                                    throw new Error(
                                      "Unrecognized modifier name: " + c
                                    );
                                  "mac" == t ? (o = !0) : (i = !0);
                                }
                              }
                              return (
                                n && (a = "Alt-" + a),
                                i && (a = "Ctrl-" + a),
                                o && (a = "Meta-" + a),
                                r && (a = "Shift-" + a),
                                a
                              );
                            })(e, t);
                          }),
                          c = function (t) {
                            var n = l.slice(0, t).join(" ");
                            r(n, !0),
                              a[n] ||
                                (a[n] = {
                                  preventDefault: !0,
                                  commands: [
                                    function (t) {
                                      var i = (pc = {
                                        view: t,
                                        prefix: n,
                                        scope: e,
                                      });
                                      return (
                                        setTimeout(function () {
                                          pc == i && (pc = null);
                                        }, 4e3),
                                        !0
                                      );
                                    },
                                  ],
                                });
                          },
                          u = 1;
                        u < l.length;
                        u++
                      )
                        c(u);
                      var h = l.join(" ");
                      r(h, !1);
                      var p =
                        a[h] || (a[h] = { preventDefault: !1, commands: [] });
                      p.commands.push(o), s && (p.preventDefault = !0);
                    },
                    s = 0,
                    a = e;
                  s < a.length;
                  s++
                ) {
                  var l = a[s],
                    c = l[t] || l.key;
                  if (c)
                    for (
                      var u = 0, h = l.scope ? l.scope.split(" ") : ["editor"];
                      u < h.length;
                      u++
                    ) {
                      var p = h[u];
                      o(p, c, l.run, l.preventDefault),
                        l.shift &&
                          o(p, "Shift-" + c, l.shift, l.preventDefault);
                    }
                }
                return n;
              })(
                t.reduce(function (e, t) {
                  return e.concat(t);
                }, [])
              ))
            ),
          n
        );
      }
      function hc(e, t, n) {
        return dc(uc(e.state), t, e, n);
      }
      var pc = null;
      function dc(e, t, n, i) {
        var r = (function (e) {
            var t =
              (!(
                (Co && (e.ctrlKey || e.altKey || e.metaKey)) ||
                ((yo || ko) && e.shiftKey && e.key && 1 == e.key.length)
              ) &&
                e.key) ||
              (e.shiftKey ? mo : go)[e.keyCode] ||
              e.key ||
              "Unidentified";
            return (
              "Esc" == t && (t = "Escape"),
              "Del" == t && (t = "Delete"),
              "Left" == t && (t = "ArrowLeft"),
              "Up" == t && (t = "ArrowUp"),
              "Right" == t && (t = "ArrowRight"),
              "Down" == t && (t = "ArrowDown"),
              t
            );
          })(t),
          o = 1 == r.length && " " != r,
          s = "",
          a = !1;
        pc &&
          pc.view == n &&
          pc.scope == i &&
          ((s = pc.prefix + " "),
          (a = Ja.indexOf(t.keyCode) < 0) && (pc = null));
        var l,
          c = function (e) {
            if (e) {
              for (var t = 0, i = e.commands; t < i.length; t++) {
                if ((0, i[t])(n)) return !0;
              }
              e.preventDefault && (a = !0);
            }
            return !1;
          },
          u = e[i];
        if (u) {
          if (c(u[s + sc(r, t, !o)])) return !0;
          if (
            o &&
            (t.shiftKey || t.altKey || t.metaKey) &&
            (l = go[t.keyCode]) &&
            l != r
          ) {
            if (c(u[s + sc(l, t, !0)])) return !0;
          } else if (o && t.shiftKey && c(u[s + sc(r, t, !0)])) return !0;
        }
        return a;
      }
      var fc = !as.ios,
        gc = ir.define({
          combine: function (e) {
            return _r(
              e,
              { cursorBlinkRate: 1200, drawRangeCursor: !0 },
              {
                cursorBlinkRate: function (e, t) {
                  return Math.min(e, t);
                },
                drawRangeCursor: function (e, t) {
                  return e || t;
                },
              }
            );
          },
        });
      function mc(e) {
        return void 0 === e && (e = {}), [gc.of(e), yc, wc];
      }
      var vc = (function () {
          function e(e, t, n, i, r) {
            (this.left = e),
              (this.top = t),
              (this.width = n),
              (this.height = i),
              (this.className = r);
          }
          return (
            (e.prototype.draw = function () {
              var e = document.createElement("div");
              return (e.className = this.className), this.adjust(e), e;
            }),
            (e.prototype.adjust = function (e) {
              (e.style.left = this.left + "px"),
                (e.style.top = this.top + "px"),
                this.width >= 0 && (e.style.width = this.width + "px"),
                (e.style.height = this.height + "px");
            }),
            (e.prototype.eq = function (e) {
              return (
                this.left == e.left &&
                this.top == e.top &&
                this.width == e.width &&
                this.height == e.height &&
                this.className == e.className
              );
            }),
            e
          );
        })(),
        yc = Qs.fromClass(
          (function () {
            function e(e) {
              (this.view = e),
                (this.rangePieces = []),
                (this.cursors = []),
                (this.measureReq = {
                  read: this.readPos.bind(this),
                  write: this.drawSel.bind(this),
                }),
                (this.selectionLayer = e.scrollDOM.appendChild(
                  document.createElement("div")
                )),
                (this.selectionLayer.className = "cm-selectionLayer"),
                this.selectionLayer.setAttribute("aria-hidden", "true"),
                (this.cursorLayer = e.scrollDOM.appendChild(
                  document.createElement("div")
                )),
                (this.cursorLayer.className = "cm-cursorLayer"),
                this.cursorLayer.setAttribute("aria-hidden", "true"),
                e.requestMeasure(this.measureReq),
                this.setBlinkRate();
            }
            return (
              (e.prototype.setBlinkRate = function () {
                this.cursorLayer.style.animationDuration =
                  this.view.state.facet(gc).cursorBlinkRate + "ms";
              }),
              (e.prototype.update = function (e) {
                var t = e.startState.facet(gc) != e.state.facet(gc);
                (t ||
                  e.selectionSet ||
                  e.geometryChanged ||
                  e.viewportChanged) &&
                  this.view.requestMeasure(this.measureReq),
                  e.transactions.some(function (e) {
                    return e.scrollIntoView;
                  }) &&
                    (this.cursorLayer.style.animationName =
                      "cm-blink" == this.cursorLayer.style.animationName
                        ? "cm-blink2"
                        : "cm-blink"),
                  t && this.setBlinkRate();
              }),
              (e.prototype.readPos = function () {
                for (
                  var e = this,
                    t = this.view.state,
                    n = t.facet(gc),
                    i = t.selection.ranges
                      .map(function (t) {
                        return t.empty
                          ? []
                          : (function (e, t) {
                              if (
                                t.to <= e.viewport.from ||
                                t.from >= e.viewport.to
                              )
                                return [];
                              var n = Math.max(t.from, e.viewport.from),
                                i = Math.min(t.to, e.viewport.to),
                                r = e.textDirection == sa.LTR,
                                o = e.contentDOM,
                                s = o.getBoundingClientRect(),
                                a = kc(e),
                                l = window.getComputedStyle(o.firstChild),
                                c =
                                  s.left +
                                  parseInt(l.paddingLeft) +
                                  Math.min(0, parseInt(l.textIndent)),
                                u = s.right - parseInt(l.paddingRight),
                                h = xc(e, n),
                                p = xc(e, i),
                                d = h.type == Cs.Text ? h : null,
                                f = p.type == Cs.Text ? p : null;
                              e.lineWrapping &&
                                (d && (d = Cc(e, n, d)),
                                f && (f = Cc(e, i, f)));
                              if (d && f && d.from == f.from)
                                return b(w(t.from, t.to, d));
                              var g = d ? w(t.from, null, d) : k(h, !1),
                                m = f ? w(null, t.to, f) : k(p, !0),
                                v = [];
                              return (
                                (d || h).to < (f || p).from - 1
                                  ? v.push(y(c, g.bottom, u, m.top))
                                  : g.bottom < m.top &&
                                    e.elementAtHeight((g.bottom + m.top) / 2)
                                      .type == Cs.Text &&
                                    (g.bottom = m.top = (g.bottom + m.top) / 2),
                                b(g).concat(v).concat(b(m))
                              );
                              function y(e, t, n, i) {
                                return new vc(
                                  e - a.left,
                                  t - a.top - 0.01,
                                  n - e,
                                  i - t + 0.01,
                                  "cm-selectionBackground"
                                );
                              }
                              function b(e) {
                                for (
                                  var t = e.top,
                                    n = e.bottom,
                                    i = e.horizontal,
                                    r = [],
                                    o = 0;
                                  o < i.length;
                                  o += 2
                                )
                                  r.push(y(i[o], t, i[o + 1], n));
                                return r;
                              }
                              function w(t, n, i) {
                                var o = 1e9,
                                  s = -1e9,
                                  a = [];
                                function l(t, n, l, h, p) {
                                  var d = e.coordsAtPos(t, t == i.to ? -2 : 2),
                                    f = e.coordsAtPos(l, l == i.from ? 2 : -2);
                                  (o = Math.min(d.top, f.top, o)),
                                    (s = Math.max(d.bottom, f.bottom, s)),
                                    p == sa.LTR
                                      ? a.push(
                                          r && n ? c : d.left,
                                          r && h ? u : f.right
                                        )
                                      : a.push(
                                          !r && h ? c : f.left,
                                          !r && n ? u : d.right
                                        );
                                }
                                for (
                                  var h = null != t ? t : i.from,
                                    p = null != n ? n : i.to,
                                    d = 0,
                                    f = e.visibleRanges;
                                  d < f.length;
                                  d++
                                ) {
                                  var g = f[d];
                                  if (g.to > h && g.from < p)
                                    for (
                                      var m = Math.max(g.from, h),
                                        v = Math.min(g.to, p);
                                      ;

                                    ) {
                                      for (
                                        var y = e.state.doc.lineAt(m),
                                          b = 0,
                                          w = e.bidiSpans(y);
                                        b < w.length;
                                        b++
                                      ) {
                                        var k = w[b],
                                          C = k.from + y.from,
                                          x = k.to + y.from;
                                        if (C >= v) break;
                                        x > m &&
                                          l(
                                            Math.max(C, m),
                                            null == t && C <= h,
                                            Math.min(x, v),
                                            null == n && x >= p,
                                            k.dir
                                          );
                                      }
                                      if ((m = y.to + 1) >= v) break;
                                    }
                                }
                                return (
                                  0 == a.length &&
                                    l(
                                      h,
                                      null == t,
                                      p,
                                      null == n,
                                      e.textDirection
                                    ),
                                  { top: o, bottom: s, horizontal: a }
                                );
                              }
                              function k(e, t) {
                                var n = s.top + (t ? e.top : e.bottom);
                                return { top: n, bottom: n, horizontal: [] };
                              }
                            })(e.view, t);
                      })
                      .reduce(function (e, t) {
                        return e.concat(t);
                      }),
                    r = [],
                    o = 0,
                    s = t.selection.ranges;
                  o < s.length;
                  o++
                ) {
                  var a = s[o],
                    l = a == t.selection.main;
                  if (a.empty ? !l || fc : n.drawRangeCursor) {
                    var c = Sc(this.view, a, l);
                    c && r.push(c);
                  }
                }
                return { rangePieces: i, cursors: r };
              }),
              (e.prototype.drawSel = function (e) {
                var t = this,
                  n = e.rangePieces,
                  i = e.cursors;
                if (
                  n.length != this.rangePieces.length ||
                  n.some(function (e, n) {
                    return !e.eq(t.rangePieces[n]);
                  })
                ) {
                  this.selectionLayer.textContent = "";
                  for (var r = 0, o = n; r < o.length; r++) {
                    var s = o[r];
                    this.selectionLayer.appendChild(s.draw());
                  }
                  this.rangePieces = n;
                }
                if (
                  i.length != this.cursors.length ||
                  i.some(function (e, n) {
                    return !e.eq(t.cursors[n]);
                  })
                ) {
                  var a = this.cursorLayer.children;
                  if (a.length !== i.length) {
                    this.cursorLayer.textContent = "";
                    for (var l = 0, c = i; l < c.length; l++) {
                      var u = c[l];
                      this.cursorLayer.appendChild(u.draw());
                    }
                  } else
                    i.forEach(function (e, t) {
                      return e.adjust(a[t]);
                    });
                  this.cursors = i;
                }
              }),
              (e.prototype.destroy = function () {
                this.selectionLayer.remove(), this.cursorLayer.remove();
              }),
              e
            );
          })()
        ),
        bc = {
          ".cm-line": {
            "& ::selection": { backgroundColor: "transparent !important" },
            "&::selection": { backgroundColor: "transparent !important" },
          },
        };
      fc && (bc[".cm-line"].caretColor = "transparent !important");
      var wc = gr.highest(Zl.theme(bc));
      function kc(e) {
        var t = e.scrollDOM.getBoundingClientRect();
        return {
          left:
            (e.textDirection == sa.LTR
              ? t.left
              : t.right - e.scrollDOM.clientWidth) - e.scrollDOM.scrollLeft,
          top: t.top - e.scrollDOM.scrollTop,
        };
      }
      function Cc(e, t, n) {
        var i = Zi.cursor(t);
        return {
          from: Math.max(n.from, e.moveToLineBoundary(i, !1, !0).from),
          to: Math.min(n.to, e.moveToLineBoundary(i, !0, !0).from),
          type: Cs.Text,
        };
      }
      function xc(e, t) {
        var n = e.lineBlockAt(t);
        if (Array.isArray(n.type))
          for (var i = 0, r = n.type; i < r.length; i++) {
            var o = r[i];
            if (o.to > t || (o.to == t && (o.to == n.to || o.type == Cs.Text)))
              return o;
          }
        return n;
      }
      function Sc(e, t, n) {
        var i = e.coordsAtPos(t.head, t.assoc || 1);
        if (!i) return null;
        var r = kc(e);
        return new vc(
          i.left - r.left,
          i.top - r.top,
          -1,
          i.bottom - i.top,
          n ? "cm-cursor cm-cursor-primary" : "cm-cursor cm-cursor-secondary"
        );
      }
      var Ec = Or.define({
          map: function (e, t) {
            return null == e ? null : t.mapPos(e);
          },
        }),
        Mc = lr.define({
          create: function () {
            return null;
          },
          update: function (e, t) {
            return (
              null != e && (e = t.changes.mapPos(e)),
              t.effects.reduce(function (e, t) {
                return t.is(Ec) ? t.value : e;
              }, e)
            );
          },
        }),
        Lc = Qs.fromClass(
          (function () {
            function e(e) {
              (this.view = e),
                (this.cursor = null),
                (this.measureReq = {
                  read: this.readPos.bind(this),
                  write: this.drawCursor.bind(this),
                });
            }
            return (
              (e.prototype.update = function (e) {
                var t,
                  n = e.state.field(Mc);
                null == n
                  ? null != this.cursor &&
                    (null === (t = this.cursor) || void 0 === t || t.remove(),
                    (this.cursor = null))
                  : (this.cursor ||
                      ((this.cursor = this.view.scrollDOM.appendChild(
                        document.createElement("div")
                      )),
                      (this.cursor.className = "cm-dropCursor")),
                    (e.startState.field(Mc) != n ||
                      e.docChanged ||
                      e.geometryChanged) &&
                      this.view.requestMeasure(this.measureReq));
              }),
              (e.prototype.readPos = function () {
                var e = this.view.state.field(Mc),
                  t = null != e && this.view.coordsAtPos(e);
                if (!t) return null;
                var n = this.view.scrollDOM.getBoundingClientRect();
                return {
                  left: t.left - n.left + this.view.scrollDOM.scrollLeft,
                  top: t.top - n.top + this.view.scrollDOM.scrollTop,
                  height: t.bottom - t.top,
                };
              }),
              (e.prototype.drawCursor = function (e) {
                this.cursor &&
                  (e
                    ? ((this.cursor.style.left = e.left + "px"),
                      (this.cursor.style.top = e.top + "px"),
                      (this.cursor.style.height = e.height + "px"))
                    : (this.cursor.style.left = "-100000px"));
              }),
              (e.prototype.destroy = function () {
                this.cursor && this.cursor.remove();
              }),
              (e.prototype.setDropPos = function (e) {
                this.view.state.field(Mc) != e &&
                  this.view.dispatch({ effects: Ec.of(e) });
              }),
              e
            );
          })(),
          {
            eventHandlers: {
              dragover: function (e) {
                this.setDropPos(
                  this.view.posAtCoords({ x: e.clientX, y: e.clientY })
                );
              },
              dragleave: function (e) {
                (e.target != this.view.contentDOM &&
                  this.view.contentDOM.contains(e.relatedTarget)) ||
                  this.setDropPos(null);
              },
              dragend: function () {
                this.setDropPos(null);
              },
              drop: function () {
                this.setDropPos(null);
              },
            },
          }
        );
      function Ac() {
        return [Mc, Lc];
      }
      function Dc(e, t, n, i, r) {
        t.lastIndex = 0;
        for (
          var o = e.iterRange(n, i), s = n, a = void 0;
          !o.next().done;
          s += o.value.length
        )
          if (!o.lineBreak)
            for (; (a = t.exec(o.value)); )
              r(s + a.index, s + a.index + a[0].length, a);
      }
      var Tc = (function () {
          function e(e) {
            var t = e.regexp,
              n = e.decoration,
              i = e.boundary,
              r = e.maxLength,
              o = void 0 === r ? 1e3 : r;
            if (!t.global)
              throw new RangeError(
                "The regular expression given to MatchDecorator should have its 'g' flag set"
              );
            (this.regexp = t),
              (this.getDeco =
                "function" == typeof n
                  ? n
                  : function () {
                      return n;
                    }),
              (this.boundary = i),
              (this.maxLength = o);
          }
          return (
            (e.prototype.createDeco = function (e) {
              for (
                var t = this,
                  n = new io(),
                  i = 0,
                  r = (function (e, t) {
                    var n = e.visibleRanges;
                    if (
                      1 == n.length &&
                      n[0].from == e.viewport.from &&
                      n[0].to == e.viewport.to
                    )
                      return n;
                    for (var i = [], r = 0, o = n; r < o.length; r++) {
                      var s = o[r],
                        a = s.from,
                        l = s.to;
                      (a = Math.max(e.state.doc.lineAt(a).from, a - t)),
                        (l = Math.min(e.state.doc.lineAt(l).to, l + t)),
                        i.length && i[i.length - 1].to >= a
                          ? (i[i.length - 1].to = l)
                          : i.push({ from: a, to: l });
                    }
                    return i;
                  })(e, this.maxLength);
                i < r.length;
                i++
              ) {
                var o = r[i],
                  s = o.from,
                  a = o.to;
                Dc(e.state.doc, this.regexp, s, a, function (i, r, o) {
                  return n.add(i, r, t.getDeco(o, e, i));
                });
              }
              return n.finish();
            }),
            (e.prototype.updateDeco = function (e, t) {
              var n = 1e9,
                i = -1;
              return (
                e.docChanged &&
                  e.changes.iterChanges(function (t, r, o, s) {
                    s > e.view.viewport.from &&
                      o < e.view.viewport.to &&
                      ((n = Math.min(o, n)), (i = Math.max(s, i)));
                  }),
                e.viewportChanged || i - n > 1e3
                  ? this.createDeco(e.view)
                  : i > -1
                  ? this.updateRange(e.view, t.map(e.changes), n, i)
                  : t
              );
            }),
            (e.prototype.updateRange = function (e, t, n, i) {
              for (
                var r = this,
                  o = function (o) {
                    var a = Math.max(o.from, n),
                      l = Math.min(o.to, i);
                    if (l > a) {
                      var c = e.state.doc.lineAt(a),
                        u = c.to < l ? e.state.doc.lineAt(l) : c,
                        h = Math.max(o.from, c.from),
                        p = Math.min(o.to, u.to);
                      if (s.boundary) {
                        for (; a > c.from; a--)
                          if (s.boundary.test(c.text[a - 1 - c.from])) {
                            h = a;
                            break;
                          }
                        for (; l < u.to; l++)
                          if (s.boundary.test(u.text[l - u.from])) {
                            p = l;
                            break;
                          }
                      }
                      var d = [],
                        f = void 0;
                      if (c == u)
                        for (
                          s.regexp.lastIndex = h - c.from;
                          (f = s.regexp.exec(c.text)) && f.index < p - c.from;

                        ) {
                          var g = f.index + c.from;
                          d.push(s.getDeco(f, e, g).range(g, g + f[0].length));
                        }
                      else
                        Dc(e.state.doc, s.regexp, h, p, function (t, n, i) {
                          return d.push(r.getDeco(i, e, t).range(t, n));
                        });
                      t = t.update({
                        filterFrom: h,
                        filterTo: p,
                        filter: function (e, t) {
                          return e < h || t > p;
                        },
                        add: d,
                      });
                    }
                  },
                  s = this,
                  a = 0,
                  l = e.visibleRanges;
                a < l.length;
                a++
              ) {
                o(l[a]);
              }
              return t;
            }),
            e
          );
        })(),
        Pc = null != /x/.unicode ? "gu" : "g",
        Oc = new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮\ufeff￹-￼]", Pc),
        Fc = {
          0: "null",
          7: "bell",
          8: "backspace",
          10: "newline",
          11: "vertical tab",
          13: "carriage return",
          27: "escape",
          8203: "zero width space",
          8204: "zero width non-joiner",
          8205: "zero width joiner",
          8206: "left-to-right mark",
          8207: "right-to-left mark",
          8232: "line separator",
          8237: "left-to-right override",
          8238: "right-to-left override",
          8233: "paragraph separator",
          65279: "zero width no-break space",
          65532: "object replacement",
        },
        Ic = null;
      var Nc = ir.define({
        combine: function (e) {
          var t = _r(e, {
            render: null,
            specialChars: Oc,
            addSpecialChars: null,
          });
          return (
            (t.replaceTabs = !(function () {
              var e;
              if (
                null == Ic &&
                "undefined" != typeof document &&
                document.body
              ) {
                var t = document.body.style;
                Ic =
                  null !=
                  (null !== (e = t.tabSize) && void 0 !== e ? e : t.MozTabSize);
              }
              return Ic || !1;
            })()) &&
              (t.specialChars = new RegExp("\t|" + t.specialChars.source, Pc)),
            t.addSpecialChars &&
              (t.specialChars = new RegExp(
                t.specialChars.source + "|" + t.addSpecialChars.source,
                Pc
              )),
            t
          );
        },
      });
      function Bc(e) {
        return (
          void 0 === e && (e = {}),
          [
            Nc.of(e),
            Rc ||
              (Rc = Qs.fromClass(
                (function () {
                  function e(e) {
                    (this.view = e),
                      (this.decorations = xs.none),
                      (this.decorationCache = Object.create(null)),
                      (this.decorator = this.makeDecorator(e.state.facet(Nc))),
                      (this.decorations = this.decorator.createDeco(e));
                  }
                  return (
                    (e.prototype.makeDecorator = function (e) {
                      var t = this;
                      return new Tc({
                        regexp: e.specialChars,
                        decoration: function (n, i, r) {
                          var o = i.state.doc,
                            s = Ai(n[0], 0);
                          if (9 == s) {
                            var a = o.lineAt(r),
                              l = i.state.tabSize,
                              c = Pi(a.text, l, r - a.from);
                            return xs.replace({
                              widget: new Hc(
                                (l - (c % l)) * t.view.defaultCharacterWidth
                              ),
                            });
                          }
                          return (
                            t.decorationCache[s] ||
                            (t.decorationCache[s] = xs.replace({
                              widget: new zc(e, s),
                            }))
                          );
                        },
                        boundary: e.replaceTabs ? void 0 : /[^]/,
                      });
                    }),
                    (e.prototype.update = function (e) {
                      var t = e.state.facet(Nc);
                      e.startState.facet(Nc) != t
                        ? ((this.decorator = this.makeDecorator(t)),
                          (this.decorations = this.decorator.createDeco(
                            e.view
                          )))
                        : (this.decorations = this.decorator.updateDeco(
                            e,
                            this.decorations
                          ));
                    }),
                    e
                  );
                })(),
                {
                  decorations: function (e) {
                    return e.decorations;
                  },
                }
              )),
          ]
        );
      }
      var Rc = null;
      var zc = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            return (i.options = t), (i.code = n), i;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return e.code == this.code;
            }),
            (t.prototype.toDOM = function (e) {
              var t = (function (e) {
                  return e >= 32
                    ? "•"
                    : 10 == e
                    ? "␤"
                    : String.fromCharCode(9216 + e);
                })(this.code),
                n =
                  e.state.phrase("Control character") +
                  " " +
                  (Fc[this.code] || "0x" + this.code.toString(16)),
                i = this.options.render && this.options.render(this.code, n, t);
              if (i) return i;
              var r = document.createElement("span");
              return (
                (r.textContent = t),
                (r.title = n),
                r.setAttribute("aria-label", n),
                (r.className = "cm-specialChar"),
                r
              );
            }),
            (t.prototype.ignoreEvent = function () {
              return !1;
            }),
            t
          );
        })(ks),
        Hc = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (n.width = t), n;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return e.width == this.width;
            }),
            (t.prototype.toDOM = function () {
              var e = document.createElement("span");
              return (
                (e.textContent = "\t"),
                (e.className = "cm-tab"),
                (e.style.width = this.width + "px"),
                e
              );
            }),
            (t.prototype.ignoreEvent = function () {
              return !1;
            }),
            t
          );
        })(ks),
        Vc = Qs.fromClass(
          (function () {
            function e() {
              (this.height = 1e3),
                (this.attrs = { style: "padding-bottom: 1000px" });
            }
            return (
              (e.prototype.update = function (e) {
                var t =
                  e.view.viewState.editorHeight - e.view.defaultLineHeight;
                t != this.height &&
                  ((this.height = t),
                  (this.attrs = { style: "padding-bottom: " + t + "px" }));
              }),
              e
            );
          })()
        );
      function qc() {
        return [
          Vc,
          ta.of(function (e) {
            var t;
            return (
              (null === (t = e.plugin(Vc)) || void 0 === t
                ? void 0
                : t.attrs) || null
            );
          }),
        ];
      }
      function jc() {
        return Wc;
      }
      var Uc = xs.line({ class: "cm-activeLine" }),
        Wc = Qs.fromClass(
          (function () {
            function e(e) {
              this.decorations = this.getDeco(e);
            }
            return (
              (e.prototype.update = function (e) {
                (e.docChanged || e.selectionSet) &&
                  (this.decorations = this.getDeco(e.view));
              }),
              (e.prototype.getDeco = function (e) {
                for (
                  var t = -1, n = [], i = 0, r = e.state.selection.ranges;
                  i < r.length;
                  i++
                ) {
                  var o = r[i];
                  if (!o.empty) return xs.none;
                  var s = e.lineBlockAt(o.head);
                  s.from > t && (n.push(Uc.range(s.from)), (t = s.from));
                }
                return xs.set(n);
              }),
              e
            );
          })(),
          {
            decorations: function (e) {
              return e.decorations;
            },
          }
        ),
        _c = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (n.content = t), n;
          }
          return (
            M(t, e),
            (t.prototype.toDOM = function () {
              var e = document.createElement("span");
              return (
                (e.className = "cm-placeholder"),
                (e.style.pointerEvents = "none"),
                e.appendChild(
                  "string" == typeof this.content
                    ? document.createTextNode(this.content)
                    : this.content
                ),
                "string" == typeof this.content
                  ? e.setAttribute("aria-label", "placeholder " + this.content)
                  : e.setAttribute("aria-hidden", "true"),
                e
              );
            }),
            (t.prototype.ignoreEvent = function () {
              return !1;
            }),
            t
          );
        })(ks);
      function Gc(e) {
        return Qs.fromClass(
          (function () {
            function t(t) {
              (this.view = t),
                (this.placeholder = xs.set([
                  xs.widget({ widget: new _c(e), side: 1 }).range(0),
                ]));
            }
            return (
              Object.defineProperty(t.prototype, "decorations", {
                get: function () {
                  return this.view.state.doc.length
                    ? xs.none
                    : this.placeholder;
                },
                enumerable: !1,
                configurable: !0,
              }),
              t
            );
          })(),
          {
            decorations: function (e) {
              return e.decorations;
            },
          }
        );
      }
      var Kc = {
          HeightMap: Cl,
          HeightOracle: vl,
          MeasuredHeights: yl,
          QueryType: wl,
          ChangedRange: ra,
          computeOrder: xa,
          moveVisually: Ma,
        },
        $c = new Nn();
      function Yc(e) {
        return ir.define({
          combine: e
            ? function (t) {
                return t.concat(e);
              }
            : void 0,
        });
      }
      var Jc = (function () {
        function e(e, t, n, i) {
          void 0 === i && (i = []),
            (this.data = e),
            (this.topNode = n),
            Wr.prototype.hasOwnProperty("tree") ||
              Object.defineProperty(Wr.prototype, "tree", {
                get: function () {
                  return Zc(this);
                },
              }),
            (this.parser = t),
            (this.extension = [
              uu.of(this),
              Wr.languageData.of(function (e, t, n) {
                return e.facet(Qc(e, t, n));
              }),
            ].concat(i));
        }
        return (
          (e.prototype.isActiveAt = function (e, t, n) {
            return void 0 === n && (n = -1), Qc(e, t, n) == this.data;
          }),
          (e.prototype.findRegions = function (e) {
            var t = this,
              n = e.facet(uu);
            if ((null == n ? void 0 : n.data) == this.data)
              return [{ from: 0, to: e.doc.length }];
            if (!n || !n.allowsNesting) return [];
            var i = [],
              r = function (e, n) {
                if (e.prop($c) != t.data) {
                  var o = e.prop(Nn.mounted);
                  if (o) {
                    if (o.tree.prop($c) == t.data) {
                      if (o.overlay)
                        for (var s = 0, a = o.overlay; s < a.length; s++) {
                          var l = a[s];
                          i.push({ from: l.from + n, to: l.to + n });
                        }
                      else i.push({ from: n, to: n + e.length });
                      return;
                    }
                    if (o.overlay) {
                      var c = i.length;
                      if ((r(o.tree, o.overlay[0].from + n), i.length > c))
                        return;
                    }
                  }
                  for (var u = 0; u < e.children.length; u++) {
                    var h = e.children[u];
                    h instanceof jn && r(h, e.positions[u] + n);
                  }
                } else i.push({ from: n, to: n + e.length });
              };
            return r(Zc(e), 0), i;
          }),
          Object.defineProperty(e.prototype, "allowsNesting", {
            get: function () {
              return !0;
            },
            enumerable: !1,
            configurable: !0,
          }),
          e
        );
      })();
      function Qc(e, t, n) {
        var i = e.facet(uu);
        if (!i) return null;
        var r = i.data;
        if (i.allowsNesting)
          for (var o = Zc(e).topNode; o; o = o.enter(t, n, !0, !1))
            r = o.type.prop($c) || r;
        return r;
      }
      Jc.setState = Or.define();
      var Xc = (function (e) {
        function t(t, n) {
          var i = e.call(this, t, n, n.topNode) || this;
          return (i.parser = n), i;
        }
        return (
          M(t, e),
          (t.define = function (e) {
            var n = Yc(e.languageData);
            return new t(
              n,
              e.parser.configure({
                props: [
                  $c.add(function (e) {
                    return e.isTop ? n : void 0;
                  }),
                ],
              })
            );
          }),
          (t.prototype.configure = function (e) {
            return new t(this.data, this.parser.configure(e));
          }),
          Object.defineProperty(t.prototype, "allowsNesting", {
            get: function () {
              return this.parser.wrappers.length > 0;
            },
            enumerable: !1,
            configurable: !0,
          }),
          t
        );
      })(Jc);
      function Zc(e) {
        var t = e.field(Jc.state, !1);
        return t ? t.tree : jn.empty;
      }
      function eu(state, t, n) {
        var i;
        void 0 === n && (n = 50);
        var r =
          null === (i = state.field(Jc.state, !1)) || void 0 === i
            ? void 0
            : i.context;
        return r && (r.isDone(t) || r.work(n, t)) ? r.tree : null;
      }
      function tu(e, t) {
        var n;
        return (
          void 0 === t && (t = e.doc.length),
          (null === (n = e.field(Jc.state, !1)) || void 0 === n
            ? void 0
            : n.context.isDone(t)) || !1
        );
      }
      function nu(e) {
        var t;
        return (
          (null === (t = e.plugin(cu)) || void 0 === t
            ? void 0
            : t.isWorking()) || !1
        );
      }
      var iu = (function () {
          function e(e, t) {
            void 0 === t && (t = e.length),
              (this.doc = e),
              (this.length = t),
              (this.cursorPos = 0),
              (this.string = ""),
              (this.cursor = e.iter());
          }
          return (
            (e.prototype.syncTo = function (e) {
              return (
                (this.string = this.cursor.next(e - this.cursorPos).value),
                (this.cursorPos = e + this.string.length),
                this.cursorPos - this.string.length
              );
            }),
            (e.prototype.chunk = function (e) {
              return this.syncTo(e), this.string;
            }),
            Object.defineProperty(e.prototype, "lineChunks", {
              get: function () {
                return !0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.read = function (e, t) {
              var n = this.cursorPos - this.string.length;
              return e < n || t >= this.cursorPos
                ? this.doc.sliceString(e, t)
                : this.string.slice(e - n, t - n);
            }),
            e
          );
        })(),
        ru = null,
        ou = (function () {
          function e(e, t, n, i, r, o, s, a) {
            void 0 === n && (n = []),
              (this.parser = e),
              (this.state = t),
              (this.fragments = n),
              (this.tree = i),
              (this.treeLen = r),
              (this.viewport = o),
              (this.skipped = s),
              (this.scheduleOn = a),
              (this.parse = null),
              (this.tempSkipped = []);
          }
          return (
            (e.prototype.startParse = function () {
              return this.parser.startParse(
                new iu(this.state.doc),
                this.fragments
              );
            }),
            (e.prototype.work = function (e, t) {
              var n = this;
              return (
                null != t && t >= this.state.doc.length && (t = void 0),
                this.tree != jn.empty &&
                this.isDone(null != t ? t : this.state.doc.length)
                  ? (this.takeTree(), !0)
                  : this.withContext(function () {
                      var i,
                        r = Date.now() + e;
                      for (
                        n.parse || (n.parse = n.startParse()),
                          null != t &&
                            (null == n.parse.stoppedAt ||
                              n.parse.stoppedAt > t) &&
                            t < n.state.doc.length &&
                            n.parse.stopAt(t);
                        ;

                      ) {
                        var o = n.parse.advance();
                        if (o) {
                          if (
                            ((n.fragments = n.withoutTempSkipped(
                              ri.addTree(
                                o,
                                n.fragments,
                                null != n.parse.stoppedAt
                              )
                            )),
                            (n.treeLen =
                              null !== (i = n.parse.stoppedAt) && void 0 !== i
                                ? i
                                : n.state.doc.length),
                            (n.tree = o),
                            (n.parse = null),
                            !(n.treeLen < (null != t ? t : n.state.doc.length)))
                          )
                            return !0;
                          n.parse = n.startParse();
                        }
                        if (Date.now() > r) return !1;
                      }
                    })
              );
            }),
            (e.prototype.takeTree = function () {
              var e,
                t,
                n = this;
              this.parse &&
                (e = this.parse.parsedPos) >= this.treeLen &&
                ((null == this.parse.stoppedAt || this.parse.stoppedAt > e) &&
                  this.parse.stopAt(e),
                this.withContext(function () {
                  for (; !(t = n.parse.advance()); );
                }),
                (this.treeLen = e),
                (this.tree = t),
                (this.fragments = this.withoutTempSkipped(
                  ri.addTree(this.tree, this.fragments, !0)
                )),
                (this.parse = null));
            }),
            (e.prototype.withContext = function (e) {
              var t = ru;
              ru = this;
              try {
                return e();
              } finally {
                ru = t;
              }
            }),
            (e.prototype.withoutTempSkipped = function (e) {
              for (var t = void 0; (t = this.tempSkipped.pop()); )
                e = su(e, t.from, t.to);
              return e;
            }),
            (e.prototype.changes = function (t, n) {
              var i = this,
                r = i.fragments,
                o = i.tree,
                s = i.treeLen,
                a = i.viewport,
                l = i.skipped;
              if ((this.takeTree(), !t.empty)) {
                var c = [];
                if (
                  (t.iterChangedRanges(function (e, t, n, i) {
                    return c.push({ fromA: e, toA: t, fromB: n, toB: i });
                  }),
                  (r = ri.applyChanges(r, c)),
                  (o = jn.empty),
                  (s = 0),
                  (a = { from: t.mapPos(a.from, -1), to: t.mapPos(a.to, 1) }),
                  this.skipped.length)
                ) {
                  l = [];
                  for (var u = 0, h = this.skipped; u < h.length; u++) {
                    var p = h[u],
                      d = t.mapPos(p.from, 1),
                      f = t.mapPos(p.to, -1);
                    d < f && l.push({ from: d, to: f });
                  }
                }
              }
              return new e(this.parser, n, r, o, s, a, l, this.scheduleOn);
            }),
            (e.prototype.updateViewport = function (e) {
              if (this.viewport.from == e.from && this.viewport.to == e.to)
                return !1;
              this.viewport = e;
              for (
                var t = this.skipped.length, n = 0;
                n < this.skipped.length;
                n++
              ) {
                var i = this.skipped[n],
                  r = i.from,
                  o = i.to;
                r < e.to &&
                  o > e.from &&
                  ((this.fragments = su(this.fragments, r, o)),
                  this.skipped.splice(n--, 1));
              }
              return !(this.skipped.length >= t) && (this.reset(), !0);
            }),
            (e.prototype.reset = function () {
              this.parse && (this.takeTree(), (this.parse = null));
            }),
            (e.prototype.skipUntilInView = function (e, t) {
              this.skipped.push({ from: e, to: t });
            }),
            (e.getSkippingParser = function (e) {
              return new ((function (t) {
                function n() {
                  return (null !== t && t.apply(this, arguments)) || this;
                }
                return (
                  M(n, t),
                  (n.prototype.createParse = function (t, n, i) {
                    var r = i[0].from,
                      o = i[i.length - 1].to;
                    return {
                      parsedPos: r,
                      advance: function () {
                        var t = ru;
                        if (t) {
                          for (var n = 0, s = i; n < s.length; n++) {
                            var a = s[n];
                            t.tempSkipped.push(a);
                          }
                          e &&
                            (t.scheduleOn = t.scheduleOn
                              ? Promise.all([t.scheduleOn, e])
                              : e);
                        }
                        return (
                          (this.parsedPos = o), new jn(zn.none, [], [], o - r)
                        );
                      },
                      stoppedAt: null,
                      stopAt: function () {},
                    };
                  }),
                  n
                );
              })(oi))();
            }),
            (e.prototype.isDone = function (e) {
              e = Math.min(e, this.state.doc.length);
              var t = this.fragments;
              return (
                this.treeLen >= e && t.length && 0 == t[0].from && t[0].to >= e
              );
            }),
            (e.get = function () {
              return ru;
            }),
            e
          );
        })();
      function su(e, t, n) {
        return ri.applyChanges(e, [{ fromA: t, toA: n, fromB: t, toB: n }]);
      }
      var au = (function () {
        function e(e) {
          (this.context = e), (this.tree = e.tree);
        }
        return (
          (e.prototype.apply = function (t) {
            if (!t.docChanged) return this;
            var n = this.context.changes(t.changes, t.state),
              i =
                this.context.treeLen == t.startState.doc.length
                  ? void 0
                  : Math.max(
                      t.changes.mapPos(this.context.treeLen),
                      n.viewport.to
                    );
            return n.work(20, i) || n.takeTree(), new e(n);
          }),
          (e.init = function (t) {
            var n = Math.min(3e3, t.doc.length),
              i = new ou(
                t.facet(uu).parser,
                t,
                [],
                jn.empty,
                0,
                { from: 0, to: n },
                [],
                null
              );
            return i.work(20, n) || i.takeTree(), new e(i);
          }),
          e
        );
      })();
      Jc.state = lr.define({
        create: au.init,
        update: function (e, t) {
          for (var n = 0, i = t.effects; n < i.length; n++) {
            var r = i[n];
            if (r.is(Jc.setState)) return r.value;
          }
          return t.startState.facet(uu) != t.state.facet(uu)
            ? au.init(t.state)
            : e.apply(t);
        },
      });
      var lu = function (e) {
        var t = setTimeout(function () {
          return e();
        }, 500);
        return function () {
          return clearTimeout(t);
        };
      };
      "undefined" != typeof requestIdleCallback &&
        (lu = function (e) {
          var t = -1,
            n = setTimeout(function () {
              t = requestIdleCallback(e, { timeout: 400 });
            }, 100);
          return function () {
            return t < 0 ? clearTimeout(n) : cancelIdleCallback(t);
          };
        });
      var cu = Qs.fromClass(
          (function () {
            function e(e) {
              (this.view = e),
                (this.working = null),
                (this.workScheduled = 0),
                (this.chunkEnd = -1),
                (this.chunkBudget = -1),
                (this.work = this.work.bind(this)),
                this.scheduleWork();
            }
            return (
              (e.prototype.update = function (e) {
                var t = this.view.state.field(Jc.state).context;
                (t.updateViewport(e.view.viewport) ||
                  this.view.viewport.to > t.treeLen) &&
                  this.scheduleWork(),
                  e.docChanged &&
                    (this.view.hasFocus && (this.chunkBudget += 50),
                    this.scheduleWork()),
                  this.checkAsyncSchedule(t);
              }),
              (e.prototype.scheduleWork = function () {
                if (!this.working) {
                  var e = this.view.state,
                    t = e.field(Jc.state);
                  (t.tree == t.context.tree &&
                    t.context.isDone(e.doc.length)) ||
                    (this.working = lu(this.work));
                }
              }),
              (e.prototype.work = function (e) {
                this.working = null;
                var t = Date.now();
                if (
                  (this.chunkEnd < t &&
                    (this.chunkEnd < 0 || this.view.hasFocus) &&
                    ((this.chunkEnd = t + 3e4), (this.chunkBudget = 3e3)),
                  !(this.chunkBudget <= 0))
                ) {
                  var n = this.view,
                    i = n.state,
                    r = n.viewport.to,
                    o = i.field(Jc.state);
                  if (o.tree != o.context.tree || !o.context.isDone(r + 1e5)) {
                    var s = Math.min(
                        this.chunkBudget,
                        100,
                        e ? Math.max(25, e.timeRemaining() - 5) : 1e9
                      ),
                      a = o.context.treeLen < r && i.doc.length > r + 1e3,
                      l = o.context.work(s, r + (a ? 0 : 1e5));
                    (this.chunkBudget -= Date.now() - t),
                      (l || this.chunkBudget <= 0) &&
                        (o.context.takeTree(),
                        this.view.dispatch({
                          effects: Jc.setState.of(new au(o.context)),
                        })),
                      this.chunkBudget > 0 && (!l || a) && this.scheduleWork(),
                      this.checkAsyncSchedule(o.context);
                  }
                }
              }),
              (e.prototype.checkAsyncSchedule = function (e) {
                var t = this;
                e.scheduleOn &&
                  (this.workScheduled++,
                  e.scheduleOn
                    .then(function () {
                      return t.scheduleWork();
                    })
                    .catch(function (e) {
                      return _s(t.view.state, e);
                    })
                    .then(function () {
                      return t.workScheduled--;
                    }),
                  (e.scheduleOn = null));
              }),
              (e.prototype.destroy = function () {
                this.working && this.working();
              }),
              (e.prototype.isWorking = function () {
                return this.working || this.workScheduled > 0;
              }),
              e
            );
          })(),
          {
            eventHandlers: {
              focus: function () {
                this.scheduleWork();
              },
            },
          }
        ),
        uu = ir.define({
          combine: function (e) {
            return e.length ? e[0] : null;
          },
          enables: [Jc.state, cu],
        }),
        hu = function (e, t) {
          void 0 === t && (t = []),
            (this.language = e),
            (this.support = t),
            (this.extension = [e, t]);
        },
        pu = (function () {
          function e(e, t, n, i, r, o) {
            void 0 === o && (o = void 0),
              (this.name = e),
              (this.alias = t),
              (this.extensions = n),
              (this.filename = i),
              (this.loadFunc = r),
              (this.support = o),
              (this.loading = null);
          }
          return (
            (e.prototype.load = function () {
              var e = this;
              return (
                this.loading ||
                (this.loading = this.loadFunc().then(
                  function (t) {
                    return (e.support = t);
                  },
                  function (t) {
                    throw ((e.loading = null), t);
                  }
                ))
              );
            }),
            (e.of = function (t) {
              var n = t.load,
                i = t.support;
              if (!n) {
                if (!i)
                  throw new RangeError(
                    "Must pass either 'load' or 'support' to LanguageDescription.of"
                  );
                n = function () {
                  return Promise.resolve(i);
                };
              }
              return new e(
                t.name,
                (t.alias || []).concat(t.name).map(function (e) {
                  return e.toLowerCase();
                }),
                t.extensions || [],
                t.filename,
                n,
                i
              );
            }),
            (e.matchFilename = function (e, t) {
              for (var n = 0, i = e; n < i.length; n++) {
                if ((a = i[n]).filename && a.filename.test(t)) return a;
              }
              var r = /\.([^.]+)$/.exec(t);
              if (r)
                for (var o = 0, s = e; o < s.length; o++) {
                  var a;
                  if ((a = s[o]).extensions.indexOf(r[1]) > -1) return a;
                }
              return null;
            }),
            (e.matchLanguageName = function (e, t, n) {
              void 0 === n && (n = !0), (t = t.toLowerCase());
              for (var i = 0, r = e; i < r.length; i++) {
                if (
                  (a = r[i]).alias.some(function (e) {
                    return e == t;
                  })
                )
                  return a;
              }
              if (n)
                for (var o = 0, s = e; o < s.length; o++)
                  for (var a, l = 0, c = (a = s[o]).alias; l < c.length; l++) {
                    var u = c[l],
                      h = t.indexOf(u);
                    if (
                      h > -1 &&
                      (u.length > 2 ||
                        (!/\w/.test(t[h - 1]) && !/\w/.test(t[h + u.length])))
                    )
                      return a;
                  }
              return null;
            }),
            e
          );
        })(),
        du = ir.define(),
        fu = ir.define({
          combine: function (e) {
            if (!e.length) return "  ";
            if (!/^(?: +|\t+)$/.test(e[0]))
              throw new Error("Invalid indent unit: " + JSON.stringify(e[0]));
            return e[0];
          },
        });
      function gu(e) {
        var t = e.facet(fu);
        return 9 == t.charCodeAt(0) ? e.tabSize * t.length : t.length;
      }
      function mu(e, t) {
        var n = "",
          i = e.tabSize;
        if (9 == e.facet(fu).charCodeAt(0))
          for (; t >= i; ) (n += "\t"), (t -= i);
        for (var r = 0; r < t; r++) n += " ";
        return n;
      }
      function vu(e, t) {
        e instanceof Wr && (e = new yu(e));
        for (var n = 0, i = e.state.facet(du); n < i.length; n++) {
          var r = (0, i[n])(e, t);
          if (null != r) return r;
        }
        var o = Zc(e.state);
        return o
          ? (function (e, t, n) {
              return ku(t.resolveInner(n).enterUnfinishedNodesBefore(n), n, e);
            })(e, o, t)
          : null;
      }
      var yu = (function () {
          function e(e, t) {
            void 0 === t && (t = {}),
              (this.state = e),
              (this.options = t),
              (this.unit = gu(e));
          }
          return (
            (e.prototype.lineAt = function (e, t) {
              void 0 === t && (t = 1);
              var n = this.state.doc.lineAt(e),
                i = this.options.simulateBreak;
              return null != i && i >= n.from && i <= n.to
                ? (t < 0 ? i < e : i <= e)
                  ? { text: n.text.slice(i - n.from), from: i }
                  : { text: n.text.slice(0, i - n.from), from: n.from }
                : n;
            }),
            (e.prototype.textAfterPos = function (e, t) {
              if (
                (void 0 === t && (t = 1),
                this.options.simulateDoubleBreak &&
                  e == this.options.simulateBreak)
              )
                return "";
              var n = this.lineAt(e, t),
                i = n.text,
                r = n.from;
              return i.slice(e - r, Math.min(i.length, e + 100 - r));
            }),
            (e.prototype.column = function (e, t) {
              void 0 === t && (t = 1);
              var n = this.lineAt(e, t),
                i = n.text,
                r = n.from,
                o = this.countColumn(i, e - r),
                s = this.options.overrideIndentation
                  ? this.options.overrideIndentation(r)
                  : -1;
              return (
                s > -1 && (o += s - this.countColumn(i, i.search(/\S|$/))), o
              );
            }),
            (e.prototype.countColumn = function (e, t) {
              return (
                void 0 === t && (t = e.length), Pi(e, this.state.tabSize, t)
              );
            }),
            (e.prototype.lineIndent = function (e, t) {
              void 0 === t && (t = 1);
              var n = this.lineAt(e, t),
                i = n.text,
                r = n.from,
                o = this.options.overrideIndentation;
              if (o) {
                var s = o(r);
                if (s > -1) return s;
              }
              return this.countColumn(i, i.search(/\S|$/));
            }),
            Object.defineProperty(e.prototype, "simulatedBreak", {
              get: function () {
                return this.options.simulateBreak || null;
              },
              enumerable: !1,
              configurable: !0,
            }),
            e
          );
        })(),
        bu = new Nn();
      function wu(e) {
        var t = e.type.prop(bu);
        if (t) return t;
        var n,
          i = e.firstChild;
        if (i && (n = i.type.prop(Nn.closedBy))) {
          var r = e.lastChild,
            o = r && n.indexOf(r.name) > -1;
          return function (e) {
            return Mu(
              e,
              !0,
              1,
              void 0,
              o &&
                !(function (e) {
                  return (
                    e.pos == e.options.simulateBreak &&
                    e.options.simulateDoubleBreak
                  );
                })(e)
                ? r.from
                : void 0
            );
          };
        }
        return null == e.parent ? Cu : null;
      }
      function ku(e, t, n) {
        for (; e; e = e.parent) {
          var i = wu(e);
          if (i) return i(new xu(n, t, e));
        }
        return null;
      }
      function Cu() {
        return 0;
      }
      var xu = (function (e) {
        function t(t, n, i) {
          var r = e.call(this, t.state, t.options) || this;
          return (r.base = t), (r.pos = n), (r.node = i), r;
        }
        return (
          M(t, e),
          Object.defineProperty(t.prototype, "textAfter", {
            get: function () {
              return this.textAfterPos(this.pos);
            },
            enumerable: !1,
            configurable: !0,
          }),
          Object.defineProperty(t.prototype, "baseIndent", {
            get: function () {
              for (var e = this.state.doc.lineAt(this.node.from); ; ) {
                for (
                  var t = this.node.resolve(e.from);
                  t.parent && t.parent.from == t.from;

                )
                  t = t.parent;
                if (Su(t, this.node)) break;
                e = this.state.doc.lineAt(t.from);
              }
              return this.lineIndent(e.from);
            },
            enumerable: !1,
            configurable: !0,
          }),
          (t.prototype.continue = function () {
            var e = this.node.parent;
            return e ? ku(e, this.pos, this.base) : 0;
          }),
          t
        );
      })(yu);
      function Su(e, t) {
        for (var n = t; n; n = n.parent) if (e == n) return !0;
        return !1;
      }
      function Eu(e) {
        var t = e.closing,
          n = e.align,
          i = void 0 === n || n,
          r = e.units,
          o = void 0 === r ? 1 : r;
        return function (e) {
          return Mu(e, i, o, t);
        };
      }
      function Mu(e, t, n, i, r) {
        var o = e.textAfter,
          s = o.match(/^\s*/)[0].length,
          a = (i && o.slice(s, s + i.length) == i) || r == e.pos + s,
          l = t
            ? (function (e) {
                var t = e.node,
                  n = t.childAfter(t.from),
                  i = t.lastChild;
                if (!n) return null;
                for (
                  var r = e.options.simulateBreak,
                    o = e.state.doc.lineAt(n.from),
                    s = null == r || r <= o.from ? o.to : Math.min(o.to, r),
                    a = n.to;
                  ;

                ) {
                  var l = t.childAfter(a);
                  if (!l || l == i) return null;
                  if (!l.type.isSkipped) return l.from < s ? n : null;
                  a = l.to;
                }
              })(e)
            : null;
        return l
          ? a
            ? e.column(l.from)
            : e.column(l.to)
          : e.baseIndent + (a ? 0 : e.unit * n);
      }
      var Lu = function (e) {
        return e.baseIndent;
      };
      function Au(e) {
        var t = void 0 === e ? {} : e,
          n = t.except,
          i = t.units,
          r = void 0 === i ? 1 : i;
        return function (e) {
          var t = n && n.test(e.textAfter);
          return e.baseIndent + (t ? 0 : r * e.unit);
        };
      }
      function Du() {
        return Wr.transactionFilter.of(function (e) {
          if (!e.docChanged || !e.isUserEvent("input.type")) return e;
          var t = e.startState.languageDataAt(
            "indentOnInput",
            e.startState.selection.main.head
          );
          if (!t.length) return e;
          var n = e.newDoc,
            i = e.newSelection.main.head,
            r = n.lineAt(i);
          if (i > r.from + 200) return e;
          var o = n.sliceString(r.from, i);
          if (
            !t.some(function (e) {
              return e.test(o);
            })
          )
            return e;
          for (
            var s = e.state, a = -1, l = [], c = 0, u = s.selection.ranges;
            c < u.length;
            c++
          ) {
            var h = u[c].head,
              p = s.doc.lineAt(h);
            if (p.from != a) {
              a = p.from;
              var d = vu(s, p.from);
              if (null != d) {
                var f = /^\s*/.exec(p.text)[0],
                  g = mu(s, d);
                f != g &&
                  l.push({ from: p.from, to: p.from + f.length, insert: g });
              }
            }
          }
          return l.length ? [e, { changes: l, sequential: !0 }] : e;
        });
      }
      var Tu = ir.define(),
        Pu = new Nn();
      function Ou(e) {
        var t = e.firstChild,
          n = e.lastChild;
        return t && t.to < n.from
          ? { from: t.to, to: n.type.isError ? e.to : n.from }
          : null;
      }
      function Fu(e, t, n) {
        for (var i = 0, r = e.facet(Tu); i < r.length; i++) {
          var o = (0, r[i])(e, t, n);
          if (o) return o;
        }
        return (function (e, t, n) {
          var i = Zc(e);
          if (0 == i.length) return null;
          for (var r = null, o = i.resolveInner(n); o; o = o.parent)
            if (!(o.to <= n || o.from > n)) {
              if (r && o.from < t) break;
              var s = o.type.prop(Pu);
              if (s) {
                var a = s(o, e);
                a && a.from <= n && a.from >= t && a.to > n && (r = a);
              }
            }
          return r;
        })(e, t, n);
      }
      function Iu(e, t, n, i, r) {
        void 0 === i && (i = 0),
          void 0 === r && (r = 0),
          null == t && -1 == (t = e.search(/[^\s\u00a0]/)) && (t = e.length);
        for (var o = r, s = i; s < t; s++)
          9 == e.charCodeAt(s) ? (o += n - (o % n)) : o++;
        return o;
      }
      var Nu = (function () {
        function e(e, t, n, i) {
          (this.string = e),
            (this.tabSize = t),
            (this.indentUnit = n),
            (this.lookAhead = i),
            (this.pos = 0),
            (this.start = 0),
            (this.lastColumnPos = 0),
            (this.lastColumnValue = 0);
        }
        return (
          (e.prototype.eol = function () {
            return this.pos >= this.string.length;
          }),
          (e.prototype.sol = function () {
            return 0 == this.pos;
          }),
          (e.prototype.peek = function () {
            return this.string.charAt(this.pos) || void 0;
          }),
          (e.prototype.next = function () {
            if (this.pos < this.string.length)
              return this.string.charAt(this.pos++);
          }),
          (e.prototype.eat = function (e) {
            var t = this.string.charAt(this.pos);
            if (
              "string" == typeof e
                ? t == e
                : t && (e instanceof RegExp ? e.test(t) : e(t))
            )
              return ++this.pos, t;
          }),
          (e.prototype.eatWhile = function (e) {
            for (var t = this.pos; this.eat(e); );
            return this.pos > t;
          }),
          (e.prototype.eatSpace = function () {
            for (
              var e = this.pos;
              /[\s\u00a0]/.test(this.string.charAt(this.pos));

            )
              ++this.pos;
            return this.pos > e;
          }),
          (e.prototype.skipToEnd = function () {
            this.pos = this.string.length;
          }),
          (e.prototype.skipTo = function (e) {
            var t = this.string.indexOf(e, this.pos);
            if (t > -1) return (this.pos = t), !0;
          }),
          (e.prototype.backUp = function (e) {
            this.pos -= e;
          }),
          (e.prototype.column = function () {
            return (
              this.lastColumnPos < this.start &&
                ((this.lastColumnValue = Iu(
                  this.string,
                  this.start,
                  this.tabSize,
                  this.lastColumnPos,
                  this.lastColumnValue
                )),
                (this.lastColumnPos = this.start)),
              this.lastColumnValue
            );
          }),
          (e.prototype.indentation = function () {
            return Iu(this.string, null, this.tabSize);
          }),
          (e.prototype.match = function (e, t, n) {
            if ("string" == typeof e) {
              var i = function (e) {
                return n ? e.toLowerCase() : e;
              };
              return i(this.string.substr(this.pos, e.length)) == i(e)
                ? (!1 !== t && (this.pos += e.length), !0)
                : null;
            }
            var r = this.string.slice(this.pos).match(e);
            return r && r.index > 0
              ? null
              : (r && !1 !== t && (this.pos += r[0].length), r);
          }),
          (e.prototype.current = function () {
            return this.string.slice(this.start, this.pos);
          }),
          e
        );
      })();
      function Bu(e) {
        if ("object" != typeof e) return e;
        var t = {};
        for (var n in e) {
          var i = e[n];
          t[n] = i instanceof Array ? i.slice() : i;
        }
        return t;
      }
      var Ru = (function (e) {
        function t(t) {
          var n,
            i,
            r = this,
            o = Yc(t.languageData),
            s = {
              token: (i = t).token,
              blankLine:
                i.blankLine ||
                function () {
                  return null;
                },
              startState:
                i.startState ||
                function () {
                  return !0;
                },
              copyState: i.copyState || Bu,
              indent:
                i.indent ||
                function () {
                  return null;
                },
              languageData: i.languageData || {},
            },
            a = new ((function (e) {
              function t() {
                return (null !== e && e.apply(this, arguments)) || this;
              }
              return (
                M(t, e),
                (t.prototype.createParse = function (e, t, i) {
                  return new Vu(n, e, t, i);
                }),
                t
              );
            })(oi))();
          return (
            (r =
              e.call(
                this,
                o,
                a,
                (function (e) {
                  var t = zn.define({
                    id: Uu.length,
                    name: "Document",
                    props: [
                      $c.add(function () {
                        return e;
                      }),
                    ],
                  });
                  return Uu.push(t), t;
                })(o),
                [
                  du.of(function (e, t) {
                    return r.getIndent(e, t);
                  }),
                ]
              ) || this),
            (n = r),
            (r.streamParser = s),
            (r.stateAfter = new Nn({ perNode: !0 })),
            r
          );
        }
        return (
          M(t, e),
          (t.define = function (e) {
            return new t(e);
          }),
          (t.prototype.getIndent = function (e, t) {
            for (
              var n = Zc(e.state), i = n.resolve(t);
              i && i.type != this.topNode;

            )
              i = i.parent;
            if (!i) return null;
            var r,
              o,
              s = zu(this, n, 0, i.from, t);
            if (
              (s
                ? ((o = s.state), (r = s.pos + 1))
                : ((o = this.streamParser.startState(e.unit)), (r = 0)),
              t - r > 1e4)
            )
              return null;
            for (
              var a = function () {
                  var n = e.state.doc.lineAt(r),
                    i = Math.min(t, n.to);
                  if (n.length)
                    for (
                      var s = new Nu(n.text, e.state.tabSize, e.unit, function (
                        t
                      ) {
                        return t + n.number > e.state.doc.lines
                          ? ""
                          : e.state.doc.line(t + n.number).text;
                      });
                      s.pos < i - n.from;

                    )
                      qu(l.streamParser.token, s, o);
                  else l.streamParser.blankLine(o, e.unit);
                  if (i == t) return "break";
                  r = n.to + 1;
                },
                l = this;
              r < t;

            ) {
              if ("break" === a()) break;
            }
            var c = e.state.doc.lineAt(t).text,
              u = this.streamParser.indent(o, /^\s*(.*)/.exec(c)[1], e);
            return u && "CodeMirror.Pass" === u.toString() ? null : u;
          }),
          Object.defineProperty(t.prototype, "allowsNesting", {
            get: function () {
              return !1;
            },
            enumerable: !1,
            configurable: !0,
          }),
          t
        );
      })(Jc);
      function zu(e, t, n, i, r) {
        var o = n >= i && n + t.length <= r && t.prop(e.stateAfter);
        if (o) return { state: e.streamParser.copyState(o), pos: n + t.length };
        for (var s = t.children.length - 1; s >= 0; s--) {
          var a = t.children[s],
            l = n + t.positions[s],
            c = a instanceof jn && l < r && zu(e, a, l, i, r);
          if (c) return c;
        }
        return null;
      }
      function Hu(e, t, n, i, r) {
        if (r && n <= 0 && i >= t.length) return t;
        r || t.type != e.topNode || (r = !0);
        for (var o = t.children.length - 1; o >= 0; o--) {
          var s = t.positions[o],
            a = t.children[o],
            l = void 0;
          if (s < i && a instanceof jn) {
            if (!(l = Hu(e, a, n - s, i - s, r))) break;
            return r
              ? new jn(
                  t.type,
                  t.children.slice(0, o).concat(l),
                  t.positions.slice(0, o + 1),
                  s + l.length
                )
              : l;
          }
        }
        return null;
      }
      var Vu = (function () {
        function e(e, t, n, i) {
          (this.lang = e),
            (this.input = t),
            (this.fragments = n),
            (this.ranges = i),
            (this.stoppedAt = null),
            (this.chunks = []),
            (this.chunkPos = []),
            (this.chunk = []),
            (this.chunkReused = void 0),
            (this.tokenCache = {}),
            (this.rangeIndex = 0),
            (this.to = i[i.length - 1].to);
          var r = ou.get(),
            o = i[0].from,
            s = (function (e, t, n, i) {
              for (var r = 0, o = t; r < o.length; r++) {
                var s = o[r],
                  a = s.from + (s.openStart ? 25 : 0),
                  l = s.to - (s.openEnd ? 25 : 0),
                  c = a <= n && l > n && zu(e, s.tree, 0 - s.offset, n, l),
                  u = void 0;
                if (
                  c &&
                  (u = Hu(e, s.tree, n + s.offset, c.pos + s.offset, !1))
                )
                  return { state: c.state, tree: u };
              }
              return {
                state: e.streamParser.startState(i ? gu(i) : 4),
                tree: jn.empty,
              };
            })(e, n, o, null == r ? void 0 : r.state),
            a = s.state,
            l = s.tree;
          (this.state = a), (this.parsedPos = this.chunkStart = o + l.length);
          for (var c = 0; c < l.children.length; c++)
            this.chunks.push(l.children[c]), this.chunkPos.push(l.positions[c]);
          r &&
            this.parsedPos < r.viewport.from - 1e5 &&
            ((this.state = this.lang.streamParser.startState(gu(r.state))),
            r.skipUntilInView(this.parsedPos, r.viewport.from),
            (this.parsedPos = r.viewport.from));
        }
        return (
          (e.prototype.advance = function () {
            var e = ou.get(),
              t =
                null == this.stoppedAt
                  ? this.to
                  : Math.min(this.to, this.stoppedAt),
              n = Math.min(t, this.chunkStart + 2048),
              i = e.viewport.to + 500;
            for (e && (n = Math.min(n, i)); this.parsedPos < n; )
              this.parseLine(e);
            return (
              this.chunkStart < this.parsedPos && this.finishChunk(),
              this.parsedPos >= t
                ? this.finish()
                : e && this.parsedPos >= i
                ? (e.skipUntilInView(this.parsedPos, t), this.finish())
                : null
            );
          }),
          (e.prototype.stopAt = function (e) {
            this.stoppedAt = e;
          }),
          (e.prototype.lineAfter = function (e) {
            var t = this.input.chunk(e);
            if (this.input.lineChunks) "\n" == t && (t = "");
            else {
              var n = t.indexOf("\n");
              n > -1 && (t = t.slice(0, n));
            }
            return e + t.length <= this.to ? t : t.slice(0, this.to - e);
          }),
          (e.prototype.nextLine = function () {
            for (
              var e = this.parsedPos,
                t = this.lineAfter(e),
                n = e + t.length,
                i = this.rangeIndex;
              ;

            ) {
              var r = this.ranges[i].to;
              if (r >= n) break;
              if (
                ((t = t.slice(0, r - (n - t.length))),
                ++i == this.ranges.length)
              )
                break;
              var o = this.ranges[i].from,
                s = this.lineAfter(o);
              (t += s), (n = o + s.length);
            }
            return { line: t, end: n };
          }),
          (e.prototype.skipGapsTo = function (e, t, n) {
            for (;;) {
              var i = this.ranges[this.rangeIndex].to,
                r = e + t;
              if (n > 0 ? i > r : i >= r) break;
              t += this.ranges[++this.rangeIndex].from - i;
            }
            return t;
          }),
          (e.prototype.emitToken = function (e, t, n, i, r) {
            if (this.ranges.length > 1) {
              t += r = this.skipGapsTo(t, r, 1);
              var o = this.chunk.length;
              (n += r = this.skipGapsTo(n, r, -1)),
                (i += this.chunk.length - o);
            }
            return this.chunk.push(e, t, n, i), r;
          }),
          (e.prototype.parseLine = function (e) {
            var t = this,
              n = this.nextLine(),
              i = n.line,
              r = n.end,
              o = 0,
              s = this.lang.streamParser,
              a = this.tokenCache,
              l = new Nu(
                i,
                e ? e.state.tabSize : 4,
                e ? gu(e.state) : 2,
                function (e) {
                  for (var n = t.parsedPos, i = 0; i < e; i++)
                    (n += t.lineAfter(n).length) < t.input.length && n++;
                  return t.lineAfter(n);
                }
              ),
              c = [],
              u = new Set();
            if (l.eol()) {
              var h = s.blankLine(this.state, l.indentUnit);
              h &&
                h.split(" ").forEach(function (e) {
                  if (e) {
                    var t = e.match(/^line-(background-)?(.*)$/);
                    t && u.add(t[2]);
                  }
                });
            } else {
              for (
                var p = null,
                  d = function () {
                    var e = qu(s.token, l, f.state);
                    if (e) {
                      var t = a[e],
                        n = [],
                        i = void 0;
                      if (t) (i = t[0]), (n = t[1]);
                      else {
                        var r = e.split(" ");
                        (i = (r = r.filter(function (e) {
                          if (!e) return !1;
                          var t = e.match(/^line-(background-)?(.*)$/);
                          return !t || (n.push(t[2]), !1);
                        }))
                          .sort()
                          .join(" ")),
                          (a[e] = [i, n]);
                      }
                      if (n.length > 0)
                        for (var o = 0, h = n; o < h.length; o++) {
                          var d = h[o];
                          u.add(d);
                        }
                      var g = f.parsedPos + l.start,
                        m = f.parsedPos + l.pos;
                      p && p.cls === i && p.to === g
                        ? (p.to = m)
                        : ((p = { cls: i, from: g, to: m }), c.push(p));
                    }
                  },
                  f = this;
                !l.eol();

              )
                d();
              for (var g = 0, m = c; g < m.length; g++) {
                var v = m[g];
                o = this.emitToken(_u(v.cls), v.from, v.to, 4, o);
              }
            }
            u.size > 0 &&
              (o = this.emitToken(
                _u(Array.from(u).sort().join(" "), !0),
                this.parsedPos,
                this.parsedPos + i.length,
                4 * (c.length + 1),
                o
              )),
              (this.parsedPos = r),
              this.parsedPos < this.to && this.parsedPos++;
          }),
          (e.prototype.finishChunk = function () {
            var e = jn.build({
              buffer: this.chunk,
              start: this.chunkStart,
              length: this.parsedPos - this.chunkStart,
              nodeSet: Wu,
              topID: 0,
              maxBufferLength: 2048,
              reused: this.chunkReused,
            });
            (e = new jn(e.type, e.children, e.positions, e.length, [
              [
                this.lang.stateAfter,
                this.lang.streamParser.copyState(this.state),
              ],
            ])),
              this.chunks.push(e),
              this.chunkPos.push(this.chunkStart - this.ranges[0].from),
              (this.chunk = []),
              (this.chunkReused = void 0),
              (this.chunkStart = this.parsedPos);
          }),
          (e.prototype.finish = function () {
            return new jn(
              this.lang.topNode,
              this.chunks,
              this.chunkPos,
              this.parsedPos - this.ranges[0].from
            ).balance();
          }),
          e
        );
      })();
      function qu(e, t, n) {
        t.start = t.pos;
        for (var i = 0; i < 10; i++) {
          var r = e(t, n);
          if (t.pos > t.start) return r;
        }
        throw new Error("Stream parser failed to advance stream.");
      }
      var ju = Object.create(null),
        Uu = [zn.none],
        Wu = new Hn(Uu);
      function _u(e, t) {
        return e
          ? ju[e] ||
              (ju[e] = (function (e, t) {
                var n,
                  i,
                  r = e.replace(/ /g, "_"),
                  o = zn.define({
                    id: Uu.length,
                    name: r,
                    props: [
                      t
                        ? Ku.add(((n = {}), (n[r] = e), n))
                        : Gu.add(((i = {}), (i[r] = e), i)),
                    ],
                  });
                return Uu.push(o), o.id;
              })(e, t))
          : 0;
      }
      var Gu = new Nn(),
        Ku = new Nn(),
        $u = (function () {
          function e(e) {
            (this.lineCache = Object.create(null)),
              (this.tokenCache = Object.create(null)),
              (this.tree = Zc(e.state)),
              (this.decorations = this.buildDeco(e));
          }
          return (
            (e.prototype.update = function (e) {
              var t = Zc(e.state);
              t.length < e.view.viewport.to
                ? (this.decorations = this.decorations.map(e.changes))
                : (t != this.tree || e.viewportChanged) &&
                  ((this.tree = t),
                  (this.decorations = this.buildDeco(e.view)));
            }),
            (e.prototype.buildDeco = function (e) {
              var t = this;
              if (!this.tree.length) return xs.none;
              for (
                var n = [], i = 0, r = e.state.facet(Ju);
                i < r.length;
                i++
              ) {
                var o = r[i];
                n.push.apply(n, o.split(" "));
              }
              for (
                var s = new Set(n),
                  a = s.size > 0,
                  l = new io(),
                  c = 0,
                  u = 0,
                  h = e.visibleRanges;
                u < h.length;
                u++
              ) {
                var p = h[u],
                  d = p.from,
                  f = p.to;
                this.tree.iterate({
                  from: d,
                  to: f,
                  enter: function (n, i, r) {
                    var o = n.prop(Ku);
                    if (o) {
                      var u =
                          t.lineCache[o] ||
                          (t.lineCache[o] = xs.line({
                            attributes: { class: o },
                          })),
                        h = e.visualLineAt(i).from;
                      if (c > h) return;
                      l.add(h, h, u), (c = h);
                    }
                    var p = n.prop(Gu);
                    if (p) {
                      if (c > i) return;
                      if (!(u = t.tokenCache[p])) {
                        var d = p.split(" "),
                          f = {
                            class: d
                              .map(function (e) {
                                return "cm-" + e;
                              })
                              .join(" "),
                          };
                        a &&
                          d.some(function (e) {
                            return s.has(e);
                          }) &&
                          (f.attributes = { spellcheck: "false" }),
                          (u = t.tokenCache[p] = xs.mark(f));
                      }
                      l.add(i, r, u), (c = r);
                    }
                  },
                });
              }
              return l.finish();
            }),
            e
          );
        })(),
        Yu = gr.fallback(
          Qs.define(
            function (e) {
              return new $u(e);
            },
            {
              decorations: function (e) {
                return e.decorations;
              },
            }
          )
        ),
        Ju = ir.define({}),
        Qu = Or.define(),
        Xu = Or.define(),
        Zu = new Map(),
        eh = lr.define({
          create: function () {
            return xs.none;
          },
          update: function (e, t) {
            e = e.map(t.changes);
            for (var n = 0, i = t.effects; n < i.length; n++) {
              var r = i[n];
              r.is(Qu)
                ? (e = e.update({ add: r.value, sort: !0 }))
                : r.is(Xu) && (e = e.update({ filter: r.value }));
            }
            return e;
          },
          provide: function (e) {
            return Zl.decorations.from(e);
          },
        });
      function th(e, t) {
        if (t.line < 0) return 0;
        var n = t.line + 1;
        if (n > e.lines) return e.length;
        var i = e.line(n);
        return isFinite(t.ch)
          ? t.ch < 0
            ? i.from + Math.max(0, i.length + t.ch)
            : i.from + t.ch
          : i.to;
      }
      function nh(e, t) {
        t = Math.clamp(t, 0, e.length);
        var n = e.lineAt(t);
        return { line: n.number - 1, ch: t - n.from };
      }
      function ih(e, t, n) {
        return e.from <= n && e.to >= t;
      }
      function rh(e, t, n) {
        for (var i = 0, r = e; i < r.length; i++) {
          if (ih(r[i], t, n)) return !0;
        }
        return !1;
      }
      function oh(e, t, n) {
        var i = !1;
        return (
          e.between(t, n, function () {
            return (i = !0), !1;
          }),
          i
        );
      }
      var sh = Or.define();
      function ah(e, t) {
        return e.some(function (e) {
          return e.effects.some(function (e) {
            return e.is(t);
          });
        });
      }
      function lh(e, t) {
        return void 0 === t && (t = 0), { line: e, ch: t };
      }
      function ch(e, t) {
        return { line: e.line, ch: e.ch + t };
      }
      function uh(e, t) {
        return e.line === t.line ? e.ch <= t.ch : e.line <= t.line;
      }
      function hh(e, t) {
        return (function (e, t) {
          var n = e.from,
            i = t.from;
          return n.line === i.line ? n.ch - i.ch : n.line - i.line;
        })(t, e);
      }
      var ph = /^([>\s]*)(([*+-] |(\d+)([.)] ))(?:\[(.)\] )?)?/,
        dh = /^([>\s]*)(#{1,6} )?(.*)/,
        fh = [
          {
            regex: /(！)?【【$/,
            replace: function (e) {
              return e[1] ? "![[" : "[[";
            },
          },
          {
            regex: /】】$/,
            replace: function () {
              return "]]";
            },
          },
          {
            regex: /【【$/,
            replace: function () {
              return "[[";
            },
          },
        ],
        gh = (function () {
          function e() {}
          return (
            (e.prototype.getDoc = function () {
              return this;
            }),
            (e.prototype.setLine = function (e, t) {
              this.replaceRange(t, lh(e, 0), lh(e, this.getLine(e).length));
            }),
            (e.prototype.somethingSelected = function () {
              return !!this.getSelection();
            }),
            (e.prototype.setCursor = function (e, t) {
              return Number.isNumber(e)
                ? this.setSelection({ line: e, ch: t })
                : this.setSelection(e);
            }),
            (e.prototype.posAtMouse = function (e) {
              return this.posAtCoords(e.clientX, e.clientY);
            }),
            (e.prototype.getSpellcheckStatus = function (e, t) {
              return null;
            }),
            (e.prototype.toggleSurroundingMarkdown = function (e) {
              var t = this,
                n = this.getSelection(),
                i = this.getCursor("from"),
                r = this.getCursor("to"),
                o = function (e) {
                  var n = e.length,
                    o = t.getRange(ch(i, -n), i),
                    s = t.getRange(r, ch(r, n));
                  return o === e && s === e;
                },
                s = function (e) {
                  return (
                    n.length >= 2 * e.length && n.startsWith(e) && n.endsWith(e)
                  );
                },
                a = function (e, a) {
                  return o(e)
                    ? ((function (e, o) {
                        var s = o.length,
                          a = o + n + o;
                        t.transaction({
                          changes: [{ from: ch(i, -e), to: ch(r, e), text: a }],
                          selection: {
                            from: ch(i, s - e),
                            to: ch(r, r.line === i.line ? s - e : 0),
                          },
                        });
                      })(e.length, a),
                      !0)
                    : !!s(e) &&
                        ((function (e, o) {
                          var s = o + n.substring(e, n.length - e) + o;
                          t.transaction({
                            changes: [{ from: i, to: r, text: s }],
                            selection: {
                              from: i,
                              to: lh(
                                r.line,
                                r.line === i.line ? i.ch + s.length : r.ch
                              ),
                            },
                          });
                        })(e.length, a),
                        !0);
                };
              if ("*" === e || "_" === e) {
                if (a("***", "**")) return;
                if (a("___", "__")) return;
                if (!(o("**") || o("__") || s("**") || s("__"))) {
                  if (a("*", "")) return;
                  if (a("_", "")) return;
                }
              } else if ("**" === e || "__" === e) {
                if (a("**", "")) return;
                if (a("__", "")) return;
              } else if (
                2 === e.length &&
                e.charAt(0) === e.charAt(1) &&
                a(e, "")
              )
                return;
              var l = n.match(/^(\s*)([\s\S]*?)(\s*)$/);
              if (l) {
                n = l[2];
                for (var c = l[1], u = 0; u < c.length; u++) {
                  "\n" === c.charAt(u) ? (i.line++, (i.ch = 0)) : i.ch++;
                }
                var h = l[3];
                for (u = h.length - 1; u >= 0; u--) {
                  "\n" === h.charAt(u)
                    ? (r.line--, (r.ch = this.getLine(i.line).length))
                    : r.ch--;
                }
              }
              var p = r;
              r.line === i.line && (p = ch(r, e.length)),
                this.transaction({
                  changes: [{ from: i, to: r, text: "" + e + n + e }],
                  selection: { from: ch(i, e.length), to: p },
                });
            }),
            (e.prototype.insertMarkdownLink = function () {
              var e = this.getSelection(),
                t = this.getCursor("from"),
                n = this.getCursor("to");
              e
                ? this.transaction({
                    replaceSelection: "[" + e + "]()",
                    selection: { from: ch(t, e.length + 3) },
                  })
                : t.line === n.line &&
                  t.ch === n.ch &&
                  this.transaction({
                    replaceSelection: "[]()",
                    selection: { from: ch(t, 1) },
                  });
            }),
            (e.prototype.triggerWikilink = function (e) {
              var t = this.getSelection(),
                n = this.getCursor("from"),
                i = this.getCursor("to");
              t
                ? (this.replaceSelection(
                    e ? "![[" + t + "]]" : "[[" + t + "]]"
                  ),
                  this.setSelection(ch(n, t.length + 2)))
                : n.line === i.line &&
                  n.ch === i.ch &&
                  (this.replaceSelection(e ? "![[]]" : "[[]]"),
                  this.setSelection(ch(n, e ? 3 : 2)));
            }),
            (e.prototype.insertText = function (e) {
              var t = this.getSelection(),
                n = this.getCursor("from"),
                i = this.getCursor("to");
              t
                ? (this.replaceSelection("" + e + t),
                  this.setSelection(ch(n, t.length + e.length)))
                : n.line === i.line &&
                  n.ch === i.ch &&
                  (this.replaceSelection(e),
                  this.setSelection(ch(n, e.length)));
            }),
            (e.prototype.processLines = function (e, t, n) {
              void 0 === n && (n = !0);
              for (
                var i = this.listSelections(),
                  r = (function (e) {
                    for (var t = [], n = 0, i = e; n < i.length; n++)
                      for (
                        var r = i[n],
                          o = Math.min(r.anchor.line, r.head.line),
                          s = Math.max(r.anchor.line, r.head.line),
                          a = o;
                        a <= s;
                        a++
                      )
                        t.push(a);
                    return Array.from(new Set(t)).sort();
                  })(i),
                  o = [],
                  s = 0,
                  a = r;
                s < a.length;
                s++
              ) {
                var l = a[s],
                  c = this.getLine(l);
                if (n && r.length > 1 && !c.trim()) o.push(null);
                else {
                  var u = e(l, c);
                  o.push(u);
                }
              }
              for (var h = [], p = 0; p < r.length; p++) {
                (l = r[p]), (u = o[p]);
                if (!n || null !== u)
                  (d = t(l, (c = this.getLine(l)), u)) && h.push(d);
              }
              if (0 !== h.length) {
                if (1 === i.length) {
                  var d = h[0],
                    f = i[0],
                    g = f.anchor;
                  if (
                    0 === g.ch &&
                    ((v = g),
                    (y = f.head),
                    v.line === y.line && v.ch === y.ch) &&
                    g.line === d.from.line
                  ) {
                    var m = d.text.length - (d.to ? d.to.ch - d.from.ch : 0);
                    return (
                      (g.ch += m),
                      g.ch < 0 && (g.ch = 0),
                      void this.transaction({
                        changes: h,
                        selection: { from: g },
                      })
                    );
                  }
                }
                var v, y;
                this.transaction({ changes: h });
              }
            }),
            (e.prototype.setHeading = function (e) {
              this.processLines(
                function (e, t) {
                  return t.match(dh);
                },
                function (t, n, i) {
                  var r = 0 === e ? "" : Array(e).fill("#").join("") + " ";
                  return {
                    from: lh(t, i[1].length),
                    to: lh(t, n.length - i[3].length),
                    text: r,
                  };
                }
              );
            }),
            (e.prototype.toggleBlockquote = function () {
              var e = /^\s*>\s*/,
                t = !1;
              this.processLines(
                function (n, i) {
                  var r = i.match(e);
                  return r || (t = !0), r;
                },
                function (e, n, i) {
                  var r = i;
                  if (t && !r) return { from: lh(e, 0), text: "> " };
                  if (!t && r) {
                    var o = r[0].length;
                    return { from: lh(e, 0), to: lh(e, o), text: "" };
                  }
                },
                !1
              );
            }),
            (e.prototype.toggleBulletList = function () {
              var e = !1;
              this.processLines(
                function (t, n) {
                  var i = n.match(ph);
                  return (i[3] && !i[4]) || (e = !0), i;
                },
                function (t, n, i) {
                  return i
                    ? {
                        from: lh(t, 0),
                        to: lh(t, i[0].length),
                        text: i[1] + (e ? "- " : ""),
                      }
                    : null;
                }
              );
            }),
            (e.prototype.toggleNumberList = function () {
              var e = !1;
              this.processLines(
                function (t, n) {
                  var i = n.match(ph);
                  return i[4] || (e = !0), i;
                },
                function (t, n, i) {
                  return i
                    ? {
                        from: lh(t, 0),
                        to: lh(t, i[0].length),
                        text: i[1] + (e ? "1. " : ""),
                      }
                    : null;
                }
              ),
                e && this.afterIndent();
            }),
            (e.prototype.toggleCheckList = function (e) {
              var t = 3;
              this.processLines(
                function (n, i) {
                  var r = i.match(ph);
                  return (
                    t > 2 && " " === r[6] && (t = 2),
                    t > 1 && !r[6] && (t = 1),
                    e && t > 0 && !r[3] && (t = 0),
                    r
                  );
                },
                function (n, i, r) {
                  if (!r) return null;
                  var o = r[0],
                    s = r[1],
                    a = r[3],
                    l = {
                      from: lh(n, s.length),
                      to: lh(n, o.length),
                      text: i.substr(0, o.length),
                    };
                  return (
                    a || ((l.text = "- "), (a = "- ")),
                    1 === t
                      ? r[6] || (l.text = a + "[ ] ")
                      : 2 === t
                      ? (l.text = a + "[x] ")
                      : 3 === t && (l.text = e ? a : a + "[ ] "),
                    l
                  );
                }
              );
            }),
            (e.prototype.indentList = function () {
              this.exec("indentMore"), this.afterIndent();
            }),
            (e.prototype.unindentList = function () {
              this.exec("indentLess"), this.afterIndent();
            }),
            (e.prototype.afterIndent = function () {
              for (
                var e = this,
                  t = this.listSelections(),
                  n = [],
                  i = [],
                  r = 0,
                  o = t;
                r < o.length;
                r++
              ) {
                var s = o[r];
                i.push(
                  Math.min(s.head.line, s.anchor.line),
                  Math.max(s.head.line, s.anchor.line) + 1
                );
              }
              i = De(i).sort();
              for (
                var a = -1,
                  l = function (t) {
                    var i = e.getLine(t);
                    if (i) {
                      var r = ph.exec(i);
                      if (r && r[4]) {
                        for (
                          var o = r[1], s = r[5], l = t - 1, c = 0, u = null;
                          l >= 0;

                        ) {
                          var h = e.getLine(l),
                            p = ph.exec(h);
                          if (!p || !p[4]) break;
                          var d = p[1];
                          if (d === o) {
                            p[4] ? (c = parseInt(p[4], 10)) : (u = p);
                            break;
                          }
                          if (d.length < o.length) break;
                          l--;
                        }
                        var f = o.length + r[2].length;
                        if (u)
                          return (
                            n.push({
                              text: o + u[2],
                              from: lh(t),
                              to: lh(t, f),
                            }),
                            void (a = t)
                          );
                        c++,
                          n.push({
                            text: o + c + s,
                            from: lh(t),
                            to: lh(t, f),
                          }),
                          (a = t);
                        for (var g = t + 1, m = e.lineCount(); g < m; ) {
                          var v = e.getLine(g);
                          if (v) {
                            var y = ph.exec(v);
                            if (!y || !y[2]) break;
                            var b = y[1];
                            if (
                              (b === o &&
                                y[4] &&
                                (c++,
                                n.push({
                                  text: o + c + y[5],
                                  from: lh(g),
                                  to: lh(g, b.length + y[2].length),
                                }),
                                (a = g)),
                              b.length < o.length)
                            )
                              break;
                            g++;
                          } else g++;
                        }
                      }
                    }
                  },
                  c = 0,
                  u = i;
                c < u.length;
                c++
              ) {
                var h = u[c];
                h > a && l(h);
              }
              this.transaction({ changes: n });
            }),
            (e.prototype.newlineAndIndentContinueMarkdownList = function () {
              for (
                var e = this,
                  t = this.listSelections(),
                  n = [],
                  i = function (t) {
                    var i = t.head;
                    if (
                      t.head.line !== t.anchor.line ||
                      t.head.ch !== t.anchor.ch
                    )
                      return !1;
                    var r = e.getLine(i.line),
                      o = ph.exec(r);
                    if (!o) return !1;
                    var s = o[0],
                      a = o[1],
                      l = o[2],
                      c = o[3],
                      u = o[4],
                      h = o[5],
                      p = o[6];
                    if (i.ch < s.length || (!l && !a)) return !1;
                    if ("" === r.substr(s.length).trim()) {
                      if (!a)
                        return (
                          n.push({ text: "", from: lh(i.line), to: i }), !0
                        );
                      if (a.endsWith("> "))
                        return (
                          n.push({
                            text: "",
                            from: lh(i.line, a.length - 2),
                            to: lh(i.line, a.length),
                          }),
                          !0
                        );
                      for (
                        var d = 0;
                        d < 4 && " " === a.charAt(a.length - d - 1);
                        d++
                      );
                      return d > 0
                        ? (n.push({
                            text: "",
                            from: lh(i.line, a.length - d),
                            to: lh(i.line, a.length),
                          }),
                          !0)
                        : (n.push({
                            text: "",
                            from: lh(i.line),
                            to: lh(i.line, a.length),
                          }),
                          !0);
                    }
                    if (!l)
                      return (
                        n.push({
                          text: r.charAt(i.ch - 1) + "\n" + a,
                          from: lh(i.line, i.ch - 1),
                          to: i,
                        }),
                        !0
                      );
                    var f = c;
                    if (
                      (u && (f = parseInt(u, 10) + 1 + h),
                      p && (f += "[ ] "),
                      n.push({
                        text: r.charAt(i.ch - 1) + "\n" + a + f,
                        from: lh(i.line, i.ch - 1),
                        to: i,
                      }),
                      u)
                    )
                      for (
                        var g = parseInt(u, 10) + 2,
                          m = i.line + 1,
                          v = e.lineCount();
                        m < v;
                        m++
                      ) {
                        var y = ph.exec(e.getLine(m));
                        if (!y || !y[2]) break;
                        var b = y[1];
                        if (b === a) {
                          var w = y[4],
                            k = parseInt(w, 10);
                          w &&
                            !isNaN(k) &&
                            ((g = Math.max(g, k)),
                            n.push({
                              text: String(g),
                              from: lh(m, a.length),
                              to: lh(m, a.length + w.length),
                            }),
                            g++);
                        } else if (!(b.length > a.length)) break;
                      }
                    return !0;
                  },
                  r = 0,
                  o = t;
                r < o.length;
                r++
              ) {
                if (!i(o[r])) return this.exec("newlineAndIndent");
              }
              this.transaction({ changes: n });
            }),
            (e.prototype.newlineAndIndentOnly = function () {
              for (
                var e = this,
                  t = this.listSelections(),
                  n = [],
                  i = function (t) {
                    var i = t.head;
                    if (
                      t.head.line !== t.anchor.line ||
                      t.head.ch !== t.anchor.ch
                    )
                      return !1;
                    var r = e.getLine(i.line),
                      o = ph.exec(r);
                    if (!o) return !1;
                    var s = o[0],
                      a = o[1],
                      l = o[2];
                    return (
                      !(i.ch < s.length) &&
                      (n.push({
                        text:
                          r.charAt(i.ch - 1) +
                          "\n" +
                          a +
                          (l
                            ? l.replace(/\t/g, "    ").replace(/./g, " ")
                            : ""),
                        from: lh(i.line, i.ch - 1),
                        to: i,
                      }),
                      !0)
                    );
                  },
                  r = 0,
                  o = t;
                r < o.length;
                r++
              ) {
                if (!i(o[r])) return this.newlineOnly();
              }
              this.transaction({ changes: n });
            }),
            (e.prototype.newlineOnly = function () {
              this.transaction({ replaceSelection: "\n" });
            }),
            (e.prototype.expandText = function () {
              var e = this.getCursor("anchor"),
                t = this.getCursor("head");
              if (e.line === t.line && e.ch === t.ch)
                for (
                  var n = this.getLine(e.line).substr(0, e.ch), i = 0, r = fh;
                  i < r.length;
                  i++
                ) {
                  var o = r[i],
                    s = n.match(o.regex);
                  if (s) {
                    var a = s[0].length,
                      l = o.replace(s);
                    this.replaceRange(l, ch(e, -a), e);
                    break;
                  }
                }
            }),
            e
          );
        })();
      function mh(e, t) {
        for (var n = [], i = 0, r = t; i < r.length; i++) {
          var o = r[i];
          n.push(o[0], o[1]);
        }
        for (var s = vh(e, n), a = [], l = 0; l < t.length; l++)
          a.push({ from: s[2 * l], to: s[2 * l + 1] });
        return a;
      }
      function vh(e, t) {
        for (
          var n = 0, i = 0, r = e.indexOf("\n"), o = [], s = 0, a = t;
          s < a.length;
          s++
        ) {
          for (var l = a[s]; r < l; ) {
            if (-1 === r) {
              r = e.length;
              break;
            }
            n++, (i = r + 1), (r = e.indexOf("\n", i));
          }
          o.push({ line: n, ch: l - i });
        }
        return o;
      }
      function yh(e, t) {
        e.focus();
        var n = document.createRange();
        n.selectNodeContents(e), isBoolean(t) && n.collapse(t);
        var i = window.getSelection();
        i && (i.removeAllRanges(), i.addRange(n));
      }
      function bh() {
        var e = document.activeElement;
        e && e instanceof HTMLElement && e.blur();
        var t = window.getSelection();
        t && t.removeAllRanges();
      }
      function wh() {
        var e = window.getSelection();
        if (!e) return null;
        var t = null;
        return (
          e.rangeCount > 0 && (t = e.getRangeAt(0)),
          { range: t, focusEl: document.activeElement }
        );
      }
      function kh(e) {
        if (e) {
          var t = e.focusEl,
            n = e.range,
            i = document.body;
          if (n && i.contains(n.startContainer) && i.contains(n.endContainer)) {
            var r = window.getSelection();
            r && (r.removeAllRanges(), r.addRange(n));
          }
          t &&
            (t instanceof HTMLElement || t instanceof SVGElement) &&
            i.contains(t) &&
            t.focus();
        }
      }
      var Ch = !1;
      try {
        window.addEventListener(
          "test",
          null,
          Object.defineProperty({}, "passive", {
            get: function () {
              Ch = { passive: !1 };
            },
          })
        );
      } catch (e) {}
      function xh(e, t, n) {
        (n = n || {}), t.show();
        var i = n.gap || 0,
          r = n.preference || "bottom",
          o = n.offsetParent || t.offsetParent || document.documentElement,
          s = n.horizontalAlignment || "left",
          a = o.scrollTop + 10,
          l = o.scrollTop + o.clientHeight - 10,
          c = Math.min(e.top, l),
          u = Math.max(e.bottom, a),
          h = t.offsetHeight,
          p = e.top - a >= h + i,
          d = l - e.bottom >= h + i,
          f = 0,
          g = "";
        !p || ("top" !== r && d)
          ? !d || ("bottom" !== r && p)
            ? o.clientHeight < h + i
              ? ((f = a), (g = "overlap"))
              : "top" === r
              ? ((f = a + i), (g = "overlap"))
              : ((f = l - h), (g = "overlap"))
            : ((f = u + i), (g = "bottom"))
          : ((f = c - i - h), (g = "top"));
        var m = o.scrollLeft + 10,
          v = o.scrollLeft + o.clientWidth - 10,
          y = t.offsetWidth,
          b = "left" === s ? e.left : e.right - y;
        return (
          b < m ? (b = m) : b > v - y && (b = v - y),
          (t.style.top = f + "px"),
          (t.style.left = b + "px"),
          { top: f, left: b, vresult: g }
        );
      }
      function Sh(e, t) {
        var n = e.clientX,
          i = e.clientY,
          r = t.getBoundingClientRect();
        return (
          n >= r.x && n <= r.x + r.width && i >= r.y && i <= r.y + r.height
        );
      }
      function Eh(e, t) {
        for (
          var n = 0, i = 0, r = t ? t.offsetParent : null;
          e && e !== t && e !== r;

        ) {
          (n += e.offsetTop), (i += e.offsetLeft);
          for (var o = e.offsetParent, s = e.parentElement; s && s !== o; )
            (n -= s.scrollTop), (i -= s.scrollLeft), (s = s.parentElement);
          o && ((n -= o.scrollTop), (i -= o.scrollLeft)), (e = o);
        }
        return { top: n, left: i };
      }
      function Mh(e, t) {
        var n = Eh(e, t);
        return {
          left: n.left,
          right: n.left + e.offsetWidth,
          top: n.top,
          bottom: n.top + e.offsetHeight,
        };
      }
      function Lh(e, t) {
        var n = !1,
          i = null;
        return {
          get loaded() {
            return n;
          },
          get promise() {
            if (n) return Promise.resolve();
            if (!i) {
              t && t.before && t.before();
              var r = (function (e) {
                return new Promise(function (t, n) {
                  var i = document.createElement("script");
                  (i.type = "text/javascript"),
                    (i.src = e),
                    i.addEventListener(
                      "load",
                      function () {
                        return t(i);
                      },
                      !1
                    ),
                    i.addEventListener(
                      "error",
                      function () {
                        return n(i);
                      },
                      !1
                    ),
                    document.body.appendChild(i);
                });
              })(e);
              r.catch(function (e) {
                e.detach(), (i = null);
              }),
                (i = r.then(function () {
                  (n = !0), (i = null), t && t.after && t.after();
                }));
            }
            return i;
          },
          then: function (e) {
            return n ? e() : this.promise.then(e);
          },
        };
      }
      function Ah(e, t) {
        if (3 !== e.nodeType)
          for (var n = e.firstChild; n; ) Ah(n, t), (n = n.nextSibling);
        else t.push(e);
      }
      function Dh(e, t, n, i) {
        for (
          var r = 0, o = null, s = -1, a = null, l = -1, c = 0;
          c < t.length;
          c++
        ) {
          var u = r + t[c].length;
          if (
            (r <= n && n <= u && ((o = e[c]), (s = n - r)), r <= i && i <= u)
          ) {
            (a = e[c]), (l = i - r);
            break;
          }
          r = u;
        }
        if (o && a) {
          var h = document.createRange();
          return h.setStart(o, s), h.setEnd(a, l), h;
        }
        return null;
      }
      function Th(e, t) {
        return A(this, void 0, Promise, function () {
          var n;
          return D(this, function (i) {
            switch (i.label) {
              case 0:
                e.addClass("is-loading"), (i.label = 1);
              case 1:
                return i.trys.push([1, , 3, 4]), [4, t()];
              case 2:
                return (n = i.sent()), [3, 4];
              case 3:
                return e.removeClass("is-loading"), [7];
              case 4:
                return [2, n];
            }
          });
        });
      }
      function Ph(e, t) {
        e.setData("text/plain", t);
      }
      function Oh(e, t) {
        e.setData("text/plain", t), e.setData("text/uri-list", t);
      }
      function Fh(e) {
        e.addEventListener("mousemove", function (t) {
          var n = e.clientHeight,
            i = e.scrollHeight;
          if (i > n) {
            var r = (t.clientY - e.getBoundingClientRect().y - 30) / (n - 60);
            e.scrollTop = (i - n) * Math.clamp(r, 0, 1);
          }
        });
      }
      for (
        var Ih = new Map(),
          Nh = 0,
          Bh =
            "a abbr acronym b bdi bdo big br button canvas cite code data del dfn em embed i iframe img input ins kbd label map mark meter noscript object outputpicture progress q ruby s samp select small span strong sub sup svg textarea time u tt var video wbr".split(
              " "
            );
        Nh < Bh.length;
        Nh++
      ) {
        var Rh = Bh[Nh];
        Ih.set(Rh, !0);
      }
      for (
        var zh = 0,
          Hh =
            "address article aside blockquote details dialog dd div dl dt fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 header hgroup hr li main nav ol p pre ul".split(
              " "
            );
        zh < Hh.length;
        zh++
      ) {
        Rh = Hh[zh];
        Ih.set(Rh, !1);
      }
      var Vh = /^[a-z]+$/i;
      function qh(e) {
        return new Promise(function (t) {
          return setTimeout(t, e);
        });
      }
      var jh = (function () {
        function e() {
          this.promise = Promise.resolve();
        }
        return (
          (e.prototype.queue = function (e) {
            var t = this.promise.then(e, e);
            return (this.promise = t), t;
          }),
          e
        );
      })();
      function Uh() {
        var e = { promise: null, resolve: null, reject: null };
        return (
          (e.promise = new Promise(function (t, n) {
            (e.resolve = t), (e.reject = n);
          })),
          e
        );
      }
      function Wh(e, t, n) {
        var i = this;
        void 0 === n && (n = t);
        var r = null,
          o = 0,
          s = null;
        return function () {
          return A(i, void 0, Promise, function () {
            var i = this;
            return D(this, function (a) {
              return s
                ? [2, s]
                : r && o > Date.now()
                ? [2, r]
                : [
                    2,
                    (s = A(i, void 0, void 0, function () {
                      return D(this, function (i) {
                        switch (i.label) {
                          case 0:
                            return (o = Date.now() + n), [4, e()];
                          case 1:
                            return (
                              (r = i.sent()),
                              (o = Date.now() + t),
                              (s = null),
                              setTimeout(function () {
                                o > Date.now() && (r = null);
                              }, t),
                              [2, r]
                            );
                        }
                      });
                    })),
                  ];
            });
          });
        };
      }
      var _h = (function () {
          function e(e) {
            (this.running = !1), (this.cancelled = !1);
            var t = e || {},
              n = t.onStart,
              i = t.onStop,
              r = t.onCancel;
            (this.onStart = n || null),
              (this.onStop = i || null),
              (this.onCancel = r || null);
          }
          return (
            (e.prototype.start = function () {
              this.running ||
                ((this.running = !0), this.onStart && this.onStart());
            }),
            (e.prototype.stop = function () {
              this.running &&
                ((this.running = !1), this.onStop && this.onStop());
            }),
            (e.prototype.cancel = function () {
              this.stop(),
                this.cancelled ||
                  ((this.cancelled = !0), this.onCancel && this.onCancel());
            }),
            (e.prototype.isRunning = function () {
              return this.running;
            }),
            (e.prototype.isCancelled = function () {
              return this.cancelled;
            }),
            e
          );
        })(),
        Gh = (function () {
          function e(e) {
            (this.items = []),
              (this.promise = null),
              (this.debug = !1),
              (this.runnable = new _h(e));
          }
          return (
            (e.prototype.addList = function (e) {
              (this.items = this.items.concat(e)),
                this.notify(),
                this.debug && console.log("addlist");
            }),
            (e.prototype.add = function (e) {
              this.items.push(e),
                this.notify(),
                this.debug && console.log("add");
            }),
            (e.prototype.remove = function (e) {
              this.items.remove(e);
            }),
            (e.prototype.notify = function () {
              var e = this.promise;
              e &&
                ((this.promise = null),
                setTimeout(function () {
                  e && e.resolve();
                }, 0));
            }),
            (e.prototype.cancel = function () {
              this.runnable.cancel();
            }),
            (e.prototype.generator = function () {
              return F(this, arguments, function () {
                var e, t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      (e = this.runnable), (n.label = 1);
                    case 1:
                      return e.isCancelled() ? [4, O(void 0)] : [3, 3];
                    case 2:
                      return [2, n.sent()];
                    case 3:
                      return 0 !== (t = this.items).length
                        ? [3, 5]
                        : (e.stop(), [4, O((this.promise = Uh()).promise)]);
                    case 4:
                      return n.sent(), [3, 8];
                    case 5:
                      return e.start(), [4, O(t.shift())];
                    case 6:
                      return [4, n.sent()];
                    case 7:
                      n.sent(), (n.label = 8);
                    case 8:
                      return [3, 1];
                    case 9:
                      return [2];
                  }
                });
              });
            }),
            e
          );
        })();
      function Kh(e) {
        return F(this, arguments, function () {
          var t, n;
          return D(this, function (i) {
            switch (i.label) {
              case 0:
                (t = 0), (n = e), (i.label = 1);
              case 1:
                return t < n.length ? [4, O(n[t])] : [3, 5];
              case 2:
                return [4, i.sent()];
              case 3:
                i.sent(), (i.label = 4);
              case 4:
                return t++, [3, 1];
              case 5:
                return [2];
            }
          });
        });
      }
      function $h(e, t) {
        return F(this, arguments, function () {
          var n, i, r, o, s, a, l, c, u, h, p, d, f, g, m, v;
          return D(this, function (y) {
            switch (y.label) {
              case 0:
                (i = (n = t || {}).batchSize),
                  (r = void 0 === i ? 10 : i),
                  (o = n.duration),
                  (s = void 0 === o ? 5 : o),
                  (a = n.maxDelay),
                  (l = void 0 === a ? 100 : a),
                  (c = n.beforePause),
                  (u = 0),
                  (h = performance.now()),
                  (y.label = 1);
              case 1:
                y.trys.push([1, 9, 10, 15]), (p = I(e)), (y.label = 2);
              case 2:
                return [4, O(p.next())];
              case 3:
                return (d = y.sent()).done ? [3, 8] : [4, O(d.value)];
              case 4:
                return [4, y.sent()];
              case 5:
                return (
                  y.sent(),
                  ++u % r != 0
                    ? [3, 7]
                    : (f = performance.now()) - h > s
                    ? (c && c(f),
                      [
                        4,
                        O(
                          new Promise(function (e) {
                            return Bt(e, l);
                          })
                        ),
                      ])
                    : [3, 7]
                );
              case 6:
                y.sent(), (h = performance.now()), (y.label = 7);
              case 7:
                return [3, 2];
              case 8:
                return [3, 15];
              case 9:
                return (g = y.sent()), (m = { error: g }), [3, 15];
              case 10:
                return (
                  y.trys.push([10, , 13, 14]),
                  d && !d.done && (v = p.return) ? [4, O(v.call(p))] : [3, 12]
                );
              case 11:
                y.sent(), (y.label = 12);
              case 12:
                return [3, 14];
              case 13:
                if (m) throw m.error;
                return [7];
              case 14:
                return [7];
              case 15:
                return [2];
            }
          });
        });
      }
      var Yh = (function () {
          function e() {
            this.promises = [];
          }
          return (
            (e.prototype.add = function (e) {
              this.promises.push(e());
            }),
            (e.prototype.addPromise = function (e) {
              this.promises.push(e);
            }),
            (e.prototype.isEmpty = function () {
              return 0 === this.promises.length;
            }),
            (e.prototype.promise = function () {
              return Promise.all(this.promises);
            }),
            e
          );
        })(),
        Jh = Lh("/lib/pdf.min.js", {
          after: function () {
            window.pdfjsLib.GlobalWorkerOptions.workerSrc =
              "/lib/pdf.worker.min.js";
          },
        });
      function Qh() {
        return A(this, void 0, Promise, function () {
          return D(this, function (e) {
            switch (e.label) {
              case 0:
                return [4, Jh.promise];
              case 1:
                return e.sent(), [2, window.pdfjsLib];
            }
          });
        });
      }
      var Xh = Lh("/lib/codemirror/modes.min.js"),
        Zh = Lh("/lib/mermaid.min.js", {
          after: function () {
            mermaid.initialize({
              startOnLoad: !1,
              theme: "base",
              themeCSS:
                "foreignObject{overflow: visible}#arrowhead,#sequencenumber,.cluster text,.label text,text,text.actor{fill:var(--text-normal)}line{stroke:var(--text-normal)}g>g>circle,g>g>path{stroke:var(--background-accent);color:var(--text-normal)}.label rect{display:none}.cluster rect{stroke-width:1px}.node circle,.node ellipse,.node path,.node polygon,.node rect{fill:var(--background-secondary-alt);stroke:var(--background-modifier-border);stroke-width:1px}.node .label{text-align:center}.node.clickable{cursor:pointer}.arrowheadPath{fill:var(--text-muted)}.edgePath .path{stroke:var(--text-muted);stroke-width:1.5px}.edgeLabel{background-color:var(--background-primary);text-align:center}.cluster rect{fill:var(--background-primary-alt);stroke:var(--background-modifier-border)}div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-size:12px;background:var(--background-secondary);border:1px solid var(--interactive-accent);border-radius:2px;pointer-events:none;z-index:100}.actor{stroke:var(--background-modifier-border);fill:var(--background-secondary-alt);font-family:inherit!important}text.actor{stroke:none}.actor-line{stroke:var(--text-muted)}.messageLine0,.messageLine1{stroke-width:1.5;stroke-dasharray:'2 2';stroke:var(--text-normal)}.sequenceNumber{fill:#fff}#crosshead path{fill:var(--text-normal)!important;stroke:var(--text-normal)!important}.messageText{fill:var(--text-normal);stroke:none;font-family:inherit!important}.labelBox{stroke:var(--background-modifier-border);fill:var(--background-secondary-alt)}.labelText,.loopText{fill:var(--text-normal);stroke:none}.loopLine{stroke-width:2;stroke-dasharray:'2 2';stroke:var(--background-modifier-border)}.note{stroke:#645c10;fill:#f3edb3}.noteText{fill:#000;stroke:none;font-size:14px}.activation0,.activation1,.activation2{fill:var(--background-secondary) stroke: var(--text-muted)}.section{stroke:none;opacity:.2}.section0,.section2{fill:var(--text-accent)}.section1,.section3{fill:#fff;opacity:.2}.sectionTitle0,.sectionTitle1,.sectionTitle2,.sectionTitle3{fill:var(--text-normal)}.sectionTitle{text-anchor:start;font-size:11px;text-height:14px}.grid .tick{stroke:var(--background-primary-alt);opacity:.8;shape-rendering:crispEdges}.grid path{stroke-width:0}.today{fill:none;stroke:#d42;stroke-width:2px}.task{stroke-width:2}.taskText{text-anchor:middle}.taskText:not([font-size]){font-size:11px}.taskTextOutsideRight{fill:var(--text-normal);text-anchor:start;font-size:11px}.taskTextOutsideLeft{fill:var(--text-normal);text-anchor:end;font-size:11px}.task.clickable,g.clickable{cursor:pointer}.taskText.clickable,.taskTextOutsideLeft.clickable,.taskTextOutsideRight.clickable{cursor:pointer;fill:#003163!important;font-weight:700}.taskText0,.taskText1,.taskText2,.taskText3{fill:#fff}.task0,.task1,.task2,.task3{fill:var(--interactive-accent);stroke:var(--interactive-accent)}.taskTextOutside0,.taskTextOutside1,.taskTextOutside2,.taskTextOutside3{fill:var(--text-normal)}.active0,.active1,.active2,.active3,g.classGroup rect,g.stateGroup rect{fill:var(--background-primary-alt); stroke: var(--background-modifier-border)}g.classGroup rect,g.stateGroup rect{stroke:var(--background-modifier-border)}.activeText0,.activeText1,.activeText2,.activeText3{fill:var(--text-normal)!important}.done0,.done1,.done2,.done3{stroke:var(--text-muted);fill:#bbb;stroke-width:2}.doneText0,.doneText1,.doneText2,.doneText3{fill:var(--text-normal)!important}.crit0,.crit1,.crit2,.crit3{stroke:#b1361b;fill:#d42;stroke-width:2}.activeCrit0,.activeCrit1,.activeCrit2,.activeCrit3,.classLabel .box{stroke:#b1361b;fill:var(--background-secondary-alt);stroke-width:2}.classLabel .box{stroke:none;stroke-width:0;opacity:.5}.doneCrit0,.doneCrit1,.doneCrit2,.doneCrit3{stroke:#b1361b;fill:#bbb;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}.milestone{transform:rotate(45deg) scale(.8,.8)}.milestoneText{font-style:italic}.activeCritText0,.activeCritText1,.activeCritText2,.activeCritText3,.doneCritText0,.doneCritText1,.doneCritText2,.doneCritText3{fill:var(--text-normal)!important}.titleText{text-anchor:middle;font-size:18px;fill:var(--text-normal)}g.classGroup text{fill:var(--text-normal);stroke:none;font-size:11px}g.classGroup text .title{font-weight:bolder}#aggregationEnd,#aggregationStart,#compositionEnd,#compositionStart,.relation,g.classGroup line,g.stateGroup line{stroke:var(--background-modifier-border);stroke-width:1}.classLabel .label{font-size:11px}.relation{fill:none}.dashed-line{stroke-dasharray:3}#compositionEnd,#compositionStart{fill:var(--background-modifier-border)}#aggregationEnd,#aggregationStart{fill:var(--background-secondary-alt)}#dependencyEnd,#dependencyStart,#extensionEnd,#extensionStart{fill:var(--background-modifier-border);stroke:var(--background-modifier-border);stroke-width:1}.branch-label,.commit-id,.commit-msg{fill:#d3d3d3;color:#d3d3d3}.pieTitleText{text-anchor:middle;font-size:25px;fill:var(--text-normal)}.state-note text,g.stateGroup text{stroke:none;font-size:10px}g.stateGroup .state-title{font-weight:bolder;fill:var(--text-normal)}.transition{stroke:var(--background-modifier-border);stroke-width:1;fill:none}.stateGroup .composit{fill:#fff;border-bottom:1px}.stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px}.state-note{stroke:#645c10;fill:#f3edb3}.state-note text{fill:#000}.stateLabel .box{stroke:none;stroke-width:0;fill:var(--background-secondary-alt);opacity:.5}.stateLabel text{fill:var(--text-normal);font-size:10px;font-weight:700}.node circle.state-start{fill:var(--text-normal);stroke:var(--text-normal)}.node circle.state-end{stroke:var(--background-primary);stroke-width:2}#statediagram-barbEnd,g.stateGroup text{fill:var(--background-modifier-border)}.statediagram-cluster rect{stroke-width:1px}.statediagram-cluster rect,.statediagram-state .divider{stroke:var(--background-modifier-border)}.statediagram-cluster rect,.statediagram-cluster.statediagram-cluster .inner{fill:var(--background-secondary-alt)}.statediagram-cluster.statediagram-cluster-alt .inner{fill:var(--background-secondary)}.cluster-label text,.node circle.state-end{fill:var(--text-normal)}.statediagram-state rect.divider{stroke-dasharray:10,10;fill:var(--background-secondary)}.note-edge{stroke-dasharray:5}.statediagram-note rect{fill:#f3edb3;stroke:#645c10;stroke-width:1px}.error-icon{fill:var(--background-modifier-error)}.error-text{fill:var(--text-error);stroke:var(--text-error)}",
              themeVariables: {
                primaryColor: "var(--background-primary-alt)",
                fontFamily: "var(--mermaid-font)",
                secondaryColor: "var(--background-secondary)",
                tertiaryColor: "var(--background-secondary-alt)",
                primaryBorderColor: "var(--background-modifier-border)",
                primaryTextColor: "var(--text-normal)",
                secondaryBorderColor: "var(--background-modifier-border)",
                secondaryTextColor: "var(--text-normal)",
                tertiaryBorderColor: "var(--background-modifier-border)",
                tertiaryTextColor: "var(--text-normal)",
                noteBkgColor: "var(--background-primary-alt)",
                noteTextColor: "var(--text-normal)",
                noteBorderColor: "var(--background-modifier-border)",
                lineColor: "var(--text-normal)",
                textColor: "var(--text-normal)",
                mainBkg: "var(--background-primary)",
                errorBkgColor: "var(--background-primary)",
                errorTextColor: "var(--text-error)",
                taskTextDarkColor: "var(--text)",
                nodeBorder: "var(--text-muted)",
                edgeLabelBackground: "var(--background-secondary)",
                activationBorderColor: "var(--background-modifier-border)",
                sequenceNumberColor: "var(--text-muted)",
                activeTaskBkgColor: "var(--background-primary-alt)",
                fillType2: "var(--background-primary-alt)",
                fillType3: "var(--background-primary-alt)",
                fillType4: "var(--background-primary-alt)",
                fillType5: "var(--background-primary-alt)",
                fillType6: "var(--background-primary-alt)",
                fillType7: "var(--background-primary-alt)",
                pie1: "#8dd3c7",
                pie2: "#ffffb3",
                pie3: "#bebada",
                pie4: "#fb8072",
                pie5: "#80b1d3",
                pie6: "#fdb462",
                pie7: "#b3de69",
                pie8: "#fccde5",
                pie9: "#d9d9d9",
                pie10: "#bc80bd",
                pie11: "#ccebc5",
                pie12: "#ffed6f",
              },
              flowchart: { useMaxWidth: !1 },
              sequence: { useMaxWidth: !1 },
              gantt: {
                useMaxWidth: !1,
                axisFormatter: [
                  [
                    "%Y-%m-%d",
                    function (e) {
                      return 1 === e.getDay();
                    },
                  ],
                ],
              },
              journey: { useMaxWidth: !1 },
              class: { useMaxWidth: !1 },
              git: { useMaxWidth: !1 },
              state: { useMaxWidth: !1 },
              er: { useMaxWidth: !1 },
              pie: { useMaxWidth: !1 },
            });
          },
        });
      function ep() {
        return A(this, void 0, Promise, function () {
          return D(this, function (e) {
            switch (e.label) {
              case 0:
                return [4, Zh.promise];
              case 1:
                return e.sent(), [2, mermaid];
            }
          });
        });
      }
      var tp = Lh("/lib/prism.min.js");
      function np() {
        return A(this, void 0, Promise, function () {
          return D(this, function (e) {
            switch (e.label) {
              case 0:
                return [4, tp.promise];
              case 1:
                return e.sent(), [2, Prism];
            }
          });
        });
      }
      var ip = Lh("/lib/mathjax/tex-chtml-full.js", {
        before: function () {
          (window.MathJax = {
            tex: {
              inlineMath: [],
              displayMath: [],
              processEscapes: !1,
              processEnvironments: !1,
              processRefs: !1,
            },
            startup: { typeset: !1 },
            options: {
              renderActions: { addMenu: [0, "", ""] },
              menuOptions: { settings: { renderer: "CHTML" } },
            },
          }),
            localStorage.removeItem("MathJax-Menu-Settings");
        },
      });
      function rp() {
        return A(this, void 0, Promise, function () {
          return D(this, function (e) {
            switch (e.label) {
              case 0:
                return [4, ip.promise];
              case 1:
                return e.sent(), [2];
            }
          });
        });
      }
      function op(e, t) {
        return MathJax.tex2chtml(e, { display: t });
      }
      var sp = null,
        ap = 0,
        lp = null,
        cp = function () {
          var e = MathJax.chtmlStylesheet();
          (lp && e.textContent === lp.textContent) ||
            (lp && lp.detach(), (lp = e), document.head.appendChild(e)),
            sp.resolve(),
            (sp = null);
        };
      function up() {
        return (
          sp || (sp = Uh()),
          clearTimeout(ap),
          (ap = window.setTimeout(cp, 100)),
          sp.promise
        );
      }
      var hp = n(773),
        pp = n.n(hp),
        dp = n(6630),
        fp = n.n(dp),
        gp = n(939),
        mp = n.n(gp);
      const vp = Symbol.for("yaml.alias"),
        yp = Symbol.for("yaml.document"),
        bp = Symbol.for("yaml.map"),
        wp = Symbol.for("yaml.pair"),
        kp = Symbol.for("yaml.scalar"),
        Cp = Symbol.for("yaml.seq"),
        xp = Symbol.for("yaml.node.type"),
        Sp = (e) => !!e && "object" == typeof e && e[xp] === vp,
        Ep = (e) => !!e && "object" == typeof e && e[xp] === yp,
        Mp = (e) => !!e && "object" == typeof e && e[xp] === bp,
        Lp = (e) => !!e && "object" == typeof e && e[xp] === wp,
        Ap = (e) => !!e && "object" == typeof e && e[xp] === kp,
        Dp = (e) => !!e && "object" == typeof e && e[xp] === Cp;
      function Tp(e) {
        if (e && "object" == typeof e)
          switch (e[xp]) {
            case bp:
            case Cp:
              return !0;
          }
        return !1;
      }
      function Pp(e) {
        if (e && "object" == typeof e)
          switch (e[xp]) {
            case vp:
            case bp:
            case kp:
            case Cp:
              return !0;
          }
        return !1;
      }
      class Op {
        constructor(e) {
          Object.defineProperty(this, xp, { value: e });
        }
      }
      const Fp = Symbol("break visit"),
        Ip = Symbol("skip children"),
        Np = Symbol("remove node");
      function Bp(e, t) {
        if (Ep(e)) {
          Rp(null, e.contents, t, Object.freeze([e])) === Np &&
            (e.contents = null);
        } else Rp(null, e, t, Object.freeze([]));
      }
      function Rp(e, t, n, i) {
        let r;
        if (
          ("function" == typeof n
            ? (r = n(e, t, i))
            : Mp(t)
            ? n.Map && (r = n.Map(e, t, i))
            : Dp(t)
            ? n.Seq && (r = n.Seq(e, t, i))
            : Lp(t)
            ? n.Pair && (r = n.Pair(e, t, i))
            : Ap(t)
            ? n.Scalar && (r = n.Scalar(e, t, i))
            : Sp(t) && n.Alias && (r = n.Alias(e, t, i)),
          Pp(r) || Lp(r))
        ) {
          const t = i[i.length - 1];
          if (Tp(t)) t.items[e] = r;
          else if (Lp(t)) "key" === e ? (t.key = r) : (t.value = r);
          else {
            if (!Ep(t)) {
              const e = Sp(t) ? "alias" : "scalar";
              throw new Error(`Cannot replace node with ${e} parent`);
            }
            t.contents = r;
          }
          return Rp(e, r, n, i);
        }
        if ("symbol" != typeof r)
          if (Tp(t)) {
            i = Object.freeze(i.concat(t));
            for (let e = 0; e < t.items.length; ++e) {
              const r = Rp(e, t.items[e], n, i);
              if ("number" == typeof r) e = r - 1;
              else {
                if (r === Fp) return Fp;
                r === Np && (t.items.splice(e, 1), (e -= 1));
              }
            }
          } else if (Lp(t)) {
            i = Object.freeze(i.concat(t));
            const e = Rp("key", t.key, n, i);
            if (e === Fp) return Fp;
            e === Np && (t.key = null);
            const r = Rp("value", t.value, n, i);
            if (r === Fp) return Fp;
            r === Np && (t.value = null);
          }
        return r;
      }
      (Bp.BREAK = Fp), (Bp.SKIP = Ip), (Bp.REMOVE = Np);
      const zp = {
        "!": "%21",
        ",": "%2C",
        "[": "%5B",
        "]": "%5D",
        "{": "%7B",
        "}": "%7D",
      };
      class Hp {
        constructor(e, t) {
          (this.marker = null),
            (this.yaml = Object.assign({}, Hp.defaultYaml, e)),
            (this.tags = Object.assign({}, Hp.defaultTags, t));
        }
        atDocument() {
          const e = new Hp(this.yaml, this.tags);
          switch (this.yaml.version) {
            case "1.1":
              this.atNextDocument = !0;
              break;
            case "1.2":
              (this.atNextDocument = !1),
                (this.yaml = {
                  explicit: Hp.defaultYaml.explicit,
                  version: "1.2",
                }),
                (this.tags = Object.assign({}, Hp.defaultTags));
          }
          return e;
        }
        add(e, t) {
          this.atNextDocument &&
            ((this.yaml = {
              explicit: Hp.defaultYaml.explicit,
              version: "1.1",
            }),
            (this.tags = Object.assign({}, Hp.defaultTags)),
            (this.atNextDocument = !1));
          const n = e.trim().split(/[ \t]+/),
            i = n.shift();
          switch (i) {
            case "%TAG": {
              if (
                2 !== n.length &&
                (t(0, "%TAG directive should contain exactly two parts"),
                n.length < 2)
              )
                return !1;
              const [e, i] = n;
              return (this.tags[e] = i), !0;
            }
            case "%YAML": {
              if (((this.yaml.explicit = !0), n.length < 1))
                return (
                  t(0, "%YAML directive should contain exactly one part"), !1
                );
              const [e] = n;
              return "1.1" === e || "1.2" === e
                ? ((this.yaml.version = e), !0)
                : (t(6, `Unsupported YAML version ${e}`, !0), !1);
            }
            default:
              return t(0, `Unknown directive ${i}`, !0), !1;
          }
        }
        tagName(e, t) {
          if ("!" === e) return "!";
          if ("!" !== e[0]) return t(`Not a valid tag: ${e}`), null;
          if ("<" === e[1]) {
            const n = e.slice(2, -1);
            return "!" === n || "!!" === n
              ? (t(`Verbatim tags aren't resolved, so ${e} is invalid.`), null)
              : (">" !== e[e.length - 1] &&
                  t("Verbatim tags must end with a >"),
                n);
          }
          const [, n, i] = e.match(/^(.*!)([^!]*)$/);
          i || t(`The ${e} tag has no suffix`);
          const r = this.tags[n];
          return r
            ? r + decodeURIComponent(i)
            : "!" === n
            ? e
            : (t(`Could not resolve tag: ${e}`), null);
        }
        tagString(e) {
          for (const [t, n] of Object.entries(this.tags))
            if (e.startsWith(n))
              return (
                t + e.substring(n.length).replace(/[!,[\]{}]/g, (e) => zp[e])
              );
          return "!" === e[0] ? e : `!<${e}>`;
        }
        toString(e) {
          const t = this.yaml.explicit
              ? [`%YAML ${this.yaml.version || "1.2"}`]
              : [],
            n = Object.entries(this.tags);
          let i;
          if (e && n.length > 0 && Pp(e.contents)) {
            const t = {};
            Bp(e.contents, (e, n) => {
              Pp(n) && n.tag && (t[n.tag] = !0);
            }),
              (i = Object.keys(t));
          } else i = [];
          for (const [r, o] of n)
            ("!!" === r && "tag:yaml.org,2002:" === o) ||
              (e && !i.some((e) => e.startsWith(o))) ||
              t.push(`%TAG ${r} ${o}`);
          return t.join("\n");
        }
      }
      function Vp(e, t, n) {
        if (Array.isArray(e)) return e.map((e, t) => Vp(e, String(t), n));
        if (e && "function" == typeof e.toJSON) {
          if (!n) return e.toJSON(t);
          const i = n.anchors && n.anchors.get(e);
          i &&
            (n.onCreate = (e) => {
              (i.res = e), delete n.onCreate;
            });
          const r = e.toJSON(t, n);
          return i && n.onCreate && n.onCreate(r), r;
        }
        return (n && n.keep) || "bigint" != typeof e ? e : Number(e);
      }
      (Hp.defaultYaml = { explicit: !1, version: "1.2" }),
        (Hp.defaultTags = { "!!": "tag:yaml.org,2002:" });
      class qp extends Op {
        constructor(e) {
          super(vp),
            (this.source = e),
            Object.defineProperty(this, "tag", {
              set() {
                throw new Error("Alias nodes cannot have tags");
              },
            });
        }
        toJSON(e, t) {
          if (!t) return Vp(this.source, "string" == typeof e ? e : null, t);
          const { anchors: n, maxAliasCount: i } = t,
            r = n && n.get(this.source);
          if (!r || void 0 === r.res) {
            throw new ReferenceError(
              "This should not happen: Alias anchor was not resolved?"
            );
          }
          if (
            i >= 0 &&
            ((r.count += 1),
            0 === r.aliasCount && (r.aliasCount = jp(this.source, n)),
            r.count * r.aliasCount > i)
          ) {
            throw new ReferenceError(
              "Excessive alias count indicates a resource exhaustion attack"
            );
          }
          return r.res;
        }
        toString(
          { anchors: e, doc: t, implicitKey: n, inStringifyKey: i },
          r,
          o
        ) {
          let s = Object.keys(e).find((t) => e[t] === this.source);
          if (
            (!s &&
              i &&
              (s = t.anchors.getName(this.source) || t.anchors.newName()),
            s)
          )
            return `*${s}${n ? " " : ""}`;
          const a = t.anchors.getName(this.source)
            ? "Alias node must be after source node"
            : "Source node not found for alias node";
          throw new Error(`${a} [${this.range}]`);
        }
      }
      function jp(e, t) {
        if (Sp(e)) {
          const n = t && t.get(e.source);
          return n ? n.count * n.aliasCount : 0;
        }
        if (Tp(e)) {
          let n = 0;
          for (const i of e.items) {
            const e = jp(i, t);
            e > n && (n = e);
          }
          return n;
        }
        if (Lp(e)) {
          const n = jp(e.key, t),
            i = jp(e.value, t);
          return Math.max(n, i);
        }
        return 1;
      }
      const Up = (e) => !e || ("function" != typeof e && "object" != typeof e);
      class Wp extends Op {
        constructor(e) {
          super(kp), (this.value = e);
        }
        toJSON(e, t) {
          return t && t.keep ? this.value : Vp(this.value, e, t);
        }
        toString() {
          return String(this.value);
        }
      }
      (Wp.BLOCK_FOLDED = "BLOCK_FOLDED"),
        (Wp.BLOCK_LITERAL = "BLOCK_LITERAL"),
        (Wp.PLAIN = "PLAIN"),
        (Wp.QUOTE_DOUBLE = "QUOTE_DOUBLE"),
        (Wp.QUOTE_SINGLE = "QUOTE_SINGLE");
      function _p(e, t, n) {
        var i, r;
        if (Pp(e)) return e;
        if (Lp(e)) {
          const t =
            null === (r = (i = n.schema.map).createNode) || void 0 === r
              ? void 0
              : r.call(i, n.schema, null, n);
          return t.items.push(e), t;
        }
        (e instanceof String ||
          e instanceof Number ||
          e instanceof Boolean ||
          ("function" == typeof BigInt && e instanceof BigInt)) &&
          (e = e.valueOf());
        const { onAlias: o, onTagObj: s, prevObjects: a } = n,
          { map: l, seq: c, tags: u } = n.schema;
        t && t.startsWith("!!") && (t = "tag:yaml.org,2002:" + t.slice(2));
        let h = (function (e, t, n) {
          if (t) {
            const e = n.filter((e) => e.tag === t),
              i = e.find((e) => !e.format) || e[0];
            if (!i) throw new Error(`Tag ${t} not found`);
            return i;
          }
          return n.find((t) => t.identify && t.identify(e) && !t.format);
        })(e, t, u);
        if (!h) {
          if (
            (e && "function" == typeof e.toJSON && (e = e.toJSON()),
            !e || "object" != typeof e)
          )
            return new Wp(e);
          h = e instanceof Map ? l : Symbol.iterator in Object(e) ? c : l;
        }
        s && (s(h), delete n.onTagObj);
        const p = { value: void 0, node: void 0 };
        if (e && "object" == typeof e) {
          const t = a.get(e);
          if (t) return o(t);
          (p.value = e), a.set(e, p);
        }
        const d = (null == h ? void 0 : h.createNode)
          ? h.createNode(n.schema, e, n)
          : new Wp(e);
        return t && (d.tag = t), (p.node = d), d;
      }
      function Gp(e, t, n) {
        return n
          ? n.includes("\n")
            ? `${e}\n` + n.replace(/^/gm, `${t || ""}#`)
            : e.endsWith(" ")
            ? `${e}#${n}`
            : `${e} #${n}`
          : e;
      }
      const Kp = "flow",
        $p = "block",
        Yp = "quoted";
      function Jp(
        e,
        t,
        n = "flow",
        {
          indentAtStart: i,
          lineWidth: r = 80,
          minContentWidth: o = 20,
          onFold: s,
          onOverflow: a,
        } = {}
      ) {
        if (!r || r < 0) return e;
        const l = Math.max(1 + o, 1 + r - t.length);
        if (e.length <= l) return e;
        const c = [],
          u = {};
        let h,
          p,
          d = r - t.length;
        "number" == typeof i &&
          (i > r - Math.max(2, o) ? c.push(0) : (d = r - i));
        let f,
          g = !1,
          m = -1,
          v = -1,
          y = -1;
        for (
          n === $p && ((m = Qp(e, m)), -1 !== m && (d = m + l));
          (f = e[(m += 1)]);

        ) {
          if (n === Yp && "\\" === f) {
            switch (((v = m), e[m + 1])) {
              case "x":
                m += 3;
                break;
              case "u":
                m += 5;
                break;
              case "U":
                m += 9;
                break;
              default:
                m += 1;
            }
            y = m;
          }
          if ("\n" === f) n === $p && (m = Qp(e, m)), (d = m + l), (h = void 0);
          else {
            if (" " === f && p && " " !== p && "\n" !== p && "\t" !== p) {
              const t = e[m + 1];
              t && " " !== t && "\n" !== t && "\t" !== t && (h = m);
            }
            if (m >= d)
              if (h) c.push(h), (d = h + l), (h = void 0);
              else if (n === Yp) {
                for (; " " === p || "\t" === p; )
                  (p = f), (f = e[(m += 1)]), (g = !0);
                const t = m > y + 1 ? m - 2 : v - 1;
                if (u[t]) return e;
                c.push(t), (u[t] = !0), (d = t + l), (h = void 0);
              } else g = !0;
          }
          p = f;
        }
        if ((g && a && a(), 0 === c.length)) return e;
        s && s();
        let b = e.slice(0, c[0]);
        for (let i = 0; i < c.length; ++i) {
          const r = c[i],
            o = c[i + 1] || e.length;
          0 === r
            ? (b = `\n${t}${e.slice(0, o)}`)
            : (n === Yp && u[r] && (b += `${e[r]}\\`),
              (b += `\n${t}${e.slice(r + 1, o)}`));
        }
        return b;
      }
      function Qp(e, t) {
        let n = e[t + 1];
        for (; " " === n || "\t" === n; ) {
          do {
            n = e[(t += 1)];
          } while (n && "\n" !== n);
          n = e[t + 1];
        }
        return t;
      }
      const Xp = (e) => ({
          indentAtStart: e.indentAtStart,
          lineWidth: e.options.lineWidth,
          minContentWidth: e.options.minContentWidth,
        }),
        Zp = (e) => /^(%|---|\.\.\.)/m.test(e);
      function ed(e, t) {
        const n = JSON.stringify(e);
        if (t.options.doubleQuotedAsJSON) return n;
        const { implicitKey: i } = t,
          r = t.options.doubleQuotedMinMultiLineLength,
          o = t.indent || (Zp(e) ? "  " : "");
        let s = "",
          a = 0;
        for (let e = 0, t = n[e]; t; t = n[++e])
          if (
            (" " === t &&
              "\\" === n[e + 1] &&
              "n" === n[e + 2] &&
              ((s += n.slice(a, e) + "\\ "), (e += 1), (a = e), (t = "\\")),
            "\\" === t)
          )
            switch (n[e + 1]) {
              case "u":
                {
                  s += n.slice(a, e);
                  const t = n.substr(e + 2, 4);
                  switch (t) {
                    case "0000":
                      s += "\\0";
                      break;
                    case "0007":
                      s += "\\a";
                      break;
                    case "000b":
                      s += "\\v";
                      break;
                    case "001b":
                      s += "\\e";
                      break;
                    case "0085":
                      s += "\\N";
                      break;
                    case "00a0":
                      s += "\\_";
                      break;
                    case "2028":
                      s += "\\L";
                      break;
                    case "2029":
                      s += "\\P";
                      break;
                    default:
                      "00" === t.substr(0, 2)
                        ? (s += "\\x" + t.substr(2))
                        : (s += n.substr(e, 6));
                  }
                  (e += 5), (a = e + 1);
                }
                break;
              case "n":
                if (i || '"' === n[e + 2] || n.length < r) e += 1;
                else {
                  for (
                    s += n.slice(a, e) + "\n\n";
                    "\\" === n[e + 2] && "n" === n[e + 3] && '"' !== n[e + 4];

                  )
                    (s += "\n"), (e += 2);
                  (s += o),
                    " " === n[e + 2] && (s += "\\"),
                    (e += 1),
                    (a = e + 1);
                }
                break;
              default:
                e += 1;
            }
        return (s = a ? s + n.slice(a) : n), i ? s : Jp(s, o, Yp, Xp(t));
      }
      function td(e, t) {
        if (t.implicitKey) {
          if (/\n/.test(e)) return ed(e, t);
        } else if (/[ \t]\n|\n[ \t]/.test(e)) return ed(e, t);
        const n = t.indent || (Zp(e) ? "  " : ""),
          i = "'" + e.replace(/'/g, "''").replace(/\n+/g, `$&\n${n}`) + "'";
        return t.implicitKey ? i : Jp(i, n, Kp, Xp(t));
      }
      function nd({ comment: e, type: t, value: n }, i, r, o) {
        if (/\n[\t ]+$/.test(n) || /^\s*$/.test(n)) return ed(n, i);
        const s = i.indent || (i.forceBlockIndent || Zp(n) ? "  " : ""),
          a = s ? "2" : "1",
          l =
            t !== Wp.BLOCK_FOLDED &&
            (t === Wp.BLOCK_LITERAL ||
              !(function (e, t, n) {
                if (!t || t < 0) return !1;
                const i = t - n,
                  r = e.length;
                if (r <= i) return !1;
                for (let t = 0, n = 0; t < r; ++t)
                  if ("\n" === e[t]) {
                    if (t - n > i) return !0;
                    if (((n = t + 1), r - n <= i)) return !1;
                  }
                return !0;
              })(n, i.options.lineWidth, s.length));
        let c = l ? "|" : ">";
        if (!n) return c + "\n";
        let u = "",
          h = "";
        if (
          ((n = n
            .replace(/[\n\t ]*$/, (e) => {
              const t = e.indexOf("\n");
              return (
                -1 === t
                  ? (c += "-")
                  : (n !== e && t === e.length - 1) || ((c += "+"), o && o()),
                (h = e.replace(/\n$/, "")),
                ""
              );
            })
            .replace(/^[\n ]*/, (e) => {
              -1 !== e.indexOf(" ") && (c += a);
              const t = e.match(/ +$/);
              return t ? ((u = e.slice(0, -t[0].length)), t[0]) : ((u = e), "");
            })),
          h && (h = h.replace(/\n+(?!\n|$)/g, `$&${s}`)),
          u && (u = u.replace(/\n+/g, `$&${s}`)),
          e && ((c += " #" + e.replace(/ ?[\r\n]+/g, " ")), r && r()),
          !n)
        )
          return `${c}${a}\n${s}${h}`;
        if (l)
          return (n = n.replace(/\n+/g, `$&${s}`)), `${c}\n${s}${u}${n}${h}`;
        n = n
          .replace(/\n+/g, "\n$&")
          .replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g, "$1$2")
          .replace(/\n+/g, `$&${s}`);
        const p = Jp(`${u}${n}${h}`, s, $p, Xp(i));
        return `${c}\n${s}${p}`;
      }
      function id(e, t, n, i) {
        const { implicitKey: r, inFlow: o } = t,
          s =
            "string" == typeof e.value
              ? e
              : Object.assign({}, e, { value: String(e.value) });
        let { type: a } = e;
        a !== Wp.QUOTE_DOUBLE &&
          /[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value) &&
          (a = Wp.QUOTE_DOUBLE);
        const l = (e) => {
          switch (e) {
            case Wp.BLOCK_FOLDED:
            case Wp.BLOCK_LITERAL:
              return r || o ? ed(s.value, t) : nd(s, t, n, i);
            case Wp.QUOTE_DOUBLE:
              return ed(s.value, t);
            case Wp.QUOTE_SINGLE:
              return td(s.value, t);
            case Wp.PLAIN:
              return (function (e, t, n, i) {
                var r;
                const { comment: o, type: s, value: a } = e,
                  { actualString: l, implicitKey: c, indent: u, inFlow: h } = t;
                if ((c && /[\n[\]{},]/.test(a)) || (h && /[[\]{},]/.test(a)))
                  return ed(a, t);
                if (
                  !a ||
                  /^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(
                    a
                  )
                ) {
                  const r = -1 !== a.indexOf('"'),
                    o = -1 !== a.indexOf("'");
                  let s;
                  return (
                    (s =
                      r && !o
                        ? td
                        : o && !r
                        ? ed
                        : t.options.singleQuote
                        ? td
                        : ed),
                    c || h || -1 === a.indexOf("\n") ? s(a, t) : nd(e, t, n, i)
                  );
                }
                if (!c && !h && s !== Wp.PLAIN && -1 !== a.indexOf("\n"))
                  return nd(e, t, n, i);
                if ("" === u && Zp(a))
                  return (t.forceBlockIndent = !0), nd(e, t, n, i);
                const p = a.replace(/\n+/g, `$&\n${u}`);
                if (l)
                  for (const e of t.doc.schema.tags)
                    if (
                      e.default &&
                      "tag:yaml.org,2002:str" !== e.tag &&
                      (null === (r = e.test) || void 0 === r
                        ? void 0
                        : r.test(p))
                    )
                      return ed(a, t);
                const d = c ? p : Jp(p, u, Kp, Xp(t));
                return !o ||
                  h ||
                  (-1 === d.indexOf("\n") && -1 === o.indexOf("\n"))
                  ? d
                  : (n && n(),
                    (function (e, t, n) {
                      return n
                        ? `#${n.replace(/[\s\S]^/gm, `$&${t}#`)}\n${t}${e}`
                        : e;
                    })(d, u, o));
              })(s, t, n, i);
            default:
              return null;
          }
        };
        let c = l(a);
        if (null === c) {
          const { defaultKeyType: e, defaultStringType: n } = t.options,
            i = (r && e) || n;
          if (((c = l(i)), null === c))
            throw new Error(`Unsupported default string type ${i}`);
        }
        return c;
      }
      const rd = (e, t) => ({
        anchors: Object.create(null),
        doc: e,
        indent: "",
        indentStep: "number" == typeof t.indent ? " ".repeat(t.indent) : "  ",
        options: Object.assign(
          {
            defaultKeyType: null,
            defaultStringType: "PLAIN",
            directives: null,
            doubleQuotedAsJSON: !1,
            doubleQuotedMinMultiLineLength: 40,
            falseStr: "false",
            indentSeq: !0,
            lineWidth: 80,
            minContentWidth: 20,
            nullStr: "null",
            simpleKeys: !1,
            singleQuote: !1,
            trueStr: "true",
          },
          t
        ),
      });
      function od(e, t, n, i) {
        if (Lp(e)) return e.toString(t, n, i);
        if (Sp(e)) return e.toString(t);
        let r;
        const o = Pp(e) ? e : t.doc.createNode(e, { onTagObj: (e) => (r = e) });
        r ||
          (r = (function (e, t) {
            if (t.tag) {
              const n = e.filter((e) => e.tag === t.tag);
              if (n.length > 0)
                return n.find((e) => e.format === t.format) || n[0];
            }
            let n, i;
            if (Ap(t)) {
              i = t.value;
              const r = e.filter((e) => e.identify && e.identify(i));
              n =
                r.find((e) => e.format === t.format) ||
                r.find((e) => !e.format);
            } else
              (i = t),
                (n = e.find((e) => e.nodeClass && i instanceof e.nodeClass));
            if (!n) {
              const e = i && i.constructor ? i.constructor.name : typeof i;
              throw new Error(`Tag not resolved for ${e} value`);
            }
            return n;
          })(t.doc.schema.tags, o));
        const s = (function (e, t, { anchors: n, doc: i }) {
          const r = [],
            o = i.anchors.getName(e);
          return (
            o && ((n[o] = e), r.push(`&${o}`)),
            e.tag
              ? r.push(i.directives.tagString(e.tag))
              : t.default || r.push(i.directives.tagString(t.tag)),
            r.join(" ")
          );
        })(o, r, t);
        s.length > 0 &&
          (t.indentAtStart = (t.indentAtStart || 0) + s.length + 1);
        const a =
          "function" == typeof r.stringify
            ? r.stringify(o, t, n, i)
            : Ap(o)
            ? id(o, t, n, i)
            : o.toString(t, n, i);
        return s
          ? Ap(o) || "{" === a[0] || "[" === a[0]
            ? `${s} ${a}`
            : `${s}\n${t.indent}${a}`
          : a;
      }
      function sd(e, t, n) {
        let i = n;
        for (let e = t.length - 1; e >= 0; --e) {
          const n = t[e];
          if ("number" == typeof n && Number.isInteger(n) && n >= 0) {
            const e = [];
            (e[n] = i), (i = e);
          } else {
            const e = {};
            Object.defineProperty(e, "symbol" == typeof n ? n : String(n), {
              value: i,
              writable: !0,
              enumerable: !0,
              configurable: !0,
            }),
              (i = e);
          }
        }
        return _p(i, void 0, {
          onAlias() {
            throw new Error("Repeated objects are not supported here");
          },
          prevObjects: new Map(),
          schema: e,
        });
      }
      const ad = (e) =>
        null == e ||
        ("object" == typeof e && !!e[Symbol.iterator]().next().done);
      class ld extends Op {
        constructor(e, t) {
          super(e),
            Object.defineProperty(this, "schema", {
              value: t,
              configurable: !0,
              enumerable: !1,
              writable: !0,
            });
        }
        addIn(e, t) {
          if (ad(e)) this.add(t);
          else {
            const [n, ...i] = e,
              r = this.get(n, !0);
            if (Tp(r)) r.addIn(i, t);
            else {
              if (void 0 !== r || !this.schema)
                throw new Error(
                  `Expected YAML collection at ${n}. Remaining path: ${i}`
                );
              this.set(n, sd(this.schema, i, t));
            }
          }
        }
        deleteIn([e, ...t]) {
          if (0 === t.length) return this.delete(e);
          const n = this.get(e, !0);
          if (Tp(n)) return n.deleteIn(t);
          throw new Error(
            `Expected YAML collection at ${e}. Remaining path: ${t}`
          );
        }
        getIn([e, ...t], n) {
          const i = this.get(e, !0);
          return 0 === t.length
            ? !n && Ap(i)
              ? i.value
              : i
            : Tp(i)
            ? i.getIn(t, n)
            : void 0;
        }
        hasAllNullValues(e) {
          return this.items.every((t) => {
            if (!t || Pp(t)) return !1;
            const n = t.value;
            return (
              null == n ||
              (e &&
                Ap(n) &&
                null == n.value &&
                !n.commentBefore &&
                !n.comment &&
                !n.tag)
            );
          });
        }
        hasIn([e, ...t]) {
          if (0 === t.length) return this.has(e);
          const n = this.get(e, !0);
          return !!Tp(n) && n.hasIn(t);
        }
        setIn([e, ...t], n) {
          if (0 === t.length) this.set(e, n);
          else {
            const i = this.get(e, !0);
            if (Tp(i)) i.setIn(t, n);
            else {
              if (void 0 !== i || !this.schema)
                throw new Error(
                  `Expected YAML collection at ${e}. Remaining path: ${t}`
                );
              this.set(e, sd(this.schema, t, n));
            }
          }
        }
        _toString(e, { blockItem: t, flowChars: n, itemIndent: i }, r, o) {
          const { indent: s, indentStep: a } = e,
            l = this.flow || e.inFlow;
          l && (i += a),
            (e = Object.assign({}, e, { indent: i, inFlow: l, type: null }));
          let c = !1,
            u = !1;
          const h = this.items.reduce((t, n, r) => {
            let o = null;
            if (Pp(n) || Lp(n)) {
              if (
                (!c && n.spaceBefore && t.push({ type: "comment", str: "" }),
                n.commentBefore)
              )
                for (const e of n.commentBefore.match(/^.*$/gm))
                  t.push({ type: "comment", str: `#${e}` });
              n.comment && (o = n.comment);
              const e = n;
              l &&
                ((!c && n.spaceBefore) ||
                  n.commentBefore ||
                  n.comment ||
                  (e.key && (e.key.commentBefore || e.key.comment)) ||
                  (e.value && (e.value.commentBefore || e.value.comment))) &&
                (u = !0);
            }
            c = !1;
            let s = od(
              n,
              e,
              () => (o = null),
              () => (c = !0)
            );
            return (
              l && !u && s.includes("\n") && (u = !0),
              l && r < this.items.length - 1 && (s += ","),
              (s = Gp(s, i, o)),
              c && (o || l) && (c = !1),
              t.push({ type: "item", str: s }),
              t
            );
          }, []);
          let p;
          if (0 === h.length) p = n.start + n.end;
          else if (l) {
            const { start: e, end: t } = n,
              i = h.map((e) => e.str);
            if (
              u ||
              i.reduce((e, t) => e + t.length + 2, 2) >
                ld.maxFlowStringSingleLineLength
            ) {
              p = e;
              for (const e of i) p += e ? `\n${a}${s}${e}` : "\n";
              p += `\n${s}${t}`;
            } else p = `${e} ${i.join(" ")} ${t}`;
          } else {
            const e = h.map(t);
            p = e.shift() || "";
            for (const t of e) p += t ? `\n${s}${t}` : "\n";
          }
          return (
            this.comment
              ? ((p += "\n" + this.comment.replace(/^/gm, `${s}#`)), r && r())
              : c && o && o(),
            p
          );
        }
      }
      function cd(e, t) {
        ("debug" !== e && "warn" !== e) ||
          ("undefined" != typeof process && process.emitWarning
            ? process.emitWarning(t)
            : console.warn(t));
      }
      function ud(e, t, n) {
        const i = _p(e, void 0, n),
          r = _p(t, void 0, n);
        return new pd(i, r);
      }
      ld.maxFlowStringSingleLineLength = 60;
      function hd(e, t, n) {
        if (!Sp(n) || !Mp(n.source))
          throw new Error("Merge sources must be map aliases");
        const i = n.source.toJSON(null, e, Map);
        for (const [e, n] of i)
          t instanceof Map
            ? t.has(e) || t.set(e, n)
            : t instanceof Set
            ? t.add(e)
            : Object.prototype.hasOwnProperty.call(t, e) ||
              Object.defineProperty(t, e, {
                value: n,
                writable: !0,
                enumerable: !0,
                configurable: !0,
              });
        return t;
      }
      class pd extends Op {
        constructor(e, t = null) {
          super(wp), (this.key = e), (this.value = t);
        }
        get commentBefore() {
          return Pp(this.key) ? this.key.commentBefore : void 0;
        }
        set commentBefore(e) {
          if ((null == this.key && (this.key = new Wp(null)), !Pp(this.key))) {
            throw new Error(
              "Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node."
            );
          }
          this.key.commentBefore = e;
        }
        get spaceBefore() {
          return Pp(this.key) ? this.key.spaceBefore : void 0;
        }
        set spaceBefore(e) {
          if ((null == this.key && (this.key = new Wp(null)), !Pp(this.key))) {
            throw new Error(
              "Pair.spaceBefore is an alias for Pair.key.spaceBefore. To set it, the key must be a Node."
            );
          }
          this.key.spaceBefore = e;
        }
        addToJSMap(e, t) {
          if (
            e &&
            e.doc.schema.merge &&
            ((e) =>
              e === pd.MERGE_KEY ||
              (Ap(e) &&
                e.value === pd.MERGE_KEY &&
                (!e.type || e.type === Wp.PLAIN)))(this.key)
          )
            if (Dp(this.value)) for (const n of this.value.items) hd(e, t, n);
            else if (Array.isArray(this.value))
              for (const n of this.value) hd(e, t, n);
            else hd(e, t, this.value);
          else {
            const n = Vp(this.key, "", e);
            if (t instanceof Map) {
              const i = Vp(this.value, n, e);
              t.set(n, i);
            } else if (t instanceof Set) t.add(n);
            else {
              const i = (function (e, t, n) {
                  if (null === t) return "";
                  if ("object" != typeof t) return String(t);
                  if (Pp(e) && n && n.doc) {
                    const t = rd(n.doc, {});
                    (t.inFlow = !0), (t.inStringifyKey = !0);
                    const i = e.toString(t);
                    if (!n.mapKeyWarned) {
                      let e = JSON.stringify(i);
                      e.length > 40 && (e = e.substring(0, 36) + '..."'),
                        cd(
                          n.doc.options.logLevel,
                          `Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`
                        ),
                        (n.mapKeyWarned = !0);
                    }
                    return i;
                  }
                  return JSON.stringify(t);
                })(this.key, n, e),
                r = Vp(this.value, i, e);
              i in t
                ? Object.defineProperty(t, i, {
                    value: r,
                    writable: !0,
                    enumerable: !0,
                    configurable: !0,
                  })
                : (t[i] = r);
            }
          }
          return t;
        }
        toJSON(e, t) {
          const n = t && t.mapAsMap ? new Map() : {};
          return this.addToJSMap(t, n);
        }
        toString(e, t, n) {
          if (!e || !e.doc) return JSON.stringify(this);
          const {
            allNullValues: i,
            doc: r,
            indent: o,
            indentStep: s,
            options: { indentSeq: a, simpleKeys: l },
          } = e;
          let { key: c, value: u } = this,
            h = (Pp(c) && c.comment) || null;
          if (l) {
            if (h)
              throw new Error(
                "With simple keys, key nodes cannot have comments"
              );
            if (Tp(c)) {
              throw new Error(
                "With simple keys, collection cannot be used as a key value"
              );
            }
          }
          let p =
            !l &&
            (!c ||
              (h && null == u) ||
              Tp(c) ||
              (Ap(c)
                ? c.type === Wp.BLOCK_FOLDED || c.type === Wp.BLOCK_LITERAL
                : "object" == typeof c));
          e = Object.assign({}, e, {
            allNullValues: !1,
            implicitKey: !p && (l || !i),
            indent: o + s,
          });
          let d = !1,
            f = od(
              c,
              e,
              () => (h = null),
              () => (d = !0)
            );
          if (!p && !e.inFlow && f.length > 1024) {
            if (l)
              throw new Error(
                "With simple keys, single line scalar must not span more than 1024 characters"
              );
            p = !0;
          }
          if ((i && (!l || e.inFlow)) || (null == u && (p || e.inFlow)))
            return (
              (f = Gp(f, e.indent, h)),
              this.comment
                ? (h && !this.comment.includes("\n")
                    ? (f += `\n${e.indent || ""}#${this.comment}`)
                    : (f = Gp(f, e.indent, this.comment)),
                  t && t())
                : d && !h && n && n(),
              e.inFlow && !p ? f : `? ${f}`
            );
          (f = p ? `? ${Gp(f, e.indent, h)}\n${o}:` : Gp(`${f}:`, e.indent, h)),
            this.comment &&
              (!h || p || this.comment.includes("\n")
                ? (f = Gp(f, e.indent, this.comment))
                : (f += `\n${e.indent || ""}#${this.comment}`),
              t && t());
          let g = "",
            m = null;
          if (Pp(u)) {
            if ((u.spaceBefore && (g = "\n"), u.commentBefore)) {
              g += `\n${u.commentBefore.replace(/^/gm, `${e.indent}#`)}`;
            }
            m = u.comment;
          } else u && "object" == typeof u && (u = r.createNode(u));
          (e.implicitKey = !1),
            p ||
              h ||
              this.comment ||
              !Ap(u) ||
              (e.indentAtStart = f.length + 1),
            (d = !1),
            a ||
              !(s.length >= 2) ||
              e.inFlow ||
              p ||
              !Dp(u) ||
              u.flow ||
              u.tag ||
              r.anchors.getName(u) ||
              (e.indent = e.indent.substr(2));
          const v = od(
            u,
            e,
            () => (m = null),
            () => (d = !0)
          );
          let y = " ";
          if (g || h || this.comment) y = `${g}\n${e.indent}`;
          else if (!p && Tp(u)) {
            (("[" === v[0] || "{" === v[0]) && !v.includes("\n")) ||
              (y = `\n${e.indent}`);
          } else "\n" === v[0] && (y = "");
          return d && !m && n && n(), Gp(f + y + v, e.indent, m);
        }
      }
      pd.MERGE_KEY = "<<";
      const dd = {
        anchorPrefix: "a",
        intAsBigInt: !1,
        keepUndefined: !1,
        logLevel: "warn",
        prettyErrors: !0,
        strict: !0,
        version: "1.2",
      };
      class fd extends ld {
        constructor(e) {
          super(Cp, e), (this.items = []);
        }
        static get tagName() {
          return "tag:yaml.org,2002:seq";
        }
        add(e) {
          this.items.push(e);
        }
        delete(e) {
          const t = gd(e);
          if ("number" != typeof t) return !1;
          return this.items.splice(t, 1).length > 0;
        }
        get(e, t) {
          const n = gd(e);
          if ("number" != typeof n) return;
          const i = this.items[n];
          return !t && Ap(i) ? i.value : i;
        }
        has(e) {
          const t = gd(e);
          return "number" == typeof t && t < this.items.length;
        }
        set(e, t) {
          const n = gd(e);
          if ("number" != typeof n)
            throw new Error(`Expected a valid index, not ${e}.`);
          const i = this.items[n];
          Ap(i) && Up(t) ? (i.value = t) : (this.items[n] = t);
        }
        toJSON(e, t) {
          const n = [];
          t && t.onCreate && t.onCreate(n);
          let i = 0;
          for (const e of this.items) n.push(Vp(e, String(i++), t));
          return n;
        }
        toString(e, t, n) {
          return e
            ? super._toString(
                e,
                {
                  blockItem: (e) =>
                    "comment" === e.type ? e.str : `- ${e.str}`,
                  flowChars: { start: "[", end: "]" },
                  itemIndent: (e.indent || "") + "  ",
                },
                t,
                n
              )
            : JSON.stringify(this);
        }
      }
      function gd(e) {
        let t = Ap(e) ? e.value : e;
        return (
          t && "string" == typeof t && (t = Number(t)),
          "number" == typeof t && Number.isInteger(t) && t >= 0 ? t : null
        );
      }
      class md {
        constructor(e) {
          (this.map = Object.create(null)), (this.prefix = e);
        }
        createAlias(e, t) {
          return this.setAnchor(e, t), new qp(e);
        }
        createMergePair(...e) {
          const t = new Wp(pd.MERGE_KEY),
            n = e.map((e) => {
              if (Sp(e)) {
                if (Mp(e.source)) return e;
              } else if (Mp(e)) return this.createAlias(e);
              throw new Error(
                "Merge sources must be Map nodes or their Aliases"
              );
            });
          if (1 === n.length) return new pd(t, n[0]);
          const i = new fd();
          return (i.items = n), new pd(t, i);
        }
        getName(e) {
          return Object.keys(this.map).find((t) => this.map[t] === e);
        }
        getNames() {
          return Object.keys(this.map);
        }
        getNode(e) {
          return this.map[e];
        }
        newName(e) {
          e || (e = this.prefix);
          const t = Object.keys(this.map);
          for (let n = 1; ; ++n) {
            const i = `${e}${n}`;
            if (!t.includes(i)) return i;
          }
        }
        setAnchor(e, t) {
          const { map: n } = this;
          if (!e) return t ? (delete n[t], t) : null;
          if (!Ap(e) && !Tp(e))
            throw new Error(
              "Anchors may only be set for Scalar, Seq and Map nodes"
            );
          if (t) {
            if (/[\x00-\x19\s,[\]{}]/.test(t))
              throw new Error(
                "Anchor names must not contain whitespace or control characters"
              );
            const i = n[t];
            i && i !== e && (n[this.newName(t)] = i);
          }
          const i = Object.keys(n).find((t) => n[t] === e);
          if (i) {
            if (!t || i === t) return i;
            delete n[i];
          } else t || (t = this.newName());
          return (n[t] = e), t;
        }
      }
      function vd({ format: e, minFractionDigits: t, tag: n, value: i }) {
        if ("bigint" == typeof i) return String(i);
        const r = "number" == typeof i ? i : Number(i);
        if (!isFinite(r)) return isNaN(r) ? ".nan" : r < 0 ? "-.inf" : ".inf";
        let o = JSON.stringify(i);
        if (
          !e &&
          t &&
          (!n || "tag:yaml.org,2002:float" === n) &&
          /^\d/.test(o)
        ) {
          let e = o.indexOf(".");
          e < 0 && ((e = o.length), (o += "."));
          let n = t - (o.length - e - 1);
          for (; n-- > 0; ) o += "0";
        }
        return o;
      }
      function yd(e, t) {
        const n = Ap(t) ? t.value : t;
        for (const i of e)
          if (Lp(i)) {
            if (i.key === t || i.key === n) return i;
            if (Ap(i.key) && i.key.value === n) return i;
          }
      }
      class bd extends ld {
        constructor(e) {
          super(bp, e), (this.items = []);
        }
        static get tagName() {
          return "tag:yaml.org,2002:map";
        }
        add(e, t) {
          let n;
          n = Lp(e)
            ? e
            : new pd(
                e && "object" == typeof e && "key" in e ? e.key : e,
                e.value
              );
          const i = yd(this.items, n.key),
            r = this.schema && this.schema.sortMapEntries;
          if (i) {
            if (!t) throw new Error(`Key ${n.key} already set`);
            Ap(i.value) && Up(n.value)
              ? (i.value.value = n.value)
              : (i.value = n.value);
          } else if (r) {
            const e = this.items.findIndex((e) => r(n, e) < 0);
            -1 === e ? this.items.push(n) : this.items.splice(e, 0, n);
          } else this.items.push(n);
        }
        delete(e) {
          const t = yd(this.items, e);
          if (!t) return !1;
          return this.items.splice(this.items.indexOf(t), 1).length > 0;
        }
        get(e, t) {
          const n = yd(this.items, e),
            i = n && n.value;
          return !t && Ap(i) ? i.value : i;
        }
        has(e) {
          return !!yd(this.items, e);
        }
        set(e, t) {
          this.add(new pd(e, t), !0);
        }
        toJSON(e, t, n) {
          const i = n ? new n() : t && t.mapAsMap ? new Map() : {};
          t && t.onCreate && t.onCreate(i);
          for (const e of this.items) e.addToJSMap(t, i);
          return i;
        }
        toString(e, t, n) {
          if (!e) return JSON.stringify(this);
          for (const e of this.items)
            if (!Lp(e))
              throw new Error(
                `Map items must all be pairs; found ${JSON.stringify(
                  e
                )} instead`
              );
          return (
            !e.allNullValues &&
              this.hasAllNullValues(!1) &&
              (e = Object.assign({}, e, { allNullValues: !0 })),
            super._toString(
              e,
              {
                blockItem: (e) => e.str,
                flowChars: { start: "{", end: "}" },
                itemIndent: e.indent || "",
              },
              t,
              n
            )
          );
        }
      }
      const wd = {
        collection: "map",
        createNode: function (e, t, n) {
          const { keepUndefined: i, replacer: r } = n,
            o = new bd(e),
            s = (e, s) => {
              if ("function" == typeof r) s = r.call(t, e, s);
              else if (Array.isArray(r) && !r.includes(e)) return;
              (void 0 !== s || i) && o.items.push(ud(e, s, n));
            };
          if (t instanceof Map) for (const [e, n] of t) s(e, n);
          else if (t && "object" == typeof t)
            for (const e of Object.keys(t)) s(e, t[e]);
          return (
            "function" == typeof e.sortMapEntries &&
              o.items.sort(e.sortMapEntries),
            o
          );
        },
        default: !0,
        nodeClass: bd,
        tag: "tag:yaml.org,2002:map",
        resolve: (e, t) => (Mp(e) || t("Expected a mapping for this tag"), e),
      };
      const kd = {
          collection: "seq",
          createNode: function (e, t, n) {
            const { replacer: i } = n,
              r = new fd(e);
            if (t && Symbol.iterator in Object(t)) {
              let e = 0;
              for (let o of t) {
                if ("function" == typeof i) {
                  const n = t instanceof Set ? o : String(e++);
                  o = i.call(t, n, o);
                }
                r.items.push(_p(o, void 0, n));
              }
            }
            return r;
          },
          default: !0,
          nodeClass: fd,
          tag: "tag:yaml.org,2002:seq",
          resolve: (e, t) => (
            Dp(e) || t("Expected a sequence for this tag"), e
          ),
        },
        Cd = [
          wd,
          kd,
          {
            identify: (e) => "string" == typeof e,
            default: !0,
            tag: "tag:yaml.org,2002:str",
            resolve: (e) => e,
            stringify: (e, t, n, i) =>
              id(e, (t = Object.assign({ actualString: !0 }, t)), n, i),
          },
        ],
        xd = (e) => "bigint" == typeof e || Number.isInteger(e),
        Sd = (e, t, n, { intAsBigInt: i }) =>
          i ? BigInt(e) : parseInt(e.substring(t), n);
      function Ed(e, t, n) {
        const { value: i } = e;
        return xd(i) && i >= 0 ? n + i.toString(t) : vd(e);
      }
      const Md = {
          identify: (e) => null == e,
          createNode: () => new Wp(null),
          default: !0,
          tag: "tag:yaml.org,2002:null",
          test: /^(?:~|[Nn]ull|NULL)?$/,
          resolve: () => new Wp(null),
          stringify: ({ source: e }, t) =>
            e && Md.test.test(e) ? e : t.options.nullStr,
        },
        Ld = {
          identify: (e) => "boolean" == typeof e,
          default: !0,
          tag: "tag:yaml.org,2002:bool",
          test: /^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,
          resolve: (e) => new Wp("t" === e[0] || "T" === e[0]),
          stringify({ source: e, value: t }, n) {
            if (e && Ld.test.test(e)) {
              if (t === ("t" === e[0] || "T" === e[0])) return e;
            }
            return t ? n.options.trueStr : n.options.falseStr;
          },
        },
        Ad = {
          identify: (e) => xd(e) && e >= 0,
          default: !0,
          tag: "tag:yaml.org,2002:int",
          format: "OCT",
          test: /^0o[0-7]+$/,
          resolve: (e, t, n) => Sd(e, 2, 8, n),
          stringify: (e) => Ed(e, 8, "0o"),
        },
        Dd = {
          identify: xd,
          default: !0,
          tag: "tag:yaml.org,2002:int",
          test: /^[-+]?[0-9]+$/,
          resolve: (e, t, n) => Sd(e, 0, 10, n),
          stringify: vd,
        },
        Td = {
          identify: (e) => xd(e) && e >= 0,
          default: !0,
          tag: "tag:yaml.org,2002:int",
          format: "HEX",
          test: /^0x[0-9a-fA-F]+$/,
          resolve: (e, t, n) => Sd(e, 2, 16, n),
          stringify: (e) => Ed(e, 16, "0x"),
        },
        Pd = {
          identify: (e) => "number" == typeof e,
          default: !0,
          tag: "tag:yaml.org,2002:float",
          test: /^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,
          resolve: (e) =>
            "nan" === e.slice(-3).toLowerCase()
              ? NaN
              : "-" === e[0]
              ? Number.NEGATIVE_INFINITY
              : Number.POSITIVE_INFINITY,
          stringify: vd,
        },
        Od = {
          identify: (e) => "number" == typeof e,
          default: !0,
          tag: "tag:yaml.org,2002:float",
          format: "EXP",
          test: /^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,
          resolve: (e) => parseFloat(e),
          stringify: ({ value: e }) => Number(e).toExponential(),
        },
        Fd = {
          identify: (e) => "number" == typeof e,
          default: !0,
          tag: "tag:yaml.org,2002:float",
          test: /^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,
          resolve(e) {
            const t = new Wp(parseFloat(e)),
              n = e.indexOf(".");
            return (
              -1 !== n &&
                "0" === e[e.length - 1] &&
                (t.minFractionDigits = e.length - n - 1),
              t
            );
          },
          stringify: vd,
        },
        Id = Cd.concat([Md, Ld, Ad, Dd, Td, Pd, Od, Fd]);
      function Nd(e) {
        return "bigint" == typeof e || Number.isInteger(e);
      }
      const Bd = ({ value: e }) => JSON.stringify(e),
        Rd = [wd, kd].concat(
          [
            {
              identify: (e) => "string" == typeof e,
              default: !0,
              tag: "tag:yaml.org,2002:str",
              resolve: (e) => e,
              stringify: Bd,
            },
            {
              identify: (e) => null == e,
              createNode: () => new Wp(null),
              default: !0,
              tag: "tag:yaml.org,2002:null",
              test: /^null$/,
              resolve: () => null,
              stringify: Bd,
            },
            {
              identify: (e) => "boolean" == typeof e,
              default: !0,
              tag: "tag:yaml.org,2002:bool",
              test: /^true|false$/,
              resolve: (e) => "true" === e,
              stringify: Bd,
            },
            {
              identify: Nd,
              default: !0,
              tag: "tag:yaml.org,2002:int",
              test: /^-?(?:0|[1-9][0-9]*)$/,
              resolve: (e, t, { intAsBigInt: n }) =>
                n ? BigInt(e) : parseInt(e, 10),
              stringify: ({ value: e }) =>
                Nd(e) ? e.toString() : JSON.stringify(e),
            },
            {
              identify: (e) => "number" == typeof e,
              default: !0,
              tag: "tag:yaml.org,2002:float",
              test: /^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,
              resolve: (e) => parseFloat(e),
              stringify: Bd,
            },
          ],
          {
            default: !0,
            tag: "",
            test: /^/,
            resolve: (e, t) => (
              t(`Unresolved plain scalar ${JSON.stringify(e)}`), e
            ),
          }
        ),
        zd = {
          identify: (e) => e instanceof Uint8Array,
          default: !1,
          tag: "tag:yaml.org,2002:binary",
          resolve(e, t) {
            if ("function" == typeof Buffer) return Buffer.from(e, "base64");
            if ("function" == typeof atob) {
              const t = atob(e.replace(/[\n\r]/g, "")),
                n = new Uint8Array(t.length);
              for (let e = 0; e < t.length; ++e) n[e] = t.charCodeAt(e);
              return n;
            }
            return (
              t(
                "This environment does not support reading binary tags; either Buffer or atob is required"
              ),
              e
            );
          },
          stringify({ comment: e, type: t, value: n }, i, r, o) {
            const s = n;
            let a;
            if ("function" == typeof Buffer)
              a =
                s instanceof Buffer
                  ? s.toString("base64")
                  : Buffer.from(s.buffer).toString("base64");
            else {
              if ("function" != typeof btoa)
                throw new Error(
                  "This environment does not support writing binary tags; either Buffer or btoa is required"
                );
              {
                let e = "";
                for (let t = 0; t < s.length; ++t)
                  e += String.fromCharCode(s[t]);
                a = btoa(e);
              }
            }
            if ((t || (t = Wp.BLOCK_LITERAL), t !== Wp.QUOTE_DOUBLE)) {
              const e = Math.max(
                  i.options.lineWidth - i.indent.length,
                  i.options.minContentWidth
                ),
                n = Math.ceil(a.length / e),
                r = new Array(n);
              for (let t = 0, i = 0; t < n; ++t, i += e) r[t] = a.substr(i, e);
              a = r.join(t === Wp.BLOCK_LITERAL ? "\n" : " ");
            }
            return id({ comment: e, type: t, value: a }, i, r, o);
          },
        };
      function Hd(e, t) {
        if (Dp(e))
          for (let n = 0; n < e.items.length; ++n) {
            let i = e.items[n];
            if (!Lp(i)) {
              if (Mp(i)) {
                i.items.length > 1 &&
                  t("Each pair must have its own sequence indicator");
                const e = i.items[0] || new pd(null);
                i.commentBefore &&
                  (e.commentBefore = e.commentBefore
                    ? `${i.commentBefore}\n${e.commentBefore}`
                    : i.commentBefore),
                  i.comment &&
                    (e.comment = e.comment
                      ? `${i.comment}\n${e.comment}`
                      : i.comment),
                  (i = e);
              }
              e.items[n] = Lp(i) ? i : new pd(i);
            }
          }
        else t("Expected a sequence for this tag");
        return e;
      }
      function Vd(e, t, n) {
        const { replacer: i } = n,
          r = new fd(e);
        r.tag = "tag:yaml.org,2002:pairs";
        let o = 0;
        if (t && Symbol.iterator in Object(t))
          for (let e of t) {
            let s, a;
            if (
              ("function" == typeof i && (e = i.call(t, String(o++), e)),
              Array.isArray(e))
            ) {
              if (2 !== e.length)
                throw new TypeError(`Expected [key, value] tuple: ${e}`);
              (s = e[0]), (a = e[1]);
            } else if (e && e instanceof Object) {
              const t = Object.keys(e);
              if (1 !== t.length)
                throw new TypeError(`Expected { key: value } tuple: ${e}`);
              (s = t[0]), (a = e[s]);
            } else s = e;
            r.items.push(ud(s, a, n));
          }
        return r;
      }
      const qd = {
        collection: "seq",
        default: !1,
        tag: "tag:yaml.org,2002:pairs",
        resolve: Hd,
        createNode: Vd,
      };
      class jd extends fd {
        constructor() {
          super(),
            (this.add = bd.prototype.add.bind(this)),
            (this.delete = bd.prototype.delete.bind(this)),
            (this.get = bd.prototype.get.bind(this)),
            (this.has = bd.prototype.has.bind(this)),
            (this.set = bd.prototype.set.bind(this)),
            (this.tag = jd.tag);
        }
        toJSON(e, t) {
          if (!t) return super.toJSON(e);
          const n = new Map();
          t && t.onCreate && t.onCreate(n);
          for (const e of this.items) {
            let i, r;
            if (
              (Lp(e)
                ? ((i = Vp(e.key, "", t)), (r = Vp(e.value, i, t)))
                : (i = Vp(e, "", t)),
              n.has(i))
            )
              throw new Error("Ordered maps must not include duplicate keys");
            n.set(i, r);
          }
          return n;
        }
      }
      jd.tag = "tag:yaml.org,2002:omap";
      const Ud = {
        collection: "seq",
        identify: (e) => e instanceof Map,
        nodeClass: jd,
        default: !1,
        tag: "tag:yaml.org,2002:omap",
        resolve(e, t) {
          const n = Hd(e, t),
            i = [];
          for (const { key: e } of n.items)
            Ap(e) &&
              (i.includes(e.value)
                ? t(`Ordered maps must not include duplicate keys: ${e.value}`)
                : i.push(e.value));
          return Object.assign(new jd(), n);
        },
        createNode(e, t, n) {
          const i = Vd(e, t, n),
            r = new jd();
          return (r.items = i.items), r;
        },
      };
      class Wd extends bd {
        constructor(e) {
          super(e), (this.tag = Wd.tag);
        }
        add(e) {
          let t;
          t = Lp(e)
            ? e
            : "object" == typeof e &&
              "key" in e &&
              "value" in e &&
              null === e.value
            ? new pd(e.key, null)
            : new pd(e, null);
          yd(this.items, t.key) || this.items.push(t);
        }
        get(e, t) {
          const n = yd(this.items, e);
          return !t && Lp(n) ? (Ap(n.key) ? n.key.value : n.key) : n;
        }
        set(e, t) {
          if ("boolean" != typeof t)
            throw new Error(
              "Expected boolean value for set(key, value) in a YAML set, not " +
                typeof t
            );
          const n = yd(this.items, e);
          n && !t
            ? this.items.splice(this.items.indexOf(n), 1)
            : !n && t && this.items.push(new pd(e));
        }
        toJSON(e, t) {
          return super.toJSON(e, t, Set);
        }
        toString(e, t, n) {
          if (!e) return JSON.stringify(this);
          if (this.hasAllNullValues(!0))
            return super.toString(
              Object.assign({}, e, { allNullValues: !0 }),
              t,
              n
            );
          throw new Error("Set items must all have null values");
        }
      }
      Wd.tag = "tag:yaml.org,2002:set";
      const _d = {
        collection: "map",
        identify: (e) => e instanceof Set,
        nodeClass: Wd,
        default: !1,
        tag: "tag:yaml.org,2002:set",
        resolve(e, t) {
          if (Mp(e)) {
            if (e.hasAllNullValues(!0)) return Object.assign(new Wd(), e);
            t("Set items must all have null values");
          } else t("Expected a mapping for this tag");
          return e;
        },
        createNode(e, t, n) {
          const { replacer: i } = n,
            r = new Wd(e);
          if (t && Symbol.iterator in Object(t))
            for (let e of t)
              "function" == typeof i && (e = i.call(t, e, e)),
                r.items.push(ud(e, null, n));
          return r;
        },
      };
      function Gd(e, t) {
        const n = e[0],
          i = "-" === n || "+" === n ? e.substring(1) : e,
          r = (e) => (t ? BigInt(e) : Number(e)),
          o = i
            .replace(/_/g, "")
            .split(":")
            .reduce((e, t) => e * r(60) + r(t), r(0));
        return "-" === n ? r(-1) * o : o;
      }
      function Kd(e) {
        let { value: t } = e,
          n = (e) => e;
        if ("bigint" == typeof t) n = (e) => BigInt(e);
        else if (isNaN(t) || !isFinite(t)) return vd(e);
        let i = "";
        t < 0 && ((i = "-"), (t *= n(-1)));
        const r = n(60),
          o = [t % r];
        return (
          t < 60
            ? o.unshift(0)
            : ((t = (t - o[0]) / r),
              o.unshift(t % r),
              t >= 60 && ((t = (t - o[0]) / r), o.unshift(t))),
          i +
            o
              .map((e) => (e < 10 ? "0" + String(e) : String(e)))
              .join(":")
              .replace(/000000\d*$/, "")
        );
      }
      const $d = {
          identify: (e) => "bigint" == typeof e || Number.isInteger(e),
          default: !0,
          tag: "tag:yaml.org,2002:int",
          format: "TIME",
          test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,
          resolve: (e, t, { intAsBigInt: n }) => Gd(e, n),
          stringify: Kd,
        },
        Yd = {
          identify: (e) => "number" == typeof e,
          default: !0,
          tag: "tag:yaml.org,2002:float",
          format: "TIME",
          test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,
          resolve: (e) => Gd(e, !1),
          stringify: Kd,
        },
        Jd = {
          identify: (e) => e instanceof Date,
          default: !0,
          tag: "tag:yaml.org,2002:timestamp",
          test: RegExp(
            "^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"
          ),
          resolve(e) {
            const t = e.match(Jd.test);
            if (!t)
              throw new Error(
                "!!timestamp expects a date, starting with yyyy-mm-dd"
              );
            const [, n, i, r, o, s, a] = t.map(Number),
              l = t[7] ? Number((t[7] + "00").substr(1, 3)) : 0;
            let c = Date.UTC(n, i - 1, r, o || 0, s || 0, a || 0, l);
            const u = t[8];
            if (u && "Z" !== u) {
              let e = Gd(u, !1);
              Math.abs(e) < 30 && (e *= 60), (c -= 6e4 * e);
            }
            return new Date(c);
          },
          stringify: ({ value: e }) =>
            e.toISOString().replace(/((T00:00)?:00)?\.000Z$/, ""),
        },
        Qd = {
          identify: (e) => null == e,
          createNode: () => new Wp(null),
          default: !0,
          tag: "tag:yaml.org,2002:null",
          test: /^(?:~|[Nn]ull|NULL)?$/,
          resolve: () => new Wp(null),
          stringify: ({ source: e }, t) =>
            e && Qd.test.test(e) ? e : t.options.nullStr,
        };
      function Xd({ value: e, source: t }, n) {
        return t && (e ? Zd : ef).test.test(t)
          ? t
          : e
          ? n.options.trueStr
          : n.options.falseStr;
      }
      const Zd = {
          identify: (e) => !0 === e,
          default: !0,
          tag: "tag:yaml.org,2002:bool",
          test: /^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,
          resolve: () => new Wp(!0),
          stringify: Xd,
        },
        ef = {
          identify: (e) => !1 === e,
          default: !0,
          tag: "tag:yaml.org,2002:bool",
          test: /^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,
          resolve: () => new Wp(!1),
          stringify: Xd,
        },
        tf = (e) => "bigint" == typeof e || Number.isInteger(e);
      function nf(e, t, n, { intAsBigInt: i }) {
        const r = e[0];
        if (
          (("-" !== r && "+" !== r) || (t += 1),
          (e = e.substring(t).replace(/_/g, "")),
          i)
        ) {
          switch (n) {
            case 2:
              e = `0b${e}`;
              break;
            case 8:
              e = `0o${e}`;
              break;
            case 16:
              e = `0x${e}`;
          }
          const t = BigInt(e);
          return "-" === r ? BigInt(-1) * t : t;
        }
        const o = parseInt(e, n);
        return "-" === r ? -1 * o : o;
      }
      function rf(e, t, n) {
        const { value: i } = e;
        if (tf(i)) {
          const e = i.toString(t);
          return i < 0 ? "-" + n + e.substr(1) : n + e;
        }
        return vd(e);
      }
      const of = Cd.concat(
          [
            Qd,
            Zd,
            ef,
            {
              identify: tf,
              default: !0,
              tag: "tag:yaml.org,2002:int",
              format: "BIN",
              test: /^[-+]?0b[0-1_]+$/,
              resolve: (e, t, n) => nf(e, 2, 2, n),
              stringify: (e) => rf(e, 2, "0b"),
            },
            {
              identify: tf,
              default: !0,
              tag: "tag:yaml.org,2002:int",
              format: "OCT",
              test: /^[-+]?0[0-7_]+$/,
              resolve: (e, t, n) => nf(e, 1, 8, n),
              stringify: (e) => rf(e, 8, "0"),
            },
            {
              identify: tf,
              default: !0,
              tag: "tag:yaml.org,2002:int",
              test: /^[-+]?[0-9][0-9_]*$/,
              resolve: (e, t, n) => nf(e, 0, 10, n),
              stringify: vd,
            },
            {
              identify: tf,
              default: !0,
              tag: "tag:yaml.org,2002:int",
              format: "HEX",
              test: /^[-+]?0x[0-9a-fA-F_]+$/,
              resolve: (e, t, n) => nf(e, 2, 16, n),
              stringify: (e) => rf(e, 16, "0x"),
            },
            {
              identify: (e) => "number" == typeof e,
              default: !0,
              tag: "tag:yaml.org,2002:float",
              test: /^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,
              resolve: (e) =>
                "nan" === e.slice(-3).toLowerCase()
                  ? NaN
                  : "-" === e[0]
                  ? Number.NEGATIVE_INFINITY
                  : Number.POSITIVE_INFINITY,
              stringify: vd,
            },
            {
              identify: (e) => "number" == typeof e,
              default: !0,
              tag: "tag:yaml.org,2002:float",
              format: "EXP",
              test: /^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,
              resolve: (e) => parseFloat(e.replace(/_/g, "")),
              stringify: ({ value: e }) => Number(e).toExponential(),
            },
            {
              identify: (e) => "number" == typeof e,
              default: !0,
              tag: "tag:yaml.org,2002:float",
              test: /^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,
              resolve(e) {
                const t = new Wp(parseFloat(e.replace(/_/g, ""))),
                  n = e.indexOf(".");
                if (-1 !== n) {
                  const i = e.substring(n + 1).replace(/_/g, "");
                  "0" === i[i.length - 1] && (t.minFractionDigits = i.length);
                }
                return t;
              },
              stringify: vd,
            },
          ],
          zd,
          Ud,
          qd,
          _d,
          $d,
          Yd,
          Jd
        ),
        sf = { core: Id, failsafe: Cd, json: Rd, yaml11: of },
        af = {
          binary: zd,
          bool: Ld,
          float: Fd,
          floatExp: Od,
          floatNaN: Pd,
          floatTime: Yd,
          int: Dd,
          intHex: Td,
          intOct: Ad,
          intTime: $d,
          map: wd,
          null: Md,
          omap: Ud,
          pairs: qd,
          seq: kd,
          set: _d,
          timestamp: Jd,
        };
      const lf = (e, t) => (e.key < t.key ? -1 : e.key > t.key ? 1 : 0),
        cf = {
          "tag:yaml.org,2002:binary": af.binary,
          "tag:yaml.org,2002:omap": af.omap,
          "tag:yaml.org,2002:pairs": af.pairs,
          "tag:yaml.org,2002:set": af.set,
          "tag:yaml.org,2002:timestamp": af.timestamp,
        };
      class uf {
        constructor({
          customTags: e,
          merge: t,
          resolveKnownTags: n,
          schema: i,
          sortMapEntries: r,
        }) {
          (this.map = af.map),
            (this.seq = af.seq),
            (this.merge = !!t),
            (this.name = i || "core"),
            (this.knownTags = n ? cf : {}),
            (this.tags = (function (e, t, n, i) {
              let r = e[i.replace(/\W/g, "")];
              if (!r) {
                const t = Object.keys(e)
                  .map((e) => JSON.stringify(e))
                  .join(", ");
                throw new Error(`Unknown schema "${i}"; use one of ${t}`);
              }
              if (Array.isArray(n)) for (const e of n) r = r.concat(e);
              else "function" == typeof n && (r = n(r.slice()));
              return r.map((e) => {
                if ("string" != typeof e) return e;
                const n = t[e];
                if (n) return n;
                const i = Object.keys(t)
                  .map((e) => JSON.stringify(e))
                  .join(", ");
                throw new Error(`Unknown custom tag "${e}"; use one of ${i}`);
              });
            })(sf, af, e, this.name)),
            (this.sortMapEntries = !0 === r ? lf : r || null);
        }
      }
      function hf(e, t, n, i) {
        if (i && "object" == typeof i)
          if (Array.isArray(i))
            for (let t = 0, n = i.length; t < n; ++t) {
              const n = i[t],
                r = hf(e, i, String(t), n);
              void 0 === r ? delete i[t] : r !== n && (i[t] = r);
            }
          else if (i instanceof Map)
            for (const t of Array.from(i.keys())) {
              const n = i.get(t),
                r = hf(e, i, t, n);
              void 0 === r ? i.delete(t) : r !== n && i.set(t, r);
            }
          else if (i instanceof Set)
            for (const t of Array.from(i)) {
              const n = hf(e, i, t, t);
              void 0 === n ? i.delete(t) : n !== t && (i.delete(t), i.add(n));
            }
          else
            for (const [t, n] of Object.entries(i)) {
              const r = hf(e, i, t, n);
              void 0 === r ? delete i[t] : r !== n && (i[t] = r);
            }
        return e.call(t, n, i);
      }
      class pf {
        constructor(e, t, n) {
          let i;
          (this.commentBefore = null),
            (this.comment = null),
            (this.errors = []),
            (this.warnings = []),
            Object.defineProperty(this, xp, { value: yp }),
            "function" == typeof t || Array.isArray(t)
              ? (i = t)
              : void 0 === n && t && ((n = t), (t = void 0));
          const r = Object.assign({}, dd, n);
          (this.options = r),
            (this.anchors = new md(this.options.anchorPrefix));
          let { version: o } = r;
          (null == n ? void 0 : n.directives)
            ? ((this.directives = n.directives.atDocument()),
              this.directives.yaml.explicit &&
                (o = this.directives.yaml.version))
            : (this.directives = new Hp({ version: o })),
            this.setSchema(o, n),
            (this.contents =
              void 0 === e ? null : this.createNode(e, { replacer: i }));
        }
        add(e) {
          df(this.contents) && this.contents.add(e);
        }
        addIn(e, t) {
          df(this.contents) && this.contents.addIn(e, t);
        }
        createNode(
          e,
          { flow: t, keepUndefined: n, onTagObj: i, replacer: r, tag: o } = {}
        ) {
          if ("function" == typeof r) e = r.call({ "": e }, "", e);
          else if (Array.isArray(r)) {
            const e = (e) =>
                "number" == typeof e ||
                e instanceof String ||
                e instanceof Number,
              t = r.filter(e).map(String);
            t.length > 0 && (r = r.concat(t));
          }
          "boolean" != typeof n && (n = !!this.options.keepUndefined);
          const s = [],
            a = _p(e, o, {
              keepUndefined: n,
              onAlias(e) {
                const t = new qp(e);
                return s.push(t), t;
              },
              onTagObj: i,
              prevObjects: new Map(),
              replacer: r,
              schema: this.schema,
            });
          for (const e of s) {
            e.source = e.source.node;
            let t = this.anchors.getName(e.source);
            t ||
              ((t = this.anchors.newName()), (this.anchors.map[t] = e.source));
          }
          return t && Tp(a) && (a.flow = !0), a;
        }
        createPair(e, t, n = {}) {
          const i = this.createNode(e, n),
            r = this.createNode(t, n);
          return new pd(i, r);
        }
        delete(e) {
          return !!df(this.contents) && this.contents.delete(e);
        }
        deleteIn(e) {
          return ad(e)
            ? null != this.contents && ((this.contents = null), !0)
            : !!df(this.contents) && this.contents.deleteIn(e);
        }
        get(e, t) {
          return Tp(this.contents) ? this.contents.get(e, t) : void 0;
        }
        getIn(e, t) {
          return ad(e)
            ? !t && Ap(this.contents)
              ? this.contents.value
              : this.contents
            : Tp(this.contents)
            ? this.contents.getIn(e, t)
            : void 0;
        }
        has(e) {
          return !!Tp(this.contents) && this.contents.has(e);
        }
        hasIn(e) {
          return ad(e)
            ? void 0 !== this.contents
            : !!Tp(this.contents) && this.contents.hasIn(e);
        }
        set(e, t) {
          null == this.contents
            ? (this.contents = sd(this.schema, [e], t))
            : df(this.contents) && this.contents.set(e, t);
        }
        setIn(e, t) {
          ad(e)
            ? (this.contents = t)
            : null == this.contents
            ? (this.contents = sd(this.schema, Array.from(e), t))
            : df(this.contents) && this.contents.setIn(e, t);
        }
        setSchema(e, t) {
          let n;
          switch (String(e)) {
            case "1.1":
              (this.directives.yaml.version = "1.1"),
                (n = Object.assign(
                  { merge: !0, resolveKnownTags: !1, schema: "yaml-1.1" },
                  t
                ));
              break;
            case "1.2":
              (this.directives.yaml.version = "1.2"),
                (n = Object.assign(
                  { merge: !1, resolveKnownTags: !0, schema: "core" },
                  t
                ));
              break;
            default: {
              const t = JSON.stringify(e);
              throw new Error(
                `Expected '1.1' or '1.2' as version, but found: ${t}`
              );
            }
          }
          this.schema = new uf(n);
        }
        toJS({
          json: e,
          jsonArg: t,
          mapAsMap: n,
          maxAliasCount: i,
          onAnchor: r,
          reviver: o,
        } = {}) {
          const s = Object.values(this.anchors.map).map((e) => [
              e,
              { alias: [], aliasCount: 0, count: 1 },
            ]),
            a = s.length > 0 ? new Map(s) : null,
            l = {
              anchors: a,
              doc: this,
              keep: !e,
              mapAsMap: !0 === n,
              mapKeyWarned: !1,
              maxAliasCount: "number" == typeof i ? i : 100,
              stringify: od,
            },
            c = Vp(this.contents, t || "", l);
          if ("function" == typeof r && a)
            for (const { count: e, res: t } of a.values()) r(t, e);
          return "function" == typeof o ? hf(o, { "": c }, "", c) : c;
        }
        toJSON(e, t) {
          return this.toJS({ json: !0, jsonArg: e, mapAsMap: !1, onAnchor: t });
        }
        toString(e = {}) {
          if (this.errors.length > 0)
            throw new Error("Document with errors cannot be stringified");
          if (
            "indent" in e &&
            (!Number.isInteger(e.indent) || Number(e.indent) <= 0)
          ) {
            const t = JSON.stringify(e.indent);
            throw new Error(
              `"indent" option must be a positive integer, not ${t}`
            );
          }
          const t = [];
          let n = !0 === e.directives;
          if (!1 !== e.directives) {
            const e = this.directives.toString(this);
            e ? (t.push(e), (n = !0)) : this.directives.marker && (n = !0);
          }
          n && t.push("---"),
            this.commentBefore &&
              (1 !== t.length && t.unshift(""),
              t.unshift(this.commentBefore.replace(/^/gm, "#")));
          const i = rd(this, e);
          let r = !1,
            o = null;
          if (this.contents) {
            Pp(this.contents) &&
              (this.contents.spaceBefore && n && t.push(""),
              this.contents.commentBefore &&
                t.push(this.contents.commentBefore.replace(/^/gm, "#")),
              (i.forceBlockIndent = !!this.comment),
              (o = this.contents.comment));
            const e = o ? void 0 : () => (r = !0);
            let s = od(this.contents, i, () => (o = null), e);
            o && (s = Gp(s, "", o)),
              ("|" !== s[0] && ">" !== s[0]) || "---" !== t[t.length - 1]
                ? t.push(s)
                : (t[t.length - 1] = `--- ${s}`);
          } else t.push(od(this.contents, i));
          return (
            this.comment &&
              ((r && !o) || "" === t[t.length - 1] || t.push(""),
              t.push(this.comment.replace(/^/gm, "#"))),
            t.join("\n") + "\n"
          );
        }
      }
      function df(e) {
        if (Tp(e)) return !0;
        throw new Error("Expected a YAML collection as document contents");
      }
      class ff extends Error {
        constructor(e, t, n) {
          if (!n) throw new Error(`Invalid arguments for new ${e}`);
          super(), (this.name = e), (this.message = n), (this.offset = t);
        }
      }
      class gf extends ff {
        constructor(e, t) {
          super("YAMLParseError", e, t);
        }
      }
      class mf extends ff {
        constructor(e, t) {
          super("YAMLWarning", e, t);
        }
      }
      const vf = (e, t) => (n) => {
        if (-1 === n.offset) return;
        n.linePos = t.linePos(n.offset);
        const { line: i, col: r } = n.linePos;
        n.message += ` at line ${i}, column ${r}`;
        let o = r - 1,
          s = e
            .substring(t.lineStarts[i - 1], t.lineStarts[i])
            .replace(/[\n\r]+$/, "");
        if (o >= 60 && s.length > 80) {
          const e = Math.min(o - 39, s.length - 79);
          (s = "…" + s.substring(e)), (o -= e - 1);
        }
        if (
          (s.length > 80 && (s = s.substring(0, 79) + "…"),
          i > 1 && /^ *$/.test(s.substring(0, o)))
        ) {
          let n = e.substring(t.lineStarts[i - 2], t.lineStarts[i - 1]);
          n.length > 80 && (n = n.substring(0, 79) + "…\n"), (s = n + s);
        }
        if (/[^ ]/.test(s)) {
          const e = " ".repeat(o) + "^";
          n.message += `:\n\n${s}\n${e}\n`;
        }
      };
      function yf(e, t, n, i, r, o) {
        let s = 0,
          a = !1,
          l = n,
          c = n,
          u = "",
          h = !1,
          p = !1,
          d = "",
          f = "",
          g = "",
          m = null,
          v = null;
        for (const n of t) {
          switch (n.type) {
            case "space":
              l &&
                "doc-start" !== i &&
                "\t" === n.source[0] &&
                o(r + s, "Tabs are not allowed as indentation"),
                (c = !0);
              break;
            case "comment": {
              e.options.strict &&
                !c &&
                o(
                  r + s,
                  "Comments must be separated from other tokens by white space characters"
                );
              const t = n.source.substring(1);
              h ? (u += d + t) : (u = t), (h = !0), (d = "");
              break;
            }
            case "newline":
              l && !h && (a = !0),
                (l = !0),
                (p = !0),
                (c = !0),
                (d += n.source);
              break;
            case "anchor":
              f && o(r + s, "A node can have at most one anchor"),
                (f = n.source.substring(1)),
                null === v && (v = r + s),
                (l = !1),
                (c = !1);
              break;
            case "tag": {
              g && o(r + s, "A node can have at most one tag");
              const t = e.directives.tagName(n.source, (e) => o(r, e));
              t && (g = t), null === v && (v = r + s), (l = !1), (c = !1);
              break;
            }
            case i:
              (m = { indent: n.indent, offset: r + s }), (l = !1), (c = !1);
              break;
            default:
              o(r + s, `Unexpected ${n.type} token`), (l = !1), (c = !1);
          }
          n.source && (s += n.source.length);
        }
        return {
          found: m,
          spaceBefore: a,
          comment: u,
          hasNewline: p,
          anchor: f,
          tagName: g,
          length: s,
          start: null != v ? v : r + s,
        };
      }
      function bf(e) {
        if (!e) return null;
        switch (e.type) {
          case "alias":
          case "scalar":
          case "double-quoted-scalar":
          case "single-quoted-scalar":
            return e.source.includes("\n");
          case "flow-collection":
            for (const t of e.items)
              switch (t.type) {
                case "newline":
                  return !0;
                case "alias":
                case "scalar":
                case "double-quoted-scalar":
                case "single-quoted-scalar":
                case "flow-collection":
                  if (bf(t)) return !0;
              }
            return !1;
          default:
            return !0;
        }
      }
      const wf = "All mapping items must start at the same column";
      function kf(e, t, n, i) {
        let r = "";
        if (e) {
          let o = !1,
            s = !1,
            a = "";
          for (const { source: l, type: c } of e) {
            switch (c) {
              case "space":
                o = !0;
                break;
              case "comment": {
                n &&
                  !o &&
                  i(
                    t,
                    "Comments must be separated from other tokens by white space characters"
                  );
                const e = l.substring(1);
                s ? (r += a + e) : (r = e), (s = !0), (a = "");
                break;
              }
              case "newline":
                s && (a += l), (o = !0);
                break;
              default:
                i(t, `Unexpected ${c} at node end`);
            }
            t += l.length;
          }
        }
        return { comment: r, offset: t };
      }
      function Cf(e, t, n, i, r, o) {
        let s;
        switch (n.type) {
          case "block-map":
            s = (function (
              { composeNode: e, composeEmptyNode: t },
              n,
              { indent: i, items: r, offset: o },
              s,
              a
            ) {
              var l;
              const c = o,
                u = new bd(n.schema);
              s && n.anchors.setAnchor(u, s);
              for (const { start: s, key: c, sep: h, value: p } of r) {
                const r = yf(n, s, !0, "explicit-key-ind", o, a),
                  d = !r.found;
                if (d) {
                  if (
                    (c &&
                      ("block-seq" === c.type
                        ? a(
                            o,
                            "A block sequence may not be used as an implicit map key"
                          )
                        : "indent" in c && c.indent !== i && a(o, wf)),
                    !r.anchor && !r.tagName && !h)
                  ) {
                    r.comment &&
                      (u.comment
                        ? (u.comment += "\n" + r.comment)
                        : (u.comment = r.comment));
                    continue;
                  }
                } else
                  (null === (l = r.found) || void 0 === l
                    ? void 0
                    : l.indent) !== i && a(o, wf);
                (o += r.length),
                  d &&
                    bf(c) &&
                    a(o, "Implicit keys need to be on a single line");
                const f = o,
                  g = c ? e(n, c, r, a) : t(n, o, s, null, r, a);
                o = g.range[1];
                const m = yf(
                  n,
                  h || [],
                  !c || "block-scalar" === c.type,
                  "map-value-ind",
                  o,
                  a
                );
                if (((o += m.length), m.found)) {
                  d &&
                    ("block-map" !== (null == p ? void 0 : p.type) ||
                      m.hasNewline ||
                      a(
                        o,
                        "Nested mappings are not allowed in compact mappings"
                      ),
                    n.options.strict &&
                      r.start < m.found.offset - 1024 &&
                      a(
                        o,
                        "The : indicator must be at most 1024 chars after the start of an implicit block mapping key"
                      ));
                  const i = p ? e(n, p, m, a) : t(n, o, h, null, m, a);
                  (o = i.range[1]), u.items.push(new pd(g, i));
                } else
                  d &&
                    a(f, "Implicit map keys need to be followed by map values"),
                    m.comment &&
                      (g.comment
                        ? (g.comment += "\n" + m.comment)
                        : (g.comment = m.comment)),
                    u.items.push(new pd(g));
              }
              return (u.range = [c, o]), u;
            })(e, t, n, i, o);
            break;
          case "block-seq":
            s = (function (
              { composeNode: e, composeEmptyNode: t },
              n,
              { items: i, offset: r },
              o,
              s
            ) {
              const a = r,
                l = new fd(n.schema);
              o && n.anchors.setAnchor(l, o);
              for (const { start: o, value: a } of i) {
                const i = yf(n, o, !0, "seq-item-ind", r, s);
                if (((r += i.length), !i.found)) {
                  if (!(i.anchor || i.tagName || a)) {
                    i.comment && (l.comment = i.comment);
                    continue;
                  }
                  s(
                    r,
                    a && "block-seq" === a.type
                      ? "All sequence items must start at the same column"
                      : "Sequence item without - indicator"
                  );
                }
                const c = a ? e(n, a, i, s) : t(n, r, o, null, i, s);
                (r = c.range[1]), l.items.push(c);
              }
              return (l.range = [a, r]), l;
            })(e, t, n, i, o);
            break;
          case "flow-collection":
            s = (function (
              { composeNode: e, composeEmptyNode: t },
              n,
              i,
              r,
              o
            ) {
              const s = "{" === i.start.source,
                a = s ? new bd(n.schema) : new fd(n.schema);
              (a.flow = !0), r && n.anchors.setAnchor(a, r);
              let l = null,
                c = null,
                u = !1,
                h = "",
                p = !1,
                d = !1,
                f = "",
                g = "",
                m = "",
                v = i.offset + 1,
                y = !1,
                b = !1,
                w = !1,
                k = !1,
                C = null;
              function x() {
                const e = { spaceBefore: u, comment: h, anchor: g, tagName: m };
                return (
                  (u = !1), (h = ""), (d = !1), (f = ""), (g = ""), (m = ""), e
                );
              }
              function S(e) {
                if (
                  (c ? d && (c.comment = h) : (c = t(n, v, i.items, e, x(), o)),
                  s || b)
                )
                  a.items.push(l ? new pd(l, c) : new pd(c));
                else {
                  const e = a;
                  if (l) {
                    const t = new bd(n.schema);
                    (t.flow = !0), t.items.push(new pd(l, c)), e.items.push(t);
                  } else e.items.push(c);
                }
              }
              for (let r = 0; r < i.items.length; ++r) {
                const E = i.items[r];
                let M = !0;
                switch (E.type) {
                  case "space":
                    p = !0;
                    break;
                  case "comment": {
                    n.options.strict &&
                      !p &&
                      o(
                        v,
                        "Comments must be separated from other tokens by white space characters"
                      );
                    const e = E.source.substring(1);
                    d ? (h += f + e) : (h = e), (y = !1), (d = !0), (f = "");
                    break;
                  }
                  case "newline":
                    if ((y && !d && (u = !0), w)) {
                      if (d) {
                        let e = a.items[a.items.length - 1];
                        Lp(e) && (e = e.value || e.key),
                          Pp(e)
                            ? (e.comment = h)
                            : o(v, "Error adding trailing comment to node"),
                          (h = ""),
                          (d = !1);
                      }
                      w = !1;
                    } else (f += E.source), s || l || !c || (k = !0);
                    (y = !0), (p = !0);
                    break;
                  case "anchor":
                    g && o(v, "A node can have at most one anchor"),
                      (g = E.source.substring(1)),
                      (y = !1),
                      (w = !1),
                      (p = !1);
                    break;
                  case "tag": {
                    m && o(v, "A node can have at most one tag");
                    const e = n.directives.tagName(E.source, (e) => o(v, e));
                    e && (m = e), (y = !1), (w = !1), (p = !1);
                    break;
                  }
                  case "explicit-key-ind":
                    (g || m) &&
                      o(v, "Anchors and tags must be after the ? indicator"),
                      (b = !0),
                      (y = !1),
                      (w = !1),
                      (p = !1);
                    break;
                  case "map-value-ind":
                    if (l) {
                      if (c) {
                        o(v, "Missing {} around pair used as mapping key");
                        const e = new bd(n.schema);
                        (e.flow = !0),
                          e.items.push(new pd(l, c)),
                          (e.range = [l.range[0], c.range[1]]),
                          (l = e),
                          (c = null);
                      }
                    } else if (c) {
                      if (n.options.strict) {
                        const e =
                          "Implicit keys of flow sequence pairs need to be on a single line";
                        if (k) o(v, e);
                        else if (C) {
                          bf(C) && o(v, e);
                          const t = "offset" in C && C.offset;
                          "number" == typeof t &&
                            t < v - 1024 &&
                            o(
                              v,
                              "The : indicator must be at most 1024 chars after the start of an implicit flow sequence key"
                            ),
                            (C = null);
                        }
                      }
                      (l = c), (c = null);
                    } else l = t(n, v, i.items, r, x(), o);
                    d && ((l.comment = h), (h = ""), (d = !1)),
                      (b = !1),
                      (w = !1),
                      (p = !1);
                    break;
                  case "comma":
                    l || c || g || m || b
                      ? S(r)
                      : o(
                          v,
                          "Unexpected , in flow " + (s ? "map" : "sequence")
                        ),
                      (l = null),
                      (c = null),
                      (b = !1),
                      (w = !0),
                      (p = !1),
                      (k = !1),
                      (C = null);
                    break;
                  case "block-map":
                  case "block-seq":
                    o(
                      v,
                      "Block collections are not allowed within flow collections"
                    );
                  default:
                    c && o(v, "Missing , between flow collection items"),
                      s || l || b || (C = E),
                      (c = e(n, E, x(), o)),
                      (v = c.range[1]),
                      (y = !1),
                      (M = !1),
                      (w = !1),
                      (p = !1);
                }
                M && (v += E.source.length);
              }
              (l || c || g || m || b) && S(i.items.length);
              const E = s ? "}" : "]",
                [M, ...L] = i.end;
              (M && M.source === E) ||
                o(
                  v,
                  `Expected flow ${s ? "map" : "sequence"} to end with ${E}`
                );
              if ((M && (v += M.source.length), L.length > 0)) {
                const e = kf(L, v, n.options.strict, o);
                e.comment && (a.comment = h), (v = e.offset);
              }
              return (a.range = [i.offset, v]), a;
            })(e, t, n, i, o);
        }
        if (!r) return s;
        const a = s.constructor;
        if ("!" === r || r === a.tagName) return (s.tag = a.tagName), s;
        const l = Mp(s) ? "map" : "seq";
        let c = t.schema.tags.find((e) => e.collection === l && e.tag === r);
        if (!c) {
          const e = t.schema.knownTags[r];
          if (!e || e.collection !== l)
            return o(s.range[0], `Unresolved tag: ${r}`, !0), (s.tag = r), s;
          t.schema.tags.push(Object.assign({}, e, { default: !1 })), (c = e);
        }
        const u = c.resolve(s, (e) => o(s.range[0], e), t.options),
          h = Pp(u) ? u : new Wp(u);
        return (
          (h.range = s.range),
          (h.tag = r),
          (null == c ? void 0 : c.format) && (h.format = c.format),
          h
        );
      }
      function xf(e, t, n) {
        const i = (function ({ offset: e, props: t }, n, i) {
          if ("block-scalar-header" !== t[0].type)
            return i(e, "Block scalar header not found"), null;
          const { source: r } = t[0],
            o = r[0];
          let s = 0,
            a = "",
            l = -1;
          for (let t = 1; t < r.length; ++t) {
            const n = r[t];
            if (a || ("-" !== n && "+" !== n)) {
              const i = Number(n);
              !s && i ? (s = i) : -1 === l && (l = e + t);
            } else a = n;
          }
          -1 !== l &&
            i(l, `Block scalar header includes extra characters: ${r}`);
          let c = !1,
            u = "",
            h = r.length;
          for (let r = 1; r < t.length; ++r) {
            const o = t[r];
            switch (o.type) {
              case "space":
                c = !0;
              case "newline":
                h += o.source.length;
                break;
              case "comment":
                if (n && !c) {
                  i(
                    e + h,
                    "Comments must be separated from other tokens by white space characters"
                  );
                }
                (h += o.source.length), (u = o.source.substring(1));
                break;
              case "error":
                i(e + h, o.message), (h += o.source.length);
                break;
              default: {
                i(e + h, `Unexpected token in block scalar header: ${o.type}`);
                const t = o.source;
                t && "string" == typeof t && (h += t.length);
              }
            }
          }
          return { mode: o, indent: s, chomp: a, comment: u, length: h };
        })(e, t, n);
        if (!i) return { value: "", type: null, comment: "", length: 0 };
        const r = ">" === i.mode ? Wp.BLOCK_FOLDED : Wp.BLOCK_LITERAL,
          o = e.source
            ? (function (e) {
                const t = e.split(/\n( *)/),
                  n = t[0],
                  i = n.match(/^( *)/),
                  r = [i && i[1] ? [i[1], n.slice(i[1].length)] : ["", n]];
                for (let e = 1; e < t.length; e += 2) r.push([t[e], t[e + 1]]);
                return r;
              })(e.source)
            : [];
        let s = o.length;
        for (let e = o.length - 1; e >= 0; --e) {
          const t = o[e][1];
          if ("" !== t && "\r" !== t) break;
          s = e;
        }
        if (!e.source || 0 === s) {
          const t = "+" === i.chomp ? o.map((e) => e[0]).join("\n") : "";
          let n = i.length;
          return (
            e.source && (n += e.source.length),
            { value: t, type: r, comment: i.comment, length: n }
          );
        }
        let a = e.indent + i.indent,
          l = e.offset + i.length,
          c = 0;
        for (let e = 0; e < s; ++e) {
          const [t, r] = o[e];
          if ("" !== r && "\r" !== r) {
            if (t.length < a) {
              const e =
                "Block scalars with more-indented leading empty lines must use an explicit indentation indicator";
              n(l + t.length, e);
            }
            0 === i.indent && (a = t.length), (c = e);
            break;
          }
          0 === i.indent && t.length > a && (a = t.length),
            (l += t.length + r.length + 1);
        }
        let u = "",
          h = "",
          p = !1;
        for (let e = 0; e < c; ++e) u += o[e][0].slice(a) + "\n";
        for (let e = c; e < s; ++e) {
          let [t, s] = o[e];
          l += t.length + s.length + 1;
          const c = "\r" === s[s.length - 1];
          if ((c && (s = s.slice(0, -1)), s && t.length < a)) {
            const e = `Block scalar lines must not be less indented than their ${
              i.indent ? "explicit indentation indicator" : "first line"
            }`;
            n(l - s.length - (c ? 2 : 1), e), (t = "");
          }
          r === Wp.BLOCK_LITERAL
            ? ((u += h + t.slice(a) + s), (h = "\n"))
            : t.length > a || "\t" === s[0]
            ? (" " === h ? (h = "\n") : p || "\n" !== h || (h = "\n\n"),
              (u += h + t.slice(a) + s),
              (h = "\n"),
              (p = !0))
            : "" === s
            ? "\n" === h
              ? (u += "\n")
              : (h = "\n")
            : ((u += h + s), (h = " "), (p = !1));
        }
        switch (i.chomp) {
          case "-":
            break;
          case "+":
            for (let e = s; e < o.length; ++e) u += "\n" + o[e][0].slice(a);
            "\n" !== u[u.length - 1] && (u += "\n");
            break;
          default:
            u += "\n";
        }
        return {
          value: u,
          type: r,
          comment: i.comment,
          length: i.length + e.source.length,
        };
      }
      function Sf({ offset: e, type: t, source: n, end: i }, r, o) {
        let s, a;
        const l = (t, n) => o(e + t, n);
        switch (t) {
          case "scalar":
            (s = Wp.PLAIN),
              (a = (function (e, t) {
                switch (e[0]) {
                  case "\t":
                    t(0, "Plain value cannot start with a tab character");
                    break;
                  case "|":
                  case ">":
                    t(
                      0,
                      `Plain value cannot start with block scalar indicator ${e[0]}`
                    );
                    break;
                  case "@":
                  case "`":
                    t(
                      0,
                      `Plain value cannot start with reserved character ${e[0]}`
                    );
                    break;
                }
                return Ef(e.trim());
              })(n, l));
            break;
          case "single-quoted-scalar":
            (s = Wp.QUOTE_SINGLE),
              (a = (function (e, t) {
                ("'" === e[e.length - 1] && 1 !== e.length) ||
                  t(e.length, "Missing closing 'quote");
                return Ef(e.slice(1, -1)).replace(/''/g, "'");
              })(n, l));
            break;
          case "double-quoted-scalar":
            (s = Wp.QUOTE_DOUBLE),
              (a = (function (e, t) {
                let n = "";
                for (let i = 1; i < e.length - 1; ++i) {
                  const r = e[i];
                  if ("\r" !== r || "\n" !== e[i + 1])
                    if ("\n" === r) {
                      const { fold: t, offset: r } = Mf(e, i);
                      (n += t), (i = r);
                    } else if ("\\" === r) {
                      let r = e[++i];
                      const o = Lf[r];
                      if (o) n += o;
                      else if ("\n" === r)
                        for (r = e[i + 1]; " " === r || "\t" === r; )
                          r = e[1 + ++i];
                      else if ("x" === r || "u" === r || "U" === r) {
                        const o = { x: 2, u: 4, U: 8 }[r];
                        (n += Af(e, i + 1, o, t)), (i += o);
                      } else {
                        const r = e.substr(i - 1, 2);
                        t(i - 1, `Invalid escape sequence ${r}`), (n += r);
                      }
                    } else if (" " === r || "\t" === r) {
                      const t = i;
                      let o = e[i + 1];
                      for (; " " === o || "\t" === o; ) o = e[1 + ++i];
                      "\n" !== o && (n += i > t ? e.slice(t, i + 1) : r);
                    } else n += r;
                }
                ('"' === e[e.length - 1] && 1 !== e.length) ||
                  t(e.length, 'Missing closing "quote');
                return n;
              })(n, l));
            break;
          default:
            return (
              o(e, `Expected a flow scalar value, but found: ${t}`),
              { value: "", type: null, comment: "", length: n.length }
            );
        }
        const c = kf(i, 0, r, l);
        return {
          value: a,
          type: s,
          comment: c.comment,
          length: n.length + c.offset,
        };
      }
      function Ef(e) {
        const t = e.split(/[ \t]*\r?\n[ \t]*/);
        let n = t[0],
          i = " ";
        for (let e = 1; e < t.length - 1; ++e) {
          const r = t[e];
          "" === r
            ? "\n" === i
              ? (n += i)
              : (i = "\n")
            : ((n += i + r), (i = " "));
        }
        return t.length > 1 && (n += i + t[t.length - 1]), n;
      }
      function Mf(e, t) {
        let n = "",
          i = e[t + 1];
        for (
          ;
          !(
            (" " !== i && "\t" !== i && "\n" !== i && "\r" !== i) ||
            ("\r" === i && "\n" !== e[t + 2])
          );

        )
          "\n" === i && (n += "\n"), (i = e[(t += 1) + 1]);
        return n || (n = " "), { fold: n, offset: t };
      }
      const Lf = {
        0: "\0",
        a: "",
        b: "\b",
        e: "",
        f: "\f",
        n: "\n",
        r: "\r",
        t: "\t",
        v: "\v",
        N: "",
        _: " ",
        L: "\u2028",
        P: "\u2029",
        " ": " ",
        '"': '"',
        "/": "/",
        "\\": "\\",
        "\t": "\t",
      };
      function Af(e, t, n, i) {
        const r = e.substr(t, n),
          o =
            r.length === n && /^[0-9a-fA-F]+$/.test(r) ? parseInt(r, 16) : NaN;
        if (isNaN(o)) {
          const r = e.substr(t - 2, n + 2);
          return i(t - 2, `Invalid escape sequence ${r}`), r;
        }
        return String.fromCodePoint(o);
      }
      function Df(e, t, n, i, r) {
        const { offset: o } = t,
          {
            value: s,
            type: a,
            comment: l,
            length: c,
          } = "block-scalar" === t.type
            ? xf(t, e.options.strict, r)
            : Sf(t, e.options.strict, r),
          u = i
            ? (function (e, t, n, i) {
                var r;
                if ("!" === n) return Tf(e);
                const o = [];
                for (const t of e.tags)
                  if (!t.collection && t.tag === n) {
                    if (!t.default || !t.test) return t;
                    o.push(t);
                  }
                for (const e of o)
                  if (
                    null === (r = e.test) || void 0 === r ? void 0 : r.test(t)
                  )
                    return e;
                const s = e.knownTags[n];
                if (s && !s.collection)
                  return (
                    e.tags.push(
                      Object.assign({}, s, { default: !1, test: void 0 })
                    ),
                    s
                  );
                return (
                  i(0, `Unresolved tag: ${n}`, "tag:yaml.org,2002:str" !== n),
                  Tf(e)
                );
              })(e.schema, s, i, r)
            : (function (e, t, n) {
                var i;
                if (n)
                  for (const n of e.tags)
                    if (
                      n.default &&
                      (null === (i = n.test) || void 0 === i
                        ? void 0
                        : i.test(t))
                    )
                      return n;
                return Tf(e);
              })(e.schema, s, "scalar" === t.type);
        let h;
        try {
          const t = u ? u.resolve(s, (e) => r(o, e), e.options) : s;
          h = Ap(t) ? t : new Wp(t);
        } catch (e) {
          r(o, e.message), (h = new Wp(s));
        }
        return (
          (h.range = [o, o + c]),
          (h.source = s),
          a && (h.type = a),
          i && (h.tag = i),
          (null == u ? void 0 : u.format) && (h.format = u.format),
          l && (h.comment = l),
          n && e.anchors.setAnchor(h, n),
          h
        );
      }
      const Tf = (e) =>
        e.tags.find((e) => !e.collection && "tag:yaml.org,2002:str" === e.tag);
      function Pf(e, t, n) {
        if (t) {
          null === n && (n = t.length);
          for (let i = n - 1; i >= 0; --i) {
            let n = t[i];
            switch (n.type) {
              case "space":
              case "comment":
              case "newline":
                e -= n.source.length;
                continue;
            }
            for (n = t[++i]; "space" === (null == n ? void 0 : n.type); )
              (e += n.source.length), (n = t[++i]);
            break;
          }
        }
        return e;
      }
      const Of = { composeNode: Ff, composeEmptyNode: If };
      function Ff(e, t, n, i) {
        const { spaceBefore: r, comment: o, anchor: s, tagName: a } = n;
        let l;
        switch (t.type) {
          case "alias":
            (l = (function (e, { offset: t, source: n, end: i }, r) {
              const o = n.substring(1),
                s = e.anchors.getNode(o);
              s || r(t, `Aliased anchor not found: ${o}`);
              const a = new qp(s),
                l = kf(i, t + n.length, e.options.strict, r);
              (a.range = [t, l.offset]), l.comment && (a.comment = l.comment);
              return a;
            })(e, t, i)),
              (s || a) &&
                i(t.offset, "An alias node must not specify any properties");
            break;
          case "scalar":
          case "single-quoted-scalar":
          case "double-quoted-scalar":
          case "block-scalar":
            l = Df(e, t, s, a, i);
            break;
          case "block-map":
          case "block-seq":
          case "flow-collection":
            l = Cf(Of, e, t, s, a, i);
            break;
          default:
            throw (
              (console.log(t), new Error(`Unsupporten token type: ${t.type}`))
            );
        }
        return (
          r && (l.spaceBefore = !0),
          o &&
            ("scalar" === t.type && "" === t.source
              ? (l.comment = o)
              : (l.commentBefore = o)),
          l
        );
      }
      function If(
        e,
        t,
        n,
        i,
        { spaceBefore: r, comment: o, anchor: s, tagName: a },
        l
      ) {
        const c = Df(
          e,
          { type: "scalar", offset: Pf(t, n, i), indent: -1, source: "" },
          s,
          a,
          l
        );
        return r && (c.spaceBefore = !0), o && (c.comment = o), c;
      }
      function Nf(e) {
        let t = "",
          n = !1,
          i = !1;
        for (let r = 0; r < e.length; ++r) {
          const o = e[r];
          switch (o[0]) {
            case "#":
              (t += ("" === t ? "" : i ? "\n\n" : "\n") + o.substring(1)),
                (n = !0),
                (i = !1);
              break;
            case "%":
              "#" !== e[r + 1][0] && (r += 1), (n = !1);
              break;
            default:
              n || (i = !0), (n = !1);
          }
        }
        return { comment: t, afterEmptyLine: i };
      }
      class Bf {
        constructor(e, t = {}) {
          (this.doc = null),
            (this.atDirectives = !1),
            (this.prelude = []),
            (this.errors = []),
            (this.warnings = []),
            (this.onError = (e, t, n) => {
              n
                ? this.warnings.push(new mf(e, t))
                : this.errors.push(new gf(e, t));
            }),
            (this.next = (e) => {
              switch (e.type) {
                case "directive":
                  this.directives.add(e.source, this.onError),
                    this.prelude.push(e.source),
                    (this.atDirectives = !0);
                  break;
                case "document": {
                  const t = (function (
                    e,
                    t,
                    { offset: n, start: i, value: r, end: o },
                    s
                  ) {
                    const a = Object.assign({ directives: t }, e),
                      l = new pf(void 0, a),
                      c = yf(l, i, !0, "doc-start", n, s);
                    c.found && (l.directives.marker = !0),
                      (l.contents = r
                        ? Ff(l, r, c, s)
                        : If(l, n + c.length, i, null, c, s));
                    const u = kf(o, l.contents.range[1], !1, s);
                    return (
                      u.comment && (l.comment = u.comment),
                      (l.range = [n, u.offset]),
                      l
                    );
                  })(this.options, this.directives, e, this.onError);
                  this.decorate(t, !1),
                    this.doc && this.onDocument(this.doc),
                    (this.doc = t),
                    (this.atDirectives = !1);
                  break;
                }
                case "byte-order-mark":
                case "space":
                  break;
                case "comment":
                case "newline":
                  this.prelude.push(e.source);
                  break;
                case "error": {
                  const t = e.source
                      ? `${e.message}: ${JSON.stringify(e.source)}`
                      : e.message,
                    n = new gf(-1, t);
                  this.atDirectives || !this.doc
                    ? this.errors.push(n)
                    : this.doc.errors.push(n);
                  break;
                }
                case "doc-end": {
                  if (!this.doc) {
                    const t = "Unexpected doc-end without preceding document";
                    this.errors.push(new gf(e.offset, t));
                    break;
                  }
                  const t = kf(
                    e.end,
                    e.offset + e.source.length,
                    this.doc.options.strict,
                    this.onError
                  );
                  if ((this.decorate(this.doc, !0), t.comment)) {
                    const e = this.doc.comment;
                    this.doc.comment = e ? `${e}\n${t.comment}` : t.comment;
                  }
                  this.doc.range[1] = t.offset;
                  break;
                }
                default:
                  this.errors.push(new gf(-1, `Unsupported token ${e.type}`));
              }
            }),
            (this.directives = new Hp({
              version: (null == t ? void 0 : t.version) || dd.version,
            })),
            (this.onDocument = e),
            (this.options = t);
        }
        decorate(e, t) {
          const { comment: n, afterEmptyLine: i } = Nf(this.prelude);
          if (n) {
            const r = e.contents;
            if (t) e.comment = e.comment ? `${e.comment}\n${n}` : n;
            else if (i || e.directives.marker || !r) e.commentBefore = n;
            else if (Tp(r) && !r.flow && r.items.length > 0) {
              const e = r.items[0],
                t = e.commentBefore;
              e.commentBefore = t ? `${n}\n${t}` : n;
            } else {
              const e = r.commentBefore;
              r.commentBefore = e ? `${n}\n${e}` : n;
            }
          }
          t
            ? (Array.prototype.push.apply(e.errors, this.errors),
              Array.prototype.push.apply(e.warnings, this.warnings))
            : ((e.errors = this.errors), (e.warnings = this.warnings)),
            (this.prelude = []),
            (this.errors = []),
            (this.warnings = []);
        }
        streamInfo() {
          return {
            comment: Nf(this.prelude).comment,
            directives: this.directives,
            errors: this.errors,
            warnings: this.warnings,
          };
        }
        end(e = !1, t = -1) {
          if (this.doc)
            this.decorate(this.doc, !0),
              this.onDocument(this.doc),
              (this.doc = null);
          else if (e) {
            const e = Object.assign(
                { directives: this.directives },
                this.options
              ),
              n = new pf(void 0, e);
            this.atDirectives &&
              this.onError(t, "Missing directives-end indicator line"),
              (n.range = [0, t]),
              this.decorate(n, !1),
              this.onDocument(n);
          }
        }
      }
      class Rf {
        constructor() {
          (this.lineStarts = []),
            (this.addNewLine = (e) => this.lineStarts.push(e)),
            (this.linePos = (e) => {
              let t = 0,
                n = this.lineStarts.length;
              for (; t < n; ) {
                const i = (t + n) >> 1;
                this.lineStarts[i] < e ? (t = i + 1) : (n = i);
              }
              if (this.lineStarts[t] === e) return { line: t + 1, col: 1 };
              if (0 === t) return { line: 0, col: e };
              return { line: t, col: e - this.lineStarts[t - 1] + 1 };
            });
        }
      }
      const zf = "";
      function Hf(e) {
        switch (e) {
          case void 0:
          case " ":
          case "\n":
          case "\r":
          case "\t":
            return !0;
          default:
            return !1;
        }
      }
      const Vf = [",", "[", "]", "{", "}"],
        qf = [" ", ",", "[", "]", "{", "}", "\n", "\r", "\t"],
        jf = (e) => !e || qf.includes(e);
      class Uf {
        constructor(e) {
          (this.atEnd = !1),
            (this.blockScalarIndent = -1),
            (this.blockScalarKeep = !1),
            (this.buffer = ""),
            (this.flowKey = !1),
            (this.flowLevel = 0),
            (this.indentNext = 0),
            (this.indentValue = 0),
            (this.next = null),
            (this.pos = 0),
            (this.push = e);
        }
        lex(e, t) {
          e && (this.buffer = this.buffer ? this.buffer + e : e),
            (this.atEnd = !t);
          let n = this.next || "stream";
          for (; n && (t || this.hasChars(1)); ) n = this.parseNext(n);
        }
        atLineEnd() {
          let e = this.pos,
            t = this.buffer[e];
          for (; " " === t || "\t" === t; ) t = this.buffer[++e];
          return (
            !t ||
            "#" === t ||
            "\n" === t ||
            ("\r" === t && "\n" === this.buffer[e + 1])
          );
        }
        charAt(e) {
          return this.buffer[this.pos + e];
        }
        continueScalar(e) {
          let t = this.buffer[e];
          if (this.indentNext > 0) {
            let n = 0;
            for (; " " === t; ) t = this.buffer[++n + e];
            if ("\r" === t) {
              const t = this.buffer[n + e + 1];
              if ("\n" === t || (!t && !this.atEnd)) return e + n + 1;
            }
            return "\n" === t || n >= this.indentNext || (!t && !this.atEnd)
              ? e + n
              : -1;
          }
          if ("-" === t || "." === t) {
            const t = this.buffer.substr(e, 3);
            if (("---" === t || "..." === t) && Hf(this.buffer[e + 3]))
              return -1;
          }
          return e;
        }
        getLine() {
          let e = this.buffer.indexOf("\n", this.pos);
          return -1 === e
            ? this.atEnd
              ? this.buffer.substring(this.pos)
              : null
            : ("\r" === this.buffer[e - 1] && (e -= 1),
              this.buffer.substring(this.pos, e));
        }
        hasChars(e) {
          return this.pos + e <= this.buffer.length;
        }
        setNext(e) {
          return (
            (this.buffer = this.buffer.substring(this.pos)),
            (this.pos = 0),
            (this.next = e),
            null
          );
        }
        peek(e) {
          return this.buffer.substr(this.pos, e);
        }
        parseNext(e) {
          switch (e) {
            case "stream":
              return this.parseStream();
            case "line-start":
              return this.parseLineStart();
            case "block-start":
              return this.parseBlockStart();
            case "doc":
              return this.parseDocument();
            case "flow":
              return this.parseFlowCollection();
            case "quoted-scalar":
              return this.parseQuotedScalar();
            case "block-scalar":
              return this.parseBlockScalar();
            case "plain-scalar":
              return this.parsePlainScalar();
          }
        }
        parseStream() {
          let e = this.getLine();
          if (null === e) return this.setNext("stream");
          if (
            ("\ufeff" === e[0] && (this.pushCount(1), (e = e.substring(1))),
            "%" === e[0])
          ) {
            let t = e.length;
            const n = e.indexOf("#");
            if (-1 !== n) {
              const i = e[n - 1];
              (" " !== i && "\t" !== i) || (t = n - 1);
            }
            for (;;) {
              const n = e[t - 1];
              if (" " !== n && "\t" !== n) break;
              t -= 1;
            }
            const i = this.pushCount(t) + this.pushSpaces(!0);
            return this.pushCount(e.length - i), this.pushNewline(), "stream";
          }
          if (this.atLineEnd()) {
            const t = this.pushSpaces(!0);
            return this.pushCount(e.length - t), this.pushNewline(), "stream";
          }
          return this.push(""), this.parseLineStart();
        }
        parseLineStart() {
          const e = this.charAt(0);
          if (!e && !this.atEnd) return this.setNext("line-start");
          if ("-" === e || "." === e) {
            if (!this.atEnd && !this.hasChars(4))
              return this.setNext("line-start");
            const e = this.peek(3);
            if ("---" === e && Hf(this.charAt(3)))
              return (
                this.pushCount(3),
                (this.indentValue = 0),
                (this.indentNext = 0),
                "doc"
              );
            if ("..." === e && Hf(this.charAt(3)))
              return this.pushCount(3), "stream";
          }
          return (
            (this.indentValue = this.pushSpaces(!1)),
            this.indentNext > this.indentValue &&
              !Hf(this.charAt(1)) &&
              (this.indentNext = this.indentValue),
            this.parseBlockStart()
          );
        }
        parseBlockStart() {
          const [e, t] = this.peek(2);
          if (!t && !this.atEnd) return this.setNext("block-start");
          if (("-" === e || "?" === e || ":" === e) && Hf(t)) {
            const e = this.pushCount(1) + this.pushSpaces(!0);
            return (
              (this.indentNext = this.indentValue + 1),
              (this.indentValue += e),
              this.parseBlockStart()
            );
          }
          return "doc";
        }
        parseDocument() {
          this.pushSpaces(!0);
          const e = this.getLine();
          if (null === e) return this.setNext("doc");
          let t = this.pushIndicators();
          switch (e[t]) {
            case "#":
              this.pushCount(e.length - t);
            case void 0:
              return this.pushNewline(), this.parseLineStart();
            case "{":
            case "[":
              return (
                this.pushCount(1),
                (this.flowKey = !1),
                (this.flowLevel = 1),
                "flow"
              );
            case "}":
            case "]":
              return this.pushCount(1), "doc";
            case "*":
              return this.pushUntil(jf), "doc";
            case '"':
            case "'":
              return this.parseQuotedScalar();
            case "|":
            case ">":
              return (
                (t += this.parseBlockScalarHeader()),
                (t += this.pushSpaces(!0)),
                this.pushCount(e.length - t),
                this.pushNewline(),
                this.parseBlockScalar()
              );
            default:
              return this.parsePlainScalar();
          }
        }
        parseFlowCollection() {
          let e,
            t,
            n = -1;
          do {
            (e = this.pushNewline()),
              (t = this.pushSpaces(!0)),
              e > 0 && (this.indentValue = n = t);
          } while (e + t > 0);
          const i = this.getLine();
          if (null === i) return this.setNext("flow");
          if (
            (-1 !== n && n < this.indentNext) ||
            (0 === n &&
              (i.startsWith("---") || i.startsWith("...")) &&
              Hf(i[3]))
          ) {
            if (
              !(
                n === this.indentNext - 1 &&
                1 === this.flowLevel &&
                ("]" === i[0] || "}" === i[0])
              )
            )
              return (this.flowLevel = 0), this.push(""), this.parseLineStart();
          }
          let r = 0;
          for (; "," === i[r]; ) r += this.pushCount(1) + this.pushSpaces(!0);
          switch (((r += this.pushIndicators()), i[r])) {
            case void 0:
              return "flow";
            case "#":
              return this.pushCount(i.length - r), "flow";
            case "{":
            case "[":
              return (
                this.pushCount(1),
                (this.flowKey = !1),
                (this.flowLevel += 1),
                "flow"
              );
            case "}":
            case "]":
              return (
                this.pushCount(1),
                (this.flowKey = !0),
                (this.flowLevel -= 1),
                this.flowLevel ? "flow" : "doc"
              );
            case "*":
              return this.pushUntil(jf), "flow";
            case '"':
            case "'":
              return (this.flowKey = !0), this.parseQuotedScalar();
            case ":": {
              const e = this.charAt(1);
              if (this.flowKey || Hf(e) || "," === e)
                return this.pushCount(1), this.pushSpaces(!0), "flow";
            }
            default:
              return (this.flowKey = !1), this.parsePlainScalar();
          }
        }
        parseQuotedScalar() {
          const e = this.charAt(0);
          let t = this.buffer.indexOf(e, this.pos + 1);
          if ("'" === e)
            for (; -1 !== t && "'" === this.buffer[t + 1]; )
              t = this.buffer.indexOf("'", t + 2);
          else
            for (; -1 !== t; ) {
              let e = 0;
              for (; "\\" === this.buffer[t - 1 - e]; ) e += 1;
              if (e % 2 == 0) break;
              t = this.buffer.indexOf('"', t + 1);
            }
          let n = this.buffer.indexOf("\n", this.pos);
          if (-1 !== n && n < t) {
            for (; -1 !== n && n < t; ) {
              const e = this.continueScalar(n + 1);
              if (-1 === e) break;
              n = this.buffer.indexOf("\n", e);
            }
            -1 !== n && n < t && (t = n - 1);
          }
          if (-1 === t) {
            if (!this.atEnd) return this.setNext("quoted-scalar");
            t = this.buffer.length;
          }
          return this.pushToIndex(t + 1, !1), this.flowLevel ? "flow" : "doc";
        }
        parseBlockScalarHeader() {
          (this.blockScalarIndent = -1), (this.blockScalarKeep = !1);
          let e = this.pos;
          for (;;) {
            const t = this.buffer[++e];
            if ("+" === t) this.blockScalarKeep = !0;
            else if (t > "0" && t <= "9")
              this.blockScalarIndent = Number(t) - 1;
            else if ("-" !== t) break;
          }
          return this.pushUntil((e) => Hf(e) || "#" === e);
        }
        parseBlockScalar() {
          let e,
            t = this.pos - 1,
            n = 0;
          e: for (let i = this.pos; (e = this.buffer[i]); ++i)
            switch (e) {
              case " ":
                n += 1;
                break;
              case "\n":
                (t = i), (n = 0);
                break;
              case "\r": {
                const e = this.buffer[i + 1];
                if (!e && !this.atEnd) return this.setNext("block-scalar");
                if ("\n" === e) break;
              }
              default:
                break e;
            }
          if (!e && !this.atEnd) return this.setNext("block-scalar");
          if (n >= this.indentNext) {
            -1 === this.blockScalarIndent
              ? (this.indentNext = n)
              : (this.indentNext += this.blockScalarIndent);
            do {
              const e = this.continueScalar(t + 1);
              if (-1 === e) break;
              t = this.buffer.indexOf("\n", e);
            } while (-1 !== t);
            if (-1 === t) {
              if (!this.atEnd) return this.setNext("block-scalar");
              t = this.buffer.length;
            }
          }
          if (!this.blockScalarKeep)
            for (;;) {
              let e = t - 1,
                n = this.buffer[e];
              for (
                "\r" === n && (n = this.buffer[--e]);
                " " === n || "\t" === n;

              )
                n = this.buffer[--e];
              if (!("\n" === n && e >= this.pos)) break;
              t = e;
            }
          return (
            this.push(zf), this.pushToIndex(t + 1, !0), this.parseLineStart()
          );
        }
        parsePlainScalar() {
          const e = this.flowLevel > 0;
          let t,
            n = this.pos - 1,
            i = this.pos - 1;
          for (; (t = this.buffer[++i]); )
            if (":" === t) {
              const t = this.buffer[i + 1];
              if (Hf(t) || (e && "," === t)) break;
              n = i;
            } else if (Hf(t)) {
              const r = this.buffer[i + 1];
              if ("#" === r || (e && Vf.includes(r))) break;
              if (
                ("\r" === t && ("\n" === r ? ((i += 1), (t = "\n")) : (n = i)),
                "\n" === t)
              ) {
                const e = this.continueScalar(i + 1);
                if (-1 === e) break;
                i = Math.max(i, e - 2);
              }
            } else {
              if (e && Vf.includes(t)) break;
              n = i;
            }
          return t || this.atEnd
            ? (this.push(zf), this.pushToIndex(n + 1, !0), e ? "flow" : "doc")
            : this.setNext("plain-scalar");
        }
        pushCount(e) {
          return e > 0
            ? (this.push(this.buffer.substr(this.pos, e)), (this.pos += e), e)
            : 0;
        }
        pushToIndex(e, t) {
          const n = this.buffer.slice(this.pos, e);
          return n
            ? (this.push(n), (this.pos += n.length), n.length)
            : (t && this.push(""), 0);
        }
        pushIndicators() {
          switch (this.charAt(0)) {
            case "!":
              if ("<" === this.charAt(1))
                return (
                  this.pushVerbatimTag() +
                  this.pushSpaces(!0) +
                  this.pushIndicators()
                );
            case "&":
              return (
                this.pushUntil(jf) + this.pushSpaces(!0) + this.pushIndicators()
              );
            case ":":
            case "?":
            case "-":
              if (Hf(this.charAt(1)))
                return (
                  0 === this.flowLevel &&
                    (this.indentNext = this.indentValue + 1),
                  this.pushCount(1) +
                    this.pushSpaces(!0) +
                    this.pushIndicators()
                );
          }
          return 0;
        }
        pushVerbatimTag() {
          let e = this.pos + 2,
            t = this.buffer[e];
          for (; !Hf(t) && ">" !== t; ) t = this.buffer[++e];
          return this.pushToIndex(">" === t ? e + 1 : e, !1);
        }
        pushNewline() {
          const e = this.buffer[this.pos];
          return "\n" === e
            ? this.pushCount(1)
            : "\r" === e && "\n" === this.charAt(1)
            ? this.pushCount(2)
            : 0;
        }
        pushSpaces(e) {
          let t,
            n = this.pos - 1;
          do {
            t = this.buffer[++n];
          } while (" " === t || (e && "\t" === t));
          const i = n - this.pos;
          return (
            i > 0 &&
              (this.push(this.buffer.substr(this.pos, i)), (this.pos = n)),
            i
          );
        }
        pushUntil(e) {
          let t = this.pos,
            n = this.buffer[t];
          for (; !e(n); ) n = this.buffer[++t];
          return this.pushToIndex(t, !1);
        }
      }
      function Wf(e, t) {
        for (let n = 0; n < e.length; ++n) if (e[n].type === t) return !0;
        return !1;
      }
      function _f(e) {
        for (let t = 0; t < e.length; ++t)
          switch (e[t].type) {
            case "space":
            case "comment":
            case "newline":
              break;
            default:
              return !0;
          }
        return !1;
      }
      function Gf(e) {
        let t = !1;
        for (let n = 0; n < e.length; ++n)
          switch (e[n].type) {
            case "space":
              break;
            case "comment":
              t = !0;
              break;
            case "newline":
              if (!t) return !1;
              break;
            default:
              return !1;
          }
        if (t)
          for (let t = e.length - 1; t >= 0; --t)
            switch (e[t].type) {
              case "space":
                break;
              case "newline":
                return !0;
              default:
                return !1;
            }
        return !1;
      }
      function Kf(e) {
        switch (e.type) {
          case "document":
            return e.start;
          case "block-map": {
            const t = e.items[e.items.length - 1];
            return t.sep || t.start;
          }
          case "block-seq":
            return e.items[e.items.length - 1].start;
          default:
            return [];
        }
      }
      function $f(e) {
        var t;
        if (0 === e.length) return [];
        let n = e.length;
        e: for (; --n >= 0; )
          switch (e[n].type) {
            case "explicit-key-ind":
            case "map-value-ind":
            case "seq-item-ind":
            case "newline":
              break e;
          }
        for (
          ;
          "space" === (null === (t = e[++n]) || void 0 === t ? void 0 : t.type);

        );
        return e.splice(n, e.length);
      }
      class Yf {
        constructor(e, t) {
          (this.atNewLine = !0),
            (this.atScalar = !1),
            (this.indent = 0),
            (this.offset = 0),
            (this.onKeyLine = !1),
            (this.stack = []),
            (this.source = ""),
            (this.type = ""),
            (this.next = (e) => {
              if (((this.source = e), this.atScalar))
                return (
                  (this.atScalar = !1),
                  this.step(),
                  void (this.offset += e.length)
                );
              const t = (function (e) {
                switch (e) {
                  case "\ufeff":
                    return "byte-order-mark";
                  case "":
                    return "doc-mode";
                  case "":
                    return "flow-error-end";
                  case zf:
                    return "scalar";
                  case "---":
                    return "doc-start";
                  case "...":
                    return "doc-end";
                  case "":
                  case "\n":
                  case "\r\n":
                    return "newline";
                  case "-":
                    return "seq-item-ind";
                  case "?":
                    return "explicit-key-ind";
                  case ":":
                    return "map-value-ind";
                  case "{":
                    return "flow-map-start";
                  case "}":
                    return "flow-map-end";
                  case "[":
                    return "flow-seq-start";
                  case "]":
                    return "flow-seq-end";
                  case ",":
                    return "comma";
                }
                switch (e[0]) {
                  case " ":
                  case "\t":
                    return "space";
                  case "#":
                    return "comment";
                  case "%":
                    return "directive-line";
                  case "*":
                    return "alias";
                  case "&":
                    return "anchor";
                  case "!":
                    return "tag";
                  case "'":
                    return "single-quoted-scalar";
                  case '"':
                    return "double-quoted-scalar";
                  case "|":
                  case ">":
                    return "block-scalar-header";
                }
                return null;
              })(e);
              if (t)
                if ("scalar" === t)
                  (this.atNewLine = !1),
                    (this.atScalar = !0),
                    (this.type = "scalar");
                else {
                  switch (((this.type = t), this.step(), t)) {
                    case "newline":
                      (this.atNewLine = !0),
                        (this.indent = 0),
                        this.onNewLine &&
                          this.onNewLine(this.offset + e.length);
                      break;
                    case "space":
                      this.atNewLine &&
                        " " === e[0] &&
                        (this.indent += e.length);
                      break;
                    case "explicit-key-ind":
                    case "map-value-ind":
                    case "seq-item-ind":
                      this.atNewLine && (this.indent += e.length);
                      break;
                    case "doc-mode":
                      return;
                    default:
                      this.atNewLine = !1;
                  }
                  this.offset += e.length;
                }
              else {
                const t = `Not a YAML token: ${e}`;
                this.pop({
                  type: "error",
                  offset: this.offset,
                  message: t,
                  source: e,
                }),
                  (this.offset += e.length);
              }
            }),
            (this.lexer = new Uf(this.next)),
            (this.push = e),
            (this.onNewLine = t);
        }
        parse(e, t = !1) {
          this.onNewLine && 0 === this.offset && this.onNewLine(0),
            this.lexer.lex(e, t),
            t || this.end();
        }
        end() {
          for (; this.stack.length > 0; ) this.pop();
        }
        get sourceToken() {
          return { type: this.type, indent: this.indent, source: this.source };
        }
        step() {
          const e = this.peek(1);
          if ("doc-end" !== this.type || (e && "doc-end" === e.type)) {
            if (!e) return this.stream();
            switch (e.type) {
              case "document":
                return this.document(e);
              case "alias":
              case "scalar":
              case "single-quoted-scalar":
              case "double-quoted-scalar":
                return this.scalar(e);
              case "block-scalar":
                return this.blockScalar(e);
              case "block-map":
                return this.blockMap(e);
              case "block-seq":
                return this.blockSequence(e);
              case "flow-collection":
                return this.flowCollection(e);
              case "doc-end":
                return this.documentEnd(e);
            }
            this.pop();
          } else {
            for (; this.stack.length > 0; ) this.pop();
            this.stack.push({
              type: "doc-end",
              offset: this.offset,
              source: this.source,
            });
          }
        }
        peek(e) {
          return this.stack[this.stack.length - e];
        }
        pop(e) {
          const t = e || this.stack.pop();
          if (t)
            if (0 === this.stack.length) this.push(t);
            else {
              const e = this.peek(1);
              switch (
                (("block-scalar" !== t.type && "flow-collection" !== t.type) ||
                  (t.indent = "indent" in e ? e.indent : -1),
                e.type)
              ) {
                case "document":
                  e.value = t;
                  break;
                case "block-scalar":
                  e.props.push(t);
                  break;
                case "block-map": {
                  const n = e.items[e.items.length - 1];
                  if (n.value)
                    return (
                      e.items.push({ start: [], key: t, sep: [] }),
                      void (this.onKeyLine = !0)
                    );
                  if (!n.sep)
                    return (
                      Object.assign(n, { key: t, sep: [] }),
                      void (this.onKeyLine = !Wf(n.start, "explicit-key-ind"))
                    );
                  n.value = t;
                  break;
                }
                case "block-seq": {
                  const n = e.items[e.items.length - 1];
                  n.value
                    ? e.items.push({ start: [], value: t })
                    : (n.value = t);
                  break;
                }
                case "flow-collection":
                  e.items.push(t);
                  break;
                default:
                  this.pop(), this.pop(t);
              }
              if (
                !(
                  ("document" !== e.type &&
                    "block-map" !== e.type &&
                    "block-seq" !== e.type) ||
                  ("block-map" !== t.type && "block-seq" !== t.type)
                )
              ) {
                const n = t.items[t.items.length - 1];
                n &&
                  !n.sep &&
                  !n.value &&
                  n.start.length > 0 &&
                  !_f(n.start) &&
                  (0 === t.indent ||
                    n.start.every(
                      (e) => "comment" !== e.type || e.indent < t.indent
                    )) &&
                  ("document" === e.type
                    ? (e.end = n.start)
                    : e.items.push({ start: n.start }),
                  t.items.splice(-1, 1));
              }
            }
          else {
            const e = "Tried to pop an empty stack";
            this.push({ type: "error", source: "", message: e });
          }
        }
        stream() {
          switch (this.type) {
            case "directive-line":
              return void this.push({ type: "directive", source: this.source });
            case "byte-order-mark":
            case "space":
            case "comment":
            case "newline":
              return void this.push(this.sourceToken);
            case "doc-mode":
            case "doc-start": {
              const e = { type: "document", offset: this.offset, start: [] };
              return (
                "doc-start" === this.type && e.start.push(this.sourceToken),
                void this.stack.push(e)
              );
            }
          }
          this.push({
            type: "error",
            offset: this.offset,
            message: `Unexpected ${this.type} token in YAML stream`,
            source: this.source,
          });
        }
        document(e) {
          if (e.value) return this.lineEnd(e);
          switch (this.type) {
            case "doc-start":
              return void (_f(e.start)
                ? (this.pop(), this.step())
                : e.start.push(this.sourceToken));
            case "anchor":
            case "tag":
            case "space":
            case "comment":
            case "newline":
              return void e.start.push(this.sourceToken);
          }
          const t = this.startBlockValue(e);
          t
            ? this.stack.push(t)
            : this.push({
                type: "error",
                offset: this.offset,
                message: `Unexpected ${this.type} token in YAML document`,
                source: this.source,
              });
        }
        scalar(e) {
          if ("map-value-ind" === this.type) {
            const t = $f(Kf(this.peek(2)));
            let n;
            e.end
              ? ((n = e.end), n.push(this.sourceToken), delete e.end)
              : (n = [this.sourceToken]);
            const i = {
              type: "block-map",
              offset: e.offset,
              indent: e.indent,
              items: [{ start: t, key: e, sep: n }],
            };
            (this.onKeyLine = !0), (this.stack[this.stack.length - 1] = i);
          } else this.lineEnd(e);
        }
        blockScalar(e) {
          switch (this.type) {
            case "space":
            case "comment":
            case "newline":
              return void e.props.push(this.sourceToken);
            case "scalar":
              if (
                ((e.source = this.source),
                (this.atNewLine = !0),
                (this.indent = 0),
                this.onNewLine)
              ) {
                let e = this.source.indexOf("\n") + 1;
                for (; 0 !== e; )
                  this.onNewLine(this.offset + e),
                    (e = this.source.indexOf("\n", e) + 1);
              }
              this.pop();
              break;
            default:
              this.pop(), this.step();
          }
        }
        blockMap(e) {
          var t;
          const n = e.items[e.items.length - 1];
          switch (this.type) {
            case "newline":
              if (((this.onKeyLine = !1), !n.sep && Gf(n.start))) {
                const i = e.items[e.items.length - 2],
                  r =
                    null === (t = null == i ? void 0 : i.value) || void 0 === t
                      ? void 0
                      : t.end;
                if (Array.isArray(r))
                  return (
                    Array.prototype.push.apply(r, n.start),
                    void (n.start = [this.sourceToken])
                  );
              }
            case "space":
            case "comment":
              return void (n.value
                ? e.items.push({ start: [this.sourceToken] })
                : n.sep
                ? n.sep.push(this.sourceToken)
                : n.start.push(this.sourceToken));
          }
          if (this.indent >= e.indent) {
            const t =
              !this.onKeyLine &&
              this.indent === e.indent &&
              (n.sep || _f(n.start));
            switch (this.type) {
              case "anchor":
              case "tag":
                return void (t || n.value
                  ? (e.items.push({ start: [this.sourceToken] }),
                    (this.onKeyLine = !0))
                  : n.sep
                  ? n.sep.push(this.sourceToken)
                  : n.start.push(this.sourceToken));
              case "explicit-key-ind":
                return (
                  n.sep || Wf(n.start, "explicit-key-ind")
                    ? t || n.value
                      ? e.items.push({ start: [this.sourceToken] })
                      : this.stack.push({
                          type: "block-map",
                          offset: this.offset,
                          indent: this.indent,
                          items: [{ start: [this.sourceToken] }],
                        })
                    : n.start.push(this.sourceToken),
                  void (this.onKeyLine = !0)
                );
              case "map-value-ind":
                if (n.sep)
                  if (n.value || (t && !Wf(n.start, "explicit-key-ind")))
                    e.items.push({
                      start: [],
                      key: null,
                      sep: [this.sourceToken],
                    });
                  else if (Wf(n.sep, "map-value-ind"))
                    this.stack.push({
                      type: "block-map",
                      offset: this.offset,
                      indent: this.indent,
                      items: [
                        { start: [], key: null, sep: [this.sourceToken] },
                      ],
                    });
                  else if (
                    Wf(n.start, "explicit-key-ind") &&
                    (function (e) {
                      switch (null == e ? void 0 : e.type) {
                        case "alias":
                        case "scalar":
                        case "single-quoted-scalar":
                        case "double-quoted-scalar":
                        case "flow-collection":
                          return !0;
                        default:
                          return !1;
                      }
                    })(n.key) &&
                    !Wf(n.sep, "newline")
                  ) {
                    const e = $f(n.start),
                      t = n.key,
                      i = n.sep;
                    i.push(this.sourceToken),
                      delete n.key,
                      delete n.sep,
                      this.stack.push({
                        type: "block-map",
                        offset: this.offset,
                        indent: this.indent,
                        items: [{ start: e, key: t, sep: i }],
                      });
                  } else n.sep.push(this.sourceToken);
                else Object.assign(n, { key: null, sep: [this.sourceToken] });
                return void (this.onKeyLine = !0);
              case "alias":
              case "scalar":
              case "single-quoted-scalar":
              case "double-quoted-scalar": {
                const i = this.flowScalar(this.type);
                return void (t || n.value
                  ? (e.items.push({ start: [], key: i, sep: [] }),
                    (this.onKeyLine = !0))
                  : n.sep
                  ? this.stack.push(i)
                  : (Object.assign(n, { key: i, sep: [] }),
                    (this.onKeyLine = !0)));
              }
              default: {
                const i = this.startBlockValue(e);
                if (i)
                  return (
                    t &&
                      "block-seq" !== i.type &&
                      Wf(n.start, "explicit-key-ind") &&
                      e.items.push({ start: [] }),
                    void this.stack.push(i)
                  );
              }
            }
          }
          this.pop(), this.step();
        }
        blockSequence(e) {
          var t;
          const n = e.items[e.items.length - 1];
          switch (this.type) {
            case "newline":
              if (!n.value && Gf(n.start)) {
                const i = e.items[e.items.length - 2],
                  r =
                    null === (t = null == i ? void 0 : i.value) || void 0 === t
                      ? void 0
                      : t.end;
                if (Array.isArray(r))
                  return (
                    Array.prototype.push.apply(r, n.start),
                    void (n.start = [this.sourceToken])
                  );
              }
            case "space":
            case "comment":
              return void (n.value
                ? e.items.push({ start: [this.sourceToken] })
                : n.start.push(this.sourceToken));
            case "anchor":
            case "tag":
              if (n.value || this.indent <= e.indent) break;
              return void n.start.push(this.sourceToken);
            case "seq-item-ind":
              if (this.indent !== e.indent) break;
              return void (n.value || Wf(n.start, "seq-item-ind")
                ? e.items.push({ start: [this.sourceToken] })
                : n.start.push(this.sourceToken));
          }
          if (this.indent > e.indent) {
            const t = this.startBlockValue(e);
            if (t) return this.stack.push(t);
          }
          this.pop(), this.step();
        }
        flowCollection(e) {
          if ("flow-error-end" === this.type) {
            let e;
            do {
              this.pop(), (e = this.peek(1));
            } while (e && "flow-collection" === e.type);
          } else if (0 === e.end.length) {
            switch (this.type) {
              case "space":
              case "comment":
              case "newline":
              case "comma":
              case "explicit-key-ind":
              case "map-value-ind":
              case "anchor":
              case "tag":
                return void e.items.push(this.sourceToken);
              case "alias":
              case "scalar":
              case "single-quoted-scalar":
              case "double-quoted-scalar":
                return void e.items.push(this.flowScalar(this.type));
              case "flow-map-end":
              case "flow-seq-end":
                return void e.end.push(this.sourceToken);
            }
            const t = this.startBlockValue(e);
            if (t) return this.stack.push(t);
            this.pop(), this.step();
          } else {
            const t = this.peek(2);
            if (
              "block-map" !== t.type ||
              ("map-value-ind" !== this.type &&
                ("newline" !== this.type || t.items[t.items.length - 1].sep))
            )
              if (
                "map-value-ind" === this.type &&
                "flow-collection" !== t.type
              ) {
                const n = $f(Kf(t)),
                  i = e.end.splice(1, e.end.length);
                i.push(this.sourceToken);
                const r = {
                  type: "block-map",
                  offset: e.offset,
                  indent: e.indent,
                  items: [{ start: n, key: e, sep: i }],
                };
                (this.onKeyLine = !0), (this.stack[this.stack.length - 1] = r);
              } else this.lineEnd(e);
            else this.pop(), this.step();
          }
        }
        flowScalar(e) {
          if (this.onNewLine) {
            let e = this.source.indexOf("\n") + 1;
            for (; 0 !== e; )
              this.onNewLine(this.offset + e),
                (e = this.source.indexOf("\n", e) + 1);
          }
          return {
            type: e,
            offset: this.offset,
            indent: this.indent,
            source: this.source,
          };
        }
        startBlockValue(e) {
          switch (this.type) {
            case "alias":
            case "scalar":
            case "single-quoted-scalar":
            case "double-quoted-scalar":
              return this.flowScalar(this.type);
            case "block-scalar-header":
              return {
                type: "block-scalar",
                offset: this.offset,
                indent: this.indent,
                props: [this.sourceToken],
              };
            case "flow-map-start":
            case "flow-seq-start":
              return {
                type: "flow-collection",
                offset: this.offset,
                indent: this.indent,
                start: this.sourceToken,
                items: [],
                end: [],
              };
            case "seq-item-ind":
              return {
                type: "block-seq",
                offset: this.offset,
                indent: this.indent,
                items: [{ start: [this.sourceToken] }],
              };
            case "explicit-key-ind":
              return (
                (this.onKeyLine = !0),
                {
                  type: "block-map",
                  offset: this.offset,
                  indent: this.indent,
                  items: [{ start: [this.sourceToken] }],
                }
              );
            case "map-value-ind": {
              this.onKeyLine = !0;
              const t = $f(Kf(e));
              return {
                type: "block-map",
                offset: this.offset,
                indent: this.indent,
                items: [{ start: t, key: null, sep: [this.sourceToken] }],
              };
            }
          }
          return null;
        }
        documentEnd(e) {
          "doc-mode" !== this.type &&
            (e.end
              ? e.end.push(this.sourceToken)
              : (e.end = [this.sourceToken]),
            "newline" === this.type && this.pop());
        }
        lineEnd(e) {
          switch (this.type) {
            case "comma":
            case "doc-start":
            case "doc-end":
            case "flow-seq-end":
            case "flow-map-end":
            case "map-value-ind":
              this.pop(), this.step();
              break;
            case "newline":
              this.onKeyLine = !1;
            case "space":
            case "comment":
            default:
              e.end
                ? e.end.push(this.sourceToken)
                : (e.end = [this.sourceToken]),
                "newline" === this.type && this.pop();
          }
        }
      }
      function Jf(e) {
        const t = !e || !1 !== e.prettyErrors;
        return {
          lineCounter: (e && e.lineCounter) || (t && new Rf()) || null,
          prettyErrors: t,
        };
      }
      function Qf(e, t, n) {
        let i;
        "function" == typeof t
          ? (i = t)
          : void 0 === n && t && "object" == typeof t && (n = t);
        const r = (function (e, t) {
          const { lineCounter: n, prettyErrors: i } = Jf(t);
          let r = null;
          const o = new Bf((e) => {
            if (r) {
              if ("silent" !== r.options.logLevel) {
                const t =
                  "Source contains multiple documents; please use YAML.parseAllDocuments()";
                r.errors.push(new gf(e.range[0], t));
              }
            } else r = e;
          }, t);
          return (
            new Yf(o.next, null == n ? void 0 : n.addNewLine).parse(e),
            o.end(!0, e.length),
            i &&
              n &&
              (r.errors.forEach(vf(e, n)), r.warnings.forEach(vf(e, n))),
            r
          );
        })(e, n);
        if (!r) return null;
        if (
          (r.warnings.forEach((e) => cd(r.options.logLevel, e)),
          r.errors.length > 0)
        ) {
          if ("silent" !== r.options.logLevel) throw r.errors[0];
          r.errors = [];
        }
        return r.toJS(Object.assign({ reviver: i }, n));
      }
      var Xf = n(5572),
        Zf = n(914),
        eg = n.n(Zf),
        tg = n(2854),
        ng = n.n(tg),
        ig = eg(),
        rg = Xf.Parser,
        og = (function () {
          function e() {
            this.transformers = [];
          }
          return (
            (e.prototype.addTransformer = function (e) {
              this.transformers.push(e);
            }),
            (e.prototype.removeTransformer = function (e) {
              for (var t = this.transformers, n = 0; n < t.length; )
                t[n] === e ? t.splice(n, 1) : n++;
            }),
            e
          );
        })();
      function sg(e, t, n, i, r) {
        i.locator = r;
        var o = e.prototype.inlineTokenizers,
          s = e.prototype.inlineMethods;
        (o[t] = i), s.splice(s.indexOf(n), 0, t);
      }
      function ag(e, t, n, i, r) {
        i.locator = r;
        var o = e.prototype.blockTokenizers,
          s = e.prototype.blockMethods;
        (o[t] = i), s.splice(s.indexOf(n), 0, t);
      }
      function lg(e, t, n) {
        for (var i = 0; i < e.length && e[i][0] !== t; i++);
        e.splice(i + 1, 0, [n]);
      }
      var cg = ng();
      var ug = 32,
        hg = 91;
      function pg(e, t, n, i) {
        for (var r = e.length, o = -1; ++o < r; )
          if (t[e[o][0]].apply(n, i)) return !0;
        return !1;
      }
      function dg(e) {
        if (!e) return "";
        var t = e.indexOf("|");
        return (
          -1 !== t && ("\\" === e.charAt(t - 1) && t--, (e = e.slice(0, t))),
          (e = e.trim())
        );
      }
      function fg(e) {
        return (
          !(!e.startsWith("./") && !e.startsWith("../")) ||
          -1 === e.indexOf(":")
        );
      }
      function gg(e) {
        try {
          return new URL(e).toString();
        } catch (e) {
          console.log(e);
        }
        return encodeURI(decodeURI(e));
      }
      function mg(e) {
        if ((e = e.trim()).startsWith("<")) {
          var t = e.indexOf(">");
          if (-1 !== t) return e.substring(1, t);
        }
        var n = /\s/.exec(e);
        return n ? e.substring(0, n.index) : e;
      }
      var vg = /\u00A0/g;
      function yg(e) {
        return e.replace(vg, " ");
      }
      var bg = /[!"#$%&()*+,.:;<=>?@^`{|}~\/\[\]\\]/g;
      function wg(e) {
        return e.replace(/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g, function (e) {
          return encodeURIComponent(e);
        });
      }
      function kg(e) {
        var t = e.match(/^#{1,6} (.*)/m);
        return null !== t ? t[1] : null;
      }
      function Cg(e) {
        return e
          .split("#")
          .filter(function (e) {
            return !!e;
          })
          .join(" > ")
          .trim();
      }
      function xg(e) {
        var t = "",
          n = e.indexOf("|"),
          i = n > 0;
        return (
          i
            ? ((t = e.substr(n + 1).trim()), (e = e.substr(0, n).trim()))
            : (t = Cg((e = e.trim()))),
          e.endsWith("\\") && (e = e.substr(0, e.length - 1)),
          { href: (e = yg(e).trim()), title: t, isAlias: i }
        );
      }
      function Sg(e) {
        var t = e.match(/^\s*([0-9]+)\s*(?:x\s*([0-9]+)\s*)?$/);
        return t ? { x: parseInt(t[1]), y: t[2] ? parseInt(t[2]) : 0 } : null;
      }
      function Eg(e, t) {
        var n = Sg(e);
        if (!n) return !1;
        var i = n.x,
          r = n.y,
          o = (t.data = t.data || {}),
          s = (o.hProperties = o.hProperties || {});
        return (s.width = String(i)), 0 !== r && (s.height = String(r)), !0;
      }
      var Mg = n(914),
        Lg = n(2854),
        Ag = n(7361),
        Dg = n(1744),
        Tg = n(6630),
        Pg = n(719),
        Og = n(1696),
        Fg = n(4617),
        Ig = {}.hasOwnProperty,
        Ng = !1;
      function Bg(e, t) {
        var n = (function (e, t) {
            var n = t || {};
            void 0 === n.allowDangerousHTML ||
              Ng ||
              ((Ng = !0),
              console.warn(
                "mdast-util-to-hast: deprecation: `allowDangerousHTML` is nonstandard, use `allowDangerousHtml` instead"
              ));
            var i = n.allowDangerousHtml || n.allowDangerousHTML,
              r = {};
            return (
              (s.dangerous = i),
              (s.definition = n.definitions || Tg(e)),
              (s.footnoteById = r),
              (s.footnoteOrder = []),
              (s.augment = o),
              (s.handlers = Object.assign({}, Fg, n.handlers)),
              (s.unknownHandler = n.unknownHandler),
              (s.passThrough = n.passThrough),
              Lg(e, "footnoteDefinition", function (e) {
                var t = String(e.identifier).toUpperCase();
                Ig.call(r, t) || (r[t] = e);
              }),
              s
            );
            function o(e, t) {
              var n, i;
              return (
                e &&
                  e.data &&
                  ((n = e.data).hName &&
                    ("element" !== t.type &&
                      (t = {
                        type: "element",
                        tagName: "",
                        properties: {},
                        children: [],
                      }),
                    (t.tagName = n.hName)),
                  "element" === t.type &&
                    n.hProperties &&
                    (t.properties = Object.assign(
                      {},
                      t.properties,
                      n.hProperties
                    )),
                  t.children && n.hChildren && (t.children = n.hChildren)),
                (i = e && e.position ? e : { position: e }),
                Dg(i) || (t.position = { start: Ag.start(i), end: Ag.end(i) }),
                t
              );
            }
            function s(e, t, n, i) {
              return (
                null == i &&
                  "object" == typeof n &&
                  "length" in n &&
                  ((i = n), (n = {})),
                o(e, {
                  type: "element",
                  tagName: t,
                  properties: n || {},
                  children: i || [],
                })
              );
            }
          })(e, t),
          i = Pg(n, e),
          r = Og(n);
        return r && (i.children = i.children.concat(Mg("text", "\n"), r)), i;
      }
      var Rg = rg;
      Rg.globalOptions = { breaks: !0, commonmark: !0 };
      var zg = new og(),
        Hg = new og(),
        Vg = {};
      function qg(e) {
        var t = mp()(e),
          n = new Rg(String(t), t);
        n.setOptions(Rg.globalOptions);
        for (var i = n.parse(), r = 0, o = zg.transformers; r < o.length; r++) {
          (0, o[r])(i, e);
        }
        return i;
      }
      function jg(e) {
        var t = e.children[0];
        if (t && "yaml" === t.type)
          try {
            var n = Qf(t.value, void 0, {});
            if ("object" == typeof n) return n || void 0;
          } catch (e) {
            return null;
          }
      }
      function Ug(e, t) {
        ((t = t || {}).allowDangerousHtml = !0), (t.handlers = Vg);
        for (var n = Bg(e, t), i = 0, r = Hg.transformers; i < r.length; i++) {
          (0, r[i])(n, "");
        }
        return pp()(n, { allowDangerousHtml: !0 });
      }
      !(function (e) {
        var t = /\s/,
          n = function (e) {
            return t.test(e);
          },
          i = "==";
        sg(
          e,
          "mark",
          "text",
          function (e, t, r) {
            if (
              this.options.gfm &&
              t.substr(0, 2) === i &&
              "====" !== t.substr(0, 4) &&
              !n(t.charAt(2))
            ) {
              var o = "",
                s = "",
                a = "",
                l = "",
                c = 1,
                u = t.length,
                h = e.now();
              for (h.column += 2, h.offset += 2; ++c < u; ) {
                if (!("=" !== (o = t.charAt(c)) || "=" !== s || (a && n(a))))
                  return (
                    !!r ||
                    e(i + l + i)({
                      type: "mark",
                      children: this.tokenizeInline(l, h),
                      data: { hName: "mark" },
                    })
                  );
                (l += s), (a = s), (s = o);
              }
            }
          },
          function (e, t) {
            return e.indexOf(i, t);
          }
        );
      })(Rg),
        (function (e) {
          var t = /!?\[\[/g,
            n = /^(!?)\[\[(.+?)]]/;
          sg(
            e,
            "ilink",
            "link",
            function (e, t, i) {
              var r = n.exec(t);
              if (r) {
                var o = r[2].trim();
                if (-1 !== o.indexOf("[[")) return !1;
                if (i) return !0;
                var s = "!" === r[1],
                  a = xg(o),
                  l = a.href,
                  c = a.title,
                  u = a.isAlias;
                if (s)
                  return e(r[0])({
                    type: "iembed",
                    href: l,
                    title: c,
                    data: {
                      hName: "span",
                      hProperties: {
                        className: "internal-embed",
                        src: l,
                        alt: c,
                      },
                      hChildren: [{ type: "text", value: c }],
                    },
                  });
                var h = { className: "internal-link", href: l, dataHref: l };
                return (
                  u &&
                    ((h["aria-label"] = Cg(l)),
                    (h["aria-label-position"] = "top")),
                  e(r[0])({
                    type: "ilink",
                    href: l,
                    title: c,
                    data: {
                      hName: "a",
                      hProperties: h,
                      hChildren: [{ type: "text", value: c }],
                    },
                  })
                );
              }
            },
            function (e, n) {
              t.lastIndex = n;
              var i = t.exec(e);
              return i ? i.index : -1;
            }
          );
        })(Rg),
        (function (e) {
          var t =
              /^#[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+/,
            n = /^#\d+$/,
            i = /\s/;
          sg(
            e,
            "tag",
            "image",
            function (e, i, r) {
              var o = t.exec(i);
              if (o) {
                var s = o[0];
                return (
                  !n.test(s) &&
                  (!!r ||
                    e(s)({
                      type: "tag",
                      tag: s,
                      data: {
                        hName: "a",
                        hProperties: { className: "tag", href: s },
                        hChildren: [{ type: "text", value: s }],
                      },
                    }))
                );
              }
            },
            function (e, t) {
              for (var n = t; -1 !== (n = e.indexOf("#", n)); ) {
                if (n <= 0) return n;
                var r = e.charAt(n - 1);
                if (i.test(r)) return n;
                n++;
              }
            }
          );
        })(Rg),
        (function (e) {
          function t(e) {
            if ("boolean" == typeof e.checked) {
              var t = e,
                n = (t.data = t.data || {}),
                i = (n.hProperties = n.hProperties || {});
              (i.className = "task-list-item"),
                e.checked && (i.className += " is-checked"),
                e.checklist && (i.dataTask = e.checklist);
              var r = t.children[0];
              r && "paragraph" === r.type && (t = r),
                t.children.unshift({
                  type: "checklist",
                  data: {
                    hName: "input",
                    hProperties: {
                      className: "task-list-item-checkbox",
                      type: "checkbox",
                      checked: e.checked,
                    },
                  },
                  position: e.position,
                }),
                delete e.checked;
            }
          }
          e.addTransformer(function (e) {
            cg(e, "listItem", t);
          });
        })(zg),
        (function (e) {
          sg(
            e,
            "math",
            "text",
            function (e, t, n) {
              var i,
                r,
                o,
                s,
                a,
                l,
                c,
                u = t.length,
                h = !1,
                p = !1,
                d = 0;
              if (
                (92 === t.charCodeAt(d) && ((p = !0), d++),
                36 === t.charCodeAt(d))
              ) {
                if ((d++, p))
                  return !!n || e(t.slice(0, d))({ type: "text", value: "$" });
                if (
                  (36 === t.charCodeAt(d) && ((h = !0), d++),
                  (o = t.charCodeAt(d)),
                  h || (32 !== o && 9 !== o))
                ) {
                  for (s = d; d < u; ) {
                    if (((r = o), (o = t.charCodeAt(d + 1)), 36 === r)) {
                      if (
                        ((i = t.charCodeAt(d - 1)),
                        (!h &&
                          32 !== i &&
                          9 !== i &&
                          (o != o || o < 48 || o > 57)) ||
                          (h && 36 === o))
                      ) {
                        if (((a = d - 1), d++, h))
                          for (var f = ++d; f < u; ) {
                            var g = t.charAt(f);
                            if ("\n" === g) {
                              d = f + 1;
                              break;
                            }
                            if (!/\s/.test(g)) break;
                            f++;
                          }
                        l = d;
                        break;
                      }
                    } else 92 === r && (d++, (o = t.charCodeAt(d + 1)));
                    d++;
                  }
                  if (void 0 !== l)
                    return (
                      !!n ||
                      ((c = t.slice(s, a + 1)),
                      e(t.slice(0, l))({
                        type: "inlineMath",
                        value: c,
                        data: {
                          hName: "span",
                          hProperties: {
                            className: h
                              ? "math math-block"
                              : "math math-inline",
                          },
                          hChildren: [{ type: "text", value: c }],
                        },
                      }))
                    );
                }
              }
            },
            function (e, t) {
              return e.indexOf("$", t);
            }
          );
        })(Rg),
        (function (e) {
          ag(e, "math", "fencedCode", function (e, t, n) {
            for (
              var i, r, o, s, a, l, c, u, h, p, d, f = t.length, g = 0;
              g < f && 32 === t.charCodeAt(g);

            )
              g++;
            for (a = g; g < f && 36 === t.charCodeAt(g); ) g++;
            if (!((l = g - a) < 2)) {
              for (; g < f && 32 === t.charCodeAt(g); ) g++;
              for (c = g; g < f; ) {
                if (36 === (i = t.charCodeAt(g))) return;
                if (10 === i) break;
                g++;
              }
              if (10 === t.charCodeAt(g)) {
                if (n) return !0;
                for (
                  r = [],
                    c !== g && r.push(t.slice(c, g)),
                    g++,
                    o = -1 === (o = t.indexOf("\n", g + 1)) ? f : o;
                  g < f;

                ) {
                  for (
                    u = !1, p = g, d = o, s = o, h = 0;
                    s > p && 32 === t.charCodeAt(s - 1);

                  )
                    s--;
                  for (; s > p && 36 === t.charCodeAt(s - 1); ) h++, s--;
                  for (
                    l <= h && t.indexOf("$", p) === s && ((u = !0), (d = s));
                    p <= d && p - g < a && 32 === t.charCodeAt(p);

                  )
                    p++;
                  if (u) for (; d > p && 32 === t.charCodeAt(d - 1); ) d--;
                  if (((u && p === d) || r.push(t.slice(p, d)), u)) break;
                  (g = o + 1),
                    (o = -1 === (o = t.indexOf("\n", g + 1)) ? f : o);
                }
                return (
                  (r = r.join("\n")),
                  e(t.slice(0, o))({
                    type: "math",
                    value: r,
                    data: {
                      hName: "div",
                      hProperties: { className: "math math-block" },
                      hChildren: [{ type: "text", value: r }],
                    },
                  })
                );
              }
            }
          });
          var t = e.prototype;
          lg(t.interruptParagraph, "fencedCode", "math"),
            lg(t.interruptList, "fencedCode", "math"),
            lg(t.interruptBlockquote, "fencedCode", "math");
        })(Rg),
        (function (e) {
          for (
            var t = e.prototype, n = t.blockMethods, i = [], r = 0;
            r < n.length;
            r++
          ) {
            var o = n[r];
            "newline" !== o &&
              "indentedCode" !== o &&
              "paragraph" !== o &&
              "footnoteDefinition" !== o &&
              i.push([o]);
          }
          i.push(["footnoteDefinition"]),
            (t.interruptFootnoteDefinition = i),
            sg(
              e,
              "inlineNote",
              "reference",
              function (e, t, n) {
                var i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u = t.length + 1,
                  h = 0,
                  p = 0;
                if (94 === t.charCodeAt(h++) && t.charCodeAt(h++) === hg) {
                  for (o = h; h < u; ) {
                    if ((r = t.charCodeAt(h)) != r) return;
                    if (void 0 === l)
                      if (92 === r) h += 2;
                      else if (r === hg) p++, h++;
                      else if (93 === r) {
                        if (0 === p) {
                          (s = h), h++;
                          break;
                        }
                        p--, h++;
                      } else if (96 === r) {
                        for (a = h, l = 1; 96 === t.charCodeAt(a + l); ) l++;
                        h += l;
                      } else h++;
                    else if (96 === r) {
                      for (a = h, c = 1; 96 === t.charCodeAt(a + c); ) c++;
                      (h += c), l === c && (l = void 0), (c = void 0);
                    } else h++;
                  }
                  if (void 0 !== s)
                    return (
                      !!n ||
                      (((i = e.now()).column += 2),
                      (i.offset += 2),
                      e(t.slice(0, h))({
                        type: "footnote",
                        children: this.tokenizeInline(t.slice(o, s), i),
                      }))
                    );
                }
              },
              function (e, t) {
                return e.indexOf("^[", t);
              }
            ),
            ag(e, "footnoteDefinition", "definition", function (e, t, n) {
              for (
                var i,
                  r,
                  o,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g,
                  m,
                  v = this,
                  y = v.interruptFootnoteDefinition,
                  b = v.offset,
                  w = t.length + 1,
                  k = 0,
                  C = [];
                k < w && (9 === (a = t.charCodeAt(k)) || a === ug);

              )
                k++;
              if (t.charCodeAt(k++) === hg && 94 === t.charCodeAt(k++)) {
                for (r = k; k < w; ) {
                  if (
                    (a = t.charCodeAt(k)) != a ||
                    10 === a ||
                    9 === a ||
                    a === ug
                  )
                    return;
                  if (93 === a) {
                    (o = k), k++;
                    break;
                  }
                  k++;
                }
                if (void 0 !== o && r !== o && 58 === t.charCodeAt(k++)) {
                  if (n) return !0;
                  for (
                    i = t.slice(r, o), l = e.now(), p = 0, d = 0, f = k, g = [];
                    k < w;

                  ) {
                    if ((a = t.charCodeAt(k)) != a || 10 === a)
                      (m = {
                        start: p,
                        contentStart: f || k,
                        contentEnd: k,
                        end: k,
                      }),
                        g.push(m),
                        10 === a &&
                          ((p = k + 1), (d = 0), (f = void 0), (m.end = p));
                    else if (void 0 !== d)
                      if (a === ug || 9 === a)
                        (d += a === ug ? 1 : 4 - (d % 4)) > 4 &&
                          ((d = void 0), (f = k));
                      else {
                        if (
                          d < 4 &&
                          m &&
                          (m.contentStart === m.contentEnd ||
                            pg(y, s, v, [e, t.slice(k, 1024), !0]))
                        )
                          break;
                        (d = void 0), (f = k);
                      }
                    k++;
                  }
                  for (
                    k = -1, w = g.length;
                    w > 0 && (m = g[w - 1]).contentStart === m.contentEnd;

                  )
                    w--;
                  for (c = e(t.slice(0, m.contentEnd)); ++k < w; )
                    (m = g[k]),
                      (b[l.line + k] =
                        (b[l.line + k] || 0) + (m.contentStart - m.start)),
                      C.push(t.slice(m.contentStart, m.end));
                  return (
                    (u = v.enterBlock()),
                    (h = v.tokenizeBlock(C.join(""), l)),
                    u(),
                    c({
                      type: "footnoteDefinition",
                      identifier: i.toLowerCase(),
                      label: i,
                      children: h,
                    })
                  );
                }
              }
            }),
            sg(
              e,
              "footnoteCall",
              "reference",
              function (e, t, n) {
                var i,
                  r,
                  o,
                  s,
                  a = t.length + 1,
                  l = 0;
                if (t.charCodeAt(l++) === hg && 94 === t.charCodeAt(l++)) {
                  for (r = l; l < a; ) {
                    if (
                      (s = t.charCodeAt(l)) != s ||
                      10 === s ||
                      9 === s ||
                      s === ug
                    )
                      return;
                    if (93 === s) {
                      (o = l), l++;
                      break;
                    }
                    l++;
                  }
                  if (void 0 !== o && r !== o)
                    return (
                      !!n ||
                      ((i = t.slice(r, o)),
                      e(t.slice(0, l))({
                        type: "footnoteReference",
                        identifier: i.toLowerCase(),
                        label: i,
                      }))
                    );
                }
              },
              function (e, t) {
                return e.indexOf("[", t);
              }
            );
          var s = t.blockTokenizers,
            a = t.inlineTokenizers,
            l = s.definition,
            c = a.reference;
          function u(e, t, n) {
            var i = 0;
            if (
              (33 === t.charCodeAt(i) && i++,
              t.charCodeAt(i) === hg && 94 !== t.charCodeAt(i + 1))
            )
              return c.call(this, e, t, n);
          }
          (s.definition = function (e, t, n) {
            for (var i = 0, r = t.charCodeAt(i); r === ug || 9 === r; )
              r = t.charCodeAt(++i);
            if (r === hg && 94 !== t.charCodeAt(i + 1))
              return l.call(this, e, t, n);
          }),
            (a.reference = u),
            (u.locator = c.locator);
        })(Rg),
        (function (e) {
          var t = e.prototype.inlineTokenizers,
            n = t.break,
            i = function (e, t, i) {
              if (!this.options.breaks) return n.call(this, e, t, i);
              for (var r, o = t.length, s = -1; ++s < o; ) {
                if (10 === (r = t.charCodeAt(s)))
                  return !!i || e(t.slice(0, s + 1))({ type: "break" });
                if (32 !== r) return;
              }
            };
          (i.locator = n.locator), (t.break = i);
        })(Rg),
        (function (e) {
          var t = "---",
            n = t.length,
            i = function (e, i, r) {
              if (i.slice(0, n) === t && "\n" === i.charAt(n)) {
                for (
                  var o = i.indexOf(t, n);
                  -1 !== o && "\n" !== i.charAt(o - 1);

                )
                  o = i.indexOf(t, o + n);
                return -1 !== o
                  ? !!r ||
                      e(i.slice(0, o + t.length))({
                        type: "yaml",
                        value: i.slice(t.length + 1, o - 1),
                      })
                  : void 0;
              }
            };
          i.onlyAtStart = !0;
          var r = e.prototype;
          r.blockMethods.unshift("frontmatter"),
            (r.blockTokenizers.frontmatter = i);
        })(Rg),
        (function (e) {
          var t = /^\^([a-zA-Z0-9\-]+)$/,
            n = /\s/;
          sg(
            e,
            "blockid",
            "text",
            function (e, n, i) {
              var r = t.exec(n);
              if (r) {
                var o = r[1];
                return !!i || e(r[0])({ type: "blockid", id: o });
              }
            },
            function (e, t) {
              for (var i = t; -1 !== (i = e.indexOf("^", i)); ) {
                if (i <= 0) return -1;
                var r = e.charAt(i - 1);
                if (n.test(r)) return i;
                i++;
              }
            }
          );
          var i = /^\^([a-zA-Z0-9\-]+)(?=$|\n$|\n\n)/;
          ag(e, "blockid", "paragraph", function (e, t, n) {
            var r = i.exec(t);
            if (r) {
              var o = r[1];
              return !!n || e(r[0])({ type: "blockid", id: o });
            }
          });
        })(Rg),
        (function (e) {
          e.addTransformer(function (e) {
            cg(e, "link", function (e, t, n) {
              var i = e.url;
              if (i && fg(i)) {
                var r = void 0;
                try {
                  r = decodeURI(i);
                } catch (e) {
                  return;
                }
                var o = yg(r).trim();
                n.children[t] = {
                  type: "ilink",
                  href: o,
                  title: "",
                  data: {
                    url: i,
                    hName: "a",
                    hProperties: {
                      href: o,
                      dataHref: o,
                      className: "internal-link",
                      title: e.title,
                    },
                  },
                  children: e.children,
                  position: e.position,
                };
              }
            });
          });
        })(zg),
        (function (e) {
          e.addTransformer(function (e) {
            cg(e, "image", function (e, t, n) {
              var i = e.url;
              if (i && fg(i)) {
                var r = void 0;
                try {
                  r = decodeURI(i);
                } catch (e) {
                  return;
                }
                var o = yg(r).trim();
                n.children[t] = {
                  type: "iembed",
                  href: o,
                  title: e.alt,
                  data: {
                    hName: "div",
                    hProperties: {
                      className: "internal-embed",
                      src: o,
                      alt: e.alt,
                    },
                  },
                  children: e.children,
                  position: e.position,
                };
              }
            });
          });
        })(zg),
        (function (e) {
          e.addTransformer(function (e) {
            var t = [],
              n = {},
              i = {};
            function r(e, t, n) {
              var i = String(t + 1),
                r = i;
              n > 0 && (r += "-" + n),
                (e.type = "fnRef"),
                (e.data = {
                  hName: "sup",
                  hProperties: {
                    className: "footnote-ref",
                    "data-footnote-id": "fnref-" + r,
                  },
                }),
                (e.children = [
                  {
                    type: "element",
                    data: {
                      hName: "a",
                      hProperties: {
                        className: "footnote-link",
                        href: "#fn-" + i,
                      },
                      hChildren: [{ type: "text", value: "[" + r + "]" }],
                    },
                  },
                ]);
            }
            cg(e, "footnoteDefinition", function (e) {
              var t = String(e.identifier);
              (i[":" + t] = -1),
                (n[":" + t] = { children: e.children, position: e.position });
            }),
              cg(e, ["footnote", "footnoteReference"], function (e) {
                if ("footnote" === e.type) {
                  var o = t.length,
                    s = String(o);
                  t.push({ count: 1, identifier: s }),
                    (n[s] = { children: e.children, position: e.position }),
                    r(e, o, 0);
                } else {
                  s = String(e.identifier);
                  if (!i.hasOwnProperty(":" + s))
                    return (e.type = "text"), void (e.value = s);
                  -1 === (o = i[":" + s]) &&
                    ((o = t.length),
                    (i[":" + s] = o),
                    t.push({ count: 0, identifier: ":" + s }));
                  var a = t[o],
                    l = a.count;
                  a.count++, r(e, o, l);
                }
              });
            for (var o = [], s = 0; s < t.length; s++) {
              var a = t[s],
                l = n[a.identifier];
              if (l) {
                var c = l.children,
                  u = c[c.length - 1];
                u && "paragraph" === u.type && (c = u.children);
                for (var h = String(s + 1), p = 0; p < a.count; p++) {
                  var d = h;
                  p > 0 && (d += "-" + p),
                    c.push({
                      type: "element",
                      data: {
                        hName: "a",
                        hProperties: {
                          className: "footnote-backref footnote-link",
                          href: "#fnref-" + d,
                        },
                        hChildren: [{ type: "text", value: "↩︎" }],
                      },
                    });
                }
                o.push({
                  type: "listItem",
                  synthetic: !0,
                  data: { hProperties: { "data-footnote-id": "fn-" + h } },
                  children: l.children,
                  position: l.position,
                });
              }
            }
            if (0 !== o.length) {
              var f,
                g = e.children[e.children.length - 1],
                m = {
                  start: (f = g
                    ? g.position.end
                    : { line: 1, column: 1, offset: 0 }),
                  end: f,
                };
              e.children = e.children.concat(
                { type: "text", value: "\n", position: m },
                {
                  type: "element",
                  position: m,
                  data: {
                    hName: "section",
                    hProperties: { className: "footnotes" },
                  },
                  children: [
                    { type: "thematicBreak", position: m },
                    {
                      type: "list",
                      position: m,
                      ordered: !0,
                      start: 1,
                      spread: !1,
                      children: o,
                    },
                  ],
                }
              );
            }
          });
        })(zg),
        (function (e) {
          e.addTransformer(function (e) {
            cg(e, "image", function (e) {
              var t = e.alt;
              if (t) {
                var n = t.lastIndexOf("|");
                if (-1 !== n)
                  Eg(t.substr(n + 1), e) && (e.alt = t.substr(0, n));
              }
            });
          });
        })(zg),
        (function (e) {
          e.addTransformer(function (e) {
            cg(e, "iembed", function (e) {
              var t = e.title;
              if (t) {
                var n = t.lastIndexOf("|");
                if (-1 !== n) Eg(t.substr(n + 1), e) && (t = t.substr(0, n));
                else Eg(t, e) && (t = "");
                e.data.hProperties.alt = t;
              }
            });
          });
        })(zg),
        (function (e, t) {
          (t.blockid = function () {
            return null;
          }),
            e.addTransformer(function (e) {
              for (
                var t,
                  n = e.children,
                  i = function (e) {
                    var i = n[e];
                    if ("blockid" === i.type) {
                      if (e > 0) n[e - 1].id = i.id;
                      return n.splice(e, 1), e--, (t = e), "continue";
                    }
                    if ("list" === i.type)
                      return (
                        cg(i, "listItem", function (e) {
                          var t = null;
                          cg(e, ["list", "blockid"], function (e) {
                            return "list" === e.type
                              ? "skip"
                              : ((t = e.id), !1);
                          }),
                            t && (e.id = t);
                        }),
                        (t = e),
                        "continue"
                      );
                    var r = null;
                    cg(i, "blockid", function (e) {
                      r = e.id;
                    }),
                      r && (i.id = r),
                      (t = e);
                  },
                  r = 0;
                r < n.length;
                r++
              )
                i(r), (r = t);
            });
        })(zg, Vg),
        (function (e) {
          e.addTransformer(function (e, t) {
            cg(e, "heading", function (e, n, i) {
              var r = (function (e, t) {
                var n = t.position.end,
                  i = t.position.end,
                  r = t.children;
                return (
                  r.length > 0 &&
                    ((n = r[0].position.start),
                    (i = r[r.length - 1].position.end)),
                  e.substring(n.offset, i.offset).trim()
                );
              })(t, e);
              e.data = { hProperties: { dataHeading: r } };
            });
          });
        })(zg),
        (function (e) {
          function t(e) {
            var t = e.properties;
            if (t && !t.className) {
              (t.className = "external-link"),
                (t.target = "_blank"),
                (t.rel = "noopener");
              var n = "",
                i = e.children;
              i && i.length > 0 && (n = i[0].value),
                t.href !== n &&
                  ((t["aria-label"] = t.href),
                  (t["aria-label-position"] = "top"));
            }
          }
          e.addTransformer(function (e) {
            cg(e, { type: "element", tagName: "a" }, t);
          });
        })(Hg),
        (function (e, t) {
          t.yaml = function (e, t) {
            var n = t.value || "";
            return e(t.position, "pre", { className: "frontmatter" }, [
              e(t, "code", { className: "language-yaml" }, [ig("text", n)]),
            ]);
          };
        })(0, Vg),
        (function (e, t) {
          var n = /^%%(.+?)%%/;
          sg(
            e,
            "comment",
            "text",
            function (e, t, i) {
              var r = n.exec(t);
              if (r) {
                if (i) return !0;
                var o = e.now();
                return (
                  (o.column += 2),
                  (o.offset += 2),
                  e(r[0])({
                    type: "comment",
                    children: this.tokenizeInline(r[1], o),
                  })
                );
              }
            },
            function (e, t) {
              return e.indexOf("%%", t);
            }
          ),
            (t.comment = function () {
              return null;
            }),
            ag(e, "comment", "fencedCode", function (e, t, n) {
              for (var i = t.length, r = 0; r < i && 32 === t.charCodeAt(r); )
                r++;
              for (var o = r; r < i && 37 === t.charCodeAt(r); ) r++;
              var s = r - o;
              if (!(s < 2)) {
                for (var a = r; r < i; ) {
                  var l = t.charCodeAt(r);
                  if (37 === l) return;
                  if (10 === l) break;
                  r++;
                }
                if (n) return !0;
                for (var c = i, u = 0; r < i; ) {
                  if (37 === t.charCodeAt(r)) {
                    if (s === ++u) {
                      c = r + 1;
                      break;
                    }
                  } else u = 0;
                  r++;
                }
                var h = t.substring(a, c - s),
                  p = e.now();
                return e(t.slice(0, c))({
                  type: "comment",
                  value: h,
                  children: this.tokenizeInline(h, p),
                });
              }
            });
          var i = e.prototype;
          lg(i.interruptParagraph, "fencedCode", "comment"),
            lg(i.interruptList, "fencedCode", "comment"),
            lg(i.interruptBlockquote, "fencedCode", "comment");
        })(Rg, Vg);
      var Wg = Object.prototype.hasOwnProperty;
      function _g(e, t) {
        if (!e) return null;
        if ("string" == typeof t) return Wg.call(e, t) ? e[t] : null;
        for (var n in e) if (Wg.call(e, n) && t.test(n)) return e[n];
        return null;
      }
      function Gg(e, t, n) {
        if (!e) return null;
        var i = _g(e, t);
        if (!i) return null;
        var r = [];
        if (
          ("string" == typeof i && (i = i.split(/[,\n]/)), Array.isArray(i))
        ) {
          for (var o = 0, s = i; o < s.length; o++) {
            var a = s[o];
            if ("string" == typeof a)
              if (n)
                for (var l = 0, c = a.split(/\s/g); l < c.length; l++) {
                  var u = c[l];
                  u && r.push(u);
                }
              else (a = a.trim()) && r.push(a);
          }
          return 0 === r.length ? null : r;
        }
        return null;
      }
      function Kg(e) {
        return e ? Gg(e, /^alias(es)?$/i) : null;
      }
      function $g(e) {
        if (!e) return null;
        var t = Gg(e, /^tag(s)?$/i, !0);
        if (t)
          for (var n = 0; n < t.length; n++) {
            var i = t[n];
            "#" !== i.charAt(0) && (t[n] = "#" + i);
          }
        return t;
      }
      function Yg(e) {
        return (e && Gg(e, /^cssclass(es)?$/i, !0)) || [];
      }
      function Jg(e) {
        return fp()(e);
      }
      function Qg(e) {
        var t = [];
        if (!e) return t;
        for (var n = 0, i = e; n < i.length; n++) {
          var r = i[n];
          t.push(Xg(r));
        }
        return t;
      }
      function Xg(e) {
        if (!e) return "";
        var t = e.type;
        if ("iembed" === t) return e.href;
        if ("listItem" === t) {
          var n = Qg(e.children);
          return 1 === n.length ? n[0] + "\n" : n.join("\n");
        }
        if ("tag" === t) return e.tag;
        var i =
          e.value ||
          e.alt ||
          e.title ||
          (e.hasOwnProperty("children") && Qg(e.children).join("")) ||
          "";
        return (
          "tableCell" === t ? (i += " ") : "tableRow" === t && (i += "\n"), i
        );
      }
      var Zg = {
        "encrypted-media": !0,
        fullscreen: !0,
        "oversized-images": !0,
        "picture-in-picture": !0,
        "sync-xhr": !0,
      };
      DOMPurify.addHook("afterSanitizeAttributes", function (e) {
        if (
          (e instanceof HTMLAnchorElement &&
            (e.setAttribute("target", "_blank"),
            e.setAttribute("rel", "noopener")),
          e instanceof HTMLIFrameElement &&
            (e.setAttribute(
              "sandbox",
              "allow-forms allow-presentation allow-same-origin allow-scripts allow-modals"
            ),
            e.hasAttribute("allow")))
        ) {
          for (
            var t = [], n = 0, i = e.getAttribute("allow").split(";");
            n < i.length;
            n++
          ) {
            var r = i[n];
            (r = r.trim().toLowerCase()),
              Zg.hasOwnProperty(r) && Zg[r] && t.push(r);
          }
          e.setAttribute("allow", t.join("; "));
        }
      });
      var em = {
        ALLOW_UNKNOWN_PROTOCOLS: !0,
        RETURN_DOM_FRAGMENT: !0,
        RETURN_DOM_IMPORT: !0,
        FORBID_TAGS: ["style"],
        ADD_TAGS: ["iframe"],
        ADD_ATTR: [
          "frameborder",
          "allowfullscreen",
          "allow",
          "aria-label-position",
        ],
      };
      function tm(e) {
        return DOMPurify.sanitize(e, em);
      }
      var nm = (function () {
        function e() {
          (this._loaded = !1), (this._events = []), (this._children = []);
        }
        return (
          (e.prototype.load = function () {
            if (!this._loaded) {
              (this._loaded = !0), this.onload();
              for (var e = 0, t = this._children; e < t.length; e++) {
                t[e].load();
              }
            }
          }),
          (e.prototype.onload = function () {}),
          (e.prototype.unload = function () {
            if (this._loaded) {
              this._loaded = !1;
              for (var e = 0, t = this._children; e < t.length; e++) {
                t[e].unload();
              }
              for (var n = 0, i = this._events; n < i.length; n++) {
                (0, i[n])();
              }
              (this._events = []), this.onunload();
            }
          }),
          (e.prototype.onunload = function () {}),
          (e.prototype.addChild = function (e) {
            return this._children.push(e), this._loaded && e.load(), e;
          }),
          (e.prototype.removeChild = function (e) {
            var t = this._children,
              n = t.indexOf(e);
            return -1 === n || (t.splice(n, 1), e.unload()), e;
          }),
          (e.prototype.register = function (e) {
            this._events.push(e);
          }),
          (e.prototype.registerEvent = function (e) {
            this.register(function () {
              return e.e.offref(e);
            });
          }),
          (e.prototype.registerDomEvent = function (e, t, n) {
            e.addEventListener(t, n),
              this.register(function () {
                return e.removeEventListener(t, n);
              });
          }),
          (e.prototype.registerScopeEvent = function (e) {
            this.register(function () {
              return e.scope.unregister(e);
            });
          }),
          (e.prototype.registerInterval = function (e) {
            return (
              this.register(function () {
                return clearInterval(e);
              }),
              e
            );
          }),
          e
        );
      })();
      const im = {
        Activity: [[2, "22 12 18 12 15 21 9 3 6 12 2 12"]],
        Airplay: [
          [
            6,
            "M5 17H4a2 2 0 01-2-2V5a2 2 0 012-2h16a2 2 0 012 2v10a2 2 0 01-2 2h-1",
          ],
          [3, "12 15 17 21 7 21 12 15"],
        ],
        AlarmCheck: [
          [6, "M12 21a8 8 0 100-16 8 8 0 000 16z"],
          [6, "M5 3L2 6"],
          [6, "M22 6l-3-3"],
          [6, "M6 19l-2 2"],
          [6, "M18 19l2 2"],
          [6, "M9 13l2 2 4-4"],
        ],
        AlarmClockOff: [
          [6, "M19.94 14A8 8 0 0010 5.25m8.13 12.89A8 8 0 116.87 6.86"],
          [6, "M22 6l-3-3"],
          [6, "M6 19l-2 2"],
          [6, "M2 2l20 20"],
          [6, "M4 4L2 6"],
        ],
        AlarmClock: [
          [1, 12, 13, 8],
          [6, "M12 9v4l2 2"],
          [6, "M5 3L2 6"],
          [6, "M22 6l-3-3"],
          [6, "M6 19l-2 2"],
          [6, "M18 19l2 2"],
        ],
        AlarmMinus: [
          [6, "M12 21a8 8 0 100-16 8 8 0 000 16z"],
          [6, "M5 3L2 6"],
          [6, "M22 6l-3-3"],
          [6, "M6 19l-2 2"],
          [6, "M18 19l2 2"],
          [6, "M9 13h6"],
        ],
        AlarmPlus: [
          [6, "M12 21a8 8 0 100-16 8 8 0 000 16z"],
          [6, "M5 3L2 6"],
          [6, "M22 6l-3-3"],
          [6, "M6 19l-2 2"],
          [6, "M18 19l2 2"],
          [6, "M12 10v6"],
          [6, "M9 13h6"],
        ],
        Album: [
          [5, 3, 3, 18, 18, 2, 2],
          [2, "11 3 11 11 14 8 17 11 17 3"],
        ],
        AlertCircle: [
          [1, 12, 12, 10],
          [0, 12, 8, 12, 12],
          [0, 12, 16, 12.01, 16],
        ],
        AlertOctagon: [
          [
            3,
            "7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",
          ],
          [0, 12, 8, 12, 12],
          [0, 12, 16, 12.01, 16],
        ],
        AlertTriangle: [
          [
            6,
            "M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z",
          ],
          [0, 12, 9, 12, 13],
          [0, 12, 17, 12.01, 17],
        ],
        AlignCenter: [
          [0, 21, 6, 3, 6],
          [0, 17, 12, 7, 12],
          [0, 19, 18, 5, 18],
        ],
        AlignJustify: [
          [0, 3, 6, 21, 6],
          [0, 3, 12, 21, 12],
          [0, 3, 18, 21, 18],
        ],
        AlignLeft: [
          [0, 21, 6, 3, 6],
          [0, 15, 12, 3, 12],
          [0, 17, 18, 3, 18],
        ],
        AlignRight: [
          [0, 21, 6, 3, 6],
          [0, 21, 12, 9, 12],
          [0, 21, 18, 7, 18],
        ],
        Anchor: [
          [1, 12, 5, 3],
          [0, 12, 22, 12, 8],
          [6, "M5 12H2a10 10 0 0020 0h-3"],
        ],
        Aperture: [
          [1, 12, 12, 10],
          [0, 14.31, 8, 20.05, 17.94],
          [0, 9.69, 8, 21.17, 8],
          [0, 7.38, 12, 13.12, 2.06],
          [0, 9.69, 16, 3.95, 6.06],
          [0, 14.31, 16, 2.83, 16],
          [0, 16.62, 12, 10.88, 21.94],
        ],
        Archive: [
          [
            6,
            "M20 9v9a2 2 0 01-2 2H6a2 2 0 01-2-2V9m16-5H4a2 2 0 00-2 2v1a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm-10 9h4",
          ],
        ],
        ArrowBigDown: [[6, "M9 3h6v11h4l-7 7-7-7h4z"]],
        ArrowBigLeft: [[6, "M3 12l7-7v4h11v6H10v4z"]],
        ArrowBigRight: [[6, "M21 12l-7-7v4H3v6h11v4z"]],
        ArrowBigUp: [[6, "M9 21V10H5l7-7 7 7h-4v11z"]],
        ArrowDownCircle: [
          [1, 12, 12, 10],
          [2, "8 12 12 16 16 12"],
          [0, 12, 8, 12, 16],
        ],
        ArrowDownLeft: [
          [0, 17, 7, 7, 17],
          [2, "17 17 7 17 7 7"],
        ],
        ArrowDownRight: [
          [0, 7, 7, 17, 17],
          [2, "17 7 17 17 7 17"],
        ],
        ArrowDown: [
          [0, 12, 5, 12, 19],
          [2, "19 12 12 19 5 12"],
        ],
        ArrowLeftCircle: [
          [1, 12, 12, 10],
          [2, "12 8 8 12 12 16"],
          [0, 16, 12, 8, 12],
        ],
        ArrowLeftRight: [
          [2, "17 11 21 7 17 3"],
          [0, 21, 7, 9, 7],
          [2, "7 21 3 17 7 13"],
          [0, 15, 17, 3, 17],
        ],
        ArrowLeft: [
          [0, 19, 12, 5, 12],
          [2, "12 19 5 12 12 5"],
        ],
        ArrowRightCircle: [
          [1, 12, 12, 10],
          [2, "12 16 16 12 12 8"],
          [0, 8, 12, 16, 12],
        ],
        ArrowRight: [
          [0, 5, 12, 19, 12],
          [2, "12 5 19 12 12 19"],
        ],
        ArrowUpCircle: [
          [1, 12, 12, 10],
          [2, "16 12 12 8 8 12"],
          [0, 12, 16, 12, 8],
        ],
        ArrowUpLeft: [
          [0, 17, 17, 7, 7],
          [2, "7 17 7 7 17 7"],
        ],
        ArrowUpRight: [
          [0, 7, 17, 17, 7],
          [2, "7 7 17 7 17 17"],
        ],
        ArrowUp: [
          [0, 12, 19, 12, 5],
          [2, "5 12 12 5 19 12"],
        ],
        Asterisk: [
          [6, "M12 6v12"],
          [6, "M17.196 9L6.804 15"],
          [6, "M6.804 9l10.392 6"],
        ],
        AtSign: [
          [1, 12, 12, 4],
          [6, "M16 8v5a3 3 0 006 0v-1a10 10 0 10-3.92 7.94"],
        ],
        Award: [
          [1, 12, 8, 7],
          [2, "8.21 13.89 7 23 12 20 17 23 15.79 13.88"],
        ],
        Axe: [
          [
            6,
            "M14 12l-8.501 8.501a2.12 2.12 0 01-2.998 0h-.002a2.12 2.12 0 010-2.998L11 9.002",
          ],
          [6, "M9 7l4-4 6 6h3l-.13.648a7.648 7.648 0 01-5.081 5.756L15 16v-3z"],
        ],
        Banknote: [
          [5, 2, 6, 20, 12, 2],
          [1, 12, 12, 2],
          [6, "M6 12h.01M18 12h.01"],
        ],
        BarChart2: [
          [0, 18, 20, 18, 10],
          [0, 12, 20, 12, 4],
          [0, 6, 20, 6, 14],
        ],
        BarChart: [
          [0, 12, 20, 12, 10],
          [0, 18, 20, 18, 4],
          [0, 6, 20, 6, 16],
        ],
        BatteryCharging: [
          [6, "M14 7h2a2 2 0 012 2v6a2 2 0 01-2 2h-3"],
          [6, "M7 7H4a2 2 0 00-2 2v6a2 2 0 002 2h2"],
          [2, "11 7 8 12 12 12 9 17"],
          [0, 22, 11, 22, 13],
        ],
        BatteryFull: [
          [5, 2, 7, 16, 10, 2, 2],
          [0, 22, 11, 22, 13],
          [0, 6, 10, 6, 14],
          [0, 10, 10, 10, 14],
          [0, 14, 10, 14, 14],
        ],
        BatteryLow: [
          [5, 2, 7, 16, 10, 2, 2],
          [0, 22, 11, 22, 13],
          [0, 6, 10, 6, 14],
        ],
        BatteryMedium: [
          [5, 2, 7, 16, 10, 2, 2],
          [0, 22, 11, 22, 13],
          [0, 6, 10, 6, 14],
          [0, 10, 10, 10, 14],
        ],
        Battery: [
          [5, 2, 7, 16, 10, 2, 2],
          [0, 22, 11, 22, 13],
        ],
        Beaker: [
          [6, "M4.5 3h15"],
          [6, "M6 3v16a2 2 0 002 2h8a2 2 0 002-2V3"],
          [6, "M6 14h12"],
        ],
        BellMinus: [
          [6, "M13.73 21a2 2 0 01-3.46 0"],
          [6, "M21 5h-6"],
          [6, "M18.021 9C18.29 15.193 21 17 21 17H3s3-2 3-9a6 6 0 017-5.916"],
        ],
        BellOff: [
          [6, "M13.73 21a2 2 0 01-3.46 0"],
          [6, "M18.63 13A17.888 17.888 0 0118 8"],
          [6, "M6.26 6.26A5.86 5.86 0 006 8c0 7-3 9-3 9h14"],
          [6, "M18 8a6 6 0 00-9.33-5"],
          [6, "M2 2l20 20"],
        ],
        BellPlus: [
          [6, "M18.387 12C19.198 15.799 21 17 21 17H3s3-2 3-9a6 6 0 017-5.916"],
          [6, "M13.73 21a2 2 0 01-3.46 0"],
          [6, "M18 2v6"],
          [6, "M21 5h-6"],
        ],
        BellRing: [
          [6, "M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"],
          [6, "M13.73 21a2 2 0 01-3.46 0"],
          [6, "M2 8c0-2.2.7-4.3 2-6"],
          [6, "M22 8a10 10 0 00-2-6"],
        ],
        Bell: [
          [6, "M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"],
          [6, "M13.73 21a2 2 0 01-3.46 0"],
        ],
        Bike: [
          [1, 5.5, 17.5, 3.5],
          [1, 18.5, 17.5, 3.5],
          [6, "M15 6a1 1 0 100-2 1 1 0 000 2zm-3 11.5V14l-3-3 4-3 2 3h2"],
        ],
        Binary: [
          [6, "M10 4H6v6h4V4z"],
          [6, "M18 14h-4v6h4v-6z"],
          [6, "M14 4h2v6m-2 0h4"],
          [6, "M6 14h2v6m-2 0h4"],
        ],
        Bitcoin: [
          [
            6,
            "M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042l-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893l-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042l.348-1.97M7.48 20.364l3.126-17.727",
          ],
        ],
        BluetoothConnected: [
          [6, "M7 7l10 10-5 5V2l5 5L7 17"],
          [0, 18, 12, 21, 12],
          [0, 3, 12, 6, 12],
        ],
        BluetoothOff: [
          [6, "M17 17l-5 5V12l-5 5"],
          [6, "M2 2l20 20"],
          [6, "M14.5 9.5L17 7l-5-5v4.5"],
        ],
        BluetoothSearching: [
          [6, "M7 7l10 10-5 5V2l5 5L7 17"],
          [6, "M20.83 14.83a4 4 0 000-5.66"],
          [6, "M18 12h.01"],
        ],
        Bluetooth: [[6, "M7 7l10 10-5 5V2l5 5L7 17"]],
        Bold: [
          [6, "M6 4h8a4 4 0 014 4 4 4 0 01-4 4H6z"],
          [6, "M6 12h9a4 4 0 014 4 4 4 0 01-4 4H6z"],
        ],
        BookOpen: [
          [6, "M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"],
          [6, "M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"],
        ],
        Book: [
          [6, "M4 19.5A2.5 2.5 0 016.5 17H20"],
          [6, "M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"],
        ],
        BookmarkMinus: [
          [6, "M19 21l-7-4-7 4V5a2 2 0 012-2h10a2 2 0 012 2v16z"],
          [0, 15, 10, 9, 10],
        ],
        BookmarkPlus: [
          [6, "M19 21l-7-4-7 4V5a2 2 0 012-2h10a2 2 0 012 2v16z"],
          [0, 12, 7, 12, 13],
          [0, 15, 10, 9, 10],
        ],
        Bookmark: [[6, "M19 21l-7-4-7 4V5a2 2 0 012-2h10a2 2 0 012 2v16z"]],
        Bot: [
          [5, 3, 11, 18, 10, 2],
          [1, 12, 5, 2],
          [6, "M12 7v4"],
          [0, 8, 16, 8, 16],
          [0, 16, 16, 16, 16],
        ],
        BoxSelect: [
          [6, "M4 2a2 2 0 00-2 2"],
          [0, 8, 2, 10, 2],
          [0, 14, 2, 16, 2],
          [6, "M4 22a2 2 0 01-2-2"],
          [0, 22, 8, 22, 10],
          [0, 22, 14, 22, 16],
          [6, "M22 20a2 2 0 01-2 2"],
          [0, 14, 22, 16, 22],
          [0, 8, 22, 10, 22],
          [6, "M20 2a2 2 0 012 2"],
          [0, 2, 14, 2, 16],
          [0, 2, 8, 2, 10],
        ],
        Box: [
          [
            6,
            "M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z",
          ],
          [2, "3.27 6.96 12 12.01 20.73 6.96"],
          [0, 12, 22.08, 12, 12],
        ],
        Briefcase: [
          [5, 2, 7, 20, 14, 2, 2],
          [6, "M16 21V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v16"],
        ],
        Brush: [
          [6, "M9.06 11.9l8.07-8.06a2.85 2.85 0 114.03 4.03l-8.06 8.08"],
          [
            6,
            "M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 00-3-3.02z",
          ],
        ],
        Bug: [
          [5, 8, 6, 8, 14, 4],
          [6, "M19 7l-3 2"],
          [6, "M5 7l3 2"],
          [6, "M19 19l-3-2"],
          [6, "M5 19l3-2"],
          [6, "M20 13h-4"],
          [6, "M4 13h4"],
          [6, "M10 4l1 2"],
          [6, "M14 4l-1 2"],
        ],
        Building: [
          [5, 4, 2, 16, 20, 2, 2],
          [6, "M9 22v-4h6v4"],
          [6, "M8 6h.01"],
          [6, "M16 6h.01"],
          [6, "M12 6h.01"],
          [6, "M12 10h.01"],
          [6, "M12 14h.01"],
          [6, "M16 10h.01"],
          [6, "M16 14h.01"],
          [6, "M8 10h.01"],
          [6, "M8 14h.01"],
        ],
        Bus: [
          [
            6,
            "M19 17h2l.64-2.54a6 6 0 000-2.92l-1.07-4.27A3 3 0 0017.66 5H4a2 2 0 00-2 2v10h2m10 0h-4",
          ],
          [1, 6.5, 17.5, 2.5],
          [1, 16.5, 17.5, 2.5],
        ],
        Calculator: [
          [5, 4, 2, 16, 20, 2],
          [0, 8, 6, 16, 6],
          [0, 16, 14, 16, 18],
          [6, "M16 10h.01"],
          [6, "M12 10h.01"],
          [6, "M8 10h.01"],
          [6, "M12 14h.01"],
          [6, "M8 14h.01"],
          [6, "M12 18h.01"],
          [6, "M8 18h.01"],
        ],
        Calendar: [
          [5, 3, 4, 18, 18, 2, 2],
          [0, 16, 2, 16, 6],
          [0, 8, 2, 8, 6],
          [0, 3, 10, 21, 10],
        ],
        CameraOff: [
          [0, 2, 2, 22, 22],
          [
            6,
            "M9.5 4h5L17 7h3a2 2 0 012 2v7.5M7 7H4a2 2 0 00-2 2v9a2 2 0 002 2h16",
          ],
          [6, "M14.121 15.121A3 3 0 119.88 10.88"],
        ],
        Camera: [
          [
            6,
            "M14.5 4h-5L7 7H4a2 2 0 00-2 2v9a2 2 0 002 2h16a2 2 0 002-2V9a2 2 0 00-2-2h-3l-2.5-3z",
          ],
          [1, 12, 13, 3],
        ],
        Car: [
          [
            6,
            "M14 16H9m10 0h3v-3.15a1 1 0 00-.84-.99L16 11l-2.7-3.6a1 1 0 00-.8-.4H5.24a2 2 0 00-1.8 1.1l-.8 1.63A6 6 0 002 12.42V16h2",
          ],
          [1, 6.5, 16.5, 2.5],
          [1, 16.5, 16.5, 2.5],
        ],
        Carrot: [
          [
            6,
            "M2.27 21.7s9.87-3.5 12.73-6.36a4.5 4.5 0 00-6.36-6.37C5.77 11.84 2.27 21.7 2.27 21.7zM8.64 14l-2.05-2.04M15.34 15l-2.46-2.46",
          ],
          [6, "M22 9s-1.33-2-3.5-2C16.86 7 15 9 15 9s1.33 2 3.5 2S22 9 22 9z"],
          [6, "M15 2s-2 1.33-2 3.5S15 9 15 9s2-1.84 2-3.5C17 3.33 15 2 15 2z"],
        ],
        Cast: [
          [
            6,
            "M2 16.1A5 5 0 015.9 20M2 12.05A9 9 0 019.95 20M2 8V6a2 2 0 012-2h16a2 2 0 012 2v12a2 2 0 01-2 2h-6",
          ],
          [0, 2, 20, 2.01, 20],
        ],
        CheckCircle2: [
          [
            6,
            "M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",
          ],
          [6, "M9 12l2 2 4-4"],
        ],
        CheckCircle: [
          [6, "M22 11.08V12a10 10 0 11-5.93-9.14"],
          [2, "22 4 12 14.01 9 11.01"],
        ],
        CheckSquare: [
          [2, "9 11 12 14 22 4"],
          [6, "M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"],
        ],
        Check: [[2, "20 6 9 17 4 12"]],
        ChevronDown: [[2, "6 9 12 15 18 9"]],
        ChevronFirst: [
          [2, "17 18 11 12 17 6"],
          [6, "M7 6v12"],
        ],
        ChevronLast: [
          [2, "7 18 13 12 7 6"],
          [6, "M17 6v12"],
        ],
        ChevronLeft: [[2, "15 18 9 12 15 6"]],
        ChevronRight: [[2, "9 18 15 12 9 6"]],
        ChevronUp: [[2, "18 15 12 9 6 15"]],
        ChevronsDownUp: [
          [6, "M7 20l5-5 5 5"],
          [6, "M7 4l5 5 5-5"],
        ],
        ChevronsDown: [
          [2, "7 13 12 18 17 13"],
          [2, "7 6 12 11 17 6"],
        ],
        ChevronsLeft: [
          [2, "11 17 6 12 11 7"],
          [2, "18 17 13 12 18 7"],
        ],
        ChevronsRight: [
          [2, "13 17 18 12 13 7"],
          [2, "6 17 11 12 6 7"],
        ],
        ChevronsUpDown: [
          [6, "M7 15l5 5 5-5"],
          [6, "M7 9l5-5 5 5"],
        ],
        ChevronsUp: [
          [2, "17 11 12 6 7 11"],
          [2, "17 18 12 13 7 18"],
        ],
        Chrome: [
          [1, 12, 12, 10],
          [1, 12, 12, 4],
          [0, 21.17, 8, 12, 8],
          [0, 3.95, 6.06, 8.54, 14],
          [0, 10.88, 21.94, 15.46, 14],
        ],
        CircleSlashed: [
          [1, 12, 12, 10],
          [6, "M22 2L2 22"],
        ],
        Circle: [[1, 12, 12, 10]],
        ClipboardCheck: [
          [
            6,
            "M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2",
          ],
          [
            6,
            "M15 2H9a1 1 0 00-1 1v2a1 1 0 001 1h6a1 1 0 001-1V3a1 1 0 00-1-1z",
          ],
          [6, "M9 13l2 2 4-4"],
        ],
        ClipboardCopy: [
          [
            6,
            "M16 4h2a2 2 0 012 2v4M8 4H6a2 2 0 00-2 2v14a2 2 0 002 2h12a2 2 0 002-2v-2",
          ],
          [5, 8, 2, 8, 4, 1, 1],
          [6, "M21 14H11"],
          [6, "M15 10l-4 4 4 4"],
        ],
        ClipboardList: [
          [
            6,
            "M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2",
          ],
          [
            6,
            "M15 2H9a1 1 0 00-1 1v2a1 1 0 001 1h6a1 1 0 001-1V3a1 1 0 00-1-1z",
          ],
          [6, "M12 11h4"],
          [6, "M12 16h4"],
          [6, "M8 11h.01"],
          [6, "M8 16h.01"],
        ],
        ClipboardX: [
          [
            6,
            "M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2",
          ],
          [
            6,
            "M15 2H9a1 1 0 00-1 1v2a1 1 0 001 1h6a1 1 0 001-1V3a1 1 0 00-1-1z",
          ],
          [6, "M15 11l-6 6"],
          [6, "M9 11l6 6"],
        ],
        Clipboard: [
          [
            6,
            "M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2",
          ],
          [5, 8, 2, 8, 4, 1, 1],
        ],
        Clock1: [
          [1, 12, 12, 10],
          [2, "12 6 12 12 14.5 8"],
        ],
        Clock10: [
          [1, 12, 12, 10],
          [2, "12 6 12 12 8 10"],
        ],
        Clock11: [
          [1, 12, 12, 10],
          [2, "12 6 12 12 9.5 8"],
        ],
        Clock12: [
          [1, 12, 12, 10],
          [2, "12 6 12 12"],
        ],
        Clock2: [
          [1, 12, 12, 10],
          [2, "12 6 12 12 16 10"],
        ],
        Clock3: [
          [1, 12, 12, 10],
          [2, "12 6 12 12 16.5 12"],
        ],
        Clock4: [
          [1, 12, 12, 10],
          [2, "12 6 12 12 16 14"],
        ],
        Clock5: [
          [1, 12, 12, 10],
          [2, "12 6 12 12 14.5 16"],
        ],
        Clock6: [
          [1, 12, 12, 10],
          [2, "12 6 12 12 12 16.5"],
        ],
        Clock7: [
          [1, 12, 12, 10],
          [2, "12 6 12 12 9.5 16"],
        ],
        Clock8: [
          [1, 12, 12, 10],
          [2, "12 6 12 12 8 14"],
        ],
        Clock9: [
          [1, 12, 12, 10],
          [2, "12 6 12 12 7.5 12"],
        ],
        Clock: [
          [1, 12, 12, 10],
          [2, "12 6 12 12 16 14"],
        ],
        CloudDrizzle: [
          [6, "M20 16.2A4.5 4.5 0 0017.5 8h-1.8A7 7 0 104 14.9"],
          [6, "M8 19v1"],
          [6, "M8 14v1"],
          [6, "M16 19v1"],
          [6, "M16 14v1"],
          [6, "M12 21v1"],
          [6, "M12 16v1"],
        ],
        CloudFog: [
          [6, "M20 16.2A4.5 4.5 0 0017.5 8h-1.8A7 7 0 104 14.9"],
          [6, "M16 17H7"],
          [6, "M17 21H9"],
        ],
        CloudHail: [
          [6, "M20 16.2A4.5 4.5 0 0017.5 8h-1.8A7 7 0 104 14.9"],
          [6, "M16 14v2"],
          [6, "M8 14v2"],
          [6, "M16 20h0"],
          [6, "M8 20h0"],
          [6, "M12 16v2"],
          [6, "M12 22h0"],
        ],
        CloudLightning: [
          [6, "M17.5 17a4.5 4.5 0 100-9h-1.8a7 7 0 10-10.3 8"],
          [6, "M12 12l-3 5h5l-3 5"],
        ],
        CloudMoon: [
          [
            6,
            "M13.63 22A3.3 3.3 0 0017 18.79a3.3 3.3 0 00-3.38-3.22h-1.34A5.23 5.23 0 007.25 12 5.13 5.13 0 002 17c0 2.76 2.35 5 5.25 5h6.38z",
          ],
          [
            6,
            "M9.95 9a6.13 6.13 0 015.5-5.18 4.77 4.77 0 006.67 6.67A6.13 6.13 0 0119.46 15",
          ],
        ],
        CloudOff: [
          [6, "M2 2l20 20"],
          [6, "M10 5a7 7 0 015.7 5h1.8a4.5 4.5 0 014 6.5"],
          [6, "M18.8 18.8c-.4.2-.8.2-1.3.2H9A7 7 0 015.8 5.8"],
        ],
        CloudRainWind: [
          [6, "M20 16.2A4.5 4.5 0 0017.5 8h-1.8A7 7 0 104 14.9"],
          [6, "M9.2 22l3-7"],
          [6, "M9 13l-3 7"],
          [6, "M17 13l-3 7"],
        ],
        CloudRain: [
          [6, "M20 16.2A4.5 4.5 0 0017.5 8h-1.8A7 7 0 104 14.9"],
          [6, "M16 14v6"],
          [6, "M8 14v6"],
          [6, "M12 16v6"],
        ],
        CloudSnow: [
          [6, "M20 16.2A4.5 4.5 0 0017.5 8h-1.8A7 7 0 104 14.9"],
          [6, "M8 15h0"],
          [6, "M8 19h0"],
          [6, "M12 17h0"],
          [6, "M12 21h0"],
          [6, "M16 15h0"],
          [6, "M16 19h0"],
        ],
        CloudSun: [
          [6, "M12 2v2"],
          [6, "M5.22 5.22l1.42 1.42"],
          [6, "M20 12h2"],
          [6, "M15.97 12.5A4 4 0 009.5 8.88"],
          [
            6,
            "M13.63 22A3.3 3.3 0 0017 18.79a3.3 3.3 0 00-3.38-3.22h-1.34A5.23 5.23 0 007.25 12 5.13 5.13 0 002 17c0 2.76 2.35 5 5.25 5h6.38z",
          ],
          [6, "M17.36 6.64l1.42-1.42"],
        ],
        Cloud: [[6, "M17.5 19a4.5 4.5 0 100-9h-1.8A7 7 0 109 19h8.5z"]],
        Cloudy: [
          [6, "M17.5 21a4.5 4.5 0 100-9h-1.8A7 7 0 109 21h8.5z"],
          [
            6,
            "M22 10c0-1.5-1.5-3-3.5-3H17c-.7-2.3-2.9-4-5.4-4-2.7 0-5 2-5.5 4.5",
          ],
        ],
        Clover: [
          [
            6,
            "M16.2 3.8a2.7 2.7 0 00-3.81 0l-.4.38-.4-.4a2.7 2.7 0 00-3.82 0C6.73 4.85 6.67 6.64 8 8l4 4 4-4c1.33-1.36 1.27-3.15.2-4.2z",
          ],
          [
            6,
            "M8 8c-1.36-1.33-3.15-1.27-4.2-.2a2.7 2.7 0 000 3.81l.38.4-.4.4a2.7 2.7 0 000 3.82C4.85 17.27 6.64 17.33 8 16",
          ],
          [
            6,
            "M16 16c1.36 1.33 3.15 1.27 4.2.2a2.7 2.7 0 000-3.81l-.38-.4.4-.4a2.7 2.7 0 000-3.82C19.15 6.73 17.36 6.67 16 8",
          ],
          [
            6,
            "M7.8 20.2a2.7 2.7 0 003.81 0l.4-.38.4.4a2.7 2.7 0 003.82 0c1.06-1.06 1.12-2.85-.21-4.21l-4-4-4 4c-1.33 1.36-1.27 3.15-.2 4.2z",
          ],
          [6, "M7 17l-5 5"],
        ],
        Code2: [
          [6, "M18 16l4-4-4-4"],
          [6, "M6 8l-4 4 4 4"],
          [6, "M14.5 4l-5 16"],
        ],
        Code: [
          [2, "16 18 22 12 16 6"],
          [2, "8 6 2 12 8 18"],
        ],
        Codepen: [
          [3, "12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"],
          [0, 12, 22, 12, 15.5],
          [2, "22 8.5 12 15.5 2 8.5"],
          [2, "2 15.5 12 8.5 22 15.5"],
          [0, 12, 2, 12, 8.5],
        ],
        Codesandbox: [
          [
            6,
            "M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z",
          ],
          [2, "7.5 4.21 12 6.81 16.5 4.21"],
          [2, "7.5 19.79 7.5 14.6 3 12"],
          [2, "21 12 16.5 14.6 16.5 19.79"],
          [2, "3.27 6.96 12 12.01 20.73 6.96"],
          [0, 12, 22.08, 12, 12],
        ],
        Coffee: [
          [6, "M18 8h1a4 4 0 010 8h-1"],
          [6, "M2 8h16v9a4 4 0 01-4 4H6a4 4 0 01-4-4V8z"],
          [0, 6, 1, 6, 4],
          [0, 10, 1, 10, 4],
          [0, 14, 1, 14, 4],
        ],
        Coins: [
          [1, 8, 8, 7],
          [6, "M19.5 9.94a7 7 0 11-9.56 9.56"],
          [6, "M7 6h1v4"],
          [6, "M17.3 14.3l.7.7-2.8 2.8"],
        ],
        Columns: [
          [5, 3, 3, 18, 18, 2, 2],
          [0, 12, 3, 12, 21],
        ],
        Command: [
          [
            6,
            "M18 3a3 3 0 00-3 3v12a3 3 0 003 3 3 3 0 003-3 3 3 0 00-3-3H6a3 3 0 00-3 3 3 3 0 003 3 3 3 0 003-3V6a3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3h12a3 3 0 003-3 3 3 0 00-3-3z",
          ],
        ],
        Compass: [
          [1, 12, 12, 10],
          [3, "16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"],
        ],
        Contact: [
          [
            6,
            "M19 22H5c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2z",
          ],
          [0, 16, 2, 16, 4],
          [0, 8, 2, 8, 4],
          [1, 12, 11, 3],
          [6, "M17 18.5c-1.4-1-3.1-1.5-5-1.5s-3.6.6-5 1.5"],
        ],
        Contrast: [
          [1, 12, 12, 10],
          [6, "M12 18a6 6 0 000-12v12z"],
        ],
        Cookie: [
          [6, "M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5"],
          [6, "M8.5 8.5v.01"],
          [6, "M16 15.5v.01"],
          [6, "M12 12v.01"],
          [6, "M11 17v.01"],
          [6, "M7 14v.01"],
        ],
        Copy: [
          [5, 9, 9, 13, 13, 2, 2],
          [6, "M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"],
        ],
        Copyleft: [
          [1, 12, 12, 10],
          [6, "M9 9.35a4 4 0 110 5.3"],
        ],
        Copyright: [
          [1, 12, 12, 10],
          [6, "M15 9.354a4 4 0 100 5.292"],
        ],
        CornerDownLeft: [
          [2, "9 10 4 15 9 20"],
          [6, "M20 4v7a4 4 0 01-4 4H4"],
        ],
        CornerDownRight: [
          [2, "15 10 20 15 15 20"],
          [6, "M4 4v7a4 4 0 004 4h12"],
        ],
        CornerLeftDown: [
          [2, "14 15 9 20 4 15"],
          [6, "M20 4h-7a4 4 0 00-4 4v12"],
        ],
        CornerLeftUp: [
          [2, "14 9 9 4 4 9"],
          [6, "M20 20h-7a4 4 0 01-4-4V4"],
        ],
        CornerRightDown: [
          [2, "10 15 15 20 20 15"],
          [6, "M4 4h7a4 4 0 014 4v12"],
        ],
        CornerRightUp: [
          [2, "10 9 15 4 20 9"],
          [6, "M4 20h7a4 4 0 004-4V4"],
        ],
        CornerUpLeft: [
          [2, "9 14 4 9 9 4"],
          [6, "M20 20v-7a4 4 0 00-4-4H4"],
        ],
        CornerUpRight: [
          [2, "15 14 20 9 15 4"],
          [6, "M4 20v-7a4 4 0 014-4h12"],
        ],
        Cpu: [
          [5, 4, 4, 16, 16, 2, 2],
          [5, 9, 9, 6, 6],
          [0, 9, 1, 9, 4],
          [0, 15, 1, 15, 4],
          [0, 9, 20, 9, 23],
          [0, 15, 20, 15, 23],
          [0, 20, 9, 23, 9],
          [0, 20, 14, 23, 14],
          [0, 1, 9, 4, 9],
          [0, 1, 14, 4, 14],
        ],
        CreditCard: [
          [5, 1, 4, 22, 16, 2, 2],
          [0, 1, 10, 23, 10],
        ],
        Crop: [
          [6, "M6.13 1L6 16a2 2 0 002 2h15"],
          [6, "M1 6.13L16 6a2 2 0 012 2v15"],
        ],
        Cross: [
          [
            6,
            "M11 2a2 2 0 00-2 2v5H4a2 2 0 00-2 2v2c0 1.1.9 2 2 2h5v5c0 1.1.9 2 2 2h2a2 2 0 002-2v-5h5a2 2 0 002-2v-2a2 2 0 00-2-2h-5V4a2 2 0 00-2-2h-2z",
          ],
        ],
        Crosshair: [
          [1, 12, 12, 10],
          [0, 22, 12, 18, 12],
          [0, 6, 12, 2, 12],
          [0, 12, 6, 12, 2],
          [0, 12, 22, 12, 18],
        ],
        Crown: [[6, "M2 4l3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"]],
        Currency: [
          [1, 12, 12, 8],
          [0, 3, 3, 6, 6],
          [0, 21, 3, 18, 6],
          [0, 3, 21, 6, 18],
          [0, 21, 21, 18, 18],
        ],
        Database: [
          [4, 12, 5, 9, 3],
          [6, "M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"],
          [6, "M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"],
        ],
        Delete: [
          [6, "M21 4H8l-7 8 7 8h13a2 2 0 002-2V6a2 2 0 00-2-2z"],
          [0, 18, 9, 12, 15],
          [0, 12, 9, 18, 15],
        ],
        Disc: [
          [1, 12, 12, 10],
          [1, 12, 12, 3],
        ],
        DivideCircle: [
          [0, 8, 12, 16, 12],
          [0, 12, 16, 12, 16],
          [0, 12, 8, 12, 8],
          [1, 12, 12, 10],
        ],
        DivideSquare: [
          [5, 3, 3, 18, 18, 2, 2],
          [0, 8, 12, 16, 12],
          [0, 12, 16, 12, 16],
          [0, 12, 8, 12, 8],
        ],
        Divide: [
          [1, 12, 6, 1],
          [0, 5, 12, 19, 12],
          [1, 12, 18, 1],
        ],
        DollarSign: [
          [0, 12, 1, 12, 23],
          [6, "M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"],
        ],
        DownloadCloud: [
          [6, "M20 16.2A4.5 4.5 0 0017.5 8h-1.8A7 7 0 104 14.9"],
          [6, "M12 12v9"],
          [6, "M8 17l4 4 4-4"],
        ],
        Download: [
          [6, "M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"],
          [2, "7 10 12 15 17 10"],
          [0, 12, 15, 12, 3],
        ],
        Dribbble: [
          [1, 12, 12, 10],
          [
            6,
            "M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32",
          ],
        ],
        Droplet: [
          [
            6,
            "M12 22a7 7 0 007-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 007 7z",
          ],
        ],
        Droplets: [
          [
            6,
            "M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",
          ],
          [
            6,
            "M12.56 6.6A10.97 10.97 0 0014 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 01-11.91 4.97",
          ],
        ],
        Drumstick: [
          [
            6,
            "M15.45 15.4c-2.13.65-4.3.32-5.7-1.1-2.29-2.27-1.76-6.5 1.17-9.42 2.93-2.93 7.15-3.46 9.43-1.18 1.41 1.41 1.74 3.57 1.1 5.71-1.4-.51-3.26-.02-4.64 1.36-1.38 1.38-1.87 3.23-1.36 4.63z",
          ],
          [
            6,
            "M11.25 15.6l-2.16 2.16a2.5 2.5 0 11-4.56 1.73 2.49 2.49 0 01-1.41-4.24 2.5 2.5 0 013.14-.32l2.16-2.16",
          ],
        ],
        Edit2: [[6, "M17 3a2.828 2.828 0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"]],
        Edit3: [
          [6, "M12 20h9"],
          [6, "M16.5 3.5a2.121 2.121 0 013 3L7 19l-4 1 1-4L16.5 3.5z"],
        ],
        Edit: [
          [6, "M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"],
          [6, "M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"],
        ],
        Egg: [
          [
            6,
            "M12 22c6.23-.05 7.87-5.57 7.5-10-.36-4.34-3.95-9.96-7.5-10-3.55.04-7.14 5.66-7.5 10-.37 4.43 1.27 9.95 7.5 10z",
          ],
        ],
        EqualNot: [
          [0, 5, 9, 19, 9],
          [0, 5, 15, 19, 15],
          [0, 19, 5, 5, 19],
        ],
        Equal: [
          [0, 5, 9, 19, 9],
          [0, 5, 15, 19, 15],
        ],
        Euro: [
          [6, "M4 10h12"],
          [6, "M4 14h9"],
          [
            6,
            "M19 6a7.7 7.7 0 00-5.2-2A7.9 7.9 0 006 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",
          ],
        ],
        Expand: [
          [6, "M21 21l-6-6m6 6v-4.8m0 4.8h-4.8"],
          [6, "M3 16.2V21m0 0h4.8M3 21l6-6"],
          [6, "M21 7.8V3m0 0h-4.8M21 3l-6 6"],
          [6, "M3 7.8V3m0 0h4.8M3 3l6 6"],
        ],
        ExternalLink: [
          [6, "M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"],
          [2, "15 3 21 3 21 9"],
          [0, 10, 14, 21, 3],
        ],
        EyeOff: [
          [
            6,
            "M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24",
          ],
          [0, 1, 1, 23, 23],
        ],
        Eye: [
          [6, "M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],
          [1, 12, 12, 3],
        ],
        Facebook: [
          [6, "M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"],
        ],
        FastForward: [
          [3, "13 19 22 12 13 5 13 19"],
          [3, "2 19 11 12 2 5 2 19"],
        ],
        Feather: [
          [6, "M20.24 12.24a6 6 0 00-8.49-8.49L5 10.5V19h8.5z"],
          [0, 16, 8, 2, 22],
          [0, 17.5, 15, 9, 15],
        ],
        Figma: [
          [6, "M5 5.5A3.5 3.5 0 018.5 2H12v7H8.5A3.5 3.5 0 015 5.5z"],
          [6, "M12 2h3.5a3.5 3.5 0 110 7H12V2z"],
          [6, "M12 12.5a3.5 3.5 0 117 0 3.5 3.5 0 11-7 0z"],
          [6, "M5 19.5A3.5 3.5 0 018.5 16H12v3.5a3.5 3.5 0 11-7 0z"],
          [6, "M5 12.5A3.5 3.5 0 018.5 9H12v7H8.5A3.5 3.5 0 015 12.5z"],
        ],
        FileCheck2: [
          [6, "M4 22h14a2 2 0 002-2V7.5L14.5 2H6a2 2 0 00-2 2v4"],
          [6, "M14 2v6h6"],
          [6, "M3 15l2 2 4-4"],
        ],
        FileCheck: [
          [
            6,
            "M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z",
          ],
          [2, "14 2 14 8 20 8"],
          [6, "M9 15l2 2 4-4"],
        ],
        FileCode: [
          [6, "M4 22h14a2 2 0 002-2V7.5L14.5 2H6a2 2 0 00-2 2v4"],
          [6, "M14 2v6h6"],
          [6, "M9 18l3-3-3-3"],
          [6, "M5 12l-3 3 3 3"],
        ],
        FileDigit: [
          [6, "M4 22h14a2 2 0 002-2V7.5L14.5 2H6a2 2 0 00-2 2v4"],
          [6, "M14 2v6h6"],
          [6, "M10 12h2v6"],
          [5, 2, 12, 4, 6],
          [6, "M10 18h4"],
        ],
        FileInput: [
          [6, "M4 22h14a2 2 0 002-2V7.5L14.5 2H6a2 2 0 00-2 2v4"],
          [6, "M14 2v6h6"],
          [6, "M2 15h10"],
          [6, "M9 18l3-3-3-3"],
        ],
        FileMinus2: [
          [6, "M4 22h14a2 2 0 002-2V7.5L14.5 2H6a2 2 0 00-2 2v4"],
          [6, "M14 2v6h6"],
          [6, "M3 15h6"],
        ],
        FileMinus: [
          [
            6,
            "M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z",
          ],
          [2, "14 2 14 8 20 8"],
          [0, 9, 15, 15, 15],
        ],
        FileOutput: [
          [6, "M4 22h14a2 2 0 002-2V7.5L14.5 2H6a2 2 0 00-2 2v4"],
          [6, "M14 2v6h6"],
          [6, "M2 15h10"],
          [6, "M5 12l-3 3 3 3"],
        ],
        FilePlus2: [
          [6, "M4 22h14a2 2 0 002-2V7.5L14.5 2H6a2 2 0 00-2 2v4"],
          [6, "M14 2v6h6"],
          [6, "M3 15h6"],
          [6, "M6 12v6"],
        ],
        FilePlus: [
          [
            6,
            "M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z",
          ],
          [2, "14 2 14 8 20 8"],
          [0, 12, 18, 12, 12],
          [0, 9, 15, 15, 15],
        ],
        FileSearch: [
          [6, "M4 22h14a2 2 0 002-2V7.5L14.5 2H6a2 2 0 00-2 2v3"],
          [6, "M14 2v6h6"],
          [6, "M5 17a3 3 0 100-6 3 3 0 000 6z"],
          [6, "M9 18l-1.5-1.5"],
        ],
        FileText: [
          [
            6,
            "M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z",
          ],
          [2, "14 2 14 8 20 8"],
          [0, 16, 13, 8, 13],
          [0, 16, 17, 8, 17],
          [0, 10, 9, 8, 9],
        ],
        FileX2: [
          [6, "M4 22h14a2 2 0 002-2V7.5L14.5 2H6a2 2 0 00-2 2v4"],
          [6, "M14 2v6h6"],
          [6, "M3 12.5l5 5"],
          [6, "M8 12.5l-5 5"],
        ],
        FileX: [
          [
            6,
            "M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z",
          ],
          [2, "14 2 14 8 20 8"],
          [0, 9.5, 12.5, 14.5, 17.5],
          [0, 14.5, 12.5, 9.5, 17.5],
        ],
        File: [
          [
            6,
            "M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z",
          ],
          [2, "14 2 14 8 20 8"],
        ],
        Files: [
          [
            6,
            "M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7.5-1.1V6.5L15.5 2z",
          ],
          [6, "M3 7.6v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8"],
          [6, "M15 2v5h5"],
        ],
        Film: [
          [5, 2, 2, 20, 20, 2.18, 2.18],
          [0, 7, 2, 7, 22],
          [0, 17, 2, 17, 22],
          [0, 2, 12, 22, 12],
          [0, 2, 7, 7, 7],
          [0, 2, 17, 7, 17],
          [0, 17, 17, 22, 17],
          [0, 17, 7, 22, 7],
        ],
        Filter: [[3, "22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"]],
        FlagTriangleLeft: [[6, "M17 22V2L7 7l10 5"]],
        FlagTriangleRight: [[6, "M7 22V2l10 5-10 5"]],
        Flag: [
          [6, "M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"],
          [0, 4, 22, 4, 15],
        ],
        Flame: [
          [
            6,
            "M8.5 14.5A2.5 2.5 0 0011 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 11-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 002.5 2.5z",
          ],
        ],
        FlashlightOff: [
          [6, "M16 16v4a2 2 0 01-2 2h-4a2 2 0 01-2-2V10c0-2-2-2-2-4"],
          [6, "M7 2h11v4c0 2-2 2-2 4v1"],
          [0, 11, 6, 18, 6],
          [0, 2, 2, 22, 22],
        ],
        Flashlight: [
          [
            6,
            "M18 6c0 2-2 2-2 4v10a2 2 0 01-2 2h-4a2 2 0 01-2-2V10c0-2-2-2-2-4V2h12z",
          ],
          [0, 6, 6, 18, 6],
          [0, 12, 12, 12, 12],
        ],
        FlaskConical: [
          [
            6,
            "M10 2v8L4.72 20.55a1 1 0 00.9 1.45h12.76a1 1 0 00.9-1.45L14 10V2",
          ],
          [6, "M8.5 2h7"],
          [6, "M7 16h10"],
        ],
        FlaskRound: [
          [6, "M10 2v7.31"],
          [6, "M14 9.3V1.99"],
          [6, "M8.5 2h7"],
          [6, "M14 9.3a6.5 6.5 0 11-4 0"],
          [6, "M5.58 16.5h12.85"],
        ],
        FolderMinus: [
          [
            6,
            "M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z",
          ],
          [0, 9, 14, 15, 14],
        ],
        FolderOpen: [
          [
            6,
            "M6 17l2-5h14l-3 8a2 2 0 01-2 1H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h7a2 2 0 012 2v4",
          ],
        ],
        FolderPlus: [
          [
            6,
            "M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z",
          ],
          [0, 12, 11, 12, 17],
          [0, 9, 14, 15, 14],
        ],
        Folder: [
          [
            6,
            "M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z",
          ],
        ],
        FormInput: [
          [5, 2, 6, 20, 12, 2],
          [6, "M12 12h.01"],
          [6, "M17 12h.01"],
          [6, "M7 12h.01"],
        ],
        Forward: [
          [2, "15 17 20 12 15 7"],
          [6, "M4 18v-2a4 4 0 014-4h12"],
        ],
        Framer: [[6, "M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"]],
        Frown: [
          [1, 12, 12, 10],
          [6, "M16 16s-1.5-2-4-2-4 2-4 2"],
          [0, 9, 9, 9.01, 9],
          [0, 15, 9, 15.01, 9],
        ],
        FunctionSquare: [
          [5, 3, 3, 18, 18, 2, 2],
          [6, "M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3"],
          [6, "M9 11.2h5.7"],
        ],
        Gamepad2: [
          [0, 6, 11, 10, 11],
          [0, 8, 9, 8, 13],
          [0, 15, 12, 15.01, 12],
          [0, 18, 10, 18.01, 10],
          [
            6,
            "M17.32 5H6.68a4 4 0 00-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 003 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 019.828 16h4.344a2 2 0 011.414.586L17 18c.5.5 1 1 2 1a3 3 0 003-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0017.32 5z",
          ],
        ],
        Gamepad: [
          [0, 6, 12, 10, 12],
          [0, 8, 10, 8, 14],
          [0, 15, 13, 15.01, 13],
          [0, 18, 11, 18.01, 11],
          [5, 2, 6, 20, 12, 2],
        ],
        Gauge: [
          [6, "M12 15l3.5-3.5"],
          [
            6,
            "M20.3 18c.4-1 .7-2.2.7-3.4C21 9.8 17 6 12 6s-9 3.8-9 8.6c0 1.2.3 2.4.7 3.4",
          ],
        ],
        Gavel: [
          [
            6,
            "M14 13l-7.5 7.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 010-3L11 10",
          ],
          [6, "M16 16l6-6"],
          [6, "M8 8l6-6"],
          [6, "M9 7l8 8"],
          [6, "M21 11l-8-8"],
        ],
        Gem: [
          [3, "6 3 18 3 22 9 12 22 2 9"],
          [6, "M12 22l4-13-3-6"],
          [6, "M12 22L8 9l3-6"],
          [6, "M2 9h20"],
        ],
        Ghost: [
          [6, "M9 10h.01"],
          [6, "M15 10h.01"],
          [
            6,
            "M12 2a8 8 0 00-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 00-8-8z",
          ],
        ],
        Gift: [
          [2, "20 12 20 22 4 22 4 12"],
          [5, 2, 7, 20, 5],
          [0, 12, 22, 12, 7],
          [6, "M12 7H7.5a2.5 2.5 0 010-5C11 2 12 7 12 7z"],
          [6, "M12 7h4.5a2.5 2.5 0 000-5C13 2 12 7 12 7z"],
        ],
        GitBranchPlus: [
          [6, "M6 3v12"],
          [6, "M18 9a3 3 0 100-6 3 3 0 000 6z"],
          [6, "M6 21a3 3 0 100-6 3 3 0 000 6z"],
          [6, "M15 6a9 9 0 00-9 9"],
          [6, "M18 15v6"],
          [6, "M21 18h-6"],
        ],
        GitBranch: [
          [0, 6, 3, 6, 15],
          [1, 18, 6, 3],
          [1, 6, 18, 3],
          [6, "M18 9a9 9 0 01-9 9"],
        ],
        GitCommit: [
          [1, 12, 12, 3],
          [0, 3, 12, 9, 12],
          [0, 15, 12, 21, 12],
        ],
        GitMerge: [
          [1, 18, 18, 3],
          [1, 6, 6, 3],
          [6, "M6 21V9a9 9 0 009 9"],
        ],
        GitPullRequest: [
          [1, 18, 18, 3],
          [1, 6, 6, 3],
          [6, "M13 6h3a2 2 0 012 2v7"],
          [0, 6, 9, 6, 21],
        ],
        Github: [
          [
            6,
            "M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0020 4.77 5.07 5.07 0 0019.91 1S18.73.65 16 2.48a13.38 13.38 0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 005 4.77a5.44 5.44 0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 009 18.13V22",
          ],
        ],
        Gitlab: [
          [
            6,
            "M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 01-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 014.82 2a.43.43 0 01.58 0 .42.42 0 01.11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0118.6 2a.43.43 0 01.58 0 .42.42 0 01.11.18l2.44 7.51L23 13.45a.84.84 0 01-.35.94z",
          ],
        ],
        Glasses: [
          [1, 6, 15, 4],
          [1, 18, 15, 4],
          [6, "M14 15a2 2 0 00-2-2 2 2 0 00-2 2"],
          [6, "M2.5 13L5 7c.7-1.3 1.4-2 3-2"],
          [6, "M21.5 13L19 7c-.7-1.3-1.5-2-3-2"],
        ],
        Globe2: [
          [6, "M15 21v-4a2 2 0 012-2h4"],
          [6, "M7 4v2a3 3 0 003 2h0a2 2 0 012 2 2 2 0 004 0 2 2 0 012-2h3"],
          [6, "M3 11h2a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v4"],
          [1, 12, 12, 10],
        ],
        Globe: [
          [1, 12, 12, 10],
          [0, 2, 12, 22, 12],
          [
            6,
            "M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z",
          ],
        ],
        Grab: [
          [6, "M18 11.5V9a2 2 0 00-2-2v0a2 2 0 00-2 2v1.4"],
          [6, "M14 10V8a2 2 0 00-2-2v0a2 2 0 00-2 2v2"],
          [6, "M10 9.9V9a2 2 0 00-2-2v0a2 2 0 00-2 2v5"],
          [6, "M6 14v0a2 2 0 00-2-2v0a2 2 0 00-2 2v0"],
          [
            6,
            "M18 11v0a2 2 0 114 0v3a8 8 0 01-8 8h-4a8 8 0 01-8-8 2 2 0 114 0",
          ],
        ],
        GraduationCap: [
          [6, "M22 10v6M2 10l10-5 10 5-10 5z"],
          [6, "M6 12v5c3 3 9 3 12 0v-5"],
        ],
        Grid: [
          [5, 3, 3, 18, 18, 2, 2],
          [0, 3, 9, 21, 9],
          [0, 3, 15, 21, 15],
          [0, 9, 3, 9, 21],
          [0, 15, 3, 15, 21],
        ],
        GripHorizontal: [
          [1, 12, 9, 1],
          [1, 19, 9, 1],
          [1, 5, 9, 1],
          [1, 12, 15, 1],
          [1, 19, 15, 1],
          [1, 5, 15, 1],
        ],
        GripVertical: [
          [1, 9, 12, 1],
          [1, 9, 5, 1],
          [1, 9, 19, 1],
          [1, 15, 12, 1],
          [1, 15, 5, 1],
          [1, 15, 19, 1],
        ],
        Hammer: [
          [
            6,
            "M15 12l-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 010-3L12 9",
          ],
          [6, "M17.64 15L22 10.64"],
          [
            6,
            "M20.91 11.7l-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 00-3.94-1.64H9l.92.82A6.18 6.18 0 0112 8.4v1.56l2 2h2.47l2.26 1.91",
          ],
        ],
        HandMetal: [
          [6, "M18 12.5V10a2 2 0 00-2-2v0a2 2 0 00-2 2v1.4"],
          [6, "M14 11V9a2 2 0 10-4 0v2"],
          [6, "M10 10.5V5a2 2 0 10-4 0v9"],
          [
            6,
            "M7 15l-1.76-1.76a2 2 0 00-2.83 2.82l3.6 3.6C7.5 21.14 9.2 22 12 22h2a8 8 0 008-8V7a2 2 0 10-4 0v5",
          ],
        ],
        Hand: [
          [6, "M18 11V6a2 2 0 00-2-2v0a2 2 0 00-2 2v0"],
          [6, "M14 10V4a2 2 0 00-2-2v0a2 2 0 00-2 2v2"],
          [6, "M10 10.5V6a2 2 0 00-2-2v0a2 2 0 00-2 2v8"],
          [
            6,
            "M18 8a2 2 0 114 0v6a8 8 0 01-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 012.83-2.82L7 15",
          ],
        ],
        HardDrive: [
          [0, 22, 12, 2, 12],
          [
            6,
            "M5.45 5.11L2 12v6a2 2 0 002 2h16a2 2 0 002-2v-6l-3.45-6.89A2 2 0 0016.76 4H7.24a2 2 0 00-1.79 1.11z",
          ],
          [0, 6, 16, 6.01, 16],
          [0, 10, 16, 10.01, 16],
        ],
        HardHat: [
          [
            6,
            "M2 18a1 1 0 001 1h18a1 1 0 001-1v-2a1 1 0 00-1-1H3a1 1 0 00-1 1v2z",
          ],
          [6, "M10 10V5a1 1 0 011-1h2a1 1 0 011 1v5"],
          [6, "M4 15v-3a6 6 0 016-6h0"],
          [6, "M14 6h0a6 6 0 016 6v3"],
        ],
        Hash: [
          [0, 4, 9, 20, 9],
          [0, 4, 15, 20, 15],
          [0, 10, 3, 8, 21],
          [0, 16, 3, 14, 21],
        ],
        Haze: [
          [6, "M5.2 6.2l1.4 1.4"],
          [6, "M2 13h2"],
          [6, "M20 13h2"],
          [6, "M17.4 7.6l1.4-1.4"],
          [6, "M22 17H2"],
          [6, "M22 21H2"],
          [6, "M16 13a4 4 0 00-8 0"],
          [6, "M12 5V2.5"],
        ],
        Headphones: [
          [6, "M3 18v-6a9 9 0 0118 0v6"],
          [
            6,
            "M21 19a2 2 0 01-2 2h-1a2 2 0 01-2-2v-3a2 2 0 012-2h3zM3 19a2 2 0 002 2h1a2 2 0 002-2v-3a2 2 0 00-2-2H3z",
          ],
        ],
        Heart: [
          [
            6,
            "M20.42 4.58a5.4 5.4 0 00-7.65 0l-.77.78-.77-.78a5.4 5.4 0 00-7.65 0C1.46 6.7 1.33 10.28 4 13l8 8 8-8c2.67-2.72 2.54-6.3.42-8.42z",
          ],
        ],
        HelpCircle: [
          [1, 12, 12, 10],
          [6, "M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"],
          [0, 12, 17, 12.01, 17],
        ],
        Hexagon: [
          [
            6,
            "M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z",
          ],
        ],
        Highlighter: [
          [6, "M9 11l-6 6v3h9l3-3"],
          [6, "M22 12l-4.6 4.6a2 2 0 01-2.8 0l-5.2-5.2a2 2 0 010-2.8L14 4"],
        ],
        History: [
          [6, "M3 3v5h5"],
          [6, "M3.05 13A9 9 0 106 5.3L3 8"],
          [6, "M12 7v5l4 2"],
        ],
        Home: [
          [6, "M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"],
          [2, "9 22 9 12 15 12 15 22"],
        ],
        ImageMinus: [
          [6, "M21 11v8a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h8"],
          [6, "M8.5 10a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"],
          [6, "M21 15l-5-5L5 21"],
          [6, "M22 5h-6"],
        ],
        ImageOff: [
          [6, "M2 2l20 20"],
          [
            6,
            "M9 3h10a2 2 0 012 2v10M3.59 3.59A2 2 0 003 5v14c0 1.1.9 2 2 2h14a2 2 0 001.41-.59",
          ],
          [6, "M9.56 9.56a1.5 1.5 0 01-2.12-2.12"],
          [6, "M21 15l-5-5M5 21l8-8"],
        ],
        ImagePlus: [
          [6, "M21 11v8a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h8"],
          [6, "M8.5 10a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"],
          [6, "M21 15l-5-5L5 21"],
          [6, "M19 2v6"],
          [6, "M22 5h-6"],
        ],
        Image: [
          [5, 3, 3, 18, 18, 2, 2],
          [1, 8.5, 8.5, 1.5],
          [2, "21 15 16 10 5 21"],
        ],
        Import: [
          [6, "M12 3v12"],
          [6, "M8 11l4 4 4-4"],
          [
            6,
            "M8 5H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2V7a2 2 0 00-2-2h-4",
          ],
        ],
        Inbox: [
          [2, "22 12 16 12 14 15 10 15 8 12 2 12"],
          [
            6,
            "M5.45 5.11L2 12v6a2 2 0 002 2h16a2 2 0 002-2v-6l-3.45-6.89A2 2 0 0016.76 4H7.24a2 2 0 00-1.79 1.11z",
          ],
        ],
        Indent: [
          [2, "3 8 7 12 3 16"],
          [0, 21, 12, 11, 12],
          [0, 21, 6, 11, 6],
          [0, 21, 18, 11, 18],
        ],
        IndianRupee: [
          [6, "M6 3h12"],
          [6, "M6 8h12"],
          [6, "M6 13l8.5 8"],
          [6, "M6 13h3"],
          [6, "M9 13c6.667 0 6.667-10 0-10"],
        ],
        Infinity: [
          [
            6,
            "M18.178 8c5.096 0 5.096 8 0 8-5.095 0-7.133-8-12.739-8-4.585 0-4.585 8 0 8 5.606 0 7.644-8 12.74-8z",
          ],
        ],
        Info: [
          [1, 12, 12, 10],
          [0, 12, 16, 12, 12],
          [0, 12, 8, 12.01, 8],
        ],
        Inspect: [
          [6, "M19 11V4a2 2 0 00-2-2H4a2 2 0 00-2 2v13a2 2 0 002 2h7"],
          [6, "M12 12l4.166 10 1.48-4.355L22 16.166 12 12z"],
          [6, "M18 18l3 3"],
        ],
        Instagram: [
          [5, 2, 2, 20, 20, 5, 5],
          [6, "M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z"],
          [0, 17.5, 6.5, 17.51, 6.5],
        ],
        Italic: [
          [0, 19, 4, 10, 4],
          [0, 14, 20, 5, 20],
          [0, 15, 4, 9, 20],
        ],
        JapaneseYen: [
          [6, "M12 9.5V21m0-11.5L6 3m6 6.5L18 3"],
          [6, "M6 15h12"],
          [6, "M6 11h12"],
        ],
        Key: [
          [
            6,
            "M21 2l-2 2m-7.61 7.61a5.5 5.5 0 11-7.778 7.778 5.5 5.5 0 017.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4",
          ],
        ],
        Landmark: [
          [0, 3, 22, 21, 22],
          [0, 6, 18, 6, 11],
          [0, 10, 18, 10, 11],
          [0, 14, 18, 14, 11],
          [0, 18, 18, 18, 11],
          [3, "12 2 20 7 4 7"],
        ],
        Languages: [
          [6, "M5 8l6 6"],
          [6, "M4 14l6-6 2-3"],
          [6, "M2 5h12"],
          [6, "M7 2h1"],
          [6, "M22 22l-5-10-5 10"],
          [6, "M14 18h6"],
        ],
        Laptop2: [
          [5, 3, 4, 18, 12, 2, 2],
          [0, 2, 20, 22, 20],
        ],
        Laptop: [
          [
            6,
            "M20 16V7a2 2 0 00-2-2H6a2 2 0 00-2 2v9m16 0H4m16 0l1.28 2.55a1 1 0 01-.9 1.45H3.62a1 1 0 01-.9-1.45L4 16",
          ],
        ],
        LassoSelect: [
          [6, "M7 22a5 5 0 01-2-4"],
          [6, "M7 16.93c.96.43 1.96.74 2.99.91"],
          [
            6,
            "M3.34 14A6.8 6.8 0 012 10c0-4.42 4.48-8 10-8s10 3.58 10 8a7.19 7.19 0 01-.33 2",
          ],
          [6, "M5 18a2 2 0 100-4 2 2 0 000 4z"],
          [
            6,
            "M14.33 22h-.09a.35.35 0 01-.24-.32v-10a.34.34 0 01.33-.34c.08 0 .15.03.21.08l7.34 6a.33.33 0 01-.21.59h-4.49l-2.57 3.85a.35.35 0 01-.28.14v0z",
          ],
        ],
        Lasso: [
          [6, "M7 22a5 5 0 01-2-4"],
          [
            6,
            "M3.3 14A6.8 6.8 0 012 10c0-4.4 4.5-8 10-8s10 3.6 10 8-4.5 8-10 8a12 12 0 01-5-1",
          ],
          [6, "M5 18a2 2 0 100-4 2 2 0 000 4z"],
        ],
        Layers: [
          [3, "12 2 2 7 12 12 22 7 12 2"],
          [2, "2 17 12 22 22 17"],
          [2, "2 12 12 17 22 12"],
        ],
        LayoutDashboard: [
          [5, 3, 3, 7, 9],
          [5, 14, 3, 7, 5],
          [5, 14, 12, 7, 9],
          [5, 3, 16, 7, 5],
        ],
        LayoutGrid: [
          [5, 3, 3, 7, 7],
          [5, 14, 3, 7, 7],
          [5, 14, 14, 7, 7],
          [5, 3, 14, 7, 7],
        ],
        LayoutList: [
          [5, 3, 14, 7, 7],
          [5, 3, 3, 7, 7],
          [0, 14, 4, 21, 4],
          [0, 14, 9, 21, 9],
          [0, 14, 15, 21, 15],
          [0, 14, 20, 21, 20],
        ],
        LayoutTemplate: [
          [6, "M21 3H3v7h18V3z"],
          [6, "M21 14h-5v7h5v-7z"],
          [6, "M12 14H3v7h9v-7z"],
        ],
        Layout: [
          [5, 3, 3, 18, 18, 2, 2],
          [0, 3, 9, 21, 9],
          [0, 9, 21, 9, 9],
        ],
        Library: [
          [6, "M16 6l4 14"],
          [6, "M12 6v14"],
          [6, "M8 8v12"],
          [6, "M4 4v16"],
        ],
        LifeBuoy: [
          [1, 12, 12, 10],
          [1, 12, 12, 4],
          [0, 4.93, 4.93, 9.17, 9.17],
          [0, 14.83, 14.83, 19.07, 19.07],
          [0, 14.83, 9.17, 19.07, 4.93],
          [0, 14.83, 9.17, 18.36, 5.64],
          [0, 4.93, 19.07, 9.17, 14.83],
        ],
        LightbulbOff: [
          [6, "M9 18h6"],
          [6, "M10 22h4"],
          [6, "M2 2l20 20"],
          [
            6,
            "M8.91 14a4.61 4.61 0 00-1.41-2.5C6.23 10.23 6 9 6 8a6 6 0 01.084-1M9 2.804A6 6 0 0118 8a4.651 4.651 0 01-1.031 3",
          ],
        ],
        Lightbulb: [
          [0, 9, 18, 15, 18],
          [0, 10, 22, 14, 22],
          [
            6,
            "M15.09 14c.18-.98.65-1.74 1.41-2.5A4.65 4.65 0 0018 8 6 6 0 006 8c0 1 .23 2.23 1.5 3.5A4.61 4.61 0 018.91 14",
          ],
        ],
        Link2Off: [
          [6, "M15 7h2a5 5 0 014 8M9 17H7A5 5 0 017 7"],
          [0, 8, 12, 12, 12],
          [0, 2, 2, 22, 22],
        ],
        Link2: [
          [6, "M15 7h2a5 5 0 010 10h-2m-6 0H7A5 5 0 017 7h2"],
          [0, 8, 12, 16, 12],
        ],
        Link: [
          [6, "M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"],
          [6, "M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"],
        ],
        Linkedin: [
          [
            6,
            "M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z",
          ],
          [5, 2, 9, 4, 12],
          [1, 4, 4, 2],
        ],
        ListChecks: [
          [0, 10, 6, 21, 6],
          [0, 10, 12, 21, 12],
          [0, 10, 18, 21, 18],
          [2, "3 6 4 7 6 5"],
          [2, "3 12 4 13 6 11"],
          [2, "3 18 4 19 6 17"],
        ],
        ListMinus: [
          [6, "M11 12H3"],
          [6, "M16 6H3"],
          [6, "M16 18H3"],
          [6, "M21 12h-6"],
        ],
        ListOrdered: [
          [0, 10, 6, 21, 6],
          [0, 10, 12, 21, 12],
          [0, 10, 18, 21, 18],
          [6, "M4 6h1v4"],
          [6, "M4 10h2"],
          [6, "M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"],
        ],
        ListPlus: [
          [6, "M11 12H3"],
          [6, "M16 6H3"],
          [6, "M16 18H3"],
          [6, "M18 9v6"],
          [6, "M21 12h-6"],
        ],
        ListX: [
          [6, "M11 12H3"],
          [6, "M16 6H3"],
          [6, "M16 18H3"],
          [6, "M19 10l-4 4"],
          [6, "M15 10l4 4"],
        ],
        List: [
          [0, 8, 6, 21, 6],
          [0, 8, 12, 21, 12],
          [0, 8, 18, 21, 18],
          [0, 3, 6, 3.01, 6],
          [0, 3, 12, 3.01, 12],
          [0, 3, 18, 3.01, 18],
        ],
        Loader2: [[6, "M21 12a9 9 0 11-6.219-8.56"]],
        Loader: [
          [0, 12, 2, 12, 6],
          [0, 12, 18, 12, 22],
          [0, 4.93, 4.93, 7.76, 7.76],
          [0, 16.24, 16.24, 19.07, 19.07],
          [0, 2, 12, 6, 12],
          [0, 18, 12, 22, 12],
          [0, 4.93, 19.07, 7.76, 16.24],
          [0, 16.24, 7.76, 19.07, 4.93],
        ],
        LocateFixed: [
          [0, 2, 12, 5, 12],
          [0, 19, 12, 22, 12],
          [0, 12, 2, 12, 5],
          [0, 12, 19, 12, 22],
          [1, 12, 12, 7],
          [1, 12, 12, 3],
        ],
        Locate: [
          [0, 2, 12, 5, 12],
          [0, 19, 12, 22, 12],
          [0, 12, 2, 12, 5],
          [0, 12, 19, 12, 22],
          [1, 12, 12, 7],
        ],
        Lock: [
          [5, 3, 11, 18, 11, 2, 2],
          [6, "M7 11V7a5 5 0 0110 0v4"],
        ],
        LogIn: [
          [6, "M15 3h4a2 2 0 012 2v14a2 2 0 01-2 2h-4"],
          [2, "10 17 15 12 10 7"],
          [0, 15, 12, 3, 12],
        ],
        LogOut: [
          [6, "M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"],
          [2, "16 17 21 12 16 7"],
          [0, 21, 12, 9, 12],
        ],
        Mail: [
          [
            6,
            "M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z",
          ],
          [2, "22,6 12,13 2,6"],
        ],
        MapPin: [
          [6, "M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"],
          [1, 12, 10, 3],
        ],
        Map: [
          [3, "1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"],
          [0, 8, 2, 8, 18],
          [0, 16, 6, 16, 22],
        ],
        Maximize2: [
          [2, "15 3 21 3 21 9"],
          [2, "9 21 3 21 3 15"],
          [0, 21, 3, 14, 10],
          [0, 3, 21, 10, 14],
        ],
        Maximize: [
          [
            6,
            "M8 3H5a2 2 0 00-2 2v3m18 0V5a2 2 0 00-2-2h-3m0 18h3a2 2 0 002-2v-3M3 16v3a2 2 0 002 2h3",
          ],
        ],
        Megaphone: [
          [6, "M3 11l18-5v12L3 14v-3z"],
          [6, "M11.6 16.8a3 3 0 11-5.8-1.6"],
        ],
        Meh: [
          [1, 12, 12, 10],
          [0, 8, 15, 16, 15],
          [0, 9, 9, 9.01, 9],
          [0, 15, 9, 15.01, 9],
        ],
        Menu: [
          [0, 4, 12, 20, 12],
          [0, 4, 6, 20, 6],
          [0, 4, 18, 20, 18],
        ],
        MessageCircle: [
          [
            6,
            "M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z",
          ],
        ],
        MessageSquare: [
          [6, "M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"],
        ],
        MicOff: [
          [0, 1, 1, 23, 23],
          [6, "M9 9v3a3 3 0 005.12 2.12M15 9.34V4a3 3 0 00-5.94-.6"],
          [6, "M17 16.95A7 7 0 015 12v-2m14 0v2a7 7 0 01-.11 1.23"],
          [0, 12, 19, 12, 23],
          [0, 8, 23, 16, 23],
        ],
        Mic: [
          [6, "M12 1a3 3 0 00-3 3v8a3 3 0 006 0V4a3 3 0 00-3-3z"],
          [6, "M19 10v2a7 7 0 01-14 0v-2"],
          [0, 12, 19, 12, 23],
          [0, 8, 23, 16, 23],
        ],
        Minimize2: [
          [2, "4 14 10 14 10 20"],
          [2, "20 10 14 10 14 4"],
          [0, 14, 10, 21, 3],
          [0, 3, 21, 10, 14],
        ],
        Minimize: [
          [
            6,
            "M8 3v3a2 2 0 01-2 2H3m18 0h-3a2 2 0 01-2-2V3m0 18v-3a2 2 0 012-2h3M3 16h3a2 2 0 012 2v3",
          ],
        ],
        MinusCircle: [
          [1, 12, 12, 10],
          [0, 8, 12, 16, 12],
        ],
        MinusSquare: [
          [5, 3, 3, 18, 18, 2, 2],
          [0, 8, 12, 16, 12],
        ],
        Minus: [[0, 5, 12, 19, 12]],
        MonitorOff: [
          [6, "M17 17H4a2 2 0 01-2-2V5c0-1.5 1-2 1-2"],
          [6, "M22 15V5a2 2 0 00-2-2H9"],
          [6, "M8 21h8"],
          [6, "M12 17v4"],
          [6, "M2 2l20 20"],
        ],
        MonitorSpeaker: [
          [6, "M5.5 20H8"],
          [6, "M17 9h.01"],
          [5, 12, 4, 10, 16, 2],
          [6, "M8 6H4a2 2 0 00-2 2v6a2 2 0 002 2h4"],
          [1, 17, 15, 1],
        ],
        Monitor: [
          [5, 2, 3, 20, 14, 2, 2],
          [0, 8, 21, 16, 21],
          [0, 12, 17, 12, 21],
        ],
        Moon: [[6, "M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"]],
        MoreHorizontal: [
          [1, 12, 12, 1],
          [1, 19, 12, 1],
          [1, 5, 12, 1],
        ],
        MoreVertical: [
          [1, 12, 12, 1],
          [1, 12, 5, 1],
          [1, 12, 19, 1],
        ],
        MountainSnow: [
          [6, "M8 3l4 8 5-5 5 15H2L8 3z"],
          [
            6,
            "M4.14 15.08c2.62-1.57 5.24-1.43 7.86.42 2.74 1.94 5.49 2 8.23.19",
          ],
        ],
        Mountain: [[6, "M8 3l4 8 5-5 5 15H2L8 3z"]],
        MousePointer2: [[6, "M4 4l7.07 17 2.51-7.39L21 11.07z"]],
        MousePointerClick: [
          [6, "M9 9l5 12 1.774-5.226L21 14 9 9z"],
          [6, "M16.071 16.071l4.243 4.243"],
          [
            6,
            "M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122",
          ],
        ],
        MousePointer: [
          [6, "M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"],
          [6, "M13 13l6 6"],
        ],
        MoveDiagonal2: [
          [2, "5 11 5 5 11 5"],
          [2, "19 13 19 19 13 19"],
          [0, 5, 5, 19, 19],
        ],
        MoveDiagonal: [
          [2, "13 5 19 5 19 11"],
          [2, "11 19 5 19 5 13"],
          [0, 19, 5, 5, 19],
        ],
        MoveHorizontal: [
          [2, "18 8 22 12 18 16"],
          [2, "6 8 2 12 6 16"],
          [0, 2, 12, 22, 12],
        ],
        MoveVertical: [
          [2, "8 18 12 22 16 18"],
          [2, "8 6 12 2 16 6"],
          [0, 12, 2, 12, 22],
        ],
        Move: [
          [2, "5 9 2 12 5 15"],
          [2, "9 5 12 2 15 5"],
          [2, "15 19 12 22 9 19"],
          [2, "19 9 22 12 19 15"],
          [0, 2, 12, 22, 12],
          [0, 12, 2, 12, 22],
        ],
        Music: [
          [6, "M9 18V5l12-2v13"],
          [1, 6, 18, 3],
          [1, 18, 16, 3],
        ],
        Navigation2: [[3, "12 2 19 21 12 17 5 21 12 2"]],
        Navigation: [[3, "3 11 22 2 13 21 11 13 3 11"]],
        Network: [
          [5, 9, 2, 6, 6],
          [5, 16, 16, 6, 6],
          [5, 2, 16, 6, 6],
          [6, "M12 8v4m0 0H5v4m7-4h7v4"],
        ],
        Octagon: [
          [
            3,
            "7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",
          ],
        ],
        Option: [
          [6, "M3 3h6l6 18h6"],
          [6, "M14 3h7"],
        ],
        Outdent: [
          [2, "7 8 3 12 7 16"],
          [0, 21, 12, 11, 12],
          [0, 21, 6, 11, 6],
          [0, 21, 18, 11, 18],
        ],
        PackageCheck: [
          [6, "m16 16 2 2 4-4"],
          [
            6,
            "M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",
          ],
          [6, "M16.5 9.4 7.55 4.24"],
          [6, "M3.29 7 12 12m0 0 8.71-5M12 12v10"],
        ],
        PackageMinus: [
          [6, "M16 16h6"],
          [
            6,
            "M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",
          ],
          [6, "M16.5 9.4 7.55 4.24"],
          [6, "M3.29 7 12 12m0 0 8.71-5M12 12v10"],
        ],
        PackagePlus: [
          [6, "M16 16h6"],
          [6, "M19 13v6"],
          [
            6,
            "M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",
          ],
          [6, "M16.5 9.4 7.55 4.24"],
          [6, "M3.29 7 12 12m0 0 8.71-5M12 12v10"],
        ],
        PackageSearch: [
          [
            6,
            "M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",
          ],
          [6, "M16.5 9.4 7.55 4.24"],
          [6, "M12 12v10M3.29 7 12 12 3.29 7ZM12 12l8.71-5L12 12Z"],
          [1, 18.5, 15.5, 2.5],
          [6, "M20.27 17.27 22 19"],
        ],
        PackageX: [
          [
            6,
            "M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",
          ],
          [6, "M16.5 9.4 7.55 4.24"],
          [6, "M3.29 7 12 12m0 0 8.71-5M12 12v10"],
          [6, "m17 13 5 5m-5 0 5-5"],
        ],
        Package: [
          [0, 16.5, 9.4, 7.5, 4.21],
          [
            6,
            "M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z",
          ],
          [2, "3.27 6.96 12 12.01 20.73 6.96"],
          [0, 12, 22.08, 12, 12],
        ],
        Palette: [
          [1, 13.5, 6.5, 0.5],
          [1, 17.5, 10.5, 0.5],
          [1, 8.5, 7.5, 0.5],
          [1, 6.5, 12.5, 0.5],
          [
            6,
            "M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 011.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",
          ],
        ],
        Paperclip: [
          [
            6,
            "M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2 2 0 01-2.83-2.83l8.49-8.48",
          ],
        ],
        PauseCircle: [
          [1, 12, 12, 10],
          [0, 10, 15, 10, 9],
          [0, 14, 15, 14, 9],
        ],
        PauseOctagon: [
          [6, "M10 15V9"],
          [6, "M14 15V9"],
          [
            6,
            "M7.714 2h8.572L22 7.714v8.572L16.286 22H7.714L2 16.286V7.714L7.714 2z",
          ],
        ],
        Pause: [
          [5, 6, 4, 4, 16],
          [5, 14, 4, 4, 16],
        ],
        PenTool: [
          [6, "M12 19l7-7 3 3-7 7-3-3z"],
          [6, "M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"],
          [6, "M2 2l7.586 7.586"],
          [1, 11, 11, 2],
        ],
        Pencil: [
          [0, 18, 2, 22, 6],
          [6, "M7.5 20.5L19 9l-4-4L3.5 16.5 2 22z"],
        ],
        Percent: [
          [0, 19, 5, 5, 19],
          [1, 6.5, 6.5, 2.5],
          [1, 17.5, 17.5, 2.5],
        ],
        PersonStanding: [
          [1, 12, 5, 1],
          [6, "M9 20l3-6 3 6"],
          [6, "M6 8l6 2 6-2"],
          [6, "M12 10v4"],
        ],
        PhoneCall: [
          [
            6,
            "M14.05 6A5 5 0 0118 10m-3.95-8a9 9 0 018 7.94m0 7v3a2 2 0 01-2 2h-.19a19.79 19.79 0 01-8.63-3.07 19.52 19.52 0 01-6-6 19.82 19.82 0 01-3.11-8.69A2 2 0 013.93 2h3.18a2 2 0 012 1.72 13 13 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 13 13 0 002.81.7A2 2 0 0122 16.92z",
          ],
        ],
        PhoneForwarded: [
          [2, "18 2 22 6 18 10"],
          [0, 14, 6, 22, 6],
          [
            6,
            "M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z",
          ],
        ],
        PhoneIncoming: [
          [2, "16 2 16 8 22 8"],
          [0, 22, 2, 16, 8],
          [
            6,
            "M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z",
          ],
        ],
        PhoneMissed: [
          [0, 22, 2, 16, 8],
          [0, 16, 2, 22, 8],
          [
            6,
            "M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z",
          ],
        ],
        PhoneOff: [
          [
            6,
            "M10.68 13.31a16 16 0 003.41 2.6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7 2 2 0 011.72 2v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.42 19.42 0 01-3.33-2.67m-2.67-3.34a19.79 19.79 0 01-3.07-8.63A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91",
          ],
          [0, 22, 2, 2, 22],
        ],
        PhoneOutgoing: [
          [2, "22 8 22 2 16 2"],
          [0, 16, 8, 22, 2],
          [
            6,
            "M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z",
          ],
        ],
        Phone: [
          [
            6,
            "M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z",
          ],
        ],
        PieChart: [
          [6, "M21.21 15.89A10 10 0 118 2.83"],
          [6, "M22 12A10 10 0 0012 2v10z"],
        ],
        PiggyBank: [
          [
            6,
            "M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",
          ],
          [6, "M2 9v1c0 1.1.9 2 2 2h1"],
          [6, "M16 11h0"],
        ],
        Pin: [
          [6, "M12 21v-7"],
          [6, "M9 3v5l-2 4v2h10m0 0h-5m5 0v-2l-2-4V3"],
          [6, "M7 3h10"],
        ],
        Pipette: [
          [6, "M2 22l2-2h3l7-7"],
          [6, "M4 20v-3l7-7"],
          [
            6,
            "M14.29 13.3a1 1 0 001.41 0l.8-.8c.27-.27.27-.72 0-1s-.28-.72 0-1l4.08-4.08a2 2 0 000-2.83l-.17-.17a2 2 0 00-2.83 0L13.5 7.51c-.28.27-.73.27-1 0s-.73-.28-1 0l-.8.79a1 1 0 000 1.41l3.59 3.59z",
          ],
        ],
        Plane: [
          [
            6,
            "M17.8 19.2L16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",
          ],
        ],
        PlayCircle: [
          [1, 12, 12, 10],
          [3, "10 8 16 12 10 16 10 8"],
        ],
        Play: [[3, "5 3 19 12 5 21 5 3"]],
        PlugZap: [
          [6, "M13 2l-2 2.5h3L12 7"],
          [6, "M12 22v-3"],
          [6, "M10 13v-2.5"],
          [6, "M10 12.5v-2"],
          [6, "M14 12.5v-2"],
          [
            6,
            "M16 15a2 2 0 00-2-2h-4a2 2 0 00-2 2v2a2 2 0 002 2h4a2 2 0 002-2v-2z",
          ],
        ],
        PlusCircle: [
          [1, 12, 12, 10],
          [0, 12, 8, 12, 16],
          [0, 8, 12, 16, 12],
        ],
        PlusSquare: [
          [5, 3, 3, 18, 18, 2, 2],
          [0, 12, 8, 12, 16],
          [0, 8, 12, 16, 12],
        ],
        Plus: [
          [0, 12, 5, 12, 19],
          [0, 5, 12, 19, 12],
        ],
        Pocket: [
          [
            6,
            "M4 3h16a2 2 0 012 2v6a10 10 0 01-10 10A10 10 0 012 11V5a2 2 0 012-2z",
          ],
          [2, "8 10 12 14 16 10"],
        ],
        Podcast: [
          [1, 12, 11, 1],
          [6, "M17.03 18.46a9 9 0 10-10.02.03"],
          [6, "M16.06 13.91a5 5 0 10-7.97.2"],
          [
            6,
            "M11.11 17a.9.9 0 111.78 0l-.52 4.67a.37.37 0 01-.74 0l-.52-4.68z",
          ],
        ],
        Pointer: [
          [6, "M22 14a8 8 0 01-8 8"],
          [6, "M18 11v-1a2 2 0 00-2-2v0a2 2 0 00-2 2v0"],
          [6, "M14 10V9a2 2 0 00-2-2v0a2 2 0 00-2 2v1"],
          [6, "M10 9.5V4a2 2 0 00-2-2v0a2 2 0 00-2 2v10"],
          [
            6,
            "M18 11a2 2 0 114 0v3a8 8 0 01-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 012.83-2.82L7 15",
          ],
        ],
        PoundSterling: [
          [6, "M18 7c0-5.333-8-5.333-8 0"],
          [6, "M10 7v14"],
          [6, "M6 21h12"],
          [6, "M6 13h10"],
        ],
        PowerOff: [
          [6, "M18.36 6.64A9 9 0 0120.77 15M5.63 6.64A9 9 0 1018.706 19"],
          [6, "M12 2v4"],
          [6, "M2 2l20 20"],
        ],
        Power: [
          [6, "M18.36 6.64a9 9 0 11-12.73 0"],
          [0, 12, 2, 12, 12],
        ],
        Printer: [
          [2, "6 9 6 2 18 2 18 9"],
          [
            6,
            "M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2",
          ],
          [5, 6, 14, 12, 8],
        ],
        QrCode: [
          [5, 2, 2, 8, 8],
          [6, "M6 6h.01"],
          [5, 14, 2, 8, 8],
          [6, "M18 6h.01"],
          [5, 2, 14, 8, 8],
          [6, "M6 18h.01"],
          [6, "M14 14h.01"],
          [6, "M18 18h.01"],
          [6, "M18 22h4v-4"],
          [6, "M14 18v4"],
          [6, "M22 14h-4"],
        ],
        Quote: [
          [
            6,
            "M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",
          ],
          [
            6,
            "M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",
          ],
        ],
        RadioReceiver: [
          [6, "M5 16v2"],
          [6, "M19 16v2"],
          [5, 2, 8, 20, 8, 2],
          [6, "M18 12h0"],
        ],
        Radio: [
          [1, 12, 12, 2],
          [
            6,
            "M16.24 7.76a6 6 0 010 8.49m-8.48-.01a6 6 0 010-8.49m11.31-2.82a10 10 0 010 14.14m-14.14 0a10 10 0 010-14.14",
          ],
        ],
        Redo: [
          [6, "M21 7v6h-6"],
          [6, "M3 17a9 9 0 019-9 9 9 0 016 2.3l3 2.7"],
        ],
        RefreshCcw: [
          [6, "M3 2v6h6"],
          [6, "M21 12A9 9 0 006 5.3L3 8"],
          [6, "M21 22v-6h-6"],
          [6, "M3 12a9 9 0 0015 6.7l3-2.7"],
        ],
        RefreshCw: [
          [6, "M21 2v6h-6"],
          [6, "M3 12a9 9 0 0115-6.7L21 8"],
          [6, "M3 22v-6h6"],
          [6, "M21 12a9 9 0 01-15 6.7L3 16"],
        ],
        Regex: [
          [6, "M17 3v10"],
          [6, "M12.67 5.5l8.66 5"],
          [6, "M12.67 10.5l8.66-5"],
          [
            6,
            "M9 17a2 2 0 00-2-2H5a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2z",
          ],
        ],
        Repeat1: [
          [6, "M17 2l4 4-4 4"],
          [6, "M3 11v-1a4 4 0 014-4h14"],
          [6, "M7 22l-4-4 4-4"],
          [6, "M21 13v1a4 4 0 01-4 4H3"],
          [6, "M11 10h1v4"],
        ],
        Repeat: [
          [6, "M17 2l4 4-4 4"],
          [6, "M3 11v-1a4 4 0 014-4h14"],
          [6, "M7 22l-4-4 4-4"],
          [6, "M21 13v1a4 4 0 01-4 4H3"],
        ],
        ReplyAll: [
          [2, "7 17 2 12 7 7"],
          [2, "12 17 7 12 12 7"],
          [6, "M22 18v-2a4 4 0 00-4-4H7"],
        ],
        Reply: [
          [2, "9 17 4 12 9 7"],
          [6, "M20 18v-2a4 4 0 00-4-4H4"],
        ],
        Rewind: [
          [3, "11 19 2 12 11 5 11 19"],
          [3, "22 19 13 12 22 5 22 19"],
        ],
        RockingChair: [
          [2, "3.5 2 6.5 12.5 18 12.5"],
          [0, 9.5, 12.5, 5.5, 20],
          [0, 15, 12.5, 18.5, 20],
          [6, "M2.75 18a13 13 0 0018.5 0"],
        ],
        RotateCcw: [
          [6, "M3 2v6h6"],
          [6, "M3 13a9 9 0 103-7.7L3 8"],
        ],
        RotateCw: [
          [6, "M21 2v6h-6"],
          [6, "M21 13a9 9 0 11-3-7.7L21 8"],
        ],
        Rss: [
          [6, "M4 11a9 9 0 019 9"],
          [6, "M4 4a16 16 0 0116 16"],
          [1, 5, 19, 1],
        ],
        Ruler: [
          [6, "M16 2l6 6L8 22l-6-6L16 2"],
          [6, "M7.5 10.5l2 2"],
          [6, "M10.5 7.5l2 2"],
          [6, "M13.5 4.5l2 2"],
          [6, "M4.5 13.5l2 2"],
        ],
        RussianRuble: [
          [6, "M14 11c5.333 0 5.333-8 0-8"],
          [6, "M6 11h8"],
          [6, "M6 15h8"],
          [6, "M9 21V3"],
          [6, "M9 3h5"],
        ],
        Save: [
          [6, "M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"],
          [2, "17 21 17 13 7 13 7 21"],
          [2, "7 3 7 8 15 8"],
        ],
        Scale: [
          [6, "M16 16l3-8 3.001 8A5.002 5.002 0 0116 16z"],
          [6, "M2 16l3-8 3.001 8A5.002 5.002 0 012 16z"],
          [6, "M7 21h10"],
          [6, "M12 3v18"],
          [6, "M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2"],
        ],
        ScanLine: [
          [6, "M3 7V5a2 2 0 012-2h2"],
          [6, "M17 3h2a2 2 0 012 2v2"],
          [6, "M21 17v2a2 2 0 01-2 2h-2"],
          [6, "M7 21H5a2 2 0 01-2-2v-2"],
          [0, 7, 12, 17, 12],
        ],
        Scan: [
          [6, "M3 7V5a2 2 0 012-2h2"],
          [6, "M17 3h2a2 2 0 012 2v2"],
          [6, "M21 17v2a2 2 0 01-2 2h-2"],
          [6, "M7 21H5a2 2 0 01-2-2v-2"],
        ],
        Scissors: [
          [1, 6, 6, 3],
          [1, 6, 18, 3],
          [0, 20, 4, 8.12, 15.88],
          [0, 14.47, 14.48, 20, 20],
          [0, 8.12, 8.12, 12, 12],
        ],
        ScreenShareOff: [
          [6, "M13 3H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2v-3"],
          [6, "M8 21h8"],
          [6, "M12 17v4"],
          [6, "M22 3l-5 5"],
          [6, "M17 3l5 5"],
        ],
        ScreenShare: [
          [6, "M13 3H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2v-3"],
          [6, "M8 21h8"],
          [6, "M12 17v4"],
          [6, "M17 8l5-5"],
          [6, "M17 3h5v5"],
        ],
        Search: [
          [1, 11, 11, 8],
          [0, 21, 21, 16.65, 16.65],
        ],
        Send: [
          [0, 22, 2, 11, 13],
          [3, "22 2 15 22 11 13 2 9 22 2"],
        ],
        SeparatorHorizontal: [
          [0, 3, 12, 21, 12],
          [2, "8 8 12 4 16 8"],
          [2, "16 16 12 20 8 16"],
        ],
        SeparatorVertical: [
          [0, 12, 3, 12, 21],
          [2, "8 8 4 12 8 16"],
          [2, "16 16 20 12 16 8"],
        ],
        ServerCrash: [
          [
            6,
            "M6 10H4a2 2 0 01-2-2V4a2 2 0 012-2h16a2 2 0 012 2v4a2 2 0 01-2 2h-2",
          ],
          [
            6,
            "M6 14H4a2 2 0 00-2 2v4a2 2 0 002 2h16a2 2 0 002-2v-4a2 2 0 00-2-2h-2",
          ],
          [6, "M6 6h.01"],
          [6, "M6 18h.01"],
          [6, "M13 6l-4 6h6l-4 6"],
        ],
        ServerOff: [
          [6, "M7 2h13a2 2 0 012 2v4a2 2 0 01-2 2h-5"],
          [6, "M10 10L2.5 2.5C2 2 2 2.5 2 5v3a2 2 0 002 2h6z"],
          [6, "M22 17v-1a2 2 0 00-2-2h-1"],
          [6, "M4 14a2 2 0 00-2 2v4a2 2 0 002 2h16.5l1-.5.5.5-8-8H4z"],
          [6, "M6 18h.01"],
          [6, "M2 2l20 20"],
        ],
        Server: [
          [5, 2, 2, 20, 8, 2, 2],
          [5, 2, 14, 20, 8, 2, 2],
          [0, 6, 6, 6.01, 6],
          [0, 6, 18, 6.01, 18],
        ],
        Settings2: [
          [6, "M20 7h-9"],
          [6, "M14 17H5"],
          [1, 17, 17, 3],
          [1, 7, 7, 3],
        ],
        Settings: [
          [
            6,
            "M12.22 2h-.44a2 2 0 00-2 2v.18a2 2 0 01-1 1.73l-.43.25a2 2 0 01-2 0l-.15-.08a2 2 0 00-2.73.73l-.22.38a2 2 0 00.73 2.73l.15.1a2 2 0 011 1.72v.51a2 2 0 01-1 1.74l-.15.09a2 2 0 00-.73 2.73l.22.38a2 2 0 002.73.73l.15-.08a2 2 0 012 0l.43.25a2 2 0 011 1.73V20a2 2 0 002 2h.44a2 2 0 002-2v-.18a2 2 0 011-1.73l.43-.25a2 2 0 012 0l.15.08a2 2 0 002.73-.73l.22-.39a2 2 0 00-.73-2.73l-.15-.08a2 2 0 01-1-1.74v-.5a2 2 0 011-1.74l.15-.09a2 2 0 00.73-2.73l-.22-.38a2 2 0 00-2.73-.73l-.15.08a2 2 0 01-2 0l-.43-.25a2 2 0 01-1-1.73V4a2 2 0 00-2-2z",
          ],
          [1, 12, 12, 3],
        ],
        Share2: [
          [1, 18, 5, 3],
          [1, 6, 12, 3],
          [1, 18, 19, 3],
          [0, 8.59, 13.51, 15.42, 17.49],
          [0, 15.41, 6.51, 8.59, 10.49],
        ],
        Share: [
          [6, "M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8"],
          [2, "16 6 12 2 8 6"],
          [0, 12, 2, 12, 15],
        ],
        Sheet: [
          [5, 3, 3, 18, 18, 2, 2],
          [0, 3, 9, 21, 9],
          [0, 3, 15, 21, 15],
          [0, 9, 9, 9, 21],
          [0, 15, 9, 15, 21],
        ],
        ShieldAlert: [
          [6, "M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"],
          [6, "M12 8v4"],
          [6, "M12 16h.01"],
        ],
        ShieldCheck: [
          [6, "M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"],
          [6, "M9 12l2 2 4-4"],
        ],
        ShieldClose: [
          [6, "M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"],
          [0, 9.5, 9, 14.5, 14],
          [0, 14.5, 9, 9.5, 14],
        ],
        ShieldOff: [
          [6, "M19.69 14a6.9 6.9 0 00.31-2V5l-8-3-3.16 1.18"],
          [6, "M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 005.62-4.38"],
          [0, 1, 1, 23, 23],
        ],
        Shield: [[6, "M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"]],
        Shirt: [
          [
            6,
            "M20.38 3.46L16 2a4 4 0 01-8 0L3.62 3.46a2 2 0 00-1.34 2.23l.58 3.47a1 1 0 00.99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 002-2V10h2.15a1 1 0 00.99-.84l.58-3.47a2 2 0 00-1.34-2.23z",
          ],
        ],
        ShoppingBag: [
          [6, "M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"],
          [0, 3, 6, 21, 6],
          [6, "M16 10a4 4 0 01-8 0"],
        ],
        ShoppingCart: [
          [1, 9, 21, 1],
          [1, 20, 21, 1],
          [6, "M1 1h4l2.68 13.39a2 2 0 002 1.61h9.72a2 2 0 002-1.61L23 6H6"],
        ],
        Shovel: [
          [6, "M2 22v-5l5-5 5 5-5 5z"],
          [6, "M9.5 14.5L16 8"],
          [
            6,
            "M17 2l5 5-.5.5a3.53 3.53 0 01-5 0s0 0 0 0a3.53 3.53 0 010-5L17 2",
          ],
        ],
        Shrink: [
          [6, "M15 15l6 6m-6-6v4.8m0-4.8h4.8"],
          [6, "M9 19.8V15m0 0H4.2M9 15l-6 6"],
          [6, "M15 4.2V9m0 0h4.8M15 9l6-6"],
          [6, "M9 4.2V9m0 0H4.2M9 9L3 3"],
        ],
        Shuffle: [
          [2, "16 3 21 3 21 8"],
          [0, 4, 20, 21, 3],
          [2, "21 16 21 21 16 21"],
          [0, 15, 15, 21, 21],
          [0, 4, 4, 9, 9],
        ],
        SidebarClose: [
          [5, 3, 3, 18, 18, 2, 2],
          [0, 9, 3, 9, 21],
          [6, "M17 16l-4-4 4-4"],
        ],
        SidebarOpen: [
          [5, 3, 3, 18, 18, 2, 2],
          [0, 9, 3, 9, 21],
          [6, "M13 8l4 4-4 4"],
        ],
        Sidebar: [
          [5, 3, 3, 18, 18, 2, 2],
          [0, 9, 3, 9, 21],
        ],
        Sigma: [[6, "M18 7V4H6l6 8-6 8h12v-3"]],
        SignalHigh: [
          [6, "M2 20h.01"],
          [6, "M7 20v-4"],
          [6, "M12 20v-8"],
          [6, "M17 20V8"],
        ],
        SignalLow: [
          [6, "M2 20h.01"],
          [6, "M7 20v-4"],
        ],
        SignalMedium: [
          [6, "M2 20h.01"],
          [6, "M7 20v-4"],
          [6, "M12 20v-8"],
        ],
        SignalZero: [
          [6, "M2 20h.01"],
          [6, "M7 20v-4"],
        ],
        Signal: [
          [6, "M2 20h.01"],
          [6, "M7 20v-4"],
          [6, "M12 20v-8"],
          [6, "M17 20V8"],
          [6, "M22 4v16"],
        ],
        SkipBack: [
          [3, "19 20 9 12 19 4 19 20"],
          [0, 5, 19, 5, 5],
        ],
        SkipForward: [
          [3, "5 4 15 12 5 20 5 4"],
          [0, 19, 5, 19, 19],
        ],
        Skull: [
          [1, 9, 12, 1],
          [1, 15, 12, 1],
          [6, "M8 20v2h8v-2"],
          [6, "M12.5 17l-.5-1-.5 1h1z"],
          [6, "M16 20a2 2 0 001.56-3.25 8 8 0 10-11.12 0A2 2 0 008 20"],
        ],
        Slack: [
          [5, 13, 2, 3, 8, 1.5],
          [6, "M19 8.5V10h1.5A1.5 1.5 0 1019 8.5"],
          [5, 8, 14, 3, 8, 1.5],
          [6, "M5 15.5V14H3.5A1.5 1.5 0 105 15.5"],
          [5, 14, 13, 8, 3, 1.5],
          [6, "M15.5 19H14v1.5a1.5 1.5 0 101.5-1.5"],
          [5, 2, 8, 8, 3, 1.5],
          [6, "M8.5 5H10V3.5A1.5 1.5 0 108.5 5"],
        ],
        Slash: [
          [1, 12, 12, 10],
          [0, 4.93, 4.93, 19.07, 19.07],
        ],
        Sliders: [
          [0, 4, 21, 4, 14],
          [0, 4, 10, 4, 3],
          [0, 12, 21, 12, 12],
          [0, 12, 8, 12, 3],
          [0, 20, 21, 20, 16],
          [0, 20, 12, 20, 3],
          [0, 1, 14, 7, 14],
          [0, 9, 8, 15, 8],
          [0, 17, 16, 23, 16],
        ],
        SmartphoneCharging: [
          [5, 5, 2, 14, 20, 2, 2],
          [6, "M12.667 8L10 12h4l-2.667 4"],
        ],
        Smartphone: [
          [5, 5, 2, 14, 20, 2, 2],
          [6, "M12 18h.01"],
        ],
        Smile: [
          [1, 12, 12, 10],
          [6, "M8 14s1.5 2 4 2 4-2 4-2"],
          [0, 9, 9, 9.01, 9],
          [0, 15, 9, 15.01, 9],
        ],
        Snowflake: [
          [0, 2, 12, 22, 12],
          [0, 12, 2, 12, 22],
          [6, "M20 16l-4-4 4-4"],
          [6, "M4 8l4 4-4 4"],
          [6, "M16 4l-4 4-4-4"],
          [6, "M8 20l4-4 4 4"],
        ],
        SortAsc: [
          [6, "M11 5h4"],
          [6, "M11 9h7"],
          [6, "M11 13h10"],
          [6, "M3 17l3 3 3-3"],
          [6, "M6 18V4"],
        ],
        SortDesc: [
          [6, "M11 5h10"],
          [6, "M11 9h7"],
          [6, "M11 13h4"],
          [6, "M3 17l3 3 3-3"],
          [6, "M6 18V4"],
        ],
        Speaker: [
          [5, 4, 2, 16, 20, 2, 2],
          [1, 12, 14, 4],
          [0, 12, 6, 12.01, 6],
        ],
        Sprout: [
          [6, "M7 20h10"],
          [6, "M10 20c5.5-2.5.8-6.4 3-10"],
          [
            6,
            "M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",
          ],
          [
            6,
            "M14.1 6a7 7 0 00-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",
          ],
        ],
        Square: [[5, 3, 3, 18, 18, 2, 2]],
        StarHalf: [[6, "M12 17.8L5.8 21 7 14.1 2 9.3l7-1L12 2"]],
        Star: [
          [
            3,
            "12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",
          ],
        ],
        StopCircle: [
          [1, 12, 12, 10],
          [5, 9, 9, 6, 6],
        ],
        Strikethrough: [
          [6, "M16 4H9a3 3 0 00-2.83 4"],
          [6, "M14 12a4 4 0 010 8H6"],
          [0, 4, 12, 20, 12],
        ],
        Subscript: [
          [6, "M4 5l8 8"],
          [6, "M12 5l-8 8"],
          [
            6,
            "M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 00-2.62-.44c-.42.24-.74.62-.9 1.07",
          ],
        ],
        Sun: [
          [1, 12, 12, 4],
          [6, "M12 2v2"],
          [6, "M12 20v2"],
          [6, "M5 5l1.5 1.5"],
          [6, "M17.5 17.5L19 19"],
          [6, "M2 12h2"],
          [6, "M20 12h2"],
          [6, "M5 19l1.5-1.5"],
          [6, "M17.5 6.5L19 5"],
        ],
        Sunrise: [
          [6, "M12 2v8"],
          [6, "M5.2 11.2l1.4 1.4"],
          [6, "M2 18h2"],
          [6, "M20 18h2"],
          [6, "M17.4 12.6l1.4-1.4"],
          [6, "M22 22H2"],
          [6, "M8 6l4-4 4 4"],
          [6, "M16 18a4 4 0 00-8 0"],
        ],
        Sunset: [
          [6, "M12 10V2"],
          [6, "M5.2 11.2l1.4 1.4"],
          [6, "M2 18h2"],
          [6, "M20 18h2"],
          [6, "M17.4 12.6l1.4-1.4"],
          [6, "M22 22H2"],
          [6, "M16 6l-4 4-4-4"],
          [6, "M16 18a4 4 0 00-8 0"],
        ],
        Superscript: [
          [6, "M4 19l8-8"],
          [6, "M12 19l-8-8"],
          [
            6,
            "M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 00-2.617-.436c-.42.239-.738.614-.899 1.06",
          ],
        ],
        SwissFranc: [
          [6, "M10 21V3h8"],
          [6, "M6 16h9"],
          [6, "M10 9.5h7"],
        ],
        SwitchCamera: [
          [6, "M11 19H4a2 2 0 01-2-2V7a2 2 0 012-2h5"],
          [6, "M13 5h7a2 2 0 012 2v10a2 2 0 01-2 2h-5"],
          [1, 12, 12, 3],
          [6, "M18 22l-3-3 3-3"],
          [6, "M6 2l3 3-3 3"],
        ],
        Table: [
          [5, 3, 3, 18, 18, 2, 2],
          [0, 3, 9, 21, 9],
          [0, 3, 15, 21, 15],
          [0, 12, 3, 12, 21],
        ],
        Tablet: [
          [5, 4, 2, 16, 20, 2, 2],
          [0, 12, 18, 12.01, 18],
        ],
        Tag: [
          [
            6,
            "M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z",
          ],
          [0, 7, 7, 7.01, 7],
        ],
        Target: [
          [1, 12, 12, 10],
          [1, 12, 12, 6],
          [1, 12, 12, 2],
        ],
        Tent: [
          [6, "M19 20L10 4"],
          [6, "M5 20l9-16"],
          [6, "M3 20h18"],
          [6, "M12 15l-3 5"],
          [6, "M12 15l3 5"],
        ],
        TerminalSquare: [
          [6, "M7 11l2-2-2-2"],
          [6, "M11 13h4"],
          [5, 3, 3, 18, 18, 2, 2],
        ],
        Terminal: [
          [2, "4 17 10 11 4 5"],
          [0, 12, 19, 20, 19],
        ],
        TextCursorInput: [
          [
            6,
            "M5.3 4h.9C7.7 4 9 5.3 9 6.7m0 0v10.5c0 1.6-1.1 2.7-2.7 2.7h-1M9 6.7v10.6a2.6 2.6 0 002.7 2.7h1M9 6.7C9 5.2 10.2 4 11.8 4h.9",
          ],
          [6, "M13.1 7.9h6.8c1.1 0 2.1 1 2.1 2.1v4c0 1.1-.9 2.1-2.1 2.1h-6.8"],
          [6, "M4.8 16.1h-.7C3 16.1 2 15.1 2 14v-4c0-1.1 1-2.1 2.1-2.1h.7"],
        ],
        TextCursor: [
          [6, "M17 22h-1a4 4 0 01-4-4V6a4 4 0 014-4h1"],
          [6, "M7 22h1a4 4 0 004-4v-1"],
          [6, "M7 2h1a4 4 0 014 4v1"],
        ],
        ThermometerSnowflake: [
          [6, "M2 12h10"],
          [6, "M9 4v16"],
          [6, "M3 9l3 3-3 3"],
          [6, "M12 6L9 9 6 6"],
          [6, "M6 18l3-3 1.5 1.5"],
          [6, "M18 2a2 2 0 00-2 2v10.5a4 4 0 104 0V4a2 2 0 00-2-2z"],
        ],
        ThermometerSun: [
          [6, "M12 9a4 4 0 00-2 7.5"],
          [6, "M12 3v2"],
          [6, "M6.6 18.4l-1.4 1.4"],
          [6, "M18 2a2 2 0 012 2v10.5a4 4 0 11-4 0V4c0-1.1.9-2 2-2z"],
          [6, "M4 13H2"],
          [6, "M6.6 7.6L5.2 6.2"],
        ],
        Thermometer: [
          [6, "M12 2a2 2 0 00-2 2v10.5a4 4 0 104 0V4a2 2 0 00-2-2z"],
        ],
        ThumbsDown: [
          [
            6,
            "M10 15v4a3 3 0 003 3l4-9V2H5.72a2 2 0 00-2 1.7l-1.38 9a2 2 0 002 2.3zm7-13h2.67A2.31 2.31 0 0122 4v7a2.31 2.31 0 01-2.33 2H17",
          ],
        ],
        ThumbsUp: [
          [
            6,
            "M14 9V5a3 3 0 00-3-3l-4 9v11h11.28a2 2 0 002-1.7l1.38-9a2 2 0 00-2-2.3zM7 22H4a2 2 0 01-2-2v-7a2 2 0 012-2h3",
          ],
        ],
        Ticket: [
          [
            6,
            "M3 9V7a2 2 0 012-2h14a2 2 0 012 2v2M3 15v2a2 2 0 002 2h14a2 2 0 002-2v-2",
          ],
          [6, "M21 15a3 3 0 110-6"],
          [6, "M3 15a3 3 0 100-6"],
          [6, "M13 5v2"],
          [6, "M13 17v2"],
          [6, "M13 11v2"],
        ],
        TimerOff: [
          [6, "M10 2h4"],
          [6, "M7.43 7.433A8 8 0 0118.566 18.57M4.582 11A8 8 0 0015 21.419"],
          [6, "M2 2l20 20"],
          [6, "M12 12v-2"],
        ],
        TimerReset: [
          [6, "M10 2h4"],
          [6, "M12 14v-4"],
          [6, "M4 13a8 8 0 018-7 8 8 0 11-5.3 14L4 17.6"],
          [6, "M9 17H4v5"],
        ],
        Timer: [
          [0, 10, 2, 14, 2],
          [0, 12, 14, 15, 11],
          [1, 12, 14, 8],
        ],
        ToggleLeft: [
          [5, 1, 5, 22, 14, 7, 7],
          [1, 8, 12, 3],
        ],
        ToggleRight: [
          [5, 1, 5, 22, 14, 7, 7],
          [1, 16, 12, 3],
        ],
        Tornado: [
          [6, "M21 4H3"],
          [6, "M18 8H6"],
          [6, "M19 12H9"],
          [6, "M16 16h-6"],
          [6, "M11 20H9"],
        ],
        Trash2: [
          [2, "3 6 5 6 21 6"],
          [
            6,
            "M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2",
          ],
          [0, 10, 11, 10, 17],
          [0, 14, 11, 14, 17],
        ],
        Trash: [
          [2, "3 6 5 6 21 6"],
          [
            6,
            "M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2",
          ],
        ],
        Trello: [
          [5, 3, 3, 18, 18, 2, 2],
          [5, 7, 7, 3, 9],
          [5, 14, 7, 3, 5],
        ],
        TrendingDown: [
          [2, "23 18 13.5 8.5 8.5 13.5 1 6"],
          [2, "17 18 23 18 23 12"],
        ],
        TrendingUp: [
          [2, "23 6 13.5 15.5 8.5 10.5 1 18"],
          [2, "17 6 23 6 23 12"],
        ],
        Triangle: [
          [
            6,
            "M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z",
          ],
        ],
        Truck: [
          [6, "M10 17h4V5H2v12h3m15 0h2v-3.34a4 4 0 00-1.17-2.83L19 9h-5v8h1"],
          [1, 7.5, 17.5, 2.5],
          [1, 17.5, 17.5, 2.5],
        ],
        Tv2: [
          [6, "M7 21h10"],
          [5, 2, 3, 20, 14, 2],
        ],
        Tv: [
          [5, 2, 7, 20, 15, 2, 2],
          [2, "17 2 12 7 7 2"],
        ],
        Twitch: [[6, "M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"]],
        Twitter: [
          [
            6,
            "M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5 0-.28-.03-.56-.08-.83A7.72 7.72 0 0023 3z",
          ],
        ],
        Type: [
          [2, "4 7 4 4 20 4 20 7"],
          [0, 9, 20, 15, 20],
          [0, 12, 4, 12, 20],
        ],
        Umbrella: [[6, "M23 12a11.05 11.05 0 00-22 0zm-5 7a3 3 0 01-6 0v-7"]],
        Underline: [
          [6, "M6 4v6a6 6 0 0012 0V4"],
          [0, 4, 20, 20, 20],
        ],
        Undo: [
          [6, "M3 7v6h6"],
          [6, "M21 17a9 9 0 00-9-9 9 9 0 00-6 2.3L3 13"],
        ],
        Unlink2: [[6, "M15 7h2a5 5 0 010 10h-2m-6 0H7A5 5 0 017 7h2"]],
        Unlink: [
          [
            6,
            "M18.84 12.25l1.72-1.71h-.02a5.004 5.004 0 00-.12-7.07 5.006 5.006 0 00-6.95 0l-1.72 1.71",
          ],
          [
            6,
            "M5.17 11.75l-1.71 1.71a5.004 5.004 0 00.12 7.07 5.006 5.006 0 006.95 0l1.71-1.71",
          ],
          [0, 8, 2, 8, 5],
          [0, 2, 8, 5, 8],
          [0, 16, 19, 16, 22],
          [0, 19, 16, 22, 16],
        ],
        Unlock: [
          [5, 3, 11, 18, 11, 2, 2],
          [6, "M7 11V7a5 5 0 019.9-1"],
        ],
        UploadCloud: [
          [6, "M20 16.2A4.5 4.5 0 0017.5 8h-1.8A7 7 0 104 14.9"],
          [6, "M12 12v9"],
          [6, "M16 16l-4-4-4 4"],
        ],
        Upload: [
          [6, "M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"],
          [2, "17 8 12 3 7 8"],
          [0, 12, 3, 12, 15],
        ],
        UserCheck: [
          [6, "M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"],
          [1, 8.5, 7, 4],
          [2, "17 11 19 13 23 9"],
        ],
        UserMinus: [
          [6, "M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"],
          [1, 8.5, 7, 4],
          [0, 23, 11, 17, 11],
        ],
        UserPlus: [
          [6, "M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"],
          [1, 8.5, 7, 4],
          [0, 20, 8, 20, 14],
          [0, 23, 11, 17, 11],
        ],
        UserX: [
          [6, "M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"],
          [1, 8.5, 7, 4],
          [0, 18, 8, 23, 13],
          [0, 23, 8, 18, 13],
        ],
        User: [
          [6, "M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"],
          [1, 12, 7, 4],
        ],
        Users: [
          [6, "M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"],
          [1, 9, 7, 4],
          [6, "M23 21v-2a4 4 0 00-3-3.87"],
          [6, "M16 3.13a4 4 0 010 7.75"],
        ],
        Verified: [
          [
            6,
            "M12 3a3.6 3.6 0 00-3.05 1.68 3.6 3.6 0 00-.9-.1 3.6 3.6 0 00-2.42 1.06 3.6 3.6 0 00-.94 3.32A3.6 3.6 0 003 12a3.6 3.6 0 001.69 3.05 3.6 3.6 0 00.95 3.32 3.6 3.6 0 003.35.96A3.6 3.6 0 0012 21a3.6 3.6 0 003.04-1.67 3.6 3.6 0 004.3-4.3A3.6 3.6 0 0021 12a3.6 3.6 0 00-1.67-3.04v0a3.6 3.6 0 00-4.3-4.3A3.6 3.6 0 0012 3z",
          ],
          [6, "M15 10l-4 4"],
          [6, "M9 12l2 2"],
        ],
        Vibrate: [
          [6, "M2 8l2 2-2 2 2 2-2 2"],
          [6, "M22 8l-2 2 2 2-2 2 2 2"],
          [5, 8, 5, 8, 14, 1],
        ],
        VideoOff: [
          [
            6,
            "M16 16v1a2 2 0 01-2 2H3a2 2 0 01-2-2V7a2 2 0 012-2h2m5.66 0H14a2 2 0 012 2v3.34l1 1L23 7v10",
          ],
          [0, 1, 1, 23, 23],
        ],
        Video: [
          [3, "23 7 16 12 23 17 23 7"],
          [5, 1, 5, 15, 14, 2, 2],
        ],
        View: [
          [
            6,
            "M5 12s2.545-5 7-5c4.454 0 7 5 7 5s-2.546 5-7 5c-4.455 0-7-5-7-5z",
          ],
          [6, "M12 13a1 1 0 100-2 1 1 0 000 2z"],
          [
            6,
            "M21 8V5a2 2 0 00-2-2H5a2 2 0 00-2 2v3m18 8v3a2 2 0 01-2 2H5a2 2 0 01-2-2v-3",
          ],
        ],
        Voicemail: [
          [1, 5.5, 11.5, 4.5],
          [1, 18.5, 11.5, 4.5],
          [0, 5.5, 16, 18.5, 16],
        ],
        Volume1: [
          [3, "11 5 6 9 2 9 2 15 6 15 11 19 11 5"],
          [6, "M15.54 8.46a5 5 0 010 7.07"],
        ],
        Volume2: [
          [3, "11 5 6 9 2 9 2 15 6 15 11 19 11 5"],
          [6, "M19.07 4.93a10 10 0 010 14.14M15.54 8.46a5 5 0 010 7.07"],
        ],
        VolumeX: [
          [3, "11 5 6 9 2 9 2 15 6 15 11 19 11 5"],
          [0, 23, 9, 17, 15],
          [0, 17, 9, 23, 15],
        ],
        Volume: [[3, "11 5 6 9 2 9 2 15 6 15 11 19 11 5"]],
        Wallet: [
          [6, "M20 12V8H6a2 2 0 01-2-2c0-1.1.9-2 2-2h12v4"],
          [6, "M4 6v12c0 1.1.9 2 2 2h14v-4"],
          [6, "M18 12a2 2 0 00-2 2c0 1.1.9 2 2 2h4v-4h-4z"],
        ],
        Wand: [
          [6, "M15 4V2"],
          [6, "M15 16v-2"],
          [6, "M8 9h2"],
          [6, "M20 9h2"],
          [6, "M17.8 11.8L19 13"],
          [6, "M15 9h0"],
          [6, "M17.8 6.2L19 5"],
          [6, "M3 21l9-9"],
          [6, "M12.2 6.2L11 5"],
        ],
        Watch: [
          [1, 12, 12, 7],
          [2, "12 9 12 12 13.5 13.5"],
          [
            6,
            "M16.51 17.35l-.35 3.83a2 2 0 01-2 1.82H9.83a2 2 0 01-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 019.83 1h4.35a2 2 0 012 1.82l.35 3.83",
          ],
        ],
        Webcam: [
          [1, 12, 10, 8],
          [1, 12, 10, 3],
          [6, "M12 22v-4m-5 4h5-5zm10 0h-5 5z"],
        ],
        WifiOff: [
          [0, 2, 2, 22, 22],
          [6, "M8.5 16.5a5 5 0 017 0"],
          [6, "M2 8.82a15 15 0 014.17-2.65"],
          [6, "M10.66 5c4.01-.36 8.14.9 11.34 3.76"],
          [6, "M16.85 11.25a10 10 0 012.22 1.68"],
          [6, "M5 13a10 10 0 015.24-2.76"],
          [0, 12, 20, 12.01, 20],
        ],
        Wifi: [
          [6, "M5 13a10 10 0 0114 0"],
          [6, "M8.5 16.5a5 5 0 017 0"],
          [6, "M2 8.82a15 15 0 0120 0"],
          [0, 12, 20, 12.01, 20],
        ],
        Wind: [
          [6, "M17.7 7.7a2.5 2.5 0 111.8 4.3H2"],
          [6, "M9.6 4.6A2 2 0 1111 8H2"],
          [6, "M12.6 19.4A2 2 0 1014 16H2"],
        ],
        WrapText: [
          [0, 3, 6, 21, 6],
          [6, "M3 12h15a3 3 0 110 6h-4"],
          [2, "16 16 14 18 16 20"],
          [0, 3, 18, 10, 18],
        ],
        Wrench: [
          [
            6,
            "M14.7 6.3a1 1 0 000 1.4l1.6 1.6a1 1 0 001.4 0l3.77-3.77a6 6 0 01-7.94 7.94l-6.91 6.91a2.12 2.12 0 01-3-3l6.91-6.91a6 6 0 017.94-7.94l-3.76 3.76z",
          ],
        ],
        XCircle: [
          [1, 12, 12, 10],
          [0, 15, 9, 9, 15],
          [0, 9, 9, 15, 15],
        ],
        XOctagon: [
          [
            3,
            "7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",
          ],
          [0, 15, 9, 9, 15],
          [0, 9, 9, 15, 15],
        ],
        XSquare: [
          [5, 3, 3, 18, 18, 2, 2],
          [0, 9, 9, 15, 15],
          [0, 15, 9, 9, 15],
        ],
        X: [
          [0, 18, 6, 6, 18],
          [0, 6, 6, 18, 18],
        ],
        Youtube: [
          [
            6,
            "M22.54 6.42a2.78 2.78 0 00-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 00-1.94 2A29 29 0 001 11.75a29 29 0 00.46 5.33A2.78 2.78 0 003.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 001.94-2 29 29 0 00.46-5.25 29 29 0 00-.46-5.33z",
          ],
          [3, "9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"],
        ],
        ZapOff: [
          [2, "12.41 6.75 13 2 10.57 4.92"],
          [2, "18.57 12.91 21 10 15.66 10"],
          [2, "8 8 3 14 12 14 11 22 16 16"],
          [0, 1, 1, 23, 23],
        ],
        Zap: [[3, "13 2 3 14 12 14 11 22 21 10 12 10 13 2"]],
        ZoomIn: [
          [1, 11, 11, 8],
          [0, 21, 21, 16.65, 16.65],
          [0, 11, 8, 11, 14],
          [0, 8, 11, 14, 11],
        ],
        ZoomOut: [
          [1, 11, 11, 8],
          [0, 21, 21, 16.65, 16.65],
          [0, 8, 11, 14, 11],
        ],
      };
      function rm(e) {
        var t = e[0];
        if (0 === t)
          return am("line", { x1: e[1], y1: e[2], x2: e[3], y2: e[4] });
        if (1 === t) return am("circle", { cx: e[1], cy: e[2], r: e[3] });
        if (2 === t) return am("polyline", { points: e[1] });
        if (3 === t) return am("polygon", { points: e[1] });
        if (4 === t)
          return am("ellipse", { cx: e[1], cy: e[2], rx: e[3], ry: e[4] });
        if (5 === t) {
          var n = { x: e[1], y: e[2], width: e[3], height: e[4] };
          return e[5] && (n.rx = e[5]), e[6] && (n.ry = e[6]), am("rect", n);
        }
        return 6 === t ? am("path", { d: e[1] }) : void 0;
      }
      var om,
        sm = {
          xmlns: "http://www.w3.org/2000/svg",
          width: 24,
          height: 24,
          viewBox: "0 0 24 24",
          fill: "none",
          stroke: "currentColor",
          "stroke-width": 2,
          "stroke-linecap": "round",
          "stroke-linejoin": "round",
        };
      function am(e, t) {
        var n = document.createElementNS("http://www.w3.org/2000/svg", e);
        return (
          Object.keys(t).forEach(function (e) {
            n.setAttribute(e, t[e]);
          }),
          n
        );
      }
      var lm = "logo-crystal",
        cm = "create-new",
        um = "trash",
        hm = "search",
        pm = "right-triangle",
        dm = "document",
        fm = "folder",
        gm = "pencil",
        mm = "left-arrow",
        vm = "right-arrow",
        ym = "three-horizontal-bars",
        bm = "dot-network",
        wm = "audio-file",
        km = "image-file",
        Cm = "pdf-file",
        xm = "gear",
        Sm = "documents",
        Em = "blocks",
        Mm = "go-to-file",
        Lm = "presentation",
        Am = "cross-in-box",
        Dm = "microphone",
        Tm = "microphone-filled",
        Pm = "link",
        Om = "popup-open",
        Fm = "checkmark",
        Im = "hashtag",
        Nm = "left-arrow-with-tail",
        Bm = "right-arrow-with-tail",
        Rm = "up-arrow-with-tail",
        zm = "down-arrow-with-tail",
        Hm = "lines-of-text",
        Vm = "vertical-three-dots",
        qm = "pin",
        jm = "magnifying-glass",
        Um = "info",
        Wm = "horizontal-split",
        _m = "vertical-split",
        Gm = "calendar-with-checkmark",
        Km = "sheets-in-box",
        $m = "up-and-down-arrows",
        Ym = "broken-link",
        Jm = "cross",
        Qm = "any-key",
        Xm = "reset",
        Zm = "star",
        ev = "crossed-star",
        tv = "dice",
        nv = "filled-pin",
        iv = "enter",
        rv = "help",
        ov = "vault",
        sv = "open-vault",
        av = "paper-plane",
        lv = "bullet-list",
        cv = "uppercase-lowercase-a",
        uv = "star-list",
        hv = "expand-vertically",
        pv = "languages",
        dv = "switch",
        fv = "pane-layout",
        gv = "install",
        mv = "sync",
        vv = "check-in-circle",
        yv = "sync-small",
        bv = "check-small",
        wv = "paused",
        kv = "forward-arrow",
        Cv = "stacked-levels",
        xv = "bracket-glyph",
        Sv = "note-glyph",
        Ev = "tag-glyph",
        Mv = "price-tag-glyph",
        Lv = "heading-glyph",
        Av = "bold-glyph",
        Dv = "italic-glyph",
        Tv = "strikethrough-glyph",
        Pv = "highlight-glyph",
        Ov = "code-glyph",
        Fv = "quote-glyph",
        Iv = "link-glyph",
        Nv = "bullet-list-glyph",
        Bv = "number-list-glyph",
        Rv = "checkbox-glyph",
        zv = "undo-glyph",
        Hv = "redo-glyph",
        Vv = "up-chevron-glyph",
        qv = "down-chevron-glyph",
        jv = "left-chevron-glyph",
        Uv = "right-chevron-glyph",
        Wv = "percent-sign-glyph",
        _v = "keyboard-glyph",
        Gv = "double-up-arrow-glyph",
        Kv = "double-down-arrow-glyph",
        $v = "image-glyph",
        Yv = "wrench-screwdriver-glyph",
        Jv = "clock",
        Qv = "plus-with-circle",
        Xv = "minus-with-circle",
        Zv = "indent-glyph",
        ey = "unindent-glyph",
        ty = "fullscreen",
        ny = "exit-fullscreen",
        iy = "cloud",
        ry = "run-command",
        oy = "compress-glyph",
        sy = "enlarge-glyph",
        ay = "scissors-glyph",
        ly = "up-curly-arrow-glyph",
        cy = "down-curly-arrow-glyph",
        uy = "plus-minus-glyph",
        hy = "links-going-out",
        py = "links-coming-in",
        dy = "add-note-glyph",
        fy = "duplicate-glyph",
        gy = "clock-glyph",
        my = "calendar-glyph",
        vy = "command-glyph",
        yy = "dice-glyph",
        by = "file-explorer-glyph",
        wy = "graph-glyph",
        ky = "import-glyph",
        Cy = "navigate-glyph",
        xy = "open-elsewhere-glyph",
        Sy = "bullet-list-glyph",
        Ey = "presentation-glyph",
        My = "paper-plane-glyph",
        Ly = "question-mark-glyph",
        Ay = "restore-file-glyph",
        Dy = "search-glyph",
        Ty = "star-glyph",
        Py = "play-audio-glyph",
        Oy = "stop-audio-glyph",
        Fy = "tomorrow-glyph",
        Iy = "wand-glyph",
        Ny = "workspace-glyph",
        By = "yesterday-glyph",
        Ry = "box-glyph",
        zy = "merge-files-glyph",
        Hy = "merge-files",
        Vy = "two-blank-pages",
        qy = "scissors",
        jy = "paste",
        Uy = "paste-text",
        Wy = "split",
        _y = "select-all-text",
        Gy = "wand",
        Ky = "github-glyph",
        $y = "reading-glasses",
        Yy =
          (((om = {})[cm] =
            '<path fill="currentColor" stroke="currentColor" stroke-width="2" d="M12,0v96h56c3.3,2.5,7.5,4,12,4c11,0,20-9,20-20c0-8.2-5-15.2-12-18.3V29.2l-0.6-0.6l-28-28L58.8,0L12,0z M16,4h40v28h28 v28.4c-1.3-0.3-2.6-0.4-4-0.4c-11,0-20,9-20,20c0,4.5,1.5,8.6,4.1,12H16L16,4z M60,6.9L81.1,28H60L60,6.9z M80,64 c8.9,0,16,7.1,16,16c0,8.9-7.1,16-16,16c-8.9,0-16-7.1-16-16C64,71.1,71.1,64,80,64z M78,70v8h-8v4h8v8h4v-8h8v-4h-8v-8H78z"/>'),
          (om[um] =
            '<path fill="currentColor" stroke="currentColor" stroke-width="2" d="M42,4c-3.3,0-6,2.7-6,6v4H20.3c-0.1,0-0.2,0-0.3,0c-0.1,0-0.2,0-0.3,0H16c-0.7,0-1.4,0.4-1.8,1c-0.4,0.6-0.4,1.4,0,2 c0.4,0.6,1,1,1.8,1h2v72c0,3.3,2.7,6,6,6h52c3.3,0,6-2.7,6-6V18h2c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1 h-3.7c-0.2,0-0.4,0-0.7,0H64v-4c0-3.3-2.7-6-6-6L42,4z M42,8h16c1.1,0,2,0.9,2,2v4H40v-4C40,8.9,40.9,8,42,8z M22,18h15.7 c0.2,0,0.4,0,0.7,0h23.3c0.2,0,0.4,0,0.7,0H78v72c0,1.1-0.9,2-2,2H24c-1.1,0-2-0.9-2-2V18z M38,28c-1.1,0-2,0.9-2,2v50 c0,0.7,0.4,1.4,1,1.8s1.4,0.4,2,0s1-1,1-1.8V30c0-0.5-0.2-1.1-0.6-1.4C39,28.2,38.5,28,38,28z M50,28c-1.1,0-2,0.9-2,2v50 c0,0.7,0.4,1.4,1,1.8c0.6,0.4,1.4,0.4,2,0s1-1,1-1.8V30c0-0.5-0.2-1.1-0.6-1.4C51,28.2,50.5,28,50,28z M62,28c-1.1,0-2,0.9-2,2v50 c0,0.7,0.4,1.4,1,1.8c0.6,0.4,1.4,0.4,2,0s1-1,1-1.8V30c0-0.5-0.2-1.1-0.6-1.4C63,28.2,62.5,28,62,28z"/>'),
          (om[lm] =
            '<defs><linearGradient id="a" x1="82.85" y1="30.41" x2="51.26" y2="105.9" gradientTransform="matrix(1, 0, 0, -1, -22.41, 110.97)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#6c56cc"/><stop offset="1" stop-color="#9785e5"/></linearGradient></defs><polygon points="62.61,0 30.91,17.52 18,45.45 37.57,90.47 65.35,100 70.44,89.8 81,26.39 62.61,0" fill="#34208c"/><polygon points="81,26.39 61.44,14.41 34.43,35.7 65.35,100 70.44,89.8 81,26.39" fill="url(#a)"/><polygon points="81,26.39 81,26.39 62.61,0 61.44,14.41 81,26.39" fill="#af9ff4"/><polygon points="61.44,14.41 62.61,0 30.91,17.52 34.43,35.7 61.44,14.41" fill="#4a37a0"/><polygon points="34.43,35.7 37.57,90.47 65.35,100 34.43,35.7" fill="#4a37a0"/>'),
          (om[hm] =
            '<path fill="currentColor" stroke="currentColor" stroke-width="2" d="M42,6C23.2,6,8,21.2,8,40s15.2,34,34,34c7.4,0,14.3-2.4,19.9-6.4l26.3,26.3l5.6-5.6l-26-26.1c5.1-6,8.2-13.7,8.2-22.1 C76,21.2,60.8,6,42,6z M42,10c16.6,0,30,13.4,30,30S58.6,70,42,70S12,56.6,12,40S25.4,10,42,10z"/>'),
          (om[pm] =
            '<path fill="currentColor" stroke="currentColor" d="M94.9,20.8c-1.4-2.5-4.1-4.1-7.1-4.1H12.2c-3,0-5.7,1.6-7.1,4.1c-1.3,2.4-1.2,5.2,0.2,7.6L43.1,88c1.5,2.3,4,3.7,6.9,3.7 s5.4-1.4,6.9-3.7l37.8-59.6C96.1,26,96.2,23.2,94.9,20.8L94.9,20.8z"/>'),
          (om[dm] =
            '<path fill="currentColor" stroke="currentColor" d="M14,4v92h72V29.2l-0.6-0.6l-24-24L60.8,4L14,4z M18,8h40v24h24v60H18L18,8z M62,10.9L79.1,28H62V10.9z"/>'),
          (om[fm] =
            '<path fill="currentColor" stroke="currentColor" d="M6.1,8c-3.3,0-6,2.7-6,6v73.8c-0.1,0.5-0.1,0.9,0.1,1.4c0.6,2.7,3,4.8,5.9,4.8h78c3,0,5.4-2.2,5.9-5.1 c0-0.1,0.1-0.2,0.1-0.4c0,0,0-0.1,0-0.1l0.1-0.3c0,0,0,0,0-0.1l9.9-53.6l0.1-0.2V34c0-3.3-2.7-6-6-6v-6c0-3.3-2.7-6-6-6H36.1 c0,0,0,0-0.1,0c-0.1,0-0.2-0.2-0.6-0.6c-0.5-0.6-1.1-1.5-1.7-2.5c-0.6-1-1.3-2.1-2.1-3C30.9,9,29.7,8,28.1,8L6.1,8z M6.1,12h22 c-0.1,0,0.1,0,0.6,0.6c0.5,0.6,1.1,1.5,1.7,2.5c0.6,1,1.3,2.1,2.1,3c0.8,0.9,1.9,1.9,3.6,1.9h52c1.1,0,2,0.9,2,2v6h-74 c-3.1,0-5.7,2.5-5.9,5.6h-0.1L10.1,34l-6,32.4V14C4.1,12.9,4.9,12,6.1,12z M16.1,32h78c1.1,0,2,0.9,2,2l-9.8,53.1l-0.1,0.1 c0,0.1,0,0.2-0.1,0.2c0,0.1,0,0.2-0.1,0.2c0,0,0,0.1,0,0.1c0,0,0,0,0,0.1c0,0.1,0,0.2-0.1,0.3c0,0.1,0,0.1,0,0.2 c0,0.1,0,0.2,0,0.2c-0.3,0.8-1,1.4-1.9,1.4h-78c-1.1,0-2-0.9-2-2L14,34.4l0.1-0.2V34C14.1,32.9,14.9,32,16.1,32L16.1,32z"/>'),
          (om[gm] =
            '<path fill="currentColor" stroke="currentColor" d="M86.3,4c-2.5,0-5,1-6.9,2.9l-1.6,1.6l13.7,13.7c0,0,1.6-1.6,1.6-1.6c3.8-3.8,3.8-10,0-13.8C91.2,5,88.7,4,86.3,4z M74.7,12.1c-0.5,0.1-0.9,0.3-1.2,0.6L8.6,77.6c-0.3,0.2-0.5,0.5-0.6,0.9l-4,15c-0.2,0.7,0,1.4,0.5,1.9s1.2,0.7,1.9,0.5l15-4 c0.3-0.1,0.6-0.3,0.9-0.6l64.9-64.9c0.8-0.8,0.8-2,0-2.8c-0.8-0.8-2-0.8-2.8,0L19.9,88.2l-8.1-8.1l64.6-64.6 c0.6-0.6,0.8-1.5,0.4-2.2c-0.3-0.8-1.1-1.2-1.9-1.2C74.8,12.1,74.7,12.1,74.7,12.1z"/>'),
          (om[mm] =
            '<path fill="currentColor" stroke="currentColor" d="M70,8c-0.5,0-1,0.2-1.4,0.6l-40,40c-0.8,0.8-0.8,2,0,2.8l40,40c0.5,0.5,1.3,0.7,1.9,0.5c0.7-0.2,1.3-0.7,1.4-1.4 c0.2-0.7,0-1.4-0.5-1.9L32.8,50l38.6-38.6c0.6-0.6,0.8-1.5,0.4-2.2C71.5,8.4,70.8,8,70,8L70,8z"/>'),
          (om[vm] =
            '<path fill="currentColor" stroke="currentColor" d="M30,8c-0.8,0-1.5,0.5-1.9,1.2c-0.3,0.8-0.1,1.6,0.5,2.2L67.2,50L28.6,88.6c-0.5,0.5-0.7,1.3-0.5,1.9 c0.2,0.7,0.7,1.2,1.4,1.4c0.7,0.2,1.4,0,1.9-0.5l40-40c0.8-0.8,0.8-2,0-2.8l-40-40C31,8.2,30.5,8,30,8z"/>'),
          (om[ym] =
            '<path fill="currentColor" stroke="currentColor" d="M6,18c-0.7,0-1.4,0.4-1.8,1c-0.4,0.6-0.4,1.4,0,2c0.4,0.6,1,1,1.8,1h88c0.7,0,1.4-0.4,1.8-1s0.4-1.4,0-2 c-0.4-0.6-1-1-1.8-1H6z M6,48c-0.7,0-1.4,0.4-1.8,1c-0.4,0.6-0.4,1.4,0,2c0.4,0.6,1,1,1.8,1h88c0.7,0,1.4-0.4,1.8-1 c0.4-0.6,0.4-1.4,0-2s-1-1-1.8-1H6z M6,78c-0.7,0-1.4,0.4-1.8,1c-0.4,0.6-0.4,1.4,0,2c0.4,0.6,1,1,1.8,1h88c0.7,0,1.4-0.4,1.8-1 s0.4-1.4,0-2s-1-1-1.8-1H6z"/>'),
          (om[bm] =
            '<path fill="currentColor" stroke="currentColor" d="M12,0C5.4,0,0,5.4,0,12s5.4,12,12,12c2.6,0,5-0.8,6.9-2.2l15.6,15.6C31.7,40.8,30,45.2,30,50c0,4,1.2,7.6,3.2,10.7 L20.1,71.1c-2.1-1.9-5-3.1-8.1-3.1C5.4,68,0,73.4,0,80s5.4,12,12,12s12-5.4,12-12c0-2.1-0.5-4-1.5-5.8l13.2-10.4 C39.3,67.6,44.4,70,50,70c2.7,0,5.2-0.5,7.5-1.4l5.3,9.9C59.9,80.7,58,84.1,58,88c0,6.6,5.4,12,12,12s12-5.4,12-12s-5.4-12-12-12 c-1.3,0-2.6,0.2-3.8,0.6L61,66.7c3.8-2.5,6.7-6.2,8.1-10.6l6.9,1.4c0,0.2,0,0.3,0,0.5c0,6.6,5.4,12,12,12s12-5.4,12-12 c0-6.6-5.4-12-12-12c-5.1,0-9.4,3.2-11.2,7.6l-6.9-1.5c0.1-0.7,0.1-1.4,0.1-2.1c0-7.9-4.6-14.7-11.3-17.9l3.1-8.2 c0.7,0.1,1.5,0.2,2.2,0.2c6.6,0,12-5.4,12-12S70.6,0,64,0S52,5.4,52,12c0,4.4,2.5,8.3,6.1,10.4L55,30.7c-1.6-0.4-3.3-0.7-5-0.7 c-4.8,0-9.2,1.7-12.6,4.5L21.8,18.9c1.4-2,2.2-4.4,2.2-6.9C24,5.4,18.6,0,12,0L12,0z M12,4c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8 S7.6,4,12,4z M64,4c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S59.6,4,64,4z M50,34c8.9,0,16,7.1,16,16c0,8.9-7.1,16-16,16 c-8.9,0-16-7.1-16-16c0-4.3,1.7-8.2,4.4-11.1c0.2-0.1,0.3-0.3,0.4-0.4C41.8,35.7,45.7,34,50,34z M88,50c4.4,0,8,3.6,8,8 s-3.6,8-8,8s-8-3.6-8-8S83.6,50,88,50z M12,72c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S7.6,72,12,72z M70,80c4.4,0,8,3.6,8,8 s-3.6,8-8,8c-4.4,0-8-3.6-8-8c0-3,1.7-5.6,4.1-7c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0.1-0.1c0,0,0.1,0,0.1-0.1C67.6,80.3,68.7,80,70,80z "/>'),
          (om[wm] =
            '<path fill="currentColor" stroke="currentColor" d="M48.4,6c-0.6,0-1.2,0.1-1.8,0.3c-1.2,0.4-2.4,1.1-3.4,2.1L19.7,31.9H6.1C2.7,31.9,0,34.7,0,38v24c0,3.3,2.7,6.1,6.1,6.1 h13.6l23.4,23.3c2.2,2.2,5.1,3.2,7.4,2.1c2.4-1.1,3.5-3.8,3.5-6.9v-74c0-3-1.5-5.5-3.9-6.3C49.6,6.1,49,6,48.4,6z M48.4,10 c0.2,0,0.4,0,0.5,0.1c0.6,0.2,1.1,0.7,1.1,2.6v74c0,2.1-0.7,3.1-1.2,3.3c-0.5,0.2-1.5,0.3-3-1.3L20.7,63.4c0,0-0.1,0-0.1-0.1 c0.1,0.1-0.5-1.1-0.5-1.9v-23c0-0.7,0.7-2,0.5-1.9c0,0,0.1-0.1,0.1-0.1L46,11.2C46.9,10.3,47.8,10,48.4,10L48.4,10z M76.6,13.6 c-0.9,0.1-1.5,0.9-1.6,1.7c-0.1,0.9,0.4,1.7,1.2,2.1c11.9,6,20,18.3,20,32.6s-8.1,26.6-20,32.6c-0.7,0.2-1.2,0.9-1.3,1.7 c-0.1,0.8,0.3,1.5,0.9,1.9c0.7,0.4,1.5,0.4,2.1,0c13.2-6.7,22.3-20.3,22.3-36.1s-9-29.5-22.3-36.1c-0.3-0.2-0.7-0.3-1.1-0.3 C76.8,13.6,76.7,13.6,76.6,13.6L76.6,13.6z M69.5,24.3c-0.9,0.1-1.6,0.8-1.7,1.7c-0.1,0.9,0.3,1.8,1.2,2.1 c7.8,4.2,13.1,12.4,13.1,21.9c0,9.5-5.3,17.7-13.1,21.9c-1,0.5-1.3,1.8-0.8,2.7c0.5,1,1.8,1.3,2.7,0.8C80,70.5,86.1,61,86.1,50 c0-11-6.1-20.6-15.2-25.5c-0.4-0.2-0.8-0.3-1.2-0.3C69.6,24.3,69.6,24.3,69.5,24.3z M6.1,36.1h10.4c-0.3,0.8-0.4,1.6-0.4,2.4v23 c0,0.8,0.1,1.7,0.4,2.4H6.1c-1.1,0-1.9-0.9-1.9-1.9V38C4.1,36.9,5,36.1,6.1,36.1z M61.1,36.8c-1,0.1-1.7,0.9-1.8,1.9 c0,1,0.6,1.8,1.6,2c4.1,1.1,7.1,4.8,7.1,9.2s-3,8.2-7.1,9.3c-1.1,0.3-1.7,1.4-1.4,2.4c0.3,1.1,1.4,1.7,2.4,1.4 c5.8-1.5,10.1-6.9,10.1-13.1s-4.3-11.6-10.1-13.1C61.7,36.8,61.4,36.8,61.1,36.8z"/>'),
          (om[km] =
            '<path fill="currentColor" stroke="currentColor" d="M0,10v80h100V10L0,10z M4,14h92v52H74.6l-14-10H48.8l-8.2-8.2l-9.7,2l-8.6-12.9L4,55.2L4,14z M75,26c-4.9,0-9,4.1-9,9 s4.1,9,9,9s9-4.1,9-9S79.9,26,75,26z M75,30c2.8,0,5,2.2,5,5s-2.2,5-5,5s-5-2.2-5-5C70,32.2,72.2,30,75,30z M21.7,43.1l7.4,11.1 l10.3-2l7.8,7.8h12.2l14,10H96v16H4V60.8L21.7,43.1z"/>'),
          (om[Cm] =
            '<path fill="currentColor" stroke="currentColor" d="M97.3,57.2c-5.4-5.4-21-3.9-28.7-2.9c-7.7-4.7-12.8-11.2-16.4-20.7c1.7-7.2,4.5-18.1,2.4-25C52.7-3,37.7-1.9,35.6,6 c-2,7.2-0.2,17.2,3.1,30c-4.5,10.7-11.1,25-15.8,33.2C14,73.8,1.9,80.9,0.1,89.8c-1.5,7.1,11.6,24.6,34-13.9c10-3.3,20.9-7.4,30.5-9 c8.4,4.6,18.3,7.6,24.9,7.6C100.9,74.5,102,61.9,97.3,57.2z M43.9,6.9c6.8,0,6.2,16.4,1.6,20.9C41.6,20.7,41.6,6.9,43.9,6.9z M30.7,71.3c6-10.5,11.2-23.1,15.4-34.2c5.2,9.4,11.8,17,18.8,22.1C52,62,40.6,67.4,30.7,71.3z M95.7,67.5c0,0-2.6,6.6-25.2-5.7 C93.2,57,97.8,64.9,95.7,67.5z M24.5,76.5C12.2,98.6,6.6,94.1,6.6,94.1C3.6,92.9,3.2,83.5,24.5,76.5z"/>'),
          (om[xm] =
            '<path fill="currentColor" stroke="currentColor" d="M44.4,4c-1,0-1.8,0.7-2,1.7l-1.9,11.9c-2.3,0.7-4.6,1.6-6.7,2.7l-9.8-7c-0.8-0.6-1.9-0.5-2.6,0.2l-7.8,7.8 c-0.7,0.7-0.8,1.8-0.2,2.6l6.9,9.9c-1.2,2.1-2.1,4.4-2.8,6.7l-11.9,2c-1,0.2-1.7,1-1.7,2v11c0,1,0.7,1.8,1.6,2l11.9,2.1 c0.7,2.4,1.6,4.6,2.8,6.7l-7,9.8c-0.6,0.8-0.5,1.9,0.2,2.6l7.8,7.8c0.7,0.7,1.8,0.8,2.6,0.2l9.9-6.9c2.1,1.2,4.3,2.1,6.7,2.8 l2,11.9c0.2,1,1,1.7,2,1.7h11c1,0,1.8-0.7,2-1.7l2.1-12c2.3-0.7,4.6-1.6,6.7-2.8l10,7c0.8,0.6,1.9,0.5,2.6-0.2l7.8-7.8 c0.7-0.7,0.8-1.8,0.2-2.6l-7.1-9.9c1.1-2.1,2.1-4.3,2.7-6.6l12-2.1c1-0.2,1.7-1,1.7-2v-11c0-1-0.7-1.8-1.7-2l-12-2 c-0.7-2.3-1.6-4.5-2.7-6.6l7-10c0.6-0.8,0.5-1.9-0.2-2.6l-7.8-7.8c-0.7-0.7-1.8-0.8-2.6-0.2l-9.8,7.1c-2.1-1.2-4.3-2.1-6.7-2.8 l-2.1-12c-0.2-1-1-1.7-2-1.7L44.4,4z M46.1,8h7.6l2,11.4c0.1,0.8,0.7,1.4,1.5,1.6c2.9,0.7,5.7,1.9,8.2,3.4 c0.7,0.4,1.6,0.4,2.2-0.1l9.4-6.7l5.4,5.4l-6.7,9.5c-0.5,0.6-0.5,1.5-0.1,2.2c1.5,2.5,2.6,5.2,3.4,8.1c0.2,0.8,0.8,1.4,1.6,1.5 L92,46.1v7.6l-11.4,2c-0.8,0.1-1.4,0.7-1.6,1.5c-0.7,2.9-1.9,5.6-3.4,8.1c-0.4,0.7-0.4,1.6,0.1,2.2l6.8,9.4l-5.4,5.4l-9.5-6.7 c-0.7-0.5-1.5-0.5-2.2-0.1c-2.5,1.5-5.2,2.7-8.2,3.4c-0.8,0.2-1.3,0.8-1.5,1.6l-2,11.4h-7.6l-1.9-11.3c-0.1-0.8-0.7-1.4-1.5-1.6 c-2.9-0.7-5.7-1.9-8.2-3.4c-0.7-0.4-1.5-0.4-2.2,0.1l-9.4,6.6l-5.4-5.4l6.6-9.3c0.5-0.7,0.5-1.5,0.1-2.2c-1.5-2.5-2.7-5.3-3.4-8.2 c-0.2-0.8-0.8-1.3-1.6-1.5L8,53.7v-7.6l11.3-1.9c0.8-0.1,1.4-0.7,1.6-1.5c0.7-2.9,1.9-5.7,3.4-8.2c0.4-0.7,0.4-1.5-0.1-2.2 l-6.6-9.4l5.4-5.4l9.3,6.7c0.6,0.5,1.5,0.5,2.2,0.1c2.5-1.5,5.3-2.7,8.2-3.4c0.8-0.2,1.4-0.8,1.5-1.6L46.1,8z M50,34 c-8.8,0-16,7.2-16,16s7.2,16,16,16s16-7.2,16-16S58.8,34,50,34z M50,38c6.7,0,12,5.3,12,12s-5.3,12-12,12s-12-5.3-12-12 S43.3,38,50,38z"/>'),
          (om[Sm] =
            '<path fill="currentColor" stroke="currentColor" d="M74,4c-0.1,0-0.2,0-0.3,0H40v11.5l4,4V8h28v20h20v48H64v4h32V26.3c0-0.2,0-0.4,0-0.6v-0.5l-0.4-0.4 c-0.1-0.1-0.2-0.3-0.4-0.4c0,0,0,0,0,0L75.6,4.8c-0.1-0.1-0.2-0.3-0.4-0.4L74.8,4h-0.5C74.2,4,74.1,4,74,4L74,4z M76,10.8L89.2,24 H76V10.8z M38,20c-0.1,0-0.2,0-0.3,0H4v76h56V42.3c0-0.2,0-0.4,0-0.6v-0.5l-0.4-0.4c-0.1-0.1-0.2-0.3-0.4-0.4L39.6,20.7 c-0.1-0.1-0.2-0.3-0.4-0.4L38.8,20h-0.5C38.2,20,38.1,20,38,20z M8,24h28v20h20v48H8L8,24z M40,26.8L53.2,40H40V26.8z M60.5,36 l4,4H84v-4L60.5,36z M64,48v4h12v-4H64z M16,52v4h32v-4H16z M64,60v4h20v-4H64z M16,64v4h24v-4H16z M16,76v4h32v-4H16z"/>'),
          (om[Em] =
            '<path fill="currentColor" stroke="currentColor" d="M47.7,0c-0.5,0.1-1,0.4-1.3,0.8L32.3,20.3c-0.6,0.9-0.4,2.1,0.4,2.7l19.4,14.1c0,0,0.1,0.1,0.1,0.1c0.9,0.5,2,0.3,2.6-0.6 l14.2-19.4c0.3-0.4,0.5-1,0.4-1.5c-0.1-0.5-0.4-1-0.8-1.3L49.2,0.4C48.8,0.1,48.3,0,47.9,0C47.8,0,47.8,0,47.7,0z M73.6,0 c-1,0.2-1.6,1-1.6,2v24c0,1.1,0.9,2,2,2h24c1.1,0,2-0.9,2-2V2c0-1.1-0.9-2-2-2H74c-0.1,0-0.1,0-0.2,0S73.7,0,73.6,0z M76,4h20v20 H76V4z M48.5,4.8l16.1,11.7L52.9,32.8L36.7,20.9L48.5,4.8z M1.6,24c-1,0.2-1.6,1-1.6,2v23.8c0,0.1,0,0.1,0,0.2c0,0.1,0,0.1,0,0.2 v23.6c0,0.1,0,0.1,0,0.2c0,0.1,0,0.1,0,0.2V98c0,1.1,0.9,2,2,2h72c1.1,0,2-0.9,2-2V74c0-1.1-0.9-2-2-2H52V50c0-1.1-0.9-2-2-2H28 V26c0-1.1-0.9-2-2-2H2c-0.1,0-0.1,0-0.2,0S1.7,24,1.6,24L1.6,24z M4,28h20v20H4L4,28z M87.3,30.9c-0.1,0-0.2,0-0.3,0.1l-22.7,7.6 c-0.5,0.2-0.9,0.5-1.2,1c-0.2,0.5-0.3,1-0.1,1.5l7.6,22.7c0,0,0,0.1,0.1,0.1c0.4,1,1.5,1.5,2.5,1.1l22.7-7.6 c1-0.4,1.6-1.5,1.3-2.5l-7.6-22.7C89.1,31.3,88.2,30.7,87.3,30.9L87.3,30.9z M86.3,35.4l6.3,19l-18.9,6.3l-6.3-18.9L86.3,35.4z M4,52h20v20H4L4,52z M28,52h20v20H28L28,52z M4,76h20v20H4L4,76z M28,76h20v20H28L28,76z M52,76h20v20H52V76z"/>'),
          (om[Mm] =
            '<path fill="currentColor" stroke="currentColor" d="M16,4c-1.1,0-2,0.9-2,2v26h4V8h64v84H18V78h-4v16c0,1.1,0.9,2,2,2h68c1.1,0,2-0.9,2-2V6c0-1.1-0.9-2-2-2L16,4z M32,20v4 h36v-4H32z M32,32v4h36v-4H32z M22,36v12H6v2v12h16v12l25.3-19L22,36z M26,44l14.7,11L26,66v-8H10v-6h16V44z M54,46 c-1.1,0-2,0.9-2,2v14c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V48c0-1.1-0.9-2-2-2H54z M56,50h8v10h-8V50z M32,74v4h36v-4H32z"/>'),
          (om[Lm] =
            '<path fill="currentColor" stroke="currentColor" d="M5.6,4C4.7,4.2,4,5,4,6v8c0,1.1,0.9,2,2,2h2v62c0,1.1,0.9,2,2,2h38v4.4c-2.3,0.8-4,3-4,5.6c0,3.3,2.7,6,6,6s6-2.7,6-6 c0-2.6-1.7-4.8-4-5.6V80h38c1.1,0,2-0.9,2-2V16h2c1.1,0,2-0.9,2-2V6c0-1.1-0.9-2-2-2H6C5.9,4,5.9,4,5.8,4S5.7,4,5.6,4L5.6,4z M8,8 h84v4H8L8,8z M12,16h76v60H50.4c-0.3-0.1-0.5-0.1-0.8,0H12L12,16z M37.6,28c-1,0.2-1.6,1-1.6,2v10c0,1.1,0.9,2,2,2h10 c1.1,0,2-0.9,2-2c0-6.6-5.4-12-12-12c-0.1,0-0.1,0-0.2,0C37.8,28,37.7,28,37.6,28z M40,32.4c2.8,0.7,4.9,2.8,5.6,5.6H40V32.4z M32,34c-6.6,0-12,5.4-12,12c0,6.6,5.4,12,12,12s12-5.4,12-12c0-1.1-0.9-2-2-2h-8v-8C34,34.9,33.1,34,32,34z M55.4,34 c-1.1,0.2-1.9,1.2-1.7,2.3s1.2,1.9,2.3,1.7h22c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H56c-0.1,0-0.1,0-0.2,0 c-0.1,0-0.1,0-0.2,0C55.6,34,55.5,34,55.4,34L55.4,34z M30,38.4V46c0,1.1,0.9,2,2,2h7.6c-0.9,3.4-3.9,6-7.6,6c-4.4,0-8-3.6-8-8 C24,42.3,26.6,39.3,30,38.4z M55.4,44c-1.1,0.2-1.9,1.2-1.7,2.3c0.2,1.1,1.2,1.9,2.3,1.7h22c0.7,0,1.4-0.4,1.8-1 c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H56c-0.1,0-0.1,0-0.2,0c-0.1,0-0.1,0-0.2,0C55.6,44,55.5,44,55.4,44L55.4,44z M55.4,54 c-1.1,0.2-1.9,1.2-1.7,2.3c0.2,1.1,1.2,1.9,2.3,1.7h22c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H56 c-0.1,0-0.1,0-0.2,0c-0.1,0-0.1,0-0.2,0C55.6,54,55.5,54,55.4,54L55.4,54z M49.8,88c0.1,0,0.1,0,0.2,0c1.1,0,2,0.9,2,2s-0.9,2-2,2 c-1.1,0-2-0.9-2-2C48,88.9,48.8,88.1,49.8,88z"/>'),
          (om[Am] =
            '<path fill="currentColor" stroke="currentColor" d="M18,8C12.5,8,8,12.5,8,18v64c0,5.5,4.5,10,10,10h64c5.5,0,10-4.5,10-10V18c0-5.5-4.5-10-10-10L18,8z M18,12h64 c3.3,0,6,2.7,6,6v64c0,3.3-2.7,6-6,6H18c-3.3,0-6-2.7-6-6V18C12,14.7,14.7,12,18,12z M33.4,30.6l-2.8,2.8L47.2,50L30.6,66.6 l2.8,2.8L50,52.8l16.6,16.6l2.8-2.8L52.8,50l16.6-16.6l-2.8-2.8L50,47.2L33.4,30.6z"/>'),
          (om[Dm] =
            '<path fill="currentColor" stroke="currentColor" d="M50,0c-12.1,0-22,9.6-22,21.5v25.1c0,11.9,9.9,21.5,22,21.5s22-9.6,22-21.5V21.5C72,9.6,62.1,0,50,0z M50,4.1 c10,0,17.9,7.8,17.9,17.4V22H57c-0.1,0-0.1,0-0.2,0c-1.1,0.1-2,1-1.9,2.1c0.1,1.1,1,2,2.1,1.9h10.9v4H57c-0.1,0-0.1,0-0.2,0 c-1.1,0.1-2,1-1.9,2.1s1,2,2.1,1.9h10.9v4H57c-0.1,0-0.1,0-0.2,0c-1.1,0.1-2,1-1.9,2.1s1,2,2.1,1.9h10.9v4.6 c0,9.6-8,17.4-17.9,17.4S32,56.2,32,46.6V42H43c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H32v-4H43 c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H32v-4H43c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2 c-0.4-0.6-1-1-1.8-1H32v-0.6C32,11.9,40,4.1,50,4.1L50,4.1z M19.6,34.3c-0.8,0.2-1.4,0.9-1.4,1.7v10c0,15.4,11.1,28.3,25.7,31.2 V90h-13c-3.8,0-6.9,3.1-6.9,6.9v2.9h51.7v-2.9c0-3.8-3.1-6.9-6.9-6.9H56V77.2C70.6,74.4,81.7,61.4,81.7,46V36c0-1-0.8-1.7-1.7-1.7 s-1.7,0.8-1.7,1.7v10c0,15.6-12.6,28.2-28.2,28.2S21.7,61.6,21.7,46V36c0-0.5-0.2-1-0.6-1.3c-0.4-0.3-0.9-0.5-1.4-0.4 C19.7,34.3,19.7,34.3,19.6,34.3L19.6,34.3z M48,77.6c0.6,0,1.3,0.1,1.9,0.1c0.6,0,1.3-0.1,1.9-0.1v12.3H48L48,77.6z M30.9,94h14.6 c0.2,0,0.3,0.1,0.5,0.1h8c0.1,0,0.3,0,0.4-0.1h14.4c1.3,0,2.1,0.8,2.6,1.9h-43C28.8,94.8,29.6,94,30.9,94z"/>'),
          (om[Pm] =
            '<path fill="currentColor" stroke="currentColor" d="M74,8c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-2.9,2.9-4.7,6.6-5.1,10.6C46,34.6,46,35.3,46,36c0,2.7,0.6,5.4,1.8,7.8l3.1-3.1 C50.3,39.2,50,37.6,50,36c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1s7.3,1.5,9.9,4.1c2.6,2.6,4.1,6.2,4.1,9.9 s-1.5,7.3-4.1,9.9l-10,10C71.3,48.5,67.7,50,64,50c-1.6,0-3.2-0.3-4.7-0.8l-3.1,3.1c2.4,1.1,5,1.8,7.8,1.8c4.8,0,9.3-1.9,12.7-5.3 l10-10C90.1,35.3,92,30.8,92,26s-1.9-9.3-5.3-12.7C83.3,9.9,78.8,8,74,8L74,8z M62,36c-0.5,0-1,0.2-1.4,0.6l-24,24 c-0.5,0.5-0.7,1.2-0.6,1.9c0.2,0.7,0.7,1.2,1.4,1.4c0.7,0.2,1.4,0,1.9-0.6l24-24c0.6-0.6,0.8-1.5,0.4-2.2C63.5,36.4,62.8,36,62,36 z M36,46c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-3.1,3.1-5,7.2-5.2,11.6c0,0.4,0,0.8,0,1.2c0,4.8,1.9,9.3,5.3,12.7 C16.7,90.1,21.2,92,26,92s9.3-1.9,12.7-5.3l10-10C52.1,73.3,54,68.8,54,64c0-2.7-0.6-5.4-1.8-7.8l-3.1,3.1 c0.5,1.5,0.8,3.1,0.8,4.7c0,3.7-1.5,7.3-4.1,9.9l-10,10C33.3,86.5,29.7,88,26,88s-7.3-1.5-9.9-4.1S12,77.7,12,74 c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1c1.6,0,3.2,0.3,4.7,0.8l3.1-3.1C41.4,46.6,38.7,46,36,46L36,46z"/>'),
          (om[Om] =
            '<path fill="currentColor" stroke="currentColor" d="M21.5,8.3c-3.7,0-6.6,2.9-6.6,6.6v65.8l4.4-4.4V14.9c0-1.3,0.9-2.2,2.2-2.2h57c1.3,0,2.2,0.9,2.2,2.2v70.2 c0,1.3-0.9,2.2-2.2,2.2H30.3l-4.4,4.4h52.6c3.7,0,6.6-2.9,6.6-6.6V14.9c0-3.7-2.9-6.6-6.6-6.6H21.5z M30.3,50v4.4h18.9l-34,34 l3.1,3.1l34-34v18.9h4.4V50H30.3z"/>'),
          (om[Fm] =
            '<path fill="currentColor" stroke="currentColor" d="M85.8,17.3c-0.1,0-0.1,0-0.2,0.1c-0.5,0.1-1,0.5-1.3,0.9L43.4,81.6L15.3,56.2c-0.5-0.6-1.3-0.9-2.1-0.7 c-0.8,0.2-1.3,0.9-1.5,1.6c-0.1,0.8,0.2,1.6,0.9,2l29.8,27c0.4,0.4,1,0.6,1.6,0.5c0.6-0.1,1.1-0.4,1.4-0.9l42.2-65.4 c0.5-0.7,0.5-1.5,0.1-2.2S86.5,17.1,85.8,17.3L85.8,17.3z"/>'),
          (om[Im] =
            '<path fill="currentColor" stroke="currentColor" d="M36,18l-1.5,16H20l-0.4,4h14.5l-2.4,26H17.2l-0.4,4h14.5L30,82h4l1.3-14h26L60,82h4l1.3-14h15.5l0.4-4H65.7l2.4-26h15.5 l0.4-4H68.5L70,18h-4l-1.5,16h-26L40,18L36,18z M38.1,38h26l-2.4,26h-26L38.1,38z"/>'),
          (om[Nm] =
            '<path fill="currentColor" stroke="currentColor" d="M39.6,26.2c-0.4,0.1-0.8,0.3-1.1,0.6L16.7,48.6L15.3,50l1.4,1.4l21.8,21.8c0.5,0.6,1.3,0.9,2,0.7c0.7-0.2,1.3-0.8,1.5-1.5 c0.2-0.8-0.1-1.5-0.7-2L22.9,52H82c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H22.9l18.4-18.4 c0.6-0.6,0.8-1.6,0.4-2.3C41.4,26.5,40.5,26,39.6,26.2L39.6,26.2z"/>'),
          (om[Bm] =
            '<path fill="currentColor" stroke="currentColor" d="M59.7,26.2c-0.8,0.1-1.4,0.7-1.6,1.4c-0.2,0.7,0,1.5,0.6,2L77.1,48H18c-0.1,0-0.1,0-0.2,0c-1.1,0.1-2,1-1.9,2.1 c0.1,1.1,1,2,2.1,1.9h59.1L58.7,70.4c-0.6,0.5-0.9,1.3-0.7,2c0.2,0.7,0.8,1.3,1.5,1.5c0.8,0.2,1.5-0.1,2-0.7l21.8-21.7l1.4-1.4 l-1.4-1.4L61.5,26.8c-0.4-0.4-1-0.7-1.6-0.6C59.8,26.2,59.8,26.2,59.7,26.2L59.7,26.2z"/>'),
          (om[Rm] =
            '<path fill="currentColor" stroke="currentColor" d="M50,15.3l-1.4,1.4L26.8,38.5c-0.6,0.5-0.9,1.3-0.7,2c0.2,0.7,0.8,1.3,1.5,1.5c0.8,0.2,1.5-0.1,2-0.7L48,22.9V82 c0,0.7,0.4,1.4,1,1.8c0.6,0.4,1.4,0.4,2,0c0.6-0.4,1-1,1-1.8V22.9l18.4,18.4c0.5,0.6,1.3,0.9,2,0.7c0.7-0.2,1.3-0.8,1.5-1.5 c0.2-0.8-0.1-1.5-0.7-2L51.4,16.7L50,15.3z"/>'),
          (om[zm] =
            '<path fill="currentColor" stroke="currentColor" d="M49.8,15.9c-0.1,0-0.2,0-0.3,0.1c-0.9,0.2-1.6,1-1.6,2v59.1L29.6,58.7c-0.4-0.4-0.9-0.6-1.4-0.6c-0.8,0-1.5,0.5-1.8,1.3 c-0.3,0.8-0.1,1.6,0.5,2.2l21.7,21.8l1.4,1.4l1.4-1.4l21.8-21.8c0.6-0.5,0.9-1.3,0.7-2c-0.2-0.7-0.8-1.3-1.5-1.5 c-0.8-0.2-1.5,0.1-2,0.7L52,77.1V18c0-0.6-0.2-1.1-0.6-1.5C51,16.1,50.4,15.9,49.8,15.9L49.8,15.9z"/>'),
          (om[Hm] =
            '<path fill="currentColor" stroke="currentColor" d="M16,10c-3.3,0-6,2.7-6,6v68c0,3.3,2.7,6,6,6h68c3.3,0,6-2.7,6-6V16c0-3.3-2.7-6-6-6L16,10z M16,14h68c1.1,0,2,0.9,2,2v68 c0,1.1-0.9,2-2,2H16c-1.1,0-2-0.9-2-2V16C14,14.9,14.9,14,16,14z M22,24v4h52v-4H22z M22,36v4h34v-4L22,36z M22,48v4h52v-4H22z M22,60v4h34v-4H22z M22,72v4h52v-4H22z"/>'),
          (om[Vm] =
            '<path fill="currentColor" stroke="currentColor" d="M50,6c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S56.6,6,50,6z M50,10c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8 S45.6,10,50,10z M50,38c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S56.6,38,50,38z M50,42c4.4,0,8,3.6,8,8s-3.6,8-8,8 s-8-3.6-8-8S45.6,42,50,42z M50,70c-6.6,0-12,5.4-12,12c0,6.6,5.4,12,12,12s12-5.4,12-12C62,75.4,56.6,70,50,70z M50,74 c4.4,0,8,3.6,8,8c0,4.4-3.6,8-8,8s-8-3.6-8-8C42,77.6,45.6,74,50,74z"/>'),
          (om[qm] =
            '<path fill="currentColor" stroke="currentColor" d="M71.9,0c-0.4,0-0.7,0.1-1.1,0.2c-1.5,0.4-2.8,1.4-3.9,2.7c0,0,0,0-0.1,0.1L50.1,26.4c-10.3-2.4-21.5,0.3-29.4,8.3 c-0.8,0.8-0.8,2,0,2.8l14.9,14.8L0.4,96.7c-0.6,0.8-0.6,1.9,0.1,2.7c0.7,0.7,1.9,0.8,2.7,0.1l44.4-35.1l14.9,14.8 c0.8,0.8,2,0.8,2.8,0c8.1-8.1,10.7-19.5,8.2-29.9l23.4-15.9c0,0,0,0,0.1-0.1c1.4-1,2.3-2.3,2.7-3.7c0.4-1.5,0.2-3.3-1-4.6 L75.3,1.3c-0.6-0.6-1.4-1-2.2-1.1C72.7,0,72.3,0,71.9,0z M72.3,4c0.1,0,0.1,0,0.1,0.1l23.6,23.8c0.1,0.1,0.1,0.1,0,0.6 c-0.1,0.4-0.6,1.1-1.3,1.7l-0.1,0.1L70.3,46.7c0,0,0,0-0.1,0.1l-0.1,0.1c-0.7,0.5-0.9,1.4-0.7,2.2c2.6,8.8,0.6,18.4-5.7,25.7 L25.1,36.3c7.2-6.2,16.8-8.3,25.4-5.8c0.8,0.2,1.7-0.1,2.2-0.8L70,5.4l0.1-0.1c0.6-0.7,1.3-1.1,1.7-1.2C72,4,72.2,4,72.3,4L72.3,4 z M38.4,55.2l6.4,6.4L14.3,85.7L38.4,55.2z"/>'),
          (om[jm] =
            '<path fill="currentColor" stroke="currentColor" d="M42,6C23.2,6,8,21.2,8,40s15.2,34,34,34c7.4,0,14.3-2.4,19.9-6.4l26.3,26.3l5.6-5.6l-26-26.1c5.1-6,8.2-13.7,8.2-22.1 C76,21.2,60.8,6,42,6z M42,10c16.6,0,30,13.4,30,30S58.6,70,42,70S12,56.6,12,40S25.4,10,42,10z"/>'),
          (om[Um] =
            '<path fill="currentColor" stroke="currentColor" d="M50,4C24.6,4,4,24.6,4,50s20.6,46,46,46s46-20.6,46-46S75.4,4,50,4L50,4z M50,8c23.2,0,42,18.8,42,42S73.2,92,50,92 S8,73.2,8,50S26.8,8,50,8z M50,22c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6-6S53.3,22,50,22z M42,42v4h2h2v26h-2h-2v4h2h2h8h2h2v-4h-2 h-2V42h-2h-8L42,42z"/>'),
          (om[Wm] =
            '<path fill="currentColor" stroke="currentColor" d="M50,0.2l-1.4,1.4l-17,17c-0.8,0.8-0.8,2.1,0,2.9c0.8,0.8,2.1,0.8,2.9,0L48,7.9V40H0v4h100v-4H52V7.9l13.6,13.6 c0.8,0.8,2.1,0.8,2.9,0c0.8-0.8,0.8-2.1,0-2.9l-17-17L50,0.2z M49.8,55.9c-0.1,0-0.1,0-0.2,0.1H0v4h48v32.1L34.4,78.6 c-0.5-0.5-1.2-0.7-1.9-0.6c-0.8,0.1-1.4,0.7-1.6,1.4c-0.2,0.7,0,1.5,0.6,2l17,17l1.4,1.4l1.4-1.4l17-17c0.8-0.8,0.8-2.1,0-2.9 s-2.1-0.8-2.9,0L52,92.1V60h48v-4H50.4C50.2,55.9,50,55.9,49.8,55.9L49.8,55.9z"/>'),
          (om[_m] =
            '<path fill="currentColor" stroke="currentColor" d="M40,0v48H7.9l13.6-13.6c0.6-0.6,0.8-1.6,0.4-2.3c-0.4-0.8-1.3-1.2-2.1-1.1c-0.4,0-0.9,0.3-1.2,0.6l-17,17L0.2,50l1.4,1.4 l17,17c0.8,0.8,2.1,0.8,2.9,0c0.8-0.8,0.8-2.1,0-2.9L7.9,52H40v48h4V50.4c0.1-0.3,0.1-0.5,0-0.8V0H40z M56,0v49.4 c-0.1,0.4-0.1,0.8,0,1.2V100h4V52h32.1L78.6,65.6c-0.8,0.8-0.8,2.1,0,2.9c0.8,0.8,2.1,0.8,2.9,0l17-17l1.4-1.4l-1.4-1.4l-17-17 c-0.4-0.4-1-0.7-1.6-0.6c-0.1,0-0.2,0-0.3,0.1c-0.7,0.1-1.4,0.7-1.6,1.4c-0.2,0.7,0,1.5,0.6,2L92.1,48H60V0H56z"/>'),
          (om[Gm] =
            '<path fill="currentColor" stroke="currentColor" d="M24,0c-2.2,0-4,1.8-4,4v4H8c-2.1,0-4,1.6-4,3.9v80.5c0,1.1,0.7,2.3,1.5,2.8C6.3,95.8,7.1,96,8,96h84 c0.9,0,1.7-0.2,2.5-0.8c0.8-0.6,1.5-1.7,1.5-2.8V11.9C96,9.8,94.3,8,92.2,8H80V4c0-2.2-1.8-4-4-4h-4c-2.2,0-4,1.8-4,4v4H32V4 c0-2.2-1.8-4-4-4L24,0z M24,4h4v12h-4V4z M72,4h4v12h-4V4z M8,12h12v4c0,2.2,1.8,4,4,4h4c2.2,0,4-1.8,4-4v-4h36v4c0,2.2,1.8,4,4,4 h4c2.2,0,4-1.8,4-4v-4h12v14H8L8,12z M8,30h84v62H8L8,30z M65.4,41.2l-1.1,1.7L48,68.2l-10.7-9.7l-1.5-1.3l-2.7,3l1.5,1.3 l14.2,12.8l18.8-29.2l1.1-1.7L65.4,41.2z"/>'),
          (om[Km] =
            '<path fill="currentColor" stroke="currentColor" d="M22,6c-1.1,0-2,0.9-2,2v8h-2c-1.1,0-2,0.9-2,2v8h-2c-1.1,0-2,0.9-2,2v30H8c-1.1,0-2,0.9-2,2v32c0,1.1,0.9,2,2,2h84 c1.1,0,2-0.9,2-2V60c0-1.1-0.9-2-2-2h-4V28c0-1.1-0.9-2-2-2h-2v-8c0-1.1-0.9-2-2-2h-2V8c0-1.1-0.9-2-2-2L22,6z M24,10h52v6H24V10z M20,20h1.7c0.2,0,0.4,0,0.7,0h55.3c0.2,0,0.4,0,0.7,0H80v6H20L20,20z M16,30h1.7c0.2,0,0.4,0,0.7,0h63.3c0.2,0,0.4,0,0.7,0H84v28 H62c-1.1,0-2,0.9-2,2c0,5.5-4.5,10-10,10s-10-4.5-10-10c0-1.1-0.9-2-2-2H16V30z M10,62h26.4c1,6.7,6.6,12,13.6,12 s12.6-5.3,13.6-12H90v28H10L10,62z"/>'),
          (om[$m] =
            '<path fill="currentColor" stroke="currentColor" d="M25.8,5.9c-0.1,0-0.2,0-0.3,0.1c-0.1,0-0.1,0-0.2,0.1c-0.1,0-0.1,0-0.2,0.1c-0.1,0.1-0.3,0.2-0.4,0.3 c-0.1,0.1-0.2,0.1-0.3,0.2c-0.1,0.1-0.2,0.2-0.3,0.3L8.6,22.6c-0.8,0.8-0.8,2.1,0,2.9c0.8,0.8,2.1,0.8,2.9,0L24,12.9V76 c0,0.7,0.4,1.4,1,1.8c0.6,0.4,1.4,0.4,2,0c0.6-0.4,1-1,1-1.8V12.9l12.6,12.6c0.8,0.8,2.1,0.8,2.9,0c0.8-0.8,0.8-2.1,0-2.9 L27.7,6.9c-0.1-0.2-0.3-0.4-0.6-0.6c-0.2-0.2-0.5-0.3-0.8-0.3C26.2,6,26,5.9,25.8,5.9L25.8,5.9z M74,6c-1.1,0-2,0.9-2,2s0.9,2,2,2 s2-0.9,2-2S75.1,6,74,6z M74,14c-1.1,0-2,0.9-2,2s0.9,2,2,2s2-0.9,2-2S75.1,14,74,14z M73.8,21.9c-0.1,0-0.2,0-0.3,0.1 c-0.9,0.2-1.6,1-1.6,2v63.1L59.4,74.6c-0.5-0.5-1.2-0.7-1.9-0.6c-0.8,0.1-1.4,0.7-1.6,1.4c-0.2,0.7,0,1.5,0.6,2l15.8,15.7 c0,0.1,0.1,0.1,0.1,0.2l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0,0,0.1,0c0.1,0.1,0.3,0.2,0.4,0.3c0,0,0,0,0.1,0c0,0,0.1,0,0.1,0.1 c0,0,0,0,0.1,0c0.1,0,0.1,0,0.2,0.1c0.2,0,0.4,0,0.6,0c0,0,0.1,0,0.1,0c0.2,0,0.3-0.1,0.5-0.2c0.3-0.1,0.5-0.3,0.7-0.6l15.9-15.8 c0.8-0.8,0.8-2.1,0-2.9c-0.8-0.8-2.1-0.8-2.9,0L76,87.1V24c0-0.6-0.2-1.1-0.6-1.5C75,22.1,74.4,21.9,73.8,21.9L73.8,21.9z M26,82 c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2C28,82.9,27.1,82,26,82z M26,90c-1.1,0-2,0.9-2,2s0.9,2,2,2c1.1,0,2-0.9,2-2 C28,90.9,27.1,90,26,90z"/>'),
          (om[Ym] =
            '<path fill="currentColor" stroke="currentColor" d="M74,8c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-2.9,2.9-4.7,6.6-5.1,10.6C46,34.6,46,35.3,46,36c0,2.7,0.6,5.4,1.8,7.8l3.1-3.1 C50.3,39.2,50,37.6,50,36c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1s7.3,1.5,9.9,4.1c2.6,2.6,4.1,6.2,4.1,9.9 s-1.5,7.3-4.1,9.9l-10,10C71.3,48.5,67.7,50,64,50c-1.6,0-3.2-0.3-4.7-0.8l-3.1,3.1c2.4,1.1,5,1.8,7.8,1.8c4.8,0,9.3-1.9,12.7-5.3 l10-10C90.1,35.3,92,30.8,92,26s-1.9-9.3-5.3-12.7C83.3,9.9,78.8,8,74,8L74,8z M62,36c-0.5,0-1,0.2-1.4,0.6l-24,24 c-0.5,0.5-0.7,1.2-0.6,1.9c0.2,0.7,0.7,1.2,1.4,1.4c0.7,0.2,1.4,0,1.9-0.6l24-24c0.6-0.6,0.8-1.5,0.4-2.2C63.5,36.4,62.8,36,62,36 z M36,46c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-3.1,3.1-5,7.2-5.2,11.6c0,0.4,0,0.8,0,1.2c0,4.8,1.9,9.3,5.3,12.7 C16.7,90.1,21.2,92,26,92s9.3-1.9,12.7-5.3l10-10C52.1,73.3,54,68.8,54,64c0-2.7-0.6-5.4-1.8-7.8l-3.1,3.1 c0.5,1.5,0.8,3.1,0.8,4.7c0,3.7-1.5,7.3-4.1,9.9l-10,10C33.3,86.5,29.7,88,26,88s-7.3-1.5-9.9-4.1S12,77.7,12,74 c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1c1.6,0,3.2,0.3,4.7,0.8l3.1-3.1C41.4,46.6,38.7,46,36,46L36,46z M80,60 c-10.3,0-18.8,7.9-19.9,17.9C60,78.6,60,79.3,60,80c0,11,9,20,20,20s20-9,20-20S91,60,80,60z M80,64c8.8,0,16,7.2,16,16 s-7.2,16-16,16s-16-7.2-16-16S71.2,64,80,64z M73.2,71c-0.1,0-0.3,0-0.4,0h-0.2c-1,0.2-1.8,1.2-1.6,2.4c0,0.4,0.2,0.8,0.6,1.2 l5.6,5.6l-5.6,5.6c-0.8,0.8-0.8,2,0,2.8c0.8,0.8,2,0.8,2.8,0L80,83l5.6,5.6c0.8,0.8,2,0.8,2.8,0c0.8-0.8,0.8-2,0-2.8L82.8,80 l5.6-5.6c0.8-0.8,0.8-2,0.2-2.8c-0.4-0.4-1.2-0.8-1.8-0.6c-0.4,0-0.8,0.2-1.2,0.6L80,77.2l-5.6-5.6C74.1,71.3,73.7,71,73.2,71z"/>'),
          (om[Jm] =
            '<path fill="currentColor" stroke="currentColor" d="M15.4,12.6l-2.9,2.9L47.1,50L12.6,84.6l2.9,2.9L50,52.9l34.6,34.6l2.9-2.9L52.9,50l34.6-34.6l-2.9-2.9L50,47.1L15.4,12.6z "/>'),
          (om[Qm] =
            '<path fill="currentColor" stroke="currentColor" d="M27.2,8C17.7,8,10,15.7,10,25.2v37.6v14C10,86.3,17.7,94,27.2,94h45.6C82.3,94,90,86.3,90,76.8V61.2v-36 C90,15.7,82.3,8,72.8,8L27.2,8z M27.2,12h45.6C80.1,12,86,17.9,86,25.2v36v1.6C86,70.1,80.1,76,72.8,76H27.2 C19.9,76,14,70.1,14,62.8v-1.6v-36C14,17.9,19.9,12,27.2,12z M48,26v14.5L35.6,33l-2.1,3.4L46.1,44l-12.6,7.6l2.1,3.4L48,47.5V62 h4V47.5L64.4,55l2.1-3.4L53.9,44l12.6-7.6L64.4,33L52,40.5V26H48z M14,73.8c3.2,3.8,7.9,6.2,13.2,6.2h45.6c5.3,0,10-2.4,13.2-6.2 v3C86,84.1,80.1,90,72.8,90H27.2C19.9,90,14,84.1,14,76.8L14,73.8z"/>'),
          (om[Xm] =
            '<path fill="currentColor" stroke="currentColor" d="M50,4c-14.6,0-27.6,6.8-36,17.4V8c0-0.5-0.2-1.1-0.6-1.4C13,6.2,12.5,6,12,6c-1.1,0-2,0.9-2,2v20h20c0.7,0,1.4-0.4,1.8-1 s0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H17c7.7-9.7,19.6-16,33-16c23.2,0,42,18.8,42,42S73.2,92,50,92S8,73.2,8,50c0-0.7-0.4-1.4-1-1.8 s-1.4-0.4-2,0c-0.6,0.4-1,1-1,1.8c0,25.4,20.6,46,46,46s46-20.6,46-46S75.4,4,50,4L50,4z M50,38c-6.6,0-12,5.4-12,12s5.4,12,12,12 s12-5.4,12-12S56.6,38,50,38z M50,42c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S45.6,42,50,42z"/>'),
          (om[Zm] =
            '<path fill="currentColor" stroke="currentColor" d="M50,2c-0.8,0-1.6,0.5-1.9,1.3L35.8,35.1L1.9,36.8c-0.8,0-1.5,0.6-1.8,1.4c-0.3,0.8,0,1.6,0.6,2.2l26.4,21.6l-8.7,32.8 c-0.2,0.8,0.1,1.6,0.8,2.1s1.6,0.5,2.3,0.1L50,78.6l28.5,18.3c0.7,0.4,1.6,0.4,2.3-0.1s1-1.3,0.8-2.1l-8.7-32.8l26.4-21.6 c0.6-0.5,0.9-1.4,0.6-2.2c-0.3-0.8-1-1.3-1.8-1.4l-33.9-1.7L51.9,3.3C51.6,2.5,50.8,2,50,2L50,2z M50,9.5l10.9,28.2 c0.3,0.7,1,1.2,1.8,1.3l30,1.5L69.3,59.7c-0.6,0.5-0.9,1.3-0.7,2.1l7.7,29L51.1,74.5c-0.7-0.4-1.5-0.4-2.2,0L23.6,90.7l7.7-29 c0.2-0.8-0.1-1.6-0.7-2.1L7.3,40.5l30-1.5c0.8,0,1.5-0.5,1.8-1.3L50,9.5z"/>'),
          (om[ev] =
            '<path fill="currentColor" stroke="currentColor" d="M50.1,2c-0.8,0-1.6,0.6-1.8,1.2L36.6,33.7L7.5,4.6C7.1,4.2,6.6,4,6.1,4C5.2,4,4.5,4.5,4.2,5.2C3.9,6,4.1,6.8,4.7,7.4 l88,88c0.5,0.5,1.2,0.7,1.9,0.6s1.2-0.7,1.4-1.4c0.2-0.7,0-1.4-0.6-1.9L76.2,73.3l-3.1-11.4l26.4-21.4c0.6-0.4,0.8-1.4,0.6-2.2 c-0.2-0.8-1-1.4-1.8-1.4l-34-1.8L51.9,3.2C51.7,2.6,50.9,2,50.1,2L50.1,2z M50.1,9.6l10.8,28.2c0.2,0.8,1,1.2,1.8,1.2l30.2,1.6 l-23.4,19c-0.6,0.4-0.8,1.4-0.6,2l1.6,6L39.7,36.8L50.1,9.6z M27.1,35.6L1.9,36.8c-0.8,0-1.6,0.6-1.8,1.4c-0.2,0.8,0,1.6,0.6,2.2 l26.4,21.4l-8.6,33c-0.2,0.8,0,1.6,0.8,2.2c0.4,0.2,0.8,0.4,1.2,0.4s0.8-0.2,1-0.4l28.6-18.6l28.6,18.4c0.6,0.4,1.6,0.4,2.2,0 s1-1.4,0.8-2.2l-1.8-6.4l-5.6-5.6l2.2,8.2L51.1,74.4c-0.2-0.2-0.6-0.4-1-0.4s-0.8,0.2-1,0.4L23.7,90.8l7.8-29.2 c0.2-0.8,0-1.6-0.6-2l-23.6-19l23.6-1.2L27.1,35.6z"/>'),
          (om[tv] =
            '<path fill="currentColor" stroke="currentColor" d="M27,4c-4.5,0-8.6,2.4-10.6,6.5c0,0,0,0-0.1,0.1L9.8,23.1c0,0.1,0,0.2-0.1,0.3c0,0,0,0-0.1,0.1c0,0,0,0,0,0.1 C8.6,25.4,8,27.6,8,30v52c0,7.7,6.3,14,14,14h56c7.7,0,14-6.3,14-14V30c0-2.4-0.6-4.5-1.6-6.5c0-0.2-0.1-0.4-0.2-0.6l-6.6-12.6 c0,0,0,0,0-0.1h-0.1C81.5,6.4,77.5,4,73,4L27,4z M27,8h46c3.1,0,5.8,1.6,7,4.1l2.4,4.6C81,16.3,79.6,16,78,16H22 c-1.5,0-2.9,0.2-4.3,0.7l2.3-4.4c0,0,0,0,0-0.1C21.3,9.6,23.9,8,27,8z M51.2,9.9c-1.5,0-2.9,0.1-4,0.4c-1.8,0.6-2,1.2-2,1.6 c0,0.4,0.2,1.2,2,1.6c1.2,0.2,2.6,0.4,4,0.4c1.6,0,3-0.2,4-0.4c1.8-0.6,2-1.2,2-1.6c0-0.4-0.2-1.2-2-1.6 C54.1,10.1,52.6,9.9,51.2,9.9z M22,20h56c5.5,0,10,4.5,10,10v52c0,5.5-4.5,10-10,10H22c-5.5,0-10-4.5-10-10V30 C12,24.5,16.5,20,22,20z M68,32c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6-6S71.3,32,68,32z M50,50c-3.3,0-6,2.7-6,6s2.7,6,6,6 s6-2.7,6-6S53.3,50,50,50z M32,68c-3.3,0-6,2.7-6,6c0,3.3,2.7,6,6,6s6-2.7,6-6C38,70.7,35.3,68,32,68z"/>'),
          (om[nv] =
            '<path fill="currentColor" stroke="currentColor" d="M72.1,0c-1.9,0-3.8,1.1-5.3,3L50.3,26.3c-2.4-0.6-4.8-0.8-7.3-0.8c-8.4,0-16.4,3.3-22.3,9.2c-0.4,0.4-0.6,0.8-0.6,1.4 c0,0.5,0.2,1.1,0.6,1.4l41.8,41.8c0.4,0.4,0.9,0.6,1.4,0.6s1-0.2,1.4-0.6c7.9-7.9,11-19.2,8.3-29.9L97,33.4c1.8-1.3,2.9-3.1,3-4.9 c0.1-1.3-0.4-2.6-1.2-3.4L75.3,1.3C74.5,0.4,73.3,0,72.1,0L72.1,0z M33.1,55.5L0.4,96.8c-0.6,0.8-0.6,2,0.1,2.7 C1,99.8,1.5,100,2,100c0.4,0,0.9-0.1,1.3-0.4l41.2-32.6L33.1,55.5z"/>'),
          (om[iv] =
            '<path fill="currentColor" stroke="currentColor" d="M96.3,0c1,0.2,1.6,1.1,1.6,2.1V98c0,1.1-0.9,2.1-2.1,2.1H35.9c-1.1,0-2.1-0.9-2.1-2.1V78h4.1v17.9h55.9V4.1H38V22h-4.1V2 c0-1.1,1-2,2.1-2h59.9C96.1,0,96.2,0,96.3,0L96.3,0z M50.4,30.2c0.5,0.1,0.9,0.3,1.2,0.6l17.8,17.8l1.4,1.4l-1.4,1.4L51.6,69.1 c-0.5,0.6-1.3,0.9-2,0.7c-0.7-0.2-1.3-0.8-1.5-1.5s0.1-1.5,0.7-2L63.1,52h-59c-0.7,0-1.4-0.4-1.8-1s-0.4-1.4,0-2s1-1,1.8-1h59 L48.8,33.6c-0.6-0.6-0.8-1.5-0.4-2.3C48.7,30.6,49.5,30.1,50.4,30.2L50.4,30.2z"/>'),
          (om[rv] =
            '<path fill="currentColor" stroke="currentColor" d="M50,4C24.6,4,4,24.6,4,50s20.6,46,46,46s46-20.6,46-46S75.4,4,50,4L50,4z M50,8c23.2,0,42,18.8,42,42S73.2,92,50,92 S8,73.2,8,50S26.8,8,50,8z M50.6,25c-7.5,0-12.4,4.5-13.5,11.4c-0.1,0.4,0.1,0.7,0.6,0.8l4.5,0.8c0.4,0.1,0.7-0.1,0.8-0.6 c0.9-4.4,3.4-6.8,7.5-6.8c4.1,0,7,2.6,7,6.7c0,2.4-0.9,4.1-3.4,7.5l-4.8,6.6c-1.5,2.1-2.1,3.6-2.1,6.5v2.9c0,0.4,0.3,0.7,0.7,0.7 h4.7c0.4,0,0.7-0.3,0.7-0.7v-2.3c0-2.4,0.4-3.4,1.9-5.4l4.8-6.6c2.4-3.4,3.7-5.9,3.7-9.3C63.6,30.1,58.3,25,50.6,25L50.6,25z M47.4,67c-0.4,0-0.7,0.3-0.7,0.7v6.2c0,0.4,0.3,0.7,0.7,0.7h5.5c0.4,0,0.7-0.3,0.7-0.7v-6.2c0-0.4-0.3-0.7-0.7-0.7H47.4z"/>'),
          (om[Tm] =
            '<path fill="currentColor" stroke="currentColor" d="M50,0C37.8,0,28,9.6,28,21.4V22h15c1.1,0,2,0.9,2,2c0,1.1-0.9,2-2,2H28v4h15c1.1,0,2,0.9,2,2c0,1.1-0.9,2-2,2H28v4h15 c1.1,0,2,0.9,2,2s-0.9,2-2,2H28v4.6C28,58.4,37.8,68,50,68s22-9.6,22-21.4V42H57c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2h15v-4H57 c-1.1,0-2-0.9-2-2s0.9-2,2-2h15v-4H57c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2h15v-0.6C72,9.6,62.2,0,50,0L50,0z M19.6,34.3 c-0.8,0.2-1.4,0.9-1.4,1.7v10c0,15.4,11.1,28.4,25.8,31.2V88h12V77.2C70.6,74.4,81.8,61.4,81.8,46V36c0-1-0.8-1.8-1.8-1.8 c-1,0-1.7,0.8-1.7,1.8v10c0,15.6-12.6,28.2-28.3,28.2S21.8,61.6,21.8,46V36c0-0.5-0.2-1-0.6-1.3c-0.4-0.3-0.9-0.5-1.4-0.4 C19.8,34.3,19.7,34.3,19.6,34.3L19.6,34.3z M31,92c-3.8,0-6.9,3.1-6.9,6.9L24,100l51.8-0.1l0.1-0.9c0-3.8-3.1-6.9-6.9-6.9H31z"/>'),
          (om[ov] =
            '<path fill="currentColor" stroke="currentColor" d="M10,10c-4.4,0-8,3.6-8,8v64c0,4.4,3.6,8,8,8h2v2h10v-2h56v2h10v-2h2c4.4,0,8-3.6,8-8V18c0-4.4-3.6-8-8-8L10,10z M10,14h80 c2.2,0,4,1.8,4,4v64c0,2.2-1.8,4-4,4H10c-2.2,0-4-1.8-4-4V18C6,15.8,7.8,14,10,14z M13.6,20c-1,0.2-1.6,1-1.6,2v23.4 c-0.1,0.4-0.1,0.8,0,1.2v7.1c0,0.1,0,0.1,0,0.2c0,0.1,0,0.3,0,0.4c0,0.1,0,0.1,0,0.2V78c0,1.1,0.9,2,2,2h72c1.1,0,2-0.9,2-2V22 c0-1.1-0.9-2-2-2H14c-0.1,0-0.1,0-0.2,0S13.7,20,13.6,20z M16,24h68v52H16V54.9l3.4-3.4c0.4-0.4,0.6-0.9,0.6-1.4s-0.2-1.1-0.6-1.4 L16,45.1L16,24z M49.8,27.9c-0.1,0-0.2,0-0.3,0.1c-0.1,0-0.1,0-0.2,0.1c-5.5,0.2-10.5,2.4-14.3,5.9c-0.5,0.2-0.9,0.6-1.1,1.1 c-3.4,3.7-5.6,8.6-5.9,13.9c-0.4,0.6-0.4,1.4,0,2c0.2,5.3,2.3,10.1,5.7,13.8c0.2,0.7,0.7,1.3,1.4,1.4c3.8,3.4,8.8,5.5,14.3,5.7 c0.1,0,0.1,0,0.2,0.1c0.1,0,0.3,0,0.4,0c0.1,0,0.3,0,0.4,0c0.1,0,0.1,0,0.2-0.1c5.4-0.2,10.4-2.3,14.2-5.7 c0.7-0.2,1.3-0.8,1.4-1.5c3.4-3.8,5.5-8.7,5.7-14.2c0,0,0-0.1,0.1-0.1c0,0,0,0,0-0.1c0-0.1,0-0.3,0-0.4c0-0.1,0-0.2,0-0.3 c0-0.1,0-0.3-0.1-0.4c-0.2-5.6-2.4-10.7-6-14.5c0,0,0,0-0.1-0.1c0,0,0-0.1-0.1-0.1c-0.2-0.2-0.4-0.4-0.6-0.6 c-3.8-3.6-8.9-5.9-14.4-6.1C50.5,27.9,50.1,27.9,49.8,27.9z M48,32.1c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2c3.5,0.4,6.6,1.8,9.3,3.9 c-0.6,0.5-0.9,1.3-0.7,2c0.2,0.7,0.8,1.3,1.5,1.5c0.8,0.2,1.5-0.1,2-0.7c2.1,2.6,3.5,5.8,3.9,9.3c0,0-0.1,0-0.1,0 c-0.1,0-0.1,0-0.2,0c-1.1,0.1-1.8,1.1-1.7,2.1s1,1.9,2.1,1.9c-0.4,3.5-1.8,6.6-3.9,9.3c-0.4-0.4-1-0.6-1.6-0.6c-0.1,0-0.1,0-0.2,0 c-0.7,0.1-1.3,0.7-1.5,1.4c-0.2,0.7,0,1.5,0.5,2c-2.6,2.1-5.8,3.5-9.3,3.9c0-0.6-0.2-1.1-0.6-1.5c-0.4-0.4-1-0.6-1.5-0.5 c-0.1,0-0.2,0-0.3,0.1c-0.9,0.2-1.6,1-1.6,1.9c-3.5-0.4-6.6-1.8-9.3-3.9c0.6-0.6,0.7-1.5,0.4-2.2c-0.3-0.7-1.1-1.2-1.9-1.2 c-0.1,0-0.1,0-0.2,0c-0.4,0.1-0.8,0.3-1.1,0.6c-2.1-2.6-3.5-5.8-3.9-9.3c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2c0.4-3.5,1.8-6.6,3.9-9.3 c0.5,0.6,1.3,0.9,2,0.7c0.7-0.2,1.3-0.8,1.5-1.5c0.2-0.8-0.1-1.5-0.7-2C41.4,33.9,44.5,32.4,48,32.1L48,32.1z M50,40 c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S55.5,40,50,40z M50,44c3.3,0,6,2.7,6,6s-2.7,6-6,6s-6-2.7-6-6S46.7,44,50,44z"/>'),
          (om[sv] =
            '<path fill="currentColor" stroke="currentColor" d="M58,10c-0.1,0-0.2,0-0.3,0H10c-4.4,0-8,3.6-8,8v64c0,4.4,3.6,8,8,8h2v2h10v-2h35.7c0.2,0,0.4,0,0.7,0H78v2h10v-2h2 c4.4,0,8-3.6,8-8V18c0-4.4-3.6-8-8-8H58.3C58.2,10,58.1,10,58,10z M10,14h46v6H14c-1.1,0-2,0.9-2,2v56c0,1.1,0.9,2,2,2h42v6H22H12 h-2c-2.2,0-4-1.8-4-4V18C6,15.8,7.8,14,10,14z M60,14h6v72h-6V58v-8v-8V14z M60,42c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2 c0-1.1-0.9-2-2-2C60.9,40,60,40.9,60,42z M60,50c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2C60.9,48,60,48.9,60,50z M60,58 c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2C60.9,56,60,56.9,60,58z M75.7,14H90c2.2,0,4,1.8,4,4v64c0,2.2-1.8,4-4,4h-2H78 h-2.3L87,79.8c0.6-0.4,1-1,1-1.8V62.9c0.7-1.6,1.4-3.1,1.5-3.4c0.4-0.3,0.8-0.7,1-1.1c0.4-0.7,0.6-1.4,0.9-2.3 c0.4-1.7,0.6-3.8,0.6-6.1c0-2.3-0.2-4.5-0.6-6.1c-0.2-0.8-0.5-1.6-0.9-2.3c-0.2-0.4-0.5-0.8-0.9-1.1c-0.3-0.6-0.8-1.9-1.6-3.7V22 c0-0.7-0.4-1.4-1-1.8L75.7,14z M70,15.4l14,7.8v5.9c-0.1-0.2-0.2-0.3-0.4-0.5C83.3,28.4,82.9,28,82,28c-1,0-1.7,0.5-2.2,1 c-0.5,0.5-0.8,1.1-1.1,1.7c-0.6,1.3-1,2.8-1.4,4.8C76.4,39.3,76,44.4,76,50s0.4,10.7,1.2,14.5c0.4,1.9,0.8,3.5,1.4,4.8 c0.3,0.6,0.6,1.2,1.1,1.7c0.5,0.5,1.3,1,2.2,1c1.1,0,1.4-0.5,1.6-0.7c0.2-0.2,0.3-0.3,0.4-0.4v6l-14,7.8V15.4z M16,24h40v52H16 L16,24z M82,33.4c0.5,1,1.1,2.2,1.7,3.4c0.9,1.9,1.5,3.5,2,4.6c0,0.1-0.1,0.1-0.1,0.2c-0.4,0.7-0.6,1.4-0.9,2.3 C84.2,45.5,84,47.7,84,50s0.2,4.5,0.6,6.1c0.2,0.8,0.5,1.6,0.9,2.3c0,0,0.1,0.1,0.1,0.1c-0.4,0.9-1,2.3-2.1,4.6 c-0.6,1.2-1.1,2.3-1.6,3.3c-0.3-0.8-0.5-1.5-0.8-2.7C80.4,60.3,80,55.4,80,50s0.4-10.3,1.1-13.8C81.4,35,81.7,34.2,82,33.4 L82,33.4z"/>'),
          (om[av] =
            '<path fill="currentColor" stroke="currentColor" d="M97.8,0c-0.3,0-0.5,0.1-0.7,0.2l-96,52c-0.7,0.4-1.1,1.1-1,1.9c0.1,0.8,0.6,1.5,1.4,1.7l27.2,8.9l-2.6,27 c-0.1,0.9,0.4,1.7,1.2,2.1c0.8,0.4,1.8,0.1,2.3-0.6l17.2-19.4l25.9,25.6c0.5,0.5,1.2,0.7,1.9,0.5c0.7-0.2,1.2-0.7,1.4-1.4l24-96 c0.2-0.6,0-1.3-0.4-1.8C99.1,0.2,98.5-0.1,97.8,0z M94.9,5.9L72.9,94.1L49.2,70.7l34.4-47.6c0.8-0.8,0.7-2.1-0.1-2.8 s-2.1-0.7-2.8,0.1L30.4,61.2L7,53.6L94.9,5.9z M71.6,33L45.3,69.4c-0.1,0.1-0.1,0.2-0.2,0.2L45,69.8c0,0.1-0.1,0.1-0.1,0.2 L30.6,86.1l2.1-21.6L71.6,33z"/>'),
          (om[lv] =
            '<path fill="currentColor" stroke="currentColor" d="M16.4,16.4c-3.5,0-6.4,2.9-6.4,6.4s2.9,6.4,6.4,6.4s6.4-2.9,6.4-6.4S19.9,16.4,16.4,16.4z M16.4,19.6 c1.8,0,3.2,1.4,3.2,3.2c0,1.8-1.4,3.2-3.2,3.2s-3.2-1.4-3.2-3.2C13.2,21,14.6,19.6,16.4,19.6z M29.2,21.2v3.2H90v-3.2H29.2z M16.4,43.6c-3.5,0-6.4,2.9-6.4,6.4s2.9,6.4,6.4,6.4s6.4-2.9,6.4-6.4S19.9,43.6,16.4,43.6z M16.4,46.8c1.8,0,3.2,1.4,3.2,3.2 s-1.4,3.2-3.2,3.2s-3.2-1.4-3.2-3.2S14.6,46.8,16.4,46.8z M29.2,48.4v3.2H90v-3.2H29.2z M16.4,70.8c-3.5,0-6.4,2.9-6.4,6.4 c0,3.5,2.9,6.4,6.4,6.4s6.4-2.9,6.4-6.4C22.8,73.7,19.9,70.8,16.4,70.8z M16.4,74c1.8,0,3.2,1.4,3.2,3.2c0,1.8-1.4,3.2-3.2,3.2 s-3.2-1.4-3.2-3.2C13.2,75.4,14.6,74,16.4,74z M29.2,75.6v3.2H90v-3.2H29.2z"/>'),
          (om[cv] =
            '<path fill="currentColor" stroke="currentColor" d="M30.1,20c-1.4,0-2.8,0.9-3.2,2.2L8.7,73.3H6.7c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h10 c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-0.9l3.5-10h21.3l3.5,10h-0.9c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h10c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-2.1 L33.1,22.2C32.7,20.9,31.5,20,30.1,20L30.1,20z M30,33.3l8.3,23.4H21.7L30,33.3z M76.7,40c-0.5,0-0.9,0.1-1.4,0.3 c-6,0.5-10.6,3.7-10.6,3.7c-1,0.7-1.5,1.9-1.3,3.1c0.1,1.2,0.9,2.2,2,2.7c1.1,0.5,2.4,0.3,3.3-0.4c0,0,3.8-2.7,8-2.7 c3.5,0,6.3,2.7,6.6,6.1c-0.2,0.1-0.5,0.3-1.2,0.5c-1.8,0.5-4.7,0.9-7.8,1.6c-3.1,0.7-6.4,1.5-9.3,3.6c-2.9,2-5.1,5.6-5.1,10 c0,3.4,1.8,6.5,4.5,8.6c2.7,2,6.3,3.1,10.5,3.1c5.1,0,8.6-1.5,11-3.3c1.8,2,4.5,3.3,7.4,3.3c1.2,0,2.3-0.6,2.9-1.7 c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7c-1.9,0-3.3-1.4-3.3-3.3c0,0,0-0.1,0-0.1V53.3c0-0.2,0-0.5-0.1-0.7 C89.5,45.6,83.7,40,76.7,40L76.7,40z M83.3,59.8v9.8c0,0.1-0.1,0.6-0.9,1.4c-1,1-2.8,2.3-7.4,2.3c-3,0-5.2-0.8-6.5-1.8 c-1.3-1-1.8-2-1.8-3.2c0-2.5,0.7-3.4,2.2-4.5c1.5-1.1,4-1.9,6.8-2.5C78.2,60.8,80.9,60.4,83.3,59.8L83.3,59.8z"/>'),
          (om[uv] =
            '<path fill="currentColor" stroke="currentColor" d="M8,18v4h84v-4H8z M8,48v4h84v-4H8z M78.2,57.9c-0.8,0-1.6,0.6-2,1l-4.8,12.6L58,72.3c-0.8,0-1.6,0.6-1.8,1.4 c-0.2,0.8,0,1.8,0.8,2.2l10.2,8.4l-3.4,13C63.6,98,64,99,64.6,99.4c0.4,0.2,0.8,0.4,1.2,0.4c0.4,0,0.8-0.2,1.2-0.4l11.2-7.2 l11.2,7.4c0.6,0.6,1.6,0.4,2.2,0c0.8-0.6,1-1.4,0.8-2.2l-3.4-13l10.4-8.4c0.6-0.6,0.8-1.4,0.6-2.2c-0.2-0.8-1-1.4-1.8-1.4 l-13.4-0.8L80,59.1C79.8,58.5,79,57.9,78.2,57.9L78.2,57.9z M78.2,65.5l3.2,9c0.4,0.6,1,1.2,1.8,1.2l9.6,0.6l-7.4,6 c-0.6,0.4-0.8,1.2-0.6,2l2.4,9.2l-8-5.2c-0.2-0.2-0.6-0.4-1-0.4c-0.4,0-0.8,0.2-1.2,0.2l-8,5.2l2.4-9.2c0.2-0.6,0-1.6-0.6-2 l-7.4-6l9.6-0.4c0.8-0.2,1.4-0.6,1.8-1.4L78.2,65.5z M8,78v4h49.3l-3.5-2.8c-0.4-0.3-0.8-0.7-1.1-1.2H8z"/>'),
          (om[hv] =
            '<path fill="currentColor" stroke="currentColor" d="M92,92H8v-4h84V92z M50,86.8L34.6,71.4l2.8-2.8L48,79.2V20.8L37.4,31.4l-2.8-2.8L50,13.2l15.4,15.4l-2.8,2.8L52,20.8v58.3 l10.6-10.6l2.8,2.8L50,86.8z M92,12H8V8h84V12z"/>'),
          (om[pv] =
            '<path fill="currentColor" stroke="currentColor" d="M50,4C24.7,4,4,22.7,4,46c0,9.9,3.8,19,10.1,26.1H14c0.8,1.3,0.9,2.9,0.4,4.8c-0.4,1.9-1.4,4.1-2.6,6.1 c-1.2,2-2.5,3.8-3.6,5.3c-0.5,0.7-1,1.3-1.4,1.8c-0.2,0.2-0.3,0.5-0.4,0.7C6.3,91.1,6,91.1,6,92.2C6,93,6.3,94,7.1,94.8 c0.8,0.8,1.9,1.2,3.3,1.2c9.2,0,17.6-6.9,24-10.6C39.3,87,44.5,88,50,88c25.3,0,46-18.7,46-42S75.3,4,50,4L50,4z M50,8 c23.3,0,42,17.1,42,38S73.3,84,50,84c-5.4,0-10.6-0.9-15.3-2.6l-0.9-0.3l-0.8,0.5c-6.9,4-15.3,10.4-22.6,10.4 c0.3-0.4,0.5-0.7,0.9-1.2c1.1-1.5,2.5-3.5,3.8-5.7s2.5-4.7,3.1-7.3c0.6-2.6,0.5-5.3-0.9-7.8l-0.1-0.2l-0.1-0.1 C11.5,63.2,8,55,8,46C8,25.1,26.7,8,50,8L50,8z M32.7,24c-0.7,0.1-1.3,0.7-1.6,1.4l-6.1,17.5c-0.2,0.3-0.4,0.7-0.4,1.1l-2.6,7.4 c-0.4,0.7-0.3,1.5,0.2,2.2c0.5,0.6,1.3,0.9,2.1,0.7c0.8-0.2,1.3-0.8,1.5-1.6l2.3-6.6h9.6l2.3,6.6c0.1,0.8,0.7,1.4,1.5,1.6 c0.8,0.2,1.6-0.1,2.1-0.7c0.5-0.6,0.6-1.5,0.2-2.2l-9-26C34.6,24.4,33.7,23.9,32.7,24z M33,32.1l3.4,9.9h-6.9L33,32.1z M65.8,37.9 c-0.1,0-0.2,0-0.3,0.1c-0.9,0.2-1.6,1-1.6,2v4H54c-0.1,0-0.1,0-0.2,0c-0.1,0-0.1,0-0.2,0c-1.1,0.1-1.9,1.1-1.8,2.2 s1.1,1.9,2.2,1.8h17.4c-0.8,2.6-2.6,7.1-6.6,11.1c-3.4-3.4-4.9-6.2-4.9-6.2c-0.4-0.7-1.2-1.2-2-1.1c-0.7,0.1-1.3,0.5-1.6,1.1 c-0.3,0.6-0.3,1.3,0.1,1.9c0,0,1.7,3.1,5.4,6.8c-2.3,1.7-5,3.3-8.4,4.4c-0.8,0.1-1.4,0.7-1.6,1.5c-0.2,0.8,0.1,1.6,0.7,2.1 c0.6,0.5,1.5,0.6,2.2,0.2c4.1-1.4,7.4-3.4,10.1-5.5c2.3,1.9,5.1,3.8,8.4,5.4c1,0.5,2.2,0.1,2.7-0.9c0.5-1,0.1-2.2-0.9-2.7 c-2.8-1.4-5.2-2.9-7.2-4.5c5.1-5.3,7.1-11,7.9-13.7H78c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H68v-4 c0-0.6-0.2-1.1-0.6-1.5C67,38.1,66.4,37.9,65.8,37.9z"/>'),
          (om[dv] =
            '<path fill="currentColor" stroke="currentColor" d="M8,60c0,9.9,8.1,18,18,18l45.1,0L60.6,88.6l2.9,2.9l14-14l1.4-1.4l-1.4-1.4l-14-14l-2.9,2.9L71.1,74L26,74 c-7.7,0-14-6.3-14-14l0-22H8L8,60z M21.2,24l1.4,1.4l14,14l2.9-2.9L28.9,26L74,26c7.7,0,14,6.3,14,14l0,22h4l0-22 c0-9.9-8.1-18-18-18l-45.1,0l10.6-10.6l-2.9-2.9l-14,14L21.2,24z">'),
          (om[fv] =
            '<path fill="currentColor" stroke="currentColor" d="M11.9,9.9c-1.1,0-2,0.9-2,2v75.6c0,1.1,0.9,2,2,2h39.8V65.6v-4V39.8h33.8v13.9h4V11.9c0-1.1-0.9-2-2-2L11.9,9.9z M13.9,13.9h33.8v21.9H13.9L13.9,13.9z M51.7,13.9h33.8v21.9H51.7V13.9z M13.9,39.8h33.8v21.9H13.9L13.9,39.8z M73.6,55.7L72.4,62 c-0.6,0.2-1.4,0.4-2,0.8L65,59.1l-6,6l3.6,5c-0.2,0.8-0.6,1.4-0.8,2.2l-6.2,1v8.3l6.2,1c0.2,0.6,0.4,1.4,0.8,2l-3.6,5.4l6,6 l5.4-3.6c0.8,0.4,1.4,0.6,2.2,0.8l1,6.4h8.2l1.2-6.2c0.6-0.2,1.2-0.4,2-0.8l5.4,3.6l6-6l-3.8-5.2c0.4-0.8,0.6-1.6,0.8-2.2l6.2-1.2 v-8.3l-6.4-1c-0.2-0.6-0.4-1.4-0.8-2l3.6-5.4l-5.8-5.8l-5.2,3.8c-0.6-0.4-1.4-0.6-2-0.8l-1-6.4L73.6,55.7z M77,59.7h1.6l0.8,5.4 l1.2,0.4c1.2,0.4,2.4,0.8,3.4,1.4l1.2,0.8l4.6-3.4l1,1l-3.2,4.6l0.6,1c0.6,1.2,1,2.4,1.4,3.6l0.4,1.2l5.6,0.8v1.6l-5.4,1.2 l-0.4,1.2c-0.4,1.2-0.8,2.4-1.4,3.4l-0.8,1.2l3.4,4.6l-1.2,1.2l-4.6-3.2l-1,0.6c-1.2,0.6-2.4,1-3.6,1.4l-1.2,0.4l-1,5.6h-1.6 L76,90.1l-1.2-0.4c-1.2-0.4-2.4-0.8-3.4-1.4l-1.2-0.8l-4.8,3.2l-1.2-1.2l3.2-4.6l-0.6-1c-0.6-1.2-1-2.6-1.4-3.6L65,79.1l-5.4-1 v-1.6l5.6-1l0.2-1.4c0.2-1,0.6-2.2,1.2-3.2l0.8-1l-3.2-4.6l1.2-1.2l4.6,3.2l1-0.4c1.4-0.6,2.6-1.2,3.8-1.6l1.2-0.2L77,59.7z M13.9,65.6h33.8v19.9H13.9L13.9,65.6z M77.5,69.4c-4.4,0-8,3.6-8,8s3.6,8,8,8c4.4,0,8-3.4,8-8C85.5,73,81.9,69.4,77.5,69.4z M77.5,73.6c2.2,0,4,1.6,4,4c0,2.2-1.8,4-4,4c-2.2,0-4-1.8-4-4C73.6,75.4,75.4,73.6,77.5,73.6z"/>'),
          (om[gv] =
            '<path fill="currentColor" stroke="currentColor" d="M49.5,5.9c-0.1,0-0.2,0-0.2,0.1c-0.9,0.2-1.6,1-1.6,2v56.8L35.2,52.3c-0.3-0.3-0.7-0.5-1.1-0.6c-0.3-0.1-0.5-0.1-0.8,0 c-0.7,0.1-1.3,0.7-1.6,1.4c-0.2,0.7,0,1.5,0.6,2L48,70.7c0.1,0.2,0.3,0.4,0.6,0.6l1.1,1.1l1.1-1.1c0.1,0,0.1-0.1,0.2-0.1l0.1-0.1 c0,0,0,0,0-0.1c0,0,0.1-0.1,0.1-0.1L67,55.1c0.8-0.8,0.8-2.1,0-2.9c-0.8-0.8-2.1-0.8-2.9,0L51.7,64.7V8c0-0.1,0-0.1,0-0.2 c0-0.1,0-0.1,0-0.2c0-0.1-0.1-0.3-0.1-0.4c0,0-0.1-0.1-0.1-0.1c0-0.1-0.1-0.3-0.2-0.4c0,0-0.1-0.1-0.1-0.1c-0.1,0-0.1-0.1-0.2-0.1 C50.6,6.1,50,5.9,49.5,5.9L49.5,5.9z M4,71.6v11.9c0,5.5,4.5,9.9,9.9,9.9h71.6c5.5,0,9.9-4.5,9.9-9.9V71.6h-4v11.9 c0,3.3-2.7,6-6,6H13.9c-3.3,0-6-2.7-6-6V71.6H4z"/>'),
          (om[mv] =
            '<path fill="currentColor" stroke="currentColor" d="m50,4.36896c-25.16372,0 -45.63104,20.46732 -45.63104,45.63104c0,25.16372 20.46732,45.63104 45.63104,45.63104c25.16372,0 45.63104,-20.46732 45.63104,-45.63104c0,-25.16372 -20.46732,-45.63104 -45.63104,-45.63104zm0,17.85562c7.94358,0 15.35242,3.38668 20.58356,9.17581l5.20789,-5.20789l0,13.88771l-13.88771,0l5.88212,-5.88212c-4.49491,-5.05289 -10.91177,-8.00558 -17.78587,-8.00558c-13.12822,0 -23.8075,10.67927 -23.8075,23.8075l-3.96792,0c0,-15.31368 12.46174,-27.77541 27.77541,-27.77541zm0,55.55083c-7.92033,0 -15.36018,-3.37893 -20.59132,-9.16805l-5.20014,5.20014l0,-13.88771l13.88771,0l-5.88212,5.88212c4.48716,5.0529 10.92727,8.00558 17.78587,8.00558c13.12822,0 23.8075,-10.67927 23.8075,-23.8075l3.96792,0c0,15.31368 -12.46174,27.77541 -27.77541,27.77541z"/>'),
          (om[vv] =
            '<path fill="currentColor" stroke="currentColor" d="m49.89841,3.99187c-25.31246,0 -45.90654,20.59407 -45.90654,45.90654c0,25.31446 20.59407,45.90654 45.90654,45.90654c25.31446,0 45.90654,-20.59207 45.90654,-45.90654c0,-25.31246 -20.59207,-45.90654 -45.90654,-45.90654zm21.61,29.06482l-22.97522,33.85707l-17.95744,-16.66407c-0.80835,-0.74848 -0.85626,-2.0119 -0.10578,-2.82026c0.74848,-0.81035 2.0139,-0.85426 2.82026,-0.10578l14.55038,13.50051l20.36454,-30.0109c0.62074,-0.91214 1.86221,-1.14766 2.77236,-0.53092c0.91414,0.61874 1.15166,1.86021 0.53092,2.77435z"/>'),
          (om[yv] =
            '<path fill="currentColor" stroke="currentColor" d="m49.5,12.375c-20.47192,0 -37.125,16.65308 -37.125,37.125c0,20.47193 16.65308,37.125 37.125,37.125c20.47193,0 37.125,-16.65307 37.125,-37.125c0,-20.47192 -16.65307,-37.125 -37.125,-37.125zm0,6.1875c17.12439,0 30.9375,13.81311 30.9375,30.9375c0,17.12439 -13.81311,30.9375 -30.9375,30.9375c-17.12439,0 -30.9375,-13.81311 -30.9375,-30.9375c0,-17.12439 13.81311,-30.9375 30.9375,-30.9375zm0,12.375c-9.18457,0 -16.78601,6.70715 -18.27246,15.46875l6.38086,0c1.37769,-5.32947 6.13916,-9.28125 11.8916,-9.28125c3.42005,0 6.47754,1.41394 8.70117,3.67383l-5.60742,5.60742l15.46875,0l0,-15.46875l-5.51074,5.51074c-3.35962,-3.35962 -7.93982,-5.51074 -13.05176,-5.51074l-0.00001,0zm-18.5625,21.65625l0,15.46875l5.51074,-5.51074c3.35962,3.35962 7.93982,5.51074 13.05176,5.51074c9.18457,0 16.78601,-6.70715 18.27246,-15.46875l-6.38086,0c-1.37768,5.32947 -6.13916,9.28125 -11.8916,9.28125c-3.42005,0 -6.47754,-1.41394 -8.70117,-3.67383l5.60742,-5.60742l-15.46874,0z"/>'),
          (om[bv] =
            '<path fill="currentColor" stroke="currentColor" d="m49.68421,12.42105c-20.5431,0 -37.26316,16.72007 -37.26316,37.26316c0,20.54309 16.72005,37.26316 37.26316,37.26316c20.5431,0 37.26316,-16.72007 37.26316,-37.26316c0,-20.54309 -16.72005,-37.26316 -37.26316,-37.26316zm0,6.21053c17.18669,0 31.05263,13.86596 31.05263,31.05263c0,17.18668 -13.86594,31.05263 -31.05263,31.05263c-17.18669,0 -31.05263,-13.86596 -31.05263,-31.05263c0,-17.18668 13.86594,-31.05263 31.05263,-31.05263zm15.36863,18.63158l-19.40789,19.40789l-10.09211,-10.09211l-4.34252,4.34858l14.43462,14.44069l23.75648,-23.75648l-4.34858,-4.34858z"/>'),
          (om[wv] =
            '<path fill="currentColor" stroke="currentColor" d="m49.86139,12.46535c-20.62138,0 -37.39604,16.77466 -37.39604,37.39604c0,20.62139 16.77466,37.39604 37.39604,37.39604c20.62139,0 37.39604,-16.77465 37.39604,-37.39604c0,-20.62138 -16.77465,-37.39604 -37.39604,-37.39604zm0,6.23267c17.24941,0 31.16337,13.91396 31.16337,31.16337c0,17.24941 -13.91396,31.16337 -31.16337,31.16337c-17.24941,0 -31.16337,-13.91396 -31.16337,-31.16337c0,-17.24941 13.91396,-31.16337 31.16337,-31.16337zm-12.46535,15.58168l0,31.16337l6.23267,0l0,-31.16337l-6.23267,0zm18.69802,0l0,31.16337l6.23267,0l0,-31.16337l-6.23267,0z"/>'),
          (om[kv] =
            '<path fill="currentColor" stroke="currentColor" d="m9.9,89.09226c-0.03094,0 -0.05414,0 -0.08508,0c-1.06734,-0.04641 -1.91039,-0.92812 -1.89492,-1.99547c0.00774,-0.48726 1.14469,-48.13101 47.52,-49.44586l0,-13.89094c0,-0.7657 0.44086,-1.4618 1.12922,-1.78664c0.68062,-0.33258 1.5082,-0.23203 2.09601,0.2475l31.68,25.74c0.46406,0.37899 0.73476,0.9436 0.73476,1.53914c0,0.59555 -0.2707,1.16016 -0.72703,1.53914l-31.68,25.74c-0.59555,0.47953 -1.41539,0.57234 -2.10375,0.2475c-0.68836,-0.32485 -1.12922,-1.02094 -1.12922,-1.78664l0,-13.84453c-41.26289,0.75024 -43.49039,24.81961 -43.56773,25.85601c-0.06961,1.04414 -0.93586,1.84078 -1.97226,1.84078z"/>'),
          (om[Cv] =
            '<path fill="currentColor" stroke="currentColor" d="M12,4c-1.1,0-2,0.9-2,2v20c0,1.1,0.9,2,2,2h14v21.7c0,0.2,0,0.4,0,0.7V84c0,1.1,0.9,2,2,2h26v8c0,1.1,0.9,2,2,2h32 c1.1,0,2-0.9,2-2V74c0-1.1-0.9-2-2-2H56c-1.1,0-2,0.9-2,2v8H30V52h24v8c0,1.1,0.9,2,2,2h32c1.1,0,2-0.9,2-2V40c0-1.1-0.9-2-2-2 H56c-1.1,0-2,0.9-2,2v8H30V28h14c1.1,0,2-0.9,2-2V6c0-1.1-0.9-2-2-2L12,4z M14,8h28v16H28.3c-0.1,0-0.2,0-0.3,0 c-0.1,0-0.2,0-0.3,0H14L14,8z M58,42h28v16H58v-7.7c0-0.2,0-0.4,0-0.7V42z M58,76h28v16H58v-7.7c0-0.2,0-0.4,0-0.7V76z"/>'),
          (om[xv] =
            '<path fill="currentColor" stroke="currentColor" d="M16.7,13.3c-1.8,0-3.3,1.5-3.3,3.3v66.7c0,1.8,1.5,3.3,3.3,3.3h16.7c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4 c-0.6-1-1.7-1.7-2.9-1.7H20V20h13.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7L16.7,13.3z M66.7,13.3 c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7H80v60H66.7c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4 c0.6,1,1.7,1.7,2.9,1.7h16.7c1.8,0,3.3-1.5,3.3-3.3V16.7c0-1.8-1.5-3.3-3.3-3.3L66.7,13.3z"/>'),
          (om[Sv] =
            '<path fill="currentColor" stroke="currentColor" d="M23.3,13.3c-5.5,0-10,4.5-10,10v53.3c0,5.5,4.5,10,10,10H65c0.9,0,1.7-0.4,2.4-1l18.3-18.3c0.6-0.6,1-1.5,1-2.4V23.3 c0-5.5-4.5-10-10-10H23.3z M23.3,20h53.3c1.9,0,3.3,1.4,3.3,3.3v40H70c-3.7,0-6.7,3-6.7,6.7v10h-40c-1.9,0-3.3-1.4-3.3-3.3V23.3 C20,21.4,21.4,20,23.3,20z M33.3,36.7c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h13.3 c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H33.3z M60,36.7c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4 c0.6,1,1.7,1.7,2.9,1.7h6.7c1.2,0,2.3-0.6,2.9-1.7s0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H60z M33.3,50c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7H60c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4S61.2,50,60,50H33.3z"/>'),
          (om[Ev] =
            '<path fill="currentColor" stroke="currentColor" d="M36.6,13.3c-1.6,0-2.9,1.2-3.2,2.7l-2.1,10.7H20c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4s1.7,1.7,2.9,1.7h9.9 l-6.7,33.3h-9.9c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h8.6l-1.9,9.3c-0.3,1.2,0.1,2.4,1,3.2 c0.9,0.8,2.2,1.1,3.3,0.7s2-1.4,2.2-2.6l2.1-10.7h33.2l-1.9,9.3c-0.3,1.2,0.1,2.4,1,3.2c0.9,0.8,2.2,1.1,3.3,0.7 c1.1-0.4,2-1.4,2.2-2.6l2.1-10.7H80c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-9.9l6.7-33.3h9.9 c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-8.6l1.9-9.3c0.2-1,0-2-0.7-2.8s-1.6-1.2-2.6-1.2 c-1.6,0-2.9,1.2-3.2,2.7l-2.1,10.7H38.1l1.9-9.3c0.2-1,0-2-0.7-2.8S37.6,13.3,36.6,13.3L36.6,13.3z M36.7,33.3h33.2l-6.7,33.3 H30.1L36.7,33.3z"/>'),
          (om[Mv] =
            '<path fill="currentColor" stroke="currentColor" d="M76.7,10h-20c-1.7,0-3.4,0.7-4.7,2L12,52c-2.6,2.6-2.6,6.8,0,9.4L38.6,88c2.6,2.6,6.8,2.6,9.4,0c1.3-1.3,38.7-38.7,40-40 c1.3-1.3,2-3,2-4.7v-20C90,16,84,10,76.7,10z M76.7,30C73,30,70,27,70,23.3c0-3.7,3-6.7,6.7-6.7c3.7,0,6.7,3,6.7,6.7 C83.3,27,80.4,30,76.7,30z"/>'),
          (om[Lv] =
            '<path fill="currentColor" stroke="currentColor" d="M26.6,13.2c-0.3,0-0.6,0-1,0.1h-9c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7H20v60h-3.3 c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h8.9c0.7,0.1,1.4,0.1,2.2,0h8.9c1.2,0,2.3-0.6,2.9-1.7 c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-3.3V53.3h33.3V80h-3.3c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4 s1.7,1.7,2.9,1.7h8.9c0.7,0.1,1.4,0.1,2.2,0h8.9c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H80V20h3.3 c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-8.9c-0.4-0.1-0.8-0.1-1.2-0.1c-0.3,0-0.6,0-1,0.1h-9 c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4s1.7,1.7,2.9,1.7h3.3v26.7H33.3V20h3.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4 s-1.7-1.7-2.9-1.7h-8.9C27.3,13.3,27,13.2,26.6,13.2L26.6,13.2z"/>'),
          (om[Av] =
            '<path fill="currentColor" stroke="currentColor" d="M23.3,13.3c-1.8,0-3.3,1.5-3.3,3.3c0,1.8,1.5,3.3,3.3,3.3h3.3v60h-3.3c-1.8,0-3.3,1.5-3.3,3.3s1.5,3.3,3.3,3.3h38.3 c11.9,0,21.7-9.7,21.7-21.7c0-8.8-5.2-16.3-12.8-19.7c3.7-3.4,6.1-8.2,6.1-13.6c0-10.1-8.2-18.3-18.3-18.3L23.3,13.3z M43.3,20 h8.3c6.4,0,11.7,5.2,11.7,11.7c0,6.4-5.2,11.7-11.7,11.7h-8.3L43.3,20z M43.3,50h5h3.3c8.3,0,15,6.7,15,15s-6.7,15-15,15h-8.3 L43.3,50z"/>'),
          (om[Dv] =
            '<path fill="currentColor" stroke="currentColor" d="M53.3,13.3c-0.3,0-0.5,0-0.7,0.1h-9.2c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4s1.7,1.7,2.9,1.7h4.8l-6.3,60h-5.1 c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h20c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4 c-0.6-1-1.7-1.7-2.9-1.7h-4.8l6.3-60h5.1c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-9.2 C53.9,13.3,53.6,13.3,53.3,13.3L53.3,13.3z"/>'),
          (om[Tv] =
            '<path fill="currentColor" stroke="currentColor" d="M20,13.3c-1.8,0-3.3,1.5-3.3,3.3v6.7c0,1.2,0.6,2.3,1.7,2.9c1,0.6,2.3,0.6,3.4,0c1-0.6,1.7-1.7,1.7-2.9V20h20v30h-20 c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h53.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4 c-0.6-1-1.7-1.7-2.9-1.7h-20V20h20v3.3c0,1.2,0.6,2.3,1.7,2.9c1,0.6,2.3,0.6,3.4,0c1-0.6,1.7-1.7,1.7-2.9v-6.7 c0-1.8-1.5-3.3-3.3-3.3H20z M43.3,63.3V80H40c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4s1.7,1.7,2.9,1.7h20 c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7h-3.3V63.3L43.3,63.3z"/>'),
          (om[Pv] =
            '<path fill="currentColor" stroke="currentColor" d="M59.9,10c-0.9,0-1.7,0.4-2.3,1L34.3,34.3c-0.3,0.3-0.6,0.7-0.7,1.1l-6.4,16l-3.8,3.8c-3.6,3.6-4.2,9.1-2,13.4L6.7,83.3 l20,6.7l8.1-8.1c4.3,2.2,9.8,1.6,13.4-2l3.8-3.8l16-6.4c0.4-0.2,0.8-0.4,1.1-0.7l23.3-23.3c0.9-0.8,1.2-2.1,0.9-3.2 c-0.3-1.2-1.2-2.1-2.4-2.4s-2.4,0-3.2,0.9l-11,11L51.4,26.7l11-11c1-1,1.3-2.4,0.7-3.7C62.6,10.7,61.3,9.9,59.9,10L59.9,10z M46.7,31.4L72,56.7L66.7,62L41.4,36.7L46.7,31.4z M37.9,42.6l22.9,22.9l-12,4.8c-0.4,0.2-0.8,0.4-1.1,0.7l-4.3,4.3 c-1.9,1.9-4.9,1.9-6.8,0l-8.5-8.5c-1.9-1.9-1.9-4.9,0-6.8l4.3-4.3c0.3-0.3,0.6-0.7,0.7-1.1L37.9,42.6z"/>'),
          (om[Ov] =
            '<path fill="currentColor" stroke="currentColor" d="M56.6,13.3c-1.6,0-2.9,1.2-3.2,2.7L40.1,82.7c-0.3,1.2,0.1,2.4,1,3.2c0.9,0.8,2.2,1.1,3.3,0.7c1.1-0.4,2-1.4,2.2-2.6 l13.3-66.7c0.2-1,0-2-0.7-2.8S57.6,13.3,56.6,13.3z M24.2,26.6c-1.1,0-2.1,0.5-2.8,1.4l-14.1,20c-0.8,1.2-0.8,2.7,0,3.9l14.1,20 c1.1,1.5,3.1,1.9,4.6,0.8c1.5-1.1,1.9-3.1,0.8-4.6L14.1,50l12.8-18.1c0.7-1,0.8-2.4,0.3-3.5C26.6,27.3,25.4,26.6,24.2,26.6 L24.2,26.6z M76.5,26.6c-1.2,0-2.4,0.8-2.9,1.9c-0.5,1.1-0.4,2.4,0.3,3.4L86.7,50L73.9,68.1c-0.7,1-0.8,2.2-0.3,3.3 s1.5,1.8,2.7,1.9c1.2,0.1,2.3-0.4,3-1.4l14.1-20c0.8-1.2,0.8-2.7,0-3.9l-14.1-20C78.7,27.1,77.7,26.6,76.5,26.6L76.5,26.6z"/>'),
          (om[Fv] =
            '<path fill="currentColor" stroke="currentColor" d="M16.7,13.3c-3.7,0-6.7,3-6.7,6.7v26.7c0,3.7,3,6.7,6.7,6.7h13.5c0.1,6-0.5,18.7-6.3,28.2c0,0,0,0,0,0 c-0.9,1.4-0.7,3.1,0.5,4.2c1.2,1.1,3,1.2,4.3,0.2c0,0,14.7-11.2,14.7-32.7V20c0-3.7-3-6.7-6.7-6.7L16.7,13.3z M63.3,13.3 c-3.7,0-6.7,3-6.7,6.7v26.7c0,3.7,3,6.7,6.7,6.7h13.5c0.1,6-0.5,18.7-6.3,28.2h0c-0.9,1.4-0.7,3.1,0.5,4.2c1.2,1.1,3,1.2,4.3,0.2 c0,0,14.7-11.2,14.7-32.7V20c0-3.7-3-6.7-6.7-6.7L63.3,13.3z"/>'),
          (om[Iv] =
            '<path fill="currentColor" stroke="currentColor" d="M73.3,6.7C68,6.7,63,8.7,59.2,12.5l-6.7,6.7c-3.8,3.8-5.9,8.8-5.9,14.1c0,4.2,1.3,8.2,3.7,11.6l-5.5,5.5 c-3.4-2.4-7.4-3.7-11.6-3.7c-5.3,0-10.4,2.1-14.1,5.9l-6.7,6.7C8.7,63,6.7,68,6.7,73.3c0,5.3,2.1,10.4,5.9,14.1s8.8,5.9,14.1,5.9 c5.3,0,10.4-2.1,14.1-5.9l6.7-6.7c3.8-3.8,5.9-8.8,5.9-14.1c0-1.8-0.3-3.6-0.7-5.4l-6,6c-0.2,3.2-1.4,6.3-3.8,8.8l-6.7,6.7 c-5.2,5.2-13.7,5.2-18.9,0c-5.2-5.2-5.2-13.7,0-18.9l6.7-6.7c2.6-2.6,6-3.9,9.4-3.9c2.3,0,4.7,0.7,6.7,1.9L31,64.3 c-0.9,0.8-1.2,2.1-0.9,3.2c0.3,1.2,1.2,2.1,2.4,2.4c1.2,0.3,2.4,0,3.2-0.9L69,35.7c1-1,1.3-2.4,0.7-3.7c-0.5-1.3-1.8-2.1-3.2-2 c-0.9,0-1.7,0.4-2.3,1l-9.1,9.1c-3-5.1-2.4-11.8,2-16.2l6.7-6.7c2.6-2.6,6-3.9,9.4-3.9c3.4,0,6.8,1.3,9.4,3.9 c5.2,5.2,5.2,13.7,0,18.9l-6.7,6.7c-2.4,2.4-5.6,3.7-8.8,3.8l-6,6c1.7,0.5,3.5,0.7,5.4,0.7c5.3,0,10.4-2.1,14.1-5.9l6.7-6.7 c3.8-3.8,5.9-8.8,5.9-14.1c0-5.3-2.1-10.4-5.9-14.1C83.7,8.7,78.7,6.7,73.3,6.7z"/>'),
          (om[Bv] =
            '<path fill="currentColor" stroke="currentColor" d="M18.2,10.1l-5.1,3.5V18l4.8-3.3h0.3v15.4h5.1v-20L18.2,10.1z M36.7,20c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4 c0.6,1,1.7,1.7,2.9,1.7h46.7c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H36.7z M20,40 c-4.5,0-7.5,2.6-7.5,6.5v0.1H17v-0.1c0-1.6,1.2-2.7,2.8-2.7c1.6,0,2.7,1,2.7,2.4c0,1.1-0.7,2.1-3.6,4.8l-6.2,5.8V60h14.8v-3.9 h-8.2v-0.3l3.2-3c3.5-3.1,4.7-5,4.7-7.2C27.3,42.3,24.4,40,20,40z M36.7,46.7c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4 s1.7,1.7,2.9,1.7h46.7c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H36.7z M19.9,66.7 c-4.4,0-7.2,2.4-7.3,6.1H17c0.1-1.5,1.2-2.5,2.8-2.5c1.7,0,2.7,0.9,2.7,2.2c0,1.4-1.1,2.3-2.7,2.3h-2.3v3.3h2.3c1.8,0,3,0.9,3,2.4 c0,1.4-1.2,2.4-2.9,2.4c-1.8,0-3-0.9-3.1-2.3h-4.6c0.2,3.7,3.2,6.1,7.6,6.1c4.6,0,7.9-2.4,7.9-5.8c0-2.4-1.7-4.2-4.3-4.4v-0.3 c2.1-0.4,3.6-2.1,3.6-4.3C27,68.8,24.1,66.7,19.9,66.7L19.9,66.7z M36.7,73.3c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4 c0.6,1,1.7,1.7,2.9,1.7h46.7c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H36.7z"/>'),
          (om[Nv] =
            '<path fill="currentColor" stroke="currentColor" d="M20,16.7c-3.7,0-6.7,3-6.7,6.7s3,6.7,6.7,6.7s6.7-3,6.7-6.7S23.7,16.7,20,16.7z M40,20c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h43.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H40z M20,43.3c-3.7,0-6.7,3-6.7,6.7s3,6.7,6.7,6.7s6.7-3,6.7-6.7S23.7,43.3,20,43.3z M40,46.7c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4s1.7,1.7,2.9,1.7h43.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H40z M20,70 c-3.7,0-6.7,3-6.7,6.7c0,3.7,3,6.7,6.7,6.7s6.7-3,6.7-6.7C26.7,73,23.7,70,20,70z M40,73.3c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h43.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H40z"/>'),
          (om[Rv] =
            '<path fill="currentColor" stroke="currentColor" d="M89.9,20c-0.9,0-1.7,0.4-2.3,1l-51,51l-21-21c-0.8-0.9-2.1-1.2-3.2-0.9s-2.1,1.2-2.4,2.4c-0.3,1.2,0,2.4,0.9,3.2L34.3,79 c1.3,1.3,3.4,1.3,4.7,0l53.3-53.3c1-1,1.3-2.4,0.7-3.7C92.6,20.7,91.3,19.9,89.9,20z"/>'),
          (om[zv] =
            '<path fill="currentColor" stroke="currentColor" d="M33.3,10l-20,20l20,20V36.7h23.3c9.3,0,16.7,7.4,16.7,16.7S66,70,56.7,70h-10c-2.4,0-4.6,1.2-5.9,3.3 c-1.2,2.1-1.2,4.6,0,6.7c1.2,2.1,3.4,3.3,5.9,3.3h10c15.6,0,28.1-12.2,29.5-27.4c0.3-0.8,0.5-1.7,0.5-2.6c0-16.5-13.5-30-30-30 H33.3L33.3,10z"/>'),
          (om[Hv] =
            '<path fill="currentColor" stroke="currentColor" d="M66.7,10v13.3H43.3c-16.5,0-30,13.5-30,30c0,0.9,0.2,1.8,0.5,2.6c0,0,0,0,0,0c1.4,15.2,13.9,27.4,29.5,27.4h10 c2.4,0,4.6-1.2,5.9-3.3c1.2-2.1,1.2-4.6,0-6.7C58,71.2,55.7,70,53.3,70h-10c-9.3,0-16.7-7.4-16.7-16.7S34,36.7,43.3,36.7h23.3V50 l20-20L66.7,10z"/>'),
          (om[Vv] =
            '<path fill="currentColor" stroke="currentColor" d="M49.9,30c-0.9,0-1.7,0.4-2.3,1L14.3,64.3c-0.9,0.8-1.2,2.1-0.9,3.2c0.3,1.2,1.2,2.1,2.4,2.4c1.2,0.3,2.4,0,3.2-0.9l31-31 l31,31c0.8,0.9,2.1,1.2,3.2,0.9c1.2-0.3,2.1-1.2,2.4-2.4c0.3-1.2,0-2.4-0.9-3.2L52.4,31C51.7,30.3,50.8,30,49.9,30L49.9,30z"/>'),
          (om[qv] =
            '<path fill="currentColor" stroke="currentColor" d="M83.3,30c-0.9,0-1.7,0.4-2.3,1L50,62L19,31c-0.6-0.6-1.5-1-2.4-1c-1.4,0-2.6,0.8-3.1,2.1c-0.5,1.3-0.2,2.7,0.8,3.6 L47.6,69c1.3,1.3,3.4,1.3,4.7,0l33.3-33.3c1-1,1.3-2.4,0.8-3.7C85.9,30.7,84.7,29.9,83.3,30z"/>'),
          (om[Gv] =
            '<path fill="currentColor" stroke="currentColor" d="M49.9,16.7c-0.9,0-1.7,0.4-2.3,1L14.3,51c-0.9,0.8-1.2,2.1-0.9,3.2c0.3,1.2,1.2,2.1,2.4,2.4s2.4,0,3.2-0.9l31-31l31,31 c0.8,0.9,2.1,1.2,3.2,0.9c1.2-0.3,2.1-1.2,2.4-2.4s0-2.4-0.9-3.2L52.4,17.6C51.7,17,50.8,16.7,49.9,16.7L49.9,16.7z M49.9,40 c-0.9,0-1.7,0.4-2.3,1L14.3,74.3c-0.9,0.8-1.2,2.1-0.9,3.2c0.3,1.2,1.2,2.1,2.4,2.4s2.4,0,3.2-0.9l31-31l31,31 c0.8,0.9,2.1,1.2,3.2,0.9c1.2-0.3,2.1-1.2,2.4-2.4c0.3-1.2,0-2.4-0.9-3.2L52.4,41C51.7,40.3,50.8,40,49.9,40L49.9,40z"/>'),
          (om[Kv] =
            '<path fill="currentColor" stroke="currentColor" d="M83.3,20c-0.9,0-1.7,0.4-2.3,1L50,52L19,21c-0.6-0.6-1.5-1-2.4-1c-1.4,0-2.6,0.8-3.1,2.1c-0.5,1.3-0.2,2.7,0.8,3.6 L47.6,59c1.3,1.3,3.4,1.3,4.7,0l33.3-33.3c1-1,1.3-2.4,0.8-3.7C85.9,20.7,84.7,19.9,83.3,20z M83.3,43.3c-0.9,0-1.7,0.4-2.3,1 l-31,31l-31-31c-0.6-0.6-1.5-1-2.4-1c-1.4,0-2.6,0.8-3.1,2.1s-0.2,2.7,0.8,3.6l33.3,33.3c1.3,1.3,3.4,1.3,4.7,0L85.7,49 c1-1,1.3-2.4,0.8-3.7C85.9,44.1,84.7,43.3,83.3,43.3L83.3,43.3z"/>'),
          (om[_v] =
            '<path fill="currentColor" stroke="currentColor" d="M90,20H10c-3.7,0-6.7,3-6.7,6.7v46.7c0,3.7,3,6.7,6.7,6.7h80c3.7,0,6.7-3,6.7-6.7V26.7C96.7,23,93.7,20,90,20L90,20z M66.7,33.3h6.7V40h-6.7V33.3z M53.3,33.3H60V40h-6.7V33.3z M66.7,46.7v6.7H60v-6.7H66.7z M40,33.3h6.7V40H40V33.3z M53.3,46.7 v6.7h-6.7v-6.7H53.3z M26.7,33.3h6.7V40h-6.7V33.3z M40,46.7v6.7h-6.7v-6.7H40z M13.3,33.3H20V40h-6.7V33.3z M13.3,46.7h13.3v6.7 H13.3V46.7z M20,66.7h-6.7V60H20V66.7z M73.3,66.7H26.7V60h46.7V66.7z M86.7,66.7H80V60h6.7V66.7z M86.7,53.3H73.3v-6.7h13.3V53.3 z M86.7,40H80v-6.7h6.7V40z"/>'),
          (om[$v] =
            '<path fill="currentColor" stroke="currentColor" d="M13.3,16.7c-3.7,0-6.7,3-6.7,6.7v53.3c0,3.7,3,6.7,6.7,6.7h73.3c3.7,0,6.7-3,6.7-6.7V23.3c0-3.7-3-6.7-6.7-6.7H13.3z M76.7,26.7c3.7,0,6.7,3,6.7,6.7c0,3.7-3,6.7-6.7,6.7C73,40,70,37,70,33.3C70,29.7,73,26.7,76.7,26.7z M16.7,33.3l16.6,16.6 l3.4,3.4l3.9,3.9c1.4,1.4,3.7,1.4,5.1,0c1.4-1.4,1.4-3.7,0-5.1l-3.8-3.8l4.9-4.9l9.9,9.9l7.3,7.3c1.4,1.4,3.7,1.4,5.1,0 c1.4-1.4,1.4-3.7,0-5.1l-0.5-0.5l4.9-4.9l10,10v13.3H16.7L16.7,33.3z"/>'),
          (om[Jv] =
            '<path fill="currentColor" stroke="currentColor" d="M50,4C24.6,4,4,24.6,4,50s20.6,46,46,46s46-20.6,46-46S75.4,4,50,4L50,4z M50,8c23.2,0,42,18.8,42,42S73.2,92,50,92 S8,73.2,8,50S26.8,8,50,8z M50,14c-1.1,0-2,0.9-2,2v28.3c-2.4,0.8-4,3.1-4,5.7c0,0.9,0.2,1.8,0.6,2.6l-12,12 c-0.5,0.5-0.7,1.2-0.6,1.9c0.2,0.7,0.7,1.2,1.4,1.4c0.7,0.2,1.4,0,1.9-0.6l12-12c0.8,0.4,1.7,0.6,2.6,0.6c3.3,0,6-2.7,6-6 c0-2.5-1.6-4.8-4-5.6V16c0-0.5-0.2-1.1-0.6-1.4C51,14.2,50.5,14,50,14z"/>'),
          (om[jv] =
            '<path fill="currentColor" stroke="currentColor" d="M66.6,13.3c-0.9,0-1.7,0.4-2.3,1L31,47.6c-1.3,1.3-1.3,3.4,0,4.7l33.3,33.3c0.8,0.9,2.1,1.2,3.2,0.9 c1.2-0.3,2.1-1.2,2.4-2.4c0.3-1.2,0-2.4-0.9-3.2L38,50l31-31c1-1,1.3-2.4,0.7-3.7S68,13.3,66.6,13.3L66.6,13.3z"/>'),
          (om[Uv] =
            '<path fill="currentColor" stroke="currentColor" d="M33.3,13.3c-1.4,0-2.6,0.8-3.1,2.1C29.7,16.6,30,18.1,31,19l31,31L31,81c-0.9,0.8-1.2,2.1-0.9,3.2 c0.3,1.2,1.2,2.1,2.4,2.4c1.2,0.3,2.4,0,3.2-0.9L69,52.4c1.3-1.3,1.3-3.4,0-4.7L35.7,14.3C35.1,13.7,34.2,13.3,33.3,13.3 L33.3,13.3z"/>'),
          (om[Wv] =
            '<path fill="currentColor" stroke="currentColor" d="M70.1,13.3c-1.2,0-2.4,0.6-3,1.7l-40,66.7c-0.7,1-0.7,2.3-0.1,3.4c0.6,1.1,1.7,1.7,2.9,1.7c1.2,0,2.3-0.7,2.9-1.7l40-66.7 c0.6-1,0.7-2.3,0.1-3.3C72.4,14,71.3,13.3,70.1,13.3L70.1,13.3z M30,16.7c-7.3,0-13.3,6-13.3,13.3v6.7C16.7,44,22.7,50,30,50 c0.4,0,0.8-0.1,1.2-0.2c6.7-0.6,12.1-6.2,12.1-13.1V30c0-6.9-5.4-12.5-12.1-13.1C30.8,16.8,30.4,16.7,30,16.7z M30,23.3 c3.7,0,6.7,2.9,6.7,6.7v6.7c0,3.7-2.9,6.7-6.7,6.7s-6.7-2.9-6.7-6.7V30C23.3,26.3,26.3,23.3,30,23.3z M70,50 c-7.3,0-13.3,6-13.3,13.3V70c0,6.9,5.4,12.5,12.1,13.1c0.4,0.2,0.8,0.2,1.2,0.2c0.4,0,0.8-0.1,1.2-0.2c6.7-0.6,12.1-6.2,12.1-13.1 v-6.7C83.3,56,77.3,50,70,50z M70,56.7c3.7,0,6.7,2.9,6.7,6.7V70c0,3.7-2.9,6.7-6.7,6.7s-6.7-2.9-6.7-6.7v-6.7 C63.3,59.6,66.3,56.7,70,56.7z"/>'),
          (om[Yv] =
            '<path fill="currentColor" stroke="currentColor" d="M13.3,10l-6.7,6.7L13.3,30l10,3.3L35,45l6.7-6.7L30,26.7l-3.3-10L13.3,10z M73.6,10c-5.5-0.2-11.1,1.8-15.3,6 c-5.5,5.5-5.9,12-3.2,18.2L16.3,72.9c-3.9,3.9-3.9,10.2,0,14.1c3.9,3.9,10.2,3.9,14.1,0l38.7-38.7c6.2,2.7,12.7,2.2,18.2-3.2 c5.6-5.6,7.3-13.7,5-20.8L80,36.7L69.3,34l-2.7-10.7L79,11C77.2,10.4,75.4,10.1,73.6,10z M68.4,58.8L55.9,71.3l16.1,16.1 c3.5,3.5,9.1,3.5,12.6,0c3.5-3.5,3.5-9.1,0-12.6L68.4,58.8z M23.3,76.7c1.8,0,3.3,1.5,3.3,3.3s-1.5,3.3-3.3,3.3 c-1.8,0-3.3-1.5-3.3-3.3C20,78.2,21.5,76.7,23.3,76.7z"/>'),
          (om[Qv] =
            '<path fill="currentColor" stroke="currentColor" d="M50,4C24.6,4,4,24.6,4,50s20.6,46,46,46s46-20.6,46-46S75.4,4,50,4L50,4z M50,8c23.2,0,42,18.8,42,42S73.2,92,50,92 S8,73.2,8,50S26.8,8,50,8z M48,26v22H26v4h22v22h4V52h22v-4H52V26L48,26z"/>'),
          (om[Xv] =
            '<path fill="currentColor" stroke="currentColor" d="M50,4C24.6,4,4,24.6,4,50s20.6,46,46,46s46-20.6,46-46S75.4,4,50,4L50,4z M50,8c23.2,0,42,18.8,42,42S73.2,92,50,92 S8,73.2,8,50S26.8,8,50,8z M26,48v4h48v-4H26z"/>'),
          (om[Zv] =
            '<path fill="currentColor" stroke="currentColor" d="M83.3,13.3c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4c-0.6,1-1.7,1.7-2.9,1.7H16.7c-1.2,0-2.3-0.6-2.9-1.7 c-0.6-1-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7L83.3,13.3z M83.3,30c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4 c-0.6,1-1.7,1.7-2.9,1.7h-40c-1.2,0-2.3-0.6-2.9-1.7c-0.6-1-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7H83.3z M13.3,30l20,20l-20,20V30z M83.3,46.7c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4c-0.6,1-1.7,1.7-2.9,1.7h-40c-1.2,0-2.3-0.6-2.9-1.7c-0.6-1-0.6-2.3,0-3.4 c0.6-1,1.7-1.7,2.9-1.7H83.3z M83.3,63.3c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4c-0.6,1-1.7,1.7-2.9,1.7h-40 c-1.2,0-2.3-0.6-2.9-1.7c-0.6-1-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7H83.3z M83.3,80c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4 c-0.6,1-1.7,1.7-2.9,1.7H16.7c-1.2,0-2.3-0.6-2.9-1.7c-0.6-1-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7H83.3z"/>'),
          (om[ey] =
            '<path fill="currentColor" stroke="currentColor" d="M83.3,13.3c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4c-0.6,1-1.7,1.7-2.9,1.7H50c-1.2,0-2.3-0.6-2.9-1.7 c-0.6-1-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7L83.3,13.3z M83.3,30c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4 c-0.6,1-1.7,1.7-2.9,1.7h-50c-1.2,0-2.3-0.6-2.9-1.7c-0.6-1-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7H83.3z M23.3,30v40l-20-20 L23.3,30z M83.3,46.7c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4c-0.6,1-1.7,1.7-2.9,1.7h-50c-1.2,0-2.3-0.6-2.9-1.7 c-0.6-1-0.6-2.3,0-3.4s1.7-1.7,2.9-1.7H83.3z M83.3,63.3c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4c-0.6,1-1.7,1.7-2.9,1.7h-50 c-1.2,0-2.3-0.6-2.9-1.7c-0.6-1-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7H83.3z M83.3,80c1.2,0,2.3,0.6,2.9,1.7c0.6,1,0.6,2.3,0,3.4 c-0.6,1-1.7,1.7-2.9,1.7H50c-1.2,0-2.3-0.6-2.9-1.7s-0.6-2.3,0-3.4c0.6-1,1.7-1.7,2.9-1.7H83.3z"/>'),
          (om[ty] =
            '<path fill="currentColor" stroke="currentColor" d="M12,12v24c0,0.7,0.4,1.4,1,1.8c0.6,0.4,1.4,0.4,2,0c0.6-0.4,1-1,1-1.8V16h20c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2 c-0.4-0.6-1-1-1.8-1L12,12z M64,12c-1.1,0-2,0.9-2,1.9s0.8,2,1.9,2.1c0,0,0.1,0,0.1,0h20v20c0,1,0.8,1.9,1.8,2c0.1,0,0.1,0,0.2,0 c1.1,0,2-0.9,2-2V12H64z M14,64c-1.1,0-2,0.9-2,2v24h24c0.1,0,0.1,0,0.2,0c1.1-0.1,1.9-1,1.8-2.1C38,86.8,37.1,86,36,86H16V66 c0-0.5-0.2-1.1-0.6-1.4C15,64.2,14.5,64,14,64z M86,64c-1.1,0-2,0.9-2,2v20H64c-0.7,0-1.4,0.4-1.8,1c-0.4,0.6-0.4,1.4,0,2 c0.4,0.6,1,1,1.8,1h24V66c0-0.5-0.2-1.1-0.6-1.4S86.5,64,86,64z"/>'),
          (om[ny] =
            '<path fill="currentColor" stroke="currentColor" d="M34,10c-1.1,0-2,0.9-2,2v20H12c-0.7,0-1.4,0.4-1.8,1c-0.4,0.6-0.4,1.4,0,2c0.4,0.6,1,1,1.8,1h24V12c0-0.5-0.2-1.1-0.6-1.4 C35,10.2,34.5,10,34,10L34,10z M66,10c-1,0-1.9,0.8-2,1.9c0,0,0,0.1,0,0.1v24h24c0.1,0,0.1,0,0.2,0c1.1-0.1,1.9-1,1.8-2.1 C90,32.8,89.1,32,88,32H68V12c0-0.5-0.2-1.1-0.6-1.4C67,10.2,66.5,10,66,10L66,10z M12,64c-0.7,0-1.4,0.4-1.8,1 c-0.4,0.6-0.4,1.4,0,2c0.4,0.6,1,1,1.8,1h20v20c0,0.7,0.4,1.4,1,1.8c0.6,0.4,1.4,0.4,2,0c0.6-0.4,1-1,1-1.8V64L12,64z M64,64v24 c0,0.7,0.4,1.4,1,1.8c0.6,0.4,1.4,0.4,2,0c0.6-0.4,1-1,1-1.8V68h20c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1 L64,64z"/>'),
          (om[iy] =
            '<path fill="currentColor" stroke="currentColor" d="M57,22c-8.6,0-16,4.4-20.5,11c-1.4-0.5-2.9-1-4.5-1c-6.7,0-12.1,4.8-13.5,11C11.3,45.4,6,52,6,60c0,9.9,8.1,18,18,18h54 c8.8,0,16-7.2,16-16c0-7.4-5.2-13.4-12-15.2C81.8,33.1,70.7,22,57,22z M57,26c11.6,0,21,9.4,21,21c0,0.3,0,0.6-0.1,1.1 c-0.1,1,0.7,1.9,1.7,2.1C85.5,50.9,90,55.9,90,62c0,6.7-5.3,12-12,12H24c-7.8,0-14-6.2-14-14c0-6.6,4.5-12,10.6-13.6 c0.8-0.2,1.4-0.9,1.5-1.7c0.6-4.9,4.8-8.7,9.9-8.7c1.6,0,3.1,0.4,4.4,1c0.9,0.5,2.1,0.1,2.6-0.8C42.7,30.1,49.3,26,57,26L57,26z"/>'),
          (om[ry] =
            '<path fill="currentColor" stroke="currentColor" d="M37,16c-4.4,0-8.3,3.3-9.2,7.6l-11.6,52c-0.5,2.2,0,4.3,1.2,5.9c1.2,1.6,3.2,2.6,5.4,2.6H79c4.4,0,8.3-3.3,9.2-7.6 l11.6-52c0.5-2.2,0-4.3-1.2-5.9C97.4,17,95.4,16,93.2,16L37,16z M37,20h56.2c1.1,0,1.8,0.4,2.2,1c0.5,0.6,0.7,1.4,0.4,2.6l-1,4.4 H30.8l0.8-3.6C32.1,22.2,34.8,20,37,20z M29.9,32H94l-9.6,43.6C83.9,77.8,81.2,80,79,80H22.8c-1.1,0-1.8-0.4-2.2-1 c-0.5-0.6-0.7-1.4-0.4-2.6L29.9,32z M0,36v4h19.6l0.9-4L0,36z M36.7,38c-0.8,0.1-1.4,0.7-1.6,1.5l-3.5,14c-0.2,0.6,0,1.2,0.4,1.7 c0.4,0.5,1,0.8,1.6,0.8H81c0.9,0,1.7-0.6,1.9-1.5l3.5-14c0.2-0.6,0-1.3-0.4-1.8c-0.4-0.5-1-0.8-1.6-0.8H37.1c-0.1,0-0.1,0-0.2,0 C36.9,38,36.8,38,36.7,38L36.7,38z M38.7,42h43.2l-2.4,10H36.2L38.7,42z M0,52v4h16l0.9-4H0z M0,68v4h12.4l0.9-4H0z"/>'),
          (om[oy] =
            '<path fill="currentColor" stroke="currentColor" d="M83.3,13.3c-0.9,0-1.7,0.4-2.3,1l-21,21V20c0-0.9-0.3-1.8-1-2.4c-0.6-0.6-1.5-1-2.4-1c-1.8,0-3.3,1.5-3.3,3.4v22.8 c-0.2,1.1,0.2,2.1,0.9,2.9c0.8,0.8,1.8,1.1,2.9,0.9H80c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H64.7 l21-21c1-1,1.3-2.4,0.7-3.7C85.9,14.1,84.6,13.3,83.3,13.3L83.3,13.3z M43.3,53.3c-0.1,0-0.2,0-0.4,0H20c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h15.3l-21,21c-0.9,0.8-1.2,2.1-0.9,3.2c0.3,1.2,1.2,2.1,2.4,2.4 c1.2,0.3,2.4,0,3.2-0.9l21-21V80c0,1.2,0.6,2.3,1.7,2.9c1,0.6,2.3,0.6,3.4,0c1-0.6,1.7-1.7,1.7-2.9V57.1c0.1-1-0.2-2-0.8-2.7 C45.2,53.7,44.2,53.3,43.3,53.3L43.3,53.3z"/>'),
          (om[sy] =
            '<path fill="currentColor" stroke="currentColor" d="M83.3,13.3c-0.1,0-0.2,0-0.4,0H60c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h15.3L20,75.3V60 c0-0.9-0.3-1.8-1-2.4c-0.6-0.6-1.5-1-2.4-1c-1.8,0-3.3,1.5-3.3,3.4v22.8c-0.2,1.1,0.2,2.1,0.9,2.9c0.8,0.8,1.8,1.1,2.9,0.9H40 c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H24.7L80,24.7V40c0,1.2,0.6,2.3,1.7,2.9c1,0.6,2.3,0.6,3.4,0 c1-0.6,1.7-1.7,1.7-2.9V17.1c0.1-1-0.2-2-0.8-2.7S84.2,13.3,83.3,13.3L83.3,13.3z"/>'),
          (om[ay] =
            '<path fill="currentColor" stroke="currentColor" d="M26.7,13.3c-7.2,0-13.3,6.1-13.3,13.3S19.4,40,26.7,40c1,0,2-0.1,3-0.4L40,50L29.6,60.4c-1-0.2-1.9-0.4-3-0.4 c-7.2,0-13.3,6.1-13.3,13.3c0,7.2,6.1,13.3,13.3,13.3c7.2,0,13.3-6.1,13.3-13.3c0-1-0.1-2-0.4-3L50,60l18.5,18.5 c3.1,3.1,7.4,4.9,11.8,4.9h7.4c2.1,0,3.2-2.6,1.7-4.1L39.6,29.6c0.2-1,0.4-1.9,0.4-3C40,19.4,33.9,13.3,26.7,13.3L26.7,13.3z M80.2,16.7c-4.4,0-8.7,1.8-11.8,4.9L54.7,35.3l10,10l24.6-24.6c1.5-1.5,0.4-4.1-1.7-4.1L80.2,16.7z M26.7,20 c3.6,0,6.7,3.1,6.7,6.7s-3.1,6.7-6.7,6.7S20,30.2,20,26.7S23.1,20,26.7,20z M50,46.7c1.8,0,3.3,1.5,3.3,3.3s-1.5,3.3-3.3,3.3 s-3.3-1.5-3.3-3.3S48.2,46.7,50,46.7z M26.7,66.7c3.6,0,6.7,3.1,6.7,6.7S30.2,80,26.7,80S20,76.9,20,73.3S23.1,66.7,26.7,66.7z"/>'),
          (om[ly] =
            '<path fill="currentColor" stroke="currentColor" d="M16.7,86.7c0.1,0,8.1-0.1,16.3-6.4c10.6-8.2,16.4-23.2,17-43.6H36.7c-1.3,0-2.6-0.8-3.1-2.1c-0.5-1.2-0.2-2.7,0.7-3.6 L57.6,7.6c1.3-1.3,3.4-1.3,4.7,0L85.7,31c1,1,1.2,2.4,0.7,3.6c-0.5,1.2-1.7,2.1-3.1,2.1H69.9c-1.8,55-47.9,56.7-53.3,56.7 c-1.8,0-3.3-1.5-3.3-3.3C13.3,88.2,14.8,86.7,16.7,86.7L16.7,86.7z"/>'),
          (om[cy] =
            '<path fill="currentColor" stroke="currentColor" d="M16.7,13.3c0.1,0,8.1,0.1,16.3,6.4c10.6,8.2,16.4,23.2,17,43.6H36.7c-1.3,0-2.6,0.8-3.1,2.1c-0.5,1.2-0.2,2.7,0.7,3.6 l23.3,23.3c1.3,1.3,3.4,1.3,4.7,0L85.7,69c1-1,1.2-2.4,0.7-3.6c-0.5-1.2-1.7-2.1-3.1-2.1H69.9C68.2,8.3,22,6.7,16.7,6.7 c-1.8,0-3.3,1.5-3.3,3.3C13.3,11.8,14.8,13.3,16.7,13.3L16.7,13.3z"/>'),
          (om[uy] =
            '<path fill="currentColor" stroke="currentColor" d="M49.9,9.9c-3.7,0.1-6.6,3.1-6.6,6.8V30H30c-2.4,0-4.6,1.2-5.9,3.3c-1.2,2.1-1.2,4.6,0,6.7c1.2,2.1,3.4,3.3,5.9,3.3h13.3 v13.3c0,2.4,1.2,4.6,3.3,5.9c2.1,1.2,4.6,1.2,6.7,0s3.3-3.4,3.3-5.9V43.3H70c2.4,0,4.6-1.2,5.9-3.3c1.2-2.1,1.2-4.6,0-6.7 C74.6,31.2,72.4,30,70,30H56.7V16.7c0-1.8-0.7-3.5-2-4.8C53.4,10.6,51.7,9.9,49.9,9.9z M30,73.3c-2.4,0-4.6,1.2-5.9,3.3 c-1.2,2.1-1.2,4.6,0,6.7c1.2,2.1,3.4,3.3,5.9,3.3h40c2.4,0,4.6-1.2,5.9-3.3c1.2-2.1,1.2-4.6,0-6.7c-1.2-2.1-3.4-3.3-5.9-3.3 L30,73.3z"/>'),
          (om[hy] =
            '<path fill="currentColor" stroke="currentColor" d="M76.4,11.7c3.7,3.8,5.6,8.9,5,14.3c-0.5,4-2.4,7.6-5.2,10.5c-2.6,2.6-6.7,6.7-9.2,9.2c-2,2-4.4,3.6-7.1,4.5 c-4.5,1.4-9,1-12.8-0.9l2.9-2.9c1.4,0.5,3,0.8,4.5,0.8c3.6,0,7-1.4,9.5-3.9l9.6-9.6c3.3-3.3,4.7-8.1,3.5-13 c-0.3-1.2-0.8-2.4-1.5-3.5C73,13,68.7,10.6,64,10.6c-3.6,0-7,1.4-9.5,3.9L45,24c-2.5,2.5-3.9,5.9-3.9,9.5c0,1.6,0.3,3.1,0.8,4.5 l-3,3c-1.1-2.3-1.7-4.8-1.7-7.5c0-0.7,0-1.4,0.1-2.1c0.5-3.8,2.2-7.4,5-10.2l9.4-9.4C54.5,9,58.2,7,62.1,6.6 C67.5,6.1,72.6,7.9,76.4,11.7L76.4,11.7z M54.4,34.7c0.3,0.7,0.1,1.6-0.4,2.1L30.9,59.9c-0.5,0.5-1.2,0.7-1.9,0.5 s-1.2-0.7-1.4-1.4s0-1.4,0.5-1.9L51.2,34c0.3-0.4,0.8-0.6,1.3-0.6C53.4,33.5,54.1,34,54.4,34.7z M35.1,44.9l-2.9,2.9 c-1.4-0.5-3-0.8-4.5-0.8c-3.6,0-7,1.4-9.5,3.9l-9.6,9.6c-3.3,3.4-4.7,8.1-3.5,13c0.3,1.2,0.8,2.4,1.5,3.5 c2.6,4.2,6.9,6.6,11.6,6.6c3.6,0,7-1.4,9.5-3.9l9.6-9.6c2.5-2.5,3.9-5.9,3.9-9.5c0-1.6-0.3-3.1-0.8-4.5l2.9-2.9 c1.1,2.3,1.7,4.8,1.7,7.5c0,3-0.8,5.9-2.2,8.5c-0.8,1-1.5,1.9-2.1,2.9c-0.3,0.3-0.5,0.6-0.8,0.8l-9.4,9.4 c-2.9,2.9-6.6,4.8-10.6,5.2c-6.2,0.6-12-1.9-15.8-6.9c-2.4-3.2-3.6-7.2-3.4-11.2c0-0.1,0-0.2,0-0.3c0.3-4.2,2-8.1,5-11.1l9.4-9.4 c2-2,4.4-3.6,7.1-4.5C26.8,42.6,31.3,43,35.1,44.9L35.1,44.9z"/><path fill="currentColor" stroke="currentColor" d="M99.2,69.3c0-0.2,0-0.2,0-0.4c0-0.2,0-0.2,0-0.4s0-0.2-0.2-0.4c0-0.2,0-0.2-0.2-0.4l0,0l-0.2-0.2l-0.2-0.2L79.2,53 c-0.6-0.4-1.3-0.6-1.9-0.2c-0.8,0.4-1.2,1-1.2,1.7V62c-8.1,0.4-14.6,3.1-19.2,8.1c-8.5,9-7.7,22.5-7.7,23.1c0,0.2,0,0.2,0,0.4 c0,0.2,0,0.2,0,0.4s0.2,0.2,0.2,0.4l0.2,0.2c0.2,0.2,0.2,0.2,0.4,0.2l0.2,0.2c0.2,0,0.4,0,0.6,0.2H51l0,0l0,0c0,0,0,0,0.2,0 s0.2,0,0.4,0s0.2,0,0.4-0.2c0.2,0,0.2-0.2,0.4-0.2s0.2-0.2,0.4-0.2c0,0,0.2-0.2,0.2-0.4c0-0.2,0.2-0.2,0.2-0.4s0-0.2,0-0.4 c0-0.2,0-0.2,0-0.4c0-0.8,0.6-16.6,23.1-17.5v7.3c0,0.8,0.4,1.3,1,1.7c0.6,0.4,1.3,0.2,1.9-0.2l19.2-14l0.2-0.2l0.2-0.2l0,0 c0-0.2,0.2-0.2,0.2-0.4L99.2,69.3L99.2,69.3z"/>'),
          (om[py] =
            '<path fill="currentColor" stroke="currentColor" d="M49.4,68.5c0,0.2,0,0.2,0.2,0.4l0,0l0.2,0.2l0.2,0.2l19.3,14.1c0.6,0.4,1.3,0.6,1.9,0.2c0.6-0.4,1-1,1-1.7v-7.3 c22.5,0.8,23.1,16.8,23.1,17.6c0,0.2,0,0.2,0,0.4s0,0.2,0,0.4s0.2,0.2,0.2,0.4s0.2,0.2,0.2,0.4c0,0,0.2,0.2,0.4,0.2 c0.2,0,0.2,0.2,0.4,0.2s0.2,0,0.4,0.2c0.2,0,0.2,0,0.4,0c0,0,0,0,0.2,0l0,0l0,0h0.2c0.2,0,0.4,0,0.6-0.2l0.2-0.2 c0.2,0,0.2-0.2,0.4-0.2l0.2-0.2c0-0.2,0.2-0.2,0.2-0.4s0-0.2,0-0.4s0-0.2,0-0.4c0-0.6,0.8-14.1-7.7-23.2c-4.6-5-11.2-7.7-19.3-8.1 v-7.5c0-0.8-0.4-1.4-1.2-1.7c-0.6-0.4-1.3-0.2-1.9,0.2L49.8,66.4l-0.2,0.2l-0.2,0.2l0,0c0,0.2,0,0.2,0,0.4 c-0.2,0.2-0.2,0.2-0.2,0.4s0,0.2,0,0.4s0,0.2,0,0.4C49.2,68.4,49.2,68.5,49.4,68.5L49.4,68.5z"/><path fill="currentColor" stroke="currentColor" d="M76.4,11.7c3.7,3.8,5.6,8.9,5,14.3c-0.5,4-2.4,7.6-5.2,10.5c-2.6,2.6-6.7,6.7-9.2,9.2c-2,2-4.4,3.6-7.1,4.5 c-4.5,1.4-9,1-12.8-0.9l2.9-2.9c1.4,0.5,3,0.8,4.5,0.8c3.6,0,7-1.4,9.5-3.9l9.6-9.6c3.3-3.3,4.7-8.1,3.5-13 c-0.3-1.2-0.8-2.4-1.5-3.5C73,13,68.7,10.6,64,10.6c-3.6,0-7,1.4-9.5,3.9L45,24c-2.5,2.5-3.9,5.9-3.9,9.5c0,1.6,0.3,3.1,0.8,4.5 l-3,3c-1.1-2.3-1.7-4.8-1.7-7.5c0-0.7,0-1.4,0.1-2.1c0.5-3.8,2.2-7.4,5-10.2l9.4-9.4C54.5,9,58.2,7,62.1,6.6 C67.5,6.1,72.6,7.9,76.4,11.7L76.4,11.7z M54.4,34.7c0.3,0.7,0.1,1.6-0.4,2.1L30.9,59.9c-0.5,0.5-1.2,0.7-1.9,0.5s-1.2-0.7-1.4-1.4 s0-1.4,0.5-1.9L51.2,34c0.3-0.4,0.8-0.6,1.3-0.6C53.4,33.5,54.1,34,54.4,34.7z M35.1,44.9l-2.9,2.9c-1.4-0.5-3-0.8-4.5-0.8 c-3.6,0-7,1.4-9.5,3.9l-9.6,9.6c-3.3,3.4-4.7,8.1-3.5,13c0.3,1.2,0.8,2.4,1.5,3.5c2.6,4.2,6.9,6.6,11.6,6.6c3.6,0,7-1.4,9.5-3.9 l9.6-9.6c2.5-2.5,3.9-5.9,3.9-9.5c0-1.6-0.3-3.1-0.8-4.5l2.9-2.9c1.1,2.3,1.7,4.8,1.7,7.5c0,3-0.8,5.9-2.2,8.5 c-0.8,1-1.5,1.9-2.1,2.9c-0.3,0.3-0.5,0.6-0.8,0.8l-9.4,9.4c-2.9,2.9-6.6,4.8-10.6,5.2c-6.2,0.6-12-1.9-15.8-6.9 c-2.4-3.2-3.6-7.2-3.4-11.2c0-0.1,0-0.2,0-0.3c0.3-4.2,2-8.1,5-11.1l9.4-9.4c2-2,4.4-3.6,7.1-4.5C26.8,42.6,31.3,43,35.1,44.9 L35.1,44.9z"/>'),
          (om[dy] =
            '<path fill="currentColor" stroke="currentColor" d="M23.3,6.7c-3.7,0-6.7,3-6.7,6.7v73.3c0,3.7,3,6.7,6.7,6.7h28.4c-3.2-4.8-5.1-10.5-5.1-16.7c0-16.6,13.4-30,30-30 c2.3,0,4.5,0.3,6.7,0.8V31.7c0-0.9-0.3-1.7-1-2.4L60.7,7.6c-0.6-0.6-1.5-1-2.4-1L23.3,6.7z M56.7,13L77,33.3H60 c-1.8,0-3.3-1.5-3.3-3.3L56.7,13z M76.7,53.3c-12.9,0-23.3,10.4-23.3,23.3S63.8,100,76.7,100S100,89.6,100,76.7 S89.6,53.3,76.7,53.3z M76.7,63.3c1.8,0,3.3,1.5,3.3,3.3v6.7h6.7c1.8,0,3.3,1.5,3.3,3.3c0,1.8-1.5,3.3-3.3,3.3H80v6.7 c0,1.8-1.5,3.3-3.3,3.3c-1.8,0-3.3-1.5-3.3-3.3V80h-6.7c-1.8,0-3.3-1.5-3.3-3.3s1.5-3.3,3.3-3.3h6.7v-6.7 C73.3,64.8,74.8,63.3,76.7,63.3L76.7,63.3z"/>'),
          (om[my] =
            '<path fill="currentColor" stroke="currentColor" d="M80,13.3H20c-3.7,0-6.7,3-6.7,6.7v60c0,3.7,3,6.7,6.7,6.7h60c3.7,0,6.7-3,6.7-6.7V20C86.7,16.3,83.7,13.3,80,13.3z M47,71.8H29.1v-4l7.4-7c3.5-3.2,4.3-4.4,4.3-5.8c0-1.7-1.3-2.9-3.2-2.9c-2,0-3.4,1.4-3.4,3.3v0.1h-5.5v-0.1 c0-4.7,3.6-7.8,9.1-7.8c5.3,0,8.8,2.8,8.8,7c0,2.6-1.5,4.9-5.7,8.6l-3.9,3.6v0.3H47L47,71.8z M71.4,52.9l-9.5,18.9h-6.3l9.8-18.6 v-0.3H54v-4.6h17.3V52.9z M80,33.3H20V20h60V33.3z"/>'),
          (om[gy] =
            '<path fill="currentColor" stroke="currentColor" d="M50,3.3c-1.8,0-3.3,1.5-3.3,3.3c0,0.3,0.1,0.6,0.2,0.8c-2.1,1.1-3.5,3.3-3.5,5.8c0,1.4,0.4,2.7,1.2,3.8 C26.9,19.8,13.3,35,13.3,53.3C13.3,73.5,29.8,90,50,90s36.7-16.5,36.7-36.7c0-18.3-13.6-33.6-31.2-36.2c0.7-1.1,1.2-2.4,1.2-3.8 c0-2.5-1.4-4.7-3.5-5.8c0.1-0.3,0.2-0.5,0.2-0.8C53.3,4.8,51.8,3.3,50,3.3L50,3.3z M50,23.3c16.6,0,30,13.4,30,30s-13.4,30-30,30 s-30-13.4-30-30S33.4,23.3,50,23.3z M49.9,30c-1.8,0-3.3,1.5-3.3,3.4v20c0,0.9,0.4,1.7,1,2.4l10,10c0.8,0.9,2.1,1.2,3.2,0.9 c1.2-0.3,2.1-1.2,2.4-2.4c0.3-1.2,0-2.4-0.9-3.2l-9-9V33.3c0-0.9-0.3-1.8-1-2.4C51.7,30.3,50.8,29.9,49.9,30z"/>'),
          (om[fy] =
            '<path fill="currentColor" stroke="currentColor" d="M26.7,13.3c-3.7,0-6.7,3-6.7,6.7v3.3h60c3.7,0,6.7,3,6.7,6.7v43.3H90c3.7,0,6.7-3,6.7-6.7V20c0-3.7-3-6.7-6.7-6.7 L26.7,13.3z M10,30c-3.7,0-6.7,3-6.7,6.7V80c0,3.7,3,6.7,6.7,6.7h63.3c3.7,0,6.7-3,6.7-6.7V36.7c0-3.7-3-6.7-6.7-6.7H10z M40,43.3 c1.8,0,3.3,1.5,3.3,3.3v10h10c1.8,0,3.3,1.5,3.3,3.3s-1.5,3.3-3.3,3.3h-10v10c0,1.8-1.5,3.3-3.3,3.3s-3.3-1.5-3.3-3.3v-10h-10 c-1.8,0-3.3-1.5-3.3-3.3s1.5-3.3,3.3-3.3h10v-10C36.7,44.8,38.2,43.3,40,43.3z"/>'),
          (om[vy] =
            '<path fill="currentColor" stroke="currentColor" d="M33.5,16.7c-4.9,0-9.1,3.6-9.9,8.4l-9.1,54.4c-0.2,1,0.1,2,0.7,2.7c0.6,0.7,1.6,1.2,2.5,1.2h70c1.6,0,3-1.2,3.3-2.8 l8.7-52.2c1-6-3.7-11.6-9.9-11.6H33.5z M3.4,36.7c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h7.7 c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H3.4z M28.5,36.7h63.2l-6.7,40H21.8L28.5,36.7z M39.7,46.7 c-1.6,0-3,1.1-3.3,2.7l-2.7,13.3c-0.2,1,0.1,2,0.7,2.8c0.6,0.8,1.6,1.2,2.6,1.2h36.6c1.6,0,3-1.1,3.3-2.7l2.7-13.3 c0.2-1-0.1-2-0.7-2.8c-0.6-0.8-1.6-1.2-2.6-1.2L39.7,46.7z M3.4,50c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4 c0.6,1,1.7,1.7,2.9,1.7H9c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H3.4z M3.4,63.3 c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7H7c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4 c-0.6-1-1.7-1.7-2.9-1.7H3.4z"/>'),
          (om[Ry] =
            '<path fill="currentColor" stroke="currentColor" d="M25.4,13.3c-2.5,0-4.8,1.4-6,3.7l-6.1,12.2V30v10v40c0,3.7,3,6.7,6.7,6.7h60c3.7,0,6.7-3,6.7-6.7V40V30v-0.8L80.6,17 c-1.1-2.2-3.4-3.7-6-3.7L25.4,13.3z M25.4,20h49.2l5,10H20.4L25.4,20z M40,36.7h20c1.8,0,3.3,1.5,3.3,3.3c0,1.8-1.5,3.3-3.3,3.3 H40c-1.8,0-3.3-1.5-3.3-3.3C36.7,38.2,38.2,36.7,40,36.7z"/>'),
          (om[yy] =
            '<path fill="currentColor" stroke="currentColor" d="M50,10c-1.2,0-2.5,0.2-3.7,0.7l-28.1,11c-2,0.8-2.1,3.6-0.1,4.5L48,38.9c0.6,0.3,1.3,0.4,2,0.4s1.3-0.1,2-0.4l29.8-12.6 c2-0.8,2-3.7-0.1-4.5l-28.1-11C52.5,10.2,51.2,10,50,10L50,10z M50,20c3.7,0,6.7,1.5,6.7,3.3c0,1.8-3,3.3-6.7,3.3 c-3.7,0-6.7-1.5-6.7-3.3C43.3,21.5,46.3,20,50,20z M12.9,31.7C11.4,31.9,10,33.2,10,35v33.5c0,3.8,2.1,7.3,5.6,9 c0,0,15.4,7.6,24.6,12.1c3,1.5,6.5-0.7,6.5-4.1V50.2c0-2.8-1.7-5.3-4.3-6.4L14.6,31.9C14,31.7,13.5,31.6,12.9,31.7L12.9,31.7z M87.1,31.7c-0.5-0.1-1.1,0-1.6,0.2L57.6,43.7c-2.6,1.1-4.3,3.6-4.3,6.4v35.2c0,3.4,3.5,5.6,6.5,4.1C69,85,84.4,77.4,84.4,77.4 c3.4-1.7,5.6-5.1,5.6-9V35C90,33.2,88.6,31.9,87.1,31.7L87.1,31.7z M19.3,41c0.2,0,0.4,0,0.7,0.1c1.8,0.6,3.3,3.3,3.3,6 c0,2.8-1.5,4.5-3.3,4c-1.8-0.6-3.3-3.3-3.3-6C16.7,42.6,17.8,40.9,19.3,41z M80.7,42.2c1.5,0,2.7,1.6,2.7,4.1c0,2.8-1.5,5.5-3.3,6 c-1.8,0.6-3.3-1.2-3.3-4c0-2.8,1.5-5.5,3.3-6C80.2,42.2,80.5,42.2,80.7,42.2L80.7,42.2z M67.3,47.6c1.5,0,2.7,1.6,2.7,4.1 c0,2.8-1.5,5.5-3.3,6c-1.8,0.6-3.3-1.2-3.3-4c0-2.8,1.5-5.5,3.3-6C66.9,47.7,67.1,47.6,67.3,47.6z M80.7,61c1.5,0,2.7,1.6,2.7,4.1 c0,2.8-1.5,5.5-3.3,6c-1.8,0.6-3.3-1.2-3.3-4s1.5-5.5,3.3-6C80.2,61,80.5,61,80.7,61L80.7,61z M32.7,67.6c0.2,0,0.4,0,0.7,0.1 c1.8,0.6,3.3,3.3,3.3,6c0,2.8-1.5,4.5-3.3,4c-1.8-0.6-3.3-3.3-3.3-6C30,69.3,31.1,67.6,32.7,67.6z M67.3,67.6 c1.5,0,2.7,1.6,2.7,4.1c0,2.8-1.5,5.5-3.3,6c-1.8,0.6-3.3-1.2-3.3-4c0-2.8,1.5-5.5,3.3-6C66.9,67.7,67.1,67.6,67.3,67.6z"/>'),
          (om[by] =
            '<path fill="currentColor" stroke="currentColor" d="M13.3,10c-3.7,0-6.7,3-6.7,6.7v10v50c0,3.7,3,6.7,6.7,6.7h4.3c1.2,2,3.3,3.3,5.7,3.3h10c2.4,0,4.6-1.4,5.7-3.3h21.9 c1.2,2,3.3,3.3,5.7,3.3h10c2.4,0,4.6-1.4,5.7-3.3h4.3c3.7,0,6.7-3,6.7-6.7V23.3c0-3.7-3-6.7-6.7-6.7H37.3l-2.1-3.4 c-1.2-2-3.4-3.2-5.7-3.2L13.3,10z M26.7,53.3h46.7c1.9,0,3.3,1.4,3.3,3.3V80h-10V66.7c0-1.8-1.5-3.3-3.3-3.3H36.7 c-1.8,0-3.3,1.5-3.3,3.3V80h-10V56.7C23.3,54.8,24.8,53.3,26.7,53.3L26.7,53.3z"/>'),
          (om[wy] =
            '<path fill="currentColor" stroke="currentColor" d="M56.7,6.7c-5.5,0-10,4.5-10,10c0,3.3,1.6,6.3,4.3,8.2L46.8,40c-0.1,0-0.1,0-0.2,0c-2.9,0-5.8,1-8.1,2.8l-12.4-9.6 c0.3-1,0.5-2.1,0.5-3.2c0-5.5-4.5-10-10-10s-10,4.5-10,10s4.5,10,10,10c1.9,0,3.8-0.6,5.4-1.6L34.4,48c-0.7,1.7-1.1,3.5-1.1,5.3 c0,2.6,0.8,5.2,2.3,7.4L23.8,74.1c-1.2-0.5-2.5-0.7-3.8-0.7c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10c0-1.7-0.4-3.3-1.2-4.8 l11.8-13.3c1.9,1,4,1.5,6.1,1.5c2.1,0,4.2-0.5,6.1-1.5l11.8,13.3c-0.8,1.5-1.2,3.1-1.2,4.8c0,5.5,4.5,10,10,10s10-4.5,10-10 s-4.5-10-10-10c-1.3,0-2.6,0.3-3.8,0.7L57.7,60.8c1.5-2.2,2.3-4.8,2.3-7.4c0-0.1,0-0.1,0-0.2L75.1,49c1.9,2.7,4.9,4.3,8.2,4.3 c5.5,0,10-4.5,10-10s-4.5-10-10-10c-5.2,0-9.6,4-10,9.3l-15.1,4.1c-1.2-2.1-2.9-3.8-5-5l4.1-15.1c5.2-0.4,9.3-4.7,9.3-10 C66.7,11.1,62.2,6.7,56.7,6.7L56.7,6.7z"/>'),
          (om[ky] =
            '<path fill="currentColor" stroke="currentColor" d="M20,13.3c-3.7,0-6.7,3-6.7,6.7v10c0,1.8,1.5,3.3,3.3,3.3h66.7c1.8,0,3.3-1.5,3.3-3.3V20c0-3.7-3-6.7-6.7-6.7H20z M16.7,40 c-1.8,0-3.3,1.5-3.3,3.3v13.3c0,1.8,1.5,3.3,3.3,3.3h66.7c1.8,0,3.3-1.5,3.3-3.3V43.3c0-1.8-1.5-3.3-3.3-3.3L16.7,40z M16.7,66.7 c-1.8,0-3.3,1.5-3.3,3.3v10c0,3.7,3,6.7,6.7,6.7h27.3c-0.8-2.3-0.8-4.9,0.1-7.2c0.5-1.2,1.2-2.3,2.2-3.2l9.6-9.6L16.7,66.7z M70,66.7c-0.9,0-1.7,0.3-2.4,1L54.3,81c-0.3,0.3-0.6,0.7-0.7,1.1c-0.3,0.8-0.3,1.7,0,2.6c0.2,0.4,0.4,0.8,0.7,1.1L67.6,99 c0.6,0.7,1.5,1,2.4,1s1.7-0.3,2.4-1c1.3-1.3,1.3-3.4,0-4.7l-7.6-7.6h32c1.8,0,3.3-1.5,3.3-3.3c0-1.8-1.5-3.3-3.3-3.3h-32l7.6-7.6 c1.3-1.3,1.3-3.4,0-4.7C71.7,67,70.9,66.7,70,66.7z"/>'),
          (om[Cy] =
            '<path fill="currentColor" stroke="currentColor" d="M50,10c-22.1,0-40,17.9-40,40s17.9,40,40,40s40-17.9,40-40S72.1,10,50,10z M50,16.7c18.4,0,33.3,14.9,33.3,33.3 S68.4,83.3,50,83.3S16.7,68.4,16.7,50S31.6,16.7,50,16.7z M63.3,33.3c-0.4,0-0.7,0.1-1,0.2l-30,10C31,44,30,45.2,30,46.7 c0,1.6,1.1,2.9,2.6,3.2l14,3.5l3.5,14c0.3,1.5,1.6,2.6,3.2,2.6c1.5,0,2.7-1,3.1-2.3l10-30c0.1-0.3,0.2-0.7,0.2-1 C66.7,34.8,65.2,33.3,63.3,33.3L63.3,33.3z"/>'),
          (om[xy] =
            '<path fill="currentColor" stroke="currentColor" d="M16.7,13.3c-3.7,0-6.7,3-6.7,6.7v10v45.9l6.7-6.7V30h66.7v53.3H30.8L24.1,90H90V30v-3.3V20c0-3.7-3-6.7-6.7-6.7L16.7,13.3 z M34,50c-1.5,0-2.2,1.8-1.2,2.8l4.8,4.8L12.4,82.9c-1.3,1.3-1.3,3.4,0,4.7c1.3,1.3,3.4,1.3,4.7,0l25.3-25.3l4.8,4.8 c1,1,2.8,0.3,2.8-1.2V51.7c0-0.9-0.7-1.7-1.7-1.7H34z"/>'),
          (om[Sy] =
            '<path fill="currentColor" stroke="currentColor" d="M20,16.7c-3.7,0-6.7,3-6.7,6.7s3,6.7,6.7,6.7s6.7-3,6.7-6.7S23.7,16.7,20,16.7z M40,20c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h43.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H40z M20,43.3c-3.7,0-6.7,3-6.7,6.7s3,6.7,6.7,6.7s6.7-3,6.7-6.7S23.7,43.3,20,43.3z M40,46.7c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4s1.7,1.7,2.9,1.7h43.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H40z M20,70 c-3.7,0-6.7,3-6.7,6.7c0,3.7,3,6.7,6.7,6.7s6.7-3,6.7-6.7C26.7,73,23.7,70,20,70z M40,73.3c-1.2,0-2.3,0.6-2.9,1.7 c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h43.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H40z"/>'),
          (om[My] =
            '<path fill="currentColor" stroke="currentColor" d="M86.7,10c-0.3,0-0.6,0.1-0.9,0.1c-0.1,0-0.2,0.1-0.3,0.1L12.2,33.5v0C10.9,34,10,35.3,10,36.7c0,1.2,0.6,2.2,1.6,2.8 l22.3,17.7l44-35.1l-35.1,44l17.7,22.3c0.6,1,1.7,1.6,2.9,1.6c1.4,0,2.6-0.9,3.1-2.2h0l23.3-73.4c0-0.1,0-0.1,0.1-0.2 c0.1-0.3,0.1-0.6,0.1-0.9C90,11.5,88.5,10,86.7,10L86.7,10z"/>'),
          (om[Ey] =
            '<path fill="currentColor" stroke="currentColor" d="M6.7,10c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7h86.7c1.2,0,2.3-0.6,2.9-1.7 c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7L6.7,10z M6.7,23.3v50c0,3.7,3,6.7,6.7,6.7h33.3v4.2c-2.1,1.2-3.3,3.4-3.3,5.8 c0,3.7,3,6.7,6.7,6.7c3.7,0,6.7-3,6.7-6.7c0-2.4-1.3-4.6-3.3-5.8V80h33.3c3.7,0,6.7-3,6.7-6.7v-50L6.7,23.3z M36.7,33.3 c7.4,0,13.3,6,13.3,13.3H36.7V33.3z M30,40v13.3h13.3c0,7.4-6,13.3-13.3,13.3s-13.3-6-13.3-13.3S22.6,40,30,40z M63.3,40H80 c1.8,0,3.3,1.5,3.3,3.3c0,1.8-1.5,3.3-3.3,3.3H63.3c-1.8,0-3.3-1.5-3.3-3.3C60,41.5,61.5,40,63.3,40z M63.3,53.3H80 c1.8,0,3.3,1.5,3.3,3.3c0,1.8-1.5,3.3-3.3,3.3H63.3c-1.8,0-3.3-1.5-3.3-3.3C60,54.8,61.5,53.3,63.3,53.3z"/>'),
          (om[Ly] =
            '<path fill="currentColor" stroke="currentColor" d="M50,10c-22.1,0-40,17.9-40,40s17.9,40,40,40s40-17.9,40-40S72.1,10,50,10z M50,75c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5 C55,72.8,52.8,75,50,75z M56.9,51.7c-2.2,2-3.6,3.4-3.6,5h-6.7c0-4.6,3.2-7.6,5.7-9.9c2.7-2.5,4.3-4.1,4.3-6.8 c0-3.7-3-6.7-6.7-6.7c-3.7,0-6.7,3-6.7,6.7h-6.7c0-7.4,6-13.3,13.3-13.3s13.3,6,13.3,13.3C63.3,45.7,59.8,49,56.9,51.7L56.9,51.7z "/>'),
          (om[Ay] =
            '<path fill="currentColor" stroke="currentColor" d="M82.4,29.3L60.7,7.6c-0.6-0.6-1.5-1-2.4-1h-35c-3.7,0-6.7,3-6.7,6.7v73.3c0,3.7,3,6.7,6.7,6.7h53.3c3.7,0,6.7-3,6.7-6.7 v-55C83.3,30.8,83,29.9,82.4,29.3L82.4,29.3z M50,80c-1.8,0-3.3-1.5-3.3-3.3s1.5-3.3,3.3-3.3c7.4,0,13.3-6,13.3-13.3 s-6-13.3-13.3-13.3s-13.3,6-13.3,13.3h6.7l-10,13.3L23.3,60H30c0-11,9-20,20-20s20,9,20,20S61,80,50,80L50,80z M60,33.3 c-1.8,0-3.3-1.5-3.3-3.3V13L77,33.3H60z"/>'),
          (om[Dy] =
            '<path fill="currentColor" stroke="currentColor" d="M43.3,10C25,10,10,25,10,43.3s15,33.3,33.3,33.3c8,0,15.3-2.8,21.1-7.5L84.3,89c0.8,0.9,2.1,1.2,3.2,0.9 c1.2-0.3,2.1-1.2,2.4-2.4c0.3-1.2,0-2.4-0.9-3.2L69.1,64.4c4.7-5.7,7.5-13.1,7.5-21.1C76.7,25,61.7,10,43.3,10L43.3,10z M43.3,16.7C58.1,16.7,70,28.6,70,43.3S58.1,70,43.3,70S16.7,58.1,16.7,43.3S28.6,16.7,43.3,16.7z"/>'),
          (om[Ty] =
            '<path fill="currentColor" stroke="currentColor" d="M52.5,8.1l9.6,28.4l29.9,0.3c2.6,0,3.6,3.3,1.6,4.8l-24,17.9l8.9,28.6c0.8,2.5-2,4.5-4.1,3L50,73.8L25.6,91.1 c-2.1,1.5-4.9-0.5-4.1-3l8.9-28.6l-24-17.9c-2.1-1.5-1-4.8,1.6-4.8l29.9-0.3l9.6-28.4C48.3,5.7,51.7,5.7,52.5,8.1z"/>'),
          (om[Py] =
            '<path fill="currentColor" stroke="currentColor" d="M50,10c-22.1,0-40,17.9-40,40s17.9,40,40,40s40-17.9,40-40S72.1,10,50,10z M67.7,51.3L42.3,66C41,66.7,40,66.1,40,64.6 V35.4c0-1.5,1-2.1,2.3-1.3l25.4,14.6C69,49.4,69,50.6,67.7,51.3z"/>'),
          (om[Oy] =
            '<path fill="currentColor" stroke="currentColor" d="M50,10c-22.1,0-40,17.9-40,40s17.9,40,40,40s40-17.9,40-40S72.1,10,50,10z M66.7,63.3c0,1.8-1.5,3.3-3.3,3.3H36.7 c-1.8,0-3.3-1.5-3.3-3.3V36.7c0-1.8,1.5-3.3,3.3-3.3h26.7c1.8,0,3.3,1.5,3.3,3.3V63.3z"/>'),
          (om[Fy] =
            '<path fill="currentColor" stroke="currentColor" d="M20,13.3c-3.7,0-6.7,3-6.7,6.7v60c0,3.7,3,6.7,6.7,6.7h60c3.7,0,6.7-3,6.7-6.7V20c0-3.7-3-6.7-6.7-6.7L20,13.3z M20,20h60 v13.3H20L20,20z M66.6,46.3h4.6v25h-4.2l-0.2-1.8c-0.4,0.7-1,1.2-1.6,1.5c-0.6,0.4-1.3,0.6-2.1,0.6c-1.9,0-3.3-0.7-4.3-2.2 c-1-1.4-1.5-3.6-1.5-6.3V62c0-2.9,0.5-5,1.5-6.5c1-1.4,2.4-2.1,4.3-2.1c0.7,0,1.3,0.2,1.9,0.5c0.6,0.3,1.1,0.7,1.5,1.3V46.3z M50.8,47.6h0.5v23.7h-4.6V53.2L42.1,55v-3.8L50.8,47.6z M29.5,51.7h4.4V58h4.6v4.3h0h-4.6v6.6h-4.4v-6.6h-4.7V58h4.7L29.5,51.7z M64.5,57.2c-0.5,0-0.8,0.1-1.1,0.3c-0.3,0.2-0.6,0.5-0.8,0.8c-0.2,0.4-0.3,0.9-0.4,1.5c-0.1,0.6-0.1,1.3-0.1,2.1v1.2 c0,0.8,0,1.5,0.1,2.1s0.2,1.1,0.4,1.5c0.2,0.4,0.4,0.7,0.8,0.8c0.3,0.2,0.7,0.3,1.2,0.3c0.5,0,0.9-0.1,1.2-0.3s0.6-0.5,0.8-0.9v-8 c-0.2-0.4-0.5-0.7-0.8-1C65.4,57.4,65,57.2,64.5,57.2L64.5,57.2z"/>'),
          (om[By] =
            '<path fill="currentColor" stroke="currentColor" d="M20,13.3c-3.7,0-6.7,3-6.7,6.7v60c0,3.7,3,6.7,6.7,6.7h60c3.7,0,6.7-3,6.7-6.7V20c0-3.7-3-6.7-6.7-6.7L20,13.3z M20,20h60 v13.3H20L20,20z M64.7,46.3h4.6v25h-4.2L65,69.5c-0.4,0.7-1,1.2-1.6,1.5c-0.6,0.4-1.3,0.6-2.1,0.6c-1.9,0-3.3-0.7-4.3-2.2 s-1.5-3.6-1.5-6.3V62c0-2.9,0.5-5,1.5-6.5c1-1.4,2.4-2.1,4.3-2.1c0.7,0,1.4,0.2,1.9,0.5c0.6,0.3,1.1,0.7,1.5,1.3L64.7,46.3z M48.9,47.6h0.5v23.7h-4.6V53.2L40.2,55v-3.8L48.9,47.6z M62.7,57.2c-0.5,0-0.8,0.1-1.1,0.3c-0.3,0.2-0.6,0.5-0.8,0.8 c-0.2,0.4-0.3,0.9-0.4,1.5c-0.1,0.6-0.1,1.3-0.1,2.1v1.2c0,0.8,0,1.5,0.1,2.1c0.1,0.6,0.2,1.1,0.4,1.5c0.2,0.4,0.4,0.7,0.7,0.8 c0.3,0.2,0.7,0.3,1.2,0.3c0.5,0,0.9-0.1,1.2-0.3c0.3-0.2,0.6-0.5,0.8-0.9v-8c-0.2-0.4-0.5-0.7-0.8-1 C63.5,57.4,63.1,57.2,62.7,57.2L62.7,57.2z M27.6,59.2h8v3.8h-8V59.2z"/>'),
          (om[Iy] =
            '<path fill="currentColor" stroke="currentColor" d="M66.7,6.7c-1,0-2,0.5-2.5,1.5l-4.6,8l-8.9-2.5c-2.2-0.6-4.2,1.4-3.6,3.6l2.5,8.9l-8,4.6c-2,1.1-2,4,0,5.1l8,4.6l0,0 l11.7-11.7c2.8-2.8,7.2-2.8,10,0c2.8,2.8,2.8,7.2,0,10L59.6,50.4l0,0l4.6,8c1.1,2,4,2,5.1,0l4.6-8l8.9,2.5 c2.2,0.6,4.2-1.4,3.6-3.6l-2.5-8.9l8-4.6c2-1.1,2-4,0-5.1l-8-4.6l2.5-8.9c0.6-2.2-1.4-4.2-3.6-3.6l-8.9,2.5l-4.6-8 C68.7,7.2,67.7,6.7,66.7,6.7L66.7,6.7z M49.5,40.5L12.1,77.9c-2.8,2.8-2.8,7.2,0,10s7.2,2.8,10,0l37.5-37.5L49.5,40.5z M63.3,66.6 c-1.8,0-3.3,1.5-3.3,3.4v3.3h-3.3c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4c0.6,1,1.7,1.7,2.9,1.7H60v3.3 c0,1.2,0.6,2.3,1.7,2.9c1,0.6,2.3,0.6,3.4,0c1-0.6,1.7-1.7,1.7-2.9V80H70c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4 c-0.6-1-1.7-1.7-2.9-1.7h-3.3V70c0-0.9-0.3-1.8-1-2.4C65.1,67,64.2,66.6,63.3,66.6L63.3,66.6z M86.6,76.6c-1.8,0-3.3,1.5-3.3,3.4 v3.3H80c-1.2,0-2.3,0.6-2.9,1.7c-0.6,1-0.6,2.3,0,3.4S78.8,90,80,90h3.3v3.3c0,1.2,0.6,2.3,1.7,2.9c1,0.6,2.3,0.6,3.4,0 c1-0.6,1.7-1.7,1.7-2.9V90h3.3c1.2,0,2.3-0.6,2.9-1.7c0.6-1,0.6-2.3,0-3.4c-0.6-1-1.7-1.7-2.9-1.7H90V80c0-0.9-0.3-1.8-1-2.4 C88.4,77,87.5,76.6,86.6,76.6L86.6,76.6z"/>'),
          (om[Ny] =
            '<path fill="currentColor" stroke="currentColor" d="M16.7,13.3c-3.7,0-6.7,3-6.7,6.7v46.7c0,3.7,3,6.7,6.7,6.7h6.6c3.3-2.4,7.2-3.6,9.9-4.4c1-0.3,2.4-0.7,3.5-1.1v-1.2 c-1.8-2.2-2.9-4-3.5-5.4c-0.4-0.4-0.7-0.8-1-1.2H16.7V20h66.7v40H67.6c-0.2,0.3-0.4,0.6-0.6,0.8c-0.6,1.5-1.6,3.4-3.6,5.8v1.2 c1,0.4,2.4,0.8,3.5,1.1c2.8,0.8,6.6,2,9.9,4.4h6.6c3.7,0,6.7-3,6.7-6.7V20c0-3.7-3-6.7-6.7-6.7L16.7,13.3z M50,30 c-8.1,0-14.6,4.9-14.6,13.6c0,3.7,2.1,6.5,2.1,6.5s-0.9,0.5-0.9,2.4c0,3.8,2.5,4.7,2.5,4.7c0.3,2.3,3.1,5.5,4.4,6.8v7 c-4.1,5.8-20,3.1-20,15.6h53.3c0-12.5-15.9-9.7-20-15.6v-7c1.3-1.3,4.1-4.5,4.4-6.8c0,0,2.5-1.7,2.5-4.7c0-2.1-0.9-2.4-0.9-2.4 s1.7-3.2,1.7-6.3c0-6.1-3.1-10.9-8.2-10.9C56,33,53.8,30,50,30z"/>'),
          (om[zy] =
            '<path fill="currentColor" stroke="currentColor" d="M40,13.3c-3.6,0-6.7,3-6.7,6.7v6.7H20c-3.6,0-6.7,3-6.7,6.7V80c0,3.6,3,6.7,6.7,6.7h40c3.6,0,6.7-3,6.7-6.7v-6.7H80 c3.6,0,6.7-3,6.7-6.7V20c0-3.6-3-6.7-6.7-6.7H40z M40,20h40v46.7H63.3c-1.8,0-3.3,1.5-3.3,3.3v10H20V33.3h16.7 c1.8,0,3.3-1.5,3.3-3.3V20z M70,30L60,40l10,10V30z M43.3,36.7c-1.8,0-3.3,1.5-3.3,3.3c0,1.8,1.5,3.3,3.3,3.3s3.3-1.5,3.3-3.3 S45.2,36.7,43.3,36.7z M50,46.7c-1.8,0-3.3,1.5-3.3,3.3s1.5,3.3,3.3,3.3s3.3-1.5,3.3-3.3S51.8,46.7,50,46.7z M30,50v20l10-10 L30,50z M56.7,56.7c-1.8,0-3.3,1.5-3.3,3.3s1.5,3.3,3.3,3.3S60,61.8,60,60S58.5,56.7,56.7,56.7z"/>'),
          (om[Hy] =
            '<path fill="currentColor" stroke="currentColor" d="M68,4c-0.1,0-0.2,0-0.3,0H40v36H14v56h46V60h26V22.3c0-0.2,0-0.4,0-0.7v-0.5l-0.4-0.4c-0.1-0.1-0.2-0.3-0.4-0.4 c0,0,0,0,0,0L69.6,4.8c-0.1-0.1-0.2-0.3-0.4-0.4L68.8,4h-0.5C68.2,4,68.1,4,68,4L68,4z M44,8h22v16h16v32H58.8l-3.4-3.4l-2.8,2.8 l3.4,3.4V92H18V44h23.3l3.3,3.3l2.8-2.8L44,41L44,8z M70,10.8l9.2,9.2H70V10.8z M66.6,30.6l-8,8L54,34v12h12l-4.6-4.6l8-8 L66.6,30.6z M34,54l4.6,4.6l-8,8l2.8,2.8l8-8L46,66V54L34,54z"/>'),
          (om[Vy] =
            '<path fill="currentColor" stroke="currentColor" d="M38,0v12l4,4V4h30v24h24v52H66v4h34V25.2L74.8,0L38,0z M76,6.8L93.2,24H76V6.8z M0,16v84h62V41.2l-0.6-0.6l-24-24L36.8,16 L0,16z M4,20h30v24h24v52H4L4,20z M38,22.9L55.1,40H38V22.9z"/>'),
          (om[qy] =
            '<path fill="currentColor" stroke="currentColor" d="M15.2,4C9.4,4,5.4,6.5,3.1,9.5S0,16,0,18.4c0,4.2,1.8,10.7,9.9,14.3c8,3.6,16.8,5.3,24.3,16.3 C26.7,60.1,17.9,61.7,9.9,65.3C1.8,68.9,0,75.4,0,79.6c0,2.4,0.7,5.8,3.1,8.9S9.4,94,15.2,94c6.1,0,10.2-2.8,12.6-6.1 c2.3-3.2,3.1-6.6,3.1-8.7c0-3.1-1.1-7.1-3.9-9.6c0.2-0.2,0.6-0.6,1.2-0.9c0,0,0.1,0,0.1,0c3.4-1.8,15.4-9.2,16.7-9.9l4.3,3.1 l27.3,19.6h0.1c0.1,0,3,2.3,7.2,3.5c4.3,1.3,10.2,1.5,15.4-2.8c0.5-0.4,0.8-1,0.8-1.6c0-0.6-0.3-1.2-0.8-1.6L61.8,51.5L58.4,49 l40.7-30.1c0.5-0.4,0.8-1,0.8-1.6c0-0.6-0.3-1.2-0.8-1.6c-2.6-2.1-5.4-3.2-8.1-3.5c-2.7-0.3-5.2,0.1-7.4,0.7 c-4.2,1.2-7.2,3.5-7.2,3.5h-0.1L44.9,39.1c-1.3-0.8-13.3-8.1-16.7-9.9c-0.6-0.3-1-0.7-1.2-0.9c2.8-2.5,3.9-6.4,3.9-9.6 c0-2.1-0.7-5.5-3.1-8.7S21.3,4,15.2,4L15.2,4z M15.2,8c4.9,0,7.6,2,9.3,4.4s2.3,5.4,2.3,6.3c0,2-1.2,5.5-2.7,6.8 c-0.7,0.6-1.3,1.4-1.5,2.4c-0.2,1,0.2,1.9,0.6,2.6c0.9,1.2,2,1.8,2.9,2.3c2.5,1.4,11.9,7.1,15.1,9l-4.4,3.1 c-0.2,0.1-0.4,0.3-0.5,0.5c-8-10.8-17.8-13.1-24.9-16.2C4.8,26.1,4,21.6,4,18.4c0-1.5,0.6-4.3,2.2-6.4S10.5,8,15.2,8z M14.7,11.5 c-4.2,0-7.6,3.6-7.1,7.9c0.5,4.2,4.3,7.4,8.5,7.4c4.4,0,7.3-4.2,6.8-8.4C22.4,14.3,18.7,11.5,14.7,11.5z M14.7,15.5 c2.2,0,4,1.4,4.2,3.4c0.2,2.1-1.1,3.9-2.9,3.9c-2,0-4.3-1.9-4.5-3.9S12.6,15.5,14.7,15.5z M89.1,16.1c0.5,0,1,0,1.5,0.1 c1.2,0.1,2.5,0.6,3.8,1.3L44.2,54.5c-0.5,0.1-0.9,0.4-1.1,0.8c-0.8,0.5-14,8.4-16.9,10c-0.9,0.5-2.1,1-2.9,2.3 c-0.4,0.6-0.8,1.6-0.6,2.6c0.2,1,0.8,1.8,1.5,2.4c1.4,1.2,2.7,4.8,2.7,6.8c0,0.9-0.6,3.9-2.3,6.3S20.2,90,15.2,90 c-4.8,0-7.4-1.8-9-3.9C4.6,83.9,4,81.1,4,79.6c0-3.3,0.8-7.7,7.5-10.7c8.1-3.6,19.5-6.1,28-21.1l39.4-28.2c0,0,0,0,0.1-0.1 c0,0,2.5-1.9,6-2.9C86.3,16.4,87.6,16.1,89.1,16.1z M46,45.8c-1.2,0-2.2,1-2.2,2.2c0,1.2,1,2.2,2.2,2.2s2.2-1,2.2-2.2 C48.2,46.8,47.2,45.8,46,45.8z M55.1,51.5l4.4,3.2l35,25.9c-3.3,1.7-6.6,1.5-9.5,0.7c-3.5-1-6-2.9-6-2.9c0,0,0,0-0.1-0.1 L51.5,58.7l-3.2-2.3L55.1,51.5z M16.1,71.2c-4.2,0-8,3.2-8.5,7.4c-0.5,4.2,2.9,7.9,7.1,7.9c4,0,7.7-2.8,8.2-6.9 C23.4,75.4,20.5,71.2,16.1,71.2L16.1,71.2z M16.1,75.2c1.8,0,3.1,1.8,2.9,3.9c-0.2,2.1-2,3.4-4.2,3.4c-2,0-3.4-1.4-3.1-3.4 C11.8,77.1,14.1,75.2,16.1,75.2L16.1,75.2z"/>'),
          (om[jy] =
            '<path fill="currentColor" stroke="currentColor" d="M29.6,0c-1,0.2-1.6,1-1.6,2v2H11.8C8.6,4,6,6.6,6,9.8V86c0,3.3,2.6,6,5.8,6H32v-4H11.8C11,88,10,87.1,10,86V9.8 C10,9,11,8,11.8,8H28v4H14v72h18v-4H18V16h10v2c0,1.1,0.9,2,2,2h28c1.1,0,2-0.9,2-2v-2h10v12h4V12H60V8h16.2C77,8,78,9,78,9.8V28 h4V9.8C82,6.6,79.4,4,76.2,4H60V2c0-1.1-0.9-2-2-2H30c-0.1,0-0.1,0-0.2,0C29.8,0,29.7,0,29.6,0L29.6,0z M32,4h24v12H32V4z M35.6,30c-1,0.2-1.6,1-1.6,2v66c0,1.1,0.9,2,2,2h56c1.1,0,2-0.9,2-2V32c0-1.1-0.9-2-2-2H36c-0.1,0-0.1,0-0.2,0S35.7,30,35.6,30z M38,34h52v62H38V34z M47.4,46c-1.1,0.2-1.9,1.2-1.7,2.3c0.2,1.1,1.2,1.9,2.3,1.7h34c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2 c-0.4-0.6-1-1-1.8-1H48c-0.1,0-0.1,0-0.2,0c-0.1,0-0.1,0-0.2,0C47.6,46,47.5,46,47.4,46L47.4,46z M47.4,58 c-1.1,0.2-1.9,1.2-1.7,2.3c0.2,1.1,1.2,1.9,2.3,1.7h24c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H48 c-0.1,0-0.1,0-0.2,0c-0.1,0-0.1,0-0.2,0C47.6,58,47.5,58,47.4,58L47.4,58z M47.4,70c-1.1,0.2-1.9,1.2-1.7,2.3 c0.2,1.1,1.2,1.9,2.3,1.7h34c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H48c-0.1,0-0.1,0-0.2,0 c-0.1,0-0.1,0-0.2,0C47.6,70,47.5,70,47.4,70L47.4,70z M47.4,82c-1.1,0.2-1.9,1.2-1.7,2.3c0.2,1.1,1.2,1.9,2.3,1.7h24 c0.7,0,1.4-0.4,1.8-1c0.4-0.6,0.4-1.4,0-2c-0.4-0.6-1-1-1.8-1H48c-0.1,0-0.1,0-0.2,0c-0.1,0-0.1,0-0.2,0C47.6,82,47.5,82,47.4,82 L47.4,82z"/>'),
          (om[Uy] =
            '<path fill="currentColor" stroke="currentColor" d="M38,2c-1,0-2.1,0.4-2.9,1.1C34.4,3.9,34,5,34,6H18c-3.3,0-6,2.7-6,6v76c0,3.3,2.7,6,6,6h64c3.3,0,6-2.7,6-6V12 c0-3.3-2.7-6-6-6H66c0-1-0.4-2.1-1.1-2.9C64.1,2.4,63,2,62,2L38,2z M38,6h24v12H38V6z M18,10h16v4H20v72h60V14H66v-4h16 c1.1,0,2,0.9,2,2v76c0,1.1-0.9,2-2,2H18c-1.1,0-2-0.9-2-2V12C16,10.9,16.9,10,18,10z M24,18h10c0,1,0.4,2.1,1.1,2.9 C35.9,21.6,37,22,38,22h24c1,0,2.1-0.4,2.9-1.1C65.6,20.1,66,19,66,18h10v64H24V18z M38,38v4h10v22h4V42h10v-4L38,38z"/>'),
          (om[Wy] =
            '<path fill="currentColor" stroke="currentColor" d="M98.8,20l-1.4-1.4l-14-14c-0.8-0.8-2.1-0.8-2.9,0c-0.8,0.8-0.8,2.1,0,2.9L91.1,18H70c-17,0-30.8,13.3-31.9,30H0v4h38.2 C39.2,68.7,53,82,70,82h21.1L80.6,92.6c-0.8,0.8-0.8,2.1,0,2.9c0.8,0.8,2.1,0.8,2.9,0l14-14l1.4-1.4l-1.4-1.4l-14-14 c-0.8-0.8-2.1-0.8-2.9,0s-0.8,2.1,0,2.9L91.1,78H70c-15.5,0-28-12.5-28-28s12.5-28,28-28h21.1L80.6,32.6c-0.8,0.8-0.8,2.1,0,2.9 s2.1,0.8,2.9,0l14-14L98.8,20z"/>'),
          (om[_y] =
            '<path fill="currentColor" stroke="currentColor" d="M0,0v18h4V4h14V0L0,0z M26,0v4h20V0H26z M54,0v4h20V0H54z M82,0v4h14v14h4V0H82z M22,24v4h56v-4H22z M0,26v20h4V26H0z M96,26v20h4V26H96z M22,40v4h48v-4H22z M0,54v20h4V54H0z M96,54v20h4V54H96z M22,56v4h56v-4H22z M22,72v4h48v-4H22z M0,82v18h18 v-4H4V82H0z M96,82v14H82v4h18V82L96,82z M26,96v4h20v-4H26z M54,96v4h20v-4H54z"/>'),
          (om[Gy] =
            '<path fill="currentColor" stroke="currentColor" d="M67.1,0.1l-2,5.3L60.3,18l-12.2-6.2L43,9.3l2.4,5.2l5.7,12.4L38,31.1l-5.4,1.8l5.3,2l11,4.3L35.6,52.6 c-0.1,0.1-0.3,0.3-0.4,0.5L4,84.2l-0.1,0.1c-2.5,2.7-2.5,7,0.1,9.6l2.3,2.2c2.7,2.5,7,2.5,9.6-0.1l31.6-31.6l3.2-3.3l9.6-9.6 l3.5,10.4l1.8,5.2l2-5.1l5-12.8l12.1,6l5,2.5l-7.8-17.4l12.9-4.1l5.3-1.7l-5.2-2l-12.7-5l6.2-12.1l2.6-5.1l-5.2,2.3l-12.4,5.6 L68.9,5.4L67.1,0.1z M66.9,11.9l3.3,9.7l0.7,2.1l2-0.9l9.3-4.1l-4.6,8.9l-1,1.9l2.1,0.8l9.6,3.8l-9.7,3.1L76.3,38l0.9,2l4.1,9.3 l-11-5.5l-0.8,2.1l-3.8,9.7l-2.4-7.1l6.4-6.4c2.6-2.6,2.5-6.8,0.1-9.6l-0.1-0.1l-2.3-2.1c0,0,0,0-0.1-0.1 c-1.4-1.3-3.1-1.9-4.7-1.9c-1.6,0-3.4,0.6-4.8,2h-0.1L52,36l-7.4-2.9l9.9-3.3l2.1-0.7l-0.9-2l-4.2-9.3l9.1,4.6l2,1l0.8-2.1 L66.9,11.9z M62.6,32.2c0.8,0,1.3,0.2,1.9,0.8l0.1,0.1l2.3,2.1c1.1,1.3,1.1,3,0.1,4.1L49.2,56.9l-6.1-6.1L60.6,33 C61.2,32.4,61.9,32.2,62.6,32.2z M40.3,53.6l6.1,6.1l-1.8,1.8c-0.1,0.1-0.2,0.2-0.3,0.3L13,93.2c-1,1-2.7,1.1-4,0l-0.1-0.1 l-1.8-1.9L6.8,91c-1-1-1.1-2.7,0-4l31.3-31.3c0.1,0,0.1-0.1,0.2-0.1L40.3,53.6z M82,66.5l-1.9,4.8l-2.5,6.4l-6.4,2.5L66.5,82 l4.8,1.9l6.4,2.5l2.5,6.4l1.9,4.8l1.9-4.8l2.5-6.4l6.4-2.5l4.8-1.9l-4.8-1.9l-6.4-2.5l-2.5-6.4L82,66.5z M56.4,68l-2,5l-5,2l5,2 l2,5l2-5l5-2l-5-2L56.4,68z M82,77.6l0.9,2.4l0.3,0.8l0.8,0.3l2.4,0.9l-2.4,0.9l-0.8,0.3l-0.3,0.8L82,86.4l-0.9-2.4l-0.3-0.8 l-0.8-0.3L77.6,82l2.4-0.9l0.8-0.3l0.3-0.8L82,77.6z"/>'),
          (om[Ky] =
            '<path fill="currentColor" stroke="currentColor" d="M50,10c-22.1,0-40,17.9-40,40c0,18.7,12.9,34.4,30.3,38.8c-0.2-0.5-0.3-1.2-0.3-1.9V80c-1.6,0-4.3,0-5,0 c-2.7,0-5.2-1.2-6.4-3.4c-1.3-2.4-1.5-6.1-4.8-8.4c-1-0.8-0.2-1.6,0.9-1.5c2,0.6,3.8,2,5.3,4.1c1.6,2.1,2.3,2.6,5.3,2.6 c1.4,0,3.6-0.1,5.6-0.4c1.1-2.8,3-5.3,5.3-6.5c-13.3-1.4-19.7-8-19.7-17c0-3.9,1.6-7.6,4.5-10.8c-0.9-3.1-2.1-9.5,0.4-12 c6,0,9.6,3.9,10.5,4.9c3-1,6.3-1.6,9.7-1.6c3.5,0,6.7,0.6,9.7,1.6c0.9-1,4.5-4.9,10.5-4.9c2.4,2.4,1.3,8.9,0.3,12 c2.8,3.1,4.4,6.9,4.4,10.8c0,9-6.3,15.6-19.6,17c3.7,1.9,6.3,7.3,6.3,11.3v9.1c0,0.3-0.1,0.6-0.1,0.9C78.8,82.3,90,67.5,90,50 C90,27.9,72.1,10,50,10L50,10z">'),
          (om[$y] =
            '<path fill="currentColor" stroke="currentColor" d="M21.1,18c-0.7,0-1.8,0.3-2.6,1s-1.4,1.5-2.3,2.9c-0.6,1.1-1.7,3.3-3.3,6.6S9.5,36,7.6,40.1c-3.7,8.2-7.3,16.1-7.3,16.1 c-0.4,0.6-0.4,1.3-0.1,1.9c0,0,0,0.1,0.1,0.1c0.1,0.4,0.2,0.7,0.4,0.9c0.4,0.4,0.8,0.7,1.1,0.8c0.6,0.3,1,0.5,1.3,0.6 c0.6,0.4,1,0.4,1,2.8c0,4.7,1.3,9.8,4.9,13.9c3.6,4,9.5,6.8,17.9,6.8c6.8,0,11.9-2.2,15-6.3c3.1-4,4.2-9.5,4.2-15.8v-4.9 c0.7-0.4,1.9-1.1,4-1.1s3.3,0.7,4,1.1V62c0,6.2,1.1,11.7,4.2,15.8c3.1,4,8.2,6.3,15,6.3c8.4,0,14.3-2.7,17.9-6.7 c3.6-4,4.9-9.1,4.9-13.7c0-2.4,0.5-2.6,1-2.9c0.3-0.2,0.6-0.3,1.3-0.6c0.3-0.1,0.7-0.4,1.1-0.8c0.3-0.3,0.5-0.8,0.6-1.3 c0.3-0.6,0.2-1.3-0.1-1.9c0,0-3.6-7.9-7.3-16.1c-1.9-4.1-3.8-8.2-5.4-11.6S84.6,23,84,21.9c-0.9-1.4-1.5-2.3-2.3-2.9 c-0.8-0.7-1.9-1-2.6-1c-0.9,0-1.9,0.4-2.6,1.1c-0.7,0.6-1.3,1.5-2.1,2.7c-1.2,2-2,3.1-2,3.1c-0.6,0.9-0.4,2.2,0.6,2.8 c0.9,0.6,2.2,0.4,2.8-0.6c0,0,0.8-1.3,2-3.3c0,0,0,0,0-0.1c0.6-0.9,1.1-1.5,1.3-1.7c0.2,0.2,0.8,0.8,1.5,1.9 c0.1,0.2,1.5,2.9,3.1,6.2c1.6,3.3,3.4,7.5,5.3,11.6c2.8,6,4.2,9.2,5.4,11.8c-0.6-0.1-1.1-0.3-1.8-0.4C88.4,52.5,82,52,72.9,52 C67,52,61,53.3,56.5,53.9c-0.9-0.7-3-1.9-6.4-1.9c-3.4,0-5.4,1.3-6.4,1.9C39.1,53.3,33.2,52,27.3,52c-9.1,0-15.5,0.5-19.7,1.2 c-0.7,0.1-1.2,0.3-1.8,0.4c1.2-2.7,2.6-5.8,5.4-11.8c1.9-4.1,3.8-8.3,5.3-11.6c1.6-3.3,2.9-5.9,3.1-6.2V24 c0.7-1.1,1.3-1.7,1.5-1.9c0.2,0.2,0.7,0.7,1.3,1.7c0,0,0,0,0,0.1c1.2,2,2,3.3,2,3.3c0.6,0.9,1.9,1.2,2.8,0.6s1.2-1.9,0.6-2.8 c0,0-0.8-1.2-2-3.1c-0.8-1.2-1.3-2-2.1-2.7C23,18.4,22,18,21.1,18L21.1,18z M27.3,56c4.9,0,10.2,1.1,14.8,1.8V62 c0,5.8-1.1,10.3-3.4,13.2c-2.3,3-5.8,4.8-11.8,4.8c-7.6,0-12.1-2.3-14.9-5.4c-2.8-3.1-3.9-7.3-3.9-11.2c0-2.8-1.2-4.6-2.4-5.6 c0.8-0.2,1.4-0.4,2.6-0.6C12.2,56.5,18.4,56,27.3,56z M72.9,56c8.9,0,15.1,0.5,19,1.2c1.3,0.2,1.9,0.5,2.7,0.7 c-1.3,1-2.5,2.8-2.5,5.8c0,3.8-1.1,7.9-3.9,11c-2.8,3.1-7.4,5.4-14.9,5.4c-6,0-9.5-1.8-11.8-4.7c-2.3-3-3.4-7.5-3.4-13.3v-4.2 C62.7,57.1,68,56,72.9,56L72.9,56z"/>'),
          om);
      function Jy(e) {
        if (Yy.hasOwnProperty(e)) {
          var t = document.createElementNS("http://www.w3.org/2000/svg", "svg");
          return (
            t.setAttribute("viewBox", "0 0 100 100"), (t.innerHTML = Yy[e]), t
          );
        }
        e.startsWith("lucide-") && (e = e.substr("lucide-".length));
        var n =
          e.charAt(0).toUpperCase() +
          e.substr(1).replace(/-./g, function (e) {
            return e.charAt(1).toUpperCase();
          });
        return im.hasOwnProperty(n)
          ? (function (e) {
              for (var t = am("svg", sm), n = 0, i = e; n < i.length; n++) {
                var r = i[n];
                t.appendChild(rm(r));
              }
              return t;
            })(im[n])
          : null;
      }
      var Qy = {};
      function Xy(e, t, n) {
        void 0 === n && (n = 16);
        var i = String(n),
          r = e.firstChild;
        if (r && r instanceof SVGSVGElement && r.classList.contains(t))
          return r.setAttribute("width", i), void r.setAttribute("height", i);
        r && e.removeChild(r);
        var o = (function (e) {
          if (!Qy.hasOwnProperty(e)) {
            var t = Jy(e);
            if (!t) return null;
            t.classList.add(e), (Qy[e] = t);
          }
          return Qy[e] ? Qy[e].cloneNode(!0) : null;
        })(t);
        o &&
          (o.setAttribute("width", i),
          o.setAttribute("height", i),
          e.appendChild(o));
      }
      function Zy(e, t) {
        (Yy[e] = t), delete Qy[e];
      }
      var eb = {
          isDesktop: !1,
          isMobile: !1,
          isDesktopApp: !1,
          isMobileApp: !1,
          isIosApp: !1,
          isAndroidApp: !1,
          isMacOS: fe,
          isSafari: ye,
        },
        tb = (function () {
          function e(e) {
            (this.promise = null),
              (this.worker = e),
              (this.worker.onmessage =
                this.onReceiveMessageFromWorker.bind(this));
          }
          return (
            (e.prototype.onReceiveMessageFromWorker = function (e) {
              if (this.promise) {
                var t = this.promise;
                (this.promise = null), t.resolve(e.data);
              }
            }),
            (e.prototype.submit = function (e, t) {
              return this.promise
                ? null
                : ((this.promise = Uh()),
                  this.worker.postMessage(e, t),
                  this.promise.promise);
            }),
            e
          );
        })();
      function nb(e, t) {
        return A(this, void 0, Promise, function () {
          var n;
          return D(this, function (i) {
            switch (i.label) {
              case 0:
                return [4, ajaxPromise({ url: e })];
              case 1:
                return (
                  (n = i.sent()),
                  [2, new Worker(window.URL.createObjectURL(new Blob([n])), t)]
                );
            }
          });
        });
      }
      function ib(e, t) {
        return A(this, void 0, void 0, function () {
          return D(this, function (n) {
            if (ve) return [2, nb(e, t)];
            try {
              return [2, new Worker(e, t)];
            } catch (t) {
              return [2, nb(e)];
            }
            return [2];
          });
        });
      }
      var rb = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (n.containerEl = t), n;
          }
          return M(t, e), t;
        })(nm),
        ob = (function () {
          function e(e) {
            (this.rendered = !1),
              (this.height = 0),
              (this.computed = !1),
              (this.lines = 0),
              (this.lineStart = 0),
              (this.lineEnd = 0),
              (this.used = !0),
              (this.highlightRanges = null),
              (this.level = 0),
              (this.headingCollapsed = !1),
              (this.shown = !0),
              (this.usesFrontMatter = !1),
              (this.html = e || ""),
              (this.el = createDiv()),
              null === e && (this.rendered = !0);
          }
          return (
            (e.prototype.render = function () {
              if (!this.rendered) {
                var e = tm(this.html);
                this.el.appendChild(e),
                  (this.rendered = !0),
                  (this.computed = !1);
              }
            }),
            (e.prototype.resetCompute = function () {
              this.computed = !1;
              var e = this.highlightRanges;
              if (e)
                for (var t = 0, n = e; t < n.length; t++) {
                  n[t].rects = null;
                }
            }),
            (e.prototype.setCollapsed = function (e) {
              (this.headingCollapsed = e),
                this.el.toggleClass("is-collapsed", e);
            }),
            e
          );
        })();
      function sb(e, t) {
        var n = e.firstChild;
        n instanceof HTMLHeadingElement && t(n);
      }
      function ab(e, t) {
        for (var n = 0, i = e.findAll("li"); n < i.length; n++) {
          var r = i[n],
            o = r.findAll("ul, ol");
          o && o.length > 0 && t(r);
        }
      }
      var lb = null,
        cb = (function () {
          function e(t, n, i, r) {
            var o = this;
            (this.previewEl = null),
              (this.sizerEl = null),
              (this.pusherEl = null),
              (this.header = null),
              (this.footer = null),
              (this.cssClasses = null),
              (this.sections = []),
              (this.asyncSections = []),
              (this.recycledSections = []),
              (this.lastText = null),
              (this.text = ""),
              (this.frontmatter = null),
              (this.queued = null),
              (this.rendered = null),
              (this.lastRender = 0),
              (this.lastScroll = 0),
              (this.viewportHeight = 0),
              (this.renderedWidth = 0),
              (this.showAll = !1),
              (this.renderExtra = 1),
              (this.renderExtraMinPx = 500),
              (this.addBottomPadding = !1),
              (this.parsing = !1),
              (this.scrolling = !1),
              (this.owner = t),
              (this.workerPath = r);
            var s = (this.previewEl = i.createDiv("markdown-preview-view")),
              a = (this.sizerEl = s.createDiv(
                "markdown-preview-sizer markdown-preview-section"
              )),
              l = (this.pusherEl = createDiv("markdown-preview-pusher"));
            (l.style.width = "1px"),
              (l.style.height = "0.1px"),
              e.registerDomEvents(a, n, function (e) {
                return o.belongsToMe(e);
              }),
              a.on(
                "click",
                "a.footnote-link",
                this.onFootnoteLinkClick.bind(this)
              ),
              a.on(
                "click",
                ".task-list-item-checkbox",
                this.onCheckboxClick.bind(this)
              ),
              a.on(
                "click",
                ".heading-collapse-indicator",
                this.onHeadingCollapseClick.bind(this)
              ),
              a.on(
                "click",
                "li > .list-collapse-indicator",
                this.onListCollapseClick.bind(this)
              ),
              s.addEventListener("scroll", this.onScroll.bind(this), Ch),
              this.onResize();
          }
          return (
            (e.prototype.set = function (e) {
              (this.text = e), this.queueRender();
            }),
            (e.prototype.rerender = function (e) {
              if (((this.lastText = null), e))
                for (var t = 0, n = this.sections; t < n.length; t++) {
                  var i = n[t];
                  (i.rendered = !1), i.el.empty();
                }
              this.queueRender();
            }),
            (e.prototype.clear = function () {
              (this.sections = []),
                (this.asyncSections = []),
                (this.recycledSections = []),
                (this.rendered = []),
                this.sizerEl.empty(),
                (this.text = ""),
                (this.lastText = null),
                (this.lastScroll = 0),
                (this.previewEl.scrollTop = 0),
                (this.renderedWidth = 0),
                this.owner.onRenderComplete(),
                this.cleanupParentComponents();
            }),
            (e.prototype.belongsToMe = function (e) {
              for (; e; ) {
                if (e === this.previewEl) return !0;
                if (e.classList.contains("markdown-preview-view")) return !1;
                var t = e.parentElement;
                if (!t)
                  return this.sections.some(function (t) {
                    return t.el === e;
                  });
                e = t;
              }
              return !1;
            }),
            (e.prototype.getSectionForElement = function (e) {
              for (var t = 0, n = this.sections; t < n.length; t++) {
                var i = n[t];
                if (i.el.contains(e)) return i;
              }
              return null;
            }),
            (e.prototype.getSectionInfo = function (e) {
              if (!this.belongsToMe(e)) return null;
              var t = this.getSectionForElement(e);
              return t
                ? {
                    text: this.lastText || "",
                    lineStart: t.lineStart,
                    lineEnd: t.lineEnd,
                  }
                : null;
            }),
            (e.prototype.getInternalLinkHref = function (e) {
              var t = e.getAttr("data-href") || e.getAttr("href");
              return t && this.belongsToMe(e) ? t : null;
            }),
            (e.prototype.onFootnoteLinkClick = function (e, t) {
              if (0 === e.button && this.belongsToMe(t)) {
                e.preventDefault();
                var n = t.getAttr("href");
                if (n && n.startsWith("#")) {
                  for (
                    var i = "[data-footnote-id=" + (n = n.substr(1)) + "]",
                      r = null,
                      o = null,
                      s = 0,
                      a = this.sections;
                    s < a.length;
                    s++
                  ) {
                    var l = a[s];
                    if ((o = l.el.find(i))) {
                      r = l;
                      break;
                    }
                  }
                  if (!o || !r) return;
                  this.showSection(r),
                    this.applyScrollSection(r),
                    this.highlightEl(o),
                    this.updateVirtualDisplay(),
                    o.scrollIntoView({ block: "center" }),
                    this.owner.onScroll();
                }
              }
            }),
            (e.prototype.onCheckboxClick = function (e, t) {
              if (this.belongsToMe(t)) {
                e.preventDefault();
                var n = parseInt(t.getAttribute("data-line"));
                if (!(n < 0 || isNaN(n))) {
                  var i = this.getSectionContainer(t);
                  if (i) {
                    var r = i.lineStart + n;
                    this.owner.onCheckboxClick(e, t, r);
                  }
                }
              }
            }),
            (e.prototype.onHeadingCollapseClick = function (e, t) {
              if (0 === e.button && !e.defaultPrevented) {
                var n = t.parentNode;
                if (
                  n &&
                  n instanceof HTMLHeadingElement &&
                  this.belongsToMe(n)
                ) {
                  var i = this.getSectionContainer(n);
                  i &&
                    (i.setCollapsed(!i.headingCollapsed),
                    window.getSelection().removeAllRanges(),
                    this.queueRender(),
                    this.owner.onFoldChange());
                }
              }
            }),
            (e.prototype.onListCollapseClick = function (e, t) {
              if (0 === e.button && !e.defaultPrevented) {
                var n = t.parentNode;
                if (n && n instanceof HTMLLIElement)
                  if (this.belongsToMe(n))
                    if (n.findAll("ul, ol")) {
                      e.preventDefault(),
                        n.toggleClass(
                          "is-collapsed",
                          !n.hasClass("is-collapsed")
                        ),
                        window.getSelection().removeAllRanges();
                      var i = this.getSectionContainer(t);
                      i && (i.resetCompute(), this.queueRender()),
                        this.owner.onFoldChange();
                    }
              }
            }),
            (e.prototype.queueRender = function () {
              this.rendered || (this.rendered = []);
              var e = this.queued,
                t = !this.parsing;
              if (e)
                t &&
                  !e.high &&
                  (e.cancel(), (this.queued = Bt(this.onRender.bind(this), 0)));
              else {
                var n = t ? 0 : 200;
                this.queued = Bt(this.onRender.bind(this), n);
              }
            }),
            (e.prototype.parseAsync = function () {
              var e = this;
              this.parsing ||
                ((this.parsing = !0),
                A(e, void 0, Promise, function () {
                  var e, t, n, i, r, o;
                  return D(this, function (s) {
                    switch (s.label) {
                      case 0:
                        return (
                          s.trys.push([0, 6, , 7]),
                          lb ? [3, 2] : [4, ib(this.workerPath)]
                        );
                      case 1:
                        (e = s.sent()), (lb = new tb(e)), (s.label = 2);
                      case 2:
                        return lb.promise ? [4, lb.promise.promise] : [3, 4];
                      case 3:
                        return s.sent(), [3, 2];
                      case 4:
                        return (
                          (t = this.text),
                          [
                            4,
                            lb.submit({
                              parseSections: t,
                              options: Rg.globalOptions,
                            }),
                          ]
                        );
                      case 5:
                        return (
                          (n = s.sent()),
                          (i = this.previewEl),
                          (r = i.scrollTop),
                          this.parseFinish(t, n),
                          (i.scrollTop = r),
                          this.onRender(),
                          (this.parsing = !1),
                          [3, 7]
                        );
                      case 6:
                        return (
                          (o = s.sent()),
                          (this.parsing = !1),
                          console.error(o),
                          this.parseSync(),
                          this.queueRender(),
                          [3, 7]
                        );
                      case 7:
                        return [2];
                    }
                  });
                }));
            }),
            (e.prototype.parseSync = function () {
              var e = this.text,
                t = (function (e) {
                  var t = qg(e),
                    n = { definitions: Jg(t) },
                    i = [],
                    r = [],
                    o = [],
                    s = t.children,
                    a = jg(t);
                  t.children = [null];
                  for (
                    var l = function (e) {
                        var a = s[e],
                          l = 7;
                        "heading" === a.type && (l = a.depth || 1);
                        var c = a.position.start.line - 1,
                          u = a.position.end.line - 1;
                        cg(a, "checklist", function (e) {
                          var t = e.position.start.line - 1;
                          e.data.hProperties["data-line"] = String(t - c);
                        }),
                          cg(a, "listItem", function (e) {
                            var t = e.position.start.line - 1,
                              n = (e.data = e.data || {});
                            (n.hProperties = n.hProperties || {})["data-line"] =
                              String(t - c);
                          }),
                          (t.children[0] = a);
                        var h = Ug(t, n);
                        i.push(h), r.push([c, u]), o.push(l);
                      },
                      c = 0;
                    c < s.length;
                    c++
                  )
                    l(c);
                  return {
                    sectionHtml: i,
                    lineNumbers: r,
                    levels: o,
                    frontmatter: a,
                  };
                })(e);
              this.parseFinish(e, t);
            }),
            (e.prototype.parseFinish = function (e, t) {
              for (
                var n = t.sectionHtml,
                  i = t.lineNumbers,
                  r = t.levels,
                  o = t.frontmatter,
                  s = this,
                  a = s.recycledSections,
                  l = s.header,
                  c = s.footer,
                  u = this.sections,
                  h = new Pe(),
                  p = 0,
                  d = u;
                p < d.length;
                p++
              ) {
                var f = d[p];
                f !== l && f !== c && ((f.used = !1), h.add(f.html, f));
              }
              for (var g = [], m = 0; m < n.length; m++) {
                var v = n[m],
                  y = null,
                  b = h.get(v);
                if (b && b.length > 0)
                  for (var w = 0, k = b; w < k.length; w++) {
                    var C = k[w];
                    if (!C.used) {
                      (C.used = !0), (y = C);
                      break;
                    }
                  }
                var x = i[m],
                  S = x[0],
                  E = x[1];
                y ? 0 : (y = new ob(v));
                var M = 0 === m ? 0 : S,
                  L = m === n.length - 1 ? E + 1 : i[m + 1][0];
                (y.lines = L - M),
                  (y.lineStart = S),
                  (y.lineEnd = E),
                  (y.level = r[m]),
                  g.push(y);
              }
              var A = JSON.stringify(this.frontmatter) === JSON.stringify(o);
              if (((this.frontmatter = o), A))
                for (var D = 0, T = g; D < T.length; D++) {
                  (R = T[D]).usesFrontMatter &&
                    ((R.rendered = !1), R.el.empty());
                }
              var P = this.cssClasses,
                O = this.previewEl;
              P && (O.removeClasses(P), (this.cssClasses = null));
              var F = Yg(o);
              F && F.length > 0 && ((this.cssClasses = F), O.addClasses(F)),
                l && g.unshift(l),
                c && g.push(c),
                (this.sections = g);
              var I = this.asyncSections;
              this.asyncSections = [];
              for (var N = 0, B = I; N < B.length; N++) {
                var R = B[N];
                g.contains(R) && this.asyncSections.push(R);
              }
              for (var z = 0, H = u; z < H.length; z++) {
                (R = H[z]).rendered && !R.used && a.push(R);
              }
              (this.lastText = e), (this.lastRender = Date.now());
            }),
            (e.prototype.onRender = function () {
              var t = this;
              this.queued = null;
              var n = this.previewEl;
              if (!!n.offsetParent) {
                var i = n.scrollTop;
                this.lastText !== this.text &&
                  (this.text.length < 10240
                    ? this.parseSync()
                    : this.parseAsync());
                for (
                  var r = this,
                    o = r.sections,
                    s = r.sizerEl,
                    a = r.pusherEl,
                    l = 0,
                    c = performance.now(),
                    u = !1,
                    h = function (n) {
                      if (n.rendered) return "continue";
                      l++;
                      var i = n.el;
                      n.render();
                      for (var r = 0, o = e.recyclers; r < o.length; r++) {
                        (0, o[r])(i, p.recycledSections);
                      }
                      sb(i, function (e) {
                        Xy(
                          e.createDiv({
                            cls: "heading-collapse-indicator collapse-indicator collapse-icon",
                            prepend: !0,
                          }),
                          pm,
                          8
                        );
                      }),
                        ab(i, function (e) {
                          Xy(
                            e.createDiv({
                              cls: "list-collapse-indicator collapse-indicator collapse-icon",
                              prepend: !0,
                            }),
                            pm,
                            8
                          );
                        });
                      var s = [];
                      if (
                        (p.owner.postProcess(n, s, p.frontmatter),
                        s.length > 0 &&
                          (p.asyncSections.push(n),
                          Promise.all(s).then(function () {
                            t.asyncSections.remove(n),
                              n.resetCompute(),
                              t.queueRender();
                          })),
                        l % 10 == 0) &&
                        performance.now() - c > 5
                      )
                        return (u = !0), "break";
                    },
                    p = this,
                    d = 0,
                    f = o;
                  d < f.length;
                  d++
                ) {
                  if ("break" === h((E = f[d]))) break;
                }
                for (
                  var g = [], m = !1, v = [a], y = 0, b = 0, w = o;
                  b < w.length;
                  b++
                ) {
                  var k = (E = w[b]).el,
                    C = k.parentElement === s;
                  if (
                    (!E.computed && E.rendered
                      ? ((C = !0), g.push(E), (m = !0), y++)
                      : m && ((C = !0), (m = !1)),
                    C && v.push(k),
                    y > 100)
                  ) {
                    u = !0;
                    break;
                  }
                }
                s.setChildrenInPlace(v);
                for (var x = 0, S = g; x < S.length; x++) {
                  var E = S[x];
                  this.measureSection(E);
                }
                if (
                  (this.updateShownSections(), this.updateVirtualDisplay(i), u)
                )
                  this.queueRender();
                else if (this.lastText === this.text) {
                  if (
                    ((this.recycledSections = []),
                    this.asyncSections.length > 0)
                  )
                    return;
                  if (this.rendered)
                    for (var M = 0, L = this.rendered; M < L.length; M++) {
                      (0, L[M])();
                    }
                  (this.rendered = null),
                    this.owner.onRenderComplete(),
                    this.cleanupParentComponents();
                }
              }
            }),
            (e.prototype.updateShownSections = function () {
              for (var e = 7, t = 0, n = this.sections; t < n.length; t++) {
                var i = n[t];
                i.level > e
                  ? (i.shown = !1)
                  : ((i.shown = !0),
                    (e = 7),
                    i.headingCollapsed && (e = i.level));
              }
            }),
            (e.prototype.updateVirtualDisplay = function (e) {
              var t = this,
                n = t.showAll,
                i = t.previewEl,
                r = t.sizerEl,
                o = t.pusherEl,
                s = t.sections,
                a = i.scrollTop;
              if (("number" == typeof e && (a = e), n)) {
                var l = [];
                l.push(o);
                for (var c = 0, u = s; c < u.length; c++) {
                  var h = u[c];
                  l.push(h.el);
                }
                return (
                  r.setChildrenInPlace(l),
                  (r.style.minHeight = ""),
                  (o.style.marginBottom = "0"),
                  void (i.scrollTop = a)
                );
              }
              this.lastScroll = a;
              for (
                var p = i.clientHeight,
                  d = a + p,
                  f = o.offsetTop,
                  g = Math.min(a, i.scrollHeight - p),
                  m = Math.max(p * this.renderExtra, this.renderExtraMinPx),
                  v = g - m,
                  y = d + m,
                  b = 0,
                  w = 0,
                  k = 0;
                k < s.length;
                k++
              ) {
                (N = (h = s[k]).height) > 0 && ((b += N), w++);
              }
              var C = 0;
              w > 0 && (C = b / w);
              var x = 0,
                S = 0,
                E = [];
              E.push(o);
              var M = -1,
                L = -1,
                A = -1,
                D = -1,
                T = null,
                P = null,
                O = window.getSelection();
              if (O.rangeCount > 0) {
                var F = O.getRangeAt(0);
                !F.collapsed &&
                  i.contains(F.startContainer) &&
                  i.contains(F.endContainer) &&
                  ((T = F.startContainer),
                  (P = F.endContainer),
                  (T === o || (T === r && F.startOffset <= 1)) && (A = 0),
                  P === r && F.endOffset > 1 && (D = s.length - 1));
              }
              for (k = 0; k < s.length; k++) {
                var I = (h = s[k]).el;
                if (
                  (T && (I === T || I.contains(T)) && (A = k),
                  P && (I === P || I.contains(P)) && (D = k),
                  h.shown)
                ) {
                  var N = h.height;
                  if (h.computed)
                    (z = S + N) >= v &&
                      S <= y &&
                      (-1 === M && (M = k), (L = k)),
                      (S = z);
                  else (S += N), 0 === N && (S += C);
                }
              }
              var B = M,
                R = L;
              -1 !== A &&
                -1 !== D &&
                ((B = Math.min(B, A)), (R = Math.max(R, D))),
                B < 0 && (B = 0),
                ++R > s.length - 1 && (R = s.length - 1),
                (S = 0);
              for (k = 0; k < s.length; k++) {
                I = (h = s[k]).el;
                h.shown && B <= k && k <= R
                  ? E.push(I)
                  : I.parentNode === r && I.detach();
                var z;
                N = h.height;
                h.computed || 0 !== N || (N = C),
                  h.shown || (N = 0),
                  k === B && (x = S),
                  (S = z = S + N);
              }
              x > 0 && (x -= f) < 0 && (x = 0),
                (S -= f),
                (S = Math.max(0, S)),
                (o.style.marginBottom = x + "px"),
                (r.style.minHeight = S - 1 + "px"),
                r.setChildrenInPlace(E),
                R !== s.length - 1 && R--;
              for (k = B; k <= R; k++) {
                (h = s[k]).shown && this.measureSection(h);
              }
              i.scrollTop !== a && (i.scrollTop = a),
                this.renderHighlights(M, L);
            }),
            (e.prototype.renderHighlights = function (e, t) {
              var n = this.sections,
                i = this.sizerEl,
                r = i.offsetParent;
              if (r) {
                for (
                  var o = r.getBoundingClientRect(), s = [], a = e;
                  a <= t;
                  a++
                )
                  if (!(a < 0 || a >= n.length)) {
                    var l = n[a];
                    if (l.shown) {
                      var c = l.highlightRanges;
                      if (c && 0 !== c.length) {
                        var u = [];
                        Ah(l.el, u);
                        for (
                          var h = u.map(function (e) {
                              return e.textContent;
                            }),
                            p = 0,
                            d = c;
                          p < d.length;
                          p++
                        ) {
                          var f = d[p],
                            g = f.rects;
                          if (!g) {
                            g = f.rects = [];
                            var m = Dh(u, h, f.start, f.end);
                            if (!m) continue;
                            for (
                              var v = m.getClientRects(), y = 0;
                              y < v.length;
                              y++
                            ) {
                              var b = v[y];
                              g.push({
                                x: b.x - o.x + r.scrollLeft,
                                y: b.y - o.y + r.scrollTop,
                                w: b.width,
                                h: b.height,
                              });
                            }
                          }
                          for (var w = 0, k = g; w < k.length; w++) {
                            var C = k[w],
                              x = createDiv();
                            f.active && x.addClass("is-active"),
                              (x.style.left = C.x + "px"),
                              (x.style.top = C.y + "px"),
                              (x.style.width = C.w + "px"),
                              (x.style.height = C.h + "px"),
                              s.push(x);
                          }
                        }
                      }
                    }
                  }
                if (s.length > 0) {
                  var S = createDiv("search-highlight");
                  S.setChildrenInPlace(s), i.appendChild(S);
                }
              }
            }),
            (e.prototype.measureSection = function (e) {
              if (e.rendered) {
                var t = e === this.sections[0],
                  n = e.el,
                  i = n.nextSibling,
                  r = t ? 0 : n.offsetTop,
                  o = i ? i.offsetTop : n.offsetTop + n.offsetHeight;
                (e.height = o - r), (e.computed = !0);
              }
            }),
            (e.prototype.onRendered = function (e) {
              this.rendered ? this.rendered.push(e) : e();
            }),
            (e.prototype.onResize = function () {
              this.updateEndPadding();
              var e = this.sections,
                t = this.previewEl;
              this.viewportHeight = t.clientHeight;
              var n = t.offsetWidth;
              if (n !== this.renderedWidth) {
                this.renderedWidth = n;
                for (var i = 0, r = e; i < r.length; i++) {
                  r[i].resetCompute();
                }
                this.queueRender();
              } else this.updateVirtualDisplay();
            }),
            (e.prototype.updateEndPadding = function () {
              if (this.addBottomPadding) {
                var e = this.previewEl,
                  t = this.sizerEl,
                  n = e.clientHeight;
                t.style.paddingBottom = Math.round(n / 2) + "px";
              } else this.sizerEl.style.paddingBottom = "0";
            }),
            (e.prototype.foldAllHeadings = function () {
              for (
                var e = function (e) {
                    sb(e.el, function () {
                      e.setCollapsed(!0);
                    });
                  },
                  t = 0,
                  n = this.sections;
                t < n.length;
                t++
              ) {
                e(n[t]);
              }
              this.updateShownSections(),
                this.updateVirtualDisplay(),
                this.owner.onFoldChange();
            }),
            (e.prototype.unfoldAllHeadings = function () {
              for (var e = 0, t = this.sections; e < t.length; e++) {
                var n = t[e];
                n.setCollapsed(!1), (n.shown = !0);
              }
              this.updateVirtualDisplay(), this.owner.onFoldChange();
            }),
            (e.prototype.foldAllLists = function () {
              for (
                var e = function (e) {
                    ab(e.el, function (t) {
                      t.addClass("is-collapsed"), e.resetCompute();
                    });
                  },
                  t = 0,
                  n = this.sections;
                t < n.length;
                t++
              ) {
                e(n[t]);
              }
              this.queueRender(), this.owner.onFoldChange();
            }),
            (e.prototype.unfoldAllLists = function () {
              for (
                var e = function (e) {
                    ab(e.el, function (t) {
                      t.removeClass("is-collapsed"), e.resetCompute();
                    });
                  },
                  t = 0,
                  n = this.sections;
                t < n.length;
                t++
              ) {
                e(n[t]);
              }
              this.queueRender(), this.owner.onFoldChange();
            }),
            (e.prototype.getFoldInfo = function () {
              var e = [];
              if (this.frontmatter)
                for (var t = 0, n = this.sections; t < n.length; t++) {
                  var i = (u = n[t]).el.find(".frontmatter-container");
                  if (i) {
                    i.hasClass("is-collapsed") &&
                      e.push({ from: u.lineStart, to: u.lineEnd });
                    break;
                  }
                }
              for (
                var r = function (t) {
                    sb(t.el, function () {
                      t.headingCollapsed &&
                        e.push({ from: t.lineStart, to: t.lineEnd });
                    });
                  },
                  o = 0,
                  s = this.sections;
                o < s.length;
                o++
              ) {
                r((u = s[o]));
              }
              for (
                var a = function (t) {
                    ab(t.el, function (n) {
                      if (n.hasClass("is-collapsed")) {
                        var i = parseInt(n.getAttribute("data-line"));
                        if (i < 0 || isNaN(i)) return;
                        var r = t.lineStart + i;
                        e.push({ from: r, to: r });
                      }
                    });
                  },
                  l = 0,
                  c = this.sections;
                l < c.length;
                l++
              ) {
                var u;
                a((u = c[l]));
              }
              return e.length > 0
                ? { folds: e, lines: this.text.match(/^/gm).length }
                : null;
            }),
            (e.prototype.applyFoldInfo = function (e) {
              var t = this;
              (e && e.lines !== this.text.match(/^/gm).length) ||
                this.onRendered(function () {
                  var n = new Set();
                  if (e)
                    for (var i = 0, r = e.folds; i < r.length; i++) {
                      var o = r[i];
                      n.add(o.from);
                    }
                  if (t.frontmatter)
                    for (var s = 0, a = t.sections; s < a.length; s++) {
                      var l = (g = a[s]).el.find(".frontmatter-container");
                      if (l) {
                        l.toggleClass("is-collapsed", n.has(g.lineStart));
                        break;
                      }
                    }
                  for (
                    var c = function (e) {
                        sb(e.el, function () {
                          e.setCollapsed(n.has(e.lineStart));
                        });
                      },
                      u = 0,
                      h = t.sections;
                    u < h.length;
                    u++
                  ) {
                    c((g = h[u]));
                  }
                  for (
                    var p = function (e) {
                        ab(e.el, function (t) {
                          var i = parseInt(t.getAttribute("data-line"));
                          if (!(i < 0 || isNaN(i))) {
                            var r = e.lineStart + i,
                              o = n.has(r);
                            t.hasClass("is-collapsed") !== o &&
                              (t.toggleClass("is-collapsed", o),
                              e.resetCompute());
                          }
                        });
                      },
                      d = 0,
                      f = t.sections;
                    d < f.length;
                    d++
                  ) {
                    var g;
                    p((g = f[d]));
                  }
                  t.queueRender();
                });
            }),
            (e.prototype.onScroll = function () {
              var e = this,
                t = e.previewEl,
                n = e.lastScroll,
                i = e.viewportHeight,
                r = t.scrollTop;
              Math.abs(n - r) >
                Math.max(i * this.renderExtra, this.renderExtraMinPx) / 2 &&
                this.updateVirtualDisplay(r),
                this.scrolling ? (this.scrolling = !1) : this.owner.onScroll();
            }),
            (e.prototype.getScroll = function () {
              var e = this.previewEl,
                t = this.sections;
              if (0 === t.length) return null;
              for (
                var n = e.scrollTop, i = 0, r = 0, o = 0;
                o < t.length;
                o++
              ) {
                var s = t[o];
                if (!s.computed) return null;
                if (!(n > r + s.height)) {
                  var a = s.height / s.lines,
                    l = n - r,
                    c = Math.floor(l / a);
                  return (i += c) + (l / a - c);
                }
                (i += s.lines), s.shown && (r += s.height);
              }
            }),
            (e.prototype.applyScroll = function (e, t) {
              if (!Number.isNumber(e) || isNaN(e)) return !1;
              if (this.text !== this.lastText) return !1;
              var n = Math.floor(e),
                i = e - n;
              this.scrolling = !0;
              for (
                var r = this.sections,
                  o = t || {},
                  s = o.highlight,
                  a = o.center,
                  l = 0,
                  c = 0,
                  u = 0;
                u < r.length;
                u++
              ) {
                var h = r[u];
                if (!h.computed) return !1;
                if (!(l + h.lines <= n)) {
                  if (!h.shown && (this.showSection(h), h.shown))
                    return this.applyScroll(e, t);
                  var p = h.height / h.lines,
                    d = n - l,
                    f = 0;
                  a && (f -= (this.previewEl.clientHeight - p) / 2);
                  var g = Math.max(0, c + p * (d + i) + f);
                  this.updateVirtualDisplay(g);
                  for (
                    var m = null, v = 0, y = 0, b = h.el.findAll("li");
                    y < b.length;
                    y++
                  ) {
                    var w = b[y];
                    if (this.belongsToMe(w)) {
                      var k = parseInt(w.getAttribute("data-line"));
                      if (!(k < 0 || isNaN(k))) {
                        if (!(k <= d)) {
                          var C = k - v;
                          if (C > 0) {
                            var x = m ? m.offsetTop : h.el.offsetTop;
                            p = (w.offsetTop - x) / C;
                          }
                          break;
                        }
                        (v = k), (m = w), (p = 0);
                      }
                    }
                  }
                  if (m) {
                    0 === p &&
                      (p =
                        (h.el.offsetTop + h.height - m.offsetTop) /
                        (h.lines - v));
                    var S = m.offsetTop - h.el.offsetTop;
                    (g = Math.max(0, c + S + p * (d - v + i) + f)),
                      (this.previewEl.scrollTop = g);
                  }
                  return s && this.highlightEl(m || h.el), !0;
                }
                (l += h.lines), h.shown && (c += h.height);
              }
              return !0;
            }),
            (e.prototype.getSectionTop = function (e) {
              for (var t = this.sections, n = 0, i = 0; i < t.length; i++) {
                var r = t[i];
                if (r === e) return n;
                var o = r.height;
                !r.computed && 0 === o && i > 0 && (o = n / i),
                  r.shown || (o = 0),
                  (n += o);
              }
              return -1;
            }),
            (e.prototype.showSection = function (e) {
              if (!e.shown) {
                var t = this.sections,
                  n = t.indexOf(e);
                if (-1 !== n) {
                  for (var i = e.level; n >= 0; ) {
                    var r = t[n];
                    r.headingCollapsed &&
                      r.level < i &&
                      (r.setCollapsed(!1), (i = r.level)),
                      n--;
                  }
                  this.updateShownSections(), this.updateVirtualDisplay();
                }
              }
            }),
            (e.prototype.applyScrollSection = function (e) {
              var t = this.previewEl,
                n = this.getSectionTop(e);
              if (-1 !== n) return (this.scrolling = !0), (t.scrollTop = n), !0;
            }),
            (e.prototype.applyScrollDelayed = function (e, t, n) {
              var i = this;
              this.applyScroll(e, t)
                ? n && n()
                : this.onRendered(function () {
                    i.applyScroll(e, t), n && n();
                  });
            }),
            (e.prototype.highlightEl = function (e) {
              for (var t = 0, n = this.sections; t < n.length; t++)
                for (
                  var i = 0, r = n[t].el.findAllSelf(".is-flashing");
                  i < r.length;
                  i++
                ) {
                  r[i].removeClass("is-flashing");
                }
              e.addClass("is-flashing"),
                setTimeout(function () {
                  e.removeClass("is-flashing");
                }, 3e3);
            }),
            (e.prototype.getSectionContainer = function (e) {
              for (var t = null, n = 0, i = this.sections; n < i.length; n++) {
                var r = i[n];
                if (r.el.contains(e)) {
                  t = r;
                  break;
                }
              }
              return t;
            }),
            (e.prototype.selectRange = function (e) {
              var t = this.sizerEl,
                n = this.previewEl,
                i = e.section,
                r = e.start,
                o = e.end;
              this.showSection(i);
              var s = this.getSectionTop(i);
              t.contains(i.el) ||
                ((n.scrollTop = s), this.updateVirtualDisplay());
              var a = (function (e, t, n) {
                var i = [];
                Ah(e, i);
                var r = i.map(function (e) {
                  return e.textContent || "";
                });
                return Dh(i, r, t, n);
              })(i.el, r, o);
              if (a) {
                var l = (function (e) {
                  for (; e; ) {
                    if (e instanceof HTMLElement) return e;
                    e = e.parentNode;
                  }
                  return null;
                })(a.startContainer);
                if (l) {
                  var c = n.scrollTop + 40,
                    u = c + n.clientHeight - 40;
                  (l.offsetTop < c || l.offsetTop + l.offsetHeight > u) &&
                    l.scrollIntoView({
                      behavior: "auto",
                      block: "center",
                      inline: "nearest",
                    });
                }
                this.updateVirtualDisplay();
              }
            }),
            (e.prototype.addHeader = function () {
              (this.header = new ob(null)),
                this.sections.unshift(this.header),
                this.queueRender();
            }),
            (e.prototype.removeHeader = function () {
              this.sections.remove(this.header),
                (this.header = null),
                this.queueRender();
            }),
            (e.prototype.addFooter = function () {
              (this.footer = new ob(null)),
                this.sections.push(this.footer),
                this.queueRender();
            }),
            (e.prototype.removeFooter = function () {
              this.sections.remove(this.footer),
                (this.footer = null),
                this.queueRender();
            }),
            (e.prototype.updateHeader = function () {
              var e = this.header;
              e && (e.resetCompute(), this.queueRender());
            }),
            (e.prototype.updateFooter = function () {
              var e = this.footer;
              e && (e.resetCompute(), this.queueRender());
            }),
            (e.prototype.cleanupParentComponents = function () {
              for (
                var e = [], t = 0, n = this.owner._children;
                t < n.length;
                t++
              ) {
                (o = n[t]) instanceof rb &&
                  (this.belongsToMe(o.containerEl) || e.push(o));
              }
              for (var i = 0, r = e; i < r.length; i++) {
                var o = r[i];
                this.owner.removeChild(o);
              }
            }),
            (e.registerPostProcessor = function (e, t) {
              e.sortOrder = t;
              var n = this.postProcessors;
              n.push(e),
                n.sort(function (e, t) {
                  return (e.sortOrder || 0) - (t.sortOrder || 0);
                });
            }),
            (e.unregisterPostProcessor = function (e) {
              this.postProcessors.remove(e);
            }),
            (e.registerRecycler = function (e) {
              this.recyclers.push(e);
            }),
            (e.unregisterRecycler = function (e) {
              this.recyclers.remove(e);
            }),
            (e.registerCodeBlockPostProcessor = function (e, t) {
              var n = this.codeBlockPostProcessors;
              if (n.hasOwnProperty(e))
                throw new Error(
                  "Code block postprocessor for language " +
                    e +
                    " is already registered"
                );
              n[e] = t;
            }),
            (e.unregisterCodeBlockPostProcessor = function (e) {
              delete this.codeBlockPostProcessors[e];
            }),
            (e.createCodeBlockPostProcessor = function (e, t) {
              return function (n, i) {
                var r = n.findAll("code.language-" + e);
                if (0 !== r.length)
                  for (var o = 0, s = r; o < s.length; o++) {
                    var a = s[o],
                      l = fb(a),
                      c = a.parentElement,
                      u = createDiv("block-language-" + e);
                    c.replaceWith(u);
                    var h = t(l, u, i);
                    h && i.promises.push(h);
                  }
              };
            }),
            (e.registerDomEvents = function (e, t, n) {
              function i(e) {
                var t = e.getAttr("data-href") || e.getAttr("href");
                return t && n(e) ? t : null;
              }
              function r(e, n) {
                if (0 === e.button || 1 === e.button) {
                  var r = i(n);
                  r && t.onInternalLinkClick(e, n, r);
                }
              }
              function o(e, t) {
                !e.defaultPrevented &&
                  eb.isMobile &&
                  t instanceof HTMLImageElement &&
                  (function (e) {
                    var t = e.cloneNode(),
                      n = document.body.createDiv("mobile-image-viewer");
                    n.appendChild(t);
                    var i = t.width,
                      r = t.height,
                      o = t.naturalWidth,
                      s = t.naturalHeight,
                      a = 5,
                      l = 0,
                      c = 0,
                      u = 1,
                      h = function () {
                        var e = (u - 1) / u / 2,
                          n = Math.max(0, i * e),
                          o = Math.max(0, r * e);
                        (l = Math.clamp(l, -n, n)),
                          (c = Math.clamp(c, -o, o)),
                          (u = Math.clamp(u, 1, a)),
                          (t.style.transform =
                            "scale(" +
                            u +
                            ") translate(" +
                            l +
                            "px, " +
                            c +
                            "px)");
                      },
                      p = 0,
                      d = 0,
                      f = 0,
                      g = 0,
                      m = function () {
                        cancelAnimationFrame(g);
                        var e = Date.now(),
                          t = e - f;
                        (l += Math.cos(d) * p * t),
                          (c += Math.sin(d) * p * t),
                          h(),
                          (p -= Math.min(0.003 * t, p)) > 0.01 &&
                            ((f = e), (g = requestAnimationFrame(m)));
                      };
                    t.addEventListener("load", function () {
                      (i = t.width),
                        (r = t.height),
                        (o = t.naturalWidth),
                        (s = t.naturalHeight),
                        (a = 2 * Math.max(o / i, s / r)) < 1 && (a = 1),
                        h();
                    });
                    var v = null,
                      y = null,
                      b = function (e) {
                        cancelAnimationFrame(g);
                        for (
                          var t = Date.now(),
                            n = t - f,
                            i = Array.prototype.slice.call(e.touches),
                            r = null,
                            o = null,
                            s = 0,
                            a = i;
                          s < a.length;
                          s++
                        ) {
                          var b = a[s];
                          v && b.identifier === v.identifier && (r = b),
                            y && b.identifier === y.identifier && (o = b);
                        }
                        if (
                          (o &&
                            !r &&
                            ((v = y), (r = o), (y = null), (o = null)),
                          r
                            ? i.remove(r)
                            : i.length > 0 && ((r = i.first()), i.splice(0, 1)),
                          o
                            ? i.remove(o)
                            : i.length > 0 && ((o = i.first()), i.splice(0, 1)),
                          v && r && v.identifier === r.identifier)
                        ) {
                          var w = window.innerWidth / 2,
                            k = window.innerHeight / 2;
                          if (y && o && y.identifier === o.identifier) {
                            var C = -l + ((v.clientX + y.clientX) / 2 - w) / u,
                              x = -c + ((v.clientY + y.clientY) / 2 - k) / u,
                              S = (r.clientX + o.clientX) / 2,
                              E = (r.clientY + o.clientY) / 2,
                              M = v.clientX - y.clientX,
                              L = v.clientY - y.clientY,
                              A = r.clientX - o.clientX,
                              D = r.clientY - o.clientY,
                              T = M * M + L * L,
                              P = A * A + D * D;
                            if (0 !== T && 0 !== P) {
                              var O = Math.sqrt(P / T),
                                F = u * O;
                              (l = (S - w) / F - C),
                                (c = (E - k) / F - x),
                                (u = F),
                                h();
                            }
                          } else {
                            var I = (r.clientX - v.clientX) / u,
                              N = (r.clientY - v.clientY) / u;
                            (l += I),
                              (c += N),
                              (p = Math.sqrt(I * I + N * N) / n),
                              (d = Math.atan2(N, I)),
                              h();
                          }
                        }
                        (y = o),
                          (v = r) || y || (g = requestAnimationFrame(m)),
                          (f = t);
                      };
                    n.addEventListener("touchstart", b),
                      n.addEventListener("touchend", b),
                      n.addEventListener("touchmove", b),
                      n.addEventListener("touchcancel", b),
                      n.addEventListener("click", function (e) {
                        n.remove(), e.preventDefault(), cancelAnimationFrame(g);
                      });
                  })(t);
              }
              e.on("click", "a.internal-link", r),
                e.on("auxclick", "a.internal-link", r),
                e.on("dragstart", "a.internal-link", function (e, n) {
                  var r = i(n);
                  r && t.onInternalLinkDrag(e, n, r);
                }),
                e.on("contextmenu", "a.internal-link", function (e, n) {
                  var r = i(n);
                  r && t.onInternalLinkRightClick(e, n, r);
                }),
                e.on("mouseover", "a.internal-link", function (e, n) {
                  var r = i(n);
                  r && t.onInternalLinkMouseover(e, n, r);
                }),
                e.on("click", "a.external-link", function (e, i) {
                  if (0 === e.button || 1 === e.button) {
                    var r = i.getAttr("href");
                    r && n(i) && t.onExternalLinkClick(e, i, r);
                  }
                }),
                e.on("click", "a.tag", function (e, i) {
                  if (0 === e.button && n(i)) {
                    e.preventDefault();
                    var r = i.getText();
                    t.onTagClick(e, i, r);
                  }
                }),
                e.on("click", "img", o),
                e.on("contextmenu", "img", o);
            }),
            (e.postProcessors = []),
            (e.codeBlockPostProcessors = {}),
            (e.recyclers = []),
            e
          );
        })();
      function ub(e, t) {
        return Zh.then(function () {
          var n = document.createElementNS("http://www.w3.org/2000/svg", "svg");
          n.setAttribute("viewBox", "0 0 100 100"),
            (n.innerHTML =
              '<g><foreignObject height="100" width="100"></foreignObject></g>');
          var i = n.firstChild,
            r = i.firstChild;
          e.appendChild(n);
          var o = r.clientWidth / i.getBBox().width,
            s = e.isShown();
          e.removeChild(n),
            o > 0 &&
              (hb.textContent =
                ".mermaid svg g>foreignObject{transform:scale(" + o + ");}");
          for (
            var a = function (t) {
                var n = fb(t),
                  i = t.parentElement,
                  r = e.clientWidth;
                mermaid.mermaidAPI.updateSiteConfig({
                  pie: { useWidth: r },
                  gantt: { useWidth: r },
                  git: { useWidth: r },
                  state: { useMaxWidth: !0, useWidth: r },
                });
                var o = (s ? e : document.body).createDiv("mermaid"),
                  a = "m" + Oe(16);
                try {
                  var l = null;
                  if (
                    (mermaid.render(
                      a,
                      n,
                      function (e, t) {
                        (l = o.firstChild.firstChild), t && t(o);
                      },
                      o
                    ),
                    o.appendChild(l),
                    i.replaceWith(o),
                    db.set(o, n),
                    l instanceof Element)
                  )
                    for (
                      var c = l
                          .findAll(
                            '[*|class*="internal-link"] > g.label foreignObject > div'
                          )
                          .slice(),
                        u = 0,
                        h = c;
                      u < h.length;
                      u++
                    ) {
                      var p = h[u],
                        d = p.textContent;
                      d &&
                        (p.empty(),
                        p.createEl("a", {
                          cls: "internal-link",
                          href: d,
                          text: d,
                        }));
                    }
                } catch (e) {
                  var f = document.getElementById("d" + a);
                  f && f.detach(),
                    o.detach(),
                    console.error(e),
                    t.empty(),
                    t.appendText(
                      "Error parsing Mermaid diagram!\n\n" +
                        (e.str || e.message)
                    );
                }
              },
              l = 0,
              c = t;
            l < c.length;
            l++
          ) {
            a(c[l]);
          }
          hb.textContent = "";
        });
      }
      cb.registerPostProcessor(function (e, t) {
        var n = e.find(".frontmatter"),
          i = t.frontmatter;
        if (n) {
          var r = createDiv("frontmatter-container");
          n.parentNode.insertBefore(r, n.nextSibling);
          var o = r.createDiv({
            cls: "frontmatter-container-header",
            text: "Metadata",
          });
          if (null === i)
            return (
              n.addClass("mod-failed"),
              n.createDiv({
                cls: "mod-error",
                prepend: !0,
                text: "Invalid YAML",
              }),
              void o.appendText(" (Invalid YAML)")
            );
          if (!i) return;
          Xy(
            o.createDiv({
              cls: "frontmatter-collapse-indicator collapse-indicator collapse-icon",
              prepend: !0,
            }),
            pm,
            6
          ),
            o.addEventListener("click", function () {
              r.toggleClass("is-collapsed", !r.hasClass("is-collapsed"));
            });
          var s = Kg(i);
          if (s && s.length > 0) {
            var a = r.createDiv({ cls: "frontmatter-section mod-aliases" });
            a.createSpan({ cls: "frontmatter-section-label", text: "Aliases" });
            for (
              var l = a.createDiv("frontmatter-section-aliases"), c = 0, u = s;
              c < u.length;
              c++
            ) {
              var h = u[c];
              l.createSpan({ cls: "frontmatter-alias", text: h }, function (e) {
                e.createSpan(
                  { cls: "frontmatter-alias-icon", prepend: !0 },
                  function (e) {
                    Xy(e, kv, 11);
                  }
                );
              });
            }
          }
          var p = $g(i);
          if (p && p.length > 0) {
            var d = r.createDiv("frontmatter-section mod-tags");
            d.createSpan({ cls: "frontmatter-section-label", text: "Tags" });
            for (
              var f = d.createDiv("frontmatter-section-tags"), g = 0, m = p;
              g < m.length;
              g++
            ) {
              var v = m[g];
              f.createEl("a", {
                cls: "tag",
                href: v,
                attr: { target: "_blank", rel: "noopener" },
                text: v,
              });
            }
          }
          s || p || r.hide();
        }
      }),
        cb.registerPostProcessor(function (e, t) {
          for (
            var n = 0, i = e.findAll("[data-footnote-id]");
            n < i.length;
            n++
          ) {
            var r = i[n],
              o = r.getAttr("data-footnote-id");
            r.setAttr("data-footnote-id", o + "-" + t.docId),
              (r.id = o + "-" + t.docId);
          }
          for (var s = 0, a = e.findAll("a.footnote-link"); s < a.length; s++) {
            var l = a[s],
              c = l.getAttr("href");
            l.setAttr("href", c + "-" + t.docId);
          }
        });
      var hb = document.head.createEl("style", { type: "text/css" });
      cb.registerPostProcessor(function (e, t) {
        var n = e.findAll("code.language-mermaid");
        if (0 !== n.length) return ub(t.containerEl, n);
      });
      var pb = function (e, t) {
        for (var n = 0, i = e; n < i.length; n++)
          for (var r = 0, o = i[n].el.findAll(".mermaid"); r < o.length; r++) {
            var s = o[r];
            if (t === fb(s)) return s;
          }
        return null;
      };
      cb.registerRecycler(function (e, t) {
        for (
          var n = 0, i = e.findAll("code.language-mermaid");
          n < i.length;
          n++
        ) {
          var r = i[n],
            o = fb(r),
            s = pb(t, o);
          s && (s.detach(), r.parentElement.replaceWith(s));
        }
      });
      var db = _t();
      function fb(e) {
        if (db.has(e)) return db.get(e);
        var t = Ee(e.innerHTML);
        return db.set(e, t), t;
      }
      cb.registerPostProcessor(function (e) {
        var t = e.findAll('code[class*="language-"]:not(.is-loaded)');
        if (0 !== t.length)
          return tp.then(function () {
            for (var e = 0, n = t; e < n.length; e++) {
              var i = n[e];
              fb(i), Prism.highlightElement(i), i.addClass("is-loaded");
            }
          });
      }, 100);
      var gb = function (e) {
          return e.className
            .split(" ")
            .filter(function (e) {
              return e.startsWith("language-");
            })
            .first();
        },
        mb = function (e, t, n) {
          for (var i = 0, r = e; i < r.length; i++)
            for (
              var o = 0,
                s = r[i].el.findAll('code[class*="language-"].is-loaded');
              o < s.length;
              o++
            ) {
              var a = s[o];
              if (n === db.get(a) && t === gb(a)) return a;
            }
          return null;
        };
      cb.registerRecycler(function (e, t) {
        for (
          var n = 0, i = e.findAll('code[class*="language-"]:not(.is-loaded)');
          n < i.length;
          n++
        ) {
          var r = i[n],
            o = fb(r),
            s = gb(r),
            a = mb(t, s, o);
          a && (a.detach(), r.replaceWith(a));
        }
      });
      var vb = _t();
      cb.registerPostProcessor(function (e) {
        var t = e.findAll(".math:not(.is-loaded)");
        if (0 !== t.length)
          return ip.then(function () {
            for (var e = 0, n = t; e < n.length; e++) {
              var i = n[e],
                r = Ee(i.innerHTML);
              i.empty();
              try {
                var o = op(r, i.classList.contains("math-block"));
                i.appendChild(o);
              } catch (e) {
                i.appendText(r);
              }
              i.addClass("is-loaded"), vb.set(i, r);
            }
            return up();
          });
      });
      var yb = function (e, t, n) {
        for (var i = 0, r = e; i < r.length; i++)
          for (
            var o = 0, s = r[i].el.findAll(".math.is-loaded");
            o < s.length;
            o++
          ) {
            var a = s[o];
            if (t === vb.get(a) && a.classList.contains("math-block") === n)
              return a;
          }
        return null;
      };
      function bb(e, t, n) {
        for (var i = 0, r = n; i < r.length; i++) {
          var o = r[i];
          if (e.getAttr(o) !== t.getAttr(o)) return !1;
        }
        return !0;
      }
      cb.registerRecycler(function (e, t) {
        for (
          var n = 0, i = e.findAll(".math:not(.is-loaded)");
          n < i.length;
          n++
        ) {
          var r = i[n],
            o = Ee(r.innerHTML),
            s = yb(t, o, r.classList.contains("math-block"));
          s && (s.detach(), r.replaceWith(s));
        }
      });
      var wb = function (e, t) {
        for (var n = 0, i = e; n < i.length; n++)
          for (
            var r = 0, o = i[n].el.findAll(".internal-embed.is-loaded");
            r < o.length;
            r++
          ) {
            var s = o[r];
            if (bb(t, s, ["src", "width", "height", "alt"])) return s;
          }
        return null;
      };
      cb.registerRecycler(function (e, t) {
        for (
          var n = 0, i = e.findAll(".internal-embed:not(.is-loaded)");
          n < i.length;
          n++
        ) {
          var r = i[n],
            o = wb(t, r);
          o && (o.detach(), r.replaceWith(o));
        }
      }),
        cb.registerPostProcessor(function (e) {
          var t = e.findAll("img");
          if (0 !== t.length) {
            for (
              var n = [],
                i = function (e) {
                  (e.referrerPolicy = "no-referrer"),
                    e.complete ||
                      n.push(
                        new Promise(function (t) {
                          e.addEventListener("load", t),
                            e.addEventListener("error", t);
                        })
                      );
                },
                r = 0,
                o = t;
              r < o.length;
              r++
            ) {
              i(o[r]);
            }
            return Promise.all(n);
          }
        });
      var kb = function (e, t, n) {
        for (var i = 0, r = e; i < r.length; i++)
          for (var o = 0, s = r[i].el.findAll("img"); o < s.length; o++) {
            var a = s[o];
            if (a instanceof HTMLImageElement && a.complete && t === a.src)
              return (
                a.setAttr("width", n.getAttr("width")),
                a.setAttr("height", n.getAttr("height")),
                a.setAttr("alt", n.getAttr("alt")),
                a
              );
          }
        return null;
      };
      cb.registerRecycler(function (e, t) {
        for (var n = 0, i = e.findAll("img"); n < i.length; n++) {
          var r = i[n];
          if (r instanceof HTMLImageElement) {
            var o = r.src,
              s = kb(t, o, r);
            s && (s.detach(), r.replaceWith(s));
          }
        }
      });
      var Cb = [
          "theme",
          "cssTheme",
          "enabledCssSnippets",
          "translucency",
          "baseFontSize",
          "baseFontSizeAction",
        ],
        xb = {
          alwaysUpdateLinks: !1,
          spellcheck: !1,
          spellcheckLanguages: null,
          readableLineLength: !0,
          strictLineBreaks: !1,
          showFrontmatter: !1,
          useMarkdownLinks: !1,
          showUnsupportedFiles: !1,
          autoPairBrackets: !0,
          autoPairMarkdown: !0,
          smartIndentList: !0,
          foldHeading: !1,
          foldIndent: !1,
          showLineNumber: !1,
          useTab: !0,
          tabSize: 4,
          lineWrap: !0,
          rightToLeft: !1,
          autoConvertHtml: !0,
          vimMode: !1,
          emacsyKeys: !0,
          legacyEditor: !0,
          livePreview: !0,
          attachmentFolderPath: "/",
          newFileLocation: "root",
          newFileFolderPath: "/",
          newLinkFormat: "shortest",
          fileSortOrder: "alphabetical",
          defaultViewMode: "source",
          promptDelete: !0,
          trashOption: "system",
          spellcheckDictionary: [],
          pdfExportSettings: {
            pageSize: "Letter",
            landscape: !1,
            margin: "0",
            downscalePercent: 100,
          },
          mobilePullAction: "command-palette:open",
          mobileToolbarCommands: [
            "editor:insert-wikilink",
            "editor:insert-embed",
            "editor:insert-tag",
            "editor:attach-file",
            "editor:set-heading",
            "editor:toggle-bold",
            "editor:toggle-italics",
            "editor:toggle-strikethrough",
            "editor:toggle-highlight",
            "editor:toggle-code",
            "editor:toggle-blockquote",
            "editor:toggle-comment",
            "editor:insert-link",
            "editor:toggle-bullet-list",
            "editor:toggle-numbered-list",
            "editor:toggle-checklist-status",
            "editor:indent-list",
            "editor:unindent-list",
            "editor:undo",
            "editor:redo",
            "editor:toggle-keyboard",
            "editor:configure-toolbar",
          ],
          communityPluginSortOrder: "download",
          communityThemeSortOrder: "download",
          hotkeys: {},
          theme: "obsidian",
          cssTheme: "",
          enabledCssSnippets: [],
          translucency: !1,
          baseFontSize: 16,
          baseFontSizeAction: !0,
        },
        Sb = (function () {
          function e() {
            this._ = {};
          }
          return (
            (e.prototype.on = function (e, t, n) {
              var i = this._,
                r = i[e];
              r || (i[e] = r = []);
              var o = { e: this, name: e, fn: t, ctx: n };
              return r.push(o), o;
            }),
            (e.prototype.off = function (e, t) {
              var n = this._,
                i = n[e],
                r = [];
              if (i && t)
                for (var o = 0; o < i.length; o++)
                  i[o].fn !== t && r.push(i[o]);
              r.length > 0 ? (n[e] = r) : delete n[e];
            }),
            (e.prototype.offref = function (e) {
              if (e) {
                var t = e.name,
                  n = this._,
                  i = n[t],
                  r = [];
                if (i && e)
                  for (var o = 0; o < i.length; o++) i[o] !== e && r.push(i[o]);
                r.length ? (n[t] = r) : delete n[t];
              }
            }),
            (e.prototype.trigger = function (e) {
              for (var t = [], n = 1; n < arguments.length; n++)
                t[n - 1] = arguments[n];
              var i = this._,
                r = i[e];
              if (r) {
                r = r.slice();
                for (var o = 0; o < r.length; o++) this.tryTrigger(r[o], t);
              }
            }),
            (e.prototype.tryTrigger = function (e, t) {
              try {
                e.fn.apply(e.ctx, t);
              } catch (e) {
                setTimeout(function () {
                  throw e;
                }, 0);
              }
            }),
            e
          );
        })(),
        Eb = ".obsidian",
        Mb = (function () {
          function e(e, t) {
            (this.deleted = !1), (this.vault = e), this.setPath(t);
          }
          return (
            (e.prototype.setPath = function (e) {
              (this.path = e), (this.name = Ye(e));
            }),
            (e.prototype.getNewPathAfterRename = function (e) {
              return (
                (e = e.replace(/[\x00-\x1F]/g, " ").trim()),
                this.parent
                  ? this.parent.isRoot()
                    ? e
                    : this.parent.path + "/" + e
                  : ""
              );
            }),
            e
          );
        })(),
        Lb = new WeakMap(),
        Ab = (function (e) {
          function t(t, n) {
            var i = e.call(this, t, n) || this;
            return (i.saving = !1), (i.stat = null), i;
          }
          return (
            M(t, e),
            (t.prototype.setPath = function (t) {
              e.prototype.setPath.call(this, t),
                (this.basename = Xe(this.name)),
                (this.extension = et(this.name));
            }),
            (t.prototype.getNewPathAfterRename = function (t) {
              return e.prototype.getNewPathAfterRename.call(
                this,
                tt(t, this.extension)
              );
            }),
            (t.prototype.cache = function (e) {
              if (null != e) {
                var t = this.vault.cacheLimit;
                e.length <= t ? Lb.set(this, e) : Lb.delete(this);
              } else Lb.delete(this);
            }),
            (t.prototype.updateCacheLimit = function () {
              var e = this.vault.cacheLimit;
              Lb.has(this) && Lb.get(this).length > e && Lb.delete(this);
            }),
            t
          );
        })(Mb),
        Db = (function (e) {
          function t(t, n) {
            var i = e.call(this, t, n) || this;
            return (i.children = []), i;
          }
          return (
            M(t, e),
            (t.prototype.isRoot = function () {
              return "/" === this.path;
            }),
            (t.prototype.getParentPrefix = function () {
              return this.isRoot() ? "" : this.path + "/";
            }),
            (t.prototype.getFileCount = function () {
              for (var e = 0, n = 0, i = this.children; n < i.length; n++) {
                var r = i[n];
                e += r instanceof t ? r.getFileCount() : 1;
              }
              return e;
            }),
            (t.prototype.getFolderCount = function () {
              for (var e = 0, n = 0, i = this.children; n < i.length; n++) {
                var r = i[n];
                r instanceof t && (e += 1 + r.getFolderCount());
              }
              return e;
            }),
            t
          );
        })(Mb),
        Tb = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (
              (n.fileMap = {}),
              (n.config = {}),
              (n.configTs = 0),
              (n.configDir = Eb),
              (n.requestSaveConfig = Tt(n.saveConfig.bind(n), 1e3, !0)),
              (n.cacheLimit = 65536),
              (n.reloadConfig = Tt(
                function () {
                  return A(n, void 0, void 0, function () {
                    var e, t, n, i, r, o, s, a, l;
                    return D(this, function (c) {
                      switch (c.label) {
                        case 0:
                          (e = this.getConfigFile("app")),
                            (t = this.getConfigFile("appearance")),
                            (n = !1),
                            (c.label = 1);
                        case 1:
                          return (
                            c.trys.push([1, 3, , 4]), [4, this.adapter.stat(e)]
                          );
                        case 2:
                          return (
                            c.sent().mtime > this.configTs && (n = !0), [3, 4]
                          );
                        case 3:
                          return c.sent(), (n = !0), [3, 4];
                        case 4:
                          return (
                            c.trys.push([4, 6, , 7]), [4, this.adapter.stat(t)]
                          );
                        case 5:
                          return (
                            c.sent().mtime > this.configTs && (n = !0), [3, 7]
                          );
                        case 6:
                          return c.sent(), (n = !0), [3, 7];
                        case 7:
                          return n
                            ? ((this.configTs = Date.now()),
                              [4, this.readConfigJson("app")])
                            : [2];
                        case 8:
                          return (
                            (i = c.sent()),
                            [4, this.readConfigJson("appearance")]
                          );
                        case 9:
                          for (l in ((r = c.sent()),
                          (o = Object.assign({}, r, i)),
                          (s = this.config),
                          (a = !1),
                          o))
                            o.hasOwnProperty(l) &&
                              ((s.hasOwnProperty(l) &&
                                JSON.stringify(s[l]) ===
                                  JSON.stringify(o[l])) ||
                                ((s[l] = o[l]), (a = !0)));
                          for (l in s)
                            s.hasOwnProperty(l) &&
                              !o.hasOwnProperty(l) &&
                              (delete s[l], (a = !0));
                          return a && this.trigger("config-changed"), [2];
                      }
                    });
                  });
                },
                500,
                !0
              )),
              (n.adapter = t),
              (n.root = new Db(n, "")),
              n.onChange("folder-created", "/"),
              (n.root = n.fileMap["/"]),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.getName = function () {
              return this.adapter.getName();
            }),
            (t.prototype.setFileCacheLimit = function (e) {
              this.cacheLimit = e;
              var t = this.fileMap;
              for (var n in t)
                if (t.hasOwnProperty(n)) {
                  var i = t[n];
                  i instanceof Ab && i.updateCacheLimit();
                }
            }),
            (t.validateConfigDir = function (e) {
              return "." !== e && e.startsWith(".") && !ze.test(e);
            }),
            (t.prototype.setConfigDir = function (e) {
              t.validateConfigDir(e) || (e = Eb), (this.configDir = e);
            }),
            (t.prototype.setupConfig = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return (
                        (t = (e = this).adapter),
                        (n = e.configDir),
                        [4, t.exists(n)]
                      );
                    case 1:
                      return s.sent() ? [3, 3] : [4, t.mkdir(n)];
                    case 2:
                      s.sent(), (s.label = 3);
                    case 3:
                      return (
                        (this.configTs = Date.now()),
                        (i = null),
                        [4, this.readConfigJson("app")]
                      );
                    case 4:
                      return (
                        (r = s.sent()), [4, this.readConfigJson("appearance")]
                      );
                    case 5:
                      return (
                        (o = s.sent()),
                        r ? [3, 7] : [4, this.readJson(n + "/config")]
                      );
                    case 6:
                      (i = s.sent()), (s.label = 7);
                    case 7:
                      return (
                        (this.config = Object.assign({}, i, o, r)),
                        i ? [4, this.saveConfig()] : [3, 12]
                      );
                    case 8:
                      s.sent(), (s.label = 9);
                    case 9:
                      return (
                        s.trys.push([9, 11, , 12]),
                        [4, this.adapter.remove(n + "/config")]
                      );
                    case 10:
                      return s.sent(), [3, 12];
                    case 11:
                      return s.sent(), [3, 12];
                    case 12:
                      return this.requestSaveConfig(), [2];
                  }
                });
              });
            }),
            (t.prototype.saveConfig = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r, o, s, a;
                return D(this, function (l) {
                  switch (l.label) {
                    case 0:
                      return (
                        (t = (e = this).adapter),
                        (n = e.configDir),
                        [4, t.exists(n)]
                      );
                    case 1:
                      return l.sent() ? [3, 3] : [4, t.mkdir(n)];
                    case 2:
                      l.sent(), (l.label = 3);
                    case 3:
                      for (s in ((i = this.config), (r = {}), (o = {}), i))
                        (a = s),
                          i.hasOwnProperty(a) &&
                            (Cb.contains(a) ? (o[a] = i[a]) : (r[a] = i[a]));
                      return [4, this.writeConfigJson("app", r)];
                    case 4:
                      return (
                        l.sent(), [4, this.writeConfigJson("appearance", o)]
                      );
                    case 5:
                      return l.sent(), (this.configTs = Date.now()), [2];
                  }
                });
              });
            }),
            (t.prototype.getConfig = function (e) {
              var t = this.config[e];
              return void 0 === t ? xb[e] : t;
            }),
            (t.prototype.setConfig = function (e, t) {
              void 0 !== t ? (this.config[e] = t) : delete this.config[e],
                this.requestSaveConfig(),
                this.trigger("config-changed");
            }),
            (t.prototype.readPluginData = function (e) {
              var t = rt(e + "/data.json");
              return this.readJson(t);
            }),
            (t.prototype.writePluginData = function (e, t) {
              var n = rt(e + "/data.json");
              return this.writeJson(n, t, !0);
            }),
            (t.prototype.getConfigFile = function (e) {
              return this.configDir + "/" + e + ".json";
            }),
            (t.prototype.readConfigJson = function (e) {
              return this.readJson(this.getConfigFile(e));
            }),
            (t.prototype.writeConfigJson = function (e, t) {
              return this.writeJson(this.getConfigFile(e), t, !0);
            }),
            (t.prototype.deleteConfigJson = function (e) {
              var t = rt(this.configDir + "/" + e + ".json");
              return this.adapter.remove(t);
            }),
            (t.prototype.readJson = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      (t = rt(e)), (o.label = 1);
                    case 1:
                      return (
                        o.trys.push([1, 3, , 4]),
                        (i = (n = JSON).parse),
                        [4, this.adapter.read(t)]
                      );
                    case 2:
                      return [2, i.apply(n, [o.sent()])];
                    case 3:
                      return (
                        "ENOENT" === (r = o.sent()).code || console.error(r),
                        [3, 4]
                      );
                    case 4:
                      return [2, null];
                  }
                });
              });
            }),
            (t.prototype.writeJson = function (e, t, n) {
              return A(this, void 0, Promise, function () {
                var i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      (i = rt(e)), (r.label = 1);
                    case 1:
                      return (
                        r.trys.push([1, 3, , 4]),
                        [
                          4,
                          this.adapter.write(
                            i,
                            JSON.stringify(t, void 0, n ? 2 : void 0)
                          ),
                        ]
                      );
                    case 2:
                      return r.sent(), [3, 4];
                    case 3:
                      return r.sent(), [3, 4];
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.load = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.adapter.watch(this.onChange.bind(this))];
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.getAbstractFileByPath = function (e) {
              return this.fileMap.hasOwnProperty(e) ? this.fileMap[e] : null;
            }),
            (t.prototype.getAbstractFileByPathInsensitive = function (e) {
              var t = this.fileMap;
              if (t.hasOwnProperty(e)) return t[e];
              var n = e.toLowerCase();
              for (var i in t)
                if (t.hasOwnProperty(i) && i.toLowerCase() === n) return t[i];
              return null;
            }),
            (t.prototype.isEmpty = function () {
              return 1 === Object.keys(this.fileMap).length;
            }),
            (t.prototype.getRoot = function () {
              return this.root;
            }),
            (t.prototype.checkForDuplicate = function (e, t) {
              var n = e.getNewPathAfterRename(t),
                i = this.fileMap[n];
              return i && i !== e;
            }),
            (t.prototype.checkPath = function (e) {
              if (!Ve(e))
                throw new Error(
                  "File name cannot contain any of the following characters: " +
                    Be
                );
            }),
            (t.prototype.onChange = function (e, t, n, i) {
              if ("folder-created" === e) {
                var r = new Db(this, t);
                (this.fileMap[t] = r),
                  this.addChild(r),
                  this.trigger("create", this.fileMap[t]);
              } else if ("file-created" === e) {
                var o = new Ab(this, t);
                (o.stat = i),
                  (this.fileMap[t] = o),
                  this.addChild(o),
                  this.trigger("create", this.fileMap[t]);
              } else if ("modified" === e) {
                if (!this.fileMap.hasOwnProperty(t)) return;
                (s = this.fileMap[t]) instanceof Ab &&
                  ((s.stat = i), s.saving || s.cache(null)),
                  this.trigger("modify", s);
              } else if ("file-removed" === e || "folder-removed" === e) {
                if (this.fileMap.hasOwnProperty(t)) {
                  var s = this.fileMap[t];
                  this.removeChild(s),
                    delete this.fileMap[t],
                    (s.deleted = !0),
                    this.trigger("delete", s);
                }
              } else if ("renamed" === e) {
                if (this.fileMap.hasOwnProperty(n)) {
                  var a = this.fileMap[n];
                  this.removeChild(a),
                    a.setPath(t),
                    this.addChild(a),
                    (this.fileMap[t] = a),
                    delete this.fileMap[n],
                    this.trigger("rename", a, n);
                }
              } else
                "closed" === e
                  ? this.trigger("closed")
                  : "raw" === e &&
                    (this.trigger("raw", t),
                    (t !== this.getConfigFile("app") &&
                      t !== this.getConfigFile("appearance")) ||
                      this.reloadConfig());
            }),
            (t.prototype.getDirectParent = function (e) {
              var t = e.path,
                n = t.lastIndexOf("/");
              if (-1 === n) return this.fileMap["/"];
              var i = t.slice(0, n),
                r = this.fileMap[i];
              return r && r instanceof Db ? r : null;
            }),
            (t.prototype.addChild = function (e) {
              var t = e.parent,
                n = this.getDirectParent(e);
              n &&
                n !== t &&
                (t && t.children.remove(e), n.children.push(e), (e.parent = n));
            }),
            (t.prototype.removeChild = function (e) {
              var t = e.parent;
              t && (t.children.remove(e), (e.parent = null));
            }),
            (t.prototype.exists = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (n = rt(e)), [4, this.adapter.exists(n, t)];
                    case 1:
                      return [2, i.sent()];
                  }
                });
              });
            }),
            (t.prototype.create = function (e, t, n) {
              return A(this, void 0, Promise, function () {
                var i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return (
                        (i = rt(e)),
                        this.checkPath(i),
                        [4, this.adapter.exists(i)]
                      );
                    case 1:
                      if (o.sent()) throw new Error("File already exists.");
                      return [4, this.adapter.write(i, t, n)];
                    case 2:
                      return (
                        o.sent(),
                        (r = this.getAbstractFileByPath(i)) instanceof Ab
                          ? [2, r]
                          : [2, null]
                      );
                  }
                });
              });
            }),
            (t.prototype.createBinary = function (e, t, n) {
              return A(this, void 0, Promise, function () {
                var i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return (
                        (i = rt(e)),
                        this.checkPath(i),
                        [4, this.adapter.exists(i)]
                      );
                    case 1:
                      if (o.sent()) throw new Error("File already exists.");
                      return [4, this.adapter.writeBinary(i, t, n)];
                    case 2:
                      return (
                        o.sent(),
                        (r = this.getAbstractFileByPath(i)) instanceof Ab
                          ? [2, r]
                          : [2, null]
                      );
                  }
                });
              });
            }),
            (t.prototype.createFolder = function (e) {
              return A(this, void 0, Promise, function () {
                var t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (t = rt(e)),
                        this.checkPath(t),
                        [4, this.adapter.exists(t)]
                      );
                    case 1:
                      if (n.sent()) throw new Error("Folder already exists.");
                      return [2, this.adapter.mkdir(t)];
                  }
                });
              });
            }),
            (t.prototype.read = function (e) {
              return A(this, void 0, Promise, function () {
                var t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [4, this.adapter.read(e.path)];
                    case 1:
                      return (t = n.sent()), e.cache(t), [2, t];
                  }
                });
              });
            }),
            (t.prototype.cachedRead = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  return Lb.has(e) ? [2, Lb.get(e)] : [2, this.read(e)];
                });
              });
            }),
            (t.prototype.readBinary = function (e) {
              return A(this, void 0, Promise, function () {
                var t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [4, this.adapter.readBinary(e.path)];
                    case 1:
                      t = n.sent();
                      try {
                        "md" === e.extension &&
                          t.byteLength <= this.cacheLimit &&
                          e.cache(new TextDecoder().decode(t));
                      } catch (e) {}
                      return [2, t];
                  }
                });
              });
            }),
            (t.prototype.readRaw = function (e) {
              return A(this, void 0, Promise, function () {
                var t;
                return D(this, function (n) {
                  return (t = rt(e)), [2, this.adapter.read(t)];
                });
              });
            }),
            (t.prototype.getResourcePath = function (e) {
              return this.adapter.getResourcePath(e.path);
            }),
            (t.prototype.delete = function (e, t) {
              return (
                void 0 === t && (t = !1),
                A(this, void 0, Promise, function () {
                  return D(this, function (n) {
                    switch (n.label) {
                      case 0:
                        return e
                          ? e instanceof Ab
                            ? [4, this.adapter.remove(e.path)]
                            : [3, 2]
                          : [3, 4];
                      case 1:
                        return n.sent(), [3, 4];
                      case 2:
                        return e instanceof Db
                          ? [4, this.adapter.rmdir(e.path, t)]
                          : [3, 4];
                      case 3:
                        n.sent(), (n.label = 4);
                      case 4:
                        return [2];
                    }
                  });
                })
              );
            }),
            (t.prototype.trash = function (e, t) {
              return A(this, void 0, void 0, function () {
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return e
                        ? t
                          ? [4, this.adapter.trashSystem(e.path)]
                          : [3, 2]
                        : [2];
                    case 1:
                      if (n.sent()) return [2];
                      n.label = 2;
                    case 2:
                      return [4, this.adapter.trashLocal(e.path)];
                    case 3:
                      return n.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.rename = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        (n = rt(t)),
                        e.path === n
                          ? [2]
                          : (this.checkPath(n),
                            [4, this.adapter.rename(e.path, n)])
                      );
                    case 1:
                      return i.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.modify = function (e, t, n) {
              return A(this, void 0, Promise, function () {
                var i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      (i = e.saving), (e.saving = !0), (o.label = 1);
                    case 1:
                      return (
                        o.trys.push([1, 3, 4, 5]),
                        ((n = n || {}).immediate = function () {
                          return e.cache(t);
                        }),
                        [4, this.adapter.write(e.path, t, n)]
                      );
                    case 2:
                      return o.sent(), [3, 5];
                    case 3:
                      throw ((r = o.sent()), e.cache(null), r);
                    case 4:
                      return (e.saving = i), [7];
                    case 5:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.modifyBinary = function (e, t, n) {
              return A(this, void 0, Promise, function () {
                var i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      (i = e.saving), (e.saving = !0), (r.label = 1);
                    case 1:
                      return (
                        r.trys.push([1, , 3, 4]),
                        ((n = n || {}).immediate = function () {
                          return e.cache(null);
                        }),
                        [4, this.adapter.writeBinary(e.path, t, n)]
                      );
                    case 2:
                      return r.sent(), [3, 4];
                    case 3:
                      return (e.saving = i), [7];
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.append = function (e, t, n) {
              return A(this, void 0, Promise, function () {
                var i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      (i = e.saving), (e.saving = !0), (r.label = 1);
                    case 1:
                      return (
                        r.trys.push([1, , 3, 4]),
                        ((n = n || {}).immediate = function () {
                          return e.cache(null);
                        }),
                        [4, this.adapter.append(e.path, t, n)]
                      );
                    case 2:
                      return r.sent(), [3, 4];
                    case 3:
                      return (e.saving = i), [7];
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.copy = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return (
                        (n = (n = rt(t)).normalize("NFC")),
                        this.checkPath(n),
                        [4, this.adapter.copy(e.path, n)]
                      );
                    case 1:
                      return (
                        r.sent(),
                        (i = this.getAbstractFileByPath(n)) instanceof Ab
                          ? [2, i]
                          : [2, null]
                      );
                  }
                });
              });
            }),
            (t.prototype.getAllLoadedFiles = function () {
              var e = [];
              for (var t in this.fileMap)
                if (this.fileMap.hasOwnProperty(t)) {
                  var n = this.fileMap[t];
                  e.push(n);
                }
              return e;
            }),
            (t.prototype.getAvailablePath = function (e, t) {
              for (
                var n = 1, i = tt(e, t);
                this.getAbstractFileByPathInsensitive(i);

              )
                (i = tt(e + " " + n, t)), n++;
              return i;
            }),
            (t.prototype.getAvailablePathForAttachments = function (e, t, n) {
              return A(this, void 0, Promise, function () {
                var i, r, o, s;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (i = this.getConfig("attachmentFolderPath")),
                        (r = "." === i || "./" === i),
                        (o = null),
                        i.startsWith("./") && (o = i.slice(2)),
                        r
                          ? (i = n.parent.path)
                          : o && (i = n.parent.getParentPrefix() + o),
                        (s = this.getAbstractFileByPathInsensitive(i)) || !o
                          ? [3, 2]
                          : [4, this.createFolder(i)]
                      );
                    case 1:
                      a.sent(),
                        (s = this.getAbstractFileByPathInsensitive(i)),
                        (a.label = 2);
                    case 2:
                      return s instanceof Db
                        ? [2, this.getAvailablePath(s.getParentPrefix() + e, t)]
                        : [2, this.getAvailablePath(e, t)];
                  }
                });
              });
            }),
            (t.recurseChildren = function (e, t) {
              for (var n = [e]; n.length > 0; ) {
                var i = n.pop();
                if (i && (t(i), i instanceof Db)) {
                  var r = i.children;
                  n = n.concat(r);
                }
              }
            }),
            (t.prototype.getMarkdownFiles = function () {
              var e = [],
                n = this.getRoot();
              return (
                t.recurseChildren(n, function (t) {
                  t instanceof Ab && "md" === t.extension && e.push(t);
                }),
                e
              );
            }),
            (t.prototype.getFiles = function () {
              var e = [],
                n = this.getRoot();
              return (
                t.recurseChildren(n, function (t) {
                  t instanceof Ab && e.push(t);
                }),
                e
              );
            }),
            (t.prototype.iterateFiles = function (e, t) {
              return F(this, arguments, function () {
                var n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      (n = 0), (s.label = 1);
                    case 1:
                      return n < e.length
                        ? ((i = e[n]),
                          (r = ""),
                          "md" !== i.extension
                            ? [3, 6]
                            : t
                            ? [4, O(this.cachedRead(i))]
                            : [3, 3])
                        : [3, 10];
                    case 2:
                      return (o = s.sent()), [3, 5];
                    case 3:
                      return [4, O(this.read(i))];
                    case 4:
                      (o = s.sent()), (s.label = 5);
                    case 5:
                      (r = o), (s.label = 6);
                    case 6:
                      return [4, O({ file: i, content: r })];
                    case 7:
                      return [4, s.sent()];
                    case 8:
                      s.sent(), (s.label = 9);
                    case 9:
                      return n++, [3, 1];
                    case 10:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.generateFiles = function (e, t) {
              return F(this, arguments, function () {
                var n, i, r, o, s, a, l, c;
                return D(this, function (u) {
                  switch (u.label) {
                    case 0:
                      u.trys.push([0, 12, 13, 18]), (n = I(e)), (u.label = 1);
                    case 1:
                      return [4, O(n.next())];
                    case 2:
                      return (i = u.sent()).done
                        ? [3, 11]
                        : ((r = i.value),
                          (o = ""),
                          "md" !== r.extension
                            ? [3, 7]
                            : t
                            ? [4, O(this.cachedRead(r))]
                            : [3, 4]);
                    case 3:
                      return (s = u.sent()), [3, 6];
                    case 4:
                      return [4, O(this.read(r))];
                    case 5:
                      (s = u.sent()), (u.label = 6);
                    case 6:
                      (o = s), (u.label = 7);
                    case 7:
                      return [4, O({ file: r, content: o })];
                    case 8:
                      return [4, u.sent()];
                    case 9:
                      u.sent(), (u.label = 10);
                    case 10:
                      return [3, 1];
                    case 11:
                      return [3, 18];
                    case 12:
                      return (a = u.sent()), (l = { error: a }), [3, 18];
                    case 13:
                      return (
                        u.trys.push([13, , 16, 17]),
                        i && !i.done && (c = n.return)
                          ? [4, O(c.call(n))]
                          : [3, 15]
                      );
                    case 14:
                      u.sent(), (u.label = 15);
                    case 15:
                      return [3, 17];
                    case 16:
                      if (l) throw l.error;
                      return [7];
                    case 17:
                      return [7];
                    case 18:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.trigger = function (t) {
              for (var n = [], i = 1; i < arguments.length; i++)
                n[i - 1] = arguments[i];
              e.prototype.trigger.apply(this, P([t], n));
            }),
            (t.prototype.on = function (t, n, i) {
              return e.prototype.on.call(this, t, n, i);
            }),
            t
          );
        })(Sb),
        Pb = {
          height: "",
          paddingTop: "",
          paddingBottom: "",
          marginTop: "",
          marginBottom: "",
        },
        Ob = new WeakMap(),
        Fb = [],
        Ib = [],
        Nb = (function () {
          function e(e) {
            (this.from = {}), (this.to = {}), (this.end = {});
            var t = e || {},
              n = t.duration,
              i = void 0 === n ? 100 : n,
              r = t.fn,
              o = void 0 === r ? "ease-in-out" : r;
            (this.duration = i), (this.fn = o);
          }
          return (
            (e.prototype.addProp = function (e, t, n, i) {
              return (
                void 0 === i && (i = null),
                null !== t && (this.from[e] = t),
                null !== n && (this.to[e] = n),
                null !== i && (this.end[e] = i),
                this
              );
            }),
            e
          );
        })();
      function Bb(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e.style[n] = t[n]);
      }
      function Rb(e) {
        var t = window.getComputedStyle(e),
          n = {};
        for (var i in Pb)
          if (Pb.hasOwnProperty(i)) {
            var r = t[i];
            if (r && r.endsWith("px")) {
              var o = parseFloat(r.substr(0, r.length - 2));
              0 !== o && (n[i] = o);
            }
          }
        return n;
      }
      function zb(e, t) {
        var n = Ob.get(e);
        if (
          (Ob.delete(e),
          n &&
            ((e.style.transition = ""),
            Bb(e, n.props.end),
            clearTimeout(n.timer),
            e.removeEventListener("transitionend", n.fn),
            Fb.remove(n),
            t || (n.complete && n.complete()),
            0 === Fb.length))
        ) {
          var i = Ib;
          (Ib = []),
            i.forEach(function (e) {
              return e();
            });
        }
      }
      var Hb = null;
      function Vb(e, t, n) {
        zb(e), Bb(e, t.from);
        var i = {
          props: t,
          fn: function () {
            return zb(e);
          },
          timer: 0,
          complete: n,
        };
        Ob.set(e, i), Fb.push(i);
        null === Hb &&
          ((Hb = []),
          setTimeout(function () {
            document.body.offsetHeight;
            var e = Hb;
            Hb = null;
            for (var t = 0, n = e; t < n.length; t++) {
              (0, n[t])();
            }
          }, 0)),
          Hb.push(function () {
            (e.style.transition = "all " + t.duration + "ms " + t.fn),
              Bb(e, t.to),
              e.addEventListener("transitionend", i.fn),
              (i.timer = window.setTimeout(i.fn, t.duration + 50));
          });
      }
      function qb(e) {
        return new Promise(function (t) {
          return (function (e, t) {
            zb(e);
            var n = Rb(e),
              i = new Nb({
                duration: 100,
                fn: "cubic-bezier(.02, .01, .47, 1)",
              });
            for (var r in (i.addProp("overflow", "hidden", "hidden", ""), n))
              n.hasOwnProperty(r) && i.addProp(r, "0px", n[r] + "px", "");
            Vb(e, i, t);
          })(e, t);
        });
      }
      function jb(e) {
        return new Promise(function (t) {
          return (function (e, t) {
            zb(e);
            var n = Rb(e),
              i = new Nb({
                duration: 100,
                fn: "cubic-bezier(.02, .01, .47, 1)",
              });
            for (var r in (i.addProp("overflow", "hidden", "hidden", ""), n))
              n.hasOwnProperty(r) && i.addProp(r, n[r] + "px", "0px", "");
            Vb(e, i, t);
          })(e, t);
        });
      }
      function Ub(e, t, n) {
        return A(this, void 0, Promise, function () {
          return D(this, function (i) {
            switch (i.label) {
              case 0:
                return zb(e), t ? (n ? [4, jb(e)] : [3, 2]) : [3, 3];
              case 1:
                i.sent(), (i.label = 2);
              case 2:
                return e.hide(), [3, 5];
              case 3:
                return e.show(), n ? [4, qb(e)] : [3, 5];
              case 4:
                i.sent(), (i.label = 5);
              case 5:
                return [2];
            }
          });
        });
      }
      function Wb(e, t, n, i) {
        return A(this, void 0, Promise, function () {
          return D(this, function (r) {
            switch (r.label) {
              case 0:
                return n ? (i ? [4, jb(e)] : [3, 2]) : [3, 3];
              case 1:
                r.sent(), (r.label = 2);
              case 2:
                return e.detach(), [3, 5];
              case 3:
                return t.appendChild(e), i ? [4, qb(e)] : [3, 5];
              case 4:
                r.sent(), (r.label = 5);
              case 5:
                return [2];
            }
          });
        });
      }
      var _b = function () {};
      function Gb(e, t, n, i) {
        i = i || _b;
        for (
          var r = 0, o = Array.prototype.slice.call(e.childNodes);
          r < o.length;
          r++
        ) {
          zb(o[r]);
        }
        var s = e.firstChild;
        if (!s) return e.appendChild(t), void i();
        s !== t || s.nextSibling
          ? "left" === n
            ? (e.setChildrenInPlace([t, s]),
              Vb(
                t,
                new Nb({ duration: 300 }).addProp(
                  "transform",
                  "translateX(-100%)",
                  "translateX(0)",
                  ""
                )
              ),
              Vb(
                s,
                new Nb({ duration: 300 }).addProp(
                  "transform",
                  "translateX(0)",
                  "translateX(100%)"
                ),
                function () {
                  s.detach(), i && i();
                }
              ))
            : (e.setChildrenInPlace([s, t]),
              Vb(
                s,
                new Nb({ duration: 300 }).addProp(
                  "transform",
                  "translateX(0)",
                  "translateX(-100%)"
                ),
                function () {
                  s.detach(), i && i();
                }
              ),
              Vb(
                t,
                new Nb({ duration: 300 }).addProp(
                  "transform",
                  "translateX(100%)",
                  "translateX(0)",
                  ""
                )
              ))
          : i();
      }
      for (
        var Kb = {
            3: "Cancel",
            6: "Help",
            8: "Backspace",
            9: "Tab",
            12: "Clear",
            13: "Enter",
            16: "Shift",
            17: "Control",
            18: "Alt",
            19: "Pause",
            20: "CapsLock",
            27: "Escape",
            28: "Convert",
            29: "NonConvert",
            30: "Accept",
            31: "ModeChange",
            32: " ",
            33: "PageUp",
            34: "PageDown",
            35: "End",
            36: "Home",
            37: "ArrowLeft",
            38: "ArrowUp",
            39: "ArrowRight",
            40: "ArrowDown",
            41: "Select",
            42: "Print",
            43: "Execute",
            44: "PrintScreen",
            45: "Insert",
            46: "Delete",
            48: "0",
            49: "1",
            50: "2",
            51: "3",
            52: "4",
            53: "5",
            54: "6",
            55: "7",
            56: "8",
            57: "9",
            91: "OS",
            93: "ContextMenu",
            95: "Sleep",
            106: "*",
            107: "+",
            109: "-",
            110: ".",
            111: "/",
            144: "NumLock",
            145: "ScrollLock",
            181: "VolumeMute",
            182: "VolumeDown",
            183: "VolumeUp",
            186: ";",
            187: "=",
            188: ",",
            189: "-",
            190: ".",
            191: "/",
            192: "`",
            219: "[",
            220: "\\",
            221: "]",
            222: "'",
            224: "Meta",
            225: "AltGraph",
            246: "Attn",
            247: "CrSel",
            248: "ExSel",
            249: "EraseEof",
            250: "Play",
            251: "ZoomOut",
          },
          $b = 1;
        $b < 25;
        $b++
      )
        Kb[111 + $b] = "F" + $b;
      for ($b = 65; $b < 91; $b++) {
        var Yb = String.fromCharCode($b);
        Kb[$b] = Yb.toUpperCase();
      }
      for ($b = 96; $b < 106; $b++)
        Kb[$b] = "Numpad" + String.fromCharCode($b - 48);
      var Jb = {
        ArrowLeft: "←",
        ArrowRight: "→",
        ArrowUp: "↑",
        ArrowDown: "↓",
      };
      function Qb(e) {
        var t = e.key;
        if (!t) {
          var n = e.which || e.keyCode;
          t = Kb[n];
        }
        return t;
      }
      var Xb = fe
          ? { Mod: "⌘", Ctrl: "⌃", Meta: "⌘", Alt: "⌥", Shift: "⇧" }
          : {
              Mod: "Ctrl",
              Ctrl: "Ctrl",
              Meta: "Win",
              Alt: "Alt",
              Shift: "Shift",
            },
        Zb = ["Mod", "Ctrl", "Meta", "Alt", "Shift"];
      var ew = (function () {
          function e(e) {
            (this.keys = []), (this.parent = e);
          }
          return (
            (e.prototype.registerKey = function (e, t, n) {
              return this.register(e, t, n);
            }),
            (e.prototype.register = function (e, t, n) {
              var i = {
                scope: this,
                modifiers: e ? nw.compileModifiers(e) : null,
                key: t,
                func: n,
              };
              return this.keys.push(i), i;
            }),
            (e.prototype.unregister = function (e) {
              this.keys.remove(e);
            }),
            (e.prototype.handleKey = function (e, t) {
              for (var n = 0, i = this.keys; n < i.length; n++) {
                var r = i[n];
                if (nw.isMatch(r, t)) {
                  var o = r.func(e, t);
                  if (void 0 !== o) return o;
                  if (null !== r.key || null !== r.modifiers) return o;
                }
              }
              if (this.parent) return this.parent.handleKey(e, t);
            }),
            e
          );
        })(),
        tw = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (i.cb = n), i;
          }
          return (
            M(t, e),
            (t.prototype.handleKey = function (t, n) {
              var i = this.cb();
              return i
                ? i.handleKey(t, n)
                : e.prototype.handleKey.call(this, t, n);
            }),
            t
          );
        })(ew),
        nw = (function () {
          function e() {
            (this.rootScope = new ew()),
              (this.scope = this.rootScope),
              (this.prevScopes = []),
              window.addEventListener(
                "keydown",
                this.onKeyEvent.bind(this),
                !0
              );
          }
          return (
            (e.prototype.getRootScope = function () {
              return this.rootScope;
            }),
            (e.prototype.pushScope = function (e) {
              this.scope !== e &&
                (this.prevScopes.push(this.scope), (this.scope = e));
            }),
            (e.prototype.popScope = function (e) {
              e !== this.rootScope &&
                (this.scope === e
                  ? (this.scope = this.prevScopes.pop() || this.rootScope)
                  : this.prevScopes.remove(e));
            }),
            (e.prototype.onKeyEvent = function (t) {
              this.updateModifiers(t);
              var n = this.scope;
              if (n) {
                var i = Qb(t);
                if (!e.isModifierKey(i)) {
                  var r = (function (e) {
                    var t = e.which || e.keyCode;
                    return Kb[t] || "Key" + t;
                  })(t);
                  54 === t.which &&
                    "^" == t.key &&
                    "KeyI" === t.code &&
                    (r = "KeyI");
                  var o = { modifiers: this.modifiers, key: i, vkey: r };
                  return !1 === n.handleKey(t, o)
                    ? (t.preventDefault(), t.stopPropagation(), !1)
                    : void 0;
                }
              }
            }),
            (e.prototype.updateModifiers = function (t) {
              this.modifiers = e.getModifiers(t);
            }),
            (e.getModifiers = function (t) {
              var n = [];
              return (
                t.ctrlKey && n.push("Ctrl"),
                t.metaKey && n.push("Meta"),
                t.altKey && n.push("Alt"),
                t.shiftKey && n.push("Shift"),
                e.compileModifiers(n)
              );
            }),
            (e.compileModifiers = function (e) {
              return e
                .map(function (e) {
                  return "Mod" === e ? ("MacOS" === pe ? "Meta" : "Ctrl") : e;
                })
                .sort()
                .join(",");
            }),
            (e.decompileModifiers = function (e) {
              return e
                .split(",")
                .map(function (e) {
                  return ("MacOS" === pe && "Meta" === e) ||
                    ("MacOS" !== pe && "Ctrl" === e)
                    ? "Mod"
                    : e;
                })
                .filter(function (e) {
                  return e;
                });
            }),
            (e.isModifierKey = function (e) {
              return (
                "Control" === e ||
                "Alt" === e ||
                "Shift" === e ||
                "OS" === e ||
                "Meta" === e
              );
            }),
            (e.prototype.matchModifiers = function (e) {
              return this.modifiers === e;
            }),
            (e.isModifier = function (e, t) {
              return "Ctrl" === t
                ? e.ctrlKey
                : "Meta" === t
                ? e.metaKey
                : "Alt" === t
                ? e.altKey
                : "Shift" === t
                ? e.shiftKey
                : "Mod" === t && ("MacOS" === pe ? e.metaKey : e.ctrlKey);
            }),
            (e.isMatch = function (e, t) {
              var n = e.modifiers,
                i = e.key;
              return (
                (null === n || n === t.modifiers) &&
                (!i ||
                  i === t.vkey ||
                  !(!t.key || i.toLowerCase() !== t.key.toLowerCase()))
              );
            }),
            (e.isModEvent = function (t) {
              return (
                !!t &&
                (e.isModifier(t, "Mod") ||
                  (t instanceof MouseEvent && 1 === t.button))
              );
            }),
            e
          );
        })(),
        iw = (function () {
          function e(e) {
            (this.disabled = !1), (this.menu = e);
            var t = (this.dom = e.dom.createDiv("menu-item"));
            (this.iconEl = t.createDiv("menu-item-icon")),
              (this.titleEl = t.createDiv("menu-item-title")),
              t.addEventListener("mousedown", function () {
                var e = wh();
                e &&
                  requestAnimationFrame(function () {
                    kh(e);
                  });
              }),
              t.addEventListener("click", this.handleEvent.bind(this));
          }
          return (
            (e.prototype.setTitle = function (e) {
              return (
                "string" == typeof e
                  ? this.titleEl.setText(e)
                  : (this.titleEl.empty(), this.titleEl.appendChild(e)),
                this
              );
            }),
            (e.prototype.setIcon = function (e, t) {
              return (
                void 0 === t && (t = 16),
                e ? Xy(this.iconEl, e, t) : this.iconEl.empty(),
                this
              );
            }),
            (e.prototype.removeIcon = function () {
              return this.iconEl.detach(), this;
            }),
            (e.prototype.setActive = function (e) {
              return this.setIcon(e ? Fm : null), this;
            }),
            (e.prototype.setDisabled = function (e) {
              return (
                (this.disabled = e),
                this.dom.toggleClass("is-disabled", e),
                this
              );
            }),
            (e.prototype.setIsLabel = function (e) {
              return this.dom.toggleClass("is-label", e), this;
            }),
            (e.prototype.onClick = function (e) {
              return (this.callback = e), this;
            }),
            (e.prototype.handleEvent = function (e) {
              if (this.disabled) e.preventDefault();
              else {
                var t = this.callback;
                t && t(e);
              }
            }),
            e
          );
        })(),
        rw = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            (n.unloading = !1),
              (n.items = []),
              (n.selected = -1),
              (n.app = t),
              (n.scope = new ew(t.scope)),
              (n.dom = createDiv("menu"));
            var i = (n.bgEl = createDiv("suggestion-bg"));
            return (
              i.addEventListener("mousedown", function (e) {
                return e.preventDefault();
              }),
              i.onClickEvent(function () {
                return n.hide();
              }),
              n.scope.register([], "ArrowUp", n.onArrowUp.bind(n)),
              n.scope.register([], "ArrowDown", n.onArrowDown.bind(n)),
              n.scope.register([], "Enter", n.onEnter.bind(n)),
              n.scope.register([], "Escape", n.hide.bind(n)),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.onload = function () {
              var e = this;
              this.registerDomEvent(document, "click", this.hide.bind(this)),
                this.registerDomEvent(document, "mousedown", function (t) {
                  var n = e.dom;
                  n === t.target || n.contains(t.target) || e.hide();
                }),
                this.registerDomEvent(
                  document,
                  "contextmenu",
                  this.hide.bind(this)
                ),
                this.app.keymap.pushScope(this.scope);
            }),
            (t.prototype.onunload = function () {
              this.app.keymap.popScope(this.scope);
            }),
            (t.prototype.setNoIcon = function () {
              return this.dom.addClass("mod-no-icon"), this;
            }),
            (t.prototype.addItem = function (e) {
              var t = this,
                n = new iw(this);
              return (
                this.items.push(n),
                n.dom.addEventListener("mouseover", function () {
                  t.select(t.items.indexOf(n));
                }),
                e(n),
                this
              );
            }),
            (t.prototype.addSeparator = function () {
              return this.dom.createDiv("menu-separator"), this;
            }),
            (t.prototype.showAtMouseEvent = function (e) {
              return this.showAtPosition({ x: e.clientX, y: e.clientY });
            }),
            (t.prototype.showAtPosition = function (e) {
              if ((this.unload(), 0 === this.items.length)) return this;
              setTimeout(this.load.bind(this), 0);
              var t = this.dom,
                n = this.bgEl;
              if ((document.body.appendChild(t), eb.isMobile)) {
                document.body.appendChild(n);
                var i = t.offsetHeight - 1;
                Vb(
                  t,
                  new Nb({ duration: 300 }).addProp(
                    "transform",
                    "translateY(" + i + "px)",
                    ""
                  )
                ),
                  Vb(
                    n,
                    new Nb({ duration: 200 }).addProp("opacity", "0", "0.85")
                  );
              } else {
                var r = t.offsetWidth,
                  o = t.offsetHeight,
                  s = window.innerWidth,
                  a = window.innerHeight,
                  l = parseFloat(getComputedStyle(document.body).paddingTop);
                (l && !isNaN(l)) || (l = 0);
                var c = t.style;
                e.x + r > s
                  ? (c.left = Math.max(0, e.x - r + 2) + "px")
                  : (c.left = e.x + 2 + "px"),
                  e.y + o > a
                    ? (c.top = Math.max(l, e.y - o + 2) + "px")
                    : (c.top = e.y + 2 + "px"),
                  Fh(t);
              }
              return this;
            }),
            (t.prototype.hide = function () {
              var e = this;
              if ((this.unload(), this.unloading)) return this;
              this.unloading = !0;
              var t = this,
                n = t.dom,
                i = t.bgEl,
                r = t.hideCallback;
              if (eb.isMobile) {
                var o = n.offsetHeight - 1;
                Vb(
                  n,
                  new Nb({ duration: 300 }).addProp(
                    "transform",
                    "",
                    "translateY(" + o + "px)"
                  ),
                  function () {
                    n.detach(), r && r(), (e.unloading = !1);
                  }
                ),
                  Vb(
                    i,
                    new Nb({ duration: 200 }).addProp("opacity", null, "0"),
                    function () {
                      i.detach();
                    }
                  );
              } else n.detach(), r && r(), (this.unloading = !1);
              return this;
            }),
            (t.prototype.onHide = function (e) {
              this.hideCallback = e;
            }),
            (t.prototype.onArrowUp = function (e) {
              e.preventDefault();
              for (
                var t = this.items, n = this.selected - 1, i = 0;
                i < t.length;

              ) {
                var r = t[n];
                if (r && !r.disabled) return this.select(n), !1;
                --n < 0 && (n = t.length - 1), i++;
              }
              return !1;
            }),
            (t.prototype.onArrowDown = function (e) {
              e.preventDefault();
              for (
                var t = this.items, n = this.selected + 1, i = 0;
                i < t.length;

              ) {
                var r = t[n];
                if (r && !r.disabled) return this.select(n), !1;
                ++n >= t.length && (n = 0), i++;
              }
              return !1;
            }),
            (t.prototype.onEnter = function (e) {
              var t = this.items[this.selected];
              return t && (t.handleEvent(e), this.hide()), !1;
            }),
            (t.prototype.select = function (e) {
              var t = this.items,
                n = this.selected;
              if (0 !== t.length) {
                e < 0 && (e = t.length - 1), e >= t.length && (e = 0);
                var i = t[n];
                i && i.dom.removeClass("selected"), (this.selected = e);
                var r = t[e];
                r.dom.addClass("selected"),
                  r.dom.scrollIntoView({ block: "nearest" });
              }
            }),
            t
          );
        })(nm),
        ow = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (
              (n.icon = dm),
              (n.navigation = !0),
              (n.app = t.app),
              (n.leaf = t),
              (n.containerEl = createDiv("workspace-leaf-content")),
              n.containerEl.setAttribute("data-type", n.getViewType()),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.open = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return (
                        e.appendChild(this.containerEl),
                        this.load(),
                        [4, this.onOpen()]
                      );
                    case 1:
                      return t.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.close = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (
                        this.containerEl.detach(),
                        this.unload(),
                        [4, this.onClose()]
                      );
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.onOpen = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  return [2];
                });
              });
            }),
            (t.prototype.onClose = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  return [2];
                });
              });
            }),
            (t.prototype.getState = function () {
              return {};
            }),
            (t.prototype.setState = function (e, t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  return [2];
                });
              });
            }),
            (t.prototype.getEphemeralState = function () {
              return {};
            }),
            (t.prototype.setEphemeralState = function (e) {}),
            (t.prototype.getIcon = function () {
              return this.icon ? this.icon : dm;
            }),
            (t.prototype.onResize = function () {}),
            (t.prototype.onHeaderMenu = function (e) {}),
            (t.prototype.getSideTooltipPlacement = function () {
              var e = this.leaf.getRoot();
              return "left" === e.side
                ? "right"
                : "right" === e.side
                ? "left"
                : void 0;
            }),
            t
          );
        })(nm),
        sw = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            n.canDropAnywhere = !1;
            var i = n.app,
              r = i.workspace,
              o = (n.headerEl = n.containerEl.createDiv("view-header"));
            n.contentEl = n.containerEl.createDiv("view-content");
            var s = (n.iconEl = o.createDiv("view-header-icon"));
            (eb.isMobile || nn(s, Lt("interface.drag-to-rearrange")),
            (n.titleContainerEl = o.createDiv("view-header-title-container")),
            (n.titleEl = n.titleContainerEl.createDiv({
              cls: "view-header-title",
            })),
            (n.actionsEl = o.createDiv("view-actions")),
            eb.isMobile
              ? ((n.moreOptionsButtonEl = n.addAction(
                  Vm,
                  Lt("interface.menu.more-options"),
                  function () {
                    r.rightSplit.expand();
                  },
                  24
                )),
                n.moreOptionsButtonEl.addEventListener(
                  "contextmenu",
                  n.onMoreOptions.bind(n)
                ))
              : (n.moreOptionsButtonEl = n.addAction(
                  Vm,
                  Lt("interface.menu.more-options"),
                  n.onMoreOptions.bind(n)
                )),
            eb.isMobile) ||
              n
                .addAction(
                  Jm,
                  Lt("interface.menu.close"),
                  function () {
                    t.detach();
                  },
                  16
                )
                .addClass("mod-close-leaf");
            var a = (n.pinButtonEl = n.addAction(
              qm,
              Lt("interface.menu.pin"),
              function () {
                t.togglePinned();
              }
            ));
            a.addClass("mod-pin-leaf"),
              a.hide(),
              s.addEventListener("mousedown", function (e) {
                r.onDragLeaf(e, n.leaf);
              }),
              i.dragManager.handleDrop(n.containerEl, n.handleDrop.bind(n));
            var l = (n.groupButtonEl = n.addAction(
              Pm,
              Lt("interface.menu.unlink-pane"),
              function () {
                for (
                  var e = 0, n = r.getGroupLeaves(t.group);
                  e < n.length;
                  e++
                ) {
                  n[e].unhighlight();
                }
                t.setGroup(null);
              }
            ));
            return (
              l.addEventListener("mouseover", function () {
                Xy(l, Ym, 18);
                for (
                  var e = 0, n = r.getGroupLeaves(t.group);
                  e < n.length;
                  e++
                ) {
                  n[e].highlight();
                }
              }),
              l.addEventListener("mouseout", function () {
                Xy(l, Pm, 18);
                for (
                  var e = 0, n = r.getGroupLeaves(t.group);
                  e < n.length;
                  e++
                ) {
                  n[e].unhighlight();
                }
              }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.load = function () {
              e.prototype.load.call(this), this.onGroupChange();
              var t = this.app,
                n = this.leaf;
              eb.isMobile
                ? (Xy(this.iconEl, ym, 24),
                  this.iconEl.addEventListener("click", function () {
                    t.workspace.leftSplit.expand();
                  }))
                : Xy(this.iconEl, this.getIcon(), 18),
                this.titleEl.setText(this.getDisplayText()),
                this.registerEvent(
                  n.on("pinned-change", this.onPinnedChange, this)
                ),
                this.registerEvent(
                  n.on("group-change", this.onGroupChange, this)
                );
            }),
            (t.prototype.handleDrop = function (e, t, n) {
              if (
                this.canDropAnywhere ||
                (fe ? e.shiftKey : e.altKey) ||
                this.headerEl.contains(e.target)
              ) {
                var i = this.leaf.handleDrop(e, t, n);
                if (i)
                  return (
                    (i.hoverEl = this.headerEl),
                    (i.hoverClass = "is-highlighted"),
                    i
                  );
              }
            }),
            (t.prototype.onPinnedChange = function (e) {
              this.pinButtonEl.toggleClass("is-active", e),
                e
                  ? (Xy(this.pinButtonEl, nv, 20), this.pinButtonEl.show())
                  : (Xy(this.pinButtonEl, qm, 20), this.pinButtonEl.hide());
            }),
            (t.prototype.onMoreOptionsMenu = function (e) {
              var t = this.app,
                n = this.leaf;
              eb.isMobile
                ? e.addItem(function (e) {
                    return e
                      .setTitle(Lt("interface.menu.close-current-pane"))
                      .setIcon(Am)
                      .onClick(function () {
                        return n && n.detach();
                      });
                  })
                : (n.group ||
                    e.addItem(function (e) {
                      return e
                        .setTitle(Lt("interface.menu.link-pane"))
                        .setIcon(Pm)
                        .onClick(function () {
                          return t.workspace.onStartLink(n);
                        });
                    }),
                  n.pinned ||
                    e.addItem(function (e) {
                      return e
                        .setTitle(Lt("interface.menu.pin"))
                        .setIcon(qm)
                        .onClick(function () {
                          return n.togglePinned();
                        });
                    }),
                  e
                    .addItem(function (e) {
                      return e
                        .setTitle(Lt("commands.split-vertically"))
                        .setIcon(_m)
                        .onClick(function () {
                          return t.workspace.duplicateLeaf(n, "vertical");
                        });
                    })
                    .addItem(function (e) {
                      return e
                        .setTitle(Lt("commands.split-horizontally"))
                        .setIcon(Wm)
                        .onClick(function () {
                          return t.workspace.duplicateLeaf(n, "horizontal");
                        });
                    }));
            }),
            (t.prototype.onGroupChange = function () {
              this.groupButtonEl.toggle(!!this.leaf.group);
            }),
            (t.prototype.addAction = function (e, t, n, i) {
              void 0 === i && (i = 18);
              var r = createEl("a", "view-action");
              return (
                this.actionsEl.prepend(r),
                Xy(r, e, i),
                nn(r, t),
                r.onClickEvent(function (e) {
                  if (0 === e.button || 1 === e.button) return n(e);
                }),
                r
              );
            }),
            (t.prototype.onMoreOptions = function (e) {
              e.preventDefault();
              var t = new rw(this.app);
              this.onMoreOptionsMenu(t), t.showAtMouseEvent(e);
            }),
            (t.prototype.onHeaderMenu = function (t) {
              var n = this;
              e.prototype.onHeaderMenu.call(this, t),
                t.addItem(function (e) {
                  return e
                    .setTitle(Lt("interface.menu.close"))
                    .setIcon(Jm)
                    .onClick(function () {
                      return n.leaf.detach();
                    });
                });
            }),
            t
          );
        })(ow),
        aw = createDiv("notice-container"),
        lw = (function () {
          function e(e, t) {
            var n = this;
            void 0 === t && (t = 4e3), document.body.appendChild(aw);
            var i = (this.noticeEl = aw.createDiv({ cls: "notice", text: e }));
            eb.isMobile
              ? Vb(
                  i,
                  new Nb().addProp(
                    "marginBottom",
                    -i.offsetHeight + "px",
                    "0",
                    ""
                  )
                )
              : Vb(
                  i,
                  new Nb().addProp("transform", "translateX(350px)", "", "")
                ),
              t &&
                setTimeout(function () {
                  return n.hide();
                }, t),
              i.addEventListener("click", function () {
                return n.hide();
              });
          }
          return (
            (e.prototype.setMessage = function (e) {
              return this.noticeEl.setText(e), this;
            }),
            (e.prototype.hide = function () {
              var e = this;
              setTimeout(function () {
                var t = e.noticeEl;
                if (eb.isMobile)
                  Vb(
                    t,
                    new Nb().addProp("opacity", null, "0", ""),
                    function () {
                      t.detach(), 0 === aw.childElementCount && aw.detach();
                    }
                  );
                else {
                  var n = getComputedStyle(t),
                    i = -(t.offsetHeight + parseInt(n.marginBottom)) + "px";
                  Vb(t, new Nb().addProp("marginTop", "0", i, ""), function () {
                    t.detach(), 0 === aw.childElementCount && aw.detach();
                  });
                }
              });
            }),
            e
          );
        })();
      window.Notice = lw;
      var cw = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (n.allowNoFile = !1), n;
          }
          return (
            M(t, e),
            (t.prototype.getDisplayText = function () {
              return this.file ? this.file.basename : Lt("interface.no-file");
            }),
            (t.prototype.onload = function () {
              e.prototype.onload.call(this);
              var t = this.app.vault;
              this.registerEvent(t.on("rename", this.onRename.bind(this))),
                this.registerEvent(t.on("delete", this.onDelete.bind(this)));
            }),
            (t.prototype.getState = function () {
              var t = e.prototype.getState.call(this),
                n = this.file;
              return n && (t.file = n.path), t;
            }),
            (t.prototype.getSyncViewState = function () {
              var e = this.getState();
              return (
                (e.sync = !0), { state: e, eState: this.getEphemeralState() }
              );
            }),
            (t.prototype.syncState = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i, r, o, s, a, l, c;
                return D(this, function (u) {
                  switch (u.label) {
                    case 0:
                      if (
                        ((t = this.leaf),
                        (n = t.workspace),
                        (i = t.group),
                        (r = !0),
                        !i)
                      )
                        return [3, 5];
                      (o = this.getSyncViewState()),
                        (s = n.getGroupLeaves(i)),
                        (a = 0),
                        (l = s),
                        (u.label = 1);
                    case 1:
                      return a < l.length
                        ? (c = l[a]) === t
                          ? [3, 4]
                          : e || c.view.getViewType() === this.getViewType()
                          ? c.working
                            ? ((r = !1), [3, 4])
                            : [3, 2]
                          : [3, 4]
                        : [3, 5];
                    case 2:
                      return [4, c.openFile(this.file, o)];
                    case 3:
                      u.sent(), (u.label = 4);
                    case 4:
                      return a++, [3, 1];
                    case 5:
                      return [2, r];
                  }
                });
              });
            }),
            (t.prototype.setState = function (t, n) {
              return A(this, void 0, Promise, function () {
                var i,
                  r,
                  o = this;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return (i = this.app.vault.getAbstractFileByPath(
                        t.file
                      )) instanceof Ab
                        ? [4, this.loadFile(i)]
                        : [3, 2];
                    case 1:
                      return (r = s.sent()), [3, 4];
                    case 2:
                      return [4, this.loadFile(null)];
                    case 3:
                      (r = s.sent()), (s.label = 4);
                    case 4:
                      return (
                        this.file || this.allowNoFile || (n.close = !0),
                        r && ((n.layout = !0), (n.history = !0)),
                        [4, e.prototype.setState.call(this, t, n)]
                      );
                    case 5:
                      return (
                        s.sent(),
                        t.sync ||
                          (!n.layout && !n.history) ||
                          (n.done = function () {
                            return o.syncState(!0);
                          }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.onClose = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  return this.contentEl.empty(), this.loadFile(null), [2];
                });
              });
            }),
            (t.prototype.loadFile = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return (t = this.file) === e
                        ? [2, !1]
                        : t
                        ? [4, this.onUnloadFile(t)]
                        : [3, 2];
                    case 1:
                      o.sent(), (o.label = 2);
                    case 2:
                      if (((this.file = null), !e)) return [3, 6];
                      o.label = 3;
                    case 3:
                      return (
                        o.trys.push([3, 5, , 6]),
                        (this.file = e),
                        [4, this.onLoadFile(e)]
                      );
                    case 4:
                      return o.sent(), [3, 6];
                    case 5:
                      return (
                        (n = o.sent()),
                        (this.file = null),
                        new lw('Failed to load "' + e.path + '". ' + n.message),
                        console.error(n),
                        [3, 6]
                      );
                    case 6:
                      return (
                        this.titleEl.setText(this.getDisplayText()),
                        (i = this.leaf),
                        (r = i.workspace).activeLeaf === i &&
                          r.requestActiveLeafEvents(),
                        this.leaf.updateHeader(),
                        [2, !0]
                      );
                  }
                });
              });
            }),
            (t.prototype.onLoadFile = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  return [2];
                });
              });
            }),
            (t.prototype.onUnloadFile = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  return [2];
                });
              });
            }),
            (t.prototype.onMoreOptionsMenu = function (t) {
              var n = this;
              e.prototype.onMoreOptionsMenu.call(this, t);
              var i = this.file;
              eb.isMobile || t.addSeparator(),
                t.addItem(function (e) {
                  return e
                    .setTitle(Lt("interface.menu.delete-file"))
                    .setIcon(um)
                    .onClick(function () {
                      return n.app.fileManager.promptForFileDeletion(i);
                    });
                }),
                i &&
                  this.app.workspace.trigger(
                    "file-menu",
                    t,
                    i,
                    "pane-more-options",
                    this.leaf
                  );
            }),
            (t.prototype.onHeaderMenu = function (t) {
              e.prototype.onHeaderMenu.call(this, t);
              var n = this.file;
              n &&
                this.app.workspace.trigger(
                  "file-menu",
                  t,
                  n,
                  "sidebar-context-menu",
                  this.leaf
                );
            }),
            (t.prototype.onRename = function (e) {
              return A(this, void 0, void 0, function () {
                return D(this, function (t) {
                  return (
                    e === this.file &&
                      (this.titleEl.setText(e.basename),
                      this.leaf.updateStateResult({ history: !1, layout: !0 })),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.onDelete = function (e) {
              return A(this, void 0, void 0, function () {
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return e !== this.file
                        ? [3, 4]
                        : this.allowNoFile
                        ? (this.loadFile(null), [3, 3])
                        : [3, 1];
                    case 1:
                      return [4, this.leaf.open(null)];
                    case 2:
                      t.sent(), (t.label = 3);
                    case 3:
                      this.app.workspace.requestSaveLayout(), (t.label = 4);
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.canAcceptExtension = function (e) {
              return !1;
            }),
            t
          );
        })(sw),
        uw = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.setEphemeralState = function (t) {
              e.prototype.setEphemeralState.call(this, t);
              var n = t.rename;
              if (n) {
                var i = void 0;
                "start" === n ? (i = !0) : "end" === n && (i = !1),
                  yh(this.titleEl, i);
              }
            }),
            (t.prototype.onOpen = function () {
              return A(this, void 0, Promise, function () {
                var e;
                return D(this, function (t) {
                  return (
                    ((e = this.titleEl).contentEditable = "true"),
                    (e.spellcheck = !1),
                    (e.tabIndex = -1),
                    e.addEventListener("blur", this.saveTitle.bind(this)),
                    e.addEventListener("input", this.onTitleChange.bind(this)),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.onTitleChange = function () {
              this.clearTitleErrorTooltip();
              var e = this,
                t = e.file,
                n = e.app,
                i = e.titleEl,
                r = i.getText();
              ((1 === i.childNodes.length &&
                i.firstChild.nodeType === Node.TEXT_NODE) ||
                (i.setText(r), yh(i, !1)),
              (r = r.trim()),
              ze.test(r))
                ? this.displayError(
                    Lt("plugins.file-explorer.msg-invalid-characters") + Be,
                    !1
                  )
                : n.vault.checkForDuplicate(t, r)
                ? this.displayError(
                    Lt("plugins.file-explorer.msg-file-already-exists"),
                    !1
                  )
                : He.test(r) &&
                  this.displayError(
                    Lt("plugins.file-explorer.msg-unsafe-characters") + Re,
                    !1
                  );
            }),
            (t.prototype.saveTitle = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r, o, s;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (
                        (this.clearTitleErrorTooltip(),
                        (t = (e = this).file),
                        (n = e.titleEl),
                        "" === (i = n.getText().trim()))
                      )
                        return (
                          n.setText(t.basename),
                          this.displayError(
                            Lt("plugins.file-explorer.msg-empty-file-name"),
                            !0
                          ),
                          [2]
                        );
                      if (((r = t.getNewPathAfterRename(i)), t.path === r))
                        return [2];
                      a.label = 1;
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        [4, this.app.fileManager.renameFile(t, r)]
                      );
                    case 2:
                      return a.sent(), [3, 4];
                    case 3:
                      return (
                        (o = a.sent()) &&
                          ((s = o.message || o.code || o.toString()),
                          this.displayError(s, !0)),
                        [3, 4]
                      );
                    case 4:
                      return n.setText(t.basename), [2];
                  }
                });
              });
            }),
            (t.prototype.displayError = function (e, t) {
              Zt(this.titleContainerEl, e, {
                classes: ["mod-wide", "mod-error"],
              }),
                t && setTimeout(this.clearTitleErrorTooltip.bind(this), 2e3);
            }),
            (t.prototype.clearTitleErrorTooltip = function () {
              en();
            }),
            t
          );
        })(cw),
        hw = "audio",
        pw = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.icon = wm), t;
          }
          return (
            M(t, e),
            (t.prototype.getViewType = function () {
              return hw;
            }),
            (t.prototype.canAcceptExtension = function (e) {
              return Ue.contains(e);
            }),
            (t.prototype.onLoadFile = function (e) {
              return A(this, void 0, void 0, function () {
                var n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return (
                        (i = (n = this).app),
                        (r = n.contentEl).empty(),
                        (o = r.createDiv("audio-container")),
                        [4, t.displayInEl(e, i, o)]
                      );
                    case 1:
                      return s.sent(), [2];
                  }
                });
              });
            }),
            (t.displayInEl = function (e, t, n) {
              return A(this, void 0, Promise, function () {
                var i;
                return D(this, function (r) {
                  return (i = t.vault.getResourcePath(e)), [2, Ft(n, i)];
                });
              });
            }),
            (t.VIEW_TYPE = hw),
            t
          );
        })(uw),
        dw = "image",
        fw = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.icon = km), t;
          }
          return (
            M(t, e),
            (t.prototype.getViewType = function () {
              return dw;
            }),
            (t.prototype.canAcceptExtension = function (e) {
              return je.contains(e);
            }),
            (t.prototype.onLoadFile = function (e) {
              return A(this, void 0, void 0, function () {
                var n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return (
                        (i = (n = this).app),
                        (r = n.contentEl).empty(),
                        (o = r.createDiv("image-container")),
                        [4, t.displayInEl(e, i, o)]
                      );
                    case 1:
                      return s.sent(), [2];
                  }
                });
              });
            }),
            (t.displayInEl = function (e, t, n) {
              return A(this, void 0, Promise, function () {
                var i;
                return D(this, function (r) {
                  return (i = t.vault.getResourcePath(e)), [2, Ot(n, i)];
                });
              });
            }),
            (t.VIEW_TYPE = dw),
            t
          );
        })(uw),
        gw =
          "undefined" != typeof navigator &&
          !/Edge\/(\d+)/.exec(navigator.userAgent) &&
          /Apple Computer/.test(navigator.vendor) &&
          (/Mobile\/\w+/.test(navigator.userAgent) ||
            navigator.maxTouchPoints > 2),
        mw = "-10000px",
        vw = (function () {
          function e(e, t, n) {
            (this.facet = t),
              (this.createTooltipView = n),
              (this.input = e.state.facet(t)),
              (this.tooltips = this.input.filter(function (e) {
                return e;
              })),
              (this.tooltipViews = this.tooltips.map(n));
          }
          return (
            (e.prototype.update = function (e) {
              var t = e.state.facet(this.facet),
                n = t.filter(function (e) {
                  return e;
                });
              if (t === this.input) {
                for (var i = 0, r = this.tooltipViews; i < r.length; i++) {
                  (f = r[i]).update && f.update(e);
                }
                return !1;
              }
              for (var o = [], s = 0; s < n.length; s++) {
                var a = n[s],
                  l = -1;
                if (a) {
                  for (var c = 0; c < this.tooltips.length; c++) {
                    var u = this.tooltips[c];
                    u && u.create == a.create && (l = c);
                  }
                  if (l < 0) o[s] = this.createTooltipView(a);
                  else {
                    var h = (o[s] = this.tooltipViews[l]);
                    h.update && h.update(e);
                  }
                }
              }
              for (var p = 0, d = this.tooltipViews; p < d.length; p++) {
                var f = d[p];
                o.indexOf(f) < 0 && f.dom.remove();
              }
              return (
                (this.input = t),
                (this.tooltips = n),
                (this.tooltipViews = o),
                !0
              );
            }),
            e
          );
        })();
      function yw(e) {
        return void 0 === e && (e = {}), ww.of(e);
      }
      function bw() {
        return { top: 0, left: 0, bottom: innerHeight, right: innerWidth };
      }
      var ww = ir.define({
          combine: function (e) {
            var t, n, i;
            return {
              position: gw
                ? "absolute"
                : (null ===
                    (t = e.find(function (e) {
                      return e.position;
                    })) || void 0 === t
                    ? void 0
                    : t.position) || "fixed",
              parent:
                (null ===
                  (n = e.find(function (e) {
                    return e.parent;
                  })) || void 0 === n
                  ? void 0
                  : n.parent) || null,
              tooltipSpace:
                (null ===
                  (i = e.find(function (e) {
                    return e.tooltipSpace;
                  })) || void 0 === i
                  ? void 0
                  : i.tooltipSpace) || bw,
            };
          },
        }),
        kw = Qs.fromClass(
          (function () {
            function e(e) {
              var t,
                n = this;
              (this.view = e),
                (this.inView = !0),
                (this.lastTransaction = 0),
                (this.measureTimeout = -1);
              var i = e.state.facet(ww);
              (this.position = i.position),
                (this.parent = i.parent),
                (this.classes = e.themeClasses),
                this.createContainer(),
                (this.measureReq = {
                  read: this.readMeasure.bind(this),
                  write: this.writeMeasure.bind(this),
                  key: this,
                }),
                (this.manager = new vw(e, Sw, function (e) {
                  return n.createTooltip(e);
                })),
                (this.intersectionObserver =
                  "function" == typeof IntersectionObserver
                    ? new IntersectionObserver(
                        function (e) {
                          Date.now() > n.lastTransaction - 50 &&
                            e.length > 0 &&
                            e[e.length - 1].intersectionRatio < 1 &&
                            n.measureSoon();
                        },
                        { threshold: [1] }
                      )
                    : null),
                this.observeIntersection(),
                null === (t = e.dom.ownerDocument.defaultView) ||
                  void 0 === t ||
                  t.addEventListener(
                    "resize",
                    (this.measureSoon = this.measureSoon.bind(this))
                  ),
                this.maybeMeasure();
            }
            return (
              (e.prototype.createContainer = function () {
                this.parent
                  ? ((this.container = document.createElement("div")),
                    (this.container.style.position = "relative"),
                    (this.container.className = this.view.themeClasses),
                    this.parent.appendChild(this.container))
                  : (this.container = this.view.dom);
              }),
              (e.prototype.observeIntersection = function () {
                if (this.intersectionObserver) {
                  this.intersectionObserver.disconnect();
                  for (
                    var e = 0, t = this.manager.tooltipViews;
                    e < t.length;
                    e++
                  ) {
                    var n = t[e];
                    this.intersectionObserver.observe(n.dom);
                  }
                }
              }),
              (e.prototype.measureSoon = function () {
                var e = this;
                this.measureTimeout < 0 &&
                  (this.measureTimeout = setTimeout(function () {
                    (e.measureTimeout = -1), e.maybeMeasure();
                  }, 50));
              }),
              (e.prototype.update = function (e) {
                e.transactions.length && (this.lastTransaction = Date.now());
                var t = this.manager.update(e);
                t && this.observeIntersection();
                var n = t || e.geometryChanged,
                  i = e.state.facet(ww);
                if (i.position != this.position) {
                  this.position = i.position;
                  for (
                    var r = 0, o = this.manager.tooltipViews;
                    r < o.length;
                    r++
                  ) {
                    (l = o[r]).dom.style.position = this.position;
                  }
                  n = !0;
                }
                if (i.parent != this.parent) {
                  this.parent && this.container.remove(),
                    (this.parent = i.parent),
                    this.createContainer();
                  for (
                    var s = 0, a = this.manager.tooltipViews;
                    s < a.length;
                    s++
                  ) {
                    var l = a[s];
                    this.container.appendChild(l.dom);
                  }
                  n = !0;
                } else
                  this.parent &&
                    this.view.themeClasses != this.classes &&
                    (this.classes = this.container.className =
                      this.view.themeClasses);
                n && this.maybeMeasure();
              }),
              (e.prototype.createTooltip = function (e) {
                var t = e.create(this.view);
                if (
                  (t.dom.classList.add("cm-tooltip"),
                  e.arrow &&
                    !t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow"))
                ) {
                  var n = document.createElement("div");
                  (n.className = "cm-tooltip-arrow"), t.dom.appendChild(n);
                }
                return (
                  (t.dom.style.position = this.position),
                  (t.dom.style.top = mw),
                  this.container.appendChild(t.dom),
                  t.mount && t.mount(this.view),
                  t
                );
              }),
              (e.prototype.destroy = function () {
                var e, t;
                null === (e = this.view.dom.ownerDocument.defaultView) ||
                  void 0 === e ||
                  e.removeEventListener("resize", this.measureSoon);
                for (
                  var n = 0, i = this.manager.tooltipViews;
                  n < i.length;
                  n++
                ) {
                  i[n].dom.remove();
                }
                null === (t = this.intersectionObserver) ||
                  void 0 === t ||
                  t.disconnect(),
                  clearTimeout(this.measureTimeout);
              }),
              (e.prototype.readMeasure = function () {
                var e = this,
                  t = this.view.dom.getBoundingClientRect();
                return {
                  editor: t,
                  parent: this.parent
                    ? this.container.getBoundingClientRect()
                    : t,
                  pos: this.manager.tooltips.map(function (t) {
                    return e.view.coordsAtPos(t.pos);
                  }),
                  size: this.manager.tooltipViews.map(function (e) {
                    return e.dom.getBoundingClientRect();
                  }),
                  space: this.view.state.facet(ww).tooltipSpace(this.view),
                };
              }),
              (e.prototype.writeMeasure = function (e) {
                for (
                  var t = e.editor, n = e.space, i = [], r = 0;
                  r < this.manager.tooltips.length;
                  r++
                ) {
                  var o = this.manager.tooltips[r],
                    s = this.manager.tooltipViews[r],
                    a = s.dom,
                    l = e.pos[r],
                    c = e.size[r];
                  if (
                    !l ||
                    l.bottom <= Math.max(t.top, n.top) ||
                    l.top >= Math.min(t.bottom, n.bottom) ||
                    l.right < Math.max(t.left, n.left) - 0.1 ||
                    l.left > Math.min(t.right, n.right) + 0.1
                  )
                    a.style.top = mw;
                  else {
                    var u = o.arrow
                        ? s.dom.querySelector(".cm-tooltip-arrow")
                        : null,
                      h = u ? 7 : 0,
                      p = c.right - c.left,
                      d = c.bottom - c.top,
                      f = s.offset || xw,
                      g = this.view.textDirection == sa.LTR,
                      m =
                        c.width > n.right - n.left
                          ? g
                            ? n.left
                            : n.right - c.width
                          : g
                          ? Math.min(l.left - (u ? 14 : 0) + f.x, n.right - p)
                          : Math.max(n.left, l.left - p + (u ? 14 : 0) - f.x),
                      v = !!o.above;
                    !o.strictSide &&
                      (v
                        ? l.top - (c.bottom - c.top) - f.y < n.top
                        : l.bottom + (c.bottom - c.top) + f.y > n.bottom) &&
                      v == n.bottom - l.bottom > l.top - n.top &&
                      (v = !v);
                    var y = v ? l.top - d - h - f.y : l.bottom + h + f.y,
                      b = m + p;
                    if (!0 !== s.overlap)
                      for (var w = 0, k = i; w < k.length; w++) {
                        var C = k[w];
                        C.left < b &&
                          C.right > m &&
                          C.top < y + d &&
                          C.bottom > y &&
                          (y = v ? C.top - d - 2 - h : C.bottom + h + 2);
                      }
                    "absolute" == this.position
                      ? ((a.style.top = y - e.parent.top + "px"),
                        (a.style.left = m - e.parent.left + "px"))
                      : ((a.style.top = y + "px"), (a.style.left = m + "px")),
                      u &&
                        (u.style.left =
                          l.left + (g ? f.x : -f.x) - (m + 14 - 7) + "px"),
                      !0 !== s.overlap &&
                        i.push({ left: m, top: y, right: b, bottom: y + d }),
                      a.classList.toggle("cm-tooltip-above", v),
                      a.classList.toggle("cm-tooltip-below", !v),
                      s.positioned && s.positioned();
                  }
                }
              }),
              (e.prototype.maybeMeasure = function () {
                if (
                  this.manager.tooltips.length &&
                  (this.view.inView &&
                    this.view.requestMeasure(this.measureReq),
                  this.inView != this.view.inView &&
                    ((this.inView = this.view.inView), !this.inView))
                )
                  for (
                    var e = 0, t = this.manager.tooltipViews;
                    e < t.length;
                    e++
                  ) {
                    t[e].dom.style.top = mw;
                  }
              }),
              e
            );
          })(),
          {
            eventHandlers: {
              scroll: function () {
                this.maybeMeasure();
              },
            },
          }
        ),
        Cw = Zl.baseTheme({
          ".cm-tooltip": { zIndex: 100 },
          "&light .cm-tooltip": {
            border: "1px solid #bbb",
            backgroundColor: "#f5f5f5",
          },
          "&light .cm-tooltip-section:not(:first-child)": {
            borderTop: "1px solid #bbb",
          },
          "&dark .cm-tooltip": { backgroundColor: "#333338", color: "white" },
          ".cm-tooltip-arrow": {
            height: "7px",
            width: "14px",
            position: "absolute",
            zIndex: -1,
            overflow: "hidden",
            "&:before, &:after": {
              content: "''",
              position: "absolute",
              width: 0,
              height: 0,
              borderLeft: "7px solid transparent",
              borderRight: "7px solid transparent",
            },
            ".cm-tooltip-above &": {
              bottom: "-7px",
              "&:before": { borderTop: "7px solid #bbb" },
              "&:after": { borderTop: "7px solid #f5f5f5", bottom: "1px" },
            },
            ".cm-tooltip-below &": {
              top: "-7px",
              "&:before": { borderBottom: "7px solid #bbb" },
              "&:after": { borderBottom: "7px solid #f5f5f5", top: "1px" },
            },
          },
          "&dark .cm-tooltip .cm-tooltip-arrow": {
            "&:before": {
              borderTopColor: "#333338",
              borderBottomColor: "#333338",
            },
            "&:after": {
              borderTopColor: "transparent",
              borderBottomColor: "transparent",
            },
          },
        }),
        xw = { x: 0, y: 0 },
        Sw = ir.define({ enables: [kw, Cw] }),
        Ew = ir.define(),
        Mw = (function () {
          function e(e) {
            var t = this;
            (this.view = e),
              (this.mounted = !1),
              (this.dom = document.createElement("div")),
              this.dom.classList.add("cm-tooltip-hover"),
              (this.manager = new vw(e, Ew, function (e) {
                return t.createHostedView(e);
              }));
          }
          return (
            (e.create = function (t) {
              return new e(t);
            }),
            (e.prototype.createHostedView = function (e) {
              var t = e.create(this.view);
              return (
                t.dom.classList.add("cm-tooltip-section"),
                this.dom.appendChild(t.dom),
                this.mounted && t.mount && t.mount(this.view),
                t
              );
            }),
            (e.prototype.mount = function (e) {
              for (
                var t = 0, n = this.manager.tooltipViews;
                t < n.length;
                t++
              ) {
                var i = n[t];
                i.mount && i.mount(e);
              }
              this.mounted = !0;
            }),
            (e.prototype.positioned = function () {
              for (
                var e = 0, t = this.manager.tooltipViews;
                e < t.length;
                e++
              ) {
                var n = t[e];
                n.positioned && n.positioned();
              }
            }),
            (e.prototype.update = function (e) {
              this.manager.update(e);
            }),
            e
          );
        })(),
        Lw = Sw.compute([Ew], function (e) {
          var t = e.facet(Ew).filter(function (e) {
            return e;
          });
          return 0 === t.length
            ? null
            : {
                pos: Math.min.apply(
                  Math,
                  t.map(function (e) {
                    return e.pos;
                  })
                ),
                end: Math.max.apply(
                  Math,
                  t
                    .filter(function (e) {
                      return null != e.end;
                    })
                    .map(function (e) {
                      return e.end;
                    })
                ),
                create: Mw.create,
                above: t[0].above,
                arrow: t.some(function (e) {
                  return e.arrow;
                }),
              };
        }),
        Aw = (function () {
          function e(e, t, n, i, r) {
            (this.view = e),
              (this.source = t),
              (this.field = n),
              (this.setHover = i),
              (this.hoverTime = r),
              (this.hoverTimeout = -1),
              (this.restartTimeout = -1),
              (this.pending = null),
              (this.lastMove = { x: 0, y: 0, target: e.dom, time: 0 }),
              (this.checkHover = this.checkHover.bind(this)),
              e.dom.addEventListener(
                "mouseleave",
                (this.mouseleave = this.mouseleave.bind(this))
              ),
              e.dom.addEventListener(
                "mousemove",
                (this.mousemove = this.mousemove.bind(this))
              );
          }
          return (
            (e.prototype.update = function () {
              var e = this;
              this.pending &&
                ((this.pending = null),
                clearTimeout(this.restartTimeout),
                (this.restartTimeout = setTimeout(function () {
                  return e.startHover();
                }, 20)));
            }),
            Object.defineProperty(e.prototype, "active", {
              get: function () {
                return this.view.state.field(this.field);
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.checkHover = function () {
              if (((this.hoverTimeout = -1), !this.active)) {
                var e = Date.now() - this.lastMove.time;
                e < this.hoverTime
                  ? (this.hoverTimeout = setTimeout(
                      this.checkHover,
                      this.hoverTime - e
                    ))
                  : this.startHover();
              }
            }),
            (e.prototype.startHover = function () {
              var e,
                t = this;
              clearTimeout(this.restartTimeout);
              var n = this.lastMove,
                i = this.view.contentDOM.contains(n.target)
                  ? this.view.posAtCoords(n)
                  : null;
              if (null != i) {
                var r = this.view.coordsAtPos(i);
                if (
                  !(
                    null == r ||
                    n.y < r.top ||
                    n.y > r.bottom ||
                    n.x < r.left - this.view.defaultCharacterWidth ||
                    n.x > r.right + this.view.defaultCharacterWidth
                  )
                ) {
                  var o = this.view
                      .bidiSpans(this.view.state.doc.lineAt(i))
                      .find(function (e) {
                        return e.from <= i && e.to >= i;
                      }),
                    s = o && o.dir == sa.RTL ? -1 : 1,
                    a = this.source(this.view, i, n.x < r.left ? -s : s);
                  if (null === (e = a) || void 0 === e ? void 0 : e.then) {
                    var l = (this.pending = { pos: i });
                    a.then(
                      function (e) {
                        t.pending == l &&
                          ((t.pending = null),
                          e && t.view.dispatch({ effects: t.setHover.of(e) }));
                      },
                      function (e) {
                        return _s(t.view.state, e, "hover tooltip");
                      }
                    );
                  } else
                    a && this.view.dispatch({ effects: this.setHover.of(a) });
                }
              }
            }),
            (e.prototype.mousemove = function (e) {
              var t;
              (this.lastMove = {
                x: e.clientX,
                y: e.clientY,
                target: e.target,
                time: Date.now(),
              }),
                this.hoverTimeout < 0 &&
                  (this.hoverTimeout = setTimeout(
                    this.checkHover,
                    this.hoverTime
                  ));
              var n = this.active;
              if (
                (n &&
                  !(function (e) {
                    for (var t = e; t; t = t.parentNode)
                      if (1 == t.nodeType && t.classList.contains("cm-tooltip"))
                        return !0;
                    return !1;
                  })(this.lastMove.target)) ||
                this.pending
              ) {
                var i = (n || this.pending).pos,
                  r =
                    null !== (t = null == n ? void 0 : n.end) && void 0 !== t
                      ? t
                      : i;
                (i == r
                  ? this.view.posAtCoords(this.lastMove) == i
                  : (function (e, t, n, i, r, o) {
                      var s = document.createRange(),
                        a = e.domAtPos(t),
                        l = e.domAtPos(n);
                      s.setEnd(l.node, l.offset), s.setStart(a.node, a.offset);
                      var c = s.getClientRects();
                      s.detach();
                      for (var u = 0; u < c.length; u++) {
                        var h = c[u];
                        if (
                          Math.max(
                            h.top - r,
                            r - h.bottom,
                            h.left - i,
                            i - h.right
                          ) <= o
                        )
                          return !0;
                      }
                      return !1;
                    })(this.view, i, r, e.clientX, e.clientY, 6)) ||
                  (this.view.dispatch({ effects: this.setHover.of(null) }),
                  (this.pending = null));
              }
            }),
            (e.prototype.mouseleave = function () {
              clearTimeout(this.hoverTimeout),
                (this.hoverTimeout = -1),
                this.active &&
                  this.view.dispatch({ effects: this.setHover.of(null) });
            }),
            (e.prototype.destroy = function () {
              clearTimeout(this.hoverTimeout),
                this.view.dom.removeEventListener(
                  "mouseleave",
                  this.mouseleave
                ),
                this.view.dom.removeEventListener("mousemove", this.mousemove);
            }),
            e
          );
        })();
      function Dw(e, t) {
        void 0 === t && (t = {});
        var n = Or.define(),
          i = lr.define({
            create: function () {
              return null;
            },
            update: function (e, i) {
              if (e && t.hideOnChange && (i.docChanged || i.selection))
                return null;
              for (var r = 0, o = i.effects; r < o.length; r++) {
                var s = o[r];
                if (s.is(n)) return s.value;
                if (s.is(Ow)) return null;
              }
              if (e && i.docChanged) {
                var a = i.changes.mapPos(e.pos, -1, Ui.TrackDel);
                if (null == a) return null;
                var l = Object.assign(Object.create(null), e);
                return (
                  (l.pos = a),
                  null != e.end && (l.end = i.changes.mapPos(e.end)),
                  l
                );
              }
              return e;
            },
            provide: function (e) {
              return Ew.from(e);
            },
          }),
          r = t.hoverTime || 600;
        return [
          i,
          Qs.define(function (t) {
            return new Aw(t, e, i, n, r);
          }),
          Lw,
        ];
      }
      function Tw(e, t) {
        var n = e.plugin(kw);
        if (!n) return null;
        var i = n.manager.tooltips.indexOf(t);
        return i < 0 ? null : n.manager.tooltipViews[i];
      }
      function Pw(e) {
        return e.facet(Ew).some(function (e) {
          return e;
        });
      }
      var Ow = Or.define(),
        Fw = Ow.of(null);
      function Iw(e) {
        var t;
        null === (t = e.plugin(kw)) || void 0 === t || t.maybeMeasure();
      }
      var Nw = (function () {
        function e(e, t, n) {
          (this.state = e),
            (this.pos = t),
            (this.explicit = n),
            (this.abortListeners = []);
        }
        return (
          (e.prototype.tokenBefore = function (e) {
            for (
              var t = Zc(this.state).resolveInner(this.pos, -1);
              t && e.indexOf(t.name) < 0;

            )
              t = t.parent;
            return t
              ? {
                  from: t.from,
                  to: this.pos,
                  text: this.state.sliceDoc(t.from, this.pos),
                  type: t.type,
                }
              : null;
          }),
          (e.prototype.matchBefore = function (e) {
            var t = this.state.doc.lineAt(this.pos),
              n = Math.max(t.from, this.pos - 250),
              i = t.text.slice(n - t.from, this.pos - t.from),
              r = i.search(jw(e, !1));
            return r < 0
              ? null
              : { from: n + r, to: this.pos, text: i.slice(r) };
          }),
          Object.defineProperty(e.prototype, "aborted", {
            get: function () {
              return null == this.abortListeners;
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.addEventListener = function (e, t) {
            "abort" == e && this.abortListeners && this.abortListeners.push(t);
          }),
          e
        );
      })();
      function Bw(e) {
        var t = Object.keys(e).join(""),
          n = /\w/.test(t);
        return (
          n && (t = t.replace(/\w/g, "")),
          "[" + (n ? "\\w" : "") + t.replace(/[^\w\s]/g, "\\$&") + "]"
        );
      }
      function Rw(e) {
        var t = e.map(function (e) {
            return "string" == typeof e ? { label: e } : e;
          }),
          n = t.every(function (e) {
            return /^\w+$/.test(e.label);
          })
            ? [/\w*$/, /\w+$/]
            : (function (e) {
                for (
                  var t = Object.create(null),
                    n = Object.create(null),
                    i = 0,
                    r = e;
                  i < r.length;
                  i++
                ) {
                  var o = r[i].label;
                  t[o[0]] = !0;
                  for (var s = 1; s < o.length; s++) n[o[s]] = !0;
                }
                var a = Bw(t) + Bw(n) + "*$";
                return [new RegExp("^" + a), new RegExp(a)];
              })(t),
          i = n[0],
          r = n[1];
        return function (e) {
          var n = e.matchBefore(r);
          return n || e.explicit
            ? { from: n ? n.from : e.pos, options: t, span: i }
            : null;
        };
      }
      function zw(e, t) {
        return function (n) {
          for (var i = Zc(n.state).resolveInner(n.pos, -1); i; i = i.parent)
            if (e.indexOf(i.name) > -1) return t(n);
          return null;
        };
      }
      function Hw(e, t) {
        return function (n) {
          for (var i = Zc(n.state).resolveInner(n.pos, -1); i; i = i.parent)
            if (e.indexOf(i.name) > -1) return null;
          return t(n);
        };
      }
      var Vw = function (e, t, n) {
        (this.completion = e), (this.source = t), (this.match = n);
      };
      function qw(e) {
        return e.selection.main.head;
      }
      function jw(e, t) {
        var n,
          i = e.source,
          r = t && "^" != i[0],
          o = "$" != i[i.length - 1];
        return r || o
          ? new RegExp(
              (r ? "^" : "") + "(?:" + i + ")" + (o ? "$" : ""),
              null !== (n = e.flags) && void 0 !== n
                ? n
                : e.ignoreCase
                ? "i"
                : ""
            )
          : e;
      }
      var Uw = Dr.define();
      function Ww(e, t) {
        var n = t.completion.apply || t.completion.label,
          i = t.source;
        "string" == typeof n
          ? e.dispatch({
              changes: { from: i.from, to: i.to, insert: n },
              selection: { anchor: i.from + n.length },
              userEvent: "input.complete",
              annotations: Uw.of(t.completion),
            })
          : n(e, t.completion, i.from, i.to);
      }
      var _w = new WeakMap();
      function Gw(e) {
        if (!Array.isArray(e)) return e;
        var t = _w.get(e);
        return t || _w.set(e, (t = Rw(e))), t;
      }
      var Kw = (function () {
          function e(e) {
            (this.pattern = e),
              (this.chars = []),
              (this.folded = []),
              (this.any = []),
              (this.precise = []),
              (this.byWord = []);
            for (var t = 0; t < e.length; ) {
              var n = Ai(e, t),
                i = Ti(n);
              this.chars.push(n);
              var r = e.slice(t, t + i),
                o = r.toUpperCase();
              this.folded.push(Ai(o == r ? r.toLowerCase() : o, 0)), (t += i);
            }
            this.astral = e.length != this.chars.length;
          }
          return (
            (e.prototype.match = function (e) {
              if (0 == this.pattern.length) return [0];
              if (e.length < this.pattern.length) return null;
              var t = this,
                n = t.chars,
                i = t.folded,
                r = t.any,
                o = t.precise,
                s = t.byWord;
              if (1 == n.length) {
                var a = Ai(e, 0);
                return a == n[0]
                  ? [0, 0, Ti(a)]
                  : a == i[0]
                  ? [-200, 0, Ti(a)]
                  : null;
              }
              var l = e.indexOf(this.pattern);
              if (0 == l) return [0, 0, this.pattern.length];
              var c = n.length,
                u = 0;
              if (l < 0) {
                for (var h = 0, p = Math.min(e.length, 200); h < p && u < c; ) {
                  ((C = Ai(e, h)) != n[u] && C != i[u]) || (r[u++] = h),
                    (h += Ti(C));
                }
                if (u < c) return null;
              }
              for (
                var d = 0,
                  f = 0,
                  g = !1,
                  m = 0,
                  v = -1,
                  y = -1,
                  b = /[a-z]/.test(e),
                  w = !0,
                  k = ((h = 0), (p = Math.min(e.length, 200)), 0);
                h < p && f < c;

              ) {
                var C = Ai(e, h);
                l < 0 &&
                  (d < c && C == n[d] && (o[d++] = h),
                  m < c &&
                    (C == n[m] || C == i[m]
                      ? (0 == m && (v = h), (y = h + 1), m++)
                      : (m = 0)));
                var x = void 0,
                  S =
                    C < 255
                      ? (C >= 48 && C <= 57) || (C >= 97 && C <= 122)
                        ? 2
                        : C >= 65 && C <= 90
                        ? 1
                        : 0
                      : (x = Di(C)) != x.toLowerCase()
                      ? 1
                      : x != x.toUpperCase()
                      ? 2
                      : 0;
                (!h || (1 == S && b) || (0 == k && 0 != S)) &&
                  (n[f] == C || (i[f] == C && (g = !0))
                    ? (s[f++] = h)
                    : s.length && (w = !1)),
                  (k = S),
                  (h += Ti(C));
              }
              return f == c && 0 == s[0] && w
                ? this.result((g ? -200 : 0) - 100, s, e)
                : m == c && 0 == v
                ? [-200 - e.length, 0, y]
                : l > -1
                ? [-700 - e.length, l, l + this.pattern.length]
                : m == c
                ? [-900 - e.length, v, y]
                : f == c
                ? this.result(
                    (g ? -200 : 0) - 100 - 700 + (w ? 0 : -1100),
                    s,
                    e
                  )
                : 2 == n.length
                ? null
                : this.result((r[0] ? -700 : 0) - 200 - 1100, r, e);
            }),
            (e.prototype.result = function (e, t, n) {
              for (
                var i = [e - n.length], r = 1, o = 0, s = t;
                o < s.length;
                o++
              ) {
                var a = s[o],
                  l = a + (this.astral ? Ti(Ai(n, a)) : 1);
                r > 1 && i[r - 1] == a
                  ? (i[r - 1] = l)
                  : ((i[r++] = a), (i[r++] = l));
              }
              return i;
            }),
            e
          );
        })(),
        $w = ir.define({
          combine: function (e) {
            return _r(
              e,
              {
                activateOnTyping: !0,
                override: null,
                maxRenderedOptions: 100,
                defaultKeymap: !0,
                optionClass: function () {
                  return "";
                },
                aboveCursor: !1,
                icons: !0,
                addToOptions: [],
              },
              {
                defaultKeymap: function (e, t) {
                  return e && t;
                },
                icons: function (e, t) {
                  return e && t;
                },
                optionClass: function (e, t) {
                  return function (n) {
                    return (function (e, t) {
                      return e ? (t ? e + " " + t : e) : t;
                    })(e(n), t(n));
                  };
                },
                addToOptions: function (e, t) {
                  return e.concat(t);
                },
              }
            );
          },
        });
      function Yw(e, t, n) {
        if (e <= n) return { from: 0, to: e };
        if (t <= e >> 1) {
          var i = Math.floor(t / n);
          return { from: i * n, to: (i + 1) * n };
        }
        var r = Math.floor((e - t) / n);
        return { from: e - (r + 1) * n, to: e - r * n };
      }
      var Jw = (function () {
        function e(e, t) {
          var n = this;
          (this.view = e),
            (this.stateField = t),
            (this.info = null),
            (this.placeInfo = {
              read: function () {
                return n.measureInfo();
              },
              write: function (e) {
                return n.positionInfo(e);
              },
              key: this,
            });
          var i = e.state.field(t),
            r = i.open,
            o = r.options,
            s = r.selected,
            a = e.state.facet($w);
          (this.optionContent = (function (e) {
            var t = e.addToOptions.slice();
            return (
              e.icons &&
                t.push({
                  render: function (e) {
                    var t,
                      n = document.createElement("div");
                    return (
                      n.classList.add("cm-completionIcon"),
                      e.type &&
                        (t = n.classList).add.apply(
                          t,
                          e.type.split(/\s+/g).map(function (e) {
                            return "cm-completionIcon-" + e;
                          })
                        ),
                      n.setAttribute("aria-hidden", "true"),
                      n
                    );
                  },
                  position: 20,
                }),
              t.push(
                {
                  render: function (e, t, n) {
                    var i = document.createElement("span");
                    i.className = "cm-completionLabel";
                    for (var r = e.label, o = 0, s = 1; s < n.length; ) {
                      var a = n[s++],
                        l = n[s++];
                      a > o &&
                        i.appendChild(document.createTextNode(r.slice(o, a)));
                      var c = i.appendChild(document.createElement("span"));
                      c.appendChild(document.createTextNode(r.slice(a, l))),
                        (c.className = "cm-completionMatchedText"),
                        (o = l);
                    }
                    return (
                      o < r.length &&
                        i.appendChild(document.createTextNode(r.slice(o))),
                      i
                    );
                  },
                  position: 50,
                },
                {
                  render: function (e) {
                    if (!e.detail) return null;
                    var t = document.createElement("span");
                    return (
                      (t.className = "cm-completionDetail"),
                      (t.textContent = e.detail),
                      t
                    );
                  },
                  position: 80,
                }
              ),
              t
                .sort(function (e, t) {
                  return e.position - t.position;
                })
                .map(function (e) {
                  return e.render;
                })
            );
          })(a)),
            (this.optionClass = a.optionClass),
            (this.range = Yw(o.length, s, a.maxRenderedOptions)),
            (this.dom = document.createElement("div")),
            (this.dom.className = "cm-tooltip-autocomplete"),
            this.dom.addEventListener("mousedown", function (t) {
              for (
                var i = t.target, r = void 0;
                i && i != n.dom;
                i = i.parentNode
              )
                if (
                  "LI" == i.nodeName &&
                  (r = /-(\d+)$/.exec(i.id)) &&
                  +r[1] < o.length
                )
                  return Ww(e, o[+r[1]]), void t.preventDefault();
            }),
            (this.list = this.dom.appendChild(
              this.createListBox(o, i.id, this.range)
            )),
            this.list.addEventListener("scroll", function () {
              n.info && n.view.requestMeasure(n.placeInfo);
            });
        }
        return (
          (e.prototype.mount = function () {
            this.updateSel();
          }),
          (e.prototype.update = function (e) {
            e.state.field(this.stateField) !=
              e.startState.field(this.stateField) && this.updateSel();
          }),
          (e.prototype.positioned = function () {
            this.info && this.view.requestMeasure(this.placeInfo);
          }),
          (e.prototype.updateSel = function () {
            var e = this,
              t = this.view.state.field(this.stateField),
              n = t.open;
            if (
              ((n.selected < this.range.from || n.selected >= this.range.to) &&
                ((this.range = Yw(
                  n.options.length,
                  n.selected,
                  this.view.state.facet($w).maxRenderedOptions
                )),
                this.list.remove(),
                (this.list = this.dom.appendChild(
                  this.createListBox(n.options, t.id, this.range)
                )),
                this.list.addEventListener("scroll", function () {
                  e.info && e.view.requestMeasure(e.placeInfo);
                })),
              this.updateSelectedOption(n.selected))
            ) {
              this.info && (this.info.remove(), (this.info = null));
              var i = n.options[n.selected];
              i.completion.info &&
                ((this.info = this.dom.appendChild(
                  (function (e, t) {
                    var n = document.createElement("div");
                    n.className = "cm-tooltip cm-completionInfo";
                    var i = e.completion.info;
                    if ("string" == typeof i) n.textContent = i;
                    else {
                      var r = i(e.completion);
                      r.then
                        ? r.then(
                            function (e) {
                              return n.appendChild(e);
                            },
                            function (e) {
                              return _s(t.state, e, "completion info");
                            }
                          )
                        : n.appendChild(r);
                    }
                    return n;
                  })(i, this.view)
                )),
                this.view.requestMeasure(this.placeInfo));
            }
          }),
          (e.prototype.updateSelectedOption = function (e) {
            for (
              var t = null, n = this.list.firstChild, i = this.range.from;
              n;
              n = n.nextSibling, i++
            )
              i == e
                ? n.hasAttribute("aria-selected") ||
                  (n.setAttribute("aria-selected", "true"), (t = n))
                : n.hasAttribute("aria-selected") &&
                  n.removeAttribute("aria-selected");
            return (
              t &&
                (function (e, t) {
                  var n = e.getBoundingClientRect(),
                    i = t.getBoundingClientRect();
                  i.top < n.top
                    ? (e.scrollTop -= n.top - i.top)
                    : i.bottom > n.bottom &&
                      (e.scrollTop += i.bottom - n.bottom);
                })(this.list, t),
              t
            );
          }),
          (e.prototype.measureInfo = function () {
            var e = this.dom.querySelector("[aria-selected]");
            if (!e || !this.info) return null;
            var t = this.dom.getBoundingClientRect(),
              n = this.info.getBoundingClientRect(),
              i = e.getBoundingClientRect();
            if (
              i.top > Math.min(innerHeight, t.bottom) - 10 ||
              i.bottom < Math.max(0, t.top) + 10
            )
              return null;
            var r =
                Math.max(0, Math.min(i.top, innerHeight - n.height)) - t.top,
              o = this.view.textDirection == sa.RTL,
              s = t.left,
              a = innerWidth - t.right;
            return (
              o && s < Math.min(n.width, a)
                ? (o = !1)
                : !o && a < Math.min(n.width, s) && (o = !0),
              { top: r, left: o }
            );
          }),
          (e.prototype.positionInfo = function (e) {
            this.info &&
              ((this.info.style.top = (e ? e.top : -1e6) + "px"),
              e &&
                (this.info.classList.toggle("cm-completionInfo-left", e.left),
                this.info.classList.toggle(
                  "cm-completionInfo-right",
                  !e.left
                )));
          }),
          (e.prototype.createListBox = function (e, t, n) {
            var i = document.createElement("ul");
            (i.id = t), i.setAttribute("role", "listbox");
            for (var r = n.from; r < n.to; r++) {
              var o = e[r],
                s = o.completion,
                a = o.match,
                l = i.appendChild(document.createElement("li"));
              (l.id = t + "-" + r), l.setAttribute("role", "option");
              var c = this.optionClass(s);
              c && (l.className = c);
              for (var u = 0, h = this.optionContent; u < h.length; u++) {
                var p = (0, h[u])(s, this.view.state, a);
                p && l.appendChild(p);
              }
            }
            return (
              n.from && i.classList.add("cm-completionListIncompleteTop"),
              n.to < e.length &&
                i.classList.add("cm-completionListIncompleteBottom"),
              i
            );
          }),
          e
        );
      })();
      function Qw(e) {
        return (
          100 * (e.boost || 0) +
          (e.apply ? 10 : 0) +
          (e.info ? 5 : 0) +
          (e.type ? 1 : 0)
        );
      }
      var Xw = (function () {
          function e(e, t, n, i, r) {
            (this.options = e),
              (this.attrs = t),
              (this.tooltip = n),
              (this.timestamp = i),
              (this.selected = r);
          }
          return (
            (e.prototype.setSelected = function (t, n) {
              return t == this.selected || t >= this.options.length
                ? this
                : new e(
                    this.options,
                    tk(n, t),
                    this.tooltip,
                    this.timestamp,
                    t
                  );
            }),
            (e.build = function (t, n, i, r, o) {
              var s = (function (e, t) {
                for (var n = [], i = 0, r = 0, o = e; r < o.length; r++) {
                  var s = o[r];
                  if (s.hasResult())
                    if (!1 === s.result.filter)
                      for (var a = 0, l = s.result.options; a < l.length; a++) {
                        var c = l[a];
                        n.push(new Vw(c, s, [1e9 - i++]));
                      }
                    else
                      for (
                        var u = new Kw(t.sliceDoc(s.from, s.to)),
                          h = void 0,
                          p = 0,
                          d = s.result.options;
                        p < d.length;
                        p++
                      )
                        (c = d[p]),
                          (h = u.match(c.label)) &&
                            (null != c.boost && (h[0] += c.boost),
                            n.push(new Vw(c, s, h)));
                }
                n.sort(ik);
                for (
                  var f = [], g = null, m = 0, v = n.sort(ik);
                  m < v.length;
                  m++
                ) {
                  var y = v[m];
                  if (300 == f.length) break;
                  g &&
                  g.label == y.completion.label &&
                  g.detail == y.completion.detail &&
                  g.type == y.completion.type &&
                  g.apply == y.completion.apply
                    ? Qw(y.completion) > Qw(g) && (f[f.length - 1] = y)
                    : f.push(y),
                    (g = y.completion);
                }
                return f;
              })(t, n);
              if (!s.length) return null;
              var a,
                l = 0;
              if (r && r.selected)
                for (
                  var c = r.options[r.selected].completion, u = 0;
                  u < s.length && !l;
                  u++
                )
                  s[u].completion == c && (l = u);
              return new e(
                s,
                tk(i, l),
                {
                  pos: t.reduce(function (e, t) {
                    return t.hasResult() ? Math.min(e, t.from) : e;
                  }, 1e8),
                  create:
                    ((a = hk),
                    function (e) {
                      return new Jw(e, a);
                    }),
                  above: o.aboveCursor,
                },
                r ? r.timestamp : Date.now(),
                l
              );
            }),
            (e.prototype.map = function (t) {
              return new e(
                this.options,
                this.attrs,
                Object.assign(Object.assign({}, this.tooltip), {
                  pos: t.mapPos(this.tooltip.pos),
                }),
                this.timestamp,
                this.selected
              );
            }),
            e
          );
        })(),
        Zw = (function () {
          function e(e, t, n) {
            (this.active = e), (this.id = t), (this.open = n);
          }
          return (
            (e.start = function () {
              return new e(
                nk,
                "cm-ac-" + Math.floor(2e6 * Math.random()).toString(36),
                null
              );
            }),
            (e.prototype.update = function (t) {
              var n = this,
                i = t.state,
                r = i.facet($w),
                o = (
                  r.override || i.languageDataAt("autocomplete", qw(i)).map(Gw)
                ).map(function (e) {
                  return (
                    n.active.find(function (t) {
                      return t.source == e;
                    }) ||
                    new ok(
                      e,
                      n.active.some(function (e) {
                        return 0 != e.state;
                      })
                        ? 1
                        : 0
                    )
                  ).update(t, r);
                });
              o.length == this.active.length &&
                o.every(function (e, t) {
                  return e == n.active[t];
                }) &&
                (o = this.active);
              var s =
                t.selection ||
                o.some(function (e) {
                  return e.hasResult() && t.changes.touchesRange(e.from, e.to);
                }) ||
                !(function (e, t) {
                  if (e == t) return !0;
                  for (var n = 0, i = 0; ; ) {
                    for (; n < e.length && !e[n].hasResult; ) n++;
                    for (; i < t.length && !t[i].hasResult; ) i++;
                    var r = n == e.length,
                      o = i == t.length;
                    if (r || o) return r == o;
                    if (e[n++].result != t[i++].result) return !1;
                  }
                })(o, this.active)
                  ? Xw.build(o, i, this.id, this.open, r)
                  : this.open && t.docChanged
                  ? this.open.map(t.changes)
                  : this.open;
              !s &&
                o.every(function (e) {
                  return 1 != e.state;
                }) &&
                o.some(function (e) {
                  return e.hasResult();
                }) &&
                (o = o.map(function (e) {
                  return e.hasResult() ? new ok(e.source, 0) : e;
                }));
              for (var a = 0, l = t.effects; a < l.length; a++) {
                var c = l[a];
                c.is(uk) && (s = s && s.setSelected(c.value, this.id));
              }
              return o == this.active && s == this.open
                ? this
                : new e(o, this.id, s);
            }),
            Object.defineProperty(e.prototype, "tooltip", {
              get: function () {
                return this.open ? this.open.tooltip : null;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "attrs", {
              get: function () {
                return this.open ? this.open.attrs : ek;
              },
              enumerable: !1,
              configurable: !0,
            }),
            e
          );
        })();
      var ek = { "aria-autocomplete": "list", "aria-expanded": "false" };
      function tk(e, t) {
        return {
          "aria-autocomplete": "list",
          "aria-expanded": "true",
          "aria-activedescendant": e + "-" + t,
          "aria-controls": e,
        };
      }
      var nk = [];
      function ik(e, t) {
        var n = t.match[0] - e.match[0];
        return n || e.completion.label.localeCompare(t.completion.label);
      }
      function rk(e) {
        return e.isUserEvent("input.type")
          ? "input"
          : e.isUserEvent("delete.backward")
          ? "delete"
          : null;
      }
      var ok = (function () {
          function e(e, t, n) {
            void 0 === n && (n = -1),
              (this.source = e),
              (this.state = t),
              (this.explicitPos = n);
          }
          return (
            (e.prototype.hasResult = function () {
              return !1;
            }),
            (e.prototype.update = function (t, n) {
              var i = rk(t),
                r = this;
              i
                ? (r = r.handleUserEvent(t, i, n))
                : t.docChanged
                ? (r = r.handleChange(t))
                : t.selection && 0 != r.state && (r = new e(r.source, 0));
              for (var o = 0, s = t.effects; o < s.length; o++) {
                var a = s[o];
                if (a.is(ak))
                  r = new e(r.source, 1, a.value ? qw(t.state) : -1);
                else if (a.is(lk)) r = new e(r.source, 0);
                else if (a.is(ck))
                  for (var l = 0, c = a.value; l < c.length; l++) {
                    var u = c[l];
                    u.source == r.source && (r = u);
                  }
              }
              return r;
            }),
            (e.prototype.handleUserEvent = function (t, n, i) {
              return "delete" != n && i.activateOnTyping
                ? new e(this.source, 1)
                : this.map(t.changes);
            }),
            (e.prototype.handleChange = function (t) {
              return t.changes.touchesRange(qw(t.startState))
                ? new e(this.source, 0)
                : this.map(t.changes);
            }),
            (e.prototype.map = function (t) {
              return t.empty || this.explicitPos < 0
                ? this
                : new e(this.source, this.state, t.mapPos(this.explicitPos));
            }),
            e
          );
        })(),
        sk = (function (e) {
          function t(t, n, i, r, o, s) {
            var a = e.call(this, t, 2, n) || this;
            return (a.result = i), (a.from = r), (a.to = o), (a.span = s), a;
          }
          return (
            M(t, e),
            (t.prototype.hasResult = function () {
              return !0;
            }),
            (t.prototype.handleUserEvent = function (e, n, i) {
              var r = e.changes.mapPos(this.from),
                o = e.changes.mapPos(this.to, 1),
                s = qw(e.state);
              if ((this.explicitPos > -1 ? s < r : s <= r) || s > o)
                return new ok(
                  this.source,
                  "input" == n && i.activateOnTyping ? 1 : 0
                );
              var a =
                this.explicitPos < 0 ? -1 : e.changes.mapPos(this.explicitPos);
              return this.span &&
                (r == o || this.span.test(e.state.sliceDoc(r, o)))
                ? new t(this.source, a, this.result, r, o, this.span)
                : new ok(this.source, 1, a);
            }),
            (t.prototype.handleChange = function (e) {
              return e.changes.touchesRange(this.from, this.to)
                ? new ok(this.source, 0)
                : this.map(e.changes);
            }),
            (t.prototype.map = function (e) {
              return e.empty
                ? this
                : new t(
                    this.source,
                    this.explicitPos < 0 ? -1 : e.mapPos(this.explicitPos),
                    this.result,
                    e.mapPos(this.from),
                    e.mapPos(this.to, 1),
                    this.span
                  );
            }),
            t
          );
        })(ok),
        ak = Or.define(),
        lk = Or.define(),
        ck = Or.define({
          map: function (e, t) {
            return e.map(function (e) {
              return e.map(t);
            });
          },
        }),
        uk = Or.define(),
        hk = lr.define({
          create: function () {
            return Zw.start();
          },
          update: function (e, t) {
            return e.update(t);
          },
          provide: function (e) {
            return [
              Sw.from(e, function (e) {
                return e.tooltip;
              }),
              Zl.contentAttributes.from(e, function (e) {
                return e.attrs;
              }),
            ];
          },
        });
      function pk(e, t) {
        return (
          void 0 === t && (t = "option"),
          function (n) {
            var i = n.state.field(hk, !1);
            if (!i || !i.open || Date.now() - i.open.timestamp < 75) return !1;
            var r,
              o = 1;
            "page" == t &&
              (r = Tw(n, i.open.tooltip)) &&
              (o = Math.max(
                2,
                Math.floor(
                  r.dom.offsetHeight / r.dom.querySelector("li").offsetHeight
                ) - 1
              ));
            var s = i.open.selected + o * (e ? 1 : -1),
              a = i.open.options.length;
            return (
              s < 0
                ? (s = "page" == t ? 0 : a - 1)
                : s >= a && (s = "page" == t ? a - 1 : 0),
              n.dispatch({ effects: uk.of(s) }),
              !0
            );
          }
        );
      }
      var dk = function (e) {
          var t = e.state.field(hk, !1);
          return (
            !(
              e.state.readOnly ||
              !t ||
              !t.open ||
              Date.now() - t.open.timestamp < 75
            ) && (Ww(e, t.open.options[t.open.selected]), !0)
          );
        },
        fk = function (e) {
          return (
            !!e.state.field(hk, !1) && (e.dispatch({ effects: ak.of(!0) }), !0)
          );
        },
        gk = function (e) {
          var t = e.state.field(hk, !1);
          return (
            !(
              !t ||
              !t.active.some(function (e) {
                return 0 != e.state;
              })
            ) && (e.dispatch({ effects: lk.of(null) }), !0)
          );
        },
        mk = function (e, t) {
          (this.active = e),
            (this.context = t),
            (this.time = Date.now()),
            (this.updates = []),
            (this.done = void 0);
        },
        vk = Qs.fromClass(
          (function () {
            function e(e) {
              (this.view = e),
                (this.debounceUpdate = -1),
                (this.running = []),
                (this.debounceAccept = -1),
                (this.composing = 0);
              for (var t = 0, n = e.state.field(hk).active; t < n.length; t++) {
                var i = n[t];
                1 == i.state && this.startQuery(i);
              }
            }
            return (
              (e.prototype.update = function (e) {
                var t,
                  n = this,
                  i = e.state.field(hk);
                if (
                  e.selectionSet ||
                  e.docChanged ||
                  e.startState.field(hk) != i
                ) {
                  for (
                    var r = e.transactions.some(function (e) {
                        return (e.selection || e.docChanged) && !rk(e);
                      }),
                      o = 0;
                    o < this.running.length;
                    o++
                  ) {
                    var s = this.running[o];
                    if (
                      r ||
                      (s.updates.length + e.transactions.length > 50 &&
                        s.time - Date.now() > 1e3)
                    ) {
                      for (
                        var a = 0, l = s.context.abortListeners;
                        a < l.length;
                        a++
                      ) {
                        var c = l[a];
                        try {
                          c();
                        } catch (e) {
                          _s(this.view.state, e);
                        }
                      }
                      (s.context.abortListeners = null),
                        this.running.splice(o--, 1);
                    } else (t = s.updates).push.apply(t, e.transactions);
                  }
                  if (
                    (this.debounceUpdate > -1 &&
                      clearTimeout(this.debounceUpdate),
                    (this.debounceUpdate = i.active.some(function (e) {
                      return (
                        1 == e.state &&
                        !n.running.some(function (t) {
                          return t.active.source == e.source;
                        })
                      );
                    })
                      ? setTimeout(function () {
                          return n.startUpdate();
                        }, 50)
                      : -1),
                    0 != this.composing)
                  )
                    for (var u = 0, h = e.transactions; u < h.length; u++) {
                      var p = h[u];
                      "input" == rk(p)
                        ? (this.composing = 2)
                        : 2 == this.composing &&
                          p.selection &&
                          (this.composing = 3);
                    }
                }
              }),
              (e.prototype.startUpdate = function () {
                this.debounceUpdate = -1;
                for (
                  var e = this.view.state.field(hk),
                    t = function (e) {
                      1 != e.state ||
                        n.running.some(function (t) {
                          return t.active.source == e.source;
                        }) ||
                        n.startQuery(e);
                    },
                    n = this,
                    i = 0,
                    r = e.active;
                  i < r.length;
                  i++
                ) {
                  t(r[i]);
                }
              }),
              (e.prototype.startQuery = function (e) {
                var t = this,
                  n = this.view.state,
                  i = qw(n),
                  r = new Nw(n, i, e.explicitPos == i),
                  o = new mk(e, r);
                this.running.push(o),
                  Promise.resolve(e.source(r)).then(
                    function (e) {
                      o.context.aborted ||
                        ((o.done = e || null), t.scheduleAccept());
                    },
                    function (e) {
                      t.view.dispatch({ effects: lk.of(null) }),
                        _s(t.view.state, e);
                    }
                  );
              }),
              (e.prototype.scheduleAccept = function () {
                var e = this;
                this.running.every(function (e) {
                  return void 0 !== e.done;
                })
                  ? this.accept()
                  : this.debounceAccept < 0 &&
                    (this.debounceAccept = setTimeout(function () {
                      return e.accept();
                    }, 50));
              }),
              (e.prototype.accept = function () {
                var e;
                this.debounceAccept > -1 && clearTimeout(this.debounceAccept),
                  (this.debounceAccept = -1);
                for (
                  var t,
                    n = [],
                    i = this.view.state.facet($w),
                    r = function (r) {
                      var s = o.running[r];
                      if (void 0 === s.done) return (t = r), "continue";
                      if ((o.running.splice(r--, 1), s.done)) {
                        for (
                          var a = new sk(
                              s.active.source,
                              s.active.explicitPos,
                              s.done,
                              s.done.from,
                              null !== (e = s.done.to) && void 0 !== e
                                ? e
                                : qw(
                                    s.updates.length
                                      ? s.updates[0].startState
                                      : o.view.state
                                  ),
                              s.done.span && !1 !== s.done.filter
                                ? jw(s.done.span, !0)
                                : null
                            ),
                            l = 0,
                            c = s.updates;
                          l < c.length;
                          l++
                        ) {
                          var u = c[l];
                          a = a.update(u, i);
                        }
                        if (a.hasResult())
                          return n.push(a), (t = r), "continue";
                      }
                      var h = o.view.state.field(hk).active.find(function (e) {
                        return e.source == s.active.source;
                      });
                      if (h && 1 == h.state)
                        if (null == s.done) {
                          a = new ok(s.active.source, 0);
                          for (var p = 0, d = s.updates; p < d.length; p++) {
                            u = d[p];
                            a = a.update(u, i);
                          }
                          1 != a.state && n.push(a);
                        } else o.startQuery(h);
                      t = r;
                    },
                    o = this,
                    s = 0;
                  s < this.running.length;
                  s++
                )
                  r(s), (s = t);
                n.length && this.view.dispatch({ effects: ck.of(n) });
              }),
              e
            );
          })(),
          {
            eventHandlers: {
              compositionstart: function () {
                this.composing = 1;
              },
              compositionend: function () {
                var e = this;
                3 == this.composing &&
                  setTimeout(function () {
                    return e.view.dispatch({ effects: ak.of(!1) });
                  }, 20),
                  (this.composing = 0);
              },
            },
          }
        ),
        yk = Zl.baseTheme({
          ".cm-tooltip.cm-tooltip-autocomplete": {
            "& > ul": {
              fontFamily: "monospace",
              whiteSpace: "nowrap",
              overflow: "hidden auto",
              maxWidth_fallback: "700px",
              maxWidth: "min(700px, 95vw)",
              minWidth: "250px",
              maxHeight: "10em",
              listStyle: "none",
              margin: 0,
              padding: 0,
              "& > li": {
                overflowX: "hidden",
                textOverflow: "ellipsis",
                cursor: "pointer",
                padding: "1px 3px",
                lineHeight: 1.2,
              },
            },
          },
          "&light .cm-tooltip-autocomplete ul li[aria-selected]": {
            background: "#17c",
            color: "white",
          },
          "&dark .cm-tooltip-autocomplete ul li[aria-selected]": {
            background: "#347",
            color: "white",
          },
          ".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":
            {
              content: '"···"',
              opacity: 0.5,
              display: "block",
              textAlign: "center",
            },
          ".cm-tooltip.cm-completionInfo": {
            position: "absolute",
            padding: "3px 9px",
            width: "max-content",
            maxWidth: "300px",
          },
          ".cm-completionInfo.cm-completionInfo-left": { right: "100%" },
          ".cm-completionInfo.cm-completionInfo-right": { left: "100%" },
          "&light .cm-snippetField": { backgroundColor: "#00000022" },
          "&dark .cm-snippetField": { backgroundColor: "#ffffff22" },
          ".cm-snippetFieldPosition": {
            verticalAlign: "text-top",
            width: 0,
            height: "1.15em",
            margin: "0 -0.7px -.7em",
            borderLeft: "1.4px dotted #888",
          },
          ".cm-completionMatchedText": { textDecoration: "underline" },
          ".cm-completionDetail": { marginLeft: "0.5em", fontStyle: "italic" },
          ".cm-completionIcon": {
            fontSize: "90%",
            width: ".8em",
            display: "inline-block",
            textAlign: "center",
            paddingRight: ".6em",
            opacity: "0.6",
          },
          ".cm-completionIcon-function, .cm-completionIcon-method": {
            "&:after": { content: "'ƒ'" },
          },
          ".cm-completionIcon-class": { "&:after": { content: "'○'" } },
          ".cm-completionIcon-interface": { "&:after": { content: "'◌'" } },
          ".cm-completionIcon-variable": { "&:after": { content: "'𝑥'" } },
          ".cm-completionIcon-constant": { "&:after": { content: "'𝐶'" } },
          ".cm-completionIcon-type": { "&:after": { content: "'𝑡'" } },
          ".cm-completionIcon-enum": { "&:after": { content: "'∪'" } },
          ".cm-completionIcon-property": { "&:after": { content: "'□'" } },
          ".cm-completionIcon-keyword": { "&:after": { content: "'🔑︎'" } },
          ".cm-completionIcon-namespace": { "&:after": { content: "'▢'" } },
          ".cm-completionIcon-text": {
            "&:after": {
              content: "'abc'",
              fontSize: "50%",
              verticalAlign: "middle",
            },
          },
        }),
        bk = function (e, t, n, i) {
          (this.field = e), (this.line = t), (this.from = n), (this.to = i);
        },
        wk = (function () {
          function e(e, t, n) {
            (this.field = e), (this.from = t), (this.to = n);
          }
          return (
            (e.prototype.map = function (t) {
              return new e(
                this.field,
                t.mapPos(this.from, -1),
                t.mapPos(this.to, 1)
              );
            }),
            e
          );
        })(),
        kk = (function () {
          function e(e, t) {
            (this.lines = e), (this.fieldPositions = t);
          }
          return (
            (e.prototype.instantiate = function (e, t) {
              for (
                var n = [],
                  i = [t],
                  r = e.doc.lineAt(t),
                  o = /^\s*/.exec(r.text)[0],
                  s = 0,
                  a = this.lines;
                s < a.length;
                s++
              ) {
                var l = a[s];
                if (n.length) {
                  for (
                    var c = o, u = /^\t*/.exec(l)[0].length, h = 0;
                    h < u;
                    h++
                  )
                    c += e.facet(fu);
                  i.push(t + c.length - u), (l = c + l.slice(u));
                }
                n.push(l), (t += l.length + 1);
              }
              return {
                text: n,
                ranges: this.fieldPositions.map(function (e) {
                  return new wk(e.field, i[e.line] + e.from, i[e.line] + e.to);
                }),
              };
            }),
            (e.parse = function (t) {
              for (
                var n, i = [], r = [], o = [], s = 0, a = t.split(/\r\n?|\n/);
                s < a.length;
                s++
              ) {
                for (
                  var l = a[s];
                  (n = /[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(l));

                ) {
                  for (
                    var c = n[1] ? +n[1] : null,
                      u = n[2] || n[3] || "",
                      h = -1,
                      p = 0;
                    p < i.length;
                    p++
                  )
                    (null != c ? i[p].seq == c : u && i[p].name == u) &&
                      (h = p);
                  if (h < 0) {
                    for (
                      p = 0;
                      p < i.length &&
                      (null == c || (null != i[p].seq && i[p].seq < c));

                    )
                      p++;
                    i.splice(p, 0, { seq: c, name: u }), (h = p);
                    for (var d = 0, f = o; d < f.length; d++) {
                      var g = f[d];
                      g.field >= h && g.field++;
                    }
                  }
                  o.push(new bk(h, r.length, n.index, n.index + u.length)),
                    (l =
                      l.slice(0, n.index) + u + l.slice(n.index + n[0].length));
                }
                r.push(l);
              }
              return new e(r, o);
            }),
            e
          );
        })(),
        Ck = xs.widget({
          widget: new ((function (e) {
            function t() {
              return (null !== e && e.apply(this, arguments)) || this;
            }
            return (
              M(t, e),
              (t.prototype.toDOM = function () {
                var e = document.createElement("span");
                return (e.className = "cm-snippetFieldPosition"), e;
              }),
              (t.prototype.ignoreEvent = function () {
                return !1;
              }),
              t
            );
          })(ks))(),
        }),
        xk = xs.mark({ class: "cm-snippetField" }),
        Sk = (function () {
          function e(e, t) {
            (this.ranges = e),
              (this.active = t),
              (this.deco = xs.set(
                e.map(function (e) {
                  return (e.from == e.to ? Ck : xk).range(e.from, e.to);
                })
              ));
          }
          return (
            (e.prototype.map = function (t) {
              return new e(
                this.ranges.map(function (e) {
                  return e.map(t);
                }),
                this.active
              );
            }),
            (e.prototype.selectionInsideField = function (e) {
              var t = this;
              return e.ranges.every(function (e) {
                return t.ranges.some(function (n) {
                  return (
                    n.field == t.active && n.from <= e.from && n.to >= e.to
                  );
                });
              });
            }),
            e
          );
        })(),
        Ek = Or.define({
          map: function (e, t) {
            return e && e.map(t);
          },
        }),
        Mk = Or.define(),
        Lk = lr.define({
          create: function () {
            return null;
          },
          update: function (e, t) {
            for (var n = 0, i = t.effects; n < i.length; n++) {
              var r = i[n];
              if (r.is(Ek)) return r.value;
              if (r.is(Mk) && e) return new Sk(e.ranges, r.value);
            }
            return (
              e && t.docChanged && (e = e.map(t.changes)),
              e &&
                t.selection &&
                !e.selectionInsideField(t.selection) &&
                (e = null),
              e
            );
          },
          provide: function (e) {
            return Zl.decorations.from(e, function (e) {
              return e ? e.deco : xs.none;
            });
          },
        });
      function Ak(e, t) {
        return Zi.create(
          e
            .filter(function (e) {
              return e.field == t;
            })
            .map(function (e) {
              return Zi.range(e.from, e.to);
            })
        );
      }
      function Dk(e) {
        var t = kk.parse(e);
        return function (e, n, i, r) {
          var o = t.instantiate(e.state, i),
            s = o.text,
            a = o.ranges,
            l = { changes: { from: i, to: r, insert: Fi.of(s) } };
          if ((a.length && (l.selection = Ak(a, 0)), a.length > 1)) {
            var c = new Sk(a, 0),
              u = (l.effects = [Ek.of(c)]);
            void 0 === e.state.field(Lk, !1) &&
              u.push(Or.appendConfig.of([Lk, Bk, zk, yk]));
          }
          e.dispatch(e.state.update(l));
        };
      }
      function Tk(e) {
        return function (t) {
          var n = t.state,
            i = t.dispatch,
            r = n.field(Lk, !1);
          if (!r || (e < 0 && 0 == r.active)) return !1;
          var o = r.active + e,
            s =
              e > 0 &&
              !r.ranges.some(function (t) {
                return t.field == o + e;
              });
          return (
            i(
              n.update({
                selection: Ak(r.ranges, o),
                effects: Ek.of(s ? null : new Sk(r.ranges, o)),
              })
            ),
            !0
          );
        };
      }
      var Pk = function (e) {
          var t = e.state,
            n = e.dispatch;
          return (
            !!t.field(Lk, !1) && (n(t.update({ effects: Ek.of(null) })), !0)
          );
        },
        Ok = Tk(1),
        Fk = Tk(-1),
        Ik = [
          { key: "Tab", run: Ok, shift: Fk },
          { key: "Escape", run: Pk },
        ],
        Nk = ir.define({
          combine: function (e) {
            return e.length ? e[0] : Ik;
          },
        }),
        Bk = gr.highest(
          lc.compute([Nk], function (e) {
            return e.facet(Nk);
          })
        );
      function Rk(e, t) {
        return Object.assign(Object.assign({}, t), { apply: Dk(e) });
      }
      var zk = Zl.domEventHandlers({
        mousedown: function (e, t) {
          var n,
            i = t.state.field(Lk, !1);
          if (!i || null == (n = t.posAtCoords({ x: e.clientX, y: e.clientY })))
            return !1;
          var r = i.ranges.find(function (e) {
            return e.from <= n && e.to >= n;
          });
          return (
            !(!r || r.field == i.active) &&
            (t.dispatch({
              selection: Ak(i.ranges, r.field),
              effects: Ek.of(
                i.ranges.some(function (e) {
                  return e.field > r.field;
                })
                  ? new Sk(i.ranges, r.field)
                  : null
              ),
            }),
            !0)
          );
        },
      });
      function Hk(e, t) {
        return new RegExp(t(e.source), e.unicode ? "u" : "");
      }
      var Vk = Object.create(null);
      function qk(e, t, n, i, r) {
        for (var o = e.iterLines(), s = 0; !o.next().done; ) {
          var a = o.value,
            l = void 0;
          for (t.lastIndex = 0; (l = t.exec(a)); )
            if (
              !i[l[0]] &&
              s + l.index != r &&
              (n.push({ type: "text", label: l[0] }),
              (i[l[0]] = !0),
              n.length >= 2e3)
            )
              return;
          s += a.length + 1;
        }
      }
      function jk(e, t, n, i, r) {
        var o = e.length >= 1e3,
          s = o && t.get(e);
        if (s) return s;
        var a = [],
          l = Object.create(null);
        if (e.children)
          for (var c = 0, u = 0, h = e.children; u < h.length; u++) {
            var p = h[u];
            if (p.length >= 1e3)
              for (
                var d = 0, f = jk(p, t, n, i - c, r - c);
                d < f.length;
                d++
              ) {
                var g = f[d];
                l[g.label] || ((l[g.label] = !0), a.push(g));
              }
            else qk(p, n, a, l, r - c);
            c += p.length + 1;
          }
        else qk(e, n, a, l, r);
        return o && a.length < 2e3 && t.set(e, a), a;
      }
      var Uk = function (e) {
        var t = e.state.languageDataAt("wordChars", e.pos).join(""),
          n = (function (e) {
            var t = e.replace(/[\\[.+*?(){|^$]/g, "\\$&");
            try {
              return new RegExp(
                "[\\p{Alphabetic}\\p{Number}_" + t + "]+",
                "ug"
              );
            } catch (e) {
              return new RegExp("[w" + t + "]", "g");
            }
          })(t),
          i = e.matchBefore(
            Hk(n, function (e) {
              return e + "$";
            })
          );
        if (!i && !e.explicit) return null;
        var r = i ? i.from : e.pos;
        return {
          from: r,
          options: jk(
            e.state.doc,
            (function (e) {
              return Vk[e] || (Vk[e] = new WeakMap());
            })(t),
            n,
            5e4,
            r
          ),
          span: Hk(n, function (e) {
            return "^" + e;
          }),
        };
      };
      function Wk(e) {
        return void 0 === e && (e = {}), [hk, $w.of(e), vk, Gk, yk];
      }
      var _k = [
          { key: "Ctrl-Space", run: fk },
          { key: "Escape", run: gk },
          { key: "ArrowDown", run: pk(!0) },
          { key: "ArrowUp", run: pk(!1) },
          { key: "PageDown", run: pk(!0, "page") },
          { key: "PageUp", run: pk(!1, "page") },
          { key: "Enter", run: dk },
        ],
        Gk = gr.highest(
          lc.computeN([$w], function (e) {
            return e.facet($w).defaultKeymap ? [_k] : [];
          })
        );
      function Kk(e) {
        var t = e.field(hk, !1);
        return t &&
          t.active.some(function (e) {
            return 1 == e.state;
          })
          ? "pending"
          : t &&
            t.active.some(function (e) {
              return 0 != e.state;
            })
          ? "active"
          : null;
      }
      function $k(e) {
        var t,
          n = null === (t = e.field(hk, !1)) || void 0 === t ? void 0 : t.open;
        return n
          ? n.options.map(function (e) {
              return e.completion;
            })
          : [];
      }
      function Yk(e) {
        var t,
          n = null === (t = e.field(hk, !1)) || void 0 === t ? void 0 : t.open;
        return n ? n.options[n.selected].completion : null;
      }
      var Jk = { brackets: ["(", "[", "{", "'", '"'], before: ")]}'\":;>" },
        Qk = Or.define({
          map: function (e, t) {
            var n = t.mapPos(e, -1, Ui.TrackAfter);
            return null == n ? void 0 : n;
          },
        }),
        Xk = Or.define({
          map: function (e, t) {
            return t.mapPos(e);
          },
        }),
        Zk = new ((function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return M(t, e), t;
        })(Xr))();
      (Zk.startSide = 1), (Zk.endSide = -1);
      var eC = lr.define({
        create: function () {
          return no.empty;
        },
        update: function (e, t) {
          if (t.selection) {
            var n = t.state.doc.lineAt(t.selection.main.head).from,
              i = t.startState.doc.lineAt(
                t.startState.selection.main.head
              ).from;
            n != t.changes.mapPos(i, -1) && (e = no.empty);
          }
          e = e.map(t.changes);
          for (
            var r = function (t) {
                t.is(Qk)
                  ? (e = e.update({ add: [Zk.range(t.value, t.value + 1)] }))
                  : t.is(Xk) &&
                    (e = e.update({
                      filter: function (e) {
                        return e != t.value;
                      },
                    }));
              },
              o = 0,
              s = t.effects;
            o < s.length;
            o++
          ) {
            r(s[o]);
          }
          return e;
        },
      });
      function tC() {
        return [sC, eC];
      }
      var nC = "()[]{}<>";
      function iC(e) {
        for (var t = 0; t < nC.length; t += 2)
          if (nC.charCodeAt(t) == e) return nC.charAt(t + 1);
        return Di(e < 128 ? e : e + 1);
      }
      function rC(e, t) {
        return e.languageDataAt("closeBrackets", t)[0] || Jk;
      }
      var oC =
          "object" == typeof navigator && /Android\b/.test(navigator.userAgent),
        sC = Zl.inputHandler.of(function (e, t, n, i) {
          if ((oC ? e.composing : e.compositionStarted) || e.state.readOnly)
            return !1;
          var r = e.state.selection.main;
          if (
            i.length > 2 ||
            (2 == i.length && 1 == Ti(Ai(i, 0))) ||
            t != r.from ||
            n != r.to
          )
            return !1;
          var o = cC(e.state, i);
          return !!o && (e.dispatch(o), !0);
        }),
        aC = function (e) {
          var t = e.state,
            n = e.dispatch;
          if (t.readOnly) return !1;
          var i = rC(t, t.selection.main.head).brackets || Jk.brackets,
            r = null,
            o = t.changeByRange(function (e) {
              if (e.empty)
                for (
                  var n = (function (e, t) {
                      var n = e.sliceString(t - 2, t);
                      return Ti(Ai(n, 0)) == n.length ? n : n.slice(1);
                    })(t.doc, e.head),
                    o = 0,
                    s = i;
                  o < s.length;
                  o++
                ) {
                  var a = s[o];
                  if (a == n && hC(t.doc, e.head) == iC(Ai(a, 0)))
                    return {
                      changes: {
                        from: e.head - a.length,
                        to: e.head + a.length,
                      },
                      range: Zi.cursor(e.head - a.length),
                      userEvent: "delete.backward",
                    };
                }
              return { range: (r = e) };
            });
          return r || n(t.update(o, { scrollIntoView: !0 })), !r;
        },
        lC = [{ key: "Backspace", run: aC }];
      function cC(e, t) {
        for (
          var n = rC(e, e.selection.main.head),
            i = n.brackets || Jk.brackets,
            r = 0,
            o = i;
          r < o.length;
          r++
        ) {
          var s = o[r],
            a = iC(Ai(s, 0));
          if (t == s)
            return a == s
              ? fC(e, s, i.indexOf(s + s + s) > -1)
              : pC(e, s, a, n.before || Jk.before);
          if (t == a && uC(e, e.selection.main.from)) return dC(e, s, a);
        }
        return null;
      }
      function uC(e, t) {
        var n = !1;
        return (
          e.field(eC).between(0, e.doc.length, function (e) {
            e == t && (n = !0);
          }),
          n
        );
      }
      function hC(e, t) {
        var n = e.sliceString(t, t + 2);
        return n.slice(0, Ti(Ai(n, 0)));
      }
      function pC(e, t, n, i) {
        var r = null,
          o = e.changeByRange(function (o) {
            if (!o.empty)
              return {
                changes: [
                  { insert: t, from: o.from },
                  { insert: n, from: o.to },
                ],
                effects: Qk.of(o.to + t.length),
                range: Zi.range(o.anchor + t.length, o.head + t.length),
              };
            var s = hC(e.doc, o.head);
            return !s || /\s/.test(s) || i.indexOf(s) > -1
              ? {
                  changes: { insert: t + n, from: o.head },
                  effects: Qk.of(o.head + t.length),
                  range: Zi.cursor(o.head + t.length),
                }
              : { range: (r = o) };
          });
        return r
          ? null
          : e.update(o, { scrollIntoView: !0, userEvent: "input.type" });
      }
      function dC(e, t, n) {
        var i = null,
          r = e.selection.ranges.map(function (t) {
            return t.empty && hC(e.doc, t.head) == n
              ? Zi.cursor(t.head + n.length)
              : (i = t);
          });
        return i
          ? null
          : e.update({
              selection: Zi.create(r, e.selection.mainIndex),
              scrollIntoView: !0,
              effects: e.selection.ranges.map(function (e) {
                var t = e.from;
                return Xk.of(t);
              }),
            });
      }
      function fC(e, t, n) {
        var i = null,
          r = e.changeByRange(function (r) {
            if (!r.empty)
              return {
                changes: [
                  { insert: t, from: r.from },
                  { insert: t, from: r.to },
                ],
                effects: Qk.of(r.to + t.length),
                range: Zi.range(r.anchor + t.length, r.head + t.length),
              };
            var o = r.head,
              s = hC(e.doc, o);
            if (s == t) {
              if (gC(e, o))
                return {
                  changes: { insert: t + t, from: o },
                  effects: Qk.of(o + t.length),
                  range: Zi.cursor(o + t.length),
                };
              if (uC(e, o)) {
                var a = n && e.sliceDoc(o, o + 3 * t.length) == t + t + t;
                return {
                  range: Zi.cursor(o + t.length * (a ? 3 : 1)),
                  effects: Xk.of(o),
                };
              }
            } else {
              if (
                n &&
                e.sliceDoc(o - 2 * t.length, o) == t + t &&
                gC(e, o - 2 * t.length)
              )
                return {
                  changes: { insert: t + t + t + t, from: o },
                  effects: Qk.of(o + t.length),
                  range: Zi.cursor(o + t.length),
                };
              if (e.charCategorizer(o)(s) != qr.Word) {
                var l = e.sliceDoc(o - 1, o);
                if (
                  l != t &&
                  e.charCategorizer(o)(l) != qr.Word &&
                  !(function (e, t, n) {
                    for (var i = Zc(e).resolveInner(t, -1), r = 0; r < 5; r++) {
                      if (e.sliceDoc(i.from, i.from + n.length) == n) return !0;
                      var o = i.to == t && i.parent;
                      if (!o) break;
                      i = o;
                    }
                    return !1;
                  })(e, o, t)
                )
                  return {
                    changes: { insert: t + t, from: o },
                    effects: Qk.of(o + t.length),
                    range: Zi.cursor(o + t.length),
                  };
              }
            }
            return { range: (i = r) };
          });
        return i
          ? null
          : e.update(r, { scrollIntoView: !0, userEvent: "input.type" });
      }
      function gC(e, t) {
        var n = Zc(e).resolveInner(t + 1);
        return n.parent && n.from == t;
      }
      var mC = function (e, t, n, i) {
          (this.origin = e),
            (this.changes = t),
            (this.effects = n),
            (this.clientID = i);
        },
        vC = function (e, t) {
          (this.version = e), (this.unconfirmed = t);
        },
        yC = ir.define({
          combine: function (e) {
            var t = _r(e, {
              startVersion: 0,
              clientID: null,
              sharedEffects: function () {
                return [];
              },
            });
            return (
              null == t.clientID &&
                (t.clientID = (e.length && e[0].generatedID) || ""),
              t
            );
          },
        }),
        bC = Dr.define(),
        wC = lr.define({
          create: function (e) {
            return new vC(e.facet(yC).startVersion, []);
          },
          update: function (e, t) {
            var n = t.annotation(bC);
            if (n) return n;
            var i = t.startState.facet(yC),
              r = i.sharedEffects,
              o = i.clientID,
              s = r(t);
            return s.length || !t.changes.empty
              ? new vC(
                  e.version,
                  e.unconfirmed.concat(new mC(t, t.changes, s, o))
                )
              : e;
          },
        });
      function kC(e) {
        return (
          void 0 === e && (e = {}),
          [
            wC,
            yC.of(
              Object.assign(
                { generatedID: Math.floor(1e9 * Math.random()).toString(36) },
                e
              )
            ),
          ]
        );
      }
      function CC(e, t) {
        var n = e.field(wC),
          i = n.version,
          r = n.unconfirmed,
          o = e.facet(yC).clientID;
        i += t.length;
        for (var s = 0; s < t.length && t[s].clientID == o; ) s++;
        if ((s && ((r = r.slice(s)), (t = t.slice(s))), !t.length))
          return e.update({ annotations: [bC.of(new vC(i, r))] });
        for (
          var a = t[0].changes, l = t[0].effects || [], c = 1;
          c < t.length;
          c++
        ) {
          var u = t[c];
          (l = Or.mapEffects(l, u.changes)),
            u.effects && (l = l.concat(u.effects)),
            (a = a.compose(u.changes));
        }
        return (
          r.length &&
            ((r = r.map(function (e) {
              var t = e.changes.map(a);
              return (
                (a = a.map(e.changes, !0)),
                new mC(e.origin, t, Or.mapEffects(e.effects, a), o)
              );
            })),
            (l = Or.mapEffects(
              l,
              r.reduce(function (e, t) {
                return e.compose(t.changes);
              }, _i.empty(r[0].changes.length))
            ))),
          e.update({
            changes: a,
            effects: l,
            annotations: [
              Fr.addToHistory.of(!1),
              Fr.remote.of(!0),
              bC.of(new vC(i, r)),
            ],
            filter: !1,
          })
        );
      }
      function xC(e) {
        return e.field(wC).unconfirmed;
      }
      function SC(e) {
        return e.field(wC).version;
      }
      function EC(e) {
        return e.facet(yC).clientID;
      }
      var MC = Zl.baseTheme({
          "&.cm-focused .cm-matchingBracket": { backgroundColor: "#328c8252" },
          "&.cm-focused .cm-nonmatchingBracket": {
            backgroundColor: "#bb555544",
          },
        }),
        LC = "()[]{}",
        AC = ir.define({
          combine: function (e) {
            return _r(e, {
              afterCursor: !0,
              brackets: LC,
              maxScanDistance: 1e4,
            });
          },
        }),
        DC = xs.mark({ class: "cm-matchingBracket" }),
        TC = xs.mark({ class: "cm-nonmatchingBracket" }),
        PC = [
          lr.define({
            create: function () {
              return xs.none;
            },
            update: function (e, t) {
              if (!t.docChanged && !t.selection) return e;
              for (
                var n = [],
                  i = t.state.facet(AC),
                  r = 0,
                  o = t.state.selection.ranges;
                r < o.length;
                r++
              ) {
                var s = o[r];
                if (s.empty) {
                  var a =
                    IC(t.state, s.head, -1, i) ||
                    (s.head > 0 && IC(t.state, s.head - 1, 1, i)) ||
                    (i.afterCursor &&
                      (IC(t.state, s.head, 1, i) ||
                        (s.head < t.state.doc.length &&
                          IC(t.state, s.head + 1, -1, i))));
                  if (a) {
                    var l = a.matched ? DC : TC;
                    n.push(l.range(a.start.from, a.start.to)),
                      a.end && n.push(l.range(a.end.from, a.end.to));
                  }
                }
              }
              return xs.set(n, !0);
            },
            provide: function (e) {
              return Zl.decorations.from(e);
            },
          }),
          MC,
        ];
      function OC(e) {
        return void 0 === e && (e = {}), [AC.of(e), PC];
      }
      function FC(e, t, n) {
        var i = e.prop(t < 0 ? Nn.openedBy : Nn.closedBy);
        if (i) return i;
        if (1 == e.name.length) {
          var r = n.indexOf(e.name);
          if (r > -1 && r % 2 == (t < 0 ? 1 : 0)) return [n[r + t]];
        }
        return null;
      }
      function IC(e, t, n, i) {
        void 0 === i && (i = {});
        for (
          var r = i.maxScanDistance || 1e4,
            o = i.brackets || LC,
            s = Zc(e),
            a = s.resolveInner(t, n),
            l = a;
          l;
          l = l.parent
        ) {
          var c = FC(l.type, n, o);
          if (c && l.from < l.to) return NC(e, t, n, l, c, o);
        }
        return (function (e, t, n, i, r, o, s) {
          var a = n < 0 ? e.sliceDoc(t - 1, t) : e.sliceDoc(t, t + 1),
            l = s.indexOf(a);
          if (l < 0 || (l % 2 == 0) != n > 0) return null;
          for (
            var c = { from: n < 0 ? t - 1 : t, to: n > 0 ? t + 1 : t },
              u = e.doc.iterRange(t, n > 0 ? e.doc.length : 0),
              h = 0,
              p = 0;
            !u.next().done && p <= o;

          ) {
            var d = u.value;
            n < 0 && (p += d.length);
            for (
              var f = t + p * n,
                g = n > 0 ? 0 : d.length - 1,
                m = n > 0 ? d.length : -1;
              g != m;
              g += n
            ) {
              var v = s.indexOf(d[g]);
              if (!(v < 0 || i.resolve(f + g, 1).type != r))
                if ((v % 2 == 0) == n > 0) h++;
                else {
                  if (1 == h)
                    return {
                      start: c,
                      end: { from: f + g, to: f + g + 1 },
                      matched: v >> 1 == l >> 1,
                    };
                  h--;
                }
            }
            n > 0 && (p += d.length);
          }
          return u.done ? { start: c, matched: !1 } : null;
        })(e, t, n, s, a.type, r, o);
      }
      function NC(e, t, n, i, r, o) {
        var s = i.parent,
          a = { from: i.from, to: i.to },
          l = 0,
          c = null == s ? void 0 : s.cursor;
        if (c && (n < 0 ? c.childBefore(i.from) : c.childAfter(i.to)))
          do {
            if (n < 0 ? c.to <= i.from : c.from >= i.to) {
              if (0 == l && r.indexOf(c.type.name) > -1 && c.from < c.to)
                return {
                  start: a,
                  end: { from: c.from, to: c.to },
                  matched: !0,
                };
              if (FC(c.type, n, o)) l++;
              else if (FC(c.type, -n, o) && 0 == --l)
                return {
                  start: a,
                  end: c.from == c.to ? void 0 : { from: c.from, to: c.to },
                  matched: !1,
                };
            }
          } while (n < 0 ? c.prevSibling() : c.nextSibling());
        return { start: a, matched: !1 };
      }
      function BC(e, t) {
        return Zi.create(e.ranges.map(t), e.mainIndex);
      }
      function RC(e, t) {
        return e.update({
          selection: t,
          scrollIntoView: !0,
          userEvent: "select",
        });
      }
      function zC(e, t) {
        var n = e.state,
          i = e.dispatch,
          r = BC(n.selection, t);
        return !r.eq(n.selection) && (i(RC(n, r)), !0);
      }
      function HC(e, t) {
        return Zi.cursor(t ? e.to : e.from);
      }
      function VC(e, t) {
        return zC(e, function (n) {
          return n.empty ? e.moveByChar(n, t) : HC(n, t);
        });
      }
      var qC = function (e) {
          return VC(e, e.textDirection != sa.LTR);
        },
        jC = function (e) {
          return VC(e, e.textDirection == sa.LTR);
        },
        UC = function (e) {
          return VC(e, !0);
        },
        WC = function (e) {
          return VC(e, !1);
        };
      function _C(e, t) {
        return zC(e, function (n) {
          return n.empty ? e.moveByGroup(n, t) : HC(n, t);
        });
      }
      var GC = function (e) {
          return _C(e, e.textDirection != sa.LTR);
        },
        KC = function (e) {
          return _C(e, e.textDirection == sa.LTR);
        },
        $C = function (e) {
          return _C(e, !0);
        },
        YC = function (e) {
          return _C(e, !1);
        };
      function JC(e, t, n) {
        var i = e.state.charCategorizer(t.from);
        return e.moveByChar(t, n, function (r) {
          var o = qr.Space,
            s = t.from,
            a = !1,
            l = !1,
            c = !1,
            u = function (t) {
              if (a) return !1;
              s += n ? t.length : -t.length;
              var r,
                u = i(t);
              if ((o == qr.Space && (o = u), o != u)) return !1;
              if (o == qr.Word)
                if (t.toLowerCase() == t) {
                  if (!n && l) return !1;
                  c = !0;
                } else if (c) {
                  if (n) return !1;
                  a = !0;
                } else {
                  if (
                    l &&
                    n &&
                    i((r = e.state.sliceDoc(s, s + 1))) == qr.Word &&
                    r.toLowerCase() == r
                  )
                    return !1;
                  l = !0;
                }
              return !0;
            };
          return u(r), u;
        });
      }
      function QC(e, t) {
        return zC(e, function (n) {
          return n.empty ? JC(e, n, t) : HC(n, t);
        });
      }
      var XC = function (e) {
          return QC(e, !0);
        },
        ZC = function (e) {
          return QC(e, !1);
        };
      function ex(e, t, n) {
        if (t.type.prop(n)) return !0;
        var i = t.to - t.from;
        return (
          (i && (i > 2 || /[^\s,.;:]/.test(e.sliceDoc(t.from, t.to)))) ||
          t.firstChild
        );
      }
      function tx(e, t, n) {
        for (
          var i = Zc(e).resolveInner(t.head),
            r = n ? Nn.closedBy : Nn.openedBy,
            o = t.head;
          ;

        ) {
          var s = n ? i.childAfter(o) : i.childBefore(o);
          if (!s) break;
          ex(e, s, r) ? (i = s) : (o = n ? s.to : s.from);
        }
        var a, l;
        return (
          (l =
            i.type.prop(r) &&
            (a = n ? IC(e, i.from, 1) : IC(e, i.to, -1)) &&
            a.matched
              ? n
                ? a.end.to
                : a.end.from
              : n
              ? i.to
              : i.from),
          Zi.cursor(l, n ? -1 : 1)
        );
      }
      var nx = function (e) {
          return zC(e, function (t) {
            return tx(e.state, t, e.textDirection != sa.LTR);
          });
        },
        ix = function (e) {
          return zC(e, function (t) {
            return tx(e.state, t, e.textDirection == sa.LTR);
          });
        };
      function rx(e, t) {
        return zC(e, function (n) {
          if (!n.empty) return HC(n, t);
          var i = e.moveVertically(n, t);
          return i.head != n.head ? i : e.moveToLineBoundary(n, t);
        });
      }
      var ox = function (e) {
          return rx(e, !1);
        },
        sx = function (e) {
          return rx(e, !0);
        };
      function ax(e, t) {
        var n = e.state,
          i = BC(n.selection, function (n) {
            return n.empty
              ? e.moveVertically(n, t, e.dom.clientHeight)
              : HC(n, t);
          });
        if (i.eq(n.selection)) return !1;
        var r = e.coordsAtPos(n.selection.main.head),
          o = e.scrollDOM.getBoundingClientRect();
        return (
          e.dispatch(RC(n, i), {
            effects:
              r && r.top > o.top && r.bottom < o.bottom
                ? Zl.scrollIntoView(i.main.head, {
                    y: "start",
                    yMargin: r.top - o.top,
                  })
                : void 0,
          }),
          !0
        );
      }
      var lx = function (e) {
          return ax(e, !1);
        },
        cx = function (e) {
          return ax(e, !0);
        };
      function ux(e, t, n) {
        var i = e.lineBlockAt(t.head),
          r = e.moveToLineBoundary(t, n);
        if (
          (r.head == t.head &&
            r.head != (n ? i.to : i.from) &&
            (r = e.moveToLineBoundary(t, n, !1)),
          !n && r.head == i.from && i.length)
        ) {
          var o = /^\s*/.exec(
            e.state.sliceDoc(i.from, Math.min(i.from + 100, i.to))
          )[0].length;
          o && t.head != i.from + o && (r = Zi.cursor(i.from + o));
        }
        return r;
      }
      var hx = function (e) {
          return zC(e, function (t) {
            return ux(e, t, !0);
          });
        },
        px = function (e) {
          return zC(e, function (t) {
            return ux(e, t, !1);
          });
        },
        dx = function (e) {
          return zC(e, function (t) {
            return Zi.cursor(e.lineBlockAt(t.head).from, 1);
          });
        },
        fx = function (e) {
          return zC(e, function (t) {
            return Zi.cursor(e.lineBlockAt(t.head).to, -1);
          });
        };
      function gx(e, t, n) {
        var i = !1,
          r = BC(e.selection, function (t) {
            var r =
              IC(e, t.head, -1) ||
              IC(e, t.head, 1) ||
              (t.head > 0 && IC(e, t.head - 1, 1)) ||
              (t.head < e.doc.length && IC(e, t.head + 1, -1));
            if (!r || !r.end) return t;
            i = !0;
            var o = r.start.from == t.head ? r.end.to : r.end.from;
            return n ? Zi.range(t.anchor, o) : Zi.cursor(o);
          });
        return !!i && (t(RC(e, r)), !0);
      }
      var mx = function (e) {
          return gx(e.state, e.dispatch, !1);
        },
        vx = function (e) {
          return gx(e.state, e.dispatch, !0);
        };
      function yx(e, t) {
        var n = BC(e.state.selection, function (e) {
          var n = t(e);
          return Zi.range(e.anchor, n.head, n.goalColumn);
        });
        return !n.eq(e.state.selection) && (e.dispatch(RC(e.state, n)), !0);
      }
      function bx(e, t) {
        return yx(e, function (n) {
          return e.moveByChar(n, t);
        });
      }
      var wx = function (e) {
          return bx(e, e.textDirection != sa.LTR);
        },
        kx = function (e) {
          return bx(e, e.textDirection == sa.LTR);
        },
        Cx = function (e) {
          return bx(e, !0);
        },
        xx = function (e) {
          return bx(e, !1);
        };
      function Sx(e, t) {
        return yx(e, function (n) {
          return e.moveByGroup(n, t);
        });
      }
      var Ex = function (e) {
          return Sx(e, e.textDirection != sa.LTR);
        },
        Mx = function (e) {
          return Sx(e, e.textDirection == sa.LTR);
        },
        Lx = function (e) {
          return Sx(e, !0);
        },
        Ax = function (e) {
          return Sx(e, !1);
        };
      function Dx(e, t) {
        return yx(e, function (n) {
          return JC(e, n, t);
        });
      }
      var Tx = function (e) {
          return Dx(e, !0);
        },
        Px = function (e) {
          return Dx(e, !1);
        },
        Ox = function (e) {
          return yx(e, function (t) {
            return tx(e.state, t, e.textDirection != sa.LTR);
          });
        },
        Fx = function (e) {
          return yx(e, function (t) {
            return tx(e.state, t, e.textDirection == sa.LTR);
          });
        };
      function Ix(e, t) {
        return yx(e, function (n) {
          return e.moveVertically(n, t);
        });
      }
      var Nx = function (e) {
          return Ix(e, !1);
        },
        Bx = function (e) {
          return Ix(e, !0);
        };
      function Rx(e, t) {
        return yx(e, function (n) {
          return e.moveVertically(n, t, e.dom.clientHeight);
        });
      }
      var zx = function (e) {
          return Rx(e, !1);
        },
        Hx = function (e) {
          return Rx(e, !0);
        },
        Vx = function (e) {
          return yx(e, function (t) {
            return ux(e, t, !0);
          });
        },
        qx = function (e) {
          return yx(e, function (t) {
            return ux(e, t, !1);
          });
        },
        jx = function (e) {
          return yx(e, function (t) {
            return Zi.cursor(e.lineBlockAt(t.head).from);
          });
        },
        Ux = function (e) {
          return yx(e, function (t) {
            return Zi.cursor(e.lineBlockAt(t.head).to);
          });
        },
        Wx = function (e) {
          var t = e.state;
          return (0, e.dispatch)(RC(t, { anchor: 0 })), !0;
        },
        _x = function (e) {
          var t = e.state;
          return (0, e.dispatch)(RC(t, { anchor: t.doc.length })), !0;
        },
        Gx = function (e) {
          var t = e.state;
          return (
            (0, e.dispatch)(
              RC(t, { anchor: t.selection.main.anchor, head: 0 })
            ),
            !0
          );
        },
        Kx = function (e) {
          var t = e.state;
          return (
            (0, e.dispatch)(
              RC(t, { anchor: t.selection.main.anchor, head: t.doc.length })
            ),
            !0
          );
        },
        $x = function (e) {
          var t = e.state;
          return (
            (0, e.dispatch)(
              t.update({
                selection: { anchor: 0, head: t.doc.length },
                userEvent: "select",
              })
            ),
            !0
          );
        },
        Yx = function (e) {
          var t = e.state,
            n = e.dispatch,
            i = hS(t).map(function (e) {
              var n = e.from,
                i = e.to;
              return Zi.range(n, Math.min(i + 1, t.doc.length));
            });
          return (
            n(t.update({ selection: Zi.create(i), userEvent: "select" })), !0
          );
        },
        Jx = function (e) {
          var t = e.state,
            n = e.dispatch,
            i = BC(t.selection, function (e) {
              for (
                var n, i = Zc(t).resolveInner(e.head, 1);
                !(
                  (i.from < e.from && i.to >= e.to) ||
                  (i.to > e.to && i.from <= e.from)
                ) &&
                (null === (n = i.parent) || void 0 === n ? void 0 : n.parent);

              )
                i = i.parent;
              return Zi.range(i.to, i.from);
            });
          return n(RC(t, i)), !0;
        },
        Qx = function (e) {
          var t = e.state,
            n = e.dispatch,
            i = t.selection,
            r = null;
          return (
            i.ranges.length > 1
              ? (r = Zi.create([i.main]))
              : i.main.empty || (r = Zi.create([Zi.cursor(i.main.head)])),
            !!r && (n(RC(t, r)), !0)
          );
        };
      function Xx(e, t) {
        var n = e.state,
          i = e.dispatch;
        if (n.readOnly) return !1;
        var r = "delete.selection",
          o = n.changeByRange(function (e) {
            var n = e.from,
              i = e.to;
            if (n == i) {
              var o = t(n);
              o < n ? (r = "delete.backward") : o > n && (r = "delete.forward"),
                (n = Math.min(n, o)),
                (i = Math.max(i, o));
            }
            return n == i
              ? { range: e }
              : { changes: { from: n, to: i }, range: Zi.cursor(n) };
          });
        return (
          !o.changes.empty &&
          (i(n.update(o, { scrollIntoView: !0, userEvent: r })), !0)
        );
      }
      function Zx(e, t, n) {
        if (e instanceof Zl)
          for (
            var i = 0, r = e.pluginField($s.atomicRanges);
            i < r.length;
            i++
          ) {
            r[i].between(t, t, function (e, i) {
              e < t && i > t && (t = n ? i : e);
            });
          }
        return t;
      }
      var eS = function (e, t) {
          return Xx(e, function (n) {
            var i,
              r,
              o = e.state,
              s = o.doc.lineAt(n);
            if (
              !t &&
              n > s.from &&
              n < s.from + 200 &&
              !/[^ \t]/.test((i = s.text.slice(0, n - s.from)))
            ) {
              if ("\t" == i[i.length - 1]) return n - 1;
              for (
                var a = Pi(i, o.tabSize) % gu(o) || gu(o), l = 0;
                l < a && " " == i[i.length - 1 - l];
                l++
              )
                n--;
              r = n;
            } else (r = xi(s.text, n - s.from, t, t) + s.from) == n && s.number != (t ? o.doc.lines : 1) && (r += t ? 1 : -1);
            return Zx(e, r, t);
          });
        },
        tS = function (e) {
          return eS(e, !1);
        },
        nS = function (e) {
          return eS(e, !0);
        },
        iS = function (e, t) {
          return Xx(e, function (n) {
            for (
              var i = n,
                r = e.state,
                o = r.doc.lineAt(i),
                s = r.charCategorizer(i),
                a = null;
              ;

            ) {
              if (i == (t ? o.to : o.from)) {
                i == n &&
                  o.number != (t ? r.doc.lines : 1) &&
                  (i += t ? 1 : -1);
                break;
              }
              var l = xi(o.text, i - o.from, t) + o.from,
                c = o.text.slice(
                  Math.min(i, l) - o.from,
                  Math.max(i, l) - o.from
                ),
                u = s(c);
              if (null != a && u != a) break;
              (" " == c && i == n) || (a = u), (i = l);
            }
            return Zx(e, i, t);
          });
        },
        rS = function (e) {
          return iS(e, !1);
        },
        oS = function (e) {
          return iS(e, !0);
        },
        sS = function (e) {
          return Xx(e, function (t) {
            var n = e.lineBlockAt(t).to;
            return Zx(e, t < n ? n : Math.min(e.state.doc.length, t + 1), !0);
          });
        },
        aS = function (e) {
          return Xx(e, function (t) {
            var n = e.lineBlockAt(t).from;
            return Zx(e, t > n ? n : Math.max(0, t - 1), !1);
          });
        },
        lS = function (e) {
          var t = e.state,
            n = e.dispatch;
          if (t.readOnly) return !1;
          for (var i = [], r = 0, o = "", s = t.doc.iter(); ; ) {
            if ((s.next(), s.lineBreak || s.done)) {
              var a = o.search(/\s+$/);
              if (
                (a > -1 && i.push({ from: r - (o.length - a), to: r }), s.done)
              )
                break;
              o = "";
            } else o = s.value;
            r += s.value.length;
          }
          return (
            !!i.length && (n(t.update({ changes: i, userEvent: "delete" })), !0)
          );
        },
        cS = function (e) {
          var t = e.state,
            n = e.dispatch;
          if (t.readOnly) return !1;
          var i = t.changeByRange(function (e) {
            return {
              changes: { from: e.from, to: e.to, insert: Fi.of(["", ""]) },
              range: Zi.cursor(e.from),
            };
          });
          return n(t.update(i, { scrollIntoView: !0, userEvent: "input" })), !0;
        },
        uS = function (e) {
          var t = e.state,
            n = e.dispatch;
          if (t.readOnly) return !1;
          var i = t.changeByRange(function (e) {
            if (!e.empty || 0 == e.from || e.from == t.doc.length)
              return { range: e };
            var n = e.from,
              i = t.doc.lineAt(n),
              r = n == i.from ? n - 1 : xi(i.text, n - i.from, !1) + i.from,
              o = n == i.to ? n + 1 : xi(i.text, n - i.from, !0) + i.from;
            return {
              changes: {
                from: r,
                to: o,
                insert: t.doc.slice(n, o).append(t.doc.slice(r, n)),
              },
              range: Zi.cursor(o),
            };
          });
          return (
            !i.changes.empty &&
            (n(
              t.update(i, { scrollIntoView: !0, userEvent: "move.character" })
            ),
            !0)
          );
        };
      function hS(e) {
        for (
          var t = [], n = -1, i = 0, r = e.selection.ranges;
          i < r.length;
          i++
        ) {
          var o = r[i],
            s = e.doc.lineAt(o.from),
            a = e.doc.lineAt(o.to);
          if (
            (o.empty || o.to != a.from || (a = e.doc.lineAt(o.to - 1)),
            n >= s.number)
          ) {
            var l = t[t.length - 1];
            (l.to = a.to), l.ranges.push(o);
          } else t.push({ from: s.from, to: a.to, ranges: [o] });
          n = a.number + 1;
        }
        return t;
      }
      function pS(e, t, n) {
        if (e.readOnly) return !1;
        for (var i = [], r = [], o = 0, s = hS(e); o < s.length; o++) {
          var a = s[o];
          if (n ? a.to != e.doc.length : 0 != a.from) {
            var l = e.doc.lineAt(n ? a.to + 1 : a.from - 1),
              c = l.length + 1;
            if (n) {
              i.push(
                { from: a.to, to: l.to },
                { from: a.from, insert: l.text + e.lineBreak }
              );
              for (var u = 0, h = a.ranges; u < h.length; u++) {
                var p = h[u];
                r.push(
                  Zi.range(
                    Math.min(e.doc.length, p.anchor + c),
                    Math.min(e.doc.length, p.head + c)
                  )
                );
              }
            } else {
              i.push(
                { from: l.from, to: a.from },
                { from: a.to, insert: e.lineBreak + l.text }
              );
              for (var d = 0, f = a.ranges; d < f.length; d++) {
                p = f[d];
                r.push(Zi.range(p.anchor - c, p.head - c));
              }
            }
          }
        }
        return (
          !!i.length &&
          (t(
            e.update({
              changes: i,
              scrollIntoView: !0,
              selection: Zi.create(r, e.selection.mainIndex),
              userEvent: "move.line",
            })
          ),
          !0)
        );
      }
      var dS = function (e) {
          return pS(e.state, e.dispatch, !1);
        },
        fS = function (e) {
          return pS(e.state, e.dispatch, !0);
        };
      function gS(e, t, n) {
        if (e.readOnly) return !1;
        for (var i = [], r = 0, o = hS(e); r < o.length; r++) {
          var s = o[r];
          n
            ? i.push({
                from: s.from,
                insert: e.doc.slice(s.from, s.to) + e.lineBreak,
              })
            : i.push({
                from: s.to,
                insert: e.lineBreak + e.doc.slice(s.from, s.to),
              });
        }
        return (
          t(
            e.update({
              changes: i,
              scrollIntoView: !0,
              userEvent: "input.copyline",
            })
          ),
          !0
        );
      }
      var mS = function (e) {
          return gS(e.state, e.dispatch, !1);
        },
        vS = function (e) {
          return gS(e.state, e.dispatch, !0);
        },
        yS = function (e) {
          if (e.state.readOnly) return !1;
          var t = e.state,
            n = t.changes(
              hS(t).map(function (e) {
                var n = e.from,
                  i = e.to;
                return (
                  n > 0 ? n-- : i < t.doc.length && i++, { from: n, to: i }
                );
              })
            ),
            i = BC(t.selection, function (t) {
              return e.moveVertically(t, !0);
            }).map(n);
          return (
            e.dispatch({
              changes: n,
              selection: i,
              scrollIntoView: !0,
              userEvent: "delete.line",
            }),
            !0
          );
        },
        bS = function (e) {
          var t = e.state;
          return (
            (0, e.dispatch)(
              t.update(t.replaceSelection(t.lineBreak), {
                scrollIntoView: !0,
                userEvent: "input",
              })
            ),
            !0
          );
        };
      var wS = CS(!1),
        kS = CS(!0);
      function CS(e) {
        return function (t) {
          var n = t.state,
            i = t.dispatch;
          if (n.readOnly) return !1;
          var r = n.changeByRange(function (t) {
            var i = t.from,
              r = t.to,
              o = n.doc.lineAt(i),
              s =
                !e &&
                i == r &&
                (function (e, t) {
                  if (/\(\)|\[\]|\{\}/.test(e.sliceDoc(t - 1, t + 1)))
                    return { from: t, to: t };
                  var n,
                    i = Zc(e).resolveInner(t),
                    r = i.childBefore(t),
                    o = i.childAfter(t);
                  return r &&
                    o &&
                    r.to <= t &&
                    o.from >= t &&
                    (n = r.type.prop(Nn.closedBy)) &&
                    n.indexOf(o.name) > -1 &&
                    e.doc.lineAt(r.to).from == e.doc.lineAt(o.from).from
                    ? { from: r.to, to: o.from }
                    : null;
                })(n, i);
            e && (i = r = (r <= o.to ? o : n.doc.lineAt(r)).to);
            var a = new yu(n, { simulateBreak: i, simulateDoubleBreak: !!s }),
              l = vu(a, i);
            for (
              null == l && (l = /^\s*/.exec(n.doc.lineAt(i).text)[0].length);
              r < o.to && /\s/.test(o.text[r - o.from]);

            )
              r++;
            s
              ? ((i = s.from), (r = s.to))
              : i > o.from &&
                i < o.from + 100 &&
                !/\S/.test(o.text.slice(0, i)) &&
                (i = o.from);
            var c = ["", mu(n, l)];
            return (
              s && c.push(mu(n, a.lineIndent(o.from, -1))),
              {
                changes: { from: i, to: r, insert: Fi.of(c) },
                range: Zi.cursor(i + 1 + c[1].length),
              }
            );
          });
          return i(n.update(r, { scrollIntoView: !0, userEvent: "input" })), !0;
        };
      }
      function xS(e, t) {
        var n = -1;
        return e.changeByRange(function (i) {
          for (var r = [], o = i.from; o <= i.to; ) {
            var s = e.doc.lineAt(o);
            s.number > n &&
              (i.empty || i.to > s.from) &&
              (t(s, r, i), (n = s.number)),
              (o = s.to + 1);
          }
          var a = e.changes(r);
          return {
            changes: r,
            range: Zi.range(a.mapPos(i.anchor, 1), a.mapPos(i.head, 1)),
          };
        });
      }
      var SS = function (e) {
          var t = e.state,
            n = e.dispatch;
          if (t.readOnly) return !1;
          var i = Object.create(null),
            r = new yu(t, {
              overrideIndentation: function (e) {
                var t = i[e];
                return null == t ? -1 : t;
              },
            }),
            o = xS(t, function (e, n, o) {
              var s = vu(r, e.from);
              if (null != s) {
                /\S/.test(e.text) || (s = 0);
                var a = /^\s*/.exec(e.text)[0],
                  l = mu(t, s);
                (a != l || o.from < e.from + a.length) &&
                  ((i[e.from] = s),
                  n.push({ from: e.from, to: e.from + a.length, insert: l }));
              }
            });
          return o.changes.empty || n(t.update(o, { userEvent: "indent" })), !0;
        },
        ES = function (e) {
          var t = e.state,
            n = e.dispatch;
          return (
            !t.readOnly &&
            (n(
              t.update(
                xS(t, function (e, n) {
                  n.push({ from: e.from, insert: t.facet(fu) });
                }),
                { userEvent: "input.indent" }
              )
            ),
            !0)
          );
        },
        MS = function (e) {
          var t = e.state,
            n = e.dispatch;
          return (
            !t.readOnly &&
            (n(
              t.update(
                xS(t, function (e, n) {
                  var i = /^\s*/.exec(e.text)[0];
                  if (i) {
                    for (
                      var r = Pi(i, t.tabSize),
                        o = 0,
                        s = mu(t, Math.max(0, r - gu(t)));
                      o < i.length &&
                      o < s.length &&
                      i.charCodeAt(o) == s.charCodeAt(o);

                    )
                      o++;
                    n.push({
                      from: e.from + o,
                      to: e.from + i.length,
                      insert: s.slice(o),
                    });
                  }
                }),
                { userEvent: "delete.dedent" }
              )
            ),
            !0)
          );
        },
        LS = function (e) {
          var t = e.state,
            n = e.dispatch;
          return t.selection.ranges.some(function (e) {
            return !e.empty;
          })
            ? ES({ state: t, dispatch: n })
            : (n(
                t.update(t.replaceSelection("\t"), {
                  scrollIntoView: !0,
                  userEvent: "input",
                })
              ),
              !0);
        },
        AS = [
          { key: "Ctrl-b", run: qC, shift: wx, preventDefault: !0 },
          { key: "Ctrl-f", run: jC, shift: kx },
          { key: "Ctrl-p", run: ox, shift: Nx },
          { key: "Ctrl-n", run: sx, shift: Bx },
          { key: "Ctrl-a", run: dx, shift: jx },
          { key: "Ctrl-e", run: fx, shift: Ux },
          { key: "Ctrl-d", run: nS },
          { key: "Ctrl-h", run: tS },
          { key: "Ctrl-k", run: sS },
          { key: "Ctrl-Alt-h", run: rS },
          { key: "Ctrl-o", run: cS },
          { key: "Ctrl-t", run: uS },
          { key: "Ctrl-v", run: cx },
        ],
        DS = [
          { key: "ArrowLeft", run: qC, shift: wx, preventDefault: !0 },
          { key: "Mod-ArrowLeft", mac: "Alt-ArrowLeft", run: GC, shift: Ex },
          { mac: "Cmd-ArrowLeft", run: px, shift: qx },
          { key: "ArrowRight", run: jC, shift: kx, preventDefault: !0 },
          { key: "Mod-ArrowRight", mac: "Alt-ArrowRight", run: KC, shift: Mx },
          { mac: "Cmd-ArrowRight", run: hx, shift: Vx },
          { key: "ArrowUp", run: ox, shift: Nx, preventDefault: !0 },
          { mac: "Cmd-ArrowUp", run: Wx, shift: Gx },
          { mac: "Ctrl-ArrowUp", run: lx, shift: zx },
          { key: "ArrowDown", run: sx, shift: Bx, preventDefault: !0 },
          { mac: "Cmd-ArrowDown", run: _x, shift: Kx },
          { mac: "Ctrl-ArrowDown", run: cx, shift: Hx },
          { key: "PageUp", run: lx, shift: zx },
          { key: "PageDown", run: cx, shift: Hx },
          { key: "Home", run: px, shift: qx },
          { key: "Mod-Home", run: Wx, shift: Gx },
          { key: "End", run: hx, shift: Vx },
          { key: "Mod-End", run: _x, shift: Kx },
          { key: "Enter", run: wS },
          { key: "Mod-a", run: $x },
          { key: "Backspace", run: tS, shift: tS },
          { key: "Delete", run: nS },
          { key: "Mod-Backspace", mac: "Alt-Backspace", run: rS },
          { key: "Mod-Delete", mac: "Alt-Delete", run: oS },
          { mac: "Mod-Backspace", run: aS },
          { mac: "Mod-Delete", run: sS },
        ].concat(
          AS.map(function (e) {
            return { mac: e.key, run: e.run, shift: e.shift };
          })
        ),
        TS = [
          { key: "Alt-ArrowLeft", mac: "Ctrl-ArrowLeft", run: nx, shift: Ox },
          { key: "Alt-ArrowRight", mac: "Ctrl-ArrowRight", run: ix, shift: Fx },
          { key: "Alt-ArrowUp", run: dS },
          { key: "Shift-Alt-ArrowUp", run: mS },
          { key: "Alt-ArrowDown", run: fS },
          { key: "Shift-Alt-ArrowDown", run: vS },
          { key: "Escape", run: Qx },
          { key: "Mod-Enter", run: kS },
          { key: "Alt-l", mac: "Ctrl-l", run: Yx },
          { key: "Mod-i", run: Jx, preventDefault: !0 },
          { key: "Mod-[", run: MS },
          { key: "Mod-]", run: ES },
          { key: "Mod-Alt-\\", run: SS },
          { key: "Shift-Mod-k", run: yS },
          { key: "Shift-Mod-\\", run: mx },
        ].concat(DS),
        PS = { key: "Tab", run: ES, shift: MS },
        OS = function (e) {
          var t = qS(e.state);
          return t.line ? IS(e) : !!t.block && RS(e);
        };
      function FS(e, t) {
        return function (n) {
          var i = n.state,
            r = n.dispatch,
            o = e(t, i.selection.ranges, i);
          return !!o && (r(i.update(o)), !0);
        };
      }
      var IS = FS(US, 0),
        NS = FS(US, 1),
        BS = FS(US, 2),
        RS = FS(jS, 0),
        zS = FS(jS, 1),
        HS = FS(jS, 2),
        VS = [
          { key: "Mod-/", run: OS },
          { key: "Alt-A", run: RS },
        ];
      function qS(e, t) {
        void 0 === t && (t = e.selection.main.head);
        var n = e.languageDataAt("commentTokens", t);
        return n.length ? n[0] : {};
      }
      function jS(e, t, n) {
        var i = t.map(function (e) {
          return qS(n, e.from).block;
        });
        if (
          !i.every(function (e) {
            return e;
          })
        )
          return null;
        var r = t.map(function (e, t) {
          return (function (e, t, n, i) {
            var r,
              o,
              s = t.open,
              a = t.close,
              l = e.sliceDoc(n - 50, n),
              c = e.sliceDoc(i, i + 50),
              u = /\s*$/.exec(l)[0].length,
              h = /^\s*/.exec(c)[0].length,
              p = l.length - u;
            if (l.slice(p - s.length, p) == s && c.slice(h, h + a.length) == a)
              return {
                open: { pos: n - u, margin: u && 1 },
                close: { pos: i + h, margin: h && 1 },
              };
            i - n <= 100
              ? (r = o = e.sliceDoc(n, i))
              : ((r = e.sliceDoc(n, n + 50)), (o = e.sliceDoc(i - 50, i)));
            var d = /^\s*/.exec(r)[0].length,
              f = /\s*$/.exec(o)[0].length,
              g = o.length - f - a.length;
            return r.slice(d, d + s.length) == s &&
              o.slice(g, g + a.length) == a
              ? {
                  open: {
                    pos: n + d + s.length,
                    margin: /\s/.test(r.charAt(d + s.length)) ? 1 : 0,
                  },
                  close: {
                    pos: i - f - a.length,
                    margin: /\s/.test(o.charAt(g - 1)) ? 1 : 0,
                  },
                }
              : null;
          })(n, i[t], e.from, e.to);
        });
        if (
          2 != e &&
          !r.every(function (e) {
            return e;
          })
        ) {
          var o = 0;
          return n.changeByRange(function (e) {
            var t = i[o++],
              n = t.open,
              s = t.close;
            if (r[o]) return { range: e };
            var a = n.length + 1;
            return {
              changes: [
                { from: e.from, insert: n + " " },
                { from: e.to, insert: " " + s },
              ],
              range: Zi.range(e.anchor + a, e.head + a),
            };
          });
        }
        if (
          1 != e &&
          r.some(function (e) {
            return e;
          })
        ) {
          for (var s = [], a = 0, l = void 0; a < r.length; a++)
            if ((l = r[a])) {
              var c = i[a],
                u = l.open,
                h = l.close;
              s.push(
                { from: u.pos - c.open.length, to: u.pos + u.margin },
                { from: h.pos - h.margin, to: h.pos + c.close.length }
              );
            }
          return { changes: s };
        }
        return null;
      }
      function US(e, t, n) {
        for (var i = [], r = -1, o = 0, s = t; o < s.length; o++) {
          for (
            var a = s[o], l = a.from, c = a.to, u = i.length, h = 1e9, p = l;
            p <= c;

          ) {
            if ((w = n.doc.lineAt(p)).from > r && (l == c || c > w.from)) {
              if (((r = w.from), !(k = qS(n, p).line))) continue;
              var d = (C = /^\s*/.exec(w.text)[0].length) == w.length,
                f = w.text.slice(C, C + k.length) == k ? C : -1;
              C < w.text.length && C < h && (h = C),
                i.push({
                  line: w,
                  comment: f,
                  token: k,
                  indent: C,
                  empty: d,
                  single: !1,
                });
            }
            p = w.to + 1;
          }
          if (h < 1e9)
            for (var g = u; g < i.length; g++)
              i[g].indent < i[g].line.text.length && (i[g].indent = h);
          i.length == u + 1 && (i[u].single = !0);
        }
        if (
          2 != e &&
          i.some(function (e) {
            return e.comment < 0 && (!e.empty || e.single);
          })
        ) {
          for (var m = [], v = 0, y = i; v < y.length; v++) {
            var b = y[v],
              w = b.line,
              k = b.token,
              C = b.indent;
            d = b.empty;
            (!b.single && d) || m.push({ from: w.from + C, insert: k + " " });
          }
          var x = n.changes(m);
          return { changes: x, selection: n.selection.map(x, 1) };
        }
        if (
          1 != e &&
          i.some(function (e) {
            return e.comment >= 0;
          })
        ) {
          m = [];
          for (var S = 0, E = i; S < E.length; S++) {
            var M = E[S];
            (w = M.line), (f = M.comment), (k = M.token);
            if (f >= 0) {
              c = (l = w.from + f) + k.length;
              " " == w.text[c - w.from] && c++, m.push({ from: l, to: c });
            }
          }
          return { changes: m };
        }
        return null;
      }
      var WS = (function (e) {
        function t() {
          return (null !== e && e.apply(this, arguments)) || this;
        }
        return (
          M(t, e),
          (t.prototype.compare = function (e) {
            return (
              this == e || (this.constructor == e.constructor && this.eq(e))
            );
          }),
          (t.prototype.eq = function (e) {
            return !1;
          }),
          (t.prototype.destroy = function (e) {}),
          t
        );
      })(Xr);
      (WS.prototype.elementClass = ""),
        (WS.prototype.toDOM = void 0),
        (WS.prototype.mapMode = Ui.TrackBefore),
        (WS.prototype.startSide = WS.prototype.endSide = -1),
        (WS.prototype.point = !0);
      var _S = ir.define(),
        GS = {
          class: "",
          renderEmptyElements: !1,
          elementStyle: "",
          markers: function () {
            return no.empty;
          },
          lineMarker: function () {
            return null;
          },
          lineMarkerChange: null,
          initialSpacer: null,
          updateSpacer: null,
          domEventHandlers: {},
        },
        KS = ir.define();
      function $S(e) {
        return [QS(), KS.of(Object.assign(Object.assign({}, GS), e))];
      }
      var YS = Zl.baseTheme({
          ".cm-gutters": {
            display: "flex",
            height: "100%",
            boxSizing: "border-box",
            left: 0,
            zIndex: 200,
          },
          "&light .cm-gutters": {
            backgroundColor: "#f5f5f5",
            color: "#999",
            borderRight: "1px solid #ddd",
          },
          "&dark .cm-gutters": { backgroundColor: "#333338", color: "#ccc" },
          ".cm-gutter": {
            display: "flex !important",
            flexDirection: "column",
            flexShrink: 0,
            boxSizing: "border-box",
            minHeight: "100%",
            overflow: "hidden",
          },
          ".cm-gutterElement": { boxSizing: "border-box" },
          ".cm-lineNumbers .cm-gutterElement": {
            padding: "0 3px 0 5px",
            minWidth: "20px",
            textAlign: "right",
            whiteSpace: "nowrap",
          },
          "&light .cm-activeLineGutter": { backgroundColor: "#e2f2ff" },
          "&dark .cm-activeLineGutter": { backgroundColor: "#222227" },
        }),
        JS = ir.define({
          combine: function (e) {
            return e.some(function (e) {
              return e;
            });
          },
        });
      function QS(e) {
        var t = [XS, YS];
        return e && !1 === e.fixed && t.push(JS.of(!0)), t;
      }
      var XS = Qs.fromClass(
        (function () {
          function e(e) {
            (this.view = e),
              (this.prevViewport = e.viewport),
              (this.dom = document.createElement("div")),
              (this.dom.className = "cm-gutters"),
              this.dom.setAttribute("aria-hidden", "true"),
              (this.dom.style.minHeight = this.view.contentHeight + "px"),
              (this.gutters = e.state.facet(KS).map(function (t) {
                return new iE(e, t);
              }));
            for (var t = 0, n = this.gutters; t < n.length; t++) {
              var i = n[t];
              this.dom.appendChild(i.dom);
            }
            (this.fixed = !e.state.facet(JS)),
              this.fixed && (this.dom.style.position = "sticky"),
              this.syncGutters(!1),
              e.scrollDOM.insertBefore(this.dom, e.contentDOM);
          }
          return (
            (e.prototype.update = function (e) {
              if (this.updateGutters(e)) {
                var t = this.prevViewport,
                  n = e.view.viewport,
                  i = Math.min(t.to, n.to) - Math.max(t.from, n.from);
                this.syncGutters(i < 0.8 * (n.to - n.from));
              }
              e.geometryChanged &&
                (this.dom.style.minHeight = this.view.contentHeight + "px"),
                this.view.state.facet(JS) != !this.fixed &&
                  ((this.fixed = !this.fixed),
                  (this.dom.style.position = this.fixed ? "sticky" : "")),
                (this.prevViewport = e.view.viewport);
            }),
            (e.prototype.syncGutters = function (e) {
              var t = this,
                n = this.dom.nextSibling;
              e && this.dom.remove();
              for (
                var i = no.iter(
                    this.view.state.facet(_S),
                    this.view.viewport.from
                  ),
                  r = [],
                  o = this.gutters.map(function (e) {
                    return new nE(
                      e,
                      t.view.viewport,
                      -t.view.documentPadding.top
                    );
                  }),
                  s = -1,
                  a = 0,
                  l = this.view.viewportLineBlocks;
                a < l.length;
                a++
              ) {
                var c = l[a],
                  u = this.view.state.doc.lineAt(c.from).number,
                  h = void 0;
                if (Array.isArray(c.type))
                  for (var p = 0, d = c.type; p < d.length; p++) {
                    var f = d[p];
                    if (f.type == Cs.Text) {
                      h = f;
                      break;
                    }
                  }
                else h = c.type == Cs.Text || s < u ? c : void 0;
                if (((s = u), h)) {
                  r.length && (r = []), eE(i, r, c.from);
                  for (var g = 0, m = o; g < m.length; g++) {
                    m[g].line(this.view, h, r);
                  }
                }
              }
              for (var v = 0, y = o; v < y.length; v++) {
                y[v].finish();
              }
              e && this.view.scrollDOM.insertBefore(this.dom, n);
            }),
            (e.prototype.updateGutters = function (e) {
              var t = e.startState.facet(KS),
                n = e.state.facet(KS),
                i =
                  e.docChanged ||
                  e.heightChanged ||
                  e.viewportChanged ||
                  !no.eq(
                    e.startState.facet(_S),
                    e.state.facet(_S),
                    e.view.viewport.from,
                    e.view.viewport.to
                  );
              if (t == n)
                for (var r = 0, o = this.gutters; r < o.length; r++) {
                  o[r].update(e) && (i = !0);
                }
              else {
                i = !0;
                for (var s = [], a = 0, l = n; a < l.length; a++) {
                  var c = l[a],
                    u = t.indexOf(c);
                  u < 0
                    ? s.push(new iE(this.view, c))
                    : (this.gutters[u].update(e), s.push(this.gutters[u]));
                }
                for (var h = 0, p = this.gutters; h < p.length; h++) {
                  (g = p[h]).dom.remove(), s.indexOf(g) < 0 && g.destroy();
                }
                for (var d = 0, f = s; d < f.length; d++) {
                  var g = f[d];
                  this.dom.appendChild(g.dom);
                }
                this.gutters = s;
              }
              return i;
            }),
            (e.prototype.destroy = function () {
              for (var e = 0, t = this.gutters; e < t.length; e++) {
                t[e].destroy();
              }
              this.dom.remove();
            }),
            e
          );
        })(),
        {
          provide: $s.scrollMargins.from(function (e) {
            return 0 != e.gutters.length && e.fixed
              ? e.view.textDirection == sa.LTR
                ? { left: e.dom.offsetWidth }
                : { right: e.dom.offsetWidth }
              : null;
          }),
        }
      );
      function ZS(e) {
        return Array.isArray(e) ? e : [e];
      }
      function eE(e, t, n) {
        for (; e.value && e.from <= n; )
          e.from == n && t.push(e.value), e.next();
      }
      function tE(e) {
        if (
          e instanceof HTMLElement &&
          (e.classList.contains("cm-line") || "false" === e.contentEditable)
        )
          return e;
        if (e.nodeType === Node.TEXT_NODE && "​" !== e.textContent)
          return e.parentNode;
        if (e.firstChild) return tE(e.firstChild);
        if (e.nextSibling) return tE(e.nextSibling);
        for (var t = e.parentNode; t; ) {
          if (t instanceof Element && t.classList.contains("cm-line")) return t;
          if (t.nextSibling) return tE(t.nextSibling);
          t = t.parentNode;
        }
        return null;
      }
      var nE = (function () {
          function e(e, t, n) {
            (this.gutter = e),
              (this.height = n),
              (this.localMarkers = []),
              (this.i = 0),
              (this.cursor = no.iter(e.markers, t.from));
          }
          return (
            (e.prototype.line = function (e, t, n) {
              this.localMarkers.length && (this.localMarkers = []),
                eE(this.cursor, this.localMarkers, t.from);
              var i = n.length
                  ? this.localMarkers.concat(n)
                  : this.localMarkers,
                r = this.gutter.config.lineMarker(e, t, i);
              r && i.unshift(r);
              var o = this.gutter;
              if (0 != i.length || o.config.renderEmptyElements) {
                var s,
                  a = t.top - this.height;
                if (this.i == o.elements.length) {
                  var l = new rE(e, t.height, a, i);
                  o.elements.push(l), o.dom.appendChild(l.dom), (s = l.dom);
                } else {
                  var c = o.elements[this.i];
                  c.update(e, t.height, a, i), (s = c.dom);
                }
                e.requestMeasure({
                  read: function (e) {
                    var n = "",
                      i = "";
                    try {
                      for (
                        var r = e.domAtPos(t.from),
                          o = r.node.childNodes[r.offset],
                          s = o;
                        s.parentNode && s.parentNode !== e.contentDOM;

                      )
                        s = s.parentNode;
                      n = getComputedStyle(s).paddingTop;
                      var a = tE(o);
                      i = getComputedStyle(a).lineHeight;
                    } catch (e) {}
                    return { paddingTop: n, lineHeight: i };
                  },
                  write: function (e) {
                    var t = e.paddingTop,
                      n = e.lineHeight;
                    (s.style.paddingTop = t), (s.style.lineHeight = n);
                  },
                }),
                  (this.height = t.bottom),
                  this.i++;
              }
            }),
            (e.prototype.finish = function () {
              for (var e = this.gutter; e.elements.length > this.i; ) {
                var t = e.elements.pop();
                e.dom.removeChild(t.dom), t.destroy();
              }
            }),
            e
          );
        })(),
        iE = (function () {
          function e(e, t) {
            (this.view = e),
              (this.config = t),
              (this.elements = []),
              (this.spacer = null),
              (this.dom = document.createElement("div")),
              (this.dom.className =
                "cm-gutter" +
                (this.config.class ? " " + this.config.class : ""));
            var n = function (n) {
                i.dom.addEventListener(n, function (i) {
                  var r = e.lineBlockAtHeight(i.clientY - e.documentTop);
                  t.domEventHandlers[n](e, r, i) && i.preventDefault();
                });
              },
              i = this;
            for (var r in t.domEventHandlers) n(r);
            (this.markers = ZS(t.markers(e))),
              t.initialSpacer &&
                ((this.spacer = new rE(e, 0, 0, [t.initialSpacer(e)])),
                this.dom.appendChild(this.spacer.dom),
                (this.spacer.dom.style.cssText +=
                  "visibility: hidden; pointer-events: none"));
          }
          return (
            (e.prototype.update = function (e) {
              var t = this.markers;
              if (
                ((this.markers = ZS(this.config.markers(e.view))),
                this.spacer && this.config.updateSpacer)
              ) {
                var n = this.config.updateSpacer(this.spacer.markers[0], e);
                n != this.spacer.markers[0] &&
                  this.spacer.update(e.view, 0, 0, [n]);
              }
              var i = e.view.viewport;
              return (
                !no.eq(this.markers, t, i.from, i.to) ||
                (!!this.config.lineMarkerChange &&
                  this.config.lineMarkerChange(e))
              );
            }),
            (e.prototype.destroy = function () {
              for (var e = 0, t = this.elements; e < t.length; e++) {
                t[e].destroy();
              }
            }),
            e
          );
        })(),
        rE = (function () {
          function e(e, t, n, i) {
            (this.height = -1),
              (this.above = 0),
              (this.markers = []),
              (this.dom = document.createElement("div")),
              this.update(e, t, n, i);
          }
          return (
            (e.prototype.update = function (e, t, n, i) {
              this.height != t &&
                (this.dom.style.height = (this.height = t) + "px"),
                this.above != n &&
                  (this.dom.style.marginTop = (this.above = n) ? n + "px" : ""),
                (function (e, t) {
                  if (e.length != t.length) return !1;
                  for (var n = 0; n < e.length; n++)
                    if (!e[n].compare(t[n])) return !1;
                  return !0;
                })(this.markers, i) || this.setMarkers(e, i);
            }),
            (e.prototype.setMarkers = function (e, t) {
              for (
                var n = "cm-gutterElement",
                  i = this.dom.firstChild,
                  r = 0,
                  o = 0;
                ;

              ) {
                var s = o,
                  a = r < t.length ? t[r++] : null,
                  l = !1;
                if (a) {
                  var c = a.elementClass;
                  c && (n += " " + c);
                  for (var u = o; u < this.markers.length; u++)
                    if (this.markers[u].compare(a)) {
                      (s = u), (l = !0);
                      break;
                    }
                } else s = this.markers.length;
                for (; o < s; ) {
                  var h = this.markers[o++];
                  if (h.toDOM) {
                    h.destroy(i);
                    var p = i.nextSibling;
                    i.remove(), (i = p);
                  }
                }
                if (!a) break;
                a.toDOM &&
                  (l
                    ? (i = i.nextSibling)
                    : this.dom.insertBefore(a.toDOM(e), i)),
                  l && o++;
              }
              (this.dom.className = n), (this.markers = t);
            }),
            (e.prototype.destroy = function () {
              this.setMarkers(null, []);
            }),
            e
          );
        })();
      var oE = ir.define(),
        sE = ir.define({
          combine: function (e) {
            return _r(
              e,
              { formatNumber: String, domEventHandlers: {} },
              {
                domEventHandlers: function (e, t) {
                  var n = Object.assign({}, e),
                    i = function (e) {
                      var i = n[e],
                        r = t[e];
                      n[e] = i
                        ? function (e, t, n) {
                            return i(e, t, n) || r(e, t, n);
                          }
                        : r;
                    };
                  for (var r in t) i(r);
                  return n;
                },
              }
            );
          },
        }),
        aE = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (n.number = t), n;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return this.number == e.number;
            }),
            (t.prototype.toDOM = function () {
              return document.createTextNode(this.number);
            }),
            t
          );
        })(WS);
      function lE(e, t) {
        return e.state.facet(sE).formatNumber(t, e.state);
      }
      var cE = KS.compute([sE], function (e) {
        return {
          class: "cm-lineNumbers",
          renderEmptyElements: !1,
          markers: function (e) {
            return e.state.facet(oE);
          },
          lineMarker: function (e, t, n) {
            return n.some(function (e) {
              return e.toDOM;
            })
              ? null
              : new aE(lE(e, e.state.doc.lineAt(t.from).number));
          },
          lineMarkerChange: function (e) {
            return e.startState.facet(sE) != e.state.facet(sE);
          },
          initialSpacer: function (e) {
            return new aE(lE(e, hE(e.state.doc.lines)));
          },
          updateSpacer: function (e, t) {
            var n = lE(t.view, hE(t.view.state.doc.lines));
            return n == e.number ? e : new aE(n);
          },
          domEventHandlers: e.facet(sE).domEventHandlers,
        };
      });
      function uE(e) {
        return void 0 === e && (e = {}), [sE.of(e), QS(), cE];
      }
      function hE(e) {
        for (var t = 9; t < e; ) t = 10 * t + 9;
        return t;
      }
      var pE = new ((function (e) {
          function t() {
            var t = e.apply(this, arguments) || this;
            return (t.elementClass = "cm-activeLineGutter"), t;
          }
          return M(t, e), t;
        })(WS))(),
        dE = _S.compute(["selection"], function (e) {
          for (
            var t = [], n = -1, i = 0, r = e.selection.ranges;
            i < r.length;
            i++
          ) {
            var o = r[i];
            if (o.empty) {
              var s = e.doc.lineAt(o.head).from;
              s > n && ((n = s), t.push(pE.range(s)));
            }
          }
          return no.of(t);
        });
      function fE() {
        return dE;
      }
      function gE(e, t) {
        var n = t.mapPos(e.from, 1),
          i = t.mapPos(e.to, -1);
        return n >= i ? void 0 : { from: n, to: i };
      }
      var mE = Or.define({ map: gE }),
        vE = Or.define({ map: gE });
      function yE(e) {
        for (
          var t = [],
            n = function (n) {
              if (
                t.some(function (e) {
                  return e.from <= n && e.to >= n;
                })
              )
                return "continue";
              t.push(e.lineBlockAt(n));
            },
            i = 0,
            r = e.state.selection.ranges;
          i < r.length;
          i++
        ) {
          n(r[i].head);
        }
        return t;
      }
      var bE = lr.define({
        create: function () {
          return xs.none;
        },
        update: function (e, t) {
          e = e.map(t.changes);
          for (
            var n = function (t) {
                t.is(mE) &&
                !(function (e, t, n) {
                  var i = !1;
                  return (
                    e.between(t, t, function (e, r) {
                      e == t && r == n && (i = !0);
                    }),
                    i
                  );
                })(e, t.value.from, t.value.to)
                  ? (e = e.update({
                      add: [OE.range(t.value.from, t.value.to)],
                    }))
                  : t.is(vE) &&
                    (e = e.update({
                      filter: function (e, n) {
                        return t.value.from != e || t.value.to != n;
                      },
                      filterFrom: t.value.from,
                      filterTo: t.value.to,
                    }));
              },
              i = 0,
              r = t.effects;
            i < r.length;
            i++
          ) {
            n(r[i]);
          }
          if (t.selection) {
            var o = !1,
              s = t.selection.main.head;
            e.between(s, s, function (e, t) {
              e < s && t > s && (o = !0);
            }),
              o &&
                (e = e.update({
                  filterFrom: s,
                  filterTo: s,
                  filter: function (e, t) {
                    return t <= s || e >= s;
                  },
                }));
          }
          return e;
        },
        provide: function (e) {
          return Zl.decorations.from(e);
        },
      });
      function wE(e) {
        return e.field(bE, !1) || no.empty;
      }
      function kE(e, t, n) {
        var i,
          r = null;
        return (
          null === (i = e.field(bE, !1)) ||
            void 0 === i ||
            i.between(t, n, function (e, t) {
              (!r || r.from > e) && (r = { from: e, to: t });
            }),
          r
        );
      }
      function CE(e, t) {
        return e.field(bE, !1) ? t : t.concat(Or.appendConfig.of(PE()));
      }
      var xE = function (e) {
          for (var t = 0, n = yE(e); t < n.length; t++) {
            var i = n[t],
              r = Fu(e.state, i.from, i.to);
            if (r)
              return (
                e.dispatch({ effects: CE(e.state, [mE.of(r), EE(e, r)]) }), !0
              );
          }
          return !1;
        },
        SE = function (e) {
          if (!e.state.field(bE, !1)) return !1;
          for (var t = [], n = 0, i = yE(e); n < i.length; n++) {
            var r = i[n],
              o = kE(e.state, r.from, r.to);
            o && t.push(vE.of(o), EE(e, o, !1));
          }
          return t.length && e.dispatch({ effects: t }), t.length > 0;
        };
      function EE(e, t, n) {
        void 0 === n && (n = !0);
        var i = e.state.doc.lineAt(t.from).number,
          r = e.state.doc.lineAt(t.to).number;
        return Zl.announce.of(
          e.state.phrase(n ? "Folded lines" : "Unfolded lines") +
            " " +
            i +
            " " +
            e.state.phrase("to") +
            " " +
            r +
            "."
        );
      }
      var ME = function (e) {
          for (var t = e.state, n = [], i = 0; i < t.doc.length; ) {
            var r = e.lineBlockAt(i),
              o = Fu(t, r.from, r.to);
            o && n.push(mE.of(o)), (i = (o ? e.lineBlockAt(o.to) : r).to + 1);
          }
          return (
            n.length && e.dispatch({ effects: CE(e.state, n) }), !!n.length
          );
        },
        LE = function (e) {
          var t = e.state.field(bE, !1);
          if (!t || !t.size) return !1;
          var n = [];
          return (
            t.between(0, e.state.doc.length, function (e, t) {
              n.push(vE.of({ from: e, to: t }));
            }),
            e.dispatch({ effects: n }),
            !0
          );
        },
        AE = [
          { key: "Ctrl-Shift-[", mac: "Cmd-Alt-[", run: xE },
          { key: "Ctrl-Shift-]", mac: "Cmd-Alt-]", run: SE },
          { key: "Ctrl-Alt-[", run: ME },
          { key: "Ctrl-Alt-]", run: LE },
        ],
        DE = { placeholderDOM: null, placeholderText: "…" },
        TE = ir.define({
          combine: function (e) {
            return _r(e, DE);
          },
        });
      function PE(e) {
        var t = [bE, BE];
        return e && t.push(TE.of(e)), t;
      }
      var OE = xs.replace({
          widget: new ((function (e) {
            function t() {
              return (null !== e && e.apply(this, arguments)) || this;
            }
            return (
              M(t, e),
              (t.prototype.toDOM = function (e) {
                var t = e.state,
                  n = t.facet(TE),
                  i = function (t) {
                    var n = e.lineBlockAt(e.posAtDOM(t.target)),
                      i = kE(e.state, n.from, n.to);
                    i && e.dispatch({ effects: vE.of(i) }), t.preventDefault();
                  };
                if (n.placeholderDOM) return n.placeholderDOM(e, i);
                var r = document.createElement("span");
                return (
                  (r.textContent = n.placeholderText),
                  r.setAttribute("aria-label", t.phrase("folded code")),
                  (r.title = t.phrase("unfold")),
                  (r.className = "cm-foldPlaceholder"),
                  (r.onclick = i),
                  r
                );
              }),
              t
            );
          })(ks))(),
        }),
        FE = {
          openText: "⌄",
          closedText: "›",
          markerDOM: null,
          domEventHandlers: {},
        },
        IE = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            return (i.config = t), (i.open = n), i;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return this.config == e.config && this.open == e.open;
            }),
            (t.prototype.toDOM = function (e) {
              if (this.config.markerDOM)
                return this.config.markerDOM(this.open);
              var t = document.createElement("span");
              return (
                (t.textContent = this.open
                  ? this.config.openText
                  : this.config.closedText),
                (t.title = e.state.phrase(
                  this.open ? "Fold line" : "Unfold line"
                )),
                t
              );
            }),
            t
          );
        })(WS);
      function NE(e) {
        void 0 === e && (e = {});
        var t = Object.assign(Object.assign({}, FE), e),
          n = new IE(t, !0),
          i = new IE(t, !1),
          r = Qs.fromClass(
            (function () {
              function e(e) {
                (this.from = e.viewport.from),
                  (this.markers = this.buildMarkers(e));
              }
              return (
                (e.prototype.update = function (e) {
                  (e.docChanged ||
                    e.viewportChanged ||
                    e.startState.facet(uu) != e.state.facet(uu) ||
                    e.startState.field(bE, !1) != e.state.field(bE, !1)) &&
                    (this.markers = this.buildMarkers(e.view));
                }),
                (e.prototype.buildMarkers = function (e) {
                  for (
                    var t = new io(), r = 0, o = e.viewportLineBlocks;
                    r < o.length;
                    r++
                  ) {
                    var s = o[r],
                      a = kE(e.state, s.from, s.to)
                        ? i
                        : Fu(e.state, s.from, s.to)
                        ? n
                        : null;
                    a && t.add(s.from, s.from, a);
                  }
                  return t.finish();
                }),
                e
              );
            })()
          ),
          o = t.domEventHandlers;
        return [
          r,
          $S({
            class: "cm-foldGutter",
            markers: function (e) {
              var t;
              return (
                (null === (t = e.plugin(r)) || void 0 === t
                  ? void 0
                  : t.markers) || no.empty
              );
            },
            initialSpacer: function () {
              return new IE(t, !1);
            },
            domEventHandlers: Object.assign(Object.assign({}, o), {
              click: function (e, t, n) {
                if (o.click && o.click(e, t, n)) return !0;
                var i = kE(e.state, t.from, t.to);
                if (i) return e.dispatch({ effects: vE.of(i) }), !0;
                var r = Fu(e.state, t.from, t.to);
                return !!r && (e.dispatch({ effects: mE.of(r) }), !0);
              },
            }),
          }),
          PE(),
        ];
      }
      var BE = Zl.baseTheme({
          ".cm-foldPlaceholder": {
            backgroundColor: "#eee",
            border: "1px solid #ddd",
            color: "#888",
            borderRadius: ".2em",
            margin: "0 1px",
            padding: "0 1px",
            cursor: "pointer",
          },
          ".cm-foldGutter span": { padding: "0 1px", cursor: "pointer" },
        }),
        RE = 0,
        zE = (function () {
          function e(e, t, n) {
            (this.set = e),
              (this.base = t),
              (this.modified = n),
              (this.id = RE++);
          }
          return (
            (e.define = function (t) {
              if (null == t ? void 0 : t.base)
                throw new Error("Can not derive from a modified tag");
              var n = new e([], null, []);
              if ((n.set.push(n), t))
                for (var i = 0, r = t.set; i < r.length; i++) {
                  var o = r[i];
                  n.set.push(o);
                }
              return n;
            }),
            (e.defineModifier = function () {
              var e = new VE();
              return function (t) {
                return t.modified.indexOf(e) > -1
                  ? t
                  : VE.get(
                      t.base || t,
                      t.modified.concat(e).sort(function (e, t) {
                        return e.id - t.id;
                      })
                    );
              };
            }),
            e
          );
        })(),
        HE = 0,
        VE = (function () {
          function e() {
            (this.instances = []), (this.id = HE++);
          }
          return (
            (e.get = function (t, n) {
              if (!n.length) return t;
              var i = n[0].instances.find(function (e) {
                return (
                  e.base == t &&
                  ((i = n),
                  (r = e.modified),
                  i.length == r.length &&
                    i.every(function (e, t) {
                      return e == r[t];
                    }))
                );
                var i, r;
              });
              if (i) return i;
              for (
                var r = [], o = new zE(r, t, n), s = 0, a = n;
                s < a.length;
                s++
              ) {
                a[s].instances.push(o);
              }
              for (var l = qE(n), c = 0, u = t.set; c < u.length; c++)
                for (var h = u[c], p = 0, d = l; p < d.length; p++) {
                  var f = d[p];
                  r.push(e.get(h, f));
                }
              return o;
            }),
            e
          );
        })();
      function qE(e) {
        for (var t = [e], n = 0; n < e.length; n++)
          for (
            var i = 0, r = qE(e.slice(0, n).concat(e.slice(n + 1)));
            i < r.length;
            i++
          ) {
            var o = r[i];
            t.push(o);
          }
        return t;
      }
      function jE(e) {
        var t = Object.create(null);
        for (var n in e) {
          var i = e[n];
          Array.isArray(i) || (i = [i]);
          for (var r = 0, o = n.split(" "); r < o.length; r++) {
            var s = o[r];
            if (s) {
              for (var a = [], l = 2, c = s, u = 0; ; ) {
                if ("..." == c && u > 0 && u + 3 == s.length) {
                  l = 1;
                  break;
                }
                var h = /^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);
                if (!h) throw new RangeError("Invalid path: " + s);
                if (
                  (a.push(
                    "*" == h[0]
                      ? null
                      : '"' == h[0][0]
                      ? JSON.parse(h[0])
                      : h[0]
                  ),
                  (u += h[0].length) == s.length)
                )
                  break;
                var p = s[u++];
                if (u == s.length && "!" == p) {
                  l = 0;
                  break;
                }
                if ("/" != p) throw new RangeError("Invalid path: " + s);
                c = s.slice(u);
              }
              var d = a.length - 1,
                f = a[d];
              if (!f) throw new RangeError("Invalid path: " + s);
              var g = new KE(i, l, d > 0 ? a.slice(0, d) : null);
              t[f] = g.sort(t[f]);
            }
          }
        }
        return UE.add(t);
      }
      var UE = new Nn(),
        WE = ir.define({
          combine: function (e) {
            return e.length ? $E.combinedMatch(e) : null;
          },
        }),
        _E = ir.define({
          combine: function (e) {
            return e.length ? e[0].match : null;
          },
        });
      function GE(e) {
        return e.facet(WE) || e.facet(_E);
      }
      var KE = (function () {
          function e(e, t, n, i) {
            (this.tags = e),
              (this.mode = t),
              (this.context = n),
              (this.next = i);
          }
          return (
            (e.prototype.sort = function (e) {
              return !e || e.depth < this.depth
                ? ((this.next = e), this)
                : ((e.next = this.sort(e.next)), e);
            }),
            Object.defineProperty(e.prototype, "depth", {
              get: function () {
                return this.context ? this.context.length : 0;
              },
              enumerable: !1,
              configurable: !0,
            }),
            e
          );
        })(),
        $E = (function () {
          function e(e, t) {
            var n;
            function i(e) {
              var t = Yr.newName();
              return ((n || (n = Object.create(null)))["." + t] = e), t;
            }
            (this.map = Object.create(null)),
              (this.all =
                "string" == typeof t.all ? t.all : t.all ? i(t.all) : null);
            for (var r = 0, o = e; r < o.length; r++) {
              var s = o[r],
                a =
                  (s.class || i(Object.assign({}, s, { tag: null }))) +
                  (this.all ? " " + this.all : ""),
                l = s.tag;
              if (Array.isArray(l))
                for (var c = 0, u = l; c < u.length; c++) {
                  var h = u[c];
                  this.map[h.id] = a;
                }
              else this.map[l.id] = a;
            }
            (this.module = n ? new Yr(n) : null),
              (this.scope = t.scope || null),
              (this.match = this.match.bind(this));
            var p = [QE];
            this.module && p.push(Zl.styleModule.of(this.module)),
              (this.extension = p.concat(WE.of(this))),
              (this.fallback = p.concat(_E.of(this)));
          }
          return (
            (e.prototype.match = function (e, t) {
              if (this.scope && t != this.scope) return null;
              for (var n = 0, i = e.set; n < i.length; n++) {
                var r = i[n],
                  o = this.map[r.id];
                if (void 0 !== o) return r != e && (this.map[e.id] = o), o;
              }
              return (this.map[e.id] = this.all);
            }),
            (e.combinedMatch = function (e) {
              if (1 == e.length) return e[0].match;
              var t = e.some(function (e) {
                return e.scope;
              })
                ? void 0
                : Object.create(null);
              return function (n, i) {
                var r = t && t[n.id];
                if (void 0 !== r) return r;
                for (var o = null, s = 0, a = e; s < a.length; s++) {
                  var l = a[s].match(n, i);
                  l && (o = o ? o + " " + l : l);
                }
                return t && (t[n.id] = o), o;
              };
            }),
            (e.define = function (t, n) {
              return new e(t, n || {});
            }),
            (e.get = function (e, t, n) {
              var i = GE(e);
              return i && i(t, n || zn.none);
            }),
            e
          );
        })();
      function YE(e, t, n, i, r) {
        void 0 === i && (i = 0),
          void 0 === r && (r = e.length),
          eM(e, i, r, t, n);
      }
      var JE = (function () {
          function e(e) {
            (this.markCache = Object.create(null)),
              (this.tree = Zc(e.state)),
              (this.decorations = this.buildDeco(e, GE(e.state)));
          }
          return (
            (e.prototype.update = function (e) {
              var t = Zc(e.state),
                n = GE(e.state),
                i = n != e.startState.facet(WE);
              t.length < e.view.viewport.to && !i && t.type == this.tree.type
                ? (this.decorations = this.decorations.map(e.changes))
                : (t != this.tree || e.viewportChanged || i) &&
                  ((this.tree = t),
                  (this.decorations = this.buildDeco(e.view, n)));
            }),
            (e.prototype.buildDeco = function (e, t) {
              var n = this;
              if (!t || !this.tree.length) return xs.none;
              for (
                var i = new io(), r = 0, o = e.visibleRanges;
                r < o.length;
                r++
              ) {
                var s = o[r],
                  a = s.from,
                  l = s.to;
                eM(this.tree, a, l, t, function (e, t, r) {
                  i.add(
                    e,
                    t,
                    n.markCache[r] || (n.markCache[r] = xs.mark({ class: r }))
                  );
                });
              }
              return i.finish();
            }),
            e
          );
        })(),
        QE = gr.high(
          Qs.fromClass(JE, {
            decorations: function (e) {
              return e.decorations;
            },
          })
        ),
        XE = [""],
        ZE = (function () {
          function e(e, t, n) {
            (this.at = e), (this.style = t), (this.span = n), (this.class = "");
          }
          return (
            (e.prototype.startSpan = function (e, t) {
              t != this.class &&
                (this.flush(e), e > this.at && (this.at = e), (this.class = t));
            }),
            (e.prototype.flush = function (e) {
              e > this.at && this.class && this.span(this.at, e, this.class);
            }),
            (e.prototype.highlightRange = function (e, t, n, i, r, o) {
              var s = e.type,
                a = e.from,
                l = e.to;
              if (!(a >= n || l <= t)) {
                (XE[r] = s.name), s.isTop && (o = s);
                for (var c = i, u = s.prop(UE), h = !1; u; ) {
                  if (!u.context || tM(u.context, XE, r)) {
                    for (var p = 0, d = u.tags; p < d.length; p++) {
                      var f = d[p],
                        g = this.style(f, o);
                      g &&
                        (c && (c += " "),
                        (c += g),
                        1 == u.mode
                          ? (i += (i ? " " : "") + g)
                          : 0 == u.mode && (h = !0));
                    }
                    break;
                  }
                  u = u.next;
                }
                if ((this.startSpan(e.from, c), !h)) {
                  var m = e.tree && e.tree.prop(Nn.mounted);
                  if (m && m.overlay) {
                    for (
                      var v = e.node.enter(m.overlay[0].from + a, 1),
                        y = e.firstChild(),
                        b = 0,
                        w = a;
                      ;
                      b++
                    ) {
                      var k = b < m.overlay.length ? m.overlay[b] : null,
                        C = k ? k.from + a : l,
                        x = Math.max(t, w),
                        S = Math.min(n, C);
                      if (x < S && y)
                        for (
                          ;
                          e.from < S &&
                          (this.highlightRange(e, x, S, i, r + 1, o),
                          this.startSpan(Math.min(n, e.to), c),
                          !(e.to >= C) && e.nextSibling());

                        );
                      if (!k || C > n) break;
                      (w = k.to + a) > t &&
                        (this.highlightRange(
                          v.cursor,
                          Math.max(t, k.from + a),
                          Math.min(n, w),
                          i,
                          r,
                          m.tree.type
                        ),
                        this.startSpan(w, c));
                    }
                    y && e.parent();
                  } else if (e.firstChild()) {
                    do {
                      if (!(e.to <= t)) {
                        if (e.from >= n) break;
                        this.highlightRange(e, t, n, i, r + 1, o),
                          this.startSpan(Math.min(n, e.to), c);
                      }
                    } while (e.nextSibling());
                    e.parent();
                  }
                }
              }
            }),
            e
          );
        })();
      function eM(e, t, n, i, r) {
        var o = new ZE(t, i, r);
        o.highlightRange(e.cursor(), t, n, "", 0, e.type), o.flush(n);
      }
      function tM(e, t, n) {
        if (e.length > n - 1) return !1;
        for (var i = n - 1, r = e.length - 1; r >= 0; r--, i--) {
          var o = e[r];
          if (o && o != t[i]) return !1;
        }
        return !0;
      }
      var nM = zE.define,
        iM = nM(),
        rM = nM(),
        oM = nM(rM),
        sM = nM(rM),
        aM = nM(),
        lM = nM(aM),
        cM = nM(aM),
        uM = nM(),
        hM = nM(uM),
        pM = nM(),
        dM = nM(),
        fM = nM(),
        gM = nM(fM),
        mM = nM(),
        vM = {
          comment: iM,
          lineComment: nM(iM),
          blockComment: nM(iM),
          docComment: nM(iM),
          name: rM,
          variableName: nM(rM),
          typeName: oM,
          tagName: nM(oM),
          propertyName: sM,
          attributeName: nM(sM),
          className: nM(rM),
          labelName: nM(rM),
          namespace: nM(rM),
          macroName: nM(rM),
          literal: aM,
          string: lM,
          docString: nM(lM),
          character: nM(lM),
          attributeValue: nM(lM),
          number: cM,
          integer: nM(cM),
          float: nM(cM),
          bool: nM(aM),
          regexp: nM(aM),
          escape: nM(aM),
          color: nM(aM),
          url: nM(aM),
          keyword: pM,
          self: nM(pM),
          null: nM(pM),
          atom: nM(pM),
          unit: nM(pM),
          modifier: nM(pM),
          operatorKeyword: nM(pM),
          controlKeyword: nM(pM),
          definitionKeyword: nM(pM),
          moduleKeyword: nM(pM),
          operator: dM,
          derefOperator: nM(dM),
          arithmeticOperator: nM(dM),
          logicOperator: nM(dM),
          bitwiseOperator: nM(dM),
          compareOperator: nM(dM),
          updateOperator: nM(dM),
          definitionOperator: nM(dM),
          typeOperator: nM(dM),
          controlOperator: nM(dM),
          punctuation: fM,
          separator: nM(fM),
          bracket: gM,
          angleBracket: nM(gM),
          squareBracket: nM(gM),
          paren: nM(gM),
          brace: nM(gM),
          content: uM,
          heading: hM,
          heading1: nM(hM),
          heading2: nM(hM),
          heading3: nM(hM),
          heading4: nM(hM),
          heading5: nM(hM),
          heading6: nM(hM),
          contentSeparator: nM(uM),
          list: nM(uM),
          quote: nM(uM),
          emphasis: nM(uM),
          strong: nM(uM),
          link: nM(uM),
          monospace: nM(uM),
          strikethrough: nM(uM),
          inserted: nM(),
          deleted: nM(),
          changed: nM(),
          invalid: nM(),
          meta: mM,
          documentMeta: nM(mM),
          annotation: nM(mM),
          processingInstruction: nM(mM),
          definition: zE.defineModifier(),
          constant: zE.defineModifier(),
          function: zE.defineModifier(),
          standard: zE.defineModifier(),
          local: zE.defineModifier(),
          special: zE.defineModifier(),
        },
        yM = $E.define([
          { tag: vM.link, textDecoration: "underline" },
          { tag: vM.heading, textDecoration: "underline", fontWeight: "bold" },
          { tag: vM.emphasis, fontStyle: "italic" },
          { tag: vM.strong, fontWeight: "bold" },
          { tag: vM.strikethrough, textDecoration: "line-through" },
          { tag: vM.keyword, color: "#708" },
          {
            tag: [vM.atom, vM.bool, vM.url, vM.contentSeparator, vM.labelName],
            color: "#219",
          },
          { tag: [vM.literal, vM.inserted], color: "#164" },
          { tag: [vM.string, vM.deleted], color: "#a11" },
          { tag: [vM.regexp, vM.escape, vM.special(vM.string)], color: "#e40" },
          { tag: vM.definition(vM.variableName), color: "#00f" },
          { tag: vM.local(vM.variableName), color: "#30a" },
          { tag: [vM.typeName, vM.namespace], color: "#085" },
          { tag: vM.className, color: "#167" },
          { tag: [vM.special(vM.variableName), vM.macroName], color: "#256" },
          { tag: vM.definition(vM.propertyName), color: "#00c" },
          { tag: vM.comment, color: "#940" },
          { tag: vM.meta, color: "#7a757a" },
          { tag: vM.invalid, color: "#f00" },
        ]),
        bM = $E.define([
          { tag: vM.link, class: "cmt-link" },
          { tag: vM.heading, class: "cmt-heading" },
          { tag: vM.emphasis, class: "cmt-emphasis" },
          { tag: vM.strong, class: "cmt-strong" },
          { tag: vM.keyword, class: "cmt-keyword" },
          { tag: vM.atom, class: "cmt-atom" },
          { tag: vM.bool, class: "cmt-bool" },
          { tag: vM.url, class: "cmt-url" },
          { tag: vM.labelName, class: "cmt-labelName" },
          { tag: vM.inserted, class: "cmt-inserted" },
          { tag: vM.deleted, class: "cmt-deleted" },
          { tag: vM.literal, class: "cmt-literal" },
          { tag: vM.string, class: "cmt-string" },
          { tag: vM.number, class: "cmt-number" },
          {
            tag: [vM.regexp, vM.escape, vM.special(vM.string)],
            class: "cmt-string2",
          },
          { tag: vM.variableName, class: "cmt-variableName" },
          {
            tag: vM.local(vM.variableName),
            class: "cmt-variableName cmt-local",
          },
          {
            tag: vM.definition(vM.variableName),
            class: "cmt-variableName cmt-definition",
          },
          { tag: vM.special(vM.variableName), class: "cmt-variableName2" },
          {
            tag: vM.definition(vM.propertyName),
            class: "cmt-propertyName cmt-definition",
          },
          { tag: vM.typeName, class: "cmt-typeName" },
          { tag: vM.namespace, class: "cmt-namespace" },
          { tag: vM.className, class: "cmt-className" },
          { tag: vM.macroName, class: "cmt-macroName" },
          { tag: vM.propertyName, class: "cmt-propertyName" },
          { tag: vM.operator, class: "cmt-operator" },
          { tag: vM.comment, class: "cmt-comment" },
          { tag: vM.meta, class: "cmt-meta" },
          { tag: vM.invalid, class: "cmt-invalid" },
          { tag: vM.punctuation, class: "cmt-punctuation" },
        ]),
        wM = Dr.define(),
        kM = Dr.define(),
        CM = ir.define(),
        xM = ir.define({
          combine: function (e) {
            return _r(
              e,
              { minDepth: 100, newGroupDelay: 500 },
              { minDepth: Math.max, newGroupDelay: Math.min }
            );
          },
        });
      var SM = lr.define({
        create: function () {
          return WM.empty;
        },
        update: function (e, t) {
          var n,
            i,
            r = t.state.facet(xM),
            o = t.annotation(wM);
          if (o) {
            var s = t.docChanged
                ? Zi.single(
                    ((n = t.changes),
                    (i = 0),
                    n.iterChangedRanges(function (e, t) {
                      return (i = t);
                    }),
                    i)
                  )
                : void 0,
              a = NM.fromTransaction(t, s),
              l = o.side,
              c = 0 == l ? e.undone : e.done;
            return (
              (c = a
                ? BM(c, c.length, r.minDepth, a)
                : HM(c, t.startState.selection)),
              new WM(0 == l ? o.rest : c, 0 == l ? c : o.rest)
            );
          }
          var u = t.annotation(kM);
          if (
            (("full" != u && "before" != u) || (e = e.isolate()),
            !1 === t.annotation(Fr.addToHistory))
          )
            return t.changes.empty ? e : e.addMapping(t.changes.desc);
          var h = NM.fromTransaction(t),
            p = t.annotation(Fr.time),
            d = t.annotation(Fr.userEvent);
          return (
            h
              ? (e = e.addChanges(h, p, d, r.newGroupDelay, r.minDepth))
              : t.selection &&
                (e = e.addSelection(
                  t.startState.selection,
                  p,
                  d,
                  r.newGroupDelay
                )),
            ("full" != u && "after" != u) || (e = e.isolate()),
            e
          );
        },
        toJSON: function (e) {
          return {
            done: e.done.map(function (e) {
              return e.toJSON();
            }),
            undone: e.undone.map(function (e) {
              return e.toJSON();
            }),
          };
        },
        fromJSON: function (e) {
          return new WM(e.done.map(NM.fromJSON), e.undone.map(NM.fromJSON));
        },
      });
      function EM(e) {
        return (
          void 0 === e && (e = {}),
          [
            SM,
            xM.of(e),
            Zl.domEventHandlers({
              beforeinput: function (e, t) {
                var n =
                  "historyUndo" == e.inputType
                    ? AM
                    : "historyRedo" == e.inputType
                    ? DM
                    : null;
                return !!n && (e.preventDefault(), n(t));
              },
            }),
          ]
        );
      }
      var MM = SM;
      function LM(e, t) {
        return function (n) {
          var i = n.state,
            r = n.dispatch;
          if (!t && i.readOnly) return !1;
          var o = i.field(SM, !1);
          if (!o) return !1;
          var s = o.pop(e, i, t);
          return !!s && (r(s), !0);
        };
      }
      var AM = LM(0, !1),
        DM = LM(1, !1),
        TM = LM(0, !0),
        PM = LM(1, !0);
      function OM(e) {
        return function (t) {
          var n = t.field(SM, !1);
          if (!n) return 0;
          var i = 0 == e ? n.done : n.undone;
          return i.length - (i.length && !i[0].changes ? 1 : 0);
        };
      }
      var FM = OM(0),
        IM = OM(1),
        NM = (function () {
          function e(e, t, n, i, r) {
            (this.changes = e),
              (this.effects = t),
              (this.mapped = n),
              (this.startSelection = i),
              (this.selectionsAfter = r);
          }
          return (
            (e.prototype.setSelAfter = function (t) {
              return new e(
                this.changes,
                this.effects,
                this.mapped,
                this.startSelection,
                t
              );
            }),
            (e.prototype.toJSON = function () {
              var e, t, n;
              return {
                changes:
                  null === (e = this.changes) || void 0 === e
                    ? void 0
                    : e.toJSON(),
                mapped:
                  null === (t = this.mapped) || void 0 === t
                    ? void 0
                    : t.toJSON(),
                startSelection:
                  null === (n = this.startSelection) || void 0 === n
                    ? void 0
                    : n.toJSON(),
                selectionsAfter: this.selectionsAfter.map(function (e) {
                  return e.toJSON();
                }),
              };
            }),
            (e.fromJSON = function (t) {
              return new e(
                t.changes && _i.fromJSON(t.changes),
                [],
                t.mapped && Wi.fromJSON(t.mapped),
                t.startSelection && Zi.fromJSON(t.startSelection),
                t.selectionsAfter.map(Zi.fromJSON)
              );
            }),
            (e.fromTransaction = function (t, n) {
              for (
                var i = zM, r = 0, o = t.startState.facet(CM);
                r < o.length;
                r++
              ) {
                var s = (0, o[r])(t);
                s.length && (i = i.concat(s));
              }
              return !i.length && t.changes.empty
                ? null
                : new e(
                    t.changes.invert(t.startState.doc),
                    i,
                    void 0,
                    n || t.startState.selection,
                    zM
                  );
            }),
            (e.selection = function (t) {
              return new e(void 0, zM, void 0, void 0, t);
            }),
            e
          );
        })();
      function BM(e, t, n, i) {
        var r = t + 1 > n + 20 ? t - n - 1 : 0,
          o = e.slice(r, t);
        return o.push(i), o;
      }
      function RM(e, t) {
        return e.length ? (t.length ? e.concat(t) : e) : t;
      }
      var zM = [];
      function HM(e, t) {
        if (e.length) {
          var n = e[e.length - 1],
            i = n.selectionsAfter.slice(
              Math.max(0, n.selectionsAfter.length - 200)
            );
          return i.length && i[i.length - 1].eq(t)
            ? e
            : (i.push(t), BM(e, e.length - 1, 1e9, n.setSelAfter(i)));
        }
        return [NM.selection([t])];
      }
      function VM(e) {
        var t = e[e.length - 1],
          n = e.slice();
        return (
          (n[e.length - 1] = t.setSelAfter(
            t.selectionsAfter.slice(0, t.selectionsAfter.length - 1)
          )),
          n
        );
      }
      function qM(e, t) {
        if (!e.length) return e;
        for (var n = e.length, i = zM; n; ) {
          var r = jM(e[n - 1], t, i);
          if ((r.changes && !r.changes.empty) || r.effects.length) {
            var o = e.slice(0, n);
            return (o[n - 1] = r), o;
          }
          (t = r.mapped), n--, (i = r.selectionsAfter);
        }
        return i.length ? [NM.selection(i)] : zM;
      }
      function jM(e, t, n) {
        var i = RM(
          e.selectionsAfter.length
            ? e.selectionsAfter.map(function (e) {
                return e.map(t);
              })
            : zM,
          n
        );
        if (!e.changes) return NM.selection(i);
        var r = e.changes.map(t),
          o = t.mapDesc(e.changes, !0),
          s = e.mapped ? e.mapped.composeDesc(o) : o;
        return new NM(
          r,
          Or.mapEffects(e.effects, t),
          s,
          e.startSelection.map(o),
          i
        );
      }
      var UM = /^(input\.type|delete)($|\.)/,
        WM = (function () {
          function e(e, t, n, i) {
            void 0 === n && (n = 0),
              void 0 === i && (i = void 0),
              (this.done = e),
              (this.undone = t),
              (this.prevTime = n),
              (this.prevUserEvent = i);
          }
          return (
            (e.prototype.isolate = function () {
              return this.prevTime ? new e(this.done, this.undone) : this;
            }),
            (e.prototype.addChanges = function (t, n, i, r, o) {
              var s = this.done,
                a = s[s.length - 1];
              return new e(
                (s =
                  a &&
                  a.changes &&
                  !a.changes.empty &&
                  t.changes &&
                  (!i || UM.test(i)) &&
                  ((!a.selectionsAfter.length &&
                    n - this.prevTime < r &&
                    (function (e, t) {
                      var n = [],
                        i = !1;
                      return (
                        e.iterChangedRanges(function (e, t) {
                          return n.push(e, t);
                        }),
                        t.iterChangedRanges(function (e, t, r, o) {
                          for (var s = 0; s < n.length; ) {
                            var a = n[s++],
                              l = n[s++];
                            o >= a && r <= l && (i = !0);
                          }
                        }),
                        i
                      );
                    })(a.changes, t.changes)) ||
                    "input.type.compose" == i)
                    ? BM(
                        s,
                        s.length - 1,
                        o,
                        new NM(
                          t.changes.compose(a.changes),
                          RM(t.effects, a.effects),
                          a.mapped,
                          a.startSelection,
                          zM
                        )
                      )
                    : BM(s, s.length, o, t)),
                zM,
                n,
                i
              );
            }),
            (e.prototype.addSelection = function (t, n, i, r) {
              var o,
                s,
                a = this.done.length
                  ? this.done[this.done.length - 1].selectionsAfter
                  : zM;
              return a.length > 0 &&
                n - this.prevTime < r &&
                i == this.prevUserEvent &&
                i &&
                /^select($|\.)/.test(i) &&
                ((o = a[a.length - 1]),
                (s = t),
                o.ranges.length == s.ranges.length &&
                  0 ===
                    o.ranges.filter(function (e, t) {
                      return e.empty != s.ranges[t].empty;
                    }).length)
                ? this
                : new e(HM(this.done, t), this.undone, n, i);
            }),
            (e.prototype.addMapping = function (t) {
              return new e(
                qM(this.done, t),
                qM(this.undone, t),
                this.prevTime,
                this.prevUserEvent
              );
            }),
            (e.prototype.pop = function (e, t, n) {
              var i = 0 == e ? this.done : this.undone;
              if (0 == i.length) return null;
              var r = i[i.length - 1];
              if (n && r.selectionsAfter.length)
                return t.update({
                  selection: r.selectionsAfter[r.selectionsAfter.length - 1],
                  annotations: wM.of({ side: e, rest: VM(i) }),
                  userEvent: 0 == e ? "select.undo" : "select.redo",
                  scrollIntoView: !0,
                });
              if (r.changes) {
                var o = 1 == i.length ? zM : i.slice(0, i.length - 1);
                return (
                  r.mapped && (o = qM(o, r.mapped)),
                  t.update({
                    changes: r.changes,
                    selection: r.startSelection,
                    effects: r.effects,
                    annotations: wM.of({ side: e, rest: o }),
                    filter: !1,
                    userEvent: 0 == e ? "undo" : "redo",
                    scrollIntoView: !0,
                  })
                );
              }
              return null;
            }),
            e
          );
        })();
      WM.empty = new WM(zM, zM);
      var _M = [
          { key: "Mod-z", run: AM, preventDefault: !0 },
          { key: "Mod-y", mac: "Mod-Shift-z", run: DM, preventDefault: !0 },
          { key: "Mod-u", run: TM, preventDefault: !0 },
          { key: "Alt-u", mac: "Mod-Shift-u", run: PM, preventDefault: !0 },
        ],
        GM = ir.define({
          combine: function (e) {
            for (var t, n, i = 0, r = e; i < r.length; i++) {
              var o = r[i];
              (t = t || o.topContainer), (n = n || o.bottomContainer);
            }
            return { topContainer: t, bottomContainer: n };
          },
        });
      function KM(e) {
        return e ? [GM.of(e)] : [];
      }
      function $M(e, t) {
        var n = e.plugin(YM),
          i = n ? n.specs.indexOf(t) : -1;
        return i > -1 ? n.panels[i] : null;
      }
      var YM = Qs.fromClass(
          (function () {
            function e(e) {
              (this.input = e.state.facet(ZM)),
                (this.specs = this.input.filter(function (e) {
                  return e;
                })),
                (this.panels = this.specs.map(function (t) {
                  return t(e);
                }));
              var t = e.state.facet(GM);
              (this.top = new JM(e, !0, t.topContainer)),
                (this.bottom = new JM(e, !1, t.bottomContainer)),
                this.top.sync(
                  this.panels.filter(function (e) {
                    return e.top;
                  })
                ),
                this.bottom.sync(
                  this.panels.filter(function (e) {
                    return !e.top;
                  })
                );
              for (var n = 0, i = this.panels; n < i.length; n++) {
                var r = i[n];
                r.dom.classList.add("cm-panel"), r.mount && r.mount();
              }
            }
            return (
              (e.prototype.update = function (e) {
                var t = e.state.facet(GM);
                this.top.container != t.topContainer &&
                  (this.top.sync([]),
                  (this.top = new JM(e.view, !0, t.topContainer))),
                  this.bottom.container != t.bottomContainer &&
                    (this.bottom.sync([]),
                    (this.bottom = new JM(e.view, !1, t.bottomContainer))),
                  this.top.syncClasses(),
                  this.bottom.syncClasses();
                var n = e.state.facet(ZM);
                if (n != this.input) {
                  for (
                    var i = n.filter(function (e) {
                        return e;
                      }),
                      r = [],
                      o = [],
                      s = [],
                      a = [],
                      l = 0,
                      c = i;
                    l < c.length;
                    l++
                  ) {
                    var u = c[l],
                      h = this.specs.indexOf(u),
                      p = void 0;
                    h < 0
                      ? ((p = u(e.view)), a.push(p))
                      : (p = this.panels[h]).update && p.update(e),
                      r.push(p),
                      (p.top ? o : s).push(p);
                  }
                  (this.specs = i),
                    (this.panels = r),
                    this.top.sync(o),
                    this.bottom.sync(s);
                  for (var d = 0, f = a; d < f.length; d++) {
                    (v = f[d]).dom.classList.add("cm-panel"),
                      v.mount && v.mount();
                  }
                } else
                  for (var g = 0, m = this.panels; g < m.length; g++) {
                    var v;
                    (v = m[g]).update && v.update(e);
                  }
              }),
              (e.prototype.destroy = function () {
                this.top.sync([]), this.bottom.sync([]);
              }),
              e
            );
          })(),
          {
            provide: $s.scrollMargins.from(function (e) {
              return {
                top: e.top.scrollMargin(),
                bottom: e.bottom.scrollMargin(),
              };
            }),
          }
        ),
        JM = (function () {
          function e(e, t, n) {
            (this.view = e),
              (this.top = t),
              (this.container = n),
              (this.dom = void 0),
              (this.classes = ""),
              (this.panels = []),
              this.syncClasses();
          }
          return (
            (e.prototype.sync = function (e) {
              for (var t = 0, n = this.panels; t < n.length; t++) {
                var i = n[t];
                i.destroy && e.indexOf(i) < 0 && i.destroy();
              }
              (this.panels = e), this.syncDOM();
            }),
            (e.prototype.syncDOM = function () {
              if (0 != this.panels.length) {
                if (!this.dom) {
                  (this.dom = document.createElement("div")),
                    (this.dom.className = this.top
                      ? "cm-panels cm-panels-top"
                      : "cm-panels cm-panels-bottom"),
                    (this.dom.style[this.top ? "top" : "bottom"] = "0");
                  var e = this.container || this.view.dom;
                  e.insertBefore(this.dom, this.top ? e.firstChild : null);
                }
                for (
                  var t = this.dom.firstChild, n = 0, i = this.panels;
                  n < i.length;
                  n++
                ) {
                  var r = i[n];
                  if (r.dom.parentNode == this.dom) {
                    for (; t != r.dom; ) t = QM(t);
                    t = t.nextSibling;
                  } else this.dom.insertBefore(r.dom, t);
                }
                for (; t; ) t = QM(t);
              } else this.dom && (this.dom.remove(), (this.dom = void 0));
            }),
            (e.prototype.scrollMargin = function () {
              return !this.dom || this.container
                ? 0
                : Math.max(
                    0,
                    this.top
                      ? this.dom.getBoundingClientRect().bottom -
                          Math.max(
                            0,
                            this.view.scrollDOM.getBoundingClientRect().top
                          )
                      : Math.min(
                          innerHeight,
                          this.view.scrollDOM.getBoundingClientRect().bottom
                        ) - this.dom.getBoundingClientRect().top
                  );
            }),
            (e.prototype.syncClasses = function () {
              if (this.container && this.classes != this.view.themeClasses) {
                for (
                  var e = 0, t = this.classes.split(" ");
                  e < t.length;
                  e++
                ) {
                  (r = t[e]) && this.container.classList.remove(r);
                }
                for (
                  var n = 0,
                    i = (this.classes = this.view.themeClasses).split(" ");
                  n < i.length;
                  n++
                ) {
                  var r;
                  (r = i[n]) && this.container.classList.add(r);
                }
              }
            }),
            e
          );
        })();
      function QM(e) {
        var t = e.nextSibling;
        return e.remove(), t;
      }
      var XM = Zl.baseTheme({
          ".cm-panels": {
            boxSizing: "border-box",
            position: "sticky",
            left: 0,
            right: 0,
          },
          "&light .cm-panels": { backgroundColor: "#f5f5f5", color: "black" },
          "&light .cm-panels-top": { borderBottom: "1px solid #ddd" },
          "&light .cm-panels-bottom": { borderTop: "1px solid #ddd" },
          "&dark .cm-panels": { backgroundColor: "#333338", color: "white" },
        }),
        ZM = ir.define({ enables: [YM, XM] });
      function eL() {
        var e = arguments[0];
        "string" == typeof e && (e = document.createElement(e));
        var t = 1,
          n = arguments[1];
        if (
          n &&
          "object" == typeof n &&
          null == n.nodeType &&
          !Array.isArray(n)
        ) {
          for (var i in n)
            if (Object.prototype.hasOwnProperty.call(n, i)) {
              var r = n[i];
              "string" == typeof r
                ? e.setAttribute(i, r)
                : null != r && (e[i] = r);
            }
          t++;
        }
        for (; t < arguments.length; t++) tL(e, arguments[t]);
        return e;
      }
      function tL(e, t) {
        if ("string" == typeof t) e.appendChild(document.createTextNode(t));
        else if (null == t);
        else if (null != t.nodeType) e.appendChild(t);
        else {
          if (!Array.isArray(t))
            throw new RangeError("Unsupported child node: " + t);
          for (var n = 0; n < t.length; n++) tL(e, t[n]);
        }
      }
      var nL = function (e, t, n) {
          (this.from = e), (this.to = t), (this.diagnostic = n);
        },
        iL = (function () {
          function e(e, t, n) {
            (this.diagnostics = e), (this.panel = t), (this.selected = n);
          }
          return (
            (e.init = function (t, n, i) {
              var r = xs.set(
                t.map(function (e) {
                  return e.from == e.to ||
                    (e.from == e.to - 1 && i.doc.lineAt(e.from).to == e.from)
                    ? xs
                        .widget({ widget: new EL(e), diagnostic: e })
                        .range(e.from)
                    : xs
                        .mark({
                          attributes: {
                            class: "cm-lintRange cm-lintRange-" + e.severity,
                          },
                          diagnostic: e,
                        })
                        .range(e.from, e.to);
                }),
                !0
              );
              return new e(r, n, rL(r));
            }),
            e
          );
        })();
      function rL(e, t, n) {
        void 0 === t && (t = null), void 0 === n && (n = 0);
        var i = null;
        return (
          e.between(n, 1e9, function (e, n, r) {
            var o = r.spec;
            if (!t || o.diagnostic == t)
              return (i = new nL(e, n, o.diagnostic)), !1;
          }),
          i
        );
      }
      function oL(e, t) {
        return e.field(uL, !1)
          ? t
          : t.concat(
              Or.appendConfig.of([
                uL,
                Zl.decorations.compute([uL], function (e) {
                  var t = e.field(uL),
                    n = t.selected,
                    i = t.panel;
                  return n && i && n.from != n.to
                    ? xs.set([pL.range(n.from, n.to)])
                    : xs.none;
                }),
                Dw(dL),
                TL,
              ])
            );
      }
      function sL(e, t) {
        return { effects: oL(e, [aL.of(t)]) };
      }
      var aL = Or.define(),
        lL = Or.define(),
        cL = Or.define(),
        uL = lr.define({
          create: function () {
            return new iL(xs.none, null, null);
          },
          update: function (e, t) {
            if (t.docChanged) {
              var n = e.diagnostics.map(t.changes),
                i = null;
              if (e.selected) {
                var r = t.changes.mapPos(e.selected.from, 1);
                i = rL(n, e.selected.diagnostic, r) || rL(n, null, r);
              }
              e = new iL(n, e.panel, i);
            }
            for (var o = 0, s = t.effects; o < s.length; o++) {
              var a = s[o];
              a.is(aL)
                ? (e = iL.init(a.value, e.panel, t.state))
                : a.is(lL)
                ? (e = new iL(
                    e.diagnostics,
                    a.value ? LL.open : null,
                    e.selected
                  ))
                : a.is(cL) && (e = new iL(e.diagnostics, e.panel, a.value));
            }
            return e;
          },
          provide: function (e) {
            return [
              ZM.from(e, function (e) {
                return e.panel;
              }),
              Zl.decorations.from(e, function (e) {
                return e.diagnostics;
              }),
            ];
          },
        });
      function hL(e) {
        var t = e.field(uL, !1);
        return t ? t.diagnostics.size : 0;
      }
      var pL = xs.mark({ class: "cm-lintRange cm-lintRange-active" });
      function dL(e, t, n) {
        var i = e.state.field(uL).diagnostics,
          r = [],
          o = 2e8,
          s = 0;
        return (
          i.between(
            t - (n < 0 ? 1 : 0),
            t + (n > 0 ? 1 : 0),
            function (e, i, a) {
              var l = a.spec;
              t >= e &&
                t <= i &&
                (e == i || ((t > e || n > 0) && (t < i || n < 0))) &&
                (r.push(l.diagnostic),
                (o = Math.min(e, o)),
                (s = Math.max(i, s)));
            }
          ),
          r.length
            ? {
                pos: o,
                end: s,
                above: e.state.doc.lineAt(o).to < s,
                create: function () {
                  return { dom: fL(e, r) };
                },
              }
            : null
        );
      }
      function fL(e, t) {
        return eL(
          "ul",
          { class: "cm-tooltip-lint" },
          t.map(function (t) {
            return SL(e, t, !1);
          })
        );
      }
      var gL = function (e) {
          var t = e.state.field(uL, !1);
          (t && t.panel) || e.dispatch({ effects: oL(e.state, [lL.of(!0)]) });
          var n = $M(e, LL.open);
          return n && n.dom.querySelector(".cm-panel-lint ul").focus(), !0;
        },
        mL = function (e) {
          var t = e.state.field(uL, !1);
          return !(!t || !t.panel) && (e.dispatch({ effects: lL.of(!1) }), !0);
        },
        vL = function (e) {
          var t = e.state.field(uL, !1);
          if (!t) return !1;
          var n = e.state.selection.main,
            i = t.diagnostics.iter(n.to + 1);
          return (
            !(
              !i.value &&
              (!(i = t.diagnostics.iter(0)).value ||
                (i.from == n.from && i.to == n.to))
            ) &&
            (e.dispatch({
              selection: { anchor: i.from, head: i.to },
              scrollIntoView: !0,
            }),
            !0)
          );
        },
        yL = [
          { key: "Mod-Shift-m", run: gL },
          { key: "F8", run: vL },
        ],
        bL = Qs.fromClass(
          (function () {
            function e(e) {
              (this.view = e), (this.timeout = -1), (this.set = !0);
              var t = e.state.facet(wL).delay;
              (this.lintTime = Date.now() + t),
                (this.run = this.run.bind(this)),
                (this.timeout = setTimeout(this.run, t));
            }
            return (
              (e.prototype.run = function () {
                var e = this,
                  t = Date.now();
                if (t < this.lintTime - 10)
                  setTimeout(this.run, this.lintTime - t);
                else {
                  this.set = !1;
                  var n = this.view.state,
                    i = n.facet(wL).sources;
                  Promise.all(
                    i.map(function (t) {
                      return Promise.resolve(t(e.view));
                    })
                  ).then(
                    function (t) {
                      var i,
                        r,
                        o = t.reduce(function (e, t) {
                          return e.concat(t);
                        });
                      e.view.state.doc == n.doc &&
                        (o.length ||
                          (null ===
                            (r =
                              null === (i = e.view.state.field(uL, !1)) ||
                              void 0 === i
                                ? void 0
                                : i.diagnostics) || void 0 === r
                            ? void 0
                            : r.size)) &&
                        e.view.dispatch(sL(e.view.state, o));
                    },
                    function (t) {
                      _s(e.view.state, t);
                    }
                  );
                }
              }),
              (e.prototype.update = function (e) {
                var t = e.state.facet(wL);
                (e.docChanged || t != e.startState.facet(wL)) &&
                  ((this.lintTime = Date.now() + t.delay),
                  this.set ||
                    ((this.set = !0),
                    (this.timeout = setTimeout(this.run, t.delay))));
              }),
              (e.prototype.force = function () {
                this.set && ((this.lintTime = Date.now()), this.run());
              }),
              (e.prototype.destroy = function () {
                clearTimeout(this.timeout);
              }),
              e
            );
          })()
        ),
        wL = ir.define({
          combine: function (e) {
            return {
              sources: e.map(function (e) {
                return e.source;
              }),
              delay: e.length
                ? Math.max.apply(
                    Math,
                    e.map(function (e) {
                      return e.delay;
                    })
                  )
                : 750,
            };
          },
          enables: bL,
        });
      function kL(e, t) {
        var n;
        return (
          void 0 === t && (t = {}),
          wL.of({
            source: e,
            delay: null !== (n = t.delay) && void 0 !== n ? n : 750,
          })
        );
      }
      function CL(e) {
        var t = e.plugin(bL);
        t && t.force();
      }
      function xL(e) {
        var t = [];
        if (e)
          e: for (var n = 0, i = e; n < i.length; n++) {
            for (
              var r = i[n].name,
                o = function (e) {
                  var n = r[e];
                  if (
                    /[a-zA-Z]/.test(n) &&
                    !t.some(function (e) {
                      return e.toLowerCase() == n.toLowerCase();
                    })
                  )
                    return t.push(n), "continue-actions";
                },
                s = 0;
              s < r.length;
              s++
            ) {
              switch (o(s)) {
                case "continue-actions":
                  continue e;
              }
            }
            t.push("");
          }
        return t;
      }
      function SL(e, t, n) {
        var i,
          r = n ? xL(t.actions) : [];
        return eL(
          "li",
          { class: "cm-diagnostic cm-diagnostic-" + t.severity },
          eL("span", { class: "cm-diagnosticText" }, t.message),
          null === (i = t.actions) || void 0 === i
            ? void 0
            : i.map(function (n, i) {
                var o = function (i) {
                    i.preventDefault();
                    var r = rL(e.state.field(uL).diagnostics, t);
                    r && n.apply(e, r.from, r.to);
                  },
                  s = n.name,
                  a = r[i] ? s.indexOf(r[i]) : -1,
                  l =
                    a < 0
                      ? s
                      : [
                          s.slice(0, a),
                          eL("u", s.slice(a, a + 1)),
                          s.slice(a + 1),
                        ];
                return eL(
                  "button",
                  {
                    type: "button",
                    class: "cm-diagnosticAction",
                    onclick: o,
                    onmousedown: o,
                    "aria-label":
                      " Action: " +
                      s +
                      (a < 0 ? "" : ' (access key "' + r[i] + ')"') +
                      ".",
                  },
                  l
                );
              }),
          t.source && eL("div", { class: "cm-diagnosticSource" }, t.source)
        );
      }
      var EL = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (n.diagnostic = t), n;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return e.diagnostic == this.diagnostic;
            }),
            (t.prototype.toDOM = function () {
              return eL("span", {
                class: "cm-lintPoint cm-lintPoint-" + this.diagnostic.severity,
              });
            }),
            t
          );
        })(ks),
        ML = function (e, t) {
          (this.diagnostic = t),
            (this.id =
              "item_" + Math.floor(4294967295 * Math.random()).toString(16)),
            (this.dom = SL(e, t, !0)),
            (this.dom.id = this.id),
            this.dom.setAttribute("role", "option");
        },
        LL = (function () {
          function e(e) {
            var t = this;
            (this.view = e), (this.items = []);
            (this.list = eL("ul", {
              tabIndex: 0,
              role: "listbox",
              "aria-label": this.view.state.phrase("Diagnostics"),
              onkeydown: function (n) {
                if (27 == n.keyCode) mL(t.view), t.view.focus();
                else if (38 == n.keyCode || 33 == n.keyCode)
                  t.moveSelection(
                    (t.selectedIndex - 1 + t.items.length) % t.items.length
                  );
                else if (40 == n.keyCode || 34 == n.keyCode)
                  t.moveSelection((t.selectedIndex + 1) % t.items.length);
                else if (36 == n.keyCode) t.moveSelection(0);
                else if (35 == n.keyCode) t.moveSelection(t.items.length - 1);
                else if (13 == n.keyCode) t.view.focus();
                else {
                  if (
                    !(
                      n.keyCode >= 65 &&
                      n.keyCode <= 90 &&
                      t.selectedIndex >= 0
                    )
                  )
                    return;
                  for (
                    var i = t.items[t.selectedIndex].diagnostic,
                      r = xL(i.actions),
                      o = 0;
                    o < r.length;
                    o++
                  )
                    if (r[o].toUpperCase().charCodeAt(0) == n.keyCode) {
                      var s = rL(t.view.state.field(uL).diagnostics, i);
                      s && i.actions[o].apply(e, s.from, s.to);
                    }
                }
                n.preventDefault();
              },
              onclick: function (e) {
                for (var n = 0; n < t.items.length; n++)
                  t.items[n].dom.contains(e.target) && t.moveSelection(n);
              },
            })),
              (this.dom = eL(
                "div",
                { class: "cm-panel-lint" },
                this.list,
                eL(
                  "button",
                  {
                    type: "button",
                    name: "close",
                    "aria-label": this.view.state.phrase("close"),
                    onclick: function () {
                      return mL(t.view);
                    },
                  },
                  "×"
                )
              )),
              this.update();
          }
          return (
            Object.defineProperty(e.prototype, "selectedIndex", {
              get: function () {
                var e = this.view.state.field(uL).selected;
                if (!e) return -1;
                for (var t = 0; t < this.items.length; t++)
                  if (this.items[t].diagnostic == e.diagnostic) return t;
                return -1;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.update = function () {
              var e = this,
                t = this.view.state.field(uL),
                n = t.diagnostics,
                i = t.selected,
                r = 0,
                o = !1,
                s = null;
              for (
                n.between(0, this.view.state.doc.length, function (t, n, a) {
                  for (
                    var l, c = a.spec, u = -1, h = r;
                    h < e.items.length;
                    h++
                  )
                    if (e.items[h].diagnostic == c.diagnostic) {
                      u = h;
                      break;
                    }
                  u < 0
                    ? ((l = new ML(e.view, c.diagnostic)),
                      e.items.splice(r, 0, l),
                      (o = !0))
                    : ((l = e.items[u]),
                      u > r && (e.items.splice(r, u - r), (o = !0))),
                    i && l.diagnostic == i.diagnostic
                      ? l.dom.hasAttribute("aria-selected") ||
                        (l.dom.setAttribute("aria-selected", "true"), (s = l))
                      : l.dom.hasAttribute("aria-selected") &&
                        l.dom.removeAttribute("aria-selected"),
                    r++;
                });
                r < this.items.length &&
                !(1 == this.items.length && this.items[0].diagnostic.from < 0);

              )
                (o = !0), this.items.pop();
              0 == this.items.length &&
                (this.items.push(
                  new ML(this.view, {
                    from: -1,
                    to: -1,
                    severity: "info",
                    message: this.view.state.phrase("No diagnostics"),
                  })
                ),
                (o = !0)),
                s
                  ? (this.list.setAttribute("aria-activedescendant", s.id),
                    this.view.requestMeasure({
                      key: this,
                      read: function () {
                        return {
                          sel: s.dom.getBoundingClientRect(),
                          panel: e.list.getBoundingClientRect(),
                        };
                      },
                      write: function (t) {
                        var n = t.sel,
                          i = t.panel;
                        n.top < i.top
                          ? (e.list.scrollTop -= i.top - n.top)
                          : n.bottom > i.bottom &&
                            (e.list.scrollTop += n.bottom - i.bottom);
                      },
                    }))
                  : this.selectedIndex < 0 &&
                    this.list.removeAttribute("aria-activedescendant"),
                o && this.sync();
            }),
            (e.prototype.sync = function () {
              var e = this.list.firstChild;
              function t() {
                var t = e;
                (e = t.nextSibling), t.remove();
              }
              for (var n = 0, i = this.items; n < i.length; n++) {
                var r = i[n];
                if (r.dom.parentNode == this.list) {
                  for (; e != r.dom; ) t();
                  e = r.dom.nextSibling;
                } else this.list.insertBefore(r.dom, e);
              }
              for (; e; ) t();
            }),
            (e.prototype.moveSelection = function (e) {
              if (!(this.selectedIndex < 0)) {
                var t = rL(
                  this.view.state.field(uL).diagnostics,
                  this.items[e].diagnostic
                );
                t &&
                  this.view.dispatch({
                    selection: { anchor: t.from, head: t.to },
                    scrollIntoView: !0,
                    effects: cL.of(t),
                  });
              }
            }),
            (e.open = function (t) {
              return new e(t);
            }),
            e
          );
        })();
      function AL(e, t) {
        return (
          void 0 === t && (t = 'viewBox="0 0 40 40"'),
          'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ' +
            t +
            ">" +
            encodeURIComponent(e) +
            "</svg>')"
        );
      }
      function DL(e) {
        return AL(
          '<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="' +
            e +
            '" fill="none" stroke-width=".7"/>',
          'width="6" height="3"'
        );
      }
      var TL = Zl.baseTheme({
          ".cm-diagnostic": {
            padding: "3px 6px 3px 8px",
            marginLeft: "-1px",
            display: "block",
            whiteSpace: "pre-wrap",
          },
          ".cm-diagnostic-error": { borderLeft: "5px solid #d11" },
          ".cm-diagnostic-warning": { borderLeft: "5px solid orange" },
          ".cm-diagnostic-info": { borderLeft: "5px solid #999" },
          ".cm-diagnosticAction": {
            font: "inherit",
            border: "none",
            padding: "2px 4px",
            backgroundColor: "#444",
            color: "white",
            borderRadius: "3px",
            marginLeft: "8px",
          },
          ".cm-diagnosticSource": { fontSize: "70%", opacity: 0.7 },
          ".cm-lintRange": {
            backgroundPosition: "left bottom",
            backgroundRepeat: "repeat-x",
            paddingBottom: "0.7px",
          },
          ".cm-lintRange-error": { backgroundImage: DL("#d11") },
          ".cm-lintRange-warning": { backgroundImage: DL("orange") },
          ".cm-lintRange-info": { backgroundImage: DL("#999") },
          ".cm-lintRange-active": { backgroundColor: "#ffdd9980" },
          ".cm-tooltip-lint": { padding: 0, margin: 0 },
          ".cm-lintPoint": {
            position: "relative",
            "&:after": {
              content: '""',
              position: "absolute",
              bottom: 0,
              left: "-2px",
              borderLeft: "3px solid transparent",
              borderRight: "3px solid transparent",
              borderBottom: "4px solid #d11",
            },
          },
          ".cm-lintPoint-warning": {
            "&:after": { borderBottomColor: "orange" },
          },
          ".cm-lintPoint-info": { "&:after": { borderBottomColor: "#999" } },
          ".cm-panel.cm-panel-lint": {
            position: "relative",
            "& ul": {
              maxHeight: "100px",
              overflowY: "auto",
              "& [aria-selected]": {
                backgroundColor: "#ddd",
                "& u": { textDecoration: "underline" },
              },
              "&:focus [aria-selected]": {
                background_fallback: "#bdf",
                backgroundColor: "Highlight",
                color_fallback: "white",
                color: "HighlightText",
              },
              "& u": { textDecoration: "none" },
              padding: 0,
              margin: 0,
            },
            "& [name=close]": {
              position: "absolute",
              top: "0",
              right: "2px",
              background: "inherit",
              border: "none",
              font: "inherit",
              padding: 0,
              margin: 0,
            },
          },
        }),
        PL = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (
              (n.diagnostics = t),
              (n.severity = t.reduce(function (e, t) {
                var n = t.severity;
                return "error" == n || ("warning" == n && "info" == e) ? n : e;
              }, "info")),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.toDOM = function (e) {
              var t = this,
                n = document.createElement("div");
              return (
                (n.className =
                  "cm-lint-marker cm-lint-marker-" + this.severity),
                (n.onmouseover = function () {
                  return (function (e, t, n) {
                    function i() {
                      var i = e.visualLineAtHeight(
                          t.getBoundingClientRect().top + 5
                        ),
                        r = e.coordsAtPos(i.from),
                        o = t.getBoundingClientRect();
                      r &&
                        e.dispatch({
                          effects: NL.of({
                            pos: i.from,
                            above: !1,
                            create: function () {
                              return {
                                dom: fL(e, n),
                                offset: { x: o.left - r.left, y: 0 },
                              };
                            },
                          }),
                        }),
                        (t.onmouseout = t.onmousemove = null),
                        (function (e, t) {
                          var n = function (i) {
                            var r = t.getBoundingClientRect();
                            if (
                              !(
                                i.clientX > r.left - 10 &&
                                i.clientX < r.right + 10 &&
                                i.clientY > r.top - 10 &&
                                i.clientY < r.bottom + 10
                              )
                            ) {
                              for (var o = i.target; o; o = o.parentNode)
                                if (
                                  1 == o.nodeType &&
                                  o.classList.contains("cm-tooltip-lint")
                                )
                                  return;
                              window.removeEventListener("mousemove", n),
                                e.state.field(BL) &&
                                  e.dispatch({ effects: NL.of(null) });
                            }
                          };
                          window.addEventListener("mousemove", n);
                        })(e, t);
                    }
                    var r = setTimeout(i, 600);
                    (t.onmouseout = function () {
                      clearTimeout(r), (t.onmouseout = t.onmousemove = null);
                    }),
                      (t.onmousemove = function () {
                        clearTimeout(r), (r = setTimeout(i, 600));
                      });
                  })(e, n, t.diagnostics);
                }),
                n
              );
            }),
            t
          );
        })(WS);
      function OL(e, t) {
        for (var n = Object.create(null), i = 0, r = t; i < r.length; i++) {
          var o = r[i];
          (n[(a = e.lineAt(o.from)).from] || (n[a.from] = [])).push(o);
        }
        var s = [];
        for (var a in n) s.push(new PL(n[a]).range(+a));
        return no.of(s, !0);
      }
      var FL = $S({
          class: "cm-gutter-lint",
          markers: function (e) {
            return e.state.field(IL);
          },
        }),
        IL = lr.define({
          create: function () {
            return no.empty;
          },
          update: function (e, t) {
            e = e.map(t.changes);
            for (var n = 0, i = t.effects; n < i.length; n++) {
              var r = i[n];
              r.is(aL) && (e = OL(t.state.doc, r.value));
            }
            return e;
          },
        }),
        NL = Or.define(),
        BL = lr.define({
          create: function () {
            return null;
          },
          update: function (e, t) {
            return (
              e &&
                t.docChanged &&
                (e = Object.assign(Object.assign({}, e), {
                  pos: t.changes.mapPos(e.pos),
                })),
              t.effects.reduce(function (e, t) {
                return t.is(NL) ? t.value : e;
              }, e)
            );
          },
          provide: function (e) {
            return Sw.from(e);
          },
        }),
        RL = Zl.baseTheme({
          ".cm-gutter-lint": {
            width: "1.4em",
            "& .cm-gutterElement": {
              padding: "0 .2em",
              display: "flex",
              flexDirection: "column",
              justifyContent: "center",
            },
          },
          ".cm-lint-marker": { width: "1em", height: "1em" },
          ".cm-lint-marker-info": {
            content: AL(
              '<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>'
            ),
          },
          ".cm-lint-marker-warning": {
            content: AL(
              '<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>'
            ),
          },
          ".cm-lint-marker-error:before": {
            content: AL(
              '<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>'
            ),
          },
        });
      function zL() {
        return [IL, FL, RL, BL];
      }
      var HL = 2e3;
      function VL(e, t) {
        var n = e.posAtCoords({ x: t.clientX, y: t.clientY }, !1),
          i = e.state.doc.lineAt(n),
          r = n - i.from,
          o =
            r > HL
              ? -1
              : r == i.length
              ? (function (e, t) {
                  var n = e.coordsAtPos(e.viewport.from);
                  return n
                    ? Math.round(
                        Math.abs((n.left - t) / e.defaultCharacterWidth)
                      )
                    : -1;
                })(e, t.clientX)
              : Pi(i.text, e.state.tabSize, n - i.from);
        return { line: i.number, col: o, off: r };
      }
      function qL(e, t) {
        var n = VL(e, t),
          i = e.state.selection;
        return n
          ? {
              update: function (e) {
                if (e.docChanged) {
                  var t = e.changes.mapPos(e.startState.doc.line(n.line).from),
                    r = e.state.doc.lineAt(t);
                  (n = {
                    line: r.number,
                    col: n.col,
                    off: Math.min(n.off, r.length),
                  }),
                    (i = i.map(e.changes));
                }
              },
              get: function (t, r, o) {
                var s = VL(e, t);
                if (!s) return i;
                var a = (function (e, t, n) {
                  var i = Math.min(t.line, n.line),
                    r = Math.max(t.line, n.line),
                    o = [];
                  if (t.off > HL || n.off > HL || t.col < 0 || n.col < 0)
                    for (
                      var s = Math.min(t.off, n.off),
                        a = Math.max(t.off, n.off),
                        l = i;
                      l <= r;
                      l++
                    )
                      (h = e.doc.line(l)).length <= a &&
                        o.push(Zi.range(h.from + s, h.to + a));
                  else {
                    var c = Math.min(t.col, n.col),
                      u = Math.max(t.col, n.col);
                    for (l = i; l <= r; l++) {
                      var h,
                        p = Oi((h = e.doc.line(l)).text, c, e.tabSize, !0);
                      if (p > -1) {
                        var d = Oi(h.text, u, e.tabSize);
                        o.push(Zi.range(h.from + p, h.from + d));
                      }
                    }
                  }
                  return o;
                })(e.state, n, s);
                return a.length
                  ? o
                    ? Zi.create(a.concat(i.ranges))
                    : Zi.create(a)
                  : i;
              },
            }
          : null;
      }
      function jL(e) {
        var t =
          (null == e ? void 0 : e.eventFilter) ||
          function (e) {
            return e.altKey && 0 == e.button;
          };
        return Zl.mouseSelectionStyle.of(function (e, n) {
          return t(n) ? qL(e, n) : null;
        });
      }
      var UL =
          "function" == typeof String.prototype.normalize
            ? function (e) {
                return e.normalize("NFKD");
              }
            : function (e) {
                return e;
              },
        WL = (function () {
          function e(e, t, n, i, r) {
            void 0 === n && (n = 0),
              void 0 === i && (i = e.length),
              (this.value = { from: 0, to: 0 }),
              (this.done = !1),
              (this.matches = []),
              (this.buffer = ""),
              (this.bufferPos = 0),
              (this.iter = e.iterRange(n, i)),
              (this.bufferStart = n),
              (this.normalize = r
                ? function (e) {
                    return r(UL(e));
                  }
                : UL),
              (this.query = this.normalize(t));
          }
          return (
            (e.prototype.peek = function () {
              if (this.bufferPos == this.buffer.length) {
                if (
                  ((this.bufferStart += this.buffer.length),
                  this.iter.next(),
                  this.iter.done)
                )
                  return -1;
                (this.bufferPos = 0), (this.buffer = this.iter.value);
              }
              return Ai(this.buffer, this.bufferPos);
            }),
            (e.prototype.next = function () {
              for (; this.matches.length; ) this.matches.pop();
              return this.nextOverlapping();
            }),
            (e.prototype.nextOverlapping = function () {
              for (;;) {
                var e = this.peek();
                if (e < 0) return (this.done = !0), this;
                var t = Di(e),
                  n = this.bufferStart + this.bufferPos;
                this.bufferPos += Ti(e);
                for (var i = this.normalize(t), r = 0, o = n; ; r++) {
                  var s = i.charCodeAt(r),
                    a = this.match(s, o);
                  if (a) return (this.value = a), this;
                  if (r == i.length - 1) break;
                  o == n && r < t.length && t.charCodeAt(r) == s && o++;
                }
              }
            }),
            (e.prototype.match = function (e, t) {
              for (var n = null, i = 0; i < this.matches.length; i += 2) {
                var r = this.matches[i],
                  o = !1;
                this.query.charCodeAt(r) == e &&
                  (r == this.query.length - 1
                    ? (n = { from: this.matches[i + 1], to: t + 1 })
                    : (this.matches[i]++, (o = !0))),
                  o || (this.matches.splice(i, 2), (i -= 2));
              }
              return (
                this.query.charCodeAt(0) == e &&
                  (1 == this.query.length
                    ? (n = { from: t, to: t + 1 })
                    : this.matches.push(1, t)),
                n
              );
            }),
            e
          );
        })();
      "undefined" != typeof Symbol &&
        (WL.prototype[Symbol.iterator] = function () {
          return this;
        });
      var _L = { from: -1, to: -1, match: /.*/.exec("") },
        GL = "gm" + (null == /x/.unicode ? "" : "u"),
        KL = (function () {
          function e(e, t, n, i, r) {
            if (
              (void 0 === i && (i = 0),
              void 0 === r && (r = e.length),
              (this.to = r),
              (this.curLine = ""),
              (this.done = !1),
              (this.value = _L),
              /\\[sWDnr]|\n|\r|\[\^/.test(t))
            )
              return new JL(e, t, n, i, r);
            (this.re = new RegExp(
              t,
              GL + ((null == n ? void 0 : n.ignoreCase) ? "i" : "")
            )),
              (this.iter = e.iter());
            var o = e.lineAt(i);
            (this.curLineStart = o.from),
              (this.matchPos = i),
              this.getLine(this.curLineStart);
          }
          return (
            (e.prototype.getLine = function (e) {
              this.iter.next(e),
                this.iter.lineBreak
                  ? (this.curLine = "")
                  : ((this.curLine = this.iter.value),
                    this.curLineStart + this.curLine.length > this.to &&
                      (this.curLine = this.curLine.slice(
                        0,
                        this.to - this.curLineStart
                      )),
                    this.iter.next());
            }),
            (e.prototype.nextLine = function () {
              (this.curLineStart = this.curLineStart + this.curLine.length + 1),
                this.curLineStart > this.to
                  ? (this.curLine = "")
                  : this.getLine(0);
            }),
            (e.prototype.next = function () {
              for (var e = this.matchPos - this.curLineStart; ; ) {
                this.re.lastIndex = e;
                var t = this.matchPos <= this.to && this.re.exec(this.curLine);
                if (t) {
                  var n = this.curLineStart + t.index,
                    i = n + t[0].length;
                  if (
                    ((this.matchPos = i + (n == i ? 1 : 0)),
                    n == this.curLine.length && this.nextLine(),
                    n < i || n > this.value.to)
                  )
                    return (this.value = { from: n, to: i, match: t }), this;
                  e = this.matchPos - this.curLineStart;
                } else {
                  if (!(this.curLineStart + this.curLine.length < this.to))
                    return (this.done = !0), this;
                  this.nextLine(), (e = 0);
                }
              }
            }),
            e
          );
        })(),
        $L = new WeakMap(),
        YL = (function () {
          function e(e, t) {
            (this.from = e), (this.text = t);
          }
          return (
            Object.defineProperty(e.prototype, "to", {
              get: function () {
                return this.from + this.text.length;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.get = function (t, n, i) {
              var r = $L.get(t);
              if (!r || r.from >= i || r.to <= n) {
                var o = new e(n, t.sliceString(n, i));
                return $L.set(t, o), o;
              }
              if (r.from == n && r.to == i) return r;
              var s = r.text,
                a = r.from;
              return (
                a > n && ((s = t.sliceString(n, a) + s), (a = n)),
                r.to < i && (s += t.sliceString(r.to, i)),
                $L.set(t, new e(a, s)),
                new e(n, s.slice(n - a, i - a))
              );
            }),
            e
          );
        })(),
        JL = (function () {
          function e(e, t, n, i, r) {
            (this.text = e),
              (this.to = r),
              (this.done = !1),
              (this.value = _L),
              (this.matchPos = i),
              (this.re = new RegExp(
                t,
                GL + ((null == n ? void 0 : n.ignoreCase) ? "i" : "")
              )),
              (this.flat = YL.get(e, i, this.chunkEnd(i + 5e3)));
          }
          return (
            (e.prototype.chunkEnd = function (e) {
              return e >= this.to ? this.to : this.text.lineAt(e).to;
            }),
            (e.prototype.next = function () {
              for (;;) {
                var e = (this.re.lastIndex = this.matchPos - this.flat.from),
                  t = this.re.exec(this.flat.text);
                if (
                  (t &&
                    !t[0] &&
                    t.index == e &&
                    ((this.re.lastIndex = e + 1),
                    (t = this.re.exec(this.flat.text))),
                  t &&
                    this.flat.to < this.to &&
                    t.index + t[0].length > this.flat.text.length - 10 &&
                    (t = null),
                  t)
                ) {
                  var n = this.flat.from + t.index,
                    i = n + t[0].length;
                  return (
                    (this.value = { from: n, to: i, match: t }),
                    (this.matchPos = i + (n == i ? 1 : 0)),
                    this
                  );
                }
                if (this.flat.to == this.to) return (this.done = !0), this;
                this.flat = YL.get(
                  this.text,
                  this.flat.from,
                  this.chunkEnd(this.flat.from + 2 * this.flat.text.length)
                );
              }
            }),
            e
          );
        })();
      function QL(e) {
        var t = eL("input", { class: "cm-textfield", name: "line" });
        function n() {
          var n = /^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);
          if (n) {
            var i = e.state,
              r = i.doc.lineAt(i.selection.main.head),
              o = n[1],
              s = n[2],
              a = n[3],
              l = n[4],
              c = a ? +a.slice(1) : 0,
              u = s ? +s : r.number;
            if (s && l) {
              var h = u / 100;
              o && (h = h * ("-" == o ? -1 : 1) + r.number / i.doc.lines),
                (u = Math.round(i.doc.lines * h));
            } else s && o && (u = u * ("-" == o ? -1 : 1) + r.number);
            var p = i.doc.line(Math.max(1, Math.min(i.doc.lines, u)));
            e.dispatch({
              effects: XL.of(!1),
              selection: Zi.cursor(p.from + Math.max(0, Math.min(c, p.length))),
              scrollIntoView: !0,
            }),
              e.focus();
          }
        }
        return {
          dom: eL(
            "form",
            {
              class: "cm-gotoLine",
              onkeydown: function (t) {
                27 == t.keyCode
                  ? (t.preventDefault(),
                    e.dispatch({ effects: XL.of(!1) }),
                    e.focus())
                  : 13 == t.keyCode && (t.preventDefault(), n());
              },
              onsubmit: function (e) {
                e.preventDefault(), n();
              },
            },
            eL("label", e.state.phrase("Go to line"), ": ", t),
            " ",
            eL(
              "button",
              { class: "cm-button", type: "submit" },
              e.state.phrase("go")
            )
          ),
          pos: -10,
        };
      }
      "undefined" != typeof Symbol &&
        (KL.prototype[Symbol.iterator] = JL.prototype[Symbol.iterator] =
          function () {
            return this;
          });
      var XL = Or.define(),
        ZL = lr.define({
          create: function () {
            return !0;
          },
          update: function (e, t) {
            for (var n = 0, i = t.effects; n < i.length; n++) {
              var r = i[n];
              r.is(XL) && (e = r.value);
            }
            return e;
          },
          provide: function (e) {
            return ZM.from(e, function (e) {
              return e ? QL : null;
            });
          },
        }),
        eA = function (e) {
          var t = $M(e, QL);
          if (!t) {
            var n = [XL.of(!0)];
            null == e.state.field(ZL, !1) &&
              n.push(Or.appendConfig.of([ZL, tA])),
              e.dispatch({ effects: n }),
              (t = $M(e, QL));
          }
          return t && t.dom.querySelector("input").focus(), !0;
        },
        tA = Zl.baseTheme({
          ".cm-panel.cm-gotoLine": {
            padding: "2px 6px 4px",
            "& label": { fontSize: "80%" },
          },
        }),
        nA = {
          highlightWordAroundCursor: !1,
          minSelectionLength: 1,
          maxMatches: 100,
        },
        iA = ir.define({
          combine: function (e) {
            return _r(e, nA, {
              highlightWordAroundCursor: function (e, t) {
                return e || t;
              },
              minSelectionLength: Math.min,
              maxMatches: Math.min,
            });
          },
        });
      function rA(e) {
        var t = [lA, aA];
        return e && t.push(iA.of(e)), t;
      }
      var oA = xs.mark({ class: "cm-selectionMatch" }),
        sA = xs.mark({ class: "cm-selectionMatch cm-selectionMatch-main" }),
        aA = Qs.fromClass(
          (function () {
            function e(e) {
              this.decorations = this.getDeco(e);
            }
            return (
              (e.prototype.update = function (e) {
                (e.selectionSet || e.docChanged || e.viewportChanged) &&
                  (this.decorations = this.getDeco(e.view));
              }),
              (e.prototype.getDeco = function (e) {
                var t = e.state.facet(iA),
                  n = e.state,
                  i = n.selection;
                if (i.ranges.length > 1) return xs.none;
                var r,
                  o = i.main,
                  s = null;
                if (o.empty) {
                  if (!t.highlightWordAroundCursor) return xs.none;
                  var a = n.wordAt(o.head);
                  if (!a) return xs.none;
                  (s = n.charCategorizer(o.head)),
                    (r = n.sliceDoc(a.from, a.to));
                } else {
                  var l = o.to - o.from;
                  if (l < t.minSelectionLength || l > 200) return xs.none;
                  if (!(r = n.sliceDoc(o.from, o.to).trim())) return xs.none;
                }
                for (var c = [], u = 0, h = e.visibleRanges; u < h.length; u++)
                  for (
                    var p = h[u], d = new WL(n.doc, r, p.from, p.to);
                    !d.next().done;

                  ) {
                    var f = d.value,
                      g = f.from,
                      m = f.to;
                    if (
                      (!s ||
                        ((0 == g || s(n.sliceDoc(g - 1, g)) != qr.Word) &&
                          (m == n.doc.length ||
                            s(n.sliceDoc(m, m + 1)) != qr.Word))) &&
                      (s && g <= o.from && m >= o.to
                        ? c.push(sA.range(g, m))
                        : (g >= o.to || m <= o.from) && c.push(oA.range(g, m)),
                      c.length > t.maxMatches)
                    )
                      return xs.none;
                  }
                return xs.set(c);
              }),
              e
            );
          })(),
          {
            decorations: function (e) {
              return e.decorations;
            },
          }
        ),
        lA = Zl.baseTheme({
          ".cm-selectionMatch": { backgroundColor: "#99ff7780" },
          ".cm-searchMatch .cm-selectionMatch": {
            backgroundColor: "transparent",
          },
        });
      var cA = function (e) {
          var t = e.state,
            n = e.dispatch,
            i = t.selection.ranges;
          if (
            i.some(function (e) {
              return e.from === e.to;
            })
          )
            return (function (e) {
              var t = e.state,
                n = e.dispatch,
                i = t.selection,
                r = Zi.create(
                  i.ranges.map(function (e) {
                    return t.wordAt(e.head) || Zi.cursor(e.head);
                  }),
                  i.mainIndex
                );
              return !r.eq(i) && (n(t.update({ selection: r })), !0);
            })({ state: t, dispatch: n });
          var r = t.sliceDoc(i[0].from, i[0].to);
          if (
            t.selection.ranges.some(function (e) {
              return t.sliceDoc(e.from, e.to) != r;
            })
          )
            return !1;
          var o = (function (e, t) {
            for (
              var n,
                i,
                r = e.selection,
                o = r.main,
                s = r.ranges,
                a = e.wordAt(o.head),
                l = a && a.from == o.from && a.to == o.to,
                c = function (r, o) {
                  if ((o.next(), !o.done)) {
                    if (
                      r &&
                      s.some(function (e) {
                        return e.from == o.value.from;
                      })
                    )
                      return (n = r), (i = o), "continue";
                    if (l) {
                      var a = e.wordAt(o.value.from);
                      if (!a || a.from != o.value.from || a.to != o.value.to)
                        return (n = r), (i = o), "continue";
                    }
                    return { value: o.value };
                  }
                  if (r) return { value: null };
                  (o = new WL(
                    e.doc,
                    t,
                    0,
                    Math.max(0, s[s.length - 1].from - 1)
                  )),
                    (n = r = !0),
                    (i = o);
                },
                u = !1,
                h = new WL(e.doc, t, s[s.length - 1].to);
              ;

            ) {
              var p = c(u, h);
              if (((u = n), (h = i), "object" == typeof p)) return p.value;
            }
          })(t, r);
          return (
            !!o &&
            (n(
              t.update({
                selection: t.selection.addRange(Zi.range(o.from, o.to), !1),
                effects: Zl.scrollIntoView(o.to),
              })
            ),
            !0)
          );
        },
        uA = ir.define({
          combine: function (e) {
            var t;
            return {
              top:
                e.reduce(function (e, t) {
                  return null != e ? e : t.top;
                }, void 0) || !1,
              caseSensitive:
                e.reduce(function (e, t) {
                  return null != e ? e : t.caseSensitive || t.matchCase;
                }, void 0) || !1,
              createPanel:
                (null ===
                  (t = e.find(function (e) {
                    return e.createPanel;
                  })) || void 0 === t
                  ? void 0
                  : t.createPanel) ||
                function (e) {
                  return new RA(e);
                },
            };
          },
        });
      function hA(e) {
        return e ? [uA.of(e), UA] : UA;
      }
      var pA = hA,
        dA = (function () {
          function e(e) {
            (this.search = e.search),
              (this.caseSensitive = !!e.caseSensitive),
              (this.regexp = !!e.regexp),
              (this.replace = e.replace || ""),
              (this.valid =
                !!this.search &&
                (!this.regexp ||
                  (function (e) {
                    try {
                      return new RegExp(e, GL), !0;
                    } catch (e) {
                      return !1;
                    }
                  })(this.search)));
          }
          return (
            (e.prototype.eq = function (e) {
              return (
                this.search == e.search &&
                this.replace == e.replace &&
                this.caseSensitive == e.caseSensitive &&
                this.regexp == e.regexp
              );
            }),
            (e.prototype.create = function () {
              return this.regexp ? new mA(this) : new gA(this);
            }),
            e
          );
        })(),
        fA = function (e) {
          this.spec = e;
        },
        gA = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.unquoted = t.search.replace(/\\([nrt\\])/g, function (e, t) {
                return "n" == t
                  ? "\n"
                  : "r" == t
                  ? "\r"
                  : "t" == t
                  ? "\t"
                  : "\\";
              })),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.cursor = function (e, t, n) {
              return (
                void 0 === t && (t = 0),
                void 0 === n && (n = e.length),
                new WL(
                  e,
                  this.unquoted,
                  t,
                  n,
                  this.spec.caseSensitive
                    ? void 0
                    : function (e) {
                        return e.toLowerCase();
                      }
                )
              );
            }),
            (t.prototype.nextMatch = function (e, t, n) {
              var i = this.cursor(e, n).nextOverlapping();
              return (
                i.done && (i = this.cursor(e, 0, t).nextOverlapping()),
                i.done ? null : i.value
              );
            }),
            (t.prototype.prevMatchInRange = function (e, t, n) {
              for (var i = n; ; ) {
                for (
                  var r = Math.max(t, i - 1e4 - this.unquoted.length),
                    o = this.cursor(e, r, i),
                    s = null;
                  !o.nextOverlapping().done;

                )
                  s = o.value;
                if (s) return s;
                if (r == t) return null;
                i -= 1e4;
              }
            }),
            (t.prototype.prevMatch = function (e, t, n) {
              return (
                this.prevMatchInRange(e, 0, t) ||
                this.prevMatchInRange(e, n, e.length)
              );
            }),
            (t.prototype.getReplacement = function (e) {
              return this.spec.replace;
            }),
            (t.prototype.matchAll = function (e, t) {
              for (var n = this.cursor(e), i = []; !n.next().done; ) {
                if (i.length >= t) return null;
                i.push(n.value);
              }
              return i;
            }),
            (t.prototype.highlight = function (e, t, n, i) {
              for (
                var r = this.cursor(
                  e,
                  Math.max(0, t - this.unquoted.length),
                  Math.min(n + this.unquoted.length, e.length)
                );
                !r.next().done;

              )
                i(r.value.from, r.value.to);
            }),
            t
          );
        })(fA),
        mA = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.cursor = function (e, t, n) {
              return (
                void 0 === t && (t = 0),
                void 0 === n && (n = e.length),
                new KL(
                  e,
                  this.spec.search,
                  this.spec.caseSensitive ? void 0 : { ignoreCase: !0 },
                  t,
                  n
                )
              );
            }),
            (t.prototype.nextMatch = function (e, t, n) {
              var i = this.cursor(e, n).next();
              return (
                i.done && (i = this.cursor(e, 0, t).next()),
                i.done ? null : i.value
              );
            }),
            (t.prototype.prevMatchInRange = function (e, t, n) {
              for (var i = 1; ; i++) {
                for (
                  var r = Math.max(t, n - 1e4 * i),
                    o = this.cursor(e, r, n),
                    s = null;
                  !o.next().done;

                )
                  s = o.value;
                if (s && (r == t || s.from > r + 10)) return s;
                if (r == t) return null;
              }
            }),
            (t.prototype.prevMatch = function (e, t, n) {
              return (
                this.prevMatchInRange(e, 0, t) ||
                this.prevMatchInRange(e, n, e.length)
              );
            }),
            (t.prototype.getReplacement = function (e) {
              return this.spec.replace.replace(/\$([$&\d+])/g, function (t, n) {
                return "$" == n
                  ? "$"
                  : "&" == n
                  ? e.match[0]
                  : "0" != n && +n < e.match.length
                  ? e.match[n]
                  : t;
              });
            }),
            (t.prototype.matchAll = function (e, t) {
              for (var n = this.cursor(e), i = []; !n.next().done; ) {
                if (i.length >= t) return null;
                i.push(n.value);
              }
              return i;
            }),
            (t.prototype.highlight = function (e, t, n, i) {
              for (
                var r = this.cursor(
                  e,
                  Math.max(0, t - 250),
                  Math.min(n + 250, e.length)
                );
                !r.next().done;

              )
                i(r.value.from, r.value.to);
            }),
            t
          );
        })(fA),
        vA = Or.define(),
        yA = Or.define(),
        bA = lr.define({
          create: function (e) {
            return new kA(FA(e).create(), null);
          },
          update: function (e, t) {
            for (var n = 0, i = t.effects; n < i.length; n++) {
              var r = i[n];
              r.is(vA)
                ? (e = new kA(r.value.create(), e.panel))
                : r.is(yA) && (e = new kA(e.query, r.value ? OA : null));
            }
            return e;
          },
          provide: function (e) {
            return ZM.from(e, function (e) {
              return e.panel;
            });
          },
        });
      function wA(e) {
        var t = e.field(bA, !1);
        return t ? t.query.spec : FA(e);
      }
      var kA = function (e, t) {
          (this.query = e), (this.panel = t);
        },
        CA = xs.mark({ class: "cm-searchMatch" }),
        xA = xs.mark({ class: "cm-searchMatch cm-searchMatch-selected" }),
        SA = Qs.fromClass(
          (function () {
            function e(e) {
              (this.view = e),
                (this.decorations = this.highlight(e.state.field(bA)));
            }
            return (
              (e.prototype.update = function (e) {
                var t = e.state.field(bA);
                (t != e.startState.field(bA) ||
                  e.docChanged ||
                  e.selectionSet) &&
                  (this.decorations = this.highlight(t));
              }),
              (e.prototype.highlight = function (e) {
                var t = e.query;
                if (!e.panel || !t.spec.valid) return xs.none;
                for (
                  var n = this.view,
                    i = new io(),
                    r = 0,
                    o = n.visibleRanges,
                    s = o.length;
                  r < s;
                  r++
                ) {
                  for (
                    var a = o[r], l = a.from, c = a.to;
                    r < s - 1 && c > o[r + 1].from - 500;

                  )
                    c = o[++r].to;
                  t.highlight(n.state.doc, l, c, function (e, t) {
                    var r = n.state.selection.ranges.some(function (n) {
                      return n.from == e && n.to == t;
                    });
                    i.add(e, t, r ? xA : CA);
                  });
                }
                return i.finish();
              }),
              e
            );
          })(),
          {
            decorations: function (e) {
              return e.decorations;
            },
          }
        );
      function EA(e) {
        return function (t) {
          var n = t.state.field(bA, !1);
          return n && n.query.spec.valid ? e(t, n) : IA(t);
        };
      }
      var MA = EA(function (e, t) {
          var n = t.query,
            i = e.state.selection.main,
            r = i.from,
            o = i.to,
            s = n.nextMatch(e.state.doc, r, o);
          return (
            !(!s || (s.from == r && s.to == o)) &&
            (e.dispatch({
              selection: { anchor: s.from, head: s.to },
              scrollIntoView: !0,
              effects: VA(e, s),
              userEvent: "select.search",
            }),
            !0)
          );
        }),
        LA = EA(function (e, t) {
          var n = t.query,
            i = e.state,
            r = i.selection.main,
            o = r.from,
            s = r.to,
            a = n.prevMatch(i.doc, o, s);
          return (
            !!a &&
            (e.dispatch({
              selection: { anchor: a.from, head: a.to },
              scrollIntoView: !0,
              effects: VA(e, a),
              userEvent: "select.search",
            }),
            !0)
          );
        }),
        AA = EA(function (e, t) {
          var n = t.query.matchAll(e.state.doc, 1e3);
          return (
            !(!n || !n.length) &&
            (e.dispatch({
              selection: Zi.create(
                n.map(function (e) {
                  return Zi.range(e.from, e.to);
                })
              ),
              userEvent: "select.search.matches",
            }),
            !0)
          );
        }),
        DA = function (e) {
          var t = e.state,
            n = e.dispatch,
            i = t.selection;
          if (i.ranges.length > 1 || i.main.empty) return !1;
          for (
            var r = i.main,
              o = r.from,
              s = r.to,
              a = [],
              l = 0,
              c = new WL(t.doc, t.sliceDoc(o, s));
            !c.next().done;

          ) {
            if (a.length > 1e3) return !1;
            c.value.from == o && (l = a.length),
              a.push(Zi.range(c.value.from, c.value.to));
          }
          return (
            n(
              t.update({
                selection: Zi.create(a, l),
                userEvent: "select.search.matches",
              })
            ),
            !0
          );
        },
        TA = EA(function (e, t) {
          var n = t.query,
            i = e.state,
            r = i.selection.main,
            o = r.from,
            s = r.to;
          if (i.readOnly) return !1;
          var a = n.nextMatch(i.doc, o, o);
          if (!a) return !1;
          var l,
            c,
            u = [];
          if (
            (a.from == o &&
              a.to == s &&
              ((c = i.toText(n.getReplacement(a))),
              u.push({ from: a.from, to: a.to, insert: c }),
              (a = n.nextMatch(i.doc, a.from, a.to))),
            a)
          ) {
            var h =
              0 == u.length || u[0].from >= a.to ? 0 : a.to - a.from - c.length;
            l = { anchor: a.from - h, head: a.to - h };
          }
          return (
            e.dispatch({
              changes: u,
              selection: l,
              scrollIntoView: !!l,
              effects: a ? VA(e, a) : void 0,
              userEvent: "input.replace",
            }),
            !0
          );
        }),
        PA = EA(function (e, t) {
          var n = t.query;
          if (e.state.readOnly) return !1;
          var i = n.matchAll(e.state.doc, 1e9).map(function (e) {
            return { from: e.from, to: e.to, insert: n.getReplacement(e) };
          });
          return (
            !!i.length &&
            (e.dispatch({ changes: i, userEvent: "input.replace.all" }), !0)
          );
        });
      function OA(e) {
        return e.state.facet(uA).createPanel(e);
      }
      function FA(e, t) {
        var n,
          i = e.selection.main,
          r = i.empty || i.to > i.from + 100 ? "" : e.sliceDoc(i.from, i.to),
          o =
            null !== (n = null == t ? void 0 : t.caseSensitive) && void 0 !== n
              ? n
              : e.facet(uA).caseSensitive;
        return t && !r
          ? t
          : new dA({ search: r.replace(/\n/g, "\\n"), caseSensitive: o });
      }
      var IA = function (e) {
          var t = e.state.field(bA, !1);
          if (t && t.panel) {
            var n = $M(e, OA);
            if (!n) return !1;
            var i = n.dom.querySelector("[name=search]");
            if (i != e.root.activeElement) {
              var r = FA(e.state, t.query.spec);
              r.valid && e.dispatch({ effects: vA.of(r) }),
                i.focus(),
                i.select();
            }
          } else
            e.dispatch({
              effects: [
                yA.of(!0),
                t ? vA.of(FA(e.state, t.query.spec)) : Or.appendConfig.of(UA),
              ],
            });
          return !0;
        },
        NA = function (e) {
          var t = e.state.field(bA, !1);
          if (!t || !t.panel) return !1;
          var n = $M(e, OA);
          return (
            n && n.dom.contains(e.root.activeElement) && e.focus(),
            e.dispatch({ effects: yA.of(!1) }),
            !0
          );
        },
        BA = [
          { key: "Mod-f", run: IA, scope: "editor search-panel" },
          {
            key: "F3",
            run: MA,
            shift: LA,
            scope: "editor search-panel",
            preventDefault: !0,
          },
          {
            key: "Mod-g",
            run: MA,
            shift: LA,
            scope: "editor search-panel",
            preventDefault: !0,
          },
          { key: "Escape", run: NA, scope: "editor search-panel" },
          { key: "Mod-Shift-l", run: DA },
          { key: "Alt-g", run: eA },
          { key: "Mod-d", run: cA, preventDefault: !0 },
        ],
        RA = (function () {
          function e(e) {
            var t = this;
            this.view = e;
            var n = (this.query = e.state.field(bA).query.spec);
            function i(e, t, n) {
              return eL(
                "button",
                { class: "cm-button", name: e, onclick: t, type: "button" },
                n
              );
            }
            (this.commit = this.commit.bind(this)),
              (this.searchField = eL("input", {
                value: n.search,
                placeholder: zA(e, "Find"),
                "aria-label": zA(e, "Find"),
                class: "cm-textfield",
                name: "search",
                onchange: this.commit,
                onkeyup: this.commit,
              })),
              (this.replaceField = eL("input", {
                value: n.replace,
                placeholder: zA(e, "Replace"),
                "aria-label": zA(e, "Replace"),
                class: "cm-textfield",
                name: "replace",
                onchange: this.commit,
                onkeyup: this.commit,
              })),
              (this.caseField = eL("input", {
                type: "checkbox",
                name: "case",
                checked: n.caseSensitive,
                onchange: this.commit,
              })),
              (this.reField = eL("input", {
                type: "checkbox",
                name: "re",
                checked: n.regexp,
                onchange: this.commit,
              })),
              (this.dom = eL(
                "div",
                {
                  onkeydown: function (e) {
                    return t.keydown(e);
                  },
                  class: "cm-search",
                },
                P(
                  [
                    this.searchField,
                    i(
                      "next",
                      function () {
                        return MA(e);
                      },
                      [zA(e, "next")]
                    ),
                    i(
                      "prev",
                      function () {
                        return LA(e);
                      },
                      [zA(e, "previous")]
                    ),
                    i(
                      "select",
                      function () {
                        return AA(e);
                      },
                      [zA(e, "all")]
                    ),
                    eL("label", null, [this.caseField, zA(e, "match case")]),
                    eL("label", null, [this.reField, zA(e, "regexp")]),
                  ],
                  e.state.readOnly
                    ? []
                    : [
                        eL("br"),
                        this.replaceField,
                        i(
                          "replace",
                          function () {
                            return TA(e);
                          },
                          [zA(e, "replace")]
                        ),
                        i(
                          "replaceAll",
                          function () {
                            return PA(e);
                          },
                          [zA(e, "replace all")]
                        ),
                        eL(
                          "button",
                          {
                            name: "close",
                            onclick: function () {
                              return NA(e);
                            },
                            "aria-label": zA(e, "close"),
                            type: "button",
                          },
                          ["×"]
                        ),
                      ]
                )
              ));
          }
          return (
            (e.prototype.commit = function () {
              var e = new dA({
                search: this.searchField.value,
                caseSensitive: this.caseField.checked,
                regexp: this.reField.checked,
                replace: this.replaceField.value,
              });
              e.eq(this.query) ||
                ((this.query = e), this.view.dispatch({ effects: vA.of(e) }));
            }),
            (e.prototype.keydown = function (e) {
              hc(this.view, e, "search-panel")
                ? e.preventDefault()
                : 13 == e.keyCode && e.target == this.searchField
                ? (e.preventDefault(), (e.shiftKey ? LA : MA)(this.view))
                : 13 == e.keyCode &&
                  e.target == this.replaceField &&
                  (e.preventDefault(), TA(this.view));
            }),
            (e.prototype.update = function (e) {
              for (var t = 0, n = e.transactions; t < n.length; t++)
                for (var i = 0, r = n[t].effects; i < r.length; i++) {
                  var o = r[i];
                  o.is(vA) && !o.value.eq(this.query) && this.setQuery(o.value);
                }
            }),
            (e.prototype.setQuery = function (e) {
              (this.query = e),
                (this.searchField.value = e.search),
                (this.replaceField.value = e.replace),
                (this.caseField.checked = e.caseSensitive),
                (this.reField.checked = e.regexp);
            }),
            (e.prototype.mount = function () {
              this.searchField.select();
            }),
            Object.defineProperty(e.prototype, "pos", {
              get: function () {
                return 80;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "top", {
              get: function () {
                return this.view.state.facet(uA).top;
              },
              enumerable: !1,
              configurable: !0,
            }),
            e
          );
        })();
      function zA(e, t) {
        return e.state.phrase(t);
      }
      var HA = /[\s\.,:;?!]/;
      function VA(e, t) {
        var n = t.from,
          i = t.to,
          r = e.state.doc.lineAt(n).from,
          o = e.state.doc.lineAt(i).to,
          s = Math.max(r, n - 30),
          a = Math.min(o, i + 30),
          l = e.state.sliceDoc(s, a);
        if (s != r)
          for (var c = 0; c < 30; c++)
            if (!HA.test(l[c + 1]) && HA.test(l[c])) {
              l = l.slice(c);
              break;
            }
        if (a != o)
          for (c = l.length - 1; c > l.length - 30; c--)
            if (!HA.test(l[c - 1]) && HA.test(l[c])) {
              l = l.slice(0, c);
              break;
            }
        return Zl.announce.of(
          e.state.phrase("current match") +
            ". " +
            l +
            " " +
            e.state.phrase("on line") +
            " " +
            e.state.doc.lineAt(n).number
        );
      }
      var qA,
        jA = Zl.baseTheme({
          ".cm-panel.cm-search": {
            padding: "2px 6px 4px",
            position: "relative",
            "& [name=close]": {
              position: "absolute",
              top: "0",
              right: "4px",
              backgroundColor: "inherit",
              border: "none",
              font: "inherit",
              padding: 0,
              margin: 0,
            },
            "& input, & button, & label": { margin: ".2em .6em .2em 0" },
            "& input[type=checkbox]": { marginRight: ".2em" },
            "& label": { fontSize: "80%", whiteSpace: "pre" },
          },
          "&light .cm-searchMatch": { backgroundColor: "#ffff0054" },
          "&dark .cm-searchMatch": { backgroundColor: "#00ffff8a" },
          "&light .cm-searchMatch-selected": { backgroundColor: "#ff6a0054" },
          "&dark .cm-searchMatch-selected": { backgroundColor: "#ff00ff8a" },
        }),
        UA = [bA, gr.lowest(SA), jA],
        WA = (function () {
          function e(e, t, n, i, r, o, s, a, l, c, u) {
            void 0 === c && (c = 0),
              (this.p = e),
              (this.stack = t),
              (this.state = n),
              (this.reducePos = i),
              (this.pos = r),
              (this.score = o),
              (this.buffer = s),
              (this.bufferBase = a),
              (this.curContext = l),
              (this.lookAhead = c),
              (this.parent = u);
          }
          return (
            (e.prototype.toString = function () {
              return (
                "[" +
                this.stack
                  .filter(function (e, t) {
                    return t % 3 == 0;
                  })
                  .concat(this.state) +
                "]@" +
                this.pos +
                (this.score ? "!" + this.score : "")
              );
            }),
            (e.start = function (t, n, i) {
              void 0 === i && (i = 0);
              var r = t.parser.context;
              return new e(
                t,
                [],
                n,
                i,
                i,
                0,
                [],
                0,
                r ? new _A(r, r.start) : null,
                0,
                null
              );
            }),
            Object.defineProperty(e.prototype, "context", {
              get: function () {
                return this.curContext ? this.curContext.context : null;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.pushState = function (e, t) {
              this.stack.push(
                this.state,
                t,
                this.bufferBase + this.buffer.length
              ),
                (this.state = e);
            }),
            (e.prototype.reduce = function (e) {
              var t = e >> 19,
                n = 65535 & e,
                i = this.p.parser,
                r = i.dynamicPrecedence(n);
              if ((r && (this.score += r), 0 == t))
                return (
                  n < i.minRepeatTerm &&
                    this.storeNode(n, this.reducePos, this.reducePos, 4, !0),
                  this.pushState(i.getGoto(this.state, n, !0), this.reducePos),
                  void this.reduceContext(n, this.reducePos)
                );
              var o = this.stack.length - 3 * (t - 1) - (262144 & e ? 6 : 0),
                s = this.stack[o - 2],
                a = this.stack[o - 1],
                l = this.bufferBase + this.buffer.length - a;
              if (n < i.minRepeatTerm || 131072 & e) {
                var c = i.stateFlag(this.state, 1) ? this.pos : this.reducePos;
                this.storeNode(n, s, c, l + 4, !0);
              }
              if (262144 & e) this.state = this.stack[o];
              else {
                var u = this.stack[o - 3];
                this.state = i.getGoto(u, n, !0);
              }
              for (; this.stack.length > o; ) this.stack.pop();
              this.reduceContext(n, s);
            }),
            (e.prototype.storeNode = function (e, t, n, i, r) {
              if ((void 0 === i && (i = 4), void 0 === r && (r = !1), 0 == e)) {
                var o = this,
                  s = this.buffer.length;
                if (
                  (0 == s &&
                    o.parent &&
                    ((s = o.bufferBase - o.parent.bufferBase), (o = o.parent)),
                  s > 0 && 0 == o.buffer[s - 4] && o.buffer[s - 1] > -1)
                ) {
                  if (t == n) return;
                  if (o.buffer[s - 2] >= t) return void (o.buffer[s - 2] = n);
                }
              }
              if (r && this.pos != n) {
                var a = this.buffer.length;
                if (a > 0 && 0 != this.buffer[a - 4])
                  for (; a > 0 && this.buffer[a - 2] > n; )
                    (this.buffer[a] = this.buffer[a - 4]),
                      (this.buffer[a + 1] = this.buffer[a - 3]),
                      (this.buffer[a + 2] = this.buffer[a - 2]),
                      (this.buffer[a + 3] = this.buffer[a - 1]),
                      (a -= 4),
                      i > 4 && (i -= 4);
                (this.buffer[a] = e),
                  (this.buffer[a + 1] = t),
                  (this.buffer[a + 2] = n),
                  (this.buffer[a + 3] = i);
              } else this.buffer.push(e, t, n, i);
            }),
            (e.prototype.shift = function (e, t, n) {
              var i = this.pos;
              if (131072 & e) this.pushState(65535 & e, this.pos);
              else if (0 == (262144 & e)) {
                var r = e,
                  o = this.p.parser;
                (n > this.pos || t <= o.maxNode) &&
                  ((this.pos = n), o.stateFlag(r, 1) || (this.reducePos = n)),
                  this.pushState(r, i),
                  this.shiftContext(t, i),
                  t <= o.maxNode && this.buffer.push(t, i, n, 4);
              } else
                (this.pos = n),
                  this.shiftContext(t, i),
                  t <= this.p.parser.maxNode && this.buffer.push(t, i, n, 4);
            }),
            (e.prototype.apply = function (e, t, n) {
              65536 & e ? this.reduce(e) : this.shift(e, t, n);
            }),
            (e.prototype.useNode = function (e, t) {
              var n = this.p.reused.length - 1;
              (n < 0 || this.p.reused[n] != e) && (this.p.reused.push(e), n++);
              var i = this.pos;
              (this.reducePos = this.pos = i + e.length),
                this.pushState(t, i),
                this.buffer.push(n, i, this.reducePos, -1),
                this.curContext &&
                  this.updateContext(
                    this.curContext.tracker.reuse(
                      this.curContext.context,
                      e,
                      this,
                      this.p.stream.reset(this.pos - e.length)
                    )
                  );
            }),
            (e.prototype.split = function () {
              for (
                var t = this, n = t.buffer.length;
                n > 0 && t.buffer[n - 2] > t.reducePos;

              )
                n -= 4;
              for (
                var i = t.buffer.slice(n), r = t.bufferBase + n;
                t && r == t.bufferBase;

              )
                t = t.parent;
              return new e(
                this.p,
                this.stack.slice(),
                this.state,
                this.reducePos,
                this.pos,
                this.score,
                i,
                r,
                this.curContext,
                this.lookAhead,
                t
              );
            }),
            (e.prototype.recoverByDelete = function (e, t) {
              var n = e <= this.p.parser.maxNode;
              n && this.storeNode(e, this.pos, t, 4),
                this.storeNode(0, this.pos, t, n ? 8 : 4),
                (this.pos = this.reducePos = t),
                (this.score -= 190);
            }),
            (e.prototype.canShift = function (e) {
              for (var t = new GA(this); ; ) {
                var n =
                  this.p.parser.stateSlot(t.state, 4) ||
                  this.p.parser.hasAction(t.state, e);
                if (0 == (65536 & n)) return !0;
                if (0 == n) return !1;
                t.reduce(n);
              }
            }),
            (e.prototype.recoverByInsert = function (e) {
              if (this.stack.length >= 300) return [];
              var t = this.p.parser.nextStates(this.state);
              if (t.length > 8 || this.stack.length >= 120) {
                for (var n = [], i = 0, r = void 0; i < t.length; i += 2)
                  (r = t[i + 1]) != this.state &&
                    this.p.parser.hasAction(r, e) &&
                    n.push(t[i], r);
                if (this.stack.length < 120) {
                  var o = function (e) {
                    var i = t[e + 1];
                    n.some(function (e, t) {
                      return 1 & t && e == i;
                    }) || n.push(t[e], i);
                  };
                  for (i = 0; n.length < 8 && i < t.length; i += 2) o(i);
                }
                t = n;
              }
              var s = [];
              for (i = 0; i < t.length && s.length < 4; i += 2) {
                if ((r = t[i + 1]) != this.state) {
                  var a = this.split();
                  a.storeNode(0, a.pos, a.pos, 4, !0),
                    a.pushState(r, this.pos),
                    a.shiftContext(t[i], this.pos),
                    (a.score -= 200),
                    s.push(a);
                }
              }
              return s;
            }),
            (e.prototype.forceReduce = function () {
              var e = this.p.parser.stateSlot(this.state, 5);
              if (0 == (65536 & e)) return !1;
              var t = this.p.parser;
              if (!t.validAction(this.state, e)) {
                var n = e >> 19,
                  i = 65535 & e,
                  r = this.stack.length - 3 * n;
                if (r < 0 || t.getGoto(this.stack[r], i, !1) < 0) return !1;
                this.storeNode(0, this.reducePos, this.reducePos, 4, !0),
                  (this.score -= 100);
              }
              return this.reduce(e), !0;
            }),
            (e.prototype.forceAll = function () {
              for (; !this.p.parser.stateFlag(this.state, 2); )
                if (!this.forceReduce()) {
                  this.storeNode(0, this.pos, this.pos, 4, !0);
                  break;
                }
              return this;
            }),
            Object.defineProperty(e.prototype, "deadEnd", {
              get: function () {
                if (3 != this.stack.length) return !1;
                var e = this.p.parser;
                return (
                  65535 == e.data[e.stateSlot(this.state, 1)] &&
                  !e.stateSlot(this.state, 4)
                );
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.restart = function () {
              (this.state = this.stack[0]), (this.stack.length = 0);
            }),
            (e.prototype.sameState = function (e) {
              if (this.state != e.state || this.stack.length != e.stack.length)
                return !1;
              for (var t = 0; t < this.stack.length; t += 3)
                if (this.stack[t] != e.stack[t]) return !1;
              return !0;
            }),
            Object.defineProperty(e.prototype, "parser", {
              get: function () {
                return this.p.parser;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.dialectEnabled = function (e) {
              return this.p.parser.dialect.flags[e];
            }),
            (e.prototype.shiftContext = function (e, t) {
              this.curContext &&
                this.updateContext(
                  this.curContext.tracker.shift(
                    this.curContext.context,
                    e,
                    this,
                    this.p.stream.reset(t)
                  )
                );
            }),
            (e.prototype.reduceContext = function (e, t) {
              this.curContext &&
                this.updateContext(
                  this.curContext.tracker.reduce(
                    this.curContext.context,
                    e,
                    this,
                    this.p.stream.reset(t)
                  )
                );
            }),
            (e.prototype.emitContext = function () {
              var e = this.buffer.length - 1;
              (e < 0 || -3 != this.buffer[e]) &&
                this.buffer.push(
                  this.curContext.hash,
                  this.reducePos,
                  this.reducePos,
                  -3
                );
            }),
            (e.prototype.emitLookAhead = function () {
              var e = this.buffer.length - 1;
              (e < 0 || -4 != this.buffer[e]) &&
                this.buffer.push(
                  this.lookAhead,
                  this.reducePos,
                  this.reducePos,
                  -4
                );
            }),
            (e.prototype.updateContext = function (e) {
              if (e != this.curContext.context) {
                var t = new _A(this.curContext.tracker, e);
                t.hash != this.curContext.hash && this.emitContext(),
                  (this.curContext = t);
              }
            }),
            (e.prototype.setLookAhead = function (e) {
              e > this.lookAhead &&
                (this.emitLookAhead(), (this.lookAhead = e));
            }),
            (e.prototype.close = function () {
              this.curContext &&
                this.curContext.tracker.strict &&
                this.emitContext(),
                this.lookAhead > 0 && this.emitLookAhead();
            }),
            e
          );
        })(),
        _A = function (e, t) {
          (this.tracker = e),
            (this.context = t),
            (this.hash = e.strict ? e.hash(t) : 0);
        };
      !(function (e) {
        (e[(e.Insert = 200)] = "Insert"),
          (e[(e.Delete = 190)] = "Delete"),
          (e[(e.Reduce = 100)] = "Reduce"),
          (e[(e.MaxNext = 4)] = "MaxNext"),
          (e[(e.MaxInsertStackDepth = 300)] = "MaxInsertStackDepth"),
          (e[(e.DampenInsertStackDepth = 120)] = "DampenInsertStackDepth");
      })(qA || (qA = {}));
      var GA = (function () {
          function e(e) {
            (this.start = e),
              (this.state = e.state),
              (this.stack = e.stack),
              (this.base = this.stack.length);
          }
          return (
            (e.prototype.reduce = function (e) {
              var t = 65535 & e,
                n = e >> 19;
              0 == n
                ? (this.stack == this.start.stack &&
                    (this.stack = this.stack.slice()),
                  this.stack.push(this.state, 0, 0),
                  (this.base += 3))
                : (this.base -= 3 * (n - 1));
              var i = this.start.p.parser.getGoto(
                this.stack[this.base - 3],
                t,
                !0
              );
              this.state = i;
            }),
            e
          );
        })(),
        KA = (function () {
          function e(e, t, n) {
            (this.stack = e),
              (this.pos = t),
              (this.index = n),
              (this.buffer = e.buffer),
              0 == this.index && this.maybeNext();
          }
          return (
            (e.create = function (t, n) {
              return (
                void 0 === n && (n = t.bufferBase + t.buffer.length),
                new e(t, n, n - t.bufferBase)
              );
            }),
            (e.prototype.maybeNext = function () {
              var e = this.stack.parent;
              null != e &&
                ((this.index = this.stack.bufferBase - e.bufferBase),
                (this.stack = e),
                (this.buffer = e.buffer));
            }),
            Object.defineProperty(e.prototype, "id", {
              get: function () {
                return this.buffer[this.index - 4];
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "start", {
              get: function () {
                return this.buffer[this.index - 3];
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "end", {
              get: function () {
                return this.buffer[this.index - 2];
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "size", {
              get: function () {
                return this.buffer[this.index - 1];
              },
              enumerable: !1,
              configurable: !0,
            }),
            (e.prototype.next = function () {
              (this.index -= 4),
                (this.pos -= 4),
                0 == this.index && this.maybeNext();
            }),
            (e.prototype.fork = function () {
              return new e(this.stack, this.pos, this.index);
            }),
            e
          );
        })(),
        $A = function () {
          (this.start = -1),
            (this.value = -1),
            (this.end = -1),
            (this.extended = -1),
            (this.lookAhead = 0),
            (this.mask = 0),
            (this.context = 0);
        },
        YA = new $A(),
        JA = (function () {
          function e(e, t) {
            (this.input = e),
              (this.ranges = t),
              (this.chunk = ""),
              (this.chunkOff = 0),
              (this.chunk2 = ""),
              (this.chunk2Pos = 0),
              (this.next = -1),
              (this.token = YA),
              (this.rangeIndex = 0),
              (this.pos = this.chunkPos = t[0].from),
              (this.range = t[0]),
              (this.end = t[t.length - 1].to),
              this.readNext();
          }
          return (
            (e.prototype.resolveOffset = function (e, t) {
              for (
                var n = this.range, i = this.rangeIndex, r = this.pos + e;
                r < n.from;

              ) {
                if (!i) return null;
                var o = this.ranges[--i];
                (r -= n.from - o.to), (n = o);
              }
              for (; t < 0 ? r > n.to : r >= n.to; ) {
                if (i == this.ranges.length - 1) return null;
                (r += (o = this.ranges[++i]).from - n.to), (n = o);
              }
              return r;
            }),
            (e.prototype.peek = function (e) {
              var t,
                n,
                i = this.chunkOff + e;
              if (i >= 0 && i < this.chunk.length)
                (t = this.pos + e), (n = this.chunk.charCodeAt(i));
              else {
                var r = this.resolveOffset(e, 1);
                if (null == r) return -1;
                if (
                  (t = r) >= this.chunk2Pos &&
                  t < this.chunk2Pos + this.chunk2.length
                )
                  n = this.chunk2.charCodeAt(t - this.chunk2Pos);
                else {
                  for (var o = this.rangeIndex, s = this.range; s.to <= t; )
                    s = this.ranges[++o];
                  (this.chunk2 = this.input.chunk((this.chunk2Pos = t))),
                    t + this.chunk2.length > s.to &&
                      (this.chunk2 = this.chunk2.slice(0, s.to - t)),
                    (n = this.chunk2.charCodeAt(0));
                }
              }
              return (
                t >= this.token.lookAhead && (this.token.lookAhead = t + 1), n
              );
            }),
            (e.prototype.acceptToken = function (e, t) {
              void 0 === t && (t = 0);
              var n = t ? this.resolveOffset(t, -1) : this.pos;
              if (null == n || n < this.token.start)
                throw new RangeError("Token end out of bounds");
              (this.token.value = e), (this.token.end = n);
            }),
            (e.prototype.getChunk = function () {
              if (
                this.pos >= this.chunk2Pos &&
                this.pos < this.chunk2Pos + this.chunk2.length
              ) {
                var e = this.chunk,
                  t = this.chunkPos;
                (this.chunk = this.chunk2),
                  (this.chunkPos = this.chunk2Pos),
                  (this.chunk2 = e),
                  (this.chunk2Pos = t),
                  (this.chunkOff = this.pos - this.chunkPos);
              } else {
                (this.chunk2 = this.chunk), (this.chunk2Pos = this.chunkPos);
                var n = this.input.chunk(this.pos),
                  i = this.pos + n.length;
                (this.chunk =
                  i > this.range.to ? n.slice(0, this.range.to - this.pos) : n),
                  (this.chunkPos = this.pos),
                  (this.chunkOff = 0);
              }
            }),
            (e.prototype.readNext = function () {
              return this.chunkOff >= this.chunk.length &&
                (this.getChunk(), this.chunkOff == this.chunk.length)
                ? (this.next = -1)
                : (this.next = this.chunk.charCodeAt(this.chunkOff));
            }),
            (e.prototype.advance = function (e) {
              for (
                void 0 === e && (e = 1), this.chunkOff += e;
                this.pos + e >= this.range.to;

              ) {
                if (this.rangeIndex == this.ranges.length - 1)
                  return this.setDone();
                (e -= this.range.to - this.pos),
                  (this.range = this.ranges[++this.rangeIndex]),
                  (this.pos = this.range.from);
              }
              return (
                (this.pos += e),
                this.pos >= this.token.lookAhead &&
                  (this.token.lookAhead = this.pos + 1),
                this.readNext()
              );
            }),
            (e.prototype.setDone = function () {
              return (
                (this.pos = this.chunkPos = this.end),
                (this.range =
                  this.ranges[(this.rangeIndex = this.ranges.length - 1)]),
                (this.chunk = ""),
                (this.next = -1)
              );
            }),
            (e.prototype.reset = function (e, t) {
              if (
                (t
                  ? ((this.token = t),
                    (t.start = e),
                    (t.lookAhead = e + 1),
                    (t.value = t.extended = -1))
                  : (this.token = YA),
                this.pos != e)
              ) {
                if (((this.pos = e), e == this.end))
                  return this.setDone(), this;
                for (; e < this.range.from; )
                  this.range = this.ranges[--this.rangeIndex];
                for (; e >= this.range.to; )
                  this.range = this.ranges[++this.rangeIndex];
                e >= this.chunkPos && e < this.chunkPos + this.chunk.length
                  ? (this.chunkOff = e - this.chunkPos)
                  : ((this.chunk = ""), (this.chunkOff = 0)),
                  this.readNext();
              }
              return this;
            }),
            (e.prototype.read = function (e, t) {
              if (e >= this.chunkPos && t <= this.chunkPos + this.chunk.length)
                return this.chunk.slice(e - this.chunkPos, t - this.chunkPos);
              if (e >= this.range.from && t <= this.range.to)
                return this.input.read(e, t);
              for (var n = "", i = 0, r = this.ranges; i < r.length; i++) {
                var o = r[i];
                if (o.from >= t) break;
                o.to > e &&
                  (n += this.input.read(
                    Math.max(o.from, e),
                    Math.min(o.to, t)
                  ));
              }
              return n;
            }),
            e
          );
        })(),
        QA = (function () {
          function e(e, t) {
            (this.data = e), (this.id = t);
          }
          return (
            (e.prototype.token = function (e, t) {
              !(function (e, t, n, i) {
                var r = 0,
                  o = 1 << i,
                  s = n.p.parser,
                  a = s.dialect;
                e: for (; 0 != (o & e[r]); ) {
                  for (var l = e[r + 1], c = r + 3; c < l; c += 2)
                    if ((e[c + 1] & o) > 0) {
                      var u = e[c];
                      if (
                        a.allows(u) &&
                        (-1 == t.token.value ||
                          t.token.value == u ||
                          s.overrides(u, t.token.value))
                      ) {
                        t.acceptToken(u);
                        break;
                      }
                    }
                  for (var h = t.next, p = 0, d = e[r + 2]; p < d; ) {
                    var f = (p + d) >> 1,
                      g = l + f + (f << 1),
                      m = e[g],
                      v = e[g + 1];
                    if (h < m) d = f;
                    else {
                      if (!(h >= v)) {
                        (r = e[g + 2]), t.advance();
                        continue e;
                      }
                      p = f + 1;
                    }
                  }
                  break;
                }
              })(this.data, e, t, this.id);
            }),
            e
          );
        })();
      QA.prototype.contextual =
        QA.prototype.fallback =
        QA.prototype.extend =
          !1;
      var XA = function (e, t) {
        void 0 === t && (t = {}),
          (this.token = e),
          (this.contextual = !!t.contextual),
          (this.fallback = !!t.fallback),
          (this.extend = !!t.extend);
      };
      function ZA(e, t) {
        if ((void 0 === t && (t = Uint16Array), "string" != typeof e)) return e;
        for (var n = null, i = 0, r = 0; i < e.length; ) {
          for (var o = 0; ; ) {
            var s = e.charCodeAt(i++),
              a = !1;
            if (126 == s) {
              o = 65535;
              break;
            }
            s >= 92 && s--, s >= 34 && s--;
            var l = s - 32;
            if ((l >= 46 && ((l -= 46), (a = !0)), (o += l), a)) break;
            o *= 46;
          }
          n ? (n[r++] = o) : (n = new t(o));
        }
        return n;
      }
      var eD,
        tD = "undefined" != typeof process && /\bparse\b/.test(process.env.LOG),
        nD = null;
      function iD(e, t, n) {
        var i = e.fullCursor();
        for (i.moveTo(t); ; )
          if (!(n < 0 ? i.childBefore(t) : i.childAfter(t)))
            for (;;) {
              if ((n < 0 ? i.to < t : i.from > t) && !i.type.isError)
                return n < 0
                  ? Math.max(0, Math.min(i.to - 1, t - 25))
                  : Math.min(e.length, Math.max(i.from + 1, t + 25));
              if (n < 0 ? i.prevSibling() : i.nextSibling()) break;
              if (!i.parent()) return n < 0 ? 0 : e.length;
            }
      }
      !(function (e) {
        e[(e.Margin = 25)] = "Margin";
      })(eD || (eD = {}));
      var rD,
        oD = (function () {
          function e(e, t) {
            (this.fragments = e),
              (this.nodeSet = t),
              (this.i = 0),
              (this.fragment = null),
              (this.safeFrom = -1),
              (this.safeTo = -1),
              (this.trees = []),
              (this.start = []),
              (this.index = []),
              this.nextFragment();
          }
          return (
            (e.prototype.nextFragment = function () {
              var e = (this.fragment =
                this.i == this.fragments.length
                  ? null
                  : this.fragments[this.i++]);
              if (e) {
                for (
                  this.safeFrom = e.openStart
                    ? iD(e.tree, e.from + e.offset, 1) - e.offset
                    : e.from,
                    this.safeTo = e.openEnd
                      ? iD(e.tree, e.to + e.offset, -1) - e.offset
                      : e.to;
                  this.trees.length;

                )
                  this.trees.pop(), this.start.pop(), this.index.pop();
                this.trees.push(e.tree),
                  this.start.push(-e.offset),
                  this.index.push(0),
                  (this.nextStart = this.safeFrom);
              } else this.nextStart = 1e9;
            }),
            (e.prototype.nodeAt = function (e) {
              if (e < this.nextStart) return null;
              for (; this.fragment && this.safeTo <= e; ) this.nextFragment();
              if (!this.fragment) return null;
              for (;;) {
                var t = this.trees.length - 1;
                if (t < 0) return this.nextFragment(), null;
                var n = this.trees[t],
                  i = this.index[t];
                if (i != n.children.length) {
                  var r = n.children[i],
                    o = this.start[t] + n.positions[i];
                  if (o > e) return (this.nextStart = o), null;
                  if (r instanceof jn) {
                    if (o == e) {
                      if (o < this.safeFrom) return null;
                      var s = o + r.length;
                      if (s <= this.safeTo) {
                        var a = r.prop(Nn.lookAhead);
                        if (!a || s + a < this.fragment.to) return r;
                      }
                    }
                    this.index[t]++,
                      o + r.length >= Math.max(this.safeFrom, e) &&
                        (this.trees.push(r),
                        this.start.push(o),
                        this.index.push(0));
                  } else this.index[t]++, (this.nextStart = o + r.length);
                } else this.trees.pop(), this.start.pop(), this.index.pop();
              }
            }),
            e
          );
        })(),
        sD = (function () {
          function e(e, t) {
            (this.stream = t),
              (this.tokens = []),
              (this.mainToken = null),
              (this.actions = []),
              (this.tokens = e.tokenizers.map(function (e) {
                return new $A();
              }));
          }
          return (
            (e.prototype.getActions = function (e) {
              for (
                var t = 0,
                  n = null,
                  i = e.p.parser,
                  r = i.tokenizers,
                  o = i.stateSlot(e.state, 3),
                  s = e.curContext ? e.curContext.hash : 0,
                  a = 0,
                  l = 0;
                l < r.length;
                l++
              )
                if (0 != ((1 << l) & o)) {
                  var c = r[l],
                    u = this.tokens[l];
                  if (
                    (!n || c.fallback) &&
                    ((c.contextual ||
                      u.start != e.pos ||
                      u.mask != o ||
                      u.context != s) &&
                      (this.updateCachedToken(u, c, e),
                      (u.mask = o),
                      (u.context = s)),
                    u.lookAhead > u.end + 25 && (a = Math.max(u.lookAhead, a)),
                    0 != u.value)
                  ) {
                    var h = t;
                    if (
                      (u.extended > -1 &&
                        (t = this.addActions(e, u.extended, u.end, t)),
                      (t = this.addActions(e, u.value, u.end, t)),
                      !c.extend && ((n = u), t > h))
                    )
                      break;
                  }
                }
              for (; this.actions.length > t; ) this.actions.pop();
              return (
                a && e.setLookAhead(a),
                n ||
                  e.pos != this.stream.end ||
                  (((n = new $A()).value = e.p.parser.eofTerm),
                  (n.start = n.end = e.pos),
                  (t = this.addActions(e, n.value, n.end, t))),
                (this.mainToken = n),
                this.actions
              );
            }),
            (e.prototype.getMainToken = function (e) {
              if (this.mainToken) return this.mainToken;
              var t = new $A(),
                n = e.pos,
                i = e.p;
              return (
                (t.start = n),
                (t.end = Math.min(n + 1, i.stream.end)),
                (t.value = n == i.stream.end ? i.parser.eofTerm : 0),
                t
              );
            }),
            (e.prototype.updateCachedToken = function (e, t, n) {
              if ((t.token(this.stream.reset(n.pos, e), n), e.value > -1)) {
                for (var i = n.p.parser, r = 0; r < i.specialized.length; r++)
                  if (i.specialized[r] == e.value) {
                    var o = i.specializers[r](
                      this.stream.read(e.start, e.end),
                      n
                    );
                    if (o >= 0 && n.p.parser.dialect.allows(o >> 1)) {
                      0 == (1 & o) ? (e.value = o >> 1) : (e.extended = o >> 1);
                      break;
                    }
                  }
              } else
                (e.value = 0), (e.end = Math.min(n.p.stream.end, n.pos + 1));
            }),
            (e.prototype.putAction = function (e, t, n, i) {
              for (var r = 0; r < i; r += 3) if (this.actions[r] == e) return i;
              return (
                (this.actions[i++] = e),
                (this.actions[i++] = t),
                (this.actions[i++] = n),
                i
              );
            }),
            (e.prototype.addActions = function (e, t, n, i) {
              for (
                var r = e.state, o = e.p.parser, s = o.data, a = 0;
                a < 2;
                a++
              )
                for (var l = o.stateSlot(r, a ? 2 : 1); ; l += 3) {
                  if (65535 == s[l]) {
                    if (1 != s[l + 1]) {
                      0 == i &&
                        2 == s[l + 1] &&
                        (i = this.putAction(dD(s, l + 1), t, n, i));
                      break;
                    }
                    l = dD(s, l + 2);
                  }
                  s[l] == t && (i = this.putAction(dD(s, l + 1), t, n, i));
                }
              return i;
            }),
            e
          );
        })();
      !(function (e) {
        (e[(e.Distance = 5)] = "Distance"),
          (e[(e.MaxRemainingPerStep = 3)] = "MaxRemainingPerStep"),
          (e[(e.MinBufferLengthPrune = 200)] = "MinBufferLengthPrune"),
          (e[(e.ForceReduceLimit = 10)] = "ForceReduceLimit");
      })(rD || (rD = {}));
      var aD = (function () {
        function e(e, t, n, i) {
          (this.parser = e),
            (this.input = t),
            (this.ranges = i),
            (this.recovering = 0),
            (this.nextStackID = 9812),
            (this.minStackPos = 0),
            (this.reused = []),
            (this.stoppedAt = null),
            (this.stream = new JA(t, i)),
            (this.tokens = new sD(e, this.stream)),
            (this.topTerm = e.top[1]);
          var r = i[0].from;
          (this.stacks = [WA.start(this, e.top[0], r)]),
            (this.fragments =
              n.length && this.stream.end - r > 4 * e.bufferLength
                ? new oD(n, e.nodeSet)
                : null);
        }
        return (
          Object.defineProperty(e.prototype, "parsedPos", {
            get: function () {
              return this.minStackPos;
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.prototype.advance = function () {
            for (
              var e,
                t,
                n = this.stacks,
                i = this.minStackPos,
                r = (this.stacks = []),
                o = 0;
              o < n.length;
              o++
            )
              for (var s = n[o]; ; ) {
                if (((this.tokens.mainToken = null), s.pos > i)) r.push(s);
                else {
                  if (this.advanceStack(s, r, n)) continue;
                  e || ((e = []), (t = [])), e.push(s);
                  var a = this.tokens.getMainToken(s);
                  t.push(a.value, a.end);
                }
                break;
              }
            if (!r.length) {
              var l;
              if (
                (l =
                  e &&
                  (function (e) {
                    for (var t = null, n = 0, i = e; n < i.length; n++) {
                      var r = i[n],
                        o = r.p.stoppedAt;
                      (r.pos == r.p.stream.end || (null != o && r.pos > o)) &&
                        r.p.parser.stateFlag(r.state, 2) &&
                        (!t || t.score < r.score) &&
                        (t = r);
                    }
                    return t;
                  })(e))
              )
                return this.stackToTree(l);
              if (this.parser.strict)
                throw (
                  (tD &&
                    e &&
                    console.log(
                      "Stuck with token " +
                        (this.tokens.mainToken
                          ? this.parser.getName(this.tokens.mainToken.value)
                          : "none")
                    ),
                  new SyntaxError("No parse at " + i))
                );
              this.recovering || (this.recovering = 5);
            }
            if (
              this.recovering &&
              e &&
              (l =
                null != this.stoppedAt && e[0].pos > this.stoppedAt
                  ? e[0]
                  : this.runRecovery(e, t, r))
            )
              return this.stackToTree(l.forceAll());
            if (this.recovering) {
              var c = 1 == this.recovering ? 1 : 3 * this.recovering;
              if (r.length > c)
                for (
                  r.sort(function (e, t) {
                    return t.score - e.score;
                  });
                  r.length > c;

                )
                  r.pop();
              r.some(function (e) {
                return e.reducePos > i;
              }) && this.recovering--;
            } else if (r.length > 1)
              e: for (o = 0; o < r.length - 1; o++) {
                s = r[o];
                for (var u = o + 1; u < r.length; u++) {
                  var h = r[u];
                  if (
                    s.sameState(h) ||
                    (s.buffer.length > 200 && h.buffer.length > 200)
                  ) {
                    if (
                      !(
                        (s.score - h.score ||
                          s.buffer.length - h.buffer.length) > 0
                      )
                    ) {
                      r.splice(o--, 1);
                      continue e;
                    }
                    r.splice(u--, 1);
                  }
                }
              }
            this.minStackPos = r[0].pos;
            for (o = 1; o < r.length; o++)
              r[o].pos < this.minStackPos && (this.minStackPos = r[o].pos);
            return null;
          }),
          (e.prototype.stopAt = function (e) {
            if (null != this.stoppedAt && this.stoppedAt < e)
              throw new RangeError("Can't move stoppedAt forward");
            this.stoppedAt = e;
          }),
          (e.prototype.advanceStack = function (e, t, n) {
            var i = e.pos,
              r = this.parser,
              o = tD ? this.stackID(e) + " -> " : "";
            if (null != this.stoppedAt && i > this.stoppedAt)
              return e.forceReduce() ? e : null;
            if (this.fragments)
              for (
                var s = e.curContext && e.curContext.tracker.strict,
                  a = s ? e.curContext.hash : 0,
                  l = this.fragments.nodeAt(i);
                l;

              ) {
                var c =
                  this.parser.nodeSet.types[l.type.id] == l.type
                    ? r.getGoto(e.state, l.type.id)
                    : -1;
                if (
                  c > -1 &&
                  l.length &&
                  (!s || (l.prop(Nn.contextHash) || 0) == a)
                )
                  return (
                    e.useNode(l, c),
                    tD &&
                      console.log(
                        o +
                          this.stackID(e) +
                          " (via reuse of " +
                          r.getName(l.type.id) +
                          ")"
                      ),
                    !0
                  );
                if (
                  !(l instanceof jn) ||
                  0 == l.children.length ||
                  l.positions[0] > 0
                )
                  break;
                var u = l.children[0];
                if (!(u instanceof jn && 0 == l.positions[0])) break;
                l = u;
              }
            var h = r.stateSlot(e.state, 4);
            if (h > 0)
              return (
                e.reduce(h),
                tD &&
                  console.log(
                    o +
                      this.stackID(e) +
                      " (via always-reduce " +
                      r.getName(65535 & h) +
                      ")"
                  ),
                !0
              );
            for (var p = this.tokens.getActions(e), d = 0; d < p.length; ) {
              var f = p[d++],
                g = p[d++],
                m = p[d++],
                v = d == p.length || !n,
                y = v ? e : e.split();
              if (
                (y.apply(f, g, m),
                tD &&
                  console.log(
                    o +
                      this.stackID(y) +
                      " (via " +
                      (0 == (65536 & f)
                        ? "shift"
                        : "reduce of " + r.getName(65535 & f)) +
                      " for " +
                      r.getName(g) +
                      " @ " +
                      i +
                      (y == e ? "" : ", split") +
                      ")"
                  ),
                v)
              )
                return !0;
              y.pos > i ? t.push(y) : n.push(y);
            }
            return !1;
          }),
          (e.prototype.advanceFully = function (e, t) {
            for (var n = e.pos; ; ) {
              if (!this.advanceStack(e, null, null)) return !1;
              if (e.pos > n) return lD(e, t), !0;
            }
          }),
          (e.prototype.runRecovery = function (e, t, n) {
            for (var i = null, r = !1, o = 0; o < e.length; o++) {
              var s = e[o],
                a = t[o << 1],
                l = t[1 + (o << 1)],
                c = tD ? this.stackID(s) + " -> " : "";
              if (s.deadEnd) {
                if (r) continue;
                if (
                  ((r = !0),
                  s.restart(),
                  tD && console.log(c + this.stackID(s) + " (restarted)"),
                  this.advanceFully(s, n))
                )
                  continue;
              }
              for (
                var u = s.split(), h = c, p = 0;
                u.forceReduce() && p < 10;
                p++
              ) {
                if (
                  (tD &&
                    console.log(h + this.stackID(u) + " (via force-reduce)"),
                  this.advanceFully(u, n))
                )
                  break;
                tD && (h = this.stackID(u) + " -> ");
              }
              for (var d = 0, f = s.recoverByInsert(a); d < f.length; d++) {
                var g = f[d];
                tD &&
                  console.log(c + this.stackID(g) + " (via recover-insert)"),
                  this.advanceFully(g, n);
              }
              this.stream.end > s.pos
                ? (l == s.pos && (l++, (a = 0)),
                  s.recoverByDelete(a, l),
                  tD &&
                    console.log(
                      c +
                        this.stackID(s) +
                        " (via recover-delete " +
                        this.parser.getName(a) +
                        ")"
                    ),
                  lD(s, n))
                : (!i || i.score < s.score) && (i = s);
            }
            return i;
          }),
          (e.prototype.stackToTree = function (e) {
            return (
              e.close(),
              jn.build({
                buffer: KA.create(e),
                nodeSet: this.parser.nodeSet,
                topID: this.topTerm,
                maxBufferLength: this.parser.bufferLength,
                reused: this.reused,
                start: this.ranges[0].from,
                length: e.pos - this.ranges[0].from,
                minRepeatType: this.parser.minRepeatTerm,
              })
            );
          }),
          (e.prototype.stackID = function (e) {
            var t = (nD || (nD = new WeakMap())).get(e);
            return (
              t || nD.set(e, (t = String.fromCodePoint(this.nextStackID++))),
              t + e
            );
          }),
          e
        );
      })();
      function lD(e, t) {
        for (var n = 0; n < t.length; n++) {
          var i = t[n];
          if (i.pos == e.pos && i.sameState(e))
            return void (t[n].score < e.score && (t[n] = e));
        }
        t.push(e);
      }
      var cD = (function () {
          function e(e, t, n) {
            (this.source = e), (this.flags = t), (this.disabled = n);
          }
          return (
            (e.prototype.allows = function (e) {
              return !this.disabled || 0 == this.disabled[e];
            }),
            e
          );
        })(),
        uD = function (e) {
          return e;
        },
        hD = function (e) {
          (this.start = e.start),
            (this.shift = e.shift || uD),
            (this.reduce = e.reduce || uD),
            (this.reuse = e.reuse || uD),
            (this.hash =
              e.hash ||
              function () {
                return 0;
              }),
            (this.strict = !1 !== e.strict);
        },
        pD = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            if (((n.wrappers = []), 13 != t.version))
              throw new RangeError(
                "Parser version (" +
                  t.version +
                  ") doesn't match runtime version (13)"
              );
            var i = t.nodeNames.split(" ");
            n.minRepeatTerm = i.length;
            for (var r = 0; r < t.repeatNodeCount; r++) i.push("");
            var o = Object.keys(t.topRules).map(function (e) {
                return t.topRules[e][1];
              }),
              s = [];
            for (r = 0; r < i.length; r++) s.push([]);
            function a(e, t, n) {
              s[e].push([t, t.deserialize(String(n))]);
            }
            if (t.nodeProps)
              for (var l = 0, c = t.nodeProps; l < c.length; l++) {
                var u = c[l],
                  h = u[0];
                for (r = 1; r < u.length; ) {
                  var p = u[r++];
                  if (p >= 0) a(p, h, u[r++]);
                  else {
                    for (var d = u[r + -p], f = -p; f > 0; f--) a(u[r++], h, d);
                    r++;
                  }
                }
              }
            (n.nodeSet = new Hn(
              i.map(function (e, i) {
                return zn.define({
                  name: i >= n.minRepeatTerm ? void 0 : e,
                  id: i,
                  props: s[i],
                  top: o.indexOf(i) > -1,
                  error: 0 == i,
                  skipped: t.skippedNodes && t.skippedNodes.indexOf(i) > -1,
                });
              })
            )),
              (n.strict = !1),
              (n.bufferLength = On);
            var g = ZA(t.tokenData);
            if (
              ((n.context = t.context),
              (n.specialized = new Uint16Array(
                t.specialized ? t.specialized.length : 0
              )),
              (n.specializers = []),
              t.specialized)
            )
              for (r = 0; r < t.specialized.length; r++)
                (n.specialized[r] = t.specialized[r].term),
                  (n.specializers[r] = t.specialized[r].get);
            return (
              (n.states = ZA(t.states, Uint32Array)),
              (n.data = ZA(t.stateData)),
              (n.goto = ZA(t.goto)),
              (n.maxTerm = t.maxTerm),
              (n.tokenizers = t.tokenizers.map(function (e) {
                return "number" == typeof e ? new QA(g, e) : e;
              })),
              (n.topRules = t.topRules),
              (n.dialects = t.dialects || {}),
              (n.dynamicPrecedences = t.dynamicPrecedences || null),
              (n.tokenPrecTable = t.tokenPrec),
              (n.termNames = t.termNames || null),
              (n.maxNode = n.nodeSet.types.length - 1),
              (n.dialect = n.parseDialect()),
              (n.top = n.topRules[Object.keys(n.topRules)[0]]),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.createParse = function (e, t, n) {
              for (
                var i = new aD(this, e, t, n), r = 0, o = this.wrappers;
                r < o.length;
                r++
              ) {
                i = (0, o[r])(i, e, t, n);
              }
              return i;
            }),
            (t.prototype.getGoto = function (e, t, n) {
              void 0 === n && (n = !1);
              var i = this.goto;
              if (t >= i[0]) return -1;
              for (var r = i[t + 1]; ; ) {
                var o = i[r++],
                  s = 1 & o,
                  a = i[r++];
                if (s && n) return a;
                for (var l = r + (o >> 1); r < l; r++) if (i[r] == e) return a;
                if (s) return -1;
              }
            }),
            (t.prototype.hasAction = function (e, t) {
              for (var n = this.data, i = 0; i < 2; i++)
                for (
                  var r = this.stateSlot(e, i ? 2 : 1), o = void 0;
                  ;
                  r += 3
                ) {
                  if (65535 == (o = n[r])) {
                    if (1 != n[r + 1]) {
                      if (2 == n[r + 1]) return dD(n, r + 2);
                      break;
                    }
                    o = n[(r = dD(n, r + 2))];
                  }
                  if (o == t || 0 == o) return dD(n, r + 1);
                }
              return 0;
            }),
            (t.prototype.stateSlot = function (e, t) {
              return this.states[6 * e + t];
            }),
            (t.prototype.stateFlag = function (e, t) {
              return (this.stateSlot(e, 0) & t) > 0;
            }),
            (t.prototype.validAction = function (e, t) {
              if (t == this.stateSlot(e, 4)) return !0;
              for (var n = this.stateSlot(e, 1); ; n += 3) {
                if (65535 == this.data[n]) {
                  if (1 != this.data[n + 1]) return !1;
                  n = dD(this.data, n + 2);
                }
                if (t == dD(this.data, n + 1)) return !0;
              }
            }),
            (t.prototype.nextStates = function (e) {
              for (
                var t,
                  n = [],
                  i = function (e) {
                    if (65535 == r.data[e]) {
                      if (1 != r.data[e + 1]) return (t = e), "break";
                      e = dD(r.data, e + 2);
                    }
                    if (0 == (1 & r.data[e + 2])) {
                      var i = r.data[e + 1];
                      n.some(function (e, t) {
                        return 1 & t && e == i;
                      }) || n.push(r.data[e], i);
                    }
                    t = e;
                  },
                  r = this,
                  o = this.stateSlot(e, 1);
                ;
                o += 3
              ) {
                var s = i(o);
                if (((o = t), "break" === s)) break;
              }
              return n;
            }),
            (t.prototype.overrides = function (e, t) {
              var n = fD(this.data, this.tokenPrecTable, t);
              return n < 0 || fD(this.data, this.tokenPrecTable, e) < n;
            }),
            (t.prototype.configure = function (e) {
              var n,
                i = Object.assign(Object.create(t.prototype), this);
              if (
                (e.props &&
                  (i.nodeSet = (n = this.nodeSet).extend.apply(n, e.props)),
                e.top)
              ) {
                var r = this.topRules[e.top];
                if (!r) throw new RangeError("Invalid top rule name " + e.top);
                i.top = r;
              }
              return (
                e.tokenizers &&
                  (i.tokenizers = this.tokenizers.map(function (t) {
                    var n = e.tokenizers.find(function (e) {
                      return e.from == t;
                    });
                    return n ? n.to : t;
                  })),
                e.contextTracker && (i.context = e.contextTracker),
                e.dialect && (i.dialect = this.parseDialect(e.dialect)),
                null != e.strict && (i.strict = e.strict),
                e.wrap && (i.wrappers = i.wrappers.concat(e.wrap)),
                null != e.bufferLength && (i.bufferLength = e.bufferLength),
                i
              );
            }),
            (t.prototype.getName = function (e) {
              return this.termNames
                ? this.termNames[e]
                : String(
                    (e <= this.maxNode && this.nodeSet.types[e].name) || e
                  );
            }),
            Object.defineProperty(t.prototype, "eofTerm", {
              get: function () {
                return this.maxNode + 1;
              },
              enumerable: !1,
              configurable: !0,
            }),
            Object.defineProperty(t.prototype, "topNode", {
              get: function () {
                return this.nodeSet.types[this.top[1]];
              },
              enumerable: !1,
              configurable: !0,
            }),
            (t.prototype.dynamicPrecedence = function (e) {
              var t = this.dynamicPrecedences;
              return null == t ? 0 : t[e] || 0;
            }),
            (t.prototype.parseDialect = function (e) {
              var t = Object.keys(this.dialects),
                n = t.map(function () {
                  return !1;
                });
              if (e)
                for (var i = 0, r = e.split(" "); i < r.length; i++) {
                  var o = r[i],
                    s = t.indexOf(o);
                  s >= 0 && (n[s] = !0);
                }
              for (var a = null, l = 0; l < t.length; l++)
                if (!n[l])
                  for (
                    var c, u = this.dialects[t[l]];
                    65535 != (c = this.data[u++]);

                  )
                    (a || (a = new Uint8Array(this.maxTerm + 1)))[c] = 1;
              return new cD(e, n, a);
            }),
            (t.deserialize = function (e) {
              return new t(e);
            }),
            t
          );
        })(oi);
      function dD(e, t) {
        return e[t] | (e[t + 1] << 16);
      }
      function fD(e, t, n) {
        for (var i = t, r = void 0; 65535 != (r = e[i]); i++)
          if (r == n) return i - t;
        return -1;
      }
      var gD = new window.TurndownService({
        headingStyle: "atx",
        hr: "---",
        bulletListMarker: "-",
        codeBlockStyle: "fenced",
        fence: "```",
        linkStyle: "inlined",
      });
      function mD(e) {
        return gD.turndown(e);
      }
      gD.remove(["script", "style", "title"]),
        gD.addRule("strikethrough", {
          filter: ["del", "s"],
          replacement: function (e) {
            return "~~" + e + "~~";
          },
        }),
        (gD.escape = function (e) {
          return e;
        });
      var vD = (function () {
          function e(e) {
            (this.shouldRestoreSelection = !0),
              (this.selection = null),
              (this.app = e),
              (this.scope = new ew()),
              this.scope.register([], "Escape", this.close.bind(this)),
              (this.containerEl = createDiv("modal-container"));
            var t = (this.bgEl = this.containerEl.createDiv("modal-bg"));
            this.modalEl = this.containerEl.createDiv("modal");
            var n = this.modalEl.createDiv("modal-close-button");
            (this.titleEl = this.modalEl.createDiv("modal-title")),
              (this.contentEl = this.modalEl.createDiv("modal-content")),
              n.addEventListener("click", this.close.bind(this)),
              t.addEventListener("click", this.close.bind(this));
          }
          return (
            (e.prototype.open = function () {
              this.shouldRestoreSelection
                ? (this.selection = wh())
                : (this.selection = null);
              var e = document.activeElement;
              e && e instanceof HTMLElement && e.blur(),
                window.getSelection().removeAllRanges();
              var t = this.app;
              if (
                (t.keymap.pushScope(this.scope),
                document.body.appendChild(this.containerEl),
                this.onOpen(),
                eb.isMobile)
              ) {
                var n = this.modalEl,
                  i = this.bgEl,
                  r = n.offsetHeight - 1;
                Vb(
                  n,
                  new Nb({ duration: 300 }).addProp(
                    "transform",
                    "translateY(" + r + "px)",
                    ""
                  )
                ),
                  Vb(
                    i,
                    new Nb({ duration: 200 }).addProp("opacity", "0", "0.85")
                  );
              }
              t.workspace.pushClosable(this);
            }),
            (e.prototype.close = function () {
              var e = this,
                t = this.app;
              if (
                (t.keymap.popScope(this.scope), this.onClose(), eb.isMobile)
              ) {
                var n = this.modalEl,
                  i = this.bgEl,
                  r = n.offsetHeight - 1;
                Vb(
                  n,
                  new Nb({ duration: 300 }).addProp(
                    "transform",
                    "",
                    "translateY(" + r + "px)"
                  ),
                  function () {
                    e.containerEl.detach();
                  }
                ),
                  Vb(
                    i,
                    new Nb({ duration: 200 }).addProp("opacity", null, "0")
                  );
              } else this.containerEl.detach();
              t.workspace.popClosable(this),
                this.shouldRestoreSelection && kh(this.selection);
            }),
            (e.prototype.onOpen = function () {}),
            (e.prototype.onClose = function () {}),
            (e.prototype.setTitle = function (e) {
              return this.titleEl.setText(e), this;
            }),
            (e.prototype.setContent = function (e) {
              return (
                String.isString(e)
                  ? this.contentEl.setText(e)
                  : this.contentEl.appendChild(e),
                this
              );
            }),
            e
          );
        })(),
        yD = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.buttonContainerEl = null),
              n.containerEl.addClass("mod-confirmation"),
              (n.buttonContainerEl = n.modalEl.createDiv(
                "modal-button-container"
              )),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.addButton = function (e, t, n) {
              var i = this;
              return (
                this.buttonContainerEl
                  .createEl("button", { cls: e, text: t })
                  .addEventListener("click", function (e) {
                    return A(i, void 0, void 0, function () {
                      return D(this, function (t) {
                        switch (t.label) {
                          case 0:
                            return [4, n(e)];
                          case 1:
                            return t.sent() || this.close(), [2];
                        }
                      });
                    });
                  }),
                this
              );
            }),
            (t.prototype.addCancelButton = function () {
              return this.addButton(
                "",
                Lt("dialogue.button-cancel"),
                this.close.bind(this)
              );
            }),
            t
          );
        })(vD);
      function bD(e, t) {
        if (!e) return e;
        if (e.links)
          for (var n = 0, i = e.links; n < i.length; n++) {
            t(i[n]);
          }
        if (e.embeds)
          for (var r = 0, o = e.embeds; r < o.length; r++) {
            t(o[r]);
          }
        if (e.tags)
          for (var s = 0, a = e.tags; s < a.length; s++) {
            t(a[s]);
          }
        if (e.headings)
          for (var l = 0, c = e.headings; l < c.length; l++) {
            t(c[l]);
          }
        if (e.sections)
          for (var u = 0, h = e.sections; u < h.length; u++) {
            t(h[u]);
          }
        if (e.listItems)
          for (var p = 0, d = e.listItems; p < d.length; p++) {
            t(d[p]);
          }
        if ((e.frontmatter && t(e.frontmatter), e.blocks))
          for (var f in e.blocks) e.blocks.hasOwnProperty(f) && t(e.blocks[f]);
        return e;
      }
      function wD(e) {
        var t = e.position;
        if (t) {
          delete e.position;
          var n = t.start,
            i = t.end;
          e.pos = [n.line, n.col, n.offset, i.line, i.col, i.offset];
        }
      }
      function kD(e) {
        var t = e.pos;
        t &&
          Array.isArray(t) &&
          6 === t.length &&
          (delete e.pos,
          (e.position = {
            start: { line: t[0], col: t[1], offset: t[2] },
            end: { line: t[3], col: t[4], offset: t[5] },
          }));
      }
      function CD(e, t, n) {
        return (function (e, t, n) {
          for (var i = 0, r = e.length; i < r; ) {
            var o = ((i + r) / 2) | 0,
              s = t(e[o]);
            if (0 === s) return o;
            s < 0 ? (i = o + 1) : (r = o);
          }
          return n ? r : i;
        })(
          e,
          function (e) {
            return t < e.position.start.offset
              ? 1
              : t > e.position.end.offset
              ? -1
              : 0;
          },
          n
        );
      }
      function xD(e) {
        return (e = yg(e).normalize("NFC")).split("#")[0];
      }
      function SD(e) {
        var t = (e = yg(e).normalize("NFC")).split("#")[0];
        return { path: t, subpath: e.substr(t.length) };
      }
      function ED(e, t) {
        return !!e && (!0 === MD(e.links, t) || !0 === MD(e.embeds, t));
      }
      function MD(e, t) {
        if (!e) return !1;
        for (var n = 0, i = e; n < i.length; n++) {
          if (!0 === t(i[n])) return !0;
        }
        return !1;
      }
      function LD(e) {
        if (!e) return null;
        var t = [],
          n = $g(e.frontmatter);
        if (n)
          for (var i = 0, r = n; i < r.length; i++) {
            var o = r[i];
            t.push(o);
          }
        var s = e.tags;
        if (s)
          for (var a = 0, l = s; a < l.length; a++) {
            o = l[a];
            t.push(o.tag);
          }
        return t;
      }
      function AD(e) {
        return (
          (bg.lastIndex = 0), e.replace(bg, " ").replace(/\s+/g, " ").trim()
        );
      }
      function DD(e, t) {
        if (!e || !t) return null;
        var n = t.split("#").filter(function (e) {
          return !!e;
        });
        if (!n || 0 === n.length) return null;
        if (1 === n.length) {
          var i = n[0];
          if (i.startsWith("^")) {
            var r = i.substr(1).toLowerCase(),
              o = e.blocks;
            if (o && o.hasOwnProperty(r)) {
              var s = o[r],
                a = null;
              if (e.listItems)
                for (var l = 0, c = e.listItems; l < c.length; l++) {
                  var u = c[l];
                  if (u.id === r) {
                    a = u;
                    break;
                  }
                }
              return {
                type: "block",
                block: s,
                list: a,
                start: s.position.start,
                end: s.position.end,
              };
            }
          }
        }
        var h = e.headings;
        if (!h || 0 === h.length) return null;
        for (
          var p = 0, d = 0, f = null, g = null, m = 0, v = h;
          m < v.length;
          m++
        ) {
          var y = v[m];
          if (f && y.level <= d) {
            g = y;
            break;
          }
          !f &&
            y.level > d &&
            AD(y.heading).toLowerCase() === AD(n[p]).toLowerCase() &&
            (p++, (d = y.level), p === n.length && (f = y));
        }
        return f
          ? {
              type: "heading",
              current: f,
              next: g,
              start: f.position.start,
              end: g ? g.position.start : null,
            }
          : null;
      }
      function TD(e, t, n) {
        var i = "",
          r = "",
          o = "";
        if ("block" === n.type && n.list) {
          var s = (function (e, t) {
              var n = e.listItems;
              if (!n) return t;
              var i = n.indexOf(t);
              if (-1 === i) return t;
              var r = new Set();
              r.add(t.position.start.line);
              for (var o = t, s = i + 1; s < n.length; s++) {
                var a = n[s];
                if (!r.has(a.parent)) break;
                r.add(a.position.start.line), (o = a);
              }
              return o;
            })(t, n.list),
            a = (function (e, t) {
              var n = e.position.start,
                i = t.position.end;
              return { start: n.offset - n.col, end: i.offset };
            })(n.list, s),
            l = a.start,
            c = a.end;
          (i = e.substring(0, l)), (r = e.substring(c));
          var u = (function (e) {
            var t = e.split("\n"),
              n = t[0].match(/^\s*/)[0],
              i = n.replace("\t", "    ").length;
            if (i > 0)
              for (var r = 0; r < t.length; r++) {
                for (var o = t[r], s = 0, a = 0; s < o.length && a < i; )
                  (a += "\t" === o.charAt(s) ? 4 : 1), s++;
                t[r] = o.substr(s);
              }
            return { indent: n, text: t.join("\n") };
          })(e.substring(l, c));
          (e = u.text), (o = u.indent);
        } else {
          (l = n.start.offset), (c = n.end ? n.end.offset : e.length);
          (i = e.substring(0, l)),
            (r = e.substring(c)),
            (e = e.substring(l, c));
        }
        return { before: i, after: r, indent: o, content: e };
      }
      let PD, OD;
      const FD = new WeakMap(),
        ID = new WeakMap(),
        ND = new WeakMap(),
        BD = new WeakMap(),
        RD = new WeakMap();
      let zD = {
        get(e, t, n) {
          if (e instanceof IDBTransaction) {
            if ("done" === t) return ID.get(e);
            if ("objectStoreNames" === t)
              return e.objectStoreNames || ND.get(e);
            if ("store" === t)
              return n.objectStoreNames[1]
                ? void 0
                : n.objectStore(n.objectStoreNames[0]);
          }
          return qD(e[t]);
        },
        set: (e, t, n) => ((e[t] = n), !0),
        has: (e, t) =>
          (e instanceof IDBTransaction && ("done" === t || "store" === t)) ||
          t in e,
      };
      function HD(e) {
        return e !== IDBDatabase.prototype.transaction ||
          "objectStoreNames" in IDBTransaction.prototype
          ? (
              OD ||
              (OD = [
                IDBCursor.prototype.advance,
                IDBCursor.prototype.continue,
                IDBCursor.prototype.continuePrimaryKey,
              ])
            ).includes(e)
            ? function (...t) {
                return e.apply(jD(this), t), qD(FD.get(this));
              }
            : function (...t) {
                return qD(e.apply(jD(this), t));
              }
          : function (t, ...n) {
              const i = e.call(jD(this), t, ...n);
              return ND.set(i, t.sort ? t.sort() : [t]), qD(i);
            };
      }
      function VD(e) {
        return "function" == typeof e
          ? HD(e)
          : (e instanceof IDBTransaction &&
              (function (e) {
                if (ID.has(e)) return;
                const t = new Promise((t, n) => {
                  const i = () => {
                      e.removeEventListener("complete", r),
                        e.removeEventListener("error", o),
                        e.removeEventListener("abort", o);
                    },
                    r = () => {
                      t(), i();
                    },
                    o = () => {
                      n(
                        e.error || new DOMException("AbortError", "AbortError")
                      ),
                        i();
                    };
                  e.addEventListener("complete", r),
                    e.addEventListener("error", o),
                    e.addEventListener("abort", o);
                });
                ID.set(e, t);
              })(e),
            (t = e),
            (
              PD ||
              (PD = [
                IDBDatabase,
                IDBObjectStore,
                IDBIndex,
                IDBCursor,
                IDBTransaction,
              ])
            ).some((e) => t instanceof e)
              ? new Proxy(e, zD)
              : e);
        var t;
      }
      function qD(e) {
        if (e instanceof IDBRequest)
          return (function (e) {
            const t = new Promise((t, n) => {
              const i = () => {
                  e.removeEventListener("success", r),
                    e.removeEventListener("error", o);
                },
                r = () => {
                  t(qD(e.result)), i();
                },
                o = () => {
                  n(e.error), i();
                };
              e.addEventListener("success", r), e.addEventListener("error", o);
            });
            return (
              t
                .then((t) => {
                  t instanceof IDBCursor && FD.set(t, e);
                })
                .catch(() => {}),
              RD.set(t, e),
              t
            );
          })(e);
        if (BD.has(e)) return BD.get(e);
        const t = VD(e);
        return t !== e && (BD.set(e, t), RD.set(t, e)), t;
      }
      const jD = (e) => RD.get(e);
      function UD(
        e,
        t,
        { blocked: n, upgrade: i, blocking: r, terminated: o } = {}
      ) {
        const s = indexedDB.open(e, t),
          a = qD(s);
        return (
          i &&
            s.addEventListener("upgradeneeded", (e) => {
              i(qD(s.result), e.oldVersion, e.newVersion, qD(s.transaction));
            }),
          n && s.addEventListener("blocked", () => n()),
          a
            .then((e) => {
              o && e.addEventListener("close", () => o()),
                r && e.addEventListener("versionchange", () => r());
            })
            .catch(() => {}),
          a
        );
      }
      function WD(e, { blocked: t } = {}) {
        const n = indexedDB.deleteDatabase(e);
        return (
          t && n.addEventListener("blocked", () => t()), qD(n).then(() => {})
        );
      }
      const _D = ["get", "getKey", "getAll", "getAllKeys", "count"],
        GD = ["put", "add", "delete", "clear"],
        KD = new Map();
      function $D(e, t) {
        if (!(e instanceof IDBDatabase) || t in e || "string" != typeof t)
          return;
        if (KD.get(t)) return KD.get(t);
        const n = t.replace(/FromIndex$/, ""),
          i = t !== n,
          r = GD.includes(n);
        if (
          !(n in (i ? IDBIndex : IDBObjectStore).prototype) ||
          (!r && !_D.includes(n))
        )
          return;
        const o = async function (e, ...t) {
          const o = this.transaction(e, r ? "readwrite" : "readonly");
          let s = o.store;
          return (
            i && (s = s.index(t.shift())),
            (await Promise.all([s[n](...t), r && o.done]))[0]
          );
        };
        return KD.set(t, o), o;
      }
      function YD(e) {
        return "md" === et(Ye(e)) && (e = e.substring(0, e.length - 3)), e;
      }
      zD = ((e) => ({
        ...e,
        get: (t, n, i) => $D(t, n) || e.get(t, n, i),
        has: (t, n) => !!$D(t, n) || e.has(t, n),
      }))(zD);
      var JD = function (e, t) {
          for (var n in t)
            if (t.hasOwnProperty(n) && Ye(n).toLowerCase().contains(e))
              return !0;
          return !1;
        },
        QD = (function () {
          function e(e) {
            (this.cache = {}), (this.app = e);
          }
          return (
            (e.prototype.clear = function () {
              this.cache = {};
            }),
            (e.prototype.getForFile = function (e, t) {
              var n, i;
              return A(this, void 0, Promise, function () {
                var r, o, s, a, l, c, u, h, p, d, f, g;
                return D(this, function (m) {
                  switch (m.label) {
                    case 0:
                      return "md" !== t.extension
                        ? [2, null]
                        : ((r = t.stat.mtime),
                          (o = this.cache).hasOwnProperty(t.path) &&
                          (s = o[t.path]).file === t &&
                          s.mtime === r
                            ? [2, s]
                            : [4, this.app.vault.cachedRead(t)]);
                    case 1:
                      if (((a = m.sent()), e.isCancelled())) return [2, null];
                      (l = qg(a)), (c = []), (m.label = 2);
                    case 2:
                      m.trys.push([2, 7, 8, 13]),
                        (u = I($h(Kh(l.children), { maxDelay: 0 }))),
                        (m.label = 3);
                    case 3:
                      return [4, u.next()];
                    case 4:
                      if ((h = m.sent()).done) return [3, 6];
                      if (((p = h.value), e.isCancelled())) return [3, 6];
                      if ("yaml" === p.type) return [3, 5];
                      if ("list" === p.type)
                        return (
                          cg(p, "listItem", function (e) {
                            var t = Xg(e).trim();
                            t && c.push({ display: t, node: e });
                          }),
                          [3, 5]
                        );
                      if ("" === (d = Xg(p).trim())) return [3, 5];
                      "heading" === p.type &&
                        (d =
                          Array(p.depth || 1)
                            .fill("#")
                            .join("") +
                          " " +
                          d),
                        c.push({ display: d, node: p }),
                        (m.label = 5);
                    case 5:
                      return [3, 3];
                    case 6:
                      return [3, 13];
                    case 7:
                      return (f = m.sent()), (n = { error: f }), [3, 13];
                    case 8:
                      return (
                        m.trys.push([8, , 11, 12]),
                        h && !h.done && (i = u.return)
                          ? [4, i.call(u)]
                          : [3, 10]
                      );
                    case 9:
                      m.sent(), (m.label = 10);
                    case 10:
                      return [3, 12];
                    case 11:
                      if (n) throw n.error;
                      return [7];
                    case 12:
                      return [7];
                    case 13:
                      return (
                        (g = { file: t, content: a, mtime: r, blocks: c }),
                        (o[t.path] = g),
                        [2, g]
                      );
                  }
                });
              });
            }),
            (e.prototype.getAll = function (e) {
              return F(this, arguments, function () {
                var t, n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      (t = this.app.vault),
                        (n = t.getMarkdownFiles()),
                        (i = 0),
                        (r = n),
                        (s.label = 1);
                    case 1:
                      return i < r.length
                        ? ((o = r[i]), [4, O(this.getForFile(e, o))])
                        : [3, 5];
                    case 2:
                      return [4, s.sent()];
                    case 3:
                      s.sent(), (s.label = 4);
                    case 4:
                      return i++, [3, 1];
                    case 5:
                      return [2];
                  }
                });
              });
            }),
            e
          );
        })(),
        XD = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            return (
              (i.worker = null),
              (i.inProgressTaskCount = 0),
              (i.db = null),
              (i.fileCache = {}),
              (i.metadataCache = {}),
              (i.workQueue = new jh()),
              (i.uniqueFileLookup = new Pe()),
              (i.initialized = !1),
              (i.resolvedLinks = {}),
              (i.unresolvedLinks = {}),
              (i.linkResolverQueue = null),
              (i.onCleanCacheCallbacks = []),
              (i.workerResolve = null),
              (i.app = t),
              (i.vault = n),
              (i.worker = new Worker("worker.js", {
                name: "Metadata Cache Worker",
              })),
              (i.worker.onmessage = i.onReceiveMessageFromWorker.bind(i)),
              (i.blockCache = new QD(t)),
              i.linkResolver(),
              i.on("finished", i.checkCleanCache, i),
              i.on("resolved", i.checkCleanCache, i),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.getLinkSuggestions = function () {
              for (
                var e = [],
                  t = {},
                  n = this.unresolvedLinks,
                  i = this.vault,
                  r = i.getConfig("showUnsupportedFiles"),
                  o = 0,
                  s = i.getFiles();
                o < s.length;
                o++
              ) {
                var a = s[o];
                if (r || it(a.extension)) {
                  var l = a.path;
                  "md" === a.extension && (l = Ze(l)),
                    (t[l] = !0),
                    e.push({ file: a, path: l });
                  var c = this.getFileCache(a);
                  if (c) {
                    var u = Kg(c.frontmatter);
                    if (u)
                      for (var h = 0, p = u; h < p.length; h++) {
                        var d = p[h];
                        e.push({ file: a, path: l, alias: d });
                      }
                  }
                }
              }
              for (var f in n)
                if (n.hasOwnProperty(f)) {
                  var g = n[f];
                  for (var m in g)
                    g.hasOwnProperty(m) &&
                      (t[m] || ((t[m] = !0), e.push({ file: null, path: m })));
                }
              return e;
            }),
            (t.prototype.getTags = function () {
              var e = this.fileCache,
                t = this.metadataCache,
                n = {},
                i = function (e) {
                  if (e) {
                    var t = e.split("/").last();
                    (n[e] = (n[e] || 0) + 1),
                      t !== e && i(e.substr(0, e.length - t.length - 1));
                  }
                };
              for (var r in e)
                if (e.hasOwnProperty(r)) {
                  var o = t[e[r].hash];
                  if (o) {
                    var s = LD(o);
                    if (s)
                      for (var a = 0, l = s; a < l.length; a++) {
                        var c = l[a];
                        i(c);
                      }
                  }
                }
              var u = {};
              for (var c in n)
                if (n.hasOwnProperty(c)) {
                  var h = c.toLowerCase(),
                    p = n[c];
                  if (u.hasOwnProperty(h)) {
                    var d = u[h];
                    (d.count += p), p > d.max && ((d.max = p), (d.tag = c));
                  } else u[h] = { tag: c, count: p, max: p };
                }
              for (var c in ((n = {}), u))
                if (u.hasOwnProperty(c)) {
                  var f = u[c];
                  n[f.tag] = f.count;
                }
              return n;
            }),
            (t.prototype.getLinkpathDest = function (e, t) {
              if ("" === e && t) {
                var n = this.vault.getAbstractFileByPath(t);
                if (n instanceof Ab) return [n];
              }
              var i = this._getLinkpathDest(e, t);
              return (
                0 === i.length && (i = this._getLinkpathDest(e + ".md", t)), i
              );
            }),
            (t.prototype.getFirstLinkpathDest = function (e, t) {
              var n = this.getLinkpathDest(e, t);
              return n.length > 0 ? n[0] : null;
            }),
            (t.prototype._getLinkpathDest = function (e, t) {
              var n = e.toLowerCase(),
                i = Ye(n),
                r = this.uniqueFileLookup.get(i);
              if (!r) return [];
              var o = Je(t).toLowerCase();
              if (n.startsWith("./") || n.startsWith("../")) {
                if (
                  (n.startsWith("./../") && (n = n.substr(2)),
                  n.startsWith("./"))
                )
                  "" !== o && (o += "/"), (n = o + n.substring(2));
                else {
                  for (; n.startsWith("../"); ) (n = n.substr(3)), (o = Je(o));
                  "" !== o && (o += "/"), (n = o + n);
                }
                for (var s = 0, a = r; s < a.length; s++) {
                  if ((g = (f = a[s]).path.toLowerCase()) === n) return [f];
                }
              }
              n.startsWith("/") && (n = n.substr(1));
              for (var l = 0, c = r; l < c.length; l++) {
                if ((g = (f = c[l]).path.toLowerCase()) === n) return [f];
              }
              if (e.startsWith("/")) return [];
              for (var u = [], h = [], p = 0, d = r; p < d.length; p++) {
                var f, g;
                (g = (f = d[p]).path.toLowerCase()).endsWith(n) &&
                  (g.startsWith(o) ? u.push(f) : h.push(f));
              }
              return (
                u.sort(function (e, t) {
                  return e.path.length - t.path.length;
                }),
                h.sort(function (e, t) {
                  return e.path.length - t.path.length;
                }),
                u.concat(h)
              );
            }),
            (t.prototype.getLinks = function () {
              var e = {};
              for (var t in this.fileCache)
                if (this.fileCache.hasOwnProperty(t)) {
                  var n = [],
                    i = this.fileCache[t].hash,
                    r = this.metadataCache[i];
                  r &&
                    (r.links && (n = n.concat(r.links)),
                    r.embeds && (n = n.concat(r.embeds))),
                    (e[t] = n);
                }
              return e;
            }),
            (t.prototype.getFileCache = function (e) {
              return this.getCache(e.path);
            }),
            (t.prototype.getCache = function (e) {
              if (this.fileCache.hasOwnProperty(e)) {
                var t = this.fileCache[e].hash;
                return "md" !== et(Ye(e)) ? {} : this.metadataCache[t];
              }
            }),
            (t.prototype.getFileInfo = function (e) {
              return this.fileCache[e];
            }),
            (t.prototype.getCachedFiles = function () {
              return Object.keys(this.fileCache);
            }),
            (t.prototype.iterateReferences = function (e) {
              var t = function (t) {
                  if (!n.fileCache.hasOwnProperty(t)) return "continue";
                  var i = n.fileCache[t].hash;
                  ED(n.metadataCache[i], function (n) {
                    return e(t, n);
                  });
                },
                n = this;
              for (var i in this.fileCache) t(i);
            }),
            (t.prototype.getBacklinksForFile = function (e) {
              var t = this,
                n = new Pe();
              return (
                this.iterateReferences(function (i, r) {
                  var o = xD(r.link),
                    s = t.getFirstLinkpathDest(o, i);
                  s && s === e && n.add(i, r);
                }),
                n
              );
            }),
            (t.prototype.fileToLinktext = function (e, t, n) {
              void 0 === n && (n = !0);
              var i = this.vault.getConfig("newLinkFormat"),
                r = "md" === e.extension && n ? Ze(e.path) : e.path;
              if ("absolute" === i) return r;
              if ("relative" === i) {
                for (
                  var o = "", s = Je(t);
                  "" !== s && "/" !== s && 0 !== r.indexOf(s + "/");

                )
                  (o = "../" + o), (s = Je(s));
                return 0 === r.indexOf(s + "/")
                  ? o + r.substr(s.length + 1)
                  : o + r;
              }
              var a = "md" === e.extension && n ? e.basename : e.name,
                l = xD(a),
                c = this.getLinkpathDest(l, t);
              return c && 1 === c.length && c[0] === e
                ? a
                : "md" === e.extension && n
                ? Ze(e.path)
                : e.path;
            }),
            (t.prototype.watchVaultChanges = function () {
              var e = this.vault;
              e.on("create", this.onCreate.bind(this)),
                e.on("modify", this.onCreateOrModify.bind(this)),
                e.on("delete", this.onDelete.bind(this)),
                e.on("rename", this.onRename.bind(this));
            }),
            (t.prototype.initialize = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r, o, s, a, l, c, u, h, p, d, f, g, m, v;
                return D(this, function (y) {
                  switch (y.label) {
                    case 0:
                      (t = (e = this).fileCache),
                        (n = e.metadataCache),
                        (y.label = 1);
                    case 1:
                      return (
                        y.trys.push([1, 8, , 9]),
                        (i = this),
                        [
                          4,
                          UD(this.app.appId + "-cache", 19, {
                            upgrade: function (e, t, n, i) {
                              e.objectStoreNames.contains("file") &&
                                e.deleteObjectStore("file"),
                                e.objectStoreNames.contains("metadata") &&
                                  e.deleteObjectStore("metadata"),
                                e.createObjectStore("file"),
                                e.createObjectStore("metadata");
                            },
                          }),
                        ]
                      );
                    case 2:
                      return [
                        4,
                        (i.db = y.sent()).transaction(["file", "metadata"]),
                      ];
                    case 3:
                      return [
                        4,
                        (r = y.sent()).objectStore("file").getAllKeys(),
                      ];
                    case 4:
                      return (
                        (o = y.sent()), [4, r.objectStore("file").getAll()]
                      );
                    case 5:
                      for (s = y.sent(), c = 0; c < o.length; c++)
                        t[o[c]] = s[c];
                      return [4, r.objectStore("metadata").getAllKeys()];
                    case 6:
                      return (
                        (a = y.sent()), [4, r.objectStore("metadata").getAll()]
                      );
                    case 7:
                      for (l = y.sent(), c = 0; c < a.length; c++)
                        n[a[c]] = bD(l[c], kD);
                      return [3, 9];
                    case 8:
                      return (
                        (u = y.sent()),
                        console.error("Failed to load cache", u),
                        [3, 9]
                      );
                    case 9:
                      for (
                        setInterval(this.cleanupDeletedCache.bind(this), 6e5),
                          h = {},
                          p = this.vault.getAllLoadedFiles(),
                          d = 0,
                          f = p;
                        d < f.length;
                        d++
                      )
                        (v = f[d]) instanceof Ab &&
                          (this.uniqueFileLookup.add(v.name.toLowerCase(), v),
                          (h[v.path] = v));
                      for (m in t)
                        t.hasOwnProperty(m) &&
                          ((v = h[m]),
                          (g = t[m]),
                          v
                            ? n.hasOwnProperty(g.hash)
                              ? (eb.isAndroidApp &&
                                  v.stat.mtime !== g.mtime &&
                                  g.mtime % 1e3 == 0 &&
                                  1e3 * Math.floor(v.stat.mtime / 1e3) ===
                                    g.mtime &&
                                  ((g.mtime = v.stat.mtime),
                                  this.saveFileCache(m, g)),
                                v.stat.mtime !== g.mtime ||
                                v.stat.size !== g.size
                                  ? this.onCreateOrModify(v)
                                  : this.linkResolverQueue.add(v))
                              : this.onCreateOrModify(v)
                            : this.deletePath(m));
                      for (m in h)
                        h.hasOwnProperty(m) &&
                          ((v = h[m]), t[m] || this.onCreateOrModify(v));
                      return (
                        (this.initialized = !0),
                        this.watchVaultChanges(),
                        this.cleanupDeletedCache(),
                        this.trigger("initialized"),
                        this.trigger("finished"),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.clear = function () {
              return A(this, void 0, void 0, function () {
                var e;
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return (e = this.db) ? [4, e.clear("metadata")] : [3, 3];
                    case 1:
                      return t.sent(), [4, e.clear("file")];
                    case 2:
                      t.sent(), (t.label = 3);
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.showIndexingNotice = function () {
              var e,
                t,
                n = this,
                i = Lt("interface.msg-indexing"),
                r = this.inProgressTaskCount,
                o = window.setTimeout(function () {
                  n.inProgressTaskCount <= 0 ||
                    ((e = new lw(i, 0)),
                    (t = window.setInterval(function () {
                      if (e.noticeEl.offsetParent) {
                        var o = n.inProgressTaskCount,
                          s = Math.max(0, r - o);
                        e.noticeEl.setText(i + " (" + s + "/" + r + ")");
                      } else clearInterval(t);
                    }, 300)));
                }, 1e3);
              this.onCleanCache(function () {
                clearTimeout(o),
                  clearInterval(t),
                  e &&
                    (e.hide(), new lw(Lt("interface.msg-indexing-complete")));
              });
            }),
            (t.prototype.linkResolver = function () {
              var e = this,
                t = $h(
                  (this.linkResolverQueue = new Gh({
                    onStop: function () {
                      return e.trigger("resolved");
                    },
                    onCancel: function () {
                      e.linkResolverQueue = null;
                    },
                  })).generator()
                );
              A(e, void 0, void 0, function () {
                var e, n, i, r, o, s;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      a.trys.push([0, 5, 6, 11]), (e = I(t)), (a.label = 1);
                    case 1:
                      return [4, e.next()];
                    case 2:
                      if ((n = a.sent()).done) return [3, 4];
                      if (!(i = n.value) || "md" !== i.extension) return [3, 3];
                      this.resolveLinks(i.path),
                        this.trigger("resolve", i),
                        (a.label = 3);
                    case 3:
                      return [3, 1];
                    case 4:
                      return [3, 11];
                    case 5:
                      return (r = a.sent()), (o = { error: r }), [3, 11];
                    case 6:
                      return (
                        a.trys.push([6, , 9, 10]),
                        n && !n.done && (s = e.return) ? [4, s.call(e)] : [3, 8]
                      );
                    case 7:
                      a.sent(), (a.label = 8);
                    case 8:
                      return [3, 10];
                    case 9:
                      if (o) throw o.error;
                      return [7];
                    case 10:
                      return [7];
                    case 11:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.resolveLinks = function (e) {
              var t = this,
                n = this.getCache(e);
              if (n) {
                var i = {},
                  r = {};
                ED(n, function (n) {
                  var o = n.link,
                    s = xD(o),
                    a = t.getFirstLinkpathDest(s, e);
                  a
                    ? (i[a.path] = (i[a.path] || 0) + 1)
                    : ((o = YD(o)), (r[o] = (r[o] || 0) + 1));
                }),
                  (this.resolvedLinks[e] = i),
                  (this.unresolvedLinks[e] = r);
              }
            }),
            (t.prototype.onCleanCache = function (e) {
              this.isCacheClean() ? e() : this.onCleanCacheCallbacks.push(e);
            }),
            (t.prototype.checkCleanCache = function () {
              for (
                ;
                this.onCleanCacheCallbacks.length > 0 && this.isCacheClean();

              ) {
                var e = this.onCleanCacheCallbacks.shift();
                try {
                  e();
                } catch (e) {
                  console.error(e);
                }
              }
            }),
            (t.prototype.isCacheClean = function () {
              return (
                0 === this.inProgressTaskCount &&
                0 === this.linkResolverQueue.items.length &&
                !this.linkResolverQueue.runnable.isRunning()
              );
            }),
            (t.prototype.updateRelatedLinks = function (e) {
              "md" === et(e) && (e = Xe(e)), (e = e.toLowerCase());
              for (
                var t = this.resolvedLinks,
                  n = this.unresolvedLinks,
                  i = 0,
                  r = this.getCachedFiles();
                i < r.length;
                i++
              ) {
                var o = r[i];
                if (JD(e, t[o]) || JD(e, n[o])) {
                  var s = this.vault.getAbstractFileByPath(o);
                  s && s instanceof Ab && this.linkResolverQueue.add(s);
                }
              }
            }),
            (t.prototype.onCreate = function (e) {
              this.onCreateOrModify(e),
                e && e instanceof Ab && this.updateRelatedLinks(e.name);
            }),
            (t.prototype.onCreateOrModify = function (e) {
              var t = this;
              if (
                e &&
                e instanceof Ab &&
                (this.uniqueFileLookup.add(e.name.toLowerCase(), e),
                it(e.extension))
              ) {
                var n = e.stat,
                  i = e.path,
                  r = this.fileCache[i];
                if ("md" !== e.extension)
                  return (
                    (r = { mtime: n.mtime, size: n.size, hash: "" }),
                    void this.saveFileCache(i, r)
                  );
                var o = !1;
                if (r) {
                  var s = r.mtime === n.mtime && r.size === n.size,
                    a = r.hash && !!this.metadataCache[r.hash];
                  o = s && a;
                } else
                  (r = { mtime: 0, size: 0, hash: "" }),
                    this.saveFileCache(i, r);
                if (o) this.linkResolverQueue.add(e);
                else {
                  this.inProgressTaskCount++,
                    this.workQueue.queue(function () {
                      return A(t, void 0, void 0, function () {
                        var o;
                        return D(this, function (s) {
                          switch (s.label) {
                            case 0:
                              return (
                                s.trys.push([0, 2, , 3]),
                                [
                                  4,
                                  A(t, void 0, void 0, function () {
                                    var t, o, s, a, l;
                                    return D(this, function (c) {
                                      switch (c.label) {
                                        case 0:
                                          return [4, this.vault.readBinary(e)];
                                        case 1:
                                          return (
                                            (t = c.sent()),
                                            (o = $(t)),
                                            [4, X(t)]
                                          );
                                        case 2:
                                          if (
                                            ((s = c.sent()),
                                            (r.mtime = n.mtime),
                                            (r.size = n.size),
                                            (r.hash = s),
                                            this.saveFileCache(i, r),
                                            (a = this.metadataCache[s]))
                                          )
                                            return (
                                              this.linkResolverQueue.add(e),
                                              this.trigger("changed", e, o, a),
                                              [2]
                                            );
                                          (l = setTimeout(function () {
                                            new lw(
                                              "Indexing taking a long time for " +
                                                e.path
                                            );
                                          }, 1e4)),
                                            (c.label = 3);
                                        case 3:
                                          return (
                                            c.trys.push([3, , 5, 6]),
                                            [4, this.work(t)]
                                          );
                                        case 4:
                                          return (a = c.sent()), [3, 6];
                                        case 5:
                                          return clearTimeout(l), [7];
                                        case 6:
                                          return a
                                            ? (this.saveMetaCache(s, a),
                                              this.linkResolverQueue.add(e),
                                              this.trigger("changed", e, o, a),
                                              [2])
                                            : (console.log(
                                                "Metadata failed to parse",
                                                e
                                              ),
                                              [2]);
                                      }
                                    });
                                  }),
                                ]
                              );
                            case 1:
                              return s.sent(), [3, 3];
                            case 2:
                              return (o = s.sent()), console.error(o), [3, 3];
                            case 3:
                              return (
                                this.inProgressTaskCount--,
                                0 === this.inProgressTaskCount &&
                                  this.trigger("finished"),
                                [2]
                              );
                          }
                        });
                      });
                    });
                }
              }
            }),
            (t.prototype.onDelete = function (e) {
              e &&
                e instanceof Ab &&
                (this.uniqueFileLookup.remove(e.name.toLowerCase(), e),
                it(e.extension) &&
                  (this.trigger("deleted", e, this.getFileCache(e)),
                  this.deletePath(e.path)));
            }),
            (t.prototype.deletePath = function (e) {
              delete this.resolvedLinks[e],
                delete this.unresolvedLinks[e],
                this.saveFileCache(e, null),
                this.updateRelatedLinks(Ye(e)),
                this.linkResolverQueue.add(null),
                this.trigger("finished");
            }),
            (t.prototype.onRename = function (e, t) {
              if (e && e instanceof Ab) {
                var n = e.path,
                  i = this,
                  r = i.uniqueFileLookup,
                  o = i.resolvedLinks,
                  s = i.unresolvedLinks,
                  a = i.fileCache;
                if (
                  (r.remove(Ye(t).toLowerCase(), e),
                  r.add(e.name.toLowerCase(), e),
                  it(e.extension))
                ) {
                  o.hasOwnProperty(t) && ((o[n] = o[t]), delete o[t]),
                    s.hasOwnProperty(t) && ((s[n] = s[t]), delete s[t]),
                    a.hasOwnProperty(t) &&
                      (this.saveFileCache(n, a[t]),
                      this.saveFileCache(t, null));
                  var l = Ye(t),
                    c = Ye(n);
                  this.updateRelatedLinks(l),
                    c !== l && this.updateRelatedLinks(c),
                    this.linkResolverQueue.add(null);
                }
              }
            }),
            (t.prototype.saveFileCache = function (e, t) {
              t
                ? ((this.fileCache[e] = t),
                  this.db &&
                    this.db.transaction("file", "readwrite").store.put(t, e))
                : (delete this.fileCache[e],
                  this.db &&
                    this.db.transaction("file", "readwrite").store.delete(e));
            }),
            (t.prototype.saveMetaCache = function (e, t) {
              if (t) {
                this.metadataCache[e] = t;
                var n = JSON.parse(JSON.stringify(t));
                bD(n, wD),
                  this.db &&
                    this.db
                      .transaction("metadata", "readwrite")
                      .store.put(n, e);
              } else
                delete this.metadataCache[e],
                  this.db &&
                    this.db
                      .transaction("metadata", "readwrite")
                      .store.delete(e);
            }),
            (t.prototype.work = function (e) {
              var t = this;
              if (this.workerResolve)
                throw new Error("Work queue must be sequential!");
              return new Promise(function (n) {
                (t.workerResolve = n),
                  t.worker.postMessage({ metadataCache: e }, [e]);
              });
            }),
            (t.prototype.onReceiveMessageFromWorker = function (e) {
              this.workerResolve &&
                (this.workerResolve(e.data), (this.workerResolve = null));
            }),
            (t.prototype.cleanupDeletedCache = function () {
              var e = this.fileCache,
                t = this.metadataCache,
                n = {};
              for (var i in e) {
                if (e.hasOwnProperty(i)) n[e[i].hash] = !0;
              }
              for (var r in t)
                t.hasOwnProperty(r) && (n[r] || this.saveMetaCache(r, null));
            }),
            (t.prototype.trigger = function (t) {
              for (var n = [], i = 1; i < arguments.length; i++)
                n[i - 1] = arguments[i];
              e.prototype.trigger.apply(this, P([t], n));
            }),
            (t.prototype.on = function (t, n, i) {
              return e.prototype.on.call(this, t, n, i);
            }),
            t
          );
        })(Sb),
        ZD = (function () {
          function e(e) {
            this.components = [];
            var t = (this.settingEl = e.createDiv("setting-item")),
              n = (this.infoEl = t.createDiv("setting-item-info"));
            (this.nameEl = n.createDiv("setting-item-name")),
              (this.descEl = n.createDiv("setting-item-description")),
              (this.controlEl = t.createDiv("setting-item-control"));
          }
          return (
            (e.prototype.setName = function (e) {
              return this.nameEl.setText(e), this;
            }),
            (e.prototype.setDesc = function (e) {
              return this.descEl.setText(e), this;
            }),
            (e.prototype.setClass = function (e) {
              return this.settingEl.addClass(e), this;
            }),
            (e.prototype.setTooltip = function (e) {
              return nn(this.nameEl, e), this;
            }),
            (e.prototype.setHeading = function () {
              return this.settingEl.addClass("setting-item-heading"), this;
            }),
            (e.prototype.setDisabled = function (e) {
              this.settingEl.toggleClass("is-disabled", e);
              for (var t = 0, n = this.components; t < n.length; t++) {
                n[t].setDisabled(e);
              }
              return this;
            }),
            (e.prototype.addButton = function (e) {
              var t = new nT(this.controlEl);
              return this.components.push(t), e(t), this;
            }),
            (e.prototype.addExtraButton = function (e) {
              var t = new iT(this.controlEl);
              return this.components.push(t), e(t), this;
            }),
            (e.prototype.addToggle = function (e) {
              var t = new rT(this.controlEl);
              return (
                this.components.push(t),
                e(t),
                this.settingEl.addClass("mod-toggle"),
                this
              );
            }),
            (e.prototype.addText = function (e) {
              var t = new sT(this.controlEl);
              return this.components.push(t), e(t), this;
            }),
            (e.prototype.addSearch = function (e) {
              var t = new aT(this.controlEl);
              return this.components.push(t), e(t), this;
            }),
            (e.prototype.addTextArea = function (e) {
              var t = new lT(this.controlEl);
              return this.components.push(t), e(t), this;
            }),
            (e.prototype.addMomentFormat = function (e) {
              var t = new cT(this.controlEl);
              return this.components.push(t), e(t), this;
            }),
            (e.prototype.addDropdown = function (e) {
              var t = new uT(this.controlEl);
              return this.components.push(t), e(t), this;
            }),
            (e.prototype.addSlider = function (e) {
              var t = new hT(this.controlEl);
              return this.components.push(t), e(t), this;
            }),
            (e.prototype.then = function (e) {
              return e(this), this;
            }),
            (e.prototype.clear = function () {
              return this.controlEl.empty(), (this.components = []), this;
            }),
            e
          );
        })(),
        eT = (function () {
          function e() {
            this.disabled = !1;
          }
          return (
            (e.prototype.then = function (e) {
              return e(this), this;
            }),
            (e.prototype.setDisabled = function (e) {
              return (this.disabled = e), this;
            }),
            e
          );
        })(),
        tT = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.registerOptionListener = function (e, t) {
              var n = this;
              return (
                (e[t] = function (e) {
                  return void 0 !== e && n.setValue(e), n.getValue();
                }),
                this
              );
            }),
            t
          );
        })(eT),
        nT = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (
              (n.buttonEl = t.createEl("button")).addEventListener(
                "click",
                function (e) {
                  var t = n.clickCallback;
                  !n.disabled && t && t(e);
                }
              ),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.setDisabled = function (t) {
              return (
                e.prototype.setDisabled.call(this, t),
                (this.buttonEl.disabled = t),
                this
              );
            }),
            (t.prototype.setCta = function () {
              return this.buttonEl.addClass("mod-cta"), this;
            }),
            (t.prototype.removeCta = function () {
              return this.buttonEl.removeClass("mod-cta"), this;
            }),
            (t.prototype.setWarning = function () {
              return this.buttonEl.addClass("mod-warning"), this;
            }),
            (t.prototype.setTooltip = function (e) {
              return nn(this.buttonEl, e), this;
            }),
            (t.prototype.setButtonText = function (e) {
              return this.buttonEl.setText(e), this;
            }),
            (t.prototype.setIcon = function (e) {
              return Xy(this.buttonEl, e, 14), this;
            }),
            (t.prototype.setClass = function (e) {
              return this.buttonEl.addClass(e), this;
            }),
            (t.prototype.onClick = function (e) {
              return (this.clickCallback = e), this;
            }),
            t
          );
        })(eT),
        iT = (function (e) {
          function t(t) {
            var n = e.call(this) || this,
              i = (n.extraSettingsEl = t.createDiv(
                "setting-editor-extra-setting-button clickable-icon"
              ));
            return (
              Xy(i, xm),
              i.addEventListener("click", function () {
                var e = n.changeCallback;
                !n.disabled && e && e();
              }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.setDisabled = function (t) {
              return (
                e.prototype.setDisabled.call(this, t),
                this.extraSettingsEl.toggleClass("is-disabled", t),
                this
              );
            }),
            (t.prototype.setTooltip = function (e) {
              return nn(this.extraSettingsEl, e), this;
            }),
            (t.prototype.setIcon = function (e) {
              return Xy(this.extraSettingsEl, e), this;
            }),
            (t.prototype.onClick = function (e) {
              return (this.changeCallback = e), this;
            }),
            t
          );
        })(eT),
        rT = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (
              (n.on = !1),
              (n.toggleEl = t.createDiv("checkbox-container")).addEventListener(
                "click",
                n.onClick.bind(n)
              ),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.setDisabled = function (t) {
              return (
                e.prototype.setDisabled.call(this, t),
                this.toggleEl.toggleClass("is-disabled", t),
                this
              );
            }),
            (t.prototype.getValue = function () {
              return this.on;
            }),
            (t.prototype.setValue = function (e) {
              (this.on = e), this.toggleEl.toggleClass("is-enabled", e);
              var t = this.changeCallback;
              return t && t(e), this;
            }),
            (t.prototype.setTooltip = function (e) {
              return nn(this.toggleEl, e), this;
            }),
            (t.prototype.onClick = function () {
              this.disabled || this.setValue(!this.getValue());
            }),
            (t.prototype.onChange = function (e) {
              return (this.changeCallback = e), this;
            }),
            t
          );
        })(tT),
        oT = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (
              (n.inputEl = t),
              t.addEventListener("input", n.onChanged.bind(n)),
              t.setAttribute("spellcheck", "false"),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.setDisabled = function (t) {
              return (
                e.prototype.setDisabled.call(this, t),
                (this.inputEl.disabled = t),
                this
              );
            }),
            (t.prototype.getValue = function () {
              return this.inputEl.value;
            }),
            (t.prototype.setValue = function (e) {
              return String.isString(e) && (this.inputEl.value = e), this;
            }),
            (t.prototype.setPlaceholder = function (e) {
              return this.inputEl.setAttribute("placeholder", e), this;
            }),
            (t.prototype.onChanged = function () {
              var e = this.changeCallback;
              e && e(this.inputEl.value);
            }),
            (t.prototype.onChange = function (e) {
              return (this.changeCallback = e), this;
            }),
            t
          );
        })(tT),
        sT = (function (e) {
          function t(t) {
            return e.call(this, t.createEl("input", { type: "text" })) || this;
          }
          return M(t, e), t;
        })(oT),
        aT = (function (e) {
          function t(t) {
            var n = this,
              i = t.createDiv("search-input-container"),
              r = i.createEl("input", { type: "text" });
            return (
              ((n = e.call(this, r) || this).containerEl = i),
              (n.clearButtonEl = i.createDiv(
                "search-input-clear-button",
                function (e) {
                  e.addEventListener("click", function () {
                    n.disabled || ((r.value = ""), r.focus(), n.onChanged());
                  }),
                    e.hide();
                }
              )),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.onChanged = function () {
              var t = this.inputEl.value;
              this.clearButtonEl.toggle("" !== t),
                e.prototype.onChanged.call(this);
            }),
            (t.prototype.setValue = function (t) {
              return (
                this.clearButtonEl.toggle("" !== t),
                e.prototype.setValue.call(this, t)
              );
            }),
            t
          );
        })(oT),
        lT = (function (e) {
          function t(t) {
            return e.call(this, t.createEl("textarea")) || this;
          }
          return M(t, e), t;
        })(oT),
        cT = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.setDefaultFormat = function (e) {
              return (
                (this.defaultFormat = e),
                this.setPlaceholder(e),
                this.updateSample(),
                this
              );
            }),
            (t.prototype.setSampleEl = function (e) {
              return (this.sampleEl = e), this.updateSample(), this;
            }),
            (t.prototype.setValue = function (t) {
              return (
                e.prototype.setValue.call(this, t), this.updateSample(), this
              );
            }),
            (t.prototype.onChanged = function () {
              e.prototype.onChanged.call(this), this.updateSample();
            }),
            (t.prototype.updateSample = function () {
              var e = this.sampleEl;
              if (e) {
                var t = this.inputEl.value || this.defaultFormat;
                if (t) {
                  var n = window.moment().format(t);
                  e.setText(n);
                } else e.setText("");
              }
            }),
            t
          );
        })(sT),
        uT = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (
              (n.selectEl = t.createEl("select", "dropdown")),
              n.selectEl.addEventListener("change", function () {
                var e = n.changeCallback;
                e && e(n.getValue());
              }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.setDisabled = function (t) {
              return (
                e.prototype.setDisabled.call(this, t),
                (this.selectEl.disabled = t),
                this
              );
            }),
            (t.prototype.addOption = function (e, t) {
              return (
                this.selectEl.createEl("option", { value: e, text: t }), this
              );
            }),
            (t.prototype.addOptions = function (e) {
              for (var t in e)
                e.hasOwnProperty(t) &&
                  this.selectEl.createEl("option", { value: t, text: e[t] });
              return this;
            }),
            (t.prototype.getValue = function () {
              return this.selectEl.value;
            }),
            (t.prototype.setValue = function (e) {
              return (this.selectEl.value = e), this;
            }),
            (t.prototype.onChange = function (e) {
              return (this.changeCallback = e), this;
            }),
            t
          );
        })(tT),
        hT = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            n.dynamicTooltip = !1;
            var i = (n.sliderEl = t.createEl("input", {
              type: "range",
              cls: "slider",
            }));
            return (
              i.addEventListener("input", function () {
                var e = n.changeCallback;
                e && e(n.getValue()), n.dynamicTooltip && n.showTooltip();
              }),
              i.addEventListener("click", function (e) {
                e.stopPropagation();
              }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.setDisabled = function (t) {
              return (
                e.prototype.setDisabled.call(this, t),
                (this.sliderEl.disabled = t),
                this
              );
            }),
            (t.prototype.setLimits = function (e, t, n) {
              return this.sliderEl.setAttrs({ min: e, max: t, step: n }), this;
            }),
            (t.prototype.getValue = function () {
              return this.sliderEl.valueAsNumber;
            }),
            (t.prototype.setValue = function (e) {
              this.sliderEl.valueAsNumber = e;
              var t = this.changeCallback;
              return t && t(e), this;
            }),
            (t.prototype.getValuePretty = function () {
              var e = this.sliderEl,
                t = this.getValue();
              return "any" === e.step || parseFloat(e.step) < 1
                ? t.toFixed(2)
                : t.toString();
            }),
            (t.prototype.setDynamicTooltip = function () {
              var e = this.sliderEl;
              return (
                e.addEventListener("mouseenter", this.showTooltip.bind(this)),
                e.addEventListener("mouseleave", en),
                (this.dynamicTooltip = !0),
                this
              );
            }),
            (t.prototype.showTooltip = function () {
              Zt(this.sliderEl, this.getValuePretty());
            }),
            (t.prototype.onChange = function (e) {
              return (this.changeCallback = e), this;
            }),
            t
          );
        })(tT),
        pT = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (
              (n.colorPickerEl = t.createEl("input", { type: "color" })),
              n.colorPickerEl.addEventListener("change", function () {
                var e = n.changeCallback;
                e && e(n.getValue());
              }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.getValue = function () {
              return this.colorPickerEl.value.slice(1);
            }),
            (t.prototype.getValueInt = function () {
              return parseInt(this.getValue(), 16);
            }),
            (t.prototype.setValue = function (e) {
              this.colorPickerEl.value = "#" + e;
              var t = this.changeCallback;
              return t && t(this.getValue()), this;
            }),
            (t.prototype.setValueInt = function (e) {
              return this.setValue(e.toString(16).padStart(6, "0"));
            }),
            (t.prototype.onChange = function (e) {
              return (this.changeCallback = e), this;
            }),
            t
          );
        })(tT),
        dT = {
          none: [],
          copy: ["copy"],
          copyLink: ["copy", "link"],
          copyMove: ["copy", "move"],
          link: ["link"],
          linkMove: ["link", "move"],
          move: ["move"],
          all: ["copy", "link", "move"],
          uninitialized: [],
        };
      function fT(e, t) {
        t &&
          (function (e, t) {
            if ("none" === t) return !0;
            var n = dT[e.dataTransfer.effectAllowed];
            return !!n && n.contains(t);
          })(e, t) &&
          (e.dataTransfer.dropEffect = t);
      }
      var gT = (function () {
          function e(e) {
            var t = this;
            (this.ghostEl = null),
              (this.actionEl = null),
              (this.draggable = null),
              (this.sourceEls = null),
              (this.sourceClass = ""),
              (this.hoverEl = null),
              (this.hoverClass = ""),
              (this.dragStart = null),
              (this.onTouchEnd = function (e) {
                0 === e.touches.length && t.onDragEnd();
              }),
              (this.app = e),
              window.addEventListener("drag", this.onDrag.bind(this)),
              window.addEventListener("dragover", this.onDragOver.bind(this)),
              window.addEventListener("dragend", this.onDragEnd.bind(this)),
              window.addEventListener("drop", this.onDragEnd.bind(this));
          }
          return (
            (e.prototype.onDrag = function (e) {
              var t = e.clientX,
                n = e.clientY;
              if (0 !== t || 0 !== n) {
                var i = this.ghostEl,
                  r = this.dragStart;
                i &&
                  (eb.isMobile
                    ? ((t -= i.offsetWidth / 2), (n -= i.offsetHeight + 20))
                    : ((t += 5), (n += 5)),
                  (i.style.left = t + "px"),
                  (i.style.top = n + "px"),
                  i.show()),
                  r &&
                    !r.moved &&
                    (Math.abs(r.evt.clientX - e.clientX) > 5 ||
                      Math.abs(r.evt.clientY - e.clientY) > 5) &&
                    (r.moved = !0),
                  this.setAction(null),
                  (e.dataTransfer.dropEffect = "none");
              }
            }),
            (e.prototype.onDragOver = function (e) {
              e.defaultPrevented ||
                (this.setAction(null),
                (e.dataTransfer.dropEffect = "none"),
                this.updateHover(null, "")),
                eb.isMobile &&
                  (e.preventDefault(),
                  "none" === e.dataTransfer.dropEffect &&
                    (e.dataTransfer.dropEffect = "move"));
            }),
            (e.prototype.onDragEnd = function () {
              var e = this.ghostEl,
                t = this.dragStart;
              if ((e && e.detach(), t && !t.moved)) {
                var n = t.evt;
                n.target.dispatchEvent(
                  new MouseEvent("contextmenu", {
                    button: 0,
                    buttons: 0,
                    ctrlKey: n.ctrlKey,
                    altKey: n.altKey,
                    metaKey: n.metaKey,
                    shiftKey: n.shiftKey,
                    screenX: n.screenX,
                    screenY: n.screenY,
                    bubbles: !0,
                    cancelable: !0,
                    clientX: n.clientX,
                    clientY: n.clientY,
                  })
                );
              }
              (this.dragStart = null),
                (this.draggable = null),
                this.updateSource(null, ""),
                this.updateHover(null, ""),
                document.body.removeClass("is-grabbing"),
                (this.dragStart = null),
                window.removeEventListener("touchend", this.onTouchEnd);
            }),
            (e.prototype.onDragStart = function (e, t) {
              (this.draggable = t),
                eb.isMobile &&
                  ((this.dragStart = { evt: e, moved: !1 }),
                  window.addEventListener("touchend", this.onTouchEnd)),
                document.body.addClass("is-grabbing"),
                (e.dataTransfer.effectAllowed = "all");
              var n = this.ghostEl;
              n && n.detach();
              var i = (this.ghostEl = document.body.createDiv("drag-ghost")),
                r = i.createDiv("drag-ghost-self");
              t.icon && Xy(r, t.icon),
                t.title && r.createSpan({ text: t.title }),
                (this.actionEl = i.createDiv("drag-ghost-action"));
              var o = new Image();
              (o.src =
                "data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs="),
                document.body.append(o),
                e.dataTransfer.setDragImage(o, 0, 0),
                setTimeout(function () {
                  return o.detach();
                }, 0),
                0 === e.dataTransfer.items.length &&
                  e.dataTransfer.setData("text/plain", "");
            }),
            (e.prototype.handleDrag = function (e, t) {
              var n = this;
              (e.draggable = !0),
                e.addEventListener("dragstart", function (e) {
                  var i = t(e);
                  i && n.onDragStart(e, i);
                });
            }),
            (e.prototype.dragFile = function (e, t, n) {
              return (
                Oh(e.dataTransfer, this.app.getObsidianUrl(t)),
                {
                  source: n,
                  type: "file",
                  icon: dm,
                  title: st(t.path),
                  file: t,
                }
              );
            }),
            (e.prototype.dragFolder = function (e, t, n) {
              return {
                source: n,
                type: "folder",
                icon: fm,
                title: t.name,
                file: t,
              };
            }),
            (e.prototype.dragFiles = function (e, t, n) {
              if (0 === t.length) return null;
              for (
                var i, r = 0, o = 0, s = [], a = 0, l = t;
                a < l.length;
                a++
              ) {
                var c = l[a];
                c instanceof Ab
                  ? (r++, s.push(this.app.getObsidianUrl(c)))
                  : c instanceof Db && o++;
              }
              return (
                o > 0 && r > 0
                  ? (i = r + " files and " + o + " folders")
                  : o > 0
                  ? (i = o + " folders")
                  : r > 0 && (i = r + " files"),
                Oh(e.dataTransfer, s.join("\n")),
                { source: n, type: "files", icon: Sm, title: i, files: t }
              );
            }),
            (e.prototype.dragLink = function (e, t, n, i) {
              var r = this.app.metadataCache.getFirstLinkpathDest(xD(t), n),
                o = t,
                s = t;
              return (
                r && ((o = this.app.getObsidianUrl(r)), (s = st(r.path))),
                Oh(e.dataTransfer, o),
                {
                  source: i,
                  type: "link",
                  icon: Pm,
                  title: s,
                  linktext: t,
                  sourcePath: n,
                  file: r,
                }
              );
            }),
            (e.prototype.handleDrop = function (e, t, n) {
              var i = this;
              e.addEventListener("dragover", function (e) {
                if ((n || i.draggable) && !e.defaultPrevented) {
                  var r = t(e, i.draggable, !0);
                  if (r) {
                    e.preventDefault();
                    var o = r.action,
                      s = r.dropEffect,
                      a = r.hoverEl,
                      l = r.hoverClass;
                    o && i.setAction(o),
                      s && (e.dataTransfer.dropEffect = s),
                      a && l && i.updateHover(a, l);
                  }
                }
              }),
                e.addEventListener("drop", function (e) {
                  (n || i.draggable) &&
                    (e.defaultPrevented ||
                      (t(e, i.draggable, !1) && e.preventDefault()));
                });
            }),
            (e.prototype.setAction = function (e) {
              var t = this.actionEl;
              t && (e ? (t.setText(e), t.show()) : t.hide());
            }),
            (e.prototype.updateSource = function (e, t) {
              if (this.sourceEls)
                for (var n = 0, i = this.sourceEls; n < i.length; n++) {
                  i[n].removeClass(this.sourceClass);
                }
              if (((this.sourceEls = e), (this.sourceClass = t), e))
                for (var r = 0, o = e; r < o.length; r++) {
                  o[r].addClass(t);
                }
            }),
            (e.prototype.updateHover = function (e, t) {
              e !== this.hoverEl &&
                (this.hoverEl && this.hoverEl.removeClass(this.hoverClass),
                (this.hoverEl = e),
                (this.hoverClass = t),
                e && e.addClass(t));
            }),
            e
          );
        })(),
        mT = (function () {
          function e(e, t) {
            (this.view = e), (this.app = e.app), (this.editor = t);
          }
          return (
            (e.prototype.handlePaste = function (e) {
              var t = this;
              if (
                (e.defaultPrevented ||
                  this.app.workspace.trigger(
                    "editor-paste",
                    e,
                    this.editor,
                    this.view
                  ),
                e.defaultPrevented)
              )
                return !0;
              var n = e.clipboardData,
                i = this.handleDataTransfer(n);
              if (i)
                return (
                  this.editor.replaceSelection(i, "paste"),
                  e.preventDefault(),
                  !0
                );
              if (!n.getData("text/plain")) {
                var r = n.items,
                  o = [],
                  s = function (e) {
                    if (!r.hasOwnProperty(e)) return "continue";
                    var t = r[e];
                    if ("file" !== t.kind) return "continue";
                    var n = t.getAsFile();
                    if (!n) return "continue";
                    var i = new FileReader(),
                      s = null;
                    (i.onload = function (e) {
                      s = e.target.result;
                    }),
                      i.readAsArrayBuffer(n);
                    var a = n.type,
                      l = "";
                    "image/png" === a
                      ? (l = "png")
                      : "image/jpeg" === a && (l = "jpg"),
                      l &&
                        s &&
                        o.push({ name: "Pasted image", extension: l, data: s });
                  };
                for (var a in r) s(a);
                A(t, void 0, void 0, function () {
                  var e, t, n;
                  return D(this, function (i) {
                    switch (i.label) {
                      case 0:
                        return eb.isDesktopApp && 0 === o.length
                          ? [4, gt()]
                          : [3, 2];
                      case 1:
                        (n = i.sent()) && o.push(n), (i.label = 2);
                      case 2:
                        (e = 0), (t = o), (i.label = 3);
                      case 3:
                        return e < t.length
                          ? (n = t[e]).data
                            ? [
                                4,
                                this.saveAttachment(
                                  n.name,
                                  n.extension,
                                  n.data
                                ),
                              ]
                            : [3, 5]
                          : [3, 6];
                      case 4:
                        i.sent(), (i.label = 5);
                      case 5:
                        return e++, [3, 3];
                      case 6:
                        return [2];
                    }
                  });
                });
              }
              return !1;
            }),
            (e.prototype.handleDragOver = function (e) {
              var t = this.app.dragManager.draggable;
              if (t) {
                if (fe ? e.shiftKey : e.altKey) return;
                "file" === t.type
                  ? (fT(e, "link"),
                    this.app.dragManager.setAction(
                      Lt("interface.drag-and-drop.insert-link-here")
                    ))
                  : "files" === t.type
                  ? (fT(e, "link"),
                    this.app.dragManager.setAction(
                      Lt("interface.drag-and-drop.insert-links-here")
                    ))
                  : ("link" === t.type || "heading" === t.type) &&
                    (fT(e, "link"),
                    this.app.dragManager.setAction(
                      Lt("interface.drag-and-drop.insert-link-here")
                    ));
              } else e.ctrlKey ? fT(e, "link") : fT(e, "copy");
            }),
            (e.prototype.handleDrop = function (e) {
              var t = this.app,
                n = null,
                i = t.dragManager.draggable;
              if (i) {
                if (fe ? e.shiftKey : e.altKey)
                  return e.preventDefault(), this.view.handleDrop(e, i, !1), !0;
                if ("file" === i.type)
                  n = t.fileManager.generateMarkdownLink(
                    i.file,
                    this.view.file.path
                  );
                else if ("files" === i.type) {
                  for (var r = [], o = 0, s = i.files; o < s.length; o++) {
                    var a = s[o];
                    a instanceof Ab &&
                      r.push(
                        t.fileManager.generateMarkdownLink(
                          a,
                          this.view.file.path
                        )
                      );
                  }
                  n = r.join("\n");
                } else if ("link" === i.type)
                  if (i.file) {
                    var l = SD(i.linktext).subpath;
                    n = t.fileManager.generateMarkdownLink(
                      i.file,
                      this.view.file.path,
                      l
                    );
                  } else n = i.linktext;
                else if ("heading" === i.type) {
                  l = AD(i.heading.heading);
                  n = t.fileManager.generateMarkdownLink(
                    i.file,
                    this.view.file.path,
                    "#" + l
                  );
                }
              } else {
                if (
                  (e.defaultPrevented ||
                    this.app.workspace.trigger(
                      "editor-drop",
                      e,
                      this.editor,
                      this.view
                    ),
                  e.defaultPrevented)
                )
                  return !0;
                e.shiftKey || (n = this.handleDataTransfer(e.dataTransfer)),
                  n || (n = this.handleDropIntoEditor(e));
              }
              if (String.isString(n)) {
                var c = this.editor,
                  u = c.posAtMouse(e);
                return (
                  c.setCursor(u),
                  c.replaceSelection(n),
                  c.focus(),
                  e.preventDefault(),
                  !0
                );
              }
              return !1;
            }),
            (e.prototype.handleDropIntoEditor = function (e) {
              var t = this,
                n = e.dataTransfer.files;
              if (n.length > 0) {
                for (var i = [], r = 0; r < n.length; r++) {
                  (s = n[r].path) && i.push(s);
                }
                if (e.ctrlKey) {
                  var o = [];
                  for (r = 0; r < i.length; r++) {
                    var s,
                      a = Ye(ot((s = i[r]))),
                      l = et(a),
                      c = "md" === l ? Xe(a) : a,
                      u = wg(s),
                      h =
                        "[" +
                        c +
                        "](" +
                        (u = u.startsWith("/")
                          ? "file://" + u
                          : "file:///" + u) +
                        ")";
                    je.contains(l) && (h = "!" + h), o.push(h);
                  }
                  return o.join("\n");
                }
                return (
                  A(t, void 0, void 0, function () {
                    var e, t, r, o, s, a;
                    return D(this, function (l) {
                      switch (l.label) {
                        case 0:
                          (e = 0), (l.label = 1);
                        case 1:
                          return e < i.length
                            ? ((t = i[e]),
                              (r = Ye(rt(t))),
                              (o = et(r)),
                              (s = Xe(r)),
                              [4, ht(t)])
                            : [3, 5];
                        case 2:
                          return (a = l.sent())
                            ? [
                                4,
                                this.saveAttachment(s, o, a, e < n.length - 1),
                              ]
                            : [3, 4];
                        case 3:
                          l.sent(), (l.label = 4);
                        case 4:
                          return e++, [3, 1];
                        case 5:
                          return [2];
                      }
                    });
                  }),
                  ""
                );
              }
              return null;
            }),
            (e.prototype.handleDataTransfer = function (e) {
              var t = e.getData("text/html");
              if (t) {
                return e.files.length > 0 &&
                  (/<!--StartFragment--><img src=[^>]+><!--EndFragment-->/.test(
                    t
                  ) ||
                    /^<meta[^>]+><img src=[^>]+>/.test(t))
                  ? null
                  : this.app.vault.getConfig("autoConvertHtml")
                  ? mD(t)
                  : null;
              }
              var n = e.getData("text/plain") || "",
                i = e.getData("text/uri-list");
              if (i && i.toLowerCase() !== n.toLowerCase()) {
                var r = et(Ye(i)),
                  o = "[" + n + "](" + i + ")";
                return je.contains(r) && (o = "!" + o), o;
              }
              return null;
            }),
            (e.prototype.saveAttachment = function (e, t, n, i) {
              return A(this, void 0, void 0, function () {
                var r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return (
                        "Pasted image" === e &&
                          (e += " " + window.moment().format("YYYYMMDDHHmmss")),
                        [4, this.app.saveAttachment(e, t, n)]
                      );
                    case 1:
                      return (
                        (r = s.sent()) &&
                          ((o = this.app.fileManager.generateMarkdownLink(
                            r,
                            this.view.file.path
                          )),
                          i && (o += "\n\n"),
                          this.editor.replaceSelection(o)),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.onContextMenu = function (e) {
              return A(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g,
                  m,
                  v,
                  y,
                  b,
                  w,
                  k,
                  C,
                  x,
                  S,
                  E,
                  M,
                  L = this;
                return D(this, function (T) {
                  switch (T.label) {
                    case 0:
                      return e.defaultPrevented
                        ? [2]
                        : ((n = (t = this).app),
                          (i = t.editor),
                          (r = i.posAtMouse(e)),
                          (o = null),
                          e.button ||
                            e.buttons ||
                            e.which ||
                            ((s = i.getCursor("from")),
                            (a = i.getCursor("to")),
                            (uh(s, r) && uh(r, a)) ||
                              ((r = i.getCursor("head")),
                              (o = i.listSelections()),
                              e.stopPropagation())),
                          r
                            ? ((l = eb.isDesktopApp && ct("electron")),
                              (c = !0),
                              (u = !0),
                              (h = !0),
                              (p = ""),
                              (d = null),
                              (f = null),
                              (g = null),
                              (m = i.getSpellcheckStatus(e, r)) &&
                                ((p = m.misspelledWord),
                                (d = m.dictionarySuggestions),
                                (f = m.replace),
                                (g = m.addToDictionary)),
                              l && e.isTrusted
                                ? ((v = l.ipcRenderer),
                                  [
                                    4,
                                    new Promise(function (e) {
                                      var t = window.setTimeout(function () {
                                        e(null);
                                      }, 1e3);
                                      v.once("context-menu", function (n, i) {
                                        window.clearTimeout(t), e(i);
                                      }),
                                        v.send("context-menu");
                                    }),
                                  ])
                                : [3, 2])
                            : [2]);
                    case 1:
                      return !(y = T.sent() || {}) || e.defaultPrevented
                        ? [2]
                        : ((M = y.editFlags || {}),
                          (c = M.canCut),
                          (u = M.canCopy),
                          (h = M.canPaste),
                          y.misspelledWord &&
                            ((p = y.misspelledWord),
                            (d = y.dictionarySuggestions),
                            (f = function (e) {
                              v.send(
                                "context-menu-action",
                                "replaceMisspelling",
                                e
                              );
                            }),
                            (g = function (e) {
                              v.send(
                                "context-menu-action",
                                "addWordToDictionary",
                                e
                              );
                            })),
                          [3, 3]);
                    case 2:
                      e.preventDefault(), (T.label = 3);
                    case 3:
                      if ((o && i.setSelections(o), (b = new rw(n)), p)) {
                        if (0 === (w = d || []).length)
                          b.addItem(function (e) {
                            return e.setTitle(
                              Lt("editor.spellcheck.no-suggestion")
                            );
                          });
                        else
                          for (
                            w.length > 6 && (w = w.slice(0, 6)),
                              k = function (e) {
                                b.addItem(function (t) {
                                  return t
                                    .setTitle(e)
                                    .setIcon(dv)
                                    .onClick(function () {
                                      b.hide(), f && f(e);
                                    });
                                });
                              },
                              C = 0,
                              x = w;
                            C < x.length;
                            C++
                          )
                            (S = x[C]), k(S);
                        b.addSeparator().addItem(function (e) {
                          return e
                            .setTitle(Lt("editor.spellcheck.add-to-dictionary"))
                            .setIcon(Cv)
                            .onClick(function () {
                              g && g(p);
                            });
                        }),
                          b.addSeparator();
                      }
                      return (
                        (E = i.getClickableTokenAt(r)) &&
                          ("internal-link" === E.type
                            ? n.workspace.handleLinkContextMenu(
                                b,
                                E.text,
                                this.view.file.path
                              )
                            : "external-link" === E.type
                            ? n.workspace.handleExternalLinkContextMenu(
                                b,
                                E.text
                              )
                            : E.type),
                        n.workspace.trigger("editor-menu", b, i, this.view),
                        b.items.length > 0 && b.addSeparator(),
                        b.addItem(function (e) {
                          return e
                            .setTitle(Lt("interface.menu.cut"))
                            .setIcon(qy)
                            .setDisabled(!c)
                            .onClick(function () {
                              return A(L, void 0, void 0, function () {
                                var e;
                                return D(this, function (t) {
                                  switch (t.label) {
                                    case 0:
                                      return l
                                        ? (l.ipcRenderer.send(
                                            "context-menu-action",
                                            "cut"
                                          ),
                                          [3, 3])
                                        : [3, 1];
                                    case 1:
                                      return (
                                        (e = i.getSelection()),
                                        i.replaceSelection(""),
                                        [4, navigator.clipboard.writeText(e)]
                                      );
                                    case 2:
                                      t.sent(), (t.label = 3);
                                    case 3:
                                      return [2];
                                  }
                                });
                              });
                            });
                        }),
                        b.addItem(function (e) {
                          return e
                            .setTitle(Lt("interface.menu.copy"))
                            .setIcon(Vy)
                            .setDisabled(!u)
                            .onClick(function () {
                              return A(L, void 0, void 0, function () {
                                var e;
                                return D(this, function (t) {
                                  switch (t.label) {
                                    case 0:
                                      return l
                                        ? (l.ipcRenderer.send(
                                            "context-menu-action",
                                            "copy"
                                          ),
                                          [3, 3])
                                        : [3, 1];
                                    case 1:
                                      return (
                                        (e = i.getSelection()),
                                        [4, navigator.clipboard.writeText(e)]
                                      );
                                    case 2:
                                      t.sent(), (t.label = 3);
                                    case 3:
                                      return [2];
                                  }
                                });
                              });
                            });
                        }),
                        b.addItem(function (e) {
                          return e
                            .setTitle(Lt("interface.menu.paste"))
                            .setIcon(jy)
                            .setDisabled(!h)
                            .onClick(function () {
                              return A(L, void 0, void 0, function () {
                                var e;
                                return D(this, function (t) {
                                  switch (t.label) {
                                    case 0:
                                      return l
                                        ? (l.ipcRenderer.send(
                                            "context-menu-action",
                                            "paste"
                                          ),
                                          [3, 3])
                                        : [3, 1];
                                    case 1:
                                      return [
                                        4,
                                        navigator.clipboard.readText(),
                                      ];
                                    case 2:
                                      (e = t.sent()),
                                        i.replaceSelection(e),
                                        (t.label = 3);
                                    case 3:
                                      return [2];
                                  }
                                });
                              });
                            });
                        }),
                        b.addItem(function (e) {
                          return e
                            .setTitle(Lt("interface.menu.paste-as-plain-text"))
                            .setIcon(Uy)
                            .setDisabled(!h)
                            .onClick(function () {
                              return A(L, void 0, void 0, function () {
                                var e;
                                return D(this, function (t) {
                                  switch (t.label) {
                                    case 0:
                                      return l
                                        ? (l.ipcRenderer.send(
                                            "context-menu-action",
                                            "pasteAndMatchStyle"
                                          ),
                                          [3, 3])
                                        : [3, 1];
                                    case 1:
                                      return [
                                        4,
                                        navigator.clipboard.readText(),
                                      ];
                                    case 2:
                                      (e = t.sent()),
                                        i.replaceSelection(e),
                                        (t.label = 3);
                                    case 3:
                                      return [2];
                                  }
                                });
                              });
                            });
                        }),
                        b.addItem(function (e) {
                          return e
                            .setTitle(Lt("interface.menu.select-all"))
                            .setIcon(_y)
                            .onClick(function () {
                              var e = i.lineCount() - 1;
                              i.setSelection(
                                { line: 0, ch: 0 },
                                { line: e, ch: i.getLine(e).length }
                              );
                            });
                        }),
                        b.showAtMouseEvent(e),
                        [2]
                      );
                  }
                });
              });
            }),
            e
          );
        })();
      function vT(e, t) {
        return { modifiers: e, key: t };
      }
      function yT(e) {
        return e.startsWith("Key") && 4 === e.length ? e.charAt(3) : e;
      }
      function bT(e) {
        var t = [];
        Zb.forEach(function (n) {
          e.modifiers.contains(n) && t.push(Xb[n]);
        });
        var n = (e.code ? yT(e.code) : e.key) || "";
        return (
          t.push(
            (function (e) {
              if (Jb.hasOwnProperty(e)) return Jb[e];
              var t = e.replace(/([A-Z])/g, " $1").trim();
              return t.charAt(0).toUpperCase() + t.slice(1);
            })(n)
          ),
          t.join(fe ? " " : " + ")
        );
      }
      var wT,
        kT,
        CT,
        xT = (function () {
          function e(e) {
            (this.defaultKeys = {}),
              (this.customKeys = {}),
              (this.baked = !1),
              (this.bakedHotkeys = []),
              (this.bakedIds = []),
              (this.app = e),
              this.app.scope.register(null, null, this.onTrigger.bind(this));
          }
          return (
            (e.prototype.save = function () {
              return A(this, void 0, void 0, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [
                        4,
                        this.app.vault.writeConfigJson(
                          "hotkeys",
                          this.customKeys
                        ),
                      ];
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.load = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return [4, this.app.vault.readConfigJson("hotkeys")];
                    case 1:
                      if (
                        ((e = i.sent()),
                        (t = !1),
                        e ||
                          ((e = this.app.vault.getConfig("hotkeys")), (t = !0)),
                        e && "object" == typeof e)
                      ) {
                        for (n in e)
                          n.startsWith("explorer:")
                            ? ((e["file-" + n] = e[n]), delete e[n])
                            : "star:star-current-file" === n &&
                              ((e["starred:star-current-file"] = e[n]),
                              delete e[n]);
                        (this.customKeys = e || {}), (this.baked = !1);
                      }
                      return t
                        ? (this.app.vault.setConfig("hotkeys", void 0),
                          [4, this.save()])
                        : [3, 3];
                    case 2:
                      i.sent(), (i.label = 3);
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.getDefaultHotkeys = function (e) {
              return this.defaultKeys[e];
            }),
            (e.prototype.addDefaultHotkeys = function (e, t) {
              (this.defaultKeys[e] = t), (this.baked = !1);
            }),
            (e.prototype.removeDefaultHotkeys = function (e) {
              delete this.defaultKeys[e], (this.baked = !1);
            }),
            (e.prototype.getHotkeys = function (e) {
              return this.customKeys[e];
            }),
            (e.prototype.setHotkeys = function (e, t) {
              (this.customKeys[e] = t), (this.baked = !1);
            }),
            (e.prototype.removeHotkeys = function (e) {
              delete this.customKeys[e], (this.baked = !1);
            }),
            (e.prototype.printHotkeyForCommand = function (e) {
              var t = this.getHotkeys(e),
                n = this.getDefaultHotkeys(e);
              return t && t.length > 0
                ? bT(t[0])
                : n && n.length > 0
                ? bT(n[0])
                : "";
            }),
            (e.prototype.bake = function () {
              if (!this.baked) {
                this.baked = !0;
                var e = this.defaultKeys,
                  t = this.customKeys,
                  n = [],
                  i = [],
                  r = function (e, t) {
                    for (var r = 0, o = t; r < o.length; r++) {
                      var s = o[r];
                      n.push({
                        modifiers: nw.compileModifiers(s.modifiers),
                        key: s.code ? yT(s.code) : s.key,
                      }),
                        i.push(e);
                    }
                  };
                for (var o in t) t.hasOwnProperty(o) && r(o, t[o]);
                for (var o in e)
                  e.hasOwnProperty(o) && !t.hasOwnProperty(o) && r(o, e[o]);
                (this.bakedHotkeys = n), (this.bakedIds = i);
              }
            }),
            (e.prototype.onTrigger = function (e, t) {
              this.bake();
              for (
                var n = this.bakedHotkeys, i = this.bakedIds, r = 0;
                r < n.length;
                r++
              ) {
                var o = n[r];
                if (nw.isMatch(o, t)) {
                  var s = i[r];
                  if (this.app.commands.executeCommandById(s)) return !1;
                }
              }
            }),
            e
          );
        })(),
        ST = "obsidian-search-match-highlight",
        ET = (function () {
          function e(e, t, n, i) {
            var r = this;
            (this.markdownView = null),
              (this.editor = null),
              (this.scope = null),
              (this.parentContainer = null),
              (this.searchContainer = null),
              (this.searchInputEl = null),
              (this.replaceInputEl = null),
              (this.cursor = null),
              (this.isActive = !1),
              (this.isReplace = !1),
              (this.app = e),
              (this.markdownView = t),
              (this.editor = n);
            var o = (this.scope = new ew(e.scope));
            this.parentContainer = i;
            var s = (this.searchContainer = i.createDiv(
                "document-search-container"
              )),
              a = this.searchContainer.createDiv("document-search");
            (this.searchInputEl = a.createEl("input", {
              cls: "document-search-input",
              type: "text",
            })),
              this.searchInputEl.setAttribute(
                "placeholder",
                Lt("editor.search.placeholder-find")
              );
            var l = a.createDiv({
              cls: "document-search-buttons",
              type: "text",
            });
            l.createEl(
              "button",
              {
                cls: "document-search-button",
                text: Lt("editor.search.label-previous"),
              },
              function (e) {
                nn(e, bT(vT(["Shift"], "F3")), { placement: "top" }),
                  e.addEventListener("click", function (e) {
                    e.preventDefault(), r.findPrevious();
                  });
              }
            ),
              l.createEl(
                "button",
                {
                  cls: "document-search-button",
                  text: Lt("editor.search.label-next"),
                },
                function (e) {
                  nn(e, bT(vT([], "F3")), { placement: "top" }),
                    e.addEventListener("click", function (e) {
                      e.preventDefault(), r.findNext();
                    });
                }
              ),
              l.createEl(
                "button",
                {
                  cls: "document-search-button",
                  text: Lt("editor.search.label-all"),
                },
                function (e) {
                  nn(e, bT(vT(["Alt"], "Enter")), { placement: "top" }),
                    e.addEventListener("click", function (e) {
                      e.preventDefault(), r.searchAll();
                    });
                }
              ),
              l.createSpan("document-search-close-button", function (e) {
                nn(e, Lt("editor.search.label-exit-search"), {
                  placement: "top",
                }),
                  e.addEventListener("click", function (e) {
                    e.preventDefault(), r.hide();
                  });
              }),
              this.searchInputEl.addEventListener(
                "input",
                this.onSearchInput.bind(this)
              );
            var c = this.searchContainer.createDiv("document-replace");
            (this.replaceInputEl = c.createEl("input", {
              cls: "document-replace-input",
              type: "text",
            })),
              this.replaceInputEl.setAttribute(
                "placeholder",
                Lt("editor.search.placeholder-replace")
              );
            var u = c.createDiv({
              cls: "document-replace-buttons",
              type: "text",
            });
            u.createEl(
              "button",
              {
                cls: "document-search-button",
                text: Lt("editor.search.label-replace"),
              },
              function (e) {
                e.addEventListener("click", r.replaceCurrentMatch.bind(r)),
                  nn(e, bT(vT([], "Enter")), { placement: "top" });
              }
            ),
              u.createEl(
                "button",
                {
                  cls: "document-search-button",
                  text: Lt("editor.search.label-replace-all"),
                },
                function (e) {
                  nn(e, bT(vT(["Mod", "Alt"], "Enter")), { placement: "top" }),
                    e.addEventListener("click", r.replaceAll.bind(r));
                }
              ),
              s.hide(),
              o.register([], "F3", this.findNext.bind(this)),
              o.register(["Mod"], "G", this.findNext.bind(this)),
              o.register(["Shift"], "F3", this.findPrevious.bind(this)),
              o.register(["Mod", "Shift"], "G", this.findPrevious.bind(this)),
              o.register([], "Enter", this.onEnter.bind(this)),
              o.register(["Alt"], "Enter", this.onAltEnter.bind(this)),
              o.register(
                ["Mod", "Alt"],
                "Enter",
                this.onModAltEnter.bind(this)
              ),
              o.register([], "Escape", this.hide.bind(this)),
              o.register([], "Tab", this.goToNextInput.bind(this)),
              o.register(["Shift"], "Tab", this.goToNextInput.bind(this));
          }
          return (
            (e.prototype.show = function (e) {
              if ((void 0 === e && (e = !1), !this.isActive)) {
                (this.isActive = !0), (this.isReplace = e);
                var t = this,
                  n = t.editor,
                  i = t.parentContainer,
                  r = t.searchContainer,
                  o = t.searchInputEl;
                r.show();
                var s = n.getSelection();
                s && (o.value = s),
                  o.focus(),
                  o.select(),
                  (this.markdownView.scope = this.scope),
                  e
                    ? (i.removeClass("is-searching"),
                      i.addClass("is-replacing"))
                    : (i.removeClass("is-replacing"),
                      i.addClass("is-searching")),
                  r.toggleClass("mod-replace-mode", e),
                  this.onSearchInput();
              }
            }),
            (e.prototype.hide = function () {
              if (this.isActive) {
                this.isActive = !1;
                var e = this,
                  t = e.editor,
                  n = e.parentContainer,
                  i = e.searchContainer,
                  r = e.searchInputEl;
                i.hide(),
                  (r.value = ""),
                  r.removeClass("mod-no-match"),
                  n.removeClass("is-replacing"),
                  n.removeClass("is-searching"),
                  (this.cursor = null),
                  t.removeHighlights("obsidian-search-match-highlight"),
                  (this.markdownView.scope = null),
                  t.focus();
              }
            }),
            (e.prototype.onSearchInput = function () {
              var e = this.editor;
              this.cursor = e.searchCursor(this.getQuery());
              var t = this.cursor.findNext();
              t ? this.highlight([t]) : this.clear(),
                this.searchInputEl.toggleClass("mod-no-match", !t);
            }),
            (e.prototype.findPrevious = function () {
              if (this.cursor) {
                var e = this.cursor.findPrevious();
                e ? this.highlight([e]) : this.clear();
              }
            }),
            (e.prototype.findNextOrReplace = function () {
              if (this.cursor) {
                var e = this.replaceInputEl.value;
                this.replaceInputEl === document.activeElement &&
                  "" !== e &&
                  this.cursor.replace(e),
                  this.findNext();
              }
            }),
            (e.prototype.replaceCurrentMatch = function () {
              if (this.cursor) {
                var e = this.replaceInputEl.value;
                this.cursor.replace(e), this.findNext();
              }
            }),
            (e.prototype.replaceAll = function () {
              var e = this.replaceInputEl.value;
              this.cursor.replaceAll(e, "searchReplace");
            }),
            (e.prototype.findNext = function () {
              if (this.cursor) {
                var e = this.cursor.findNext();
                e ? this.highlight([e]) : this.clear();
              }
            }),
            (e.prototype.searchAll = function () {
              var e = this.cursor.findAll();
              this.highlight(e);
            }),
            (e.prototype.highlight = function (e) {
              this.editor.addHighlights(e, ST, !0, !0);
              var t = e[0];
              t && this.editor.scrollIntoView(t, !0);
            }),
            (e.prototype.clear = function () {
              this.editor.removeHighlights(ST);
            }),
            (e.prototype.goToNextInput = function (e) {
              this.searchInputEl === document.activeElement
                ? (this.replaceInputEl.focus(), e.preventDefault())
                : this.replaceInputEl === document.activeElement &&
                  (this.searchInputEl.focus(), e.preventDefault());
            }),
            (e.prototype.getQuery = function () {
              return this.searchInputEl.value;
            }),
            (e.prototype.onEnter = function (e) {
              e.isComposing ||
                (this.searchInputEl !== document.activeElement &&
                  this.replaceInputEl !== document.activeElement) ||
                this.findNextOrReplace();
            }),
            (e.prototype.onAltEnter = function (e) {
              (this.searchInputEl !== document.activeElement &&
                this.replaceInputEl !== document.activeElement) ||
                this.searchAll();
            }),
            (e.prototype.onModAltEnter = function (e) {
              this.isReplace &&
                this.replaceInputEl === document.activeElement &&
                this.replaceAll();
            }),
            e
          );
        })(),
        MT = window.CodeMirror,
        LT = /[^\\][$|]/,
        AT = /^(?:[*\-+]|^[0-9]+([.)]))\s+/,
        DT =
          /^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i,
        TT =
          /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,
        PT = /^\.{0,2}\/[^\>\s]+/,
        OT =
          /^(?:[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s])+/;
      !(function (e) {
        (e[(e.NONE = 0)] = "NONE"),
          (e[(e.NORMAL = 1)] = "NORMAL"),
          (e[(e.WITH_SPACE = 2)] = "WITH_SPACE");
      })(kT || (kT = {})),
        (function (e) {
          (e[(e.NONE = 0)] = "NONE"),
            (e[(e.SIMPLE = 1)] = "SIMPLE"),
            (e[(e.NORMAL = 2)] = "NORMAL");
        })(CT || (CT = {}));
      var FT,
        IT,
        NT = /^\s*[^\|].*?\|.*[^|]\s*$/,
        BT = /^\s*[^\|].*\|/,
        RT = /^\s*\|[^\|]+\|.+\|\s*$/,
        zT = /^\s*\|/,
        HT = /^\s*-+\s*:\s*$/,
        VT = /^\s*:\s*-+\s*$/,
        qT = /^\s*:\s*-+\s*:\s*$/,
        jT = /^\s*-+\s*$/;
      !(function (e) {
        (e[(e.NONE = 0)] = "NONE"),
          (e[(e.FRONT_MATTER = 1)] = "FRONT_MATTER"),
          (e[(e.FRONT_MATTER_END = 2)] = "FRONT_MATTER_END");
      })(FT || (FT = {})),
        (function (e) {
          (e[(e.NONE = 0)] = "NONE"),
            (e[(e.BARELINK = 1)] = "BARELINK"),
            (e[(e.FOOTREF = 2)] = "FOOTREF"),
            (e[(e.NORMAL = 3)] = "NORMAL"),
            (e[(e.FOOTNOTE = 4)] = "FOOTNOTE"),
            (e[(e.MAYBE_FOOTNOTE_URL = 5)] = "MAYBE_FOOTNOTE_URL"),
            (e[(e.BARELINK2 = 6)] = "BARELINK2"),
            (e[(e.FOOTREF2 = 7)] = "FOOTREF2"),
            (e[(e.INTERNAL_LINK = 8)] = "INTERNAL_LINK"),
            (e[(e.EMBED = 9)] = "EMBED");
        })(IT || (IT = {}));
      var UT =
        (((wT = {})[IT.BARELINK] = "hmd-barelink"),
        (wT[IT.BARELINK2] = "hmd-barelink2"),
        (wT[IT.FOOTREF] = "hmd-barelink footref"),
        (wT[IT.FOOTNOTE] = "hmd-footnote line-HyperMD-footnote"),
        (wT[IT.FOOTREF2] = "hmd-footref2"),
        (wT[IT.INTERNAL_LINK] = "hmd-internal-link"),
        (wT[IT.EMBED] = "hmd-internal-link hmd-embed"),
        wT);
      function WT(e) {
        (e.hmdTable = CT.NONE),
          (e.hmdTableColumns = []),
          (e.hmdTableID = null),
          (e.hmdTableCol = e.hmdTableRow = 0);
      }
      var _T = /^\s+((\d+[).]|[-*+])\s+)?/,
        GT = {
          hr: "line-HyperMD-hr line-background-HyperMD-hr-bg hr",
          list1: "list-1",
          list2: "list-2",
          list3: "list-3",
          code: "inline-code",
          hashtag: "hashtag meta",
        };
      window.CodeMirror.defineMode(
        "hypermd",
        function (e, t) {
          var n = {
            front_matter: !0,
            math: !0,
            table: !0,
            toc: !0,
            orgModeMarkup: !0,
            hashtag: !0,
            fencedCodeBlockHighlighting: !0,
            name: "markdown",
            highlightFormatting: !0,
            taskLists: !0,
            strikethrough: !0,
            emoji: !1,
            highlight: !0,
            tokenTypeOverrides: GT,
          };
          Object.assign(n, t),
            n.tokenTypeOverrides !== GT &&
              (n.tokenTypeOverrides = Object.assign(
                {},
                GT,
                n.tokenTypeOverrides
              )),
            (n.name = "markdown");
          var i = { htmlBlock: null },
            r = MT.getMode(e, n),
            o = L({}, r);
          function s(e, t) {
            var n = t.hmdInnerExitChecker(e, t),
              i = t.hmdInnerStyle,
              r =
                ((!n || !n.skipInnerMode) &&
                  t.hmdInnerMode.token(e, t.hmdInnerState)) ||
                "";
            return (
              i && (r += " " + i),
              n
                ? (n.style && (r += " " + n.style),
                  n.endPos && (e.pos = n.endPos),
                  (t.hmdInnerExitChecker = null),
                  (t.hmdInnerMode = null),
                  (t.hmdInnerState = null),
                  (t.hmdOverride = null))
                : e.start === e.pos && e.skipToEnd(),
              r.trim() || null
            );
          }
          function a(e) {
            return {
              token: function (t) {
                var n = t.string.indexOf(e, t.start);
                return (
                  -1 === n
                    ? t.skipToEnd()
                    : 0 === n
                    ? (t.pos += e.length)
                    : ((t.pos = n), "\\" === t.string.charAt(n - 1) && t.pos++),
                  null
                );
              },
            };
          }
          function l(e, t) {
            return (
              t || (t = {}),
              function (n, i) {
                return n.string.substr(n.start, e.length) === e
                  ? ((t.endPos = n.start + e.length), t)
                  : null;
              }
            );
          }
          function c(t, n, i, r) {
            if (
              ("string" == typeof i && (i = MT.getMode(e, i)),
              !(
                (i && "null" !== i.name) ||
                (i =
                  "endTag" in r
                    ? a(r.endTag)
                    : "function" == typeof r.fallbackMode && r.fallbackMode())
              ))
            )
              throw new Error("no mode");
            (n.hmdInnerExitChecker =
              "endTag" in r ? l(r.endTag) : r.exitChecker),
              (n.hmdInnerStyle = r.style),
              (n.hmdInnerMode = i),
              (n.hmdOverride = s),
              (n.hmdInnerState = MT.startState(i));
            var o = r.style || "";
            return (
              r.skipFirstToken || (o += " " + i.token(t, n.hmdInnerState)),
              o.trim()
            );
          }
          return (
            (o.startState = function () {
              var e = r.startState();
              return (
                WT(e),
                (e.hmdOverride = null),
                (e.hmdInnerExitChecker = null),
                (e.hmdInnerMode = null),
                (e.hmdLinkType = IT.NONE),
                (e.hmdNextMaybe = n.front_matter ? FT.FRONT_MATTER : FT.NONE),
                (e.hmdNextState = null),
                (e.hmdNextStyle = null),
                (e.hmdNextPos = null),
                (e.hmdHashtag = !1),
                e
              );
            }),
            (o.copyState = function (e) {
              for (
                var t = r.copyState(e),
                  n = 0,
                  i = [
                    "hmdLinkType",
                    "hmdNextMaybe",
                    "hmdTable",
                    "hmdTableID",
                    "hmdTableCol",
                    "hmdTableRow",
                    "hmdOverride",
                    "hmdInnerMode",
                    "hmdInnerStyle",
                    "hmdInnerExitChecker",
                    "hmdNextPos",
                    "hmdNextState",
                    "hmdNextStyle",
                    "hmdHashtag",
                    "comment",
                    "internalLink",
                    "internalEmbed",
                    "inlineFootnote",
                    "hasAlias",
                    "isAlias",
                  ];
                n < i.length;
                n++
              ) {
                var o = i[n];
                t[o] = e[o];
              }
              return (
                (t.hmdTableColumns = e.hmdTableColumns.slice(0)),
                e.hmdInnerMode &&
                  (t.hmdInnerState = MT.copyState(
                    e.hmdInnerMode,
                    e.hmdInnerState
                  )),
                t
              );
            }),
            (o.blankLine = function (e) {
              var t,
                n = e.hmdInnerMode;
              return (
                n
                  ? n.blankLine && (t = n.blankLine(e.hmdInnerState))
                  : (t = r.blankLine(e)),
                t || (t = ""),
                -1 === e.code &&
                  (t +=
                    " line-HyperMD-codeblock line-background-HyperMD-codeblock-bg"),
                WT(e),
                t.trim() || null
              );
            }),
            (o.indent = function (e, t) {
              var n = e.hmdInnerMode || r,
                i = n.indent;
              return "function" == typeof i ? i.apply(n, arguments) : MT.Pass;
            }),
            (o.innerMode = function (e) {
              return e.hmdInnerMode
                ? { mode: e.hmdInnerMode, state: e.hmdInnerState }
                : r.innerMode(e);
            }),
            (o.token = function (t, o) {
              if (((t.tabSize = 4), o.hmdOverride)) return o.hmdOverride(t, o);
              if (o.hmdNextMaybe === FT.FRONT_MATTER) {
                if ("---" === t.string)
                  return (
                    (o.hmdNextMaybe = FT.FRONT_MATTER_END),
                    c(t, o, "yaml", {
                      style: "hmd-frontmatter",
                      fallbackMode: function () {
                        return a("---");
                      },
                      exitChecker: function (e, t) {
                        return "---" === e.string
                          ? ((t.hmdNextMaybe = FT.NONE), { endPos: 3 })
                          : null;
                      },
                    })
                  );
                o.hmdNextMaybe = FT.NONE;
              }
              var s = o.f === i.htmlBlock,
                u = -1 === o.code,
                h = 0 === t.start;
              h &&
                ((o.hmdLinkType = IT.NONE),
                !o.code || (1 !== o.code && 2 !== o.code) || (o.code = 0));
              var p,
                d = o.linkText,
                f = o.linkHref,
                g = !(u || s),
                m = g && !(o.code || o.indentedCode || o.linkHref),
                v = "",
                y = !1,
                b = -1,
                w = null;
              if (g) {
                if (
                  o.list &&
                  !o.header &&
                  "#" === t.peek() &&
                  /^\s*[*\-+]\s$/.test(t.string.substr(0, t.pos))
                ) {
                  var k = t.match(/^(#+)(?: |$)/, !0);
                  if (k) {
                    var C = k[1].length;
                    return (
                      (o.header = C),
                      "formatting formatting-header formatting-header-" +
                        C +
                        " header header-" +
                        C
                    );
                  }
                }
                if (
                  n.math &&
                  m &&
                  o.hmdLinkType === IT.NONE &&
                  !o.internalLink &&
                  !o.internalEmbed
                ) {
                  var x = t.match(/^(\$)[^\s$]/, !1),
                    S = t.match(/^(\${2})/, !1),
                    E = x ? "$" : "$$";
                  if (x)
                    ((D = t.string.slice(t.pos + 1).match(/[^\\]\$(.|$)/)) &&
                      D[0].match(/^[^\s\\]\$([^0-9]|$)/)) ||
                      (x = null);
                  if (x || S) {
                    var M = MT.getMode(e, { name: "stex" }),
                      L = "stex" !== M.name;
                    return (
                      (v += c(t, o, M, {
                        style: "math",
                        skipFirstToken: L,
                        fallbackMode: function () {
                          return a(E);
                        },
                        exitChecker: l(E, {
                          style:
                            "formatting formatting-math formatting-math-end math-",
                        }),
                      })),
                      x
                        ? (L && (t.pos += x[1].length),
                          (v +=
                            " formatting formatting-math formatting-math-begin"))
                        : (L && (t.pos += S[1].length),
                          (v +=
                            " formatting formatting-math formatting-math-begin math-block"))
                    );
                  }
                }
                if (m) {
                  o.internalLink
                    ? ((o.hmdLinkType = IT.INTERNAL_LINK),
                      (o.internalLink = !1))
                    : o.internalEmbed &&
                      ((o.hmdLinkType = IT.EMBED), (o.internalEmbed = !1));
                  var A =
                    o.hmdLinkType === IT.INTERNAL_LINK ||
                    o.hmdLinkType === IT.EMBED;
                  if (A)
                    if (t.match(/^\|/, !1))
                      (o.isAlias = !0),
                        (b = t.pos + 1),
                        (v += " link-alias-pipe");
                    else if (t.match(/^\]\]/, !1))
                      (o.hmdLinkType = IT.NONE),
                        (o.linkText = !1),
                        (o.isAlias = !1),
                        (o.hasAlias = !1),
                        (b = t.pos + 2),
                        (v += " formatting-link formatting-link-end");
                    else {
                      (y = !0),
                        o.isAlias && (v += " link-alias"),
                        o.hasAlias && !o.isAlias && (v += " link-has-alias");
                      var D = t.match(/^([^|\]]*?)/, !1);
                      b = t.pos + Math.max(1, D[0].length);
                    }
                  else if ((D = t.match(/^(!?\[\[)(.*?)]]/, !1)))
                    "!" === D[1].charAt(0)
                      ? ((v +=
                          " formatting-link formatting-link-start formatting-embed"),
                        (o.internalEmbed = !0))
                      : ((v += " formatting-link formatting-link-start"),
                        (o.internalLink = !0)),
                      (b = t.pos + D[1].length),
                      (o.hasAlias = D[2].contains("|")),
                      (o.f = o.inline = r.startState().inline);
                  if (o.hmdLinkType === IT.FOOTREF)
                    if (((y = !0), t.match(/^\]/, !1)))
                      (o.hmdLinkType = IT.NONE),
                        (b = t.pos + 1),
                        (v +=
                          " footref formatting formatting-link formatting-link-end");
                    else {
                      var D = t.match(/^([^\]]*?)/, !1);
                      (b = t.pos + Math.max(1, D[0].length)), (v += " footref");
                    }
                  else
                    (D = t.match(/^\[\^(.*?)](:?)/, !1)) &&
                      !D[2] &&
                      ((v +=
                        " footref formatting formatting-link formatting-link-start"),
                      (o.hmdLinkType = IT.FOOTREF),
                      (y = !0),
                      (b = t.pos + 1),
                      (o.f = o.inline = r.startState().inline));
                  t.match(/^\^([a-zA-Z0-9\-]+)$/) && (v += " blockid"),
                    !o.inlineFootnote && t.match(/^\^\[/, !1)
                      ? ((o.inlineFootnote = !0),
                        (v += " inline-footnote-start"),
                        (b = t.pos + 2))
                      : o.inlineFootnote &&
                        !A &&
                        o.hmdLinkType === IT.NONE &&
                        t.match(/^]/) &&
                        ((o.inlineFootnote = !1),
                        (v += " inline-footnote-end"),
                        (b = t.pos));
                  var T = t.pos;
                  (w = function (e) {
                    if (
                      o.hmdLinkType === IT.INTERNAL_LINK ||
                      o.hmdLinkType === IT.EMBED
                    ) {
                      var n = t.string.slice(T, e);
                      if (n.indexOf("|") >= 1) return T + n.indexOf("|");
                    }
                    if (o.comment) {
                      var i = t.string.slice(T, e).match(/^(.+?)%%/);
                      if (i) return T + i[1].length;
                    }
                    return e;
                  }),
                    o.comment
                      ? t.match(/^%%/, !1) &&
                        ((v += " comment comment-end"),
                        (o.comment = !1),
                        (b = t.pos + 2))
                      : t.match(/^%%/, !1) &&
                        ((v += " comment comment-start"),
                        (o.comment = !0),
                        (b = t.pos + 2));
                }
                o.comment && (v += " comment"),
                  m &&
                    (o.hmdLinkType ||
                      o.image ||
                      o.linkText ||
                      (!t.match(DT) && !t.match(TT)) ||
                      ((v += "url"), (b = t.pos)));
              }
              if (o.hmdNextState)
                (t.pos = o.hmdNextPos),
                  (v += " " + (o.hmdNextStyle || "")),
                  Object.assign(o, o.hmdNextState),
                  (o.hmdNextState = null),
                  (o.hmdNextStyle = null),
                  (o.hmdNextPos = null);
              else if (y) {
                var P = r.copyState(o),
                  O = t.pos;
                (v += " " + (r.token(t, P) || "")), (t.pos = O);
              } else v += " " + (r.token(t, o) || "");
              v.contains("formatting-task") && (v += " line-HyperMD-task-line"),
                -1 !== b && (t.pos = b),
                w && (t.pos = w(t.pos)),
                o.hmdHashtag && (v += " " + n.tokenTypeOverrides.hashtag),
                !i.htmlBlock && o.htmlState && (i.htmlBlock = o.f);
              var F = o.f === i.htmlBlock,
                I = -1 === o.code;
              (g = g && !(F || I)),
                (m = m && g && !(o.code || o.indentedCode || o.linkHref)) &&
                  (p = t.current().match(LT)) &&
                  (t.pos = t.start + p.index + 1);
              var N = t.current();
              if (
                (F !== s &&
                  (F
                    ? ((v += " hmd-html-begin"), (i.htmlBlock = o.f))
                    : (v += " hmd-html-end")),
                (u || I) &&
                  ((o.localMode && u) || (v = v.replace("inline-code", "")),
                  (v +=
                    " line-HyperMD-codeblock line-background-HyperMD-codeblock-bg hmd-codeblock"),
                  I !== u &&
                    (I
                      ? u ||
                        (v +=
                          " line-HyperMD-codeblock-begin line-background-HyperMD-codeblock-begin-bg")
                      : (v +=
                          " line-HyperMD-codeblock-end line-background-HyperMD-codeblock-end-bg"))),
                g)
              ) {
                var B = o.hmdTable;
                if (h && B)
                  (B == CT.SIMPLE ? BT : zT).test(t.string)
                    ? ((o.hmdTableCol = 0), o.hmdTableRow++)
                    : WT(o);
                if (
                  (h &&
                    o.header &&
                    (/^(?:---+|===+)\s*$/.test(t.string) &&
                    o.prevLine &&
                    o.prevLine.header
                      ? (v +=
                          " line-HyperMD-header-line line-HyperMD-header-line-" +
                          o.header)
                      : (v +=
                          " line-HyperMD-header line-HyperMD-header-" +
                          o.header)),
                  o.indentedCode && (v += " hmd-indented-code"),
                  o.quote)
                ) {
                  if (
                    (t.eol() &&
                      ((v +=
                        " line-HyperMD-quote line-HyperMD-quote-" + o.quote),
                      /^ {0,3}\>/.test(t.string) ||
                        (v += " line-HyperMD-quote-lazy")),
                    h && (p = N.match(/^\s+/)))
                  )
                    return (
                      (t.pos = p[0].length),
                      (v += " hmd-indent-in-quote").trim()
                    );
                  /^>\s+$/.test(N) &&
                    ">" != t.peek() &&
                    ((t.pos = t.start + 1),
                    (N = ">"),
                    (o.hmdOverride = function (e, t) {
                      return (
                        e.match(_T),
                        (t.hmdOverride = null),
                        "hmd-indent-in-quote line-HyperMD-quote line-HyperMD-quote-" +
                          t.quote
                      );
                    }));
                }
                var R = (o.listStack[o.listStack.length - 1] || 0) + 3,
                  z =
                    h &&
                    /^\s+$/.test(N) &&
                    (!1 !== o.list || t.indentation() <= R),
                  H = o.list && /formatting-list/.test(v);
                if (H || (z && (!1 !== o.list || t.match(AT, !1)))) {
                  var V = (o.listStack && o.listStack.length) || 0;
                  if (z) {
                    if (t.match(AT, !1)) !1 === o.list && V++;
                    else {
                      for (; V > 0 && t.pos < o.listStack[V - 1]; ) V--;
                      if (!V) return v.trim() || null;
                      v +=
                        " line-HyperMD-list-line-nobullet line-HyperMD-list-line line-HyperMD-list-line-" +
                        V;
                    }
                    v += " hmd-list-indent hmd-list-indent-" + V;
                  } else
                    H &&
                      (v +=
                        " line-HyperMD-list-line line-HyperMD-list-line-" + V);
                }
                if (
                  (d !== o.linkText &&
                    (d || o.internalLink || o.internalEmbed || o.inlineFootnote
                      ? (o.hmdLinkType in UT && (v += " " + UT[o.hmdLinkType]),
                        o.hmdLinkType === IT.FOOTNOTE
                          ? (o.hmdLinkType = IT.MAYBE_FOOTNOTE_URL)
                          : (o.hmdLinkType = IT.NONE))
                      : (p = t.match(/^([^\]]+)\](\(| ?\[|\:)?/, !1))
                      ? p[2]
                        ? ":" === p[2] &&
                          "[" === t.string.substr(0, t.pos).trim()
                          ? (o.hmdLinkType = IT.FOOTNOTE)
                          : ("[" !== p[2] && " [" !== p[2]) ||
                            "]" !== t.string.charAt(t.pos + p[0].length)
                          ? (o.hmdLinkType = IT.NORMAL)
                          : (o.hmdLinkType = IT.BARELINK2)
                        : "^" === p[1].charAt(0)
                        ? (o.hmdLinkType = IT.FOOTREF)
                        : (o.hmdLinkType = IT.BARELINK)
                      : (o.hmdLinkType = IT.BARELINK)),
                  f !== o.linkHref &&
                    (f
                      ? o.hmdLinkType &&
                        ((v += " " + UT[o.hmdLinkType]),
                        (o.hmdLinkType = IT.NONE))
                      : "[" === N &&
                        "]" !== t.peek() &&
                        (o.hmdLinkType = IT.FOOTREF2)),
                  o.hmdLinkType !== IT.NONE &&
                    (o.hmdLinkType in UT && (v += " " + UT[o.hmdLinkType]),
                    o.hmdLinkType === IT.MAYBE_FOOTNOTE_URL &&
                      (/^(?:\]\:)?\s*$/.test(N) ||
                        ((v =
                          DT.test(N) || PT.test(N)
                            ? v.replace("string url", "url") +
                              " hmd-footnote-url"
                            : v.replace("string url", "")),
                        (o.hmdLinkType = IT.NONE)))),
                  o.inlineFootnote && (v += " inline-footnote"),
                  /formatting-escape/.test(v) && N.length > 1)
                ) {
                  var q = N.length - 1,
                    j =
                      v.replace("formatting-escape", "escape") +
                      " hmd-escape-char";
                  return (
                    (o.hmdOverride = function (e, t) {
                      return (e.pos += q), (t.hmdOverride = null), j.trim();
                    }),
                    (v += " hmd-escape-backslash"),
                    (t.pos -= q),
                    v
                  );
                }
                if (!v.trim() && n.table) {
                  var U = !1;
                  if (
                    ("|" === N.charAt(0) &&
                      ((t.pos = t.start + 1), (N = "|"), (U = !0)),
                    U)
                  ) {
                    if (!B) {
                      NT.test(t.string)
                        ? (B = CT.SIMPLE)
                        : RT.test(t.string) && (B = CT.NORMAL);
                      var W = void 0;
                      if (B) {
                        var _ = t.lookAhead(1);
                        if (
                          (B === CT.NORMAL
                            ? RT.test(_)
                              ? (_ = _.replace(/^\s*\|/, "").replace(
                                  /\|\s*$/,
                                  ""
                                ))
                              : (B = CT.NONE)
                            : B === CT.SIMPLE && (NT.test(_) || (B = CT.NONE)),
                          B)
                        ) {
                          W = _.split("|");
                          for (var G = 0; G < W.length; G++) {
                            var K = W[G];
                            if (HT.test(K)) K = "right";
                            else if (VT.test(K)) K = "left";
                            else if (qT.test(K)) K = "center";
                            else {
                              if (!jT.test(K)) {
                                B = CT.NONE;
                                break;
                              }
                              K = "default";
                            }
                            W[G] = K;
                          }
                        }
                      }
                      B &&
                        ((o.hmdTable = B),
                        (o.hmdTableColumns = W),
                        (o.hmdTableRow = o.hmdTableCol = 0));
                    }
                    if (B) {
                      var $ = o.hmdTableColumns.length - 1;
                      if (
                        B === CT.NORMAL &&
                        ((0 === o.hmdTableCol &&
                          /^\s*\|$/.test(t.string.slice(0, t.pos))) ||
                          t.match(/^\s*$/, !1))
                      )
                        v += " hmd-table-sep hmd-table-sep-dummy";
                      else if (o.hmdTableCol < $) {
                        K = o.hmdTableRow;
                        var Y = o.hmdTableCol++;
                        0 == Y &&
                          (v +=
                            " line-HyperMD-table-" +
                            B +
                            " line-HyperMD-table-row line-HyperMD-table-row-" +
                            K),
                          (v += " hmd-table-sep hmd-table-sep-" + Y);
                      }
                    }
                  }
                }
                if (
                  (B && 1 === o.hmdTableRow && /emoji/.test(v) && (v = ""),
                  m && "<" === N)
                ) {
                  var J = null;
                  if (
                    (t.match(/^\![A-Z]+/)
                      ? (J = ">")
                      : t.match("?")
                      ? (J = "?>")
                      : t.match("![CDATA[") && (J = "]]>"),
                    null != J)
                  )
                    return c(t, o, null, {
                      endTag: J,
                      style: (v + " comment hmd-cdata-html").trim(),
                    });
                }
                if (n.hashtag && m)
                  if (o.hmdHashtag) {
                    var Q = !1;
                    if (!/formatting/.test(v) && !/^\s*$/.test(N)) {
                      p = N.match(OT);
                      var X = N.length - (p ? p[0].length : 0);
                      X > 0 && (t.backUp(X), (Q = !0));
                    }
                    if ((Q || (Q = t.eol()), Q || (Q = !OT.test(t.peek())), Q))
                      (v +=
                        " hashtag-end " +
                        (te =
                          "tag-" +
                          (te = t.current()).replace(/[^_a-zA-Z0-9\-]/g, ""))),
                        (o.hmdHashtag = !1);
                  } else if (
                    "#" === N &&
                    !o.linkText &&
                    !o.image &&
                    (h || /^\s*$/.test(t.string.charAt(t.start - 1)))
                  ) {
                    var Z = t.string.slice(t.pos).replace(/\\./g, ""),
                      ee = OT.exec(Z);
                    if (ee && /[^0-9]/.test(ee[0])) {
                      var te = "tag-" + ee[0].replace(/[^_a-zA-Z0-9\-]/g, "");
                      (o.hmdHashtag = !0),
                        (v +=
                          " formatting formatting-hashtag hashtag-begin " +
                          n.tokenTypeOverrides.hashtag +
                          " " +
                          te);
                    }
                  }
              }
              return v.trim() || null;
            }),
            o
          );
        },
        "hypermd"
      ),
        MT.defineMIME("text/x-hypermd", "hypermd");
      var KT = function (e, t) {
        return e[0] - t[0];
      };
      function $T(e) {
        if (0 === e.length) return e;
        e.sort(KT);
        for (var t = [e[0]], n = 1; n < e.length; n++) {
          var i = t.last();
          i[1] < e[n][0] ? t.push(e[n]) : i[1] < e[n][1] && (i[1] = e[n][1]);
        }
        return t;
      }
      var YT =
          /[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-.\/:;<=>?@\[\]^_`{|}~]/,
        JT = /\s/,
        QT =
          /[\u0F00-\u0FFF\u3040-\u30ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff\uff66-\uff9f]/;
      function XT(e) {
        for (var t = e.toLowerCase(), n = [], i = 0, r = 0; r < t.length; r++) {
          var o = t.charAt(r);
          JT.test(o)
            ? (i !== r && n.push(t.substring(i, r)), (i = r + 1))
            : (YT.test(o) || QT.test(o)) &&
              (i !== r && n.push(t.substring(i, r)), n.push(o), (i = r + 1));
        }
        return (
          i !== t.length && n.push(t.substring(i, t.length)),
          { query: e, tokens: n, fuzzy: t.split("") }
        );
      }
      function ZT(e) {
        var t = XT(e);
        return function (e) {
          return nP(t, e);
        };
      }
      function eP(e, t, n, i) {
        if (0 === e.length) return 0;
        var r = 0;
        (r -= Math.max(0, e.length - 1)), (r -= i / 10);
        var o = e[0][0];
        return (
          (r -= (e[e.length - 1][1] - o + 1 - t) / 100),
          (r -= o / 1e3),
          (r -= n / 1e4)
        );
      }
      function tP(e, t, n, i) {
        if (0 === e.length) return null;
        for (
          var r = n.toLowerCase(), o = 0, s = 0, a = [], l = 0;
          l < e.length;
          l++
        ) {
          var c = e[l],
            u = r.indexOf(c, s);
          if (-1 === u) return null;
          var h = n.charAt(u);
          if (u > 0 && !YT.test(h) && !QT.test(h)) {
            var p = n.charAt(u - 1);
            if (
              (h.toLowerCase() !== h && p.toLowerCase() !== p) ||
              (h.toUpperCase() !== h &&
                !YT.test(p) &&
                !JT.test(p) &&
                !QT.test(p))
            )
              if (i) {
                if (u !== s) {
                  (s += c.length), l--;
                  continue;
                }
              } else o += 1;
          }
          if (0 === a.length) a.push([u, u + c.length]);
          else {
            var d = a[a.length - 1];
            d[1] < u ? a.push([u, u + c.length]) : (d[1] = u + c.length);
          }
          s = u + c.length;
        }
        return { matches: a, score: eP(a, t.length, r.length, o) };
      }
      function nP(e, t) {
        if ("" === e.query) return { score: 0, matches: [] };
        var n = tP(e.tokens, e.query, t, !1);
        return n || tP(e.fuzzy, e.query, t, !0);
      }
      function iP(e) {
        e.sort(function (e, t) {
          return t.match.score - e.match.score;
        });
      }
      function rP(e, t) {
        if (e)
          for (var n = 0, i = e; n < i.length; n++) {
            var r = i[n];
            (r[0] += t), (r[1] += t);
          }
      }
      function oP(e, t) {
        for (var n = t.toLowerCase(), i = [], r = 0, o = e; r < o.length; r++) {
          var s = o[r];
          if (s) {
            for (
              var a = !1, l = -1, c = s.length;
              -1 !== (l = n.indexOf(s, l));

            )
              (a = !0), i.push([l, l + c]), (l += c + 1);
            if (!a) return null;
          }
        }
        return $T(i);
      }
      function sP(e) {
        var t = e.toLowerCase().split(" ");
        return function (n) {
          return (function (e, t, n) {
            var i = oP(e, n);
            return i
              ? { score: eP(i, t.length, n.length, 0), matches: i }
              : null;
          })(t, e, n);
        };
      }
      function aP(e, t, n, i) {
        void 0 === i && (i = 0), lP(e, t, n ? n.matches : null, i);
      }
      function lP(e, t, n, i) {
        if ((void 0 === i && (i = 0), n)) {
          for (var r = 0, o = 0; r < t.length && o < n.length; o++) {
            var s = n[o],
              a = s[0] + i,
              l = s[1] + i;
            if (!(l <= 0)) {
              if (a >= t.length) break;
              a < 0 && (a = 0),
                a !== r && e.appendText(t.substring(r, a)),
                e.createSpan({
                  cls: "suggestion-highlight",
                  text: t.substring(a, l),
                }),
                (r = l);
            }
          }
          r < t.length && e.appendText(t.substring(r));
        } else e.appendText(t);
      }
      var cP =
          /A-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/,
        uP =
          /\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5\uAC00-\uD7A3\uA960-\uA97C\uD7B0-\uD7C6/,
        hP =
          cP.source +
          /0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/
            .source,
        pP = new RegExp("[" + hP + "]"),
        dP = function (e) {
          if (0 === e.length) return "";
          var t = e.charAt(0),
            n = e.charAt(e.length - 1),
            i = pP.test(t),
            r = pP.test(n);
          return (
            (i ? "(?:^|[^" + hP + "])" : "") +
            "(" +
            Le(e) +
            ")" +
            (r ? "(?![" + hP + "])" : "()")
          );
        },
        fP = function () {},
        gP = (function () {
          function e(e, t, n, i) {
            (this.cache = null),
              (this.data = null),
              (this.strings = e),
              (this.original = t),
              (this.keys = n),
              (this.caseSensitive = i);
          }
          return (
            (e.prototype.clone = function () {
              var t = new e(
                Object.assign({}, this.strings),
                this.original,
                this.keys.slice(),
                this.caseSensitive
              );
              return (
                (t.cache = this.cache),
                this.data && (t.data = new Map(this.data)),
                t
              );
            }),
            (e.prototype.setData = function (e, t) {
              this.data || (this.data = new Map()), this.data.set(e, t);
            }),
            (e.prototype.getData = function (e) {
              return this.data ? this.data.get(e) : null;
            }),
            (e.prototype.deleteData = function (e) {
              this.data &&
                (this.data.delete(e),
                0 === this.data.size && (this.data = null));
            }),
            e
          );
        })();
      function mP(e, t) {
        for (var n in t)
          if (t.hasOwnProperty(n)) {
            var i = t[n];
            e.hasOwnProperty(n) ? (e[n] = e[n].concat(i)) : (e[n] = i);
          }
      }
      var vP = function () {},
        yP = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.match = function (e) {
              for (var t = {}, n = 0, i = e.keys; n < i.length; n++) {
                var r = i[n],
                  o = e.strings[r];
                o && (t[r] = [[0, o.length]]);
              }
              return t;
            }),
            (t.prototype.getInfo = function () {
              return "";
            }),
            (t.prototype.requiredInputs = function () {
              return { content: !0 };
            }),
            t
          );
        })(vP),
        bP = {},
        wP = {},
        kP = Tt(
          function () {
            (bP = {}), (wP = {});
          },
          6e4,
          !0
        );
      function CP(e, t, n) {
        var i = null,
          r = e.caseSensitive ? bP : wP;
        r.hasOwnProperty(t) && (i = r[t]),
          i || (i = r[t] = new RegExp(t, e.caseSensitive ? "gm" : "gmi"));
        for (var o = !1, s = {}, a = 0, l = e.keys; a < l.length; a++) {
          var c = l[a],
            u = e.strings[c];
          if (u) {
            var h = [];
            for (i.lastIndex = 0; ; ) {
              var p = i.exec(u);
              if (!p) break;
              var d = p[0].length;
              if (0 !== d) {
                if (n) {
                  if (!p[1] || 0 === p[1].length) {
                    i.lastIndex++;
                    continue;
                  }
                  d = p[1].length;
                }
                var f = i.lastIndex,
                  g = f - d;
                h.push([g, f]);
              } else i.lastIndex++;
            }
            h.length > 0 && ((s[c] = h), (o = !0));
          }
        }
        return o ? s : null;
      }
      var xP = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (n.regex = t), n;
          }
          return (
            M(t, e),
            (t.prototype.match = function (e) {
              if ("" !== this.regex) return CP(e, this.regex, !1);
            }),
            (t.prototype.getInfo = function () {
              return (
                Lt("plugins.search.label-match-regex") + "/" + this.regex + "/"
              );
            }),
            (t.prototype.requiredInputs = function () {
              return { content: !0 };
            }),
            t
          );
        })(vP),
        SP = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (n.text = t), (n.regex = dP(t)), n;
          }
          return (
            M(t, e),
            (t.prototype.match = function (e) {
              if ("" !== this.text) return CP(e, this.regex, !0);
            }),
            (t.prototype.getInfo = function () {
              return (
                Lt("plugins.search.label-match-exact-text") +
                '"' +
                this.text +
                '"'
              );
            }),
            (t.prototype.requiredInputs = function () {
              return { content: !0 };
            }),
            t
          );
        })(vP),
        EP = (function (e) {
          function t(t) {
            var n = e.call(this, Le(t)) || this;
            return (n.text = t), n;
          }
          return (
            M(t, e),
            (t.prototype.getInfo = function () {
              return (
                Lt("plugins.search.label-match-text") + '"' + this.text + '"'
              );
            }),
            t
          );
        })(xP),
        MP = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (n.matchers = []), (n.matchers = t), n;
          }
          return (
            M(t, e),
            (t.prototype.requiredInputs = function () {
              for (var e = {}, t = 0, n = this.matchers; t < n.length; t++) {
                var i = n[t];
                Object.assign(e, i.requiredInputs());
              }
              return e;
            }),
            t
          );
        })(vP),
        LP = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.match = function (e) {
              for (
                var t = void 0, n = 0, i = this.matchers;
                n < i.length;
                n++
              ) {
                var r = i[n].match(e);
                if (null === r) return null;
                t ? r && mP(t, r) : (t = r);
              }
              return t;
            }),
            (t.prototype.getInfo = function () {
              return Lt("plugins.search.label-match-all");
            }),
            t
          );
        })(MP),
        AP = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.match = function (e) {
              for (
                var t = void 0, n = 0, i = this.matchers;
                n < i.length;
                n++
              ) {
                var r = i[n].match(e);
                t || void 0 === r ? r && mP(t, r) : (t = r);
              }
              return t;
            }),
            (t.prototype.getInfo = function () {
              return Lt("plugins.search.label-match-any");
            }),
            t
          );
        })(MP),
        DP = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (n.matcher = t), n;
          }
          return (
            M(t, e),
            (t.prototype.requiredInputs = function () {
              return this.matcher.requiredInputs();
            }),
            t
          );
        })(vP),
        TP = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.match = function (e) {
              var t = this.matcher.match(e);
              if (void 0 !== t) return t ? null : {};
            }),
            (t.prototype.getInfo = function () {
              return Lt("plugins.search.label-excluding");
            }),
            t
          );
        })(DP);
      function PP(e) {
        for (var t = []; e.pos < e.tokens.length; ) {
          var n = OP(e);
          if (n)
            if ((t.push(n), e.pos < e.tokens.length))
              if ("or" === e.tokens[e.pos].type) {
                e.pos++;
                continue;
              }
          break;
        }
        return 0 === t.length ? null : 1 === t.length ? t[0] : new AP(t);
      }
      function OP(e) {
        for (var t = []; e.pos < e.tokens.length; ) {
          var n = FP(e);
          if (!n) break;
          t.push(n);
        }
        return 0 === t.length ? null : 1 === t.length ? t[0] : new LP(t);
      }
      function FP(e) {
        var t = e.tokens[e.pos];
        if (!t) return null;
        var n = t.type,
          i = t.content;
        if ("text" === n) return e.pos++, new EP(i);
        if ("quoted" === n) return e.pos++, new SP(i);
        if ("regex" === n) {
          try {
            new RegExp(i);
          } catch (e) {
            throw (
              (console.error(e),
              new Error("Failed to parse regular expression. " + e.message))
            );
          }
          return e.pos++, new xP(i);
        }
        if ("group" === n && "(" === i)
          return (
            e.pos++,
            (function (e) {
              var t = PP(e);
              if (e.pos < e.tokens.length) {
                var n = e.tokens[e.pos],
                  i = n.type,
                  r = n.content;
                "group" === i && ")" === r && e.pos++;
              }
              return t;
            })(e)
          );
        if ("group" === n && ")" === i) return null;
        if ("or" === n) return null;
        if ("not" === n) return e.pos++, (u = FP(e)) ? new TP(u) : null;
        if ("operator" === n) {
          var r = i,
            o = e.operators[r];
          if (!o) throw new Error('Operator "' + r + '" not recognized');
          if (o.exclusive)
            for (var s = 0, a = e.operatorStack; s < a.length; s++) {
              var l = a[s],
                c = e.operators[l];
              if (c.exclusive && (!c.allowSelf || l !== r))
                throw new Error(
                  'Operator "' + r + '" cannot be nested within "' + l + '"'
                );
            }
          e.pos++, e.operatorStack.push(r);
          var u = FP(e);
          return e.operatorStack.pop(), u ? o.operate(u) : null;
        }
        throw new Error("Failed to parse, error at " + t.pos + ' "' + i + '"');
      }
      var IP = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (i.caseSensitive = n), i;
          }
          return (
            M(t, e),
            (t.prototype.match = function (e) {
              var t = e.clone();
              return (
                (t.caseSensitive = this.caseSensitive), this.matcher.match(t)
              );
            }),
            (t.prototype.getInfo = function () {
              return this.caseSensitive
                ? Lt("plugins.search.label-case-sensitive")
                : Lt("plugins.search.label-case-insensitive");
            }),
            t
          );
        })(DP),
        NP = "filepath",
        BP = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.match = function (e) {
              if (e.strings.hasOwnProperty(NP)) {
                var t = e.clone();
                return (t.keys = [NP]), this.matcher.match(t);
              }
            }),
            (t.prototype.getInfo = function () {
              return Lt("plugins.search.label-match-file-path");
            }),
            (t.prototype.requiredInputs = function () {
              return {};
            }),
            t
          );
        })(DP),
        RP = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.match = function (e) {
              if (e.strings.hasOwnProperty("filename")) {
                var t = e.clone();
                return (t.keys = ["filename"]), this.matcher.match(t);
              }
            }),
            (t.prototype.getInfo = function () {
              return Lt("plugins.search.label-match-file-name");
            }),
            (t.prototype.requiredInputs = function () {
              return {};
            }),
            t
          );
        })(DP),
        zP = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.match = function (e) {
              if (e.strings.hasOwnProperty("content")) {
                var t = e.clone();
                return (t.keys = ["content"]), this.matcher.match(t);
              }
            }),
            (t.prototype.getInfo = function () {
              return Lt("plugins.search.label-match-content");
            }),
            (t.prototype.requiredInputs = function () {
              return { content: !0 };
            }),
            t
          );
        })(DP),
        HP = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.splitContentMatch = function (e, t) {
              var n = this,
                i = e.clone();
              i.keys = ["content"];
              var r = !1,
                o = !1,
                s = [];
              return (
                t(i, function (e, t) {
                  i.strings.content = e;
                  var a = n.matcher.match(i);
                  if (void 0 === a) o = !0;
                  else if (a) {
                    r = !0;
                    var l = a.content;
                    if (l) {
                      rP(l, t);
                      for (var c = 0, u = l; c < u.length; c++) {
                        var h = u[c];
                        s.push(h);
                      }
                    }
                  }
                }),
                r ? { content: s } : o ? void 0 : null
              );
            }),
            t
          );
        })(DP),
        VP = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.match = function (e) {
              if (e.strings.hasOwnProperty("content")) {
                var t = e.strings.content;
                return this.splitContentMatch(e, function (e, n) {
                  for (var i = 0, r = 0, o = t.split("\n"); r < o.length; r++) {
                    var s = o[r];
                    n(s, i), (i = i + s.length + 1);
                  }
                });
              }
            }),
            (t.prototype.getInfo = function () {
              return Lt("plugins.search.label-match-line");
            }),
            (t.prototype.requiredInputs = function () {
              return { content: !0 };
            }),
            t
          );
        })(HP),
        qP = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.match = function (e) {
              if (e.strings.hasOwnProperty("content")) {
                var t = e.cache;
                if (!t) return null;
                var n = e.strings.content;
                return this.splitContentMatch(e, function (e, i) {
                  if (t.sections)
                    for (var r = 0, o = t.sections; r < o.length; r++) {
                      var s = o[r];
                      if ("list" !== s.type) {
                        var a = (h = s.position).start.offset,
                          l = h.end.offset;
                        i(n.substring(a, l), a);
                      }
                    }
                  if (t.listItems)
                    for (var c = 0, u = t.listItems; c < u.length; c++) {
                      var h;
                      (a = (h = u[c].position).start.offset),
                        (l = h.end.offset);
                      i(n.substring(a, l), a);
                    }
                });
              }
            }),
            (t.prototype.getInfo = function () {
              return Lt("plugins.search.label-match-block");
            }),
            (t.prototype.requiredInputs = function () {
              return { content: !0 };
            }),
            t
          );
        })(HP),
        jP = new fP();
      var UP = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.match = function (e) {
              if (e.strings.hasOwnProperty("content")) {
                var t = e.cache;
                if (!t) return null;
                var n = e.getData(jP),
                  i = t.headings;
                if (!i) {
                  if (n) return null;
                  e.setData(jP, { sections: null, index: 0 });
                  var r = this.matcher.match(e);
                  return e.deleteData(jP), r;
                }
                var o,
                  s,
                  a,
                  l = e.original,
                  c = 0;
                if (n) {
                  o = n.sections;
                  var u = n.index,
                    h = o[u];
                  if (0 === h.children) return null;
                  (c = h.start),
                    (s = n.index + 1),
                    (a = Math.min(o.length, s + h.children));
                } else
                  (o = (function (e, t) {
                    for (var n = [], i = 0; i < e.length; i++) {
                      var r = e[i],
                        o = e[i + 1],
                        s = r.position.start.offset;
                      0 === i &&
                        s > 0 &&
                        n.push({ start: 0, end: s, children: 0 });
                      for (
                        var a = o ? o.position.start.offset : t,
                          l = 0,
                          c = i + 1;
                        c < e.length && e[c].level > r.level;
                        c++
                      )
                        l++;
                      n.push({ start: s, end: a, children: l });
                    }
                    return n;
                  })(i, l.length)),
                    (s = 0),
                    (a = o.length);
                return this.splitContentMatch(e, function (e, t) {
                  for (var n = s; n < a; n++) {
                    var i = o[n],
                      r = i.start,
                      u = i.end;
                    u <= r ||
                      (e.setData(jP, { sections: o, index: n }),
                      t(l.substring(r, u), r - c));
                  }
                });
              }
            }),
            (t.prototype.getInfo = function () {
              return Lt("plugins.search.label-match-section");
            }),
            (t.prototype.requiredInputs = function () {
              return { content: !0 };
            }),
            t
          );
        })(HP),
        WP = (function (e) {
          function t(t, n) {
            var i = this;
            return (
              t instanceof SP && "" === t.text && (t = new yP()),
              ((i = e.call(this, t) || this).completed = n),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.match = function (e) {
              if (e.strings.hasOwnProperty("content")) {
                var t = e.cache;
                if (!t) return null;
                var n = e.strings.content,
                  i = this.completed;
                return this.splitContentMatch(e, function (e, r) {
                  if (t.listItems)
                    for (var o = 0, s = t.listItems; o < s.length; o++) {
                      var a = s[o];
                      if (
                        void 0 !== a.task &&
                        ("boolean" != typeof i || i === (" " !== a.task))
                      ) {
                        var l = a.position,
                          c = l.start.offset,
                          u = l.end.offset;
                        r(n.substring(c, u), c);
                      }
                    }
                });
              }
            }),
            (t.prototype.getInfo = function () {
              var e = this.completed;
              return Lt(
                !0 === e
                  ? "plugins.search.label-match-task-done"
                  : !1 === e
                  ? "plugins.search.label-match-task-todo"
                  : "plugins.search.label-match-task"
              );
            }),
            (t.prototype.requiredInputs = function () {
              return { content: !0 };
            }),
            t
          );
        })(HP),
        _P = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (
              "#" !== t.text.charAt(0) && (t = new EP("#" + t.text)),
              (n.matcher = t),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.match = function (e) {
              var t = new RegExp("^" + this.matcher.regex + "($|\\/)", "gmi");
              if (e.strings.hasOwnProperty("tag") && t.test(e.strings.tag))
                return {};
              if (e.strings.hasOwnProperty("content")) {
                var n = e.cache;
                if (!n) return null;
                var i = [],
                  r = !1,
                  o = $g(n.frontmatter);
                if (o)
                  for (var s = 0, a = o; s < a.length; s++) {
                    var l = a[s];
                    (t.lastIndex = 0), t.test(l) && (r = !0);
                  }
                var c = n.tags;
                if (c)
                  for (var u = 0, h = c; u < h.length; u++) {
                    l = h[u];
                    (t.lastIndex = 0),
                      t.test(l.tag) &&
                        (i.push([
                          l.position.start.offset,
                          l.position.end.offset,
                        ]),
                        (r = !0));
                  }
                return r ? { content: i } : null;
              }
            }),
            (t.prototype.getInfo = function () {
              return Lt("plugins.search.label-match-tag") + this.matcher.text;
            }),
            (t.prototype.requiredInputs = function () {
              return { content: !0 };
            }),
            t
          );
        })(vP),
        GP = {
          "match-case": {
            operate: function (e) {
              return new IP(e, !0);
            },
          },
          "ignore-case": {
            operate: function (e) {
              return new IP(e, !1);
            },
          },
          path: {
            exclusive: !0,
            operate: function (e) {
              return new BP(e);
            },
          },
          file: {
            exclusive: !0,
            operate: function (e) {
              return new RP(e);
            },
          },
          content: {
            exclusive: !0,
            operate: function (e) {
              return new zP(e);
            },
          },
          line: {
            exclusive: !0,
            operate: function (e) {
              return new VP(e);
            },
          },
          block: {
            exclusive: !0,
            operate: function (e) {
              return new qP(e);
            },
          },
          section: {
            exclusive: !0,
            allowSelf: !0,
            operate: function (e) {
              return new UP(e);
            },
          },
          task: {
            exclusive: !0,
            operate: function (e) {
              return new WP(e, void 0);
            },
          },
          "task-todo": {
            exclusive: !0,
            operate: function (e) {
              return new WP(e, !1);
            },
          },
          "task-done": {
            exclusive: !0,
            operate: function (e) {
              return new WP(e, !0);
            },
          },
          tag: {
            exclusive: !0,
            operate: function (e) {
              if (!(e instanceof EP))
                throw new Error('Operator "tag" can only be followed by text');
              return new _P(e);
            },
          },
        },
        KP = (function () {
          function e(e, t, n) {
            (n = n || GP), (this.query = e), (this.caseSensitive = t);
            var i = (function (e, t) {
                for (
                  var n = 0,
                    i = e.length,
                    r = [],
                    o = function (e, t) {
                      "OR" === e
                        ? r.push({ type: "or", content: e, pos: t })
                        : r.push({ type: "text", content: e, pos: t });
                    };
                  n < i;

                ) {
                  var s = e.charAt(n);
                  if ('"' !== s)
                    if ("/" !== s)
                      if ("-" !== s)
                        for (var a = n, l = ""; n <= i; ) {
                          if (n === i) {
                            l && o(l, a);
                            break;
                          }
                          if (
                            ((p = e.charAt(n)), n++, "(" === p || ")" === p)
                          ) {
                            l && o(l, a),
                              r.push({ type: "group", content: p, pos: a });
                            break;
                          }
                          if (" " === p) {
                            l && o(l, a);
                            break;
                          }
                          if (":" === p && "" !== l && t.hasOwnProperty(l)) {
                            r.push({ type: "operator", content: l, pos: a });
                            break;
                          }
                          l += p;
                        }
                      else {
                        var c = n;
                        n++, r.push({ type: "not", content: s, pos: c });
                      }
                    else {
                      var u = n;
                      n++;
                      for (var h = ""; n <= i; ) {
                        if (n === i) {
                          r.push({ type: "regex", content: h, pos: u });
                          break;
                        }
                        var p = e.charAt(n);
                        if ((n++, "\\" === p && n < e.length)) {
                          var d = e.charAt(n);
                          if ("/" === d) {
                            (h += d), n++;
                            continue;
                          }
                          if ("\\" === d) {
                            (h += "\\\\"), n++;
                            continue;
                          }
                        }
                        if ("/" === p) {
                          r.push({ type: "regex", content: h, pos: u });
                          break;
                        }
                        h += p;
                      }
                    }
                  else {
                    var f = n;
                    n++;
                    for (var g = ""; n <= i; ) {
                      if (n === i) {
                        r.push({ type: "quoted", content: g, pos: f });
                        break;
                      }
                      p = e.charAt(n);
                      if ((n++, "\\" === p && n < i)) (g += e.charAt(n)), n++;
                      else {
                        if ('"' === p) {
                          r.push({ type: "quoted", content: g, pos: f });
                          break;
                        }
                        g += p;
                      }
                    }
                  }
                }
                return r;
              })(e, n),
              r = (this.matcher = (function (e, t) {
                return PP({
                  tokens: e,
                  pos: 0,
                  operatorStack: [],
                  operators: t,
                });
              })(i, n));
            this.requiredInputs = r && r.requiredInputs();
          }
          return (
            (e.prototype.match = function (e, t, n) {
              var i = { filename: e.name, filepath: e.path, content: t },
                r = "md" === e.extension ? ["filename", "content"] : [],
                o = new gP(i, t, r, this.caseSensitive);
              return (o.cache = n), this._match(o);
            }),
            (e.prototype.matchTag = function (e) {
              var t = { tag: e };
              return this._match(new gP(t, e, ["tag"], this.caseSensitive));
            }),
            (e.prototype.matchFilepath = function (e) {
              var t = { filename: Ye(e), filepath: e };
              return this._match(
                new gP(t, e, ["filename"], this.caseSensitive)
              );
            }),
            (e.prototype._match = function (e) {
              kP();
              var t = this.matcher.match(e);
              if (t) for (var n in t) t.hasOwnProperty(n) && (t[n] = $T(t[n]));
              return void 0 === t && (t = {}), t;
            }),
            e
          );
        })();
      function $P(e, t, n, i, r) {
        var o, s;
        return A(this, void 0, Promise, function () {
          var a, l, c, u, h, p, d, f, g;
          return D(this, function (m) {
            switch (m.label) {
              case 0:
                (a = $h(n.generator(), r)), (m.label = 1);
              case 1:
                m.trys.push([1, 11, 12, 17]), (l = I(a)), (m.label = 2);
              case 2:
                return [4, l.next()];
              case 3:
                if ((c = m.sent()).done) return [3, 10];
                if (
                  ((u = c.value),
                  (h = "md" === u.extension),
                  (p = e.metadataCache.getFileCache(u)),
                  (d = ""),
                  !h || !t.content)
                )
                  return [3, 7];
                m.label = 4;
              case 4:
                return m.trys.push([4, 6, , 7]), [4, e.vault.cachedRead(u)];
              case 5:
                return (d = m.sent()), [3, 7];
              case 6:
                return (f = m.sent()), console.error(f), [3, 7];
              case 7:
                return n.runnable.isCancelled() ? [2] : [4, i(u, d, p)];
              case 8:
                m.sent(), (m.label = 9);
              case 9:
                return [3, 2];
              case 10:
                return [3, 17];
              case 11:
                return (g = m.sent()), (o = { error: g }), [3, 17];
              case 12:
                return (
                  m.trys.push([12, , 15, 16]),
                  c && !c.done && (s = l.return) ? [4, s.call(l)] : [3, 14]
                );
              case 13:
                m.sent(), (m.label = 14);
              case 14:
                return [3, 16];
              case 15:
                if (o) throw o.error;
                return [7];
              case 16:
                return [7];
              case 17:
                return [2];
            }
          });
        });
      }
      var YP = "obsidian-search-match-highlight",
        JP = window.CodeMirror,
        QP = null,
        XP = (function () {
          var e =
              /^(url|inline-code|property|footref|hmd-footnote|math|link-has-alias|formatting-link|hmd-codeblock|blockid|hmd-frontmatter)$/,
            t = /[`|~^=$<>]/,
            n = /\s/,
            i = /[0-9]/,
            r = /[a-z]/i,
            o = new RegExp("[" + uP.source + "]"),
            s = function (e) {
              return (
                !(function (e) {
                  return Te.test(e);
                })(e) &&
                !t.test(e) &&
                !n.test(e)
              );
            };
          return {
            token: function (t) {
              var n = t.peek(),
                a = "",
                l = o.test(n);
              if (!s(n)) return t.next(), null;
              for (; (n = t.peek()) && s(n) && l === o.test(n); )
                (a += n), t.next();
              if (t.start >= 1 && "'" === t.string.charAt(t.start - 1))
                return null;
              if ("'" === n) return null;
              if (i.test(a)) return null;
              if (!r.test(a)) return null;
              if (a === a.toUpperCase()) return null;
              var c = t.pos;
              t.pos = t.start;
              var u = t.baseToken();
              t.pos = c;
              var h = "";
              if ((u && u.type && (h = u.type), h))
                for (var p = 0, d = h.trim().split(" "); p < d.length; p++) {
                  var f = d[p];
                  if (f && e.test(f)) return null;
                }
              return QP ? (QP.check(a) ? void 0 : "spell-error") : null;
            },
          };
        })(),
        ZP = "hmd-internal-link";
      try {
        delete JP.keyMap.emacsy["Alt-F"],
          delete JP.keyMap.emacsy["Alt-B"],
          delete JP.keyMap.emacsy["Alt-D"],
          delete JP.keyMap.pcDefault["Ctrl-Up"],
          delete JP.keyMap.pcDefault["Ctrl-Down"],
          delete JP.keyMap.pcDefault["Alt-Left"],
          delete JP.keyMap.pcDefault["Alt-Right"],
          (JP.keyMap.macDefault.fallthrough = "basic"),
          (JP.keyMap.macEmacsy = { fallthrough: ["macDefault", "emacsy"] });
      } catch (e) {
        console.error(e);
      }
      var eO = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            return (i.view = t), (i.cm = n), i;
          }
          return (
            M(t, e),
            (t.prototype.getValue = function () {
              return this.cm.getValue();
            }),
            (t.prototype.setValue = function (e) {
              this.cm.setValue(e);
            }),
            (t.prototype.getLine = function (e) {
              return this.cm.getLine(e);
            }),
            (t.prototype.lineCount = function () {
              return this.cm.lineCount();
            }),
            (t.prototype.lastLine = function () {
              return this.cm.lastLine();
            }),
            (t.prototype.getSelection = function () {
              return this.cm.getSelection();
            }),
            (t.prototype.getRange = function (e, t) {
              return this.cm.getRange(e, t);
            }),
            (t.prototype.replaceSelection = function (e, t) {
              this.cm.replaceSelection(e, void 0, t);
            }),
            (t.prototype.replaceRange = function (e, t, n, i) {
              this.cm.replaceRange(e, t, n, i);
            }),
            (t.prototype.getCursor = function (e) {
              return ch(this.cm.getCursor(e), 0);
            }),
            (t.prototype.listSelections = function () {
              return this.cm.listSelections();
            }),
            (t.prototype.setSelection = function (e, t) {
              this.cm.setSelection(e, t);
            }),
            (t.prototype.setSelections = function (e, t) {
              this.cm.setSelections(e, t);
            }),
            (t.prototype.exec = function (e) {
              this.cm.execCommand(t.commands[e]);
            }),
            (t.prototype.focus = function () {
              this.cm.focus();
            }),
            (t.prototype.blur = function () {
              this.cm.getInputField().blur();
            }),
            (t.prototype.hasFocus = function () {
              return this.cm.hasFocus();
            }),
            (t.prototype.getScrollInfo = function () {
              return this.cm.getScrollInfo();
            }),
            (t.prototype.scrollTo = function (e, t) {
              this.cm.scrollTo(e, t);
            }),
            (t.prototype.scrollIntoView = function (e, t) {
              this.cm.scrollIntoView(
                e,
                this.cm.getWrapperElement().clientHeight / 2
              );
            }),
            (t.prototype.refresh = function () {
              this.cm.refresh();
            }),
            (t.prototype.transaction = function (e, t) {
              var n = e.replaceSelection,
                i = e.changes,
                r = e.selection,
                o = e.selections,
                s = this.cm;
              s.operation(function () {
                if (
                  (String.isString(n) && s.replaceSelection(n, void 0, t), i)
                ) {
                  i.sort(hh);
                  for (var e = 0, a = i; e < a.length; e++) {
                    var l = a[e];
                    s.replaceRange(l.text, l.from, l.to, t);
                  }
                }
                o
                  ? s.setSelections(
                      o.map(function (e) {
                        return { head: e.from, anchor: e.to || e.from };
                      })
                    )
                  : r && s.setSelection(r.from, r.to);
              });
            }),
            (t.prototype.wordAt = function (e) {
              var t = this.cm.findWordAt(e);
              return t.empty() ? null : { from: t.from(), to: t.to() };
            }),
            (t.prototype.posToOffset = function (e) {
              return this.cm.indexFromPos(e);
            }),
            (t.prototype.offsetToPos = function (e) {
              return this.cm.posFromIndex(e);
            }),
            (t.prototype.undo = function () {
              this.cm.undo();
            }),
            (t.prototype.redo = function () {
              this.cm.redo();
            }),
            (t.prototype.coordsAtPos = function (e, t) {
              var n = this.cm.cursorCoords(e, t ? "local" : "page"),
                i = n.left;
              return { top: n.top, bottom: n.bottom, left: i, right: i };
            }),
            (t.prototype.posAtCoords = function (e, t) {
              return this.cm.coordsChar({ left: e, top: t }, "window");
            }),
            (t.prototype.addHighlights = function (e, t, n, i) {
              n && this.removeHighlights(t);
              for (var r = this.cm, o = 0, s = e; o < s.length; o++) {
                var a = s[o];
                if ((r.markText(a.from, a.to, { className: t }), i))
                  for (
                    var l = 0, c = r.findMarksAt(a.from);
                    l < c.length;
                    l++
                  ) {
                    var u = c[l];
                    u.__isFold && u.clear();
                  }
              }
            }),
            (t.prototype.removeHighlights = function (e) {
              for (var t = 0, n = this.cm.getAllMarks(); t < n.length; t++) {
                var i = n[t];
                i.className === e && i.clear();
              }
            }),
            (t.prototype.searchCursor = function (e) {
              var t = this.cm,
                n = this,
                i = function (n) {
                  return t.getSearchCursor(e, n, { caseFold: !0 });
                },
                r = i(null);
              return {
                current: function () {
                  return { from: r.from(), to: r.to() };
                },
                findPrevious: function () {
                  var e = r.findPrevious();
                  return (
                    e || (e = (r = i(lh(t.lastLine()))).findPrevious()),
                    e ? this.current() : null
                  );
                },
                findNext: function () {
                  var e = r.findNext();
                  return (
                    e || (e = (r = i(null)).findNext()),
                    e ? this.current() : null
                  );
                },
                replace: function (e, t) {
                  var i = this.current();
                  n.replaceRange(e, i.from, i.to, t);
                },
                findAll: function () {
                  for (var e = [], t = (r = i(null)).findNext(); t; )
                    e.push(this.current()), (t = r.findNext());
                  return e;
                },
                replaceAll: function (e, t) {
                  var i = this.findAll()
                    .map(function (t) {
                      return { from: t.from, to: t.to, text: e };
                    })
                    .reverse();
                  n.transaction({ changes: i }, t);
                },
              };
            }),
            (t.prototype.getClickableTokenAt = function (e) {
              var t = this.cm,
                n = t.getLineTokens(e.line),
                i = t.getTokenAt(e, !0),
                r = i.type;
              if (r) {
                for (
                  var o = r.split(" "),
                    s = o.contains(ZP),
                    a =
                      o.contains("formatting-link") &&
                      ["[[", "]]"].contains(i.string),
                    l = -1,
                    c = 0;
                  c < n.length;
                  c++
                ) {
                  if ((w = n[c]).start === i.start && w.end === i.end) {
                    l = c;
                    break;
                  }
                }
                if (s || a) {
                  if (-1 !== l) {
                    for (var u = l - 1; u >= 0; ) {
                      var h = (w = n[u]).type;
                      if (!h || !h.contains(ZP)) break;
                      u--;
                    }
                    for (var p = l + 1; p < n.length; ) {
                      var d = (w = n[p]).type;
                      if (!d || !d.contains(ZP)) break;
                      p++;
                    }
                    var f = "",
                      g = e.ch,
                      m = e.ch;
                    for (c = u + 1; c < p; c++) {
                      (w = n[c]).type.contains(ZP) &&
                        ((f += w.string),
                        w.start < g && (g = w.start),
                        w.end > m && (m = w.end));
                    }
                    return {
                      type: "internal-link",
                      text: dg(f),
                      start: { line: e.line, ch: g },
                      end: { line: e.line, ch: m },
                    };
                  }
                  return null;
                }
                if (o.contains("url")) {
                  var v = i.string;
                  if (
                    ("(" === v ? (i = n[l + 1]) : ")" === v && (i = n[l - 1]),
                    !i)
                  )
                    return null;
                  v = i.string;
                  try {
                    v = decodeURI(v);
                  } catch (e) {
                    return null;
                  }
                  var y = !0;
                  return (
                    o.contains("string")
                      ? (y = !fg(v))
                      : /^([a-z0-9+.-]+):/.test(v) || (v = "https://" + v),
                    {
                      type: y ? "external-link" : "internal-link",
                      text: v,
                      start: { line: e.line, ch: i.start },
                      end: { line: e.line, ch: i.end },
                    }
                  );
                }
                if (o.contains("hashtag")) {
                  var b = "";
                  for (g = e.ch, m = e.ch, c = 0; c < n.length; c++) {
                    var w;
                    if (
                      (w = n[c]).type &&
                      w.type.split(" ").contains("hashtag")
                    )
                      (b += w.string),
                        w.start < g && (g = w.start),
                        w.end > m && (m = w.end);
                    else {
                      if (!(c < l)) break;
                      (b = ""), (g = e.ch), (m = e.ch);
                    }
                  }
                  if (b)
                    return {
                      type: "tag",
                      text: b,
                      start: { line: e.line, ch: g },
                      end: { line: e.line, ch: m },
                    };
                }
                return null;
              }
            }),
            (t.prototype.getSpellcheckStatus = function (e, t) {
              var n = this,
                i = e.target;
              if (i instanceof HTMLElement) {
                if (!i.classList.contains("cm-spell-error")) return null;
                var r = i.innerText;
                if (!r) return null;
                var o = this.cm,
                  s = { line: t.line, ch: t.ch },
                  a = o.getTokenAt(s, !0);
                a.end < s.ch && (s.ch++, (a = o.getTokenAt(s, !0)));
                for (
                  var l = i.getText(), c = -1;
                  !(
                    -1 === (c = a.string.indexOf(l, c)) ||
                    (a.start + c <= s.ch && a.start + c + l.length >= s.ch)
                  );

                )
                  c++;
                if (-1 !== c) {
                  var u = { line: s.line, ch: a.start + c },
                    h = { line: s.line, ch: a.start + c + l.length },
                    p = QP.correct(r);
                  return {
                    misspelledWord: r,
                    dictionarySuggestions: p,
                    replace: function (e) {
                      n.replaceRange(e, u, h),
                        o.focus(),
                        o.setCursor({ line: u.line, ch: u.ch + e.length });
                    },
                    addToDictionary: function (e) {
                      var t = n.view.app,
                        i = t.vault.getConfig("spellcheckDictionary");
                      (i && Array.isArray(i)) || (i = []),
                        i.push(r),
                        QP.add(r),
                        t.vault.setConfig("spellcheckDictionary", i),
                        o.replaceRange("", u, h),
                        o.replaceRange(r, u, u);
                    },
                  };
                }
              }
            }),
            (t.commands = {
              goUp: "goLineUp",
              goDown: "goLineDown",
              goLeft: "goCharLeft",
              goRight: "goCharRight",
              goStart: "goDocStart",
              goEnd: "goDocEnd",
              indentMore: "indentMore",
              indentLess: "indentLess",
              newlineAndIndent: "newlineAndIndent",
              swapLineUp: "swapLineUp",
              swapLineDown: "swapLineDown",
              deleteLine: "deleteLine",
              toggleFold: "toggleFold",
              foldAll: "foldAll",
              unfoldAll: "unfoldAll",
            }),
            t
          );
        })(gh),
        tO = (function () {
          function e(e) {
            var t = this;
            (this.type = "source"),
              (this.hoverPopover = null),
              (this.editorEl = null),
              (this.search = null),
              (this.lastCursor = null),
              (this.scrolling = !1),
              (this.view = e);
            var n = (this.app = e.app),
              i = (this.editorEl = e.contentEl.createDiv(
                "markdown-source-view mod-cm5"
              )),
              r = (this.cmEditor = JP(this.editorEl, {
                mode: "hypermd",
                theme: "obsidian",
                lineWrapping: !0,
                styleActiveLine: !0,
                configureMouse: function (e, t, n) {
                  return { addNew: n.altKey && !n.ctrlKey && !n.metaKey };
                },
              })),
              o = (this.editor = new eO(e, r));
            (this.clipboardManager = new mT(e, o)), this.updateOptions();
            var s = r.getWrapperElement(),
              a = s.find(".CodeMirror-vscrollbar");
            a.detach(),
              i.insertBefore(a, i.firstChild),
              (a.style.width = "100%");
            var l = r.getInputField();
            if (l instanceof HTMLTextAreaElement) {
              (l.style.top = "0"), (l.style.bottom = "");
              var c = l.parentElement.style;
              (c.position = "absolute"), (c.opacity = "0");
            }
            (l.tabIndex = -1),
              (this.search = new ET(n, e, o, this.editorEl)),
              (this.editorSuggest = n.workspace.editorSuggest),
              this.attachCmEvents(),
              this.attachDomEvents(),
              n.workspace.trigger("codemirror", r),
              cb.registerDomEvents(
                s,
                new VB(this.app, this, function () {
                  return t.view.file;
                }),
                function (e) {
                  for (; e; ) {
                    if (e === s) return !0;
                    if (e.classList.contains("markdown-preview-view"))
                      return !1;
                    var t = e.parentElement;
                    if (!t) return !1;
                    e = t;
                  }
                  return !1;
                }
              );
          }
          return (
            (e.prototype.show = function () {
              this.editorEl.show(), this.cmEditor.refresh();
            }),
            (e.prototype.hide = function () {
              this.editorEl.hide(),
                this.editorSuggest.close(),
                this.search.hide();
            }),
            (e.prototype.clear = function () {
              var e = this.cmEditor.getDoc();
              e.setValue(""), e.clearHistory();
            }),
            (e.prototype.get = function () {
              return this.cmEditor.getValue();
            }),
            (e.prototype.set = function (e, t) {
              var n = this.cmEditor;
              if (t) n.setValue(e), n.clearHistory(), (this.lastCursor = null);
              else {
                for (
                  var i = n.getScrollInfo(),
                    r = e.split(/\r?\n/g),
                    o = n.lineCount(),
                    s = 0;
                  s < r.length && s < o && r[s] === n.getLine(s);

                )
                  s++;
                if (s === r.length && s === o) return;
                for (
                  var a = o - 1, l = r.length - 1;
                  a > s && l > s && n.getLine(a) === r[l];

                )
                  a--, l--;
                var c = { line: s, ch: 0 },
                  u = { line: a, ch: n.getLine(a).length },
                  h = r.slice(s, l + 1).join("\n");
                s === Math.min(o, r.length) &&
                  ((c = { line: s - 1, ch: n.getLine(s - 1).length }),
                  r.length > o && (h = "\n" + h)),
                  n.replaceRange(h, c, u, "setValue"),
                  (this.scrolling = !0),
                  n.scrollTo(i.left, i.top);
              }
            }),
            (e.prototype.beforeUnload = function () {}),
            (e.prototype.getEphemeralState = function (e) {
              var t = this.editor;
              if (t.hasFocus()) {
                var n = t.getCursor("anchor"),
                  i = t.getCursor("head");
                e.cursor = {
                  from: { line: n.line, ch: n.ch },
                  to: { line: i.line, ch: i.ch },
                };
              }
            }),
            (e.prototype.setEphemeralState = function (e) {
              var t = this.cmEditor,
                n = e.cursor,
                i = t.getScrollInfo();
              if (
                (n && n.from && n.to
                  ? (t.focus(),
                    t.setSelection(n.from, n.to),
                    t.scrollTo(i.left, i.top))
                  : e.focus &&
                    (this.lastCursor
                      ? t.setCursor(this.lastCursor)
                      : t.execCommand("goDocStart"),
                    t.focus(),
                    t.scrollTo(i.left, i.top)),
                e.hasOwnProperty("scroll") && this.applyScroll(e.scroll),
                void 0 !== e.startLoc && void 0 !== e.endLoc)
              ) {
                var r = e.startLoc,
                  o = e.endLoc,
                  s = { line: r.line, ch: r.col },
                  a = o
                    ? { line: o.line, ch: o.col }
                    : {
                        line: t.lastLine(),
                        ch: t.getLine(t.lastLine()).length,
                      };
                this.highlightSearchMatch(s, a), this.onScroll();
              } else if (void 0 !== e.line && e.line >= 0) {
                var l = e.line;
                (s = { line: l, ch: 0 }),
                  (a = { line: l, ch: t.getLine(l).length });
                this.highlightSearchMatch(s, a),
                  t.setSelection(a, a),
                  this.onScroll();
              } else if (void 0 !== e.match) {
                var c = e.match,
                  u = mh(c.content, c.matches);
                this.highlightSearchMatches(u), this.onScroll();
              }
            }),
            (e.prototype.updateOptions = function () {
              var e,
                t = this,
                n = this.app.vault,
                i = this.cmEditor,
                r = n.getConfig("readableLineLength");
              this.editorEl.toggleClass("is-readable-line-width", r);
              var o = "";
              n.getConfig("autoPairBrackets") && (o += "()[]{}''\"\""),
                n.getConfig("autoPairMarkdown") && (o += "**__``==~~$$%%"),
                o
                  ? i.setOption("autoCloseBrackets", {
                      pairs: o,
                      explode: "",
                      surroundOnly: "=~$%",
                      override: !0,
                    })
                  : i.setOption("autoCloseBrackets", !1);
              var s = n.getConfig("foldHeading"),
                a = n.getConfig("foldIndent");
              if (s || a) {
                i.setOption("foldGutter", !0),
                  i.setOption("gutters", [
                    "CodeMirror-linenumbers",
                    "CodeMirror-foldgutter",
                  ]);
                var l = [JP.fold.frontmatter];
                s && l.push(JP.fold.markdown), a && l.push(JP.fold.indent);
                var c =
                  1 === l.length
                    ? l[0]
                    : new ((e = JP.fold.combine).bind.apply(
                        e,
                        P([void 0], l)
                      ))();
                i.setOption("foldOptions", { rangeFinder: c });
              } else
                i.setOption("foldGutter", !1),
                  i.setOption("gutters", []),
                  i.setOption("foldOptions", {});
              var u = n.getConfig("showLineNumber");
              i.setOption("lineNumbers", u);
              var h = n.getConfig("useTab");
              i.setOption("indentWithTabs", !!h);
              var p = n.getConfig("tabSize");
              i.setOption("tabSize", p),
                i.setOption("indentUnit", Math.clamp(p, 2, 4)),
                i.setOption("scrollPastEnd", !0);
              var d = n.getConfig("lineWrap");
              i.setOption("lineWrapping", d);
              var f = n.getConfig("rightToLeft");
              i.setOption("direction", f ? "rtl" : "ltr"),
                i.setOption("rtlMoveVisually", f);
              var g = n.getConfig("vimMode"),
                m = n.getConfig("emacsyKeys");
              if (
                (g
                  ? i.setOption("keyMap", "vim")
                  : fe && m
                  ? i.setOption("keyMap", "macEmacsy")
                  : i.setOption("keyMap", "default"),
                g &&
                  (a || s) &&
                  (JP.Vim.defineAction("fold", function (e) {
                    return e.execCommand("fold");
                  }),
                  JP.Vim.mapCommand("zc", "action", "fold"),
                  JP.Vim.defineAction("unfold", function (e) {
                    return e.execCommand("unfold");
                  }),
                  JP.Vim.mapCommand("zo", "action", "unfold"),
                  JP.Vim.defineAction("toggleFold", function (e) {
                    return e.execCommand("toggleFold");
                  }),
                  JP.Vim.mapCommand("za", "action", "toggleFold")),
                n.getConfig("spellcheck"))
              ) {
                if (
                  (QP ||
                    ut(function (e) {
                      window.process.versions.electron;
                      try {
                        var t = window.require("fs"),
                          n = e.ipcRenderer.sendSync("resources"),
                          i = t.readFileSync(
                            n + "/spellcheck/en_US.aff",
                            "utf8"
                          ),
                          r = t.readFileSync(
                            n + "/spellcheck/en_US.dic",
                            "utf8"
                          ),
                          o = new window.nspell(i, r);
                        QP = {
                          check: function (e) {
                            return o.correct(e);
                          },
                          correct: function (e) {
                            return o.suggest(e);
                          },
                          add: function (e) {
                            o.add(e);
                          },
                          remove: function (e) {
                            o.remove(e);
                          },
                        };
                      } catch (e) {
                        console.error(
                          "Failed to load spellcheck dictionary.",
                          e
                        );
                      }
                    }),
                  XP && (i.addOverlay(XP), QP))
                )
                  for (
                    var v = 0, y = n.getConfig("spellcheckDictionary");
                    v < y.length;
                    v++
                  ) {
                    var b = y[v];
                    QP.add(b);
                  }
              } else XP && i.removeOverlay(XP);
              var w = {
                  Up: this.passIfNoSuggestion.bind(this),
                  Down: this.passIfNoSuggestion.bind(this),
                  Tab: this.passIfNoSuggestion.bind(this),
                },
                k = n.getConfig("smartIndentList");
              (w.Enter = function (e) {
                if (!t.editorSuggest.isShowingSuggestion()) {
                  if (!k) return JP.Pass;
                  e.execCommand("newlineAndIndentContinueMarkdownList");
                }
              }),
                k &&
                  (g ||
                    ((w[fe ? "Cmd-[" : "Ctrl-["] = function (e) {
                      e.execCommand("indentLess"),
                        e.execCommand("indentUnindentContinueMarkdownList");
                    }),
                    (w[fe ? "Cmd-]" : "Ctrl-]"] = function (e) {
                      e.execCommand("indentMore"),
                        e.execCommand("indentUnindentContinueMarkdownList");
                    })),
                  (w.Tab = function (e) {
                    t.editorSuggest.isShowingSuggestion() ||
                      e.execCommand("autoIndentMarkdownList");
                  }),
                  (w["Shift-Tab"] = "autoUnindentMarkdownList")),
                (w.End = function (e) {
                  for (
                    var t = !1,
                      n = 0,
                      i = e.getLineTokens(e.getCursor("to").line);
                    n < i.length;
                    n++
                  ) {
                    var r = i[n];
                    if (
                      r.type &&
                      r.type.split(" ").contains("line-HyperMD-table-row")
                    ) {
                      t = !0;
                      break;
                    }
                  }
                  t ? e.execCommand("goLineEnd") : e.execCommand("goLineRight");
                }),
                (w.Home = "goLineLeftSmart"),
                g || (w[fe ? "Cmd-D" : "Ctrl-D"] = !1),
                this.cmEditor.setOption("extraKeys", w),
                i.refresh();
            }),
            (e.prototype.showSearch = function (e) {
              void 0 === e && (e = !1), this.search.show(e);
            }),
            (e.prototype.getSelection = function () {
              return this.editor.getSelection();
            }),
            (e.prototype.highlightSearchMatch = function (e, t, n, i) {
              void 0 === n && (n = !0), void 0 === i && (i = !0);
              var r = this.cmEditor;
              r.refresh(),
                i && this.clearHighlights(),
                r.markText(e, t, { className: YP }),
                n &&
                  r.scrollIntoView(
                    { from: e, to: t },
                    r.getWrapperElement().offsetHeight / 4
                  );
            }),
            (e.prototype.highlightSearchMatches = function (e, t, n) {
              void 0 === t && (t = !0), void 0 === n && (n = !0);
              var i = this.cmEditor;
              i.refresh(), n && this.clearHighlights();
              for (var r = 0, o = e; r < o.length; r++) {
                var s = o[r];
                i.markText(s.from, s.to, { className: YP });
                for (var a = 0, l = i.findMarksAt(s.from); a < l.length; a++) {
                  var c = l[a];
                  c.__isFold && c.clear();
                }
              }
              if (t && e.length > 0) {
                s = e[0];
                i.scrollIntoView(s, i.getWrapperElement().offsetHeight / 4);
              }
            }),
            (e.prototype.clearHighlights = function () {
              for (
                var e = 0, t = this.cmEditor.getAllMarks();
                e < t.length;
                e++
              ) {
                var n = t[e];
                n.className === YP && n.clear();
              }
            }),
            (e.prototype.onScroll = function () {
              this.editorSuggest.reposition(),
                this.scrolling
                  ? (this.scrolling = !1)
                  : this.view.onMarkdownScroll();
            }),
            (e.prototype.getScroll = function () {
              var e = this.cmEditor,
                t = e.getScrollInfo(),
                n = e.lineAtHeight(t.top, "local"),
                i = e.charCoords({ line: n, ch: 0 }, "local"),
                r = e.charCoords({ line: n + 1, ch: 0 }, "local"),
                o = i.top;
              0 === n && (o = 0);
              var s = r.top;
              return n + Math.max(0, (t.top - o) / (s - o));
            }),
            (e.prototype.applyScroll = function (e) {
              if (Number.isNumber(e) && !isNaN(e)) {
                var t = Math.floor(e),
                  n = e - t;
                this.scrolling = !0;
                var i = this.cmEditor,
                  r = i.charCoords({ line: t, ch: 0 }, "local"),
                  o = i.charCoords({ line: t + 1, ch: 0 }, "local"),
                  s = r.top;
                0 === t && (s = 0);
                var a = o.top;
                i.scrollTo(null, s + (a - s) * n);
              }
            }),
            (e.prototype.getFoldInfo = function () {
              for (
                var e = this.cmEditor, t = [], n = 0, i = e.getAllMarks();
                n < i.length;
                n++
              ) {
                var r = i[n];
                if (r.__isFold) {
                  var o = r.find();
                  o && t.push({ from: o.from.line, to: o.to.line });
                }
              }
              return t.length > 0 ? { folds: t, lines: e.lineCount() } : null;
            }),
            (e.prototype.applyFoldInfo = function (e) {
              var t = this.cmEditor;
              if (
                (!e || t.lineCount() === e.lines) &&
                (t.execCommand("unfoldAll"), e)
              )
                for (var n = new Set(), i = 0, r = e.folds; i < r.length; i++) {
                  var o = r[i].from;
                  n.has(o) ||
                    (n.add(o), t.foldCode({ line: o, ch: 0 }, null, "fold"));
                }
            }),
            (e.prototype.attachCmEvents = function () {
              var e = this,
                t = this.cmEditor,
                n = !1,
                i = Tt(function () {
                  e.editorSuggest.trigger(e.editor, e.view.file, n), (n = !1);
                }, 50),
                r = Tt(function () {
                  return e.view.onMarkdownFold();
                }, 500),
                o = Tt(this.fixIME.bind(this), 100, !0);
              t.on("changes", function (t, o) {
                for (var s = 0, a = o; s < a.length; s++) {
                  if (
                    "+input" === (u = a[s]).origin ||
                    "*compose" === u.origin
                  ) {
                    e.editor.expandText();
                    break;
                  }
                }
                for (var l = 0, c = o; l < c.length; l++) {
                  var u;
                  if ("setValue" !== (u = c[l]).origin) {
                    e.view.requestSave(),
                      r(),
                      (n = !0),
                      i(),
                      e.view.triggerQuickPreview();
                    break;
                  }
                }
                e.app.workspace.trigger("editor-change", e.editor, e.view);
              }),
                t.on("markerAdded", r),
                t.on("markerCleared", r),
                t.on("cursorActivity", function () {
                  e.saveCursor(), i(), o();
                }),
                t.on("focus", function () {
                  e.clearHighlights(),
                    e.saveCursor(),
                    eb.isMobile && e.app.mobileToolbar.open();
                }),
                t.on("blur", function () {
                  e.editorSuggest.close(),
                    eb.isMobile && e.app.mobileToolbar.close();
                }),
                t.on("paste", function (t, n) {
                  e.clipboardManager.handlePaste(n);
                }),
                t.on("scroll", this.onScroll.bind(this)),
                t.on("refresh", function () {
                  var e = t.getWrapperElement().find(".CodeMirror-measure");
                  if (!e.offsetParent) return;
                  var n = e.createSpan();
                  n.appendText("x");
                  for (var i = {}, r = 0, o = s; r < o.length; r++) {
                    i[(u = o[r])] = n.createSpan({ text: u });
                  }
                  n.appendText("x");
                  for (var l = 0, c = s; l < c.length; l++) {
                    var u;
                    a[(u = c[l])] = i[u].getBoundingClientRect().width;
                  }
                  n.detach();
                });
              for (
                var s = [
                    " ",
                    "*",
                    "+",
                    "-",
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                    "6",
                    "7",
                    "8",
                    "9",
                    "0",
                    ".",
                    ">",
                  ],
                  a = {},
                  l = 0,
                  c = s;
                l < c.length;
                l++
              ) {
                a[c[l]] = 0;
              }
              t.on("renderLine", function (e, t, n) {
                var i = n.firstChild;
                i.style.paddingRight = "";
                var r = (/^\s*([*+-]\s+|\d+\.\s+|>\s*|\[.]\s+)*/.exec(
                    t.text
                  ) || [""])[0],
                  o = 0;
                if (r) {
                  for (
                    var s = e.getOption("tabSize"), l = 0;
                    l < r.length;
                    l++
                  ) {
                    o +=
                      "\t" === r.charAt(l)
                        ? s * a[" "]
                        : a[r.charAt(l)] || a[" "];
                  }
                  (n.style.textIndent = "-" + o + "px"),
                    (n.style.paddingLeft = 4 + o + "px");
                }
                for (var c = i.firstChild; c; ) {
                  var u = c.nextSibling;
                  if (!u) break;
                  c instanceof HTMLElement &&
                    u instanceof HTMLElement &&
                    c.classList.contains("cm-hashtag-end") &&
                    u.classList.contains("cm-hashtag-end") &&
                    c.removeClass("cm-hashtag-end"),
                    (c = u);
                }
              }),
                t.setOption("dragDrop", !1);
              var u = t.display.dragFunctions,
                h = Tt(u.over, 0);
              (u.over = function (t) {
                e.clipboardManager.handleDragOver(t),
                  t.preventDefault(),
                  h({
                    target: t.target,
                    clientX: t.clientX,
                    clientY: t.clientY,
                    defaultPrevented: !1,
                    preventDefault: function () {
                      this.defaultPrevented = !0;
                    },
                  });
              }),
                t.setOption("dragDrop", !0),
                t.on("dragleave", function () {
                  h.cancel();
                }),
                t.on("drop", function (t, n) {
                  h.cancel(), e.clipboardManager.handleDrop(n);
                }),
                t.refresh();
            }),
            (e.prototype.attachDomEvents = function () {
              var e = this,
                t = this.editorEl;
              t.addEventListener(
                "mousedown",
                this.onCodeMirrorMousedown.bind(this)
              ),
                t.addEventListener(
                  "contextmenu",
                  function (t) {
                    return e.clipboardManager.onContextMenu(t);
                  },
                  { capture: !0 }
                ),
                t.on(
                  "mouseover",
                  ".cm-hmd-internal-link",
                  this.onInternalLinkMouseover.bind(this)
                );
            }),
            (e.prototype.onCodeMirrorMousedown = function (e) {
              if ((0 === e.button || 1 === e.button) && nw.isModEvent(e)) {
                var t = this.editor.getClickableTokenAt(
                  this.editor.posAtMouse(e)
                );
                t &&
                  (this.view.triggerClickableToken(
                    t,
                    e.shiftKey || 1 === e.button
                  ),
                  e.preventDefault());
              }
            }),
            (e.prototype.passIfNoSuggestion = function () {
              if (!this.editorSuggest.isShowingSuggestion()) return JP.Pass;
            }),
            (e.prototype.onInternalLinkMouseover = function (e, t) {
              var n = this.editor.getClickableTokenAt(
                this.editor.posAtMouse(e)
              );
              n &&
                "internal-link" === n.type &&
                this.app.workspace.trigger("hover-link", {
                  event: e,
                  source: "editor",
                  hoverParent: this,
                  targetEl: t,
                  linktext: n.text,
                  sourcePath: this.view.file.path,
                });
            }),
            (e.prototype.fixIME = function () {
              if (!eb.isMobile) {
                var e = this.cmEditor,
                  t = "",
                  n = "",
                  i = "",
                  r = e.getCursor("anchor");
                if (r) {
                  var o = e.getTokenTypeAt(r);
                  o = (o || "").trim();
                  var s = createSpan();
                  (s.className = o
                    .split(" ")
                    .filter(function (e) {
                      return e;
                    })
                    .map(function (e) {
                      return "cm-" + e;
                    })
                    .join(" ")),
                    e
                      .getWrapperElement()
                      .find(".CodeMirror-measure")
                      .appendChild(s);
                  var a = getComputedStyle(s);
                  (n = a.fontSize),
                    (t = a.lineHeight),
                    (i = a.fontFamily),
                    s.detach();
                }
                var l = e.getInputField();
                (l.style.height = t), t || (l.style.height = "1px");
                var c = l.parentElement.style;
                (c.lineHeight = t),
                  (c.height = t),
                  (c.fontSize = n),
                  (c.fontFamily = i);
              }
            }),
            (e.prototype.saveCursor = function () {
              var e = this.editor;
              e.hasFocus() && (this.lastCursor = e.getCursor("anchor"));
            }),
            (e.prototype.onDocumentClick = function (e) {
              this.editorSuggest.close(), this.clearHighlights();
            }),
            (e.prototype.onResize = function () {
              this.editor.refresh(), this.editorSuggest.reposition();
            }),
            (e.prototype.onCssChange = function () {
              this.onResize();
            }),
            (e.removeFromSpellcheck = function (e) {
              QP && QP.remove(e);
            }),
            e
          );
        })(),
        nO = xs.line({ attributes: { class: "cm-active" } }),
        iO = Qs.fromClass(
          (function () {
            function e(e) {
              this.decorations = this.getDeco(e);
            }
            return (
              (e.prototype.update = function (e) {
                (e.docChanged || e.selectionSet) &&
                  (this.decorations = this.getDeco(e.view));
              }),
              (e.prototype.getDeco = function (e) {
                for (
                  var t = -1, n = [], i = 0, r = e.state.selection.ranges;
                  i < r.length;
                  i++
                ) {
                  var o = r[i],
                    s = e.lineBlockAt(o.head);
                  s.from > t && (n.push(nO.range(s.from)), (t = s.from));
                }
                return xs.set(n);
              }),
              e
            );
          })(),
          {
            decorations: function (e) {
              return e.decorations;
            },
          }
        ),
        rO = new ((function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.elementClass = "cm-active"), t;
          }
          return M(t, e), t;
        })(WS))(),
        oO = _S.compute(["selection"], function (e) {
          for (
            var t = [], n = -1, i = 0, r = e.selection.ranges;
            i < r.length;
            i++
          ) {
            var o = r[i],
              s = e.doc.lineAt(o.head).from;
            s > n && ((n = s), t.push(rO.range(s)));
          }
          return no.of(t);
        });
      function sO(e, t, n) {
        var i = null;
        return (
          e.between(t, n, function (e, t) {
            (!i || i.from > e) && (i = { from: e, to: t });
          }),
          i
        );
      }
      var aO = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (n.folded = t), n;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return e.folded == this.folded;
            }),
            (t.prototype.toDOM = function (e) {
              var t = createDiv(
                this.folded
                  ? "cm-fold-indicator is-collapsed"
                  : "cm-fold-indicator"
              );
              return (
                t.appendText("​"),
                Xy(t.createDiv("collapse-indicator collapse-icon"), pm, 8),
                t.addEventListener("mousedown", function (e) {
                  e.preventDefault();
                }),
                t.addEventListener("click", function (n) {
                  var i = e.posAtDOM(t),
                    r = e.state.doc.lineAt(i),
                    o = sO(wE(e.state), r.from, r.to);
                  if (o) e.dispatch({ effects: vE.of(o) });
                  else {
                    var s = Fu(e.state, r.from, r.to);
                    s && e.dispatch({ effects: mE.of(s) });
                  }
                }),
                t
              );
            }),
            t
          );
        })(ks),
        lO = xs.widget({ widget: new aO(!0) }),
        cO = xs.widget({ widget: new aO(!1) }),
        uO = (function () {
          function e(e) {
            (this.decorations = xs.none), this.buildDeco(e);
          }
          return (
            (e.prototype.update = function (e) {
              (e.docChanged ||
                e.viewportChanged ||
                e.startState.facet(uu) !== e.state.facet(uu) ||
                wE(e.startState) !== wE(e.state)) &&
                this.buildDeco(e.view);
            }),
            (e.prototype.buildDeco = function (e) {
              for (
                var t = new io(),
                  n = wE(e.state),
                  i = 0,
                  r = e.viewportLineBlocks;
                i < r.length;
                i++
              ) {
                var o = r[i],
                  s = null;
                if (
                  (sO(n, o.from, o.to)
                    ? (s = lO)
                    : Fu(e.state, o.from, o.to) && (s = cO),
                  s)
                ) {
                  var a = e.state.doc.sliceString(o.from, o.to),
                    l = o.from + a.match(/^\s*/)[0].length;
                  t.add(l, l, s);
                }
              }
              this.decorations = t.finish();
            }),
            e
          );
        })(),
        hO = Qs.define(
          function (e) {
            return new uO(e);
          },
          {
            decorations: function (e) {
              return e.decorations;
            },
          }
        ),
        pO = (function () {
          function e(e) {
            (this.decorations = xs.none),
              (this.indentCache = new Map()),
              (this.markCache = new Map()),
              this.buildDeco(e, !1);
          }
          return (
            (e.prototype.update = function (t) {
              ah(t.transactions, e.clearCache) &&
                (this.indentCache.clear(), this.markCache.clear());
              var n = ah(t.transactions, e.update),
                i = t.docChanged || t.viewportChanged || t.geometryChanged;
              (i || n) && this.buildDeco(t.view, n && !i);
            }),
            (e.prototype.buildDeco = function (t, n) {
              for (
                var i = this.indentCache,
                  r = t.defaultCharacterWidth,
                  o = new io(),
                  s = this.markCache,
                  a = [],
                  l = Zc(t.state),
                  c = function (e) {
                    var n = t.state.doc.lineAt(e.from),
                      c = n.number,
                      u = ph.exec(n.text);
                    if (u && u[0]) {
                      var h = u[0];
                      if (!h) return i.delete(c), "continue";
                      var p = !1;
                      if (
                        (l.iterate({
                          from: e.from,
                          to: e.from + h.length,
                          enter: function (e) {
                            var t = e.prop(Ku);
                            t && t.contains("HyperMD-codeblock") && (p = !0);
                            var n = e.prop(Gu);
                            n && n.contains("hmd-indented-code") && (p = !0);
                          },
                        }),
                        p)
                      )
                        return i.delete(c), "continue";
                      var d = void 0,
                        f = i.get(c);
                      if (
                        (f && f.text === h
                          ? (d = f.size)
                          : (a.push({ text: h, pos: e.from, line: c }),
                            (d = Math.floor(Pi(h, t.state.tabSize) * r))),
                        d > 0)
                      ) {
                        var g =
                          s.get(d) ||
                          xs.line({
                            attributes: {
                              style:
                                "text-indent:" +
                                -d +
                                "px;padding-left:" +
                                (4 + d) +
                                "px",
                            },
                          });
                        s.set(d, g), o.add(e.from, e.from, g);
                      }
                    }
                  },
                  u = 0,
                  h = t.viewportLineBlocks;
                u < h.length;
                u++
              ) {
                c(h[u]);
              }
              (this.decorations = o.finish()),
                !n &&
                  0 !== a.length &&
                  t.contentDOM.offsetParent &&
                  t.requestMeasure({
                    read: function (e) {
                      for (var t = !1, n = 0, r = a; n < r.length; n++) {
                        var o = r[n],
                          s = o.text,
                          l = o.pos,
                          c = o.line,
                          u = e.coordsAtPos(l + s.length, -1),
                          h = e.coordsAtPos(l, 1);
                        if (u && h) {
                          var p = Math.floor(u.right - h.left),
                            d = i.get(c);
                          (d && d.text === s && d.size === p) ||
                            (i.set(c, { text: s, size: p }), (t = !0));
                        }
                      }
                      return t;
                    },
                    write: function (n) {
                      n &&
                        setTimeout(function () {
                          return t.dispatch({ effects: e.update.of() });
                        }, 0);
                    },
                  });
            }),
            (e.clearCache = Or.define()),
            (e.update = Or.define()),
            e
          );
        })(),
        dO = Qs.define(
          function (e) {
            return new pO(e);
          },
          {
            decorations: function (e) {
              return e.decorations;
            },
          }
        );
      function fO(e, t) {
        var n = t.ch,
          i = t.line + 1;
        if (i < 1) return 0;
        if (i > e.lines) return e.length;
        var r = e.line(i);
        return Math.min(r.from + Math.max(0, n), r.to);
      }
      function gO(e, t) {
        if (t < 0 || t > e.length) return null;
        var n = e.lineAt(t);
        return { line: n.number - 1, ch: t - n.from };
      }
      var mO = function (e, t) {
        (this.line = e), (this.ch = t);
      };
      function vO(e, t, n) {
        if (e.addEventListener) e.addEventListener(t, n, !1);
        else {
          var i = e._handlers || (e._handlers = {});
          i[t] = (i[t] || []).concat(n);
        }
      }
      function yO(e, t, n) {
        if (e.removeEventListener) e.removeEventListener(t, n, !1);
        else {
          var i = e._handlers,
            r = i && i[t];
          if (r) {
            var o = r.indexOf(n);
            o > -1 && (i[t] = r.slice(0, o).concat(r.slice(o + 1)));
          }
        }
      }
      function bO(e, t) {
        for (var n, i = [], r = 2; r < arguments.length; r++)
          i[r - 2] = arguments[r];
        var o = null === (n = e._handlers) || void 0 === n ? void 0 : n[t];
        if (o) for (var s = 0; s < o.length; ++s) o[s].apply(o, i);
      }
      function wO(e) {
        for (var t = [], n = 1; n < arguments.length; n++)
          t[n - 1] = arguments[n];
        if (e) for (var i = 0; i < e.length; ++i) e[i].apply(e, t);
      }
      var kO,
        CO = {
          Return: "CR",
          Backspace: "BS",
          Delete: "Del",
          Escape: "Esc",
          Insert: "Ins",
          ArrowLeft: "Left",
          ArrowRight: "Right",
          ArrowUp: "Up",
          ArrowDown: "Down",
          Enter: "CR",
          " ": "Space",
        },
        xO = { Shift: 1, Alt: 1, Command: 1, Control: 1, CapsLock: 1 };
      try {
        kO = new RegExp("[\\w\\p{Alphabetic}\\p{Number}_]", "u");
      } catch (e) {
        kO = /[\w]/;
      }
      function SO(e, t) {
        return e.dispatch(t);
      }
      var EO = (function () {
        function e(e) {
          (this.state = {}),
            (this.marks = Object.create(null)),
            (this.$mid = 0),
            (this.options = {}),
            (this._handlers = {}),
            (this.doc = {
              history: {
                done: [
                  {
                    changes: [
                      {
                        cm: this,
                        get to() {
                          return this.cm.posFromIndex(
                            this.cm.$lastChangeEndOffset
                          );
                        },
                      },
                    ],
                  },
                ],
              },
            }),
            (this.$lastChangeEndOffset = 0),
            (this.virtualSelection = null),
            (this.cm6 = e),
            (this.onChange = this.onChange.bind(this)),
            (this.onSelectionChange = this.onSelectionChange.bind(this));
        }
        return (
          (e.prototype.openDialog = function (e, t, n) {
            return TO(this, e, t, n);
          }),
          (e.prototype.openNotification = function (e, t) {
            return (function (e, t, n) {
              LO(e, a);
              var i,
                r = MO(e, t, n && n.bottom),
                o = !1,
                s = n && void 0 !== n.duration ? n.duration : 5e3;
              function a() {
                o || ((o = !0), clearTimeout(i), r.remove(), DO(e, r));
              }
              (r.onclick = function (e) {
                e.preventDefault(), a();
              }),
                AO(e, r),
                s && (i = window.setTimeout(a, s));
              return a;
            })(this, e, t);
          }),
          (e.prototype.on = function (e, t) {
            vO(this, e, t);
          }),
          (e.prototype.off = function (e, t) {
            yO(this, e, t);
          }),
          (e.prototype.signal = function (e, t, n) {
            bO(this, e, t, n);
          }),
          (e.prototype.indexFromPos = function (e) {
            return fO(this.cm6.state.doc, e);
          }),
          (e.prototype.posFromIndex = function (e) {
            return gO(this.cm6.state.doc, e);
          }),
          (e.prototype.foldCode = function (e) {
            var t = this.cm6,
              n = t.state.selection.ranges,
              i = fO(this.cm6.state.doc, e),
              r = Zi.create([Zi.range(i, i)], 0).ranges;
            (t.state.selection.ranges = r),
              xE(t),
              (t.state.selection.ranges = n);
          }),
          (e.prototype.firstLine = function () {
            return 0;
          }),
          (e.prototype.lastLine = function () {
            return this.cm6.state.doc.lines - 1;
          }),
          (e.prototype.lineCount = function () {
            return this.cm6.state.doc.lines;
          }),
          (e.prototype.setCursor = function (e, t) {
            "object" == typeof e && ((t = e.ch), (e = e.line));
            var n = fO(this.cm6.state.doc, { line: e, ch: t });
            this.cm6.dispatch(
              { selection: { anchor: n } },
              { scrollIntoView: !this.curOp }
            ),
              this.curOp && !this.curOp.isVimOp && this.onBeforeEndOperation();
          }),
          (e.prototype.getCursor = function (e) {
            var t = this.cm6.state.selection.main,
              n =
                "head" != e && e
                  ? "anchor" == e
                    ? t.anchor
                    : "start" == e
                    ? t.from
                    : "end" == e
                    ? t.to
                    : null
                  : t.head;
            if (null == n) throw new Error("Invalid cursor type");
            return this.posFromIndex(n);
          }),
          (e.prototype.listSelections = function () {
            var e = this.cm6.state.doc;
            return this.cm6.state.selection.ranges.map(function (t) {
              return { anchor: gO(e, t.anchor), head: gO(e, t.head) };
            });
          }),
          (e.prototype.setSelections = function (e, t) {
            var n = this.cm6.state.doc,
              i = e.map(function (e) {
                return Zi.range(fO(n, e.anchor), fO(n, e.head));
              });
            this.cm6.dispatch({ selection: Zi.create(i, t) });
          }),
          (e.prototype.setSelection = function (e, t, n) {
            var i = this.cm6.state.doc,
              r = [Zi.range(fO(i, e), fO(i, t))];
            this.cm6.dispatch({ selection: Zi.create(r, 0) }),
              n && "*mouse" == n.origin && this.onBeforeEndOperation();
          }),
          (e.prototype.getLine = function (e) {
            var t = this.cm6.state.doc;
            return e < 0 || e >= t.lines
              ? ""
              : this.cm6.state.doc.line(e + 1).text;
          }),
          (e.prototype.getLineHandle = function (e) {
            return { text: this.getLine(e), row: e };
          }),
          (e.prototype.getLineNumber = function (e) {
            return e.row;
          }),
          (e.prototype.getRange = function (e, t) {
            var n = this.cm6.state.doc;
            return this.cm6.state.sliceDoc(fO(n, e), fO(n, t));
          }),
          (e.prototype.replaceRange = function (e, t, n) {
            n || (n = t);
            var i = this.cm6.state.doc,
              r = fO(i, t),
              o = fO(i, n);
            SO(this.cm6, { changes: { from: r, to: o, insert: e } });
          }),
          (e.prototype.replaceSelection = function (e) {
            SO(this.cm6, this.cm6.state.replaceSelection(e));
          }),
          (e.prototype.replaceSelections = function (e) {
            var t = this.cm6.state.selection.ranges.map(function (t, n) {
              return { from: t.from, to: t.to, insert: e[n] || "" };
            });
            SO(this.cm6, { changes: t });
          }),
          (e.prototype.getSelection = function () {
            return this.getSelections().join("\n");
          }),
          (e.prototype.getSelections = function () {
            var e = this.cm6;
            return e.state.selection.ranges.map(function (t) {
              return e.state.sliceDoc(t.from, t.to);
            });
          }),
          (e.prototype.somethingSelected = function () {
            return this.cm6.state.selection.ranges.some(function (e) {
              return !e.empty;
            });
          }),
          (e.prototype.getInputField = function () {
            return this.cm6.contentDOM;
          }),
          (e.prototype.clipPos = function (e) {
            var t = this.cm6.state.doc,
              n = e.ch,
              i = e.line + 1;
            i < 1 && ((i = 1), (n = 0)),
              i > t.lines && ((i = t.lines), (n = Number.MAX_VALUE));
            var r = t.line(i);
            return (
              (n = Math.min(Math.max(0, n), r.to - r.from)), new mO(i - 1, n)
            );
          }),
          (e.prototype.getValue = function () {
            return this.cm6.state.doc.toString();
          }),
          (e.prototype.setValue = function (e) {
            var t = this.cm6;
            return t.dispatch({
              changes: { from: 0, to: t.state.doc.length, insert: e },
              selection: Zi.range(0, 0),
            });
          }),
          (e.prototype.focus = function () {
            return this.cm6.focus();
          }),
          (e.prototype.blur = function () {
            return this.cm6.contentDOM.blur();
          }),
          (e.prototype.defaultTextHeight = function () {
            return this.cm6.defaultLineHeight;
          }),
          (e.prototype.findMatchingBracket = function (e) {
            var t = this.cm6.state,
              n = fO(t.doc, e),
              i = IC(t, n + 1, -1);
            return (i && i.end) || ((i = IC(t, n, 1)) && i.end)
              ? { to: gO(t.doc, i.end.from) }
              : { to: void 0 };
          }),
          (e.prototype.scanForBracket = function (e, t, n, i) {
            return (function (e, t, n, i, r) {
              for (
                var o = (r && r.maxScanLineLength) || 1e4,
                  s = (r && r.maxScanLines) || 1e3,
                  a = [],
                  l = (function (e) {
                    return (e && e.bracketRegex) || /[(){}[\]]/;
                  })(r),
                  c =
                    n > 0
                      ? Math.min(t.line + s, e.lastLine() + 1)
                      : Math.max(e.firstLine() - 1, t.line - s),
                  u = t.line;
                u != c;
                u += n
              ) {
                var h = e.getLine(u);
                if (h) {
                  var p = n > 0 ? 0 : h.length - 1,
                    d = n > 0 ? h.length : -1;
                  if (!(h.length > o))
                    for (
                      u == t.line && (p = t.ch - (n < 0 ? 1 : 0));
                      p != d;
                      p += n
                    ) {
                      var f = h.charAt(p);
                      if (l.test(f)) {
                        var g = PO[f];
                        if (g && (">" == g.charAt(1)) == n > 0) a.push(f);
                        else {
                          if (!a.length) return { pos: new mO(u, p), ch: f };
                          a.pop();
                        }
                      }
                    }
                }
              }
              return u - n != (n > 0 ? e.lastLine() : e.firstLine()) && null;
            })(this, e, t, 0, i);
          }),
          (e.prototype.indentLine = function (e, t) {
            t ? this.indentMore() : this.indentLess();
          }),
          (e.prototype.indentMore = function () {
            ES(this.cm6);
          }),
          (e.prototype.indentLess = function () {
            MS(this.cm6);
          }),
          (e.prototype.execCommand = function (t) {
            "indentAuto" == t
              ? e.commands.indentAuto(this)
              : console.log(t + " is not implemented");
          }),
          (e.prototype.setBookmark = function (e, t) {
            var n = (null == t ? void 0 : t.insertLeft) ? 1 : -1,
              i = this.indexFromPos(e);
            return new NO(this, i, n);
          }),
          (e.prototype.addOverlay = function (e) {
            var t = e.query,
              n = new dA({
                regexp: !0,
                search: t.source,
                caseSensitive: !/i/.test(t.flags),
              });
            if (n.valid) {
              (n.forVim = !0), (this.cm6Query = n);
              var i = vA.of(n);
              return this.cm6.dispatch({ effects: i }), n;
            }
          }),
          (e.prototype.removeOverlay = function (e) {
            if (this.cm6Query) {
              this.cm6Query.forVim = !1;
              var t = vA.of(this.cm6Query);
              this.cm6.dispatch({ effects: t });
            }
          }),
          (e.prototype.getSearchCursor = function (e, t) {
            var n = this,
              i = null,
              r = null;
            null == t.ch && (t.ch = Number.MAX_VALUE);
            var o = fO(n.cm6.state.doc, t),
              s = e.source.replace(
                /(\\.|{(?:\d+(?:,\d*)?|,\d+)})|[{}]/g,
                function (e, t) {
                  return t || "\\" + e;
                }
              );
            function a(t, n, i) {
              return (
                void 0 === n && (n = 0),
                void 0 === i && (i = t.length),
                new KL(t, s, { ignoreCase: e.ignoreCase }, n, i)
              );
            }
            return {
              findNext: function () {
                return this.find(!1);
              },
              findPrevious: function () {
                return this.find(!0);
              },
              find: function (e) {
                var t = n.cm6.state.doc;
                if (e) {
                  var s = i ? (i.from == i.to ? i.to - 1 : i.from) : o;
                  i = (function (e, t) {
                    for (var i = n.cm6.state.doc, r = 1; ; r++) {
                      for (
                        var o = Math.max(e, t - 1e4 * r),
                          s = a(i, o, t),
                          l = null;
                        !s.next().done;

                      )
                        l = s.value;
                      if (l && (o == e || l.from > o + 10)) return l;
                      if (o == e) return null;
                    }
                  })(0, s);
                } else {
                  var l = i ? (i.from == i.to ? i.to + 1 : i.to) : o;
                  i = (function (e) {
                    var t = n.cm6.state.doc;
                    if (e > t.length) return null;
                    var i = a(t, e).next();
                    return i.done ? null : i.value;
                  })(l);
                }
                return (
                  (r = i && {
                    from: gO(t, i.from),
                    to: gO(t, i.to),
                    match: i.match,
                  }),
                  i && i.match
                );
              },
              from: function () {
                return null == r ? void 0 : r.from;
              },
              to: function () {
                return null == r ? void 0 : r.to;
              },
              replace: function (e) {
                i &&
                  (SO(n.cm6, {
                    changes: { from: i.from, to: i.to, insert: e },
                  }),
                  (i.to = i.from + e.length),
                  r && (r.to = gO(n.cm6.state.doc, i.to)));
              },
            };
          }),
          (e.prototype.findPosV = function (e, t, n, i) {
            for (
              var r = this.cm6,
                o = r.state.doc,
                s = "page" == n ? r.dom.clientHeight : 0,
                a = fO(o, e),
                l = Zi.range(a, a, i),
                c = Math.round(Math.abs(t)),
                u = 0;
              u < c;
              u++
            )
              "page" == n
                ? (l = r.moveVertically(l, t > 0, s))
                : "line" == n && (l = r.moveVertically(l, t > 0));
            return gO(o, l.head);
          }),
          (e.prototype.charCoords = function (e, t) {
            var n = this.cm6,
              i = fO(n.state.doc, e),
              r = n.coordsAtPos(i) || { left: 0, top: 0, bottom: 0 },
              o = r.left,
              s = r.top,
              a = r.bottom,
              l = n.contentDOM.getBoundingClientRect();
            return { left: o - l.left, top: s - l.top, bottom: a - l.top };
          }),
          (e.prototype.coordsChar = function (e, t) {
            var n = this.cm6.contentDOM.getBoundingClientRect(),
              i = { x: e.left + n.left, y: e.top + n.top },
              r = this.cm6.posAtCoords(i) || 0;
            return gO(this.cm6.state.doc, r);
          }),
          (e.prototype.getScrollInfo = function () {
            var e = this.cm6.scrollDOM;
            return {
              left: e.scrollLeft,
              top: e.scrollTop,
              height: e.scrollHeight,
              width: e.scrollWidth,
              clientHeight: e.clientHeight,
              clientWidth: e.clientWidth,
            };
          }),
          (e.prototype.scrollTo = function (e, t) {
            null != e && (this.cm6.scrollDOM.scrollLeft = e),
              null != t && (this.cm6.scrollDOM.scrollTop = t);
          }),
          (e.prototype.scrollInfo = function () {
            return 0;
          }),
          (e.prototype.scrollIntoView = function (e, t) {
            e
              ? this.cm6.dispatch({
                  effects: Zl.scrollIntoView(this.indexFromPos(e), {
                    yMargin: t,
                  }),
                })
              : this.cm6.dispatch({ scrollIntoView: !0, userEvent: "scroll" });
          }),
          (e.prototype.getWrapperElement = function () {
            return this.cm6.dom;
          }),
          (e.prototype.getMode = function () {
            return { name: this.getOption("mode") };
          }),
          (e.prototype.setSize = function (e, t) {
            (this.cm6.dom.style.width = e + 4 + "px"),
              (this.cm6.dom.style.height = t + "px"),
              this.refresh();
          }),
          (e.prototype.refresh = function () {
            this.cm6.measure();
          }),
          (e.prototype.destroy = function () {
            this.removeOverlay();
          }),
          (e.prototype.onChange = function (e) {
            var t = this;
            for (var n in this.marks) {
              this.marks[n].update(e.changes);
            }
            this.virtualSelection &&
              (this.virtualSelection = Zi.create(
                this.virtualSelection.ranges.map(function (t) {
                  return t.map(e.changes);
                }),
                this.virtualSelection.mainIndex
              ));
            var i = (this.curOp = this.curOp || {});
            e.changes.iterChanges(function (e, n, r, o, s) {
              t.$lastChangeEndOffset = o;
              var a = { text: s.toJSON() };
              i.lastChange
                ? (i.lastChange.next = i.lastChange = a)
                : (i.lastChange = i.change = a);
            }, !0),
              i.changeHandlers ||
                (i.changeHandlers =
                  this._handlers.change && this._handlers.change.slice());
          }),
          (e.prototype.onSelectionChange = function () {
            var e = (this.curOp = this.curOp || {});
            e.cursorActivityHandlers ||
              (e.cursorActivityHandlers =
                this._handlers.cursorActivity &&
                this._handlers.cursorActivity.slice()),
              (this.curOp.cursorActivity = !0);
          }),
          (e.prototype.operation = function (e) {
            this.curOp || (this.curOp = { $d: 0 }), this.curOp.$d++;
            try {
              var t = e();
            } finally {
              this.curOp &&
                (this.curOp.$d--, this.curOp.$d || this.onBeforeEndOperation());
            }
            return t;
          }),
          (e.prototype.onBeforeEndOperation = function () {
            var e = this.curOp,
              t = !1;
            e &&
              (e.change && wO(e.changeHandlers, this, e.change),
              e &&
                e.cursorActivity &&
                (wO(e.cursorActivityHandlers, this, null),
                e.isVimOp && (t = !0)),
              (this.curOp = null)),
              t && this.scrollIntoView();
          }),
          (e.prototype.moveH = function (e, t) {
            if ("char" == t) {
              var n = this.getCursor();
              this.setCursor(n.line, n.ch + e);
            }
          }),
          (e.prototype.setOption = function (e, t) {
            switch (e) {
              case "keyMap":
                this.state.keyMap = t;
            }
          }),
          (e.prototype.getOption = function (e) {
            switch (e) {
              case "firstLineNumber":
                return 1;
              case "tabSize":
                return this.cm6.state.tabSize || 4;
              case "readonly":
                return this.cm6.state.readOnly;
              case "indentWithTabs":
                return "\t" == this.cm6.state.facet(fu);
              case "indentUnit":
                return this.cm6.state.facet(fu).length || 2;
              case "keyMap":
                return this.state.keyMap || "vim";
            }
          }),
          (e.prototype.toggleOverwrite = function (e) {
            this.state.overwrite = e;
          }),
          (e.prototype.getTokenTypeAt = function (e) {
            var t,
              n = this.indexFromPos(e),
              i = eu(this.cm6.state, n),
              r = null == i ? void 0 : i.resolve(n),
              o =
                (null === (t = null == r ? void 0 : r.type) || void 0 === t
                  ? void 0
                  : t.name) || "";
            return /comment/i.test(o)
              ? "comment"
              : /string/i.test(o)
              ? "string"
              : "";
          }),
          (e.prototype.overWriteSelection = function (e) {
            var t = this.cm6.state.doc,
              n = this.cm6.state.selection,
              i = n.ranges.map(function (e) {
                if (e.empty) {
                  var n =
                    e.to < t.length ? t.sliceString(e.from, e.to + 1) : "";
                  if (n && !/\n/.test(n)) return Zi.range(e.from, e.to + 1);
                }
                return e;
              });
            this.cm6.dispatch({ selection: Zi.create(i, n.mainIndex) }),
              this.replaceSelection(e);
          }),
          (e.prototype.isInMultiSelectMode = function () {
            return this.cm6.state.selection.ranges.length > 1;
          }),
          (e.prototype.virtualSelectionMode = function () {
            return !!this.virtualSelection;
          }),
          (e.prototype.forEachSelection = function (e) {
            var t = this.cm6.state.selection;
            this.virtualSelection = Zi.create(t.ranges, t.mainIndex);
            for (var n = 0; n < this.virtualSelection.ranges.length; n++) {
              var i = this.virtualSelection.ranges[n];
              i &&
                (this.cm6.dispatch({ selection: Zi.create([i]) }),
                e(),
                (this.virtualSelection.ranges[n] =
                  this.cm6.state.selection.ranges[0]));
            }
            this.cm6.dispatch({ selection: this.virtualSelection }),
              (this.virtualSelection = null);
          }),
          (e.Pos = mO),
          (e.StringStream = Nu),
          (e.commands = {
            cursorCharLeft: function (e) {
              qC(e.cm6);
            },
            redo: function (e) {
              DM(e.cm6);
            },
            undo: function (e) {
              AM(e.cm6);
            },
            newlineAndIndent: function (e) {
              wS({
                state: e.cm6.state,
                dispatch: function (t) {
                  return SO(e.cm6, t);
                },
              });
            },
            indentAuto: function (e) {
              SS(e.cm6);
            },
          }),
          (e.defineOption = function (e, t, n) {}),
          (e.isWordChar = function (e) {
            return kO.test(e);
          }),
          (e.keys = {
            Backspace: function (e) {
              tS(e.cm6);
            },
            Delete: function (e) {
              nS(e.cm6);
            },
          }),
          (e.keyMap = {}),
          (e.addClass = function () {}),
          (e.rmClass = function () {}),
          (e.e_preventDefault = function (e) {
            e.preventDefault();
          }),
          (e.e_stop = function (e) {
            var t, n;
            null === (t = null == e ? void 0 : e.stopPropagation) ||
              void 0 === t ||
              t.call(e),
              null === (n = null == e ? void 0 : e.preventDefault) ||
                void 0 === n ||
                n.call(e);
          }),
          (e.keyName = function (e) {
            var t = e.key;
            if (!xO[t]) {
              "Escape" == t && (t = "Esc"),
                " " == t && (t = "Space"),
                t.length > 1 && (t = t.replace(/Numpad|Arrow/, "")),
                1 == t.length && (t = t.toUpperCase());
              var n = "";
              return (
                e.ctrlKey && (n += "Ctrl-"),
                e.altKey && (n += "Alt-"),
                (n || t.length > 1) && e.shiftKey && (n += "Shift-"),
                (n += t)
              );
            }
          }),
          (e.vimKey = function (e) {
            var t = e.key;
            if (!xO[t]) {
              t.length > 1 && "n" == t[0] && (t = t.replace("Numpad", "")),
                (t = CO[t] || t);
              var n = "";
              return (
                e.ctrlKey && (n += "C-"),
                e.altKey && (n += "A-"),
                e.metaKey && (n += "M-"),
                (n || t.length > 1) && e.shiftKey && (n += "S-"),
                (n += t).length > 1 && (n = "<" + n + ">"),
                n
              );
            }
          }),
          (e.lookupKey = function (t, n, i) {
            var r = e.keys[t];
            r && i(r);
          }),
          (e.on = vO),
          (e.off = yO),
          (e.signal = bO),
          (e.findMatchingTag = OO),
          (e.findEnclosingTag = IO),
          e
        );
      })();
      function MO(e, t, n) {
        var i = document.createElement("div");
        return i.appendChild(t), i;
      }
      function LO(e, t) {
        e.state.currentNotificationClose && e.state.currentNotificationClose(),
          (e.state.currentNotificationClose = t);
      }
      function AO(e, t) {
        var n = e.state.dialog;
        (e.state.dialog = t),
          t &&
            n !== t &&
            (n && n.contains(document.activeElement) && e.focus(),
            n && n.parentElement
              ? n.parentElement.replaceChild(t, n)
              : n && n.remove(),
            EO.signal(e, "dialog"));
      }
      function DO(e, t) {
        e.state.dialog == t &&
          ((e.state.dialog = null), EO.signal(e, "dialog"));
      }
      function TO(e, t, n, i) {
        i || (i = {}), LO(e, void 0);
        var r = MO(0, t, i.bottom),
          o = !1;
        function s(t) {
          if ("string" == typeof t) a.value = t;
          else {
            if (o) return;
            (o = !0),
              DO(e, r),
              e.state.dialog || e.focus(),
              i.onClose && i.onClose(r);
          }
        }
        AO(e, r);
        var a = r.getElementsByTagName("input")[0];
        return (
          a &&
            (i.value &&
              ((a.value = i.value), !1 !== i.selectValueOnOpen && a.select()),
            i.onInput &&
              EO.on(a, "input", function (e) {
                i.onInput(e, a.value, s);
              }),
            i.onKeyUp &&
              EO.on(a, "keyup", function (e) {
                i.onKeyUp(e, a.value, s);
              }),
            EO.on(a, "keydown", function (e) {
              (i && i.onKeyDown && i.onKeyDown(e, a.value, s)) ||
                (13 == e.keyCode && n(a.value),
                (27 == e.keyCode ||
                  (!1 !== i.closeOnEnter && 13 == e.keyCode)) &&
                  (a.blur(), EO.e_stop(e), s()));
            }),
            !1 !== i.closeOnBlur &&
              EO.on(a, "blur", function () {
                setTimeout(function () {
                  document.activeElement !== a && s();
                });
              }),
            a.focus()),
          s
        );
      }
      var PO = {
        "(": ")>",
        ")": "(<",
        "[": "]>",
        "]": "[<",
        "{": "}>",
        "}": "{<",
        "<": ">>",
        ">": "<<",
      };
      function OO(e, t) {
        var n = e.cm6.state,
          i = e.indexFromPos(t),
          r = IC(n, i + 1, -1, { brackets: "\n\n" });
        if (r) {
          if (!r.end || !r.start) return;
          return { open: FO(n.doc, r.end), close: FO(n.doc, r.start) };
        }
        if ((r = IC(n, i, 1, { brackets: "\n\n" }))) {
          if (!r.end || !r.start) return;
          return { open: FO(n.doc, r.start), close: FO(n.doc, r.end) };
        }
      }
      function FO(e, t) {
        return { from: gO(e, t.from), to: gO(e, t.to) };
      }
      function IO(e, t) {
        for (
          var n = e.cm6.state,
            i = e.indexFromPos(t),
            r = n.sliceDoc(0, i),
            o = i;
          o > 0;

        ) {
          var s = IC(n, o, 1, { brackets: "\n\n" });
          if (s && s.start && s.end)
            return { open: FO(n.doc, s.start), close: FO(n.doc, s.end) };
          o = r.lastIndexOf(">", o - 1);
        }
      }
      var NO = (function () {
          function e(e, t, n) {
            (this.cm = e),
              (this.id = e.$mid++),
              (this.offset = t),
              (this.assoc = n),
              (e.marks[this.id] = this);
          }
          return (
            (e.prototype.clear = function () {
              delete this.cm.marks[this.id];
            }),
            (e.prototype.find = function () {
              return null == this.offset
                ? null
                : this.cm.posFromIndex(this.offset);
            }),
            (e.prototype.update = function (e) {
              null != this.offset &&
                (this.offset = e.mapPos(this.offset, this.assoc, Ui.TrackDel));
            }),
            e
          );
        })(),
        BO = (function () {
          function e(e, t, n, i, r, o, s, a, l, c) {
            (this.left = e),
              (this.top = t),
              (this.height = n),
              (this.fontFamily = i),
              (this.fontSize = r),
              (this.fontWeight = o),
              (this.tabSize = s),
              (this.color = a),
              (this.className = l),
              (this.letter = c);
          }
          return (
            (e.prototype.draw = function () {
              var e = document.createElement("div");
              return (e.className = this.className), this.adjust(e), e;
            }),
            (e.prototype.adjust = function (e) {
              (e.style.left = this.left + "px"),
                (e.style.top = this.top + "px"),
                (e.style.height = this.height + "px"),
                (e.style.lineHeight = this.height + "px"),
                (e.style.fontFamily = this.fontFamily),
                (e.style.fontSize = this.fontSize),
                (e.style.fontWeight = this.fontWeight),
                (e.style.tabSize = this.tabSize),
                (e.className = this.className),
                (e.textContent = this.letter);
            }),
            (e.prototype.eq = function (e) {
              return (
                this.left == e.left &&
                this.top == e.top &&
                this.height == e.height &&
                this.className == e.className &&
                this.letter == e.letter
              );
            }),
            e
          );
        })(),
        RO = (function () {
          function e(e, t) {
            (this.view = e),
              (this.rangePieces = []),
              (this.cursors = []),
              (this.cm = t),
              (this.measureReq = {
                read: this.readPos.bind(this),
                write: this.drawSel.bind(this),
              }),
              (this.cursorLayer = e.scrollDOM.appendChild(
                document.createElement("div")
              )),
              (this.cursorLayer.className = "cm-cursorLayer cm-vimCursorLayer"),
              this.cursorLayer.setAttribute("aria-hidden", "true"),
              e.requestMeasure(this.measureReq),
              this.setBlinkRate();
          }
          return (
            (e.prototype.setBlinkRate = function () {
              this.cursorLayer.style.animationDuration = "1200ms";
            }),
            (e.prototype.update = function (e) {
              (e.selectionSet || e.geometryChanged || e.viewportChanged) &&
                (this.scheduleRedraw(),
                (this.cursorLayer.style.animationName =
                  "cm-blink" == this.cursorLayer.style.animationName
                    ? "cm-blink2"
                    : "cm-blink"));
            }),
            (e.prototype.scheduleRedraw = function () {
              this.view.requestMeasure(this.measureReq);
            }),
            (e.prototype.readPos = function () {
              for (
                var e = this.view.state, t = [], n = 0, i = e.selection.ranges;
                n < i.length;
                n++
              ) {
                var r = i[n],
                  o = r == e.selection.main,
                  s = HO(this.cm, this.view, r, o);
                s && t.push(s);
              }
              return { cursors: t };
            }),
            (e.prototype.drawSel = function (e) {
              var t = this,
                n = e.cursors;
              if (
                n.length != this.cursors.length ||
                n.some(function (e, n) {
                  return !e.eq(t.cursors[n]);
                })
              ) {
                var i = this.cursorLayer.children;
                if (i.length !== n.length) {
                  this.cursorLayer.textContent = "";
                  for (var r = 0, o = n; r < o.length; r++) {
                    var s = o[r];
                    this.cursorLayer.appendChild(s.draw());
                  }
                } else
                  n.forEach(function (e, t) {
                    return e.adjust(i[t]);
                  });
                this.cursors = n;
              }
            }),
            (e.prototype.destroy = function () {
              this.cursorLayer.remove();
            }),
            e
          );
        })(),
        zO = gr.override(
          Zl.theme({
            ".cm-vimMode .cm-line": {
              "& ::selection": { backgroundColor: "transparent !important" },
              "&::selection": { backgroundColor: "transparent !important" },
              caretColor: "transparent !important",
            },
            ".cm-fat-cursor": {
              position: "absolute",
              border: "none",
              whiteSpace: "pre",
            },
            "&.cm-focused .cm-fat-cursor": {
              background: "var(--interactive-accent)",
              color: "var(--text-on-accent)",
            },
            "&:not(.cm-focused) .cm-fat-cursor": {
              outline: "solid 1px #ff9696",
            },
          })
        );
      function HO(e, t, n, i) {
        var r = n.head,
          o = !1,
          s = e.state.vim;
        if (s && (!s.insertMode || e.state.overwrite)) {
          if (((o = !0), s.visualBlock && !i)) return null;
          n.anchor < n.head && r--;
        }
        if (o) {
          var a = t.coordsAtPos(r, n.assoc || 1);
          if (!a) return null;
          for (
            var l = (function (e) {
                var t = e.scrollDOM.getBoundingClientRect();
                return {
                  left:
                    (e.textDirection == sa.LTR
                      ? t.left
                      : t.right - e.scrollDOM.clientWidth) -
                    e.scrollDOM.scrollLeft,
                  top: t.top - e.scrollDOM.scrollTop,
                };
              })(t),
              c = t.domAtPos(r),
              u = c ? c.node : t.contentDOM;
            c && c.node instanceof HTMLElement;

          )
            (u = c.node),
              (c = { node: c.node.childNodes[c.offset], offset: 0 });
          u instanceof HTMLElement || (u = u.parentNode);
          var h = getComputedStyle(u),
            p = r < t.state.doc.length && t.state.sliceDoc(r, r + 1);
          (p && "\n" != p && "\r" != p) || (p = " ");
          var d = a.bottom - a.top;
          return new BO(
            a.left - l.left,
            a.top - l.top,
            d,
            h.fontFamily,
            h.fontSize,
            h.fontWeight,
            h.tabSize,
            h.color,
            i
              ? "cm-fat-cursor cm-cursor-primary"
              : "cm-fat-cursor cm-cursor-secondary",
            p
          );
        }
        return null;
      }
      var VO = initVimMode(EO);
      (EO.Vim = VO), (window.CodeMirrorAdapter = EO);
      var qO = Zl.theme({
          ".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)": {
            display: "none",
          },
          ".cm-vim-panel": {
            padding: "0px 10px",
            fontFamily: "monospace",
            minHeight: "1.3em",
          },
          ".cm-vim-panel input": { border: "none", outline: "none" },
        }),
        jO = Qs.fromClass(
          (function () {
            function e(e) {
              var t = this;
              (this.status = ""),
                (this.query = null),
                (this.decorations = xs.none),
                (this.view = e);
              var n = (this.cm = new EO(e));
              VO.enterVimMode(this.cm),
                (this.view.cm = this.cm),
                (this.cm.state.vimPlugin = this),
                (this.blockCursor = new RO(e, n)),
                this.updateClass(),
                this.cm.on("vim-command-done", function () {
                  n.state.vim && (n.state.vim.status = ""),
                    t.blockCursor.scheduleRedraw(),
                    t.updateStatus();
                }),
                this.cm.on("vim-mode-change", function (e) {
                  (n.state.vim.mode = e.mode),
                    e.subMode && (n.state.vim.mode += " block"),
                    (n.state.vim.status = ""),
                    t.blockCursor.scheduleRedraw(),
                    t.updateClass(),
                    t.updateStatus();
                }),
                this.cm.on("dialog", function () {
                  t.cm.state.statusbar
                    ? t.updateStatus()
                    : e.dispatch({ effects: WO.of(!!t.cm.state.dialog) });
                }),
                (this.dom = document.createElement("span")),
                (this.dom.style.cssText =
                  "position: absolute; right: 10px; top: 1px");
            }
            return (
              (e.prototype.update = function (e) {
                var t;
                if (
                  (e.docChanged &&
                    (this.cm.onChange(e),
                    this.query && this.highlight(this.query)),
                  e.selectionSet && this.cm.onSelectionChange(),
                  e.viewportChanged,
                  this.cm.curOp &&
                    !this.cm.curOp.isVimOp &&
                    this.cm.onBeforeEndOperation(),
                  e.transactions)
                )
                  for (var n = 0, i = e.transactions; n < i.length; n++)
                    for (var r = 0, o = i[n].effects; r < o.length; r++) {
                      var s = o[r];
                      if (s.is(vA))
                        if (
                          null === (t = s.value) || void 0 === t
                            ? void 0
                            : t.forVim
                        ) {
                          var a = s.value.create();
                          this.highlight(a);
                        } else this.highlight(null);
                    }
                this.blockCursor.update(e);
              }),
              (e.prototype.updateClass = function () {
                var e = this.cm.state;
                !e.vim || (e.vim.insertMode && !e.overwrite)
                  ? this.view.scrollDOM.classList.remove("cm-vimMode")
                  : this.view.scrollDOM.classList.add("cm-vimMode");
              }),
              (e.prototype.updateStatus = function () {
                var e = this.cm.state.statusbar;
                if (e) {
                  var t = this.cm.state.dialog,
                    n = this.cm.state.vim;
                  t
                    ? t.parentElement != e &&
                      ((e.textContent = ""), e.appendChild(t))
                    : (e.textContent =
                        "--" + (n.mode || "normal").toUpperCase() + "--"),
                    (this.dom.textContent = n.status),
                    e.appendChild(this.dom);
                }
              }),
              (e.prototype.destroy = function () {
                (this.cm.state.vim = null),
                  this.updateClass(),
                  this.blockCursor.destroy(),
                  delete this.view.cm;
              }),
              (e.prototype.highlight = function (e) {
                if (((this.query = e), !e)) return (this.decorations = xs.none);
                for (
                  var t = this.view,
                    n = new io(),
                    i = 0,
                    r = t.visibleRanges,
                    o = r.length;
                  i < o;
                  i++
                ) {
                  for (
                    var s = r[i], a = s.from, l = s.to;
                    i < o - 1 && l > r[i + 1].from - 500;

                  )
                    l = r[++i].to;
                  e.highlight(t.state.doc, a, l, function (e, t) {
                    n.add(e, t, UO);
                  });
                }
                return (this.decorations = n.finish());
              }),
              e
            );
          })(),
          {
            eventHandlers: {
              keydown: function (e, t) {
                var n = EO.vimKey(e),
                  i = this.cm;
                if (n) {
                  var r,
                    o = i.state.vim;
                  "<Esc>" != n ||
                    o.insertMode ||
                    o.visualMode ||
                    !this.query ||
                    i.removeOverlay(null),
                    (i.state.vim.status = (i.state.vim.status || "") + n);
                  try {
                    r = VO.multiSelectHandleKey(i, n, "user");
                  } catch (e) {
                    console.error(e), i.state.vim.insertMode || (r = !0);
                  }
                  return (
                    !r &&
                      i.state.vim.insertMode &&
                      i.state.overwrite &&
                      (e.key && 1 == e.key.length && e.key && !/\n/.test(e.key)
                        ? ((r = !0), i.overWriteSelection(e.key))
                        : "Backspace" == e.key &&
                          ((r = !0), EO.commands.cursorCharLeft(i))),
                    r &&
                      (e.preventDefault(),
                      e.stopPropagation(),
                      this.blockCursor.scheduleRedraw()),
                    this.updateStatus(),
                    !!r
                  );
                }
              },
            },
            decorations: function (e) {
              return e.decorations;
            },
          }
        ),
        UO = xs.mark({ class: "obsidian-search-match-highlight" }),
        WO = Or.define(),
        _O = lr.define({
          create: function () {
            return !1;
          },
          update: function (e, t) {
            for (var n = 0, i = t.effects; n < i.length; n++) {
              var r = i[n];
              r.is(WO) && (e = r.value);
            }
            return e;
          },
          provide: function (e) {
            return ZM.from(e, function (e) {
              return e ? GO : null;
            });
          },
        });
      function GO(e) {
        var t = document.createElement("div");
        t.className = "cm-vim-panel";
        var n = e.cm;
        return (
          n.state.dialog && t.appendChild(n.state.dialog), { top: !1, dom: t }
        );
      }
      var KO = ["=", "~", "$", "%"],
        $O = Zl.inputHandler.of(function (e, t, n, i) {
          if (e.composing || e.state.readOnly) return !1;
          var r = e.state.selection.main;
          if (
            i.length > 2 ||
            (2 == i.length && 1 == Ti(Ai(i, 0))) ||
            t != r.from ||
            n != r.to
          )
            return !1;
          for (
            var o = e.state,
              s = function (t) {
                if (i !== t) return "continue";
                var n = null,
                  r = o.changeByRange(function (e) {
                    return e.empty
                      ? { range: (n = e) }
                      : {
                          changes: [
                            { insert: i, from: e.from },
                            { insert: i, from: e.to },
                          ],
                          range: Zi.range(
                            e.anchor + i.length,
                            e.head + i.length
                          ),
                        };
                  });
                return n
                  ? { value: !1 }
                  : (e.dispatch(
                      o.update(r, {
                        scrollIntoView: !0,
                        userEvent: "input.type",
                      })
                    ),
                    { value: !0 });
              },
              a = 0,
              l = KO;
            a < l.length;
            a++
          ) {
            var c = s(l[a]);
            if ("object" == typeof c) return c.value;
          }
          return !1;
        }),
        YO = new Set([
          "Alt-ArrowUp",
          "Shift-Alt-ArrowUp",
          "Alt-ArrowDown",
          "Shift-Alt-ArrowDown",
          "Alt-l",
          "Alt-v",
        ]),
        JO = TS.filter(function (e) {
          return !YO.has(e.key);
        }),
        QO = function (e, t) {
          var n = t.text.search(/\S/);
          return -1 === n ? -1 : Pi(t.text.substr(0, n), e.facet(Wr.tabSize));
        },
        XO = Tu.of(function (e, t, n) {
          try {
            var i = e.doc.lineAt(t),
              r = QO(e, i);
            if (r < 0) return;
            for (var o = null, s = i.number + 1, a = e.doc.lines; s <= a; ++s) {
              var l = e.doc.line(s),
                c = QO(e, l);
              if (-1 == c);
              else {
                if (!(c > r)) break;
                o = l;
              }
            }
            if (o) return { from: n, to: o.to };
          } catch (e) {
            console.error(e);
          }
          return null;
        }),
        ZO = Tu.of(function (e, t, n) {
          var i = Zc(e);
          function r(e) {
            if (i.length < e.to) return !0;
            var t = i.resolve(e.from, 1).type.prop(Gu);
            return t && /\bheader\b/.test(t);
          }
          function o(t) {
            var n = t && t.text.match(/^\s*(#{1,6})(\s+|$)/);
            if (n && r(t)) return n[1].length;
            if (e.doc.lines <= t.number) return 100;
            var i = e.doc.line(t.number + 1);
            return (n = i.text.match(/^[=\-]+\s*$/)) && r(i)
              ? "=" == i.text[0]
                ? 1
                : 2
              : 100;
          }
          try {
            var s = e.doc.lines,
              a = e.doc.lineAt(t);
            if (a.number === s) return null;
            var l = o(a);
            if (100 === l) return null;
            for (
              var c = e.doc.line(a.number + 1), u = a.to;
              c && !(o(c) <= l) && ((u = c.to), c.number !== s);

            )
              c = e.doc.line(c.number + 1);
            return u === a.to ? null : { from: a.to, to: u };
          } catch (e) {
            console.error(e);
          }
          return null;
        }),
        eF = Tu.of(function (e, t, n) {
          var i = e.doc.lineAt(t);
          if ("---" === i.text) {
            for (var r = i.number - 1; r > 0; r--)
              if (e.doc.line(r).text.trim()) return;
            for (
              var o = e.doc.lines, s = i.number + 1;
              s <= o && "---" !== e.doc.line(s).text;

            )
              s++;
            if (!(s > o)) return { from: t + 3, to: e.doc.line(s).to };
          }
        }),
        tF = function (e) {
          for (var t = e.state, n = [], i = 1; i <= t.doc.lines; i++) {
            var r = t.doc.line(i),
              o = Fu(t, r.from, r.to);
            o && n.push(mE.of(o));
          }
          for (var s = 0; s < t.doc.length; ) {
            s = (r = e.lineBlockAt(s)).to + 1;
          }
          return n.length && e.dispatch({ effects: n }), !!n.length;
        },
        nF = xs.mark({ class: "cm-selection" }),
        iF = Qs.fromClass(
          (function () {
            function e(e) {
              this.decorations = this.getDeco(e);
            }
            return (
              (e.prototype.update = function (e) {
                (e.docChanged || e.selectionSet) &&
                  (this.decorations = this.getDeco(e.view));
              }),
              (e.prototype.getDeco = function (e) {
                for (
                  var t = new io(), n = 0, i = e.state.selection.ranges;
                  n < i.length;
                  n++
                ) {
                  var r = i[n];
                  r.empty || t.add(r.from, r.to, nF);
                }
                return t.finish();
              }),
              e
            );
          })(),
          {
            decorations: function (e) {
              return e.decorations;
            },
          }
        ),
        rF = Or.define(),
        oF = function (e) {
          var t = lr.define({
            create: function () {
              return e;
            },
            update: function (e, n) {
              for (var i = 0, r = n.effects; i < r.length; i++) {
                var o = r[i];
                o.is(rF) && o.value.field === t && (e = o.value.value);
              }
              return e;
            },
          });
          return t;
        },
        sF = oF(null),
        aF = oF(null),
        lF = oF(!1),
        cF = Zl.mouseSelectionStyle.of(function (e, t) {
          if (3 != t.detail || 0 != t.button) return null;
          var n = e.posAtCoords(t);
          if (null == n) return null;
          var i = e.state.selection;
          return {
            get: function (t, r, o) {
              var s = e.posAtCoords(t);
              if (null == s) return i;
              var a = r ? i.main.anchor : n,
                l = e.state.doc.lineAt(a),
                c = e.state.doc.lineAt(s),
                u = s >= a ? Zi.range(l.from, c.to) : Zi.range(l.to, c.from);
              return o ? i.addRange(u) : Zi.create([u]);
            },
            update: function (e) {
              (n = e.changes.mapPos(n)), (i = i.map(e.changes));
            },
          };
        }),
        uF = new vr(),
        hF = [];
      hF.push(Zl.exceptionSink.of(console.error)),
        hF.push(Bc()),
        hF.push(EM()),
        hF.push(
          Wr.phrases.compute([], function () {
            return { "folded code": "" };
          })
        ),
        hF.push(Du()),
        hF.push(dO),
        hF.push(Ru.define(CodeMirror.getMode({}, { name: "hypermd" }))),
        hF.push(Yu),
        hF.push(eh),
        hF.push(iO),
        hF.push($O),
        hF.push(cF),
        hF.push(
          Zl.clickAddsSelectionRange.of(function (e) {
            return e.altKey;
          })
        ),
        hF.push(
          Ju.of(
            "url inline-code property footref hmd-footnote math link-has-alias formatting-link hmd-codeblock blockid hmd-frontmatter"
          )
        ),
        hF.push(
          lc.of(
            P(P(P([], JO), _M), [
              { key: "Mod-Shift-z", run: DM, preventDefault: !0 },
            ])
          )
        ),
        hF.push(
          du.of(function (e, t) {
            var n = e.state.doc.lineAt(t).text.match(/^\s*/);
            return n ? e.countColumn(n[0]) : null;
          })
        );
      var pF = uF.of(hF),
        dF = new vr(),
        fF = QS({ fixed: !1 })[0],
        gF = fF.create;
      fF.create = function (e) {
        var t,
          n = e.contentDOM;
        e.contentDOM = e.scrollDOM.firstChild;
        try {
          t = gF(e);
        } finally {
          e.contentDOM = n;
        }
        return t;
      };
      var mF,
        vF = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (n.cm = t), n;
          }
          return (
            M(t, e),
            (t.prototype.refresh = function () {
              this.cm.requestMeasure();
            }),
            (t.prototype.getValue = function () {
              return this.cm.state.doc.toString();
            }),
            (t.prototype.setValue = function (e) {
              var t = this.cm;
              t.dispatch({
                changes: { from: 0, to: t.state.doc.length, insert: e },
              });
            }),
            (t.prototype.getLine = function (e) {
              var t = this.cm.state.doc;
              return e >= t.lines ? "" : t.line(e + 1).text;
            }),
            (t.prototype.lineCount = function () {
              return this.cm.state.doc.lines;
            }),
            (t.prototype.lastLine = function () {
              return this.cm.state.doc.lines - 1;
            }),
            (t.prototype.getSelection = function () {
              var e = this.cm,
                t = e.state.selection.main;
              return e.state.doc.sliceString(t.from, t.to);
            }),
            (t.prototype.getRange = function (e, t) {
              var n = this.cm,
                i = n.state.doc;
              return n.state.doc.sliceString(th(i, e), th(i, t));
            }),
            (t.prototype.replaceSelection = function (e, t) {
              var n = this.cm,
                i = n.state.replaceSelection(e);
              (i.userEvent = t), n.dispatch(i);
            }),
            (t.prototype.replaceRange = function (e, t, n, i) {
              var r = this.cm,
                o = r.state.doc,
                s = th(o, t),
                a = n ? th(o, n) : s;
              r.dispatch({
                changes: { from: s, to: a, insert: e },
                scrollIntoView: !0,
                userEvent: i,
              });
            }),
            (t.prototype.getCursor = function (e) {
              void 0 === e && (e = "head");
              var t = this.cm,
                n = t.state.selection.main,
                i = t.state.doc;
              switch (e) {
                case "from":
                  return nh(i, n.from);
                case "to":
                  return nh(i, n.to);
                case "anchor":
                  return nh(i, n.anchor);
                case "head":
                  return nh(i, n.head);
              }
              return null;
            }),
            (t.prototype.listSelections = function () {
              for (
                var e = this.cm,
                  t = e.state.selection.ranges,
                  n = e.state.doc,
                  i = [],
                  r = 0,
                  o = t;
                r < o.length;
                r++
              ) {
                var s = o[r];
                i.push({ anchor: nh(n, s.anchor), head: nh(n, s.head) });
              }
              return i;
            }),
            (t.prototype.setSelection = function (e, t) {
              var n = this.cm,
                i = n.state.doc,
                r = th(i, e),
                o = t ? th(i, t) : r;
              n.dispatch({
                selection: { anchor: r, head: o },
                scrollIntoView: !0,
              });
            }),
            (t.prototype.setSelections = function (e, t) {
              var n = this.cm,
                i = n.state.doc;
              n.dispatch({
                selection: Zi.create(
                  e.map(function (e) {
                    var t = th(i, e.anchor),
                      n = e.head ? th(i, e.head) : t;
                    return Zi.range(t, n);
                  })
                ),
                scrollIntoView: !0,
              });
            }),
            (t.prototype.exec = function (e) {
              t.commands[e](this.cm);
            }),
            (t.prototype.focus = function () {
              this.cm.focus();
            }),
            (t.prototype.blur = function () {
              this.cm.contentDOM.blur();
            }),
            (t.prototype.hasFocus = function () {
              return this.cm.hasFocus;
            }),
            (t.prototype.getScrollInfo = function () {
              var e = this.cm.scrollDOM;
              return {
                top: e.scrollTop,
                left: e.scrollLeft,
                clientHeight: e.clientHeight,
                clientWidth: e.clientWidth,
                height: e.offsetHeight,
                width: e.offsetWidth,
              };
            }),
            (t.prototype.scrollTo = function (e, t) {
              var n = this.cm.scrollDOM;
              null == e && (e = n.scrollLeft),
                null == t && (t = n.scrollTop),
                n.scroll(e, t);
            }),
            (t.prototype.scrollIntoView = function (e, t) {
              var n = this.cm,
                i = th(n.state.doc, e.from),
                r = th(n.state.doc, e.to),
                o = Zi.range(i, r);
              n.dispatch({
                effects: Zl.scrollIntoView(o, { y: t ? "center" : "nearest" }),
              });
            }),
            (t.prototype.transaction = function (e, t) {
              var n = e.replaceSelection,
                i = e.changes,
                r = e.selection,
                o = e.selections,
                s = this.cm,
                a = s.state.doc,
                l = {},
                c = [];
              if (((l.scrollIntoView = !0), String.isString(n))) {
                var u = s.state.replaceSelection(n);
                c.push(u.changes),
                  (l.selection = u.selection),
                  (l.effects = u.effects);
              }
              if (i)
                for (var h = 0, p = i; h < p.length; h++) {
                  u = p[h];
                  var d = th(a, u.from),
                    f = u.to ? th(a, u.to) : d;
                  c.push({ from: d, to: f, insert: u.text });
                }
              if (c.length > 0) {
                var g = _i.of(c, a.length, s.state.facet(Wr.lineSeparator));
                (l.changes = [g]), (o || r) && (a = g.apply(a));
              } else l.changes = c;
              if (o)
                l.selection = Zi.create(
                  o.map(function (e) {
                    var t = th(a, e.from),
                      n = e.to ? th(a, e.to) : t;
                    return Zi.range(t, n);
                  })
                );
              else if (r) {
                (d = th(a, r.from)), (f = r.to ? th(a, r.to) : d);
                l.selection = { anchor: d, head: f };
              }
              (l.userEvent = t), this.cm.dispatch(l);
            }),
            (t.prototype.wordAt = function (e) {
              var t = this.cm.state.doc,
                n = this.cm.state.wordAt(th(t, e));
              return n ? { from: nh(t, n.from), to: nh(t, n.to) } : null;
            }),
            (t.prototype.posToOffset = function (e) {
              return th(this.cm.state.doc, e);
            }),
            (t.prototype.offsetToPos = function (e) {
              return nh(this.cm.state.doc, e);
            }),
            (t.prototype.undo = function () {
              AM(this.cm);
            }),
            (t.prototype.redo = function () {
              DM(this.cm);
            }),
            (t.prototype.coordsAtPos = function (e, t) {
              var n = this.cm,
                i = n.coordsAtPos(th(n.state.doc, e)),
                r = {
                  top: i.top,
                  left: i.left,
                  bottom: i.bottom,
                  right: i.right,
                };
              if (t) {
                var o = n.contentDOM.getBoundingClientRect();
                (r.top -= o.top),
                  (r.bottom -= o.top),
                  (r.left -= o.left),
                  (r.right -= o.left);
              }
              return r;
            }),
            (t.prototype.posAtCoords = function (e, t) {
              var n = this.cm,
                i = n.posAtCoords({ x: e, y: t }, !1);
              return null === i ? null : nh(n.state.doc, i);
            }),
            (t.prototype.addHighlights = function (e, t, n, i) {
              var r = this.cm,
                o = [],
                s = [],
                a = Zu.get(t);
              a || ((a = xs.mark({ class: t })), Zu.set(t, a));
              for (
                var l = r.state.doc,
                  c = wE(r.state),
                  u = function (e) {
                    var t = th(l, e.from),
                      n = th(l, e.to);
                    s.push(a.range(t, n)),
                      i &&
                        c.between(t, n, function (e, i) {
                          n !== e &&
                            t !== i &&
                            o.push(vE.of({ from: e, to: i }));
                        });
                  },
                  h = 0,
                  p = e;
                h < p.length;
                h++
              ) {
                u(p[h]);
              }
              n &&
                o.push(
                  Xu.of(function (e, t, n) {
                    return n !== a;
                  })
                ),
                o.push(Qu.of(s)),
                r.dispatch({ effects: o });
            }),
            (t.prototype.removeHighlights = function (e) {
              if (this.hasHighlight(e)) {
                var t = Zu.get(e);
                this.cm.dispatch({
                  effects: Xu.of(function (e, n, i) {
                    return i !== t;
                  }),
                });
              }
            }),
            (t.prototype.hasHighlight = function (e) {
              for (
                var t = Zu.get(e), n = this.cm.state.field(eh).iter();
                n.value;

              ) {
                if (n.value === t) return !0;
                n.next();
              }
              return !1;
            }),
            (t.prototype.searchCursor = function (e) {
              var t = this.cm,
                n = this,
                i = function (n, i) {
                  return new WL(t.state.doc, e, n, i, function (e) {
                    return e.toLowerCase();
                  });
                },
                r = t.state.selection.main.from,
                o = t.state.selection.main.to;
              function s(t, n) {
                for (var r = n; ; ) {
                  for (
                    var o = Math.max(t, r - 1e4 - e.length),
                      s = i(o, r),
                      a = null;
                    !s.nextOverlapping().done;

                  )
                    a = s.value;
                  if (a) return a;
                  if (o == t) return null;
                  r -= 1e4;
                }
              }
              var a = null;
              return {
                current: function () {
                  return a;
                },
                findPrevious: function () {
                  a = null;
                  var e = s(0, r) || s(r, t.state.doc.length);
                  if (!e) return null;
                  var n = t.state.doc;
                  return (
                    (r = e.from),
                    (o = e.to),
                    (a = { from: nh(n, e.from), to: nh(n, e.to) })
                  );
                },
                findNext: function () {
                  var e = i(o, void 0).nextOverlapping();
                  if ((e.done && (e = i(0, o).nextOverlapping()), e.done))
                    return (a = null);
                  var n = e.value,
                    s = t.state.doc;
                  return (
                    (r = n.from),
                    (o = n.to),
                    (a = { from: nh(s, n.from), to: nh(s, n.to) })
                  );
                },
                replace: function (e, t) {
                  var i = this.current();
                  i && n.replaceRange(e, i.from, i.to, t);
                },
                findAll: function () {
                  for (var e = i(), n = [], r = t.state.doc; !e.next().done; ) {
                    var o = e.value;
                    n.push({ from: nh(r, o.from), to: nh(r, o.to) });
                  }
                  return n;
                },
                replaceAll: function (e, t) {
                  var i = this.findAll().map(function (t) {
                    return { from: t.from, to: t.to, text: e };
                  });
                  n.transaction({ changes: i }, t);
                },
              };
            }),
            (t.prototype.getClickableTokenAt = function (e) {
              if (!e) return null;
              var t = this.cm,
                n = t.state.doc,
                i = [],
                r = n.line(e.line + 1),
                o = Zc(t.state),
                s = r.from;
              o.iterate({
                from: r.from,
                to: r.to,
                enter: function (e, t, n) {
                  var r = e.prop(Gu);
                  r &&
                    (s < t && i.push({ type: "", from: s, to: t }),
                    i.push({ type: r, from: t, to: n }),
                    (s = n));
                },
              }),
                s < r.to && i.push({ type: "", from: s, to: r.to });
              for (var a = th(n, e), l = -1, c = 0; c < i.length; c++) {
                var u = i[c];
                if (u.from <= a && u.to >= a) {
                  l = c;
                  break;
                }
              }
              if (!(l < 0)) {
                var h = function (e) {
                    return n.sliceString(e.from, e.to);
                  },
                  p = i[l],
                  d = p.type,
                  f = d.split(" "),
                  g = h(p),
                  m = "hmd-internal-link",
                  v = f.contains(m),
                  y = f.contains("formatting-link") && ["[[", "]]"].contains(g);
                if (v || y) {
                  for (var b = l - 1; b >= 0; ) {
                    var w = i[b].type;
                    if (!w || !w.contains(m)) break;
                    b--;
                  }
                  for (var k = l + 1; k < i.length; ) {
                    var C = i[k].type;
                    if (!C || !C.contains(m)) break;
                    k++;
                  }
                  var x = "",
                    S = r.to,
                    E = r.from;
                  for (c = b + 1; c < k; c++) {
                    var M = i[c];
                    M.type.contains(m) &&
                      ((x += h(M)),
                      M.from < S && (S = M.from),
                      M.to > E && (E = M.to));
                  }
                  return {
                    type: "internal-link",
                    text: dg(x),
                    start: nh(n, S),
                    end: nh(n, E),
                  };
                }
                if (f.contains("link")) {
                  for (var L = l + 1; L < i.length; ) {
                    var A = i[L];
                    if (!A || !A.type.split(" ").contains("link")) {
                      if (A) {
                        var D = A.type.split(" ");
                        if (D.contains("string") && D.contains("url")) break;
                      }
                      L = -1;
                      break;
                    }
                    L++;
                  }
                  L > -1 &&
                    L < i.length &&
                    ((l = L), (f = (d = (p = i[L]).type).split(" ")));
                }
                if (f.contains("url")) {
                  var T = h(p);
                  if (
                    ("(" === T
                      ? (T = h((p = i[l + 1])))
                      : ")" === T && (T = h((p = i[l - 1]))),
                    !p)
                  )
                    return null;
                  var P = !1;
                  if (f.contains("string")) {
                    if (fg((T = mg(T)))) {
                      P = !0;
                      try {
                        T = decodeURI(T);
                      } catch (e) {
                        return null;
                      }
                      T = yg(T).trim();
                    }
                  } else /^([a-z0-9+.-]+):/.test(T) || (T = "https://" + T);
                  return (
                    P || (T = gg(T)),
                    {
                      type: P ? "internal-link" : "external-link",
                      text: T,
                      start: nh(n, p.from),
                      end: nh(n, p.to),
                    }
                  );
                }
                if (f.contains("hashtag")) {
                  var O = "";
                  for (S = r.to, E = r.from, c = 0; c < i.length; c++) {
                    var F = i[c];
                    if (F.type && F.type.split(" ").contains("hashtag"))
                      (O += h(F)),
                        F.from < S && (S = F.from),
                        F.to > E && (E = F.to);
                    else {
                      if (!(c < l)) break;
                      (O = ""), (S = a), (E = a);
                    }
                  }
                  if (O)
                    return {
                      type: "tag",
                      text: O,
                      start: nh(n, S),
                      end: nh(n, E),
                    };
                }
                return null;
              }
            }),
            (t.commands = {
              goUp: ox,
              goDown: sx,
              goLeft: qC,
              goRight: jC,
              goStart: Wx,
              goEnd: _x,
              indentMore: ES,
              indentLess: MS,
              newlineAndIndent: wS,
              swapLineUp: dS,
              swapLineDown: fS,
              deleteLine: yS,
              toggleFold: function (e) {
                return SE(e) || xE(e);
              },
              foldAll: tF,
              unfoldAll: LE,
            }),
            t
          );
        })(gh),
        yF = [],
        bF = (function () {
          function e(e) {
            var t = this;
            (this.type = "source"),
              (this.hoverPopover = null),
              (this.editorEl = null),
              (this.sourceMode = !1),
              (this.cssClasses = []),
              (this.scrolling = !1),
              (this.cursorPopupEl = null),
              (this.view = e),
              (this.app = e.app),
              (this.editorSuggest = this.app.workspace.editorSuggest);
            var n = (this.editorEl = e.contentEl.createDiv(
                "markdown-source-view cm-s-obsidian mod-cm6"
              )),
              i = (this.contentContainerEl = createDiv("cm-contentContainer")),
              r = (this.cm = new Zl({ parent: n })),
              o = (this.editor = new vF(r));
            (this.clipboardManager = new mT(e, o)),
              (this.backlinks = null),
              (this.sourceMode = !this.app.vault.getConfig("livePreview")),
              this.clear(),
              (this.search = new ET(this.app, e, o, n)),
              r.contentDOM.replaceWith(i),
              i.appendChild(r.contentDOM),
              r.scrollDOM.addEventListener("scroll", function () {
                return t.onScroll();
              }),
              n.addEventListener("click", this.onEditorClick.bind(this)),
              n.addEventListener("mousedown", this.onEditorClick.bind(this)),
              n.addEventListener("contextmenu", function (e) {
                eb.isMobile || t.clipboardManager.onContextMenu(e);
              }),
              n.on(
                "mouseover",
                ".cm-hmd-internal-link",
                this.onEditorLinkMouseover.bind(this)
              ),
              cb.registerDomEvents(
                r.contentDOM,
                new VB(this.app, this, function () {
                  return t.view.file;
                }),
                function (e) {
                  for (; e; ) {
                    if (e === t.cm.contentDOM) return !0;
                    if (e.classList.contains("markdown-preview-view"))
                      return !1;
                    var n = e.parentElement;
                    if (!n) return !1;
                    e = n;
                  }
                  return !1;
                }
              );
          }
          return (
            (e.prototype.show = function () {
              this.editorEl.show();
            }),
            (e.prototype.hide = function () {
              this.editorEl.hide(),
                this.editorSuggest.close(),
                this.search.hide();
            }),
            (e.prototype.clear = function () {
              var e = Wr.create({
                extensions: [
                  this.getLocalExtensions(),
                  dF.of(this.getDynamicExtensions()),
                  pF,
                ],
              });
              this.cm.setState(e);
            }),
            (e.prototype.get = function () {
              return this.cm.state.doc.toString();
            }),
            (e.prototype.set = function (e, t) {
              var n = this.cm;
              if (t) {
                var i = [
                  this.getLocalExtensions(),
                  dF.of(this.getDynamicExtensions()),
                  pF,
                ];
                try {
                  var r = this.view.file.path,
                    o = yF.find(function (e) {
                      return e.file === r;
                    });
                  if (o && o.length === e.length) {
                    var s = MM.spec.fromJSON(o.data);
                    i.push(
                      MM.init(function () {
                        return s;
                      })
                    );
                  }
                } catch (e) {
                  console.error(e);
                }
                var a = Wr.create({ doc: e, extensions: i });
                n.setState(a),
                  n.dispatch({
                    effects: [Zl.scrollTo.of(Zi.cursor(0)), sh.of()],
                  }),
                  (n.scrollDOM.scrollTop = 0),
                  this.updateBacklinks();
              } else {
                for (
                  var l = n.state.doc,
                    c = e.split(/\r?\n/g),
                    u = l.lines,
                    h = 0;
                  h < c.length && h < u && c[h] === l.line(h + 1).text;

                )
                  h++;
                if (h === c.length && h === u) return;
                for (
                  var p = u - 1, d = c.length - 1;
                  p > h && d > h && l.line(p + 1).text === c[d];

                )
                  p--, d--;
                var f = { line: h, ch: 0 },
                  g = { line: p, ch: l.line(p + 1).length },
                  m = c.slice(h, d + 1).join("\n");
                h === Math.min(u, c.length) &&
                  ((f = { line: h - 1, ch: l.line(h).length }),
                  c.length > u && (m = "\n" + m)),
                  n.dispatch({
                    changes: { from: th(l, f), to: th(l, g), insert: m },
                    userEvent: "set",
                  }),
                  (this.scrolling = !0);
              }
            }),
            (e.prototype.destroy = function () {
              (this.localExtensions = null),
                this.cm.setState(Wr.create({})),
                this.cm.destroy();
            }),
            (e.prototype.beforeUnload = function () {
              try {
                var e = this.cm.state,
                  t = e.field(MM);
                if (t) {
                  var n = MM.spec.toJSON(t, e),
                    i = function (e) {
                      if (e && Array.isArray(e))
                        for (var t = 0, n = e; t < n.length; t++) {
                          var i = n[t];
                          if (i.changes && i.changes.length) return !0;
                        }
                      return !1;
                    };
                  if (!i(n.done) && !i(n.undone)) return;
                  var r = this.view.file.path;
                  (yF = yF.filter(function (e) {
                    return e.file !== r;
                  })).push({
                    ts: Date.now(),
                    file: this.view.file.path,
                    data: n,
                    length: e.doc.length,
                  }),
                    yF.length > 20 && yF.shift();
                }
              } catch (e) {
                console.error(e);
              }
            }),
            (e.prototype.getEphemeralState = function (e) {
              var t = this.cm;
              if (t.hasFocus) {
                var n = t.state.doc,
                  i = nh(n, t.state.selection.main.anchor),
                  r = nh(n, t.state.selection.main.head);
                e.cursor = {
                  from: { line: i.line, ch: i.ch },
                  to: { line: r.line, ch: r.ch },
                };
              }
            }),
            (e.prototype.setEphemeralState = function (e) {
              var t = this.editor,
                n = e.cursor,
                i = t.getScrollInfo();
              if (
                (n && n.from && n.to
                  ? (t.focus(),
                    t.setSelection(n.from, n.to),
                    t.scrollTo(i.left, i.top))
                  : e.focus &&
                    !eb.isMobile &&
                    (t.focus(), t.scrollTo(i.left, i.top)),
                e.hasOwnProperty("scroll") && this.applyScroll(e.scroll),
                void 0 !== e.startLoc && void 0 !== e.endLoc)
              ) {
                var r = e.startLoc,
                  o = e.endLoc,
                  s = { line: r.line, ch: r.col },
                  a = o
                    ? { line: o.line, ch: o.col }
                    : {
                        line: t.lastLine(),
                        ch: t.getLine(t.lastLine()).length,
                      };
                this.highlightSearchMatch(s, a), this.onScroll();
              } else if (void 0 !== e.line && e.line >= 0) {
                var l = e.line;
                (s = { line: l, ch: 0 }),
                  (a = { line: l, ch: t.getLine(l).length });
                t.setSelection(a, a),
                  this.highlightSearchMatch(s, a),
                  this.onScroll();
              } else if (void 0 !== e.match) {
                var c = e.match,
                  u = mh(c.content, c.matches);
                this.highlightSearchMatches(u), this.onScroll();
              }
            }),
            (e.prototype.setShowBacklinks = function (e) {
              var t = this.app,
                n = this.backlinks,
                i = this.view.contentEl.clientHeight;
              if (e && !n) {
                var r = (this.backlinksEl =
                  this.contentContainerEl.createDiv("embedded-backlinks"));
                (this.backlinks = this.view.addChild(
                  new zB(t, r, this.cm.scrollDOM)
                )),
                  this.updateBacklinks(),
                  this.updateBottomPadding(i),
                  this.updateOptions();
              } else
                !e &&
                  n &&
                  (this.backlinksEl.detach(),
                  (this.backlinksEl = null),
                  this.view.removeChild(n),
                  (this.backlinks = null),
                  this.updateBottomPadding(i),
                  this.updateOptions());
            }),
            (e.prototype.updateBacklinks = function () {
              var e = this.backlinks;
              if (e) {
                var t = null;
                this.view.currentMode === this && (t = this.view.file),
                  (e.file = t),
                  e.update();
              }
            }),
            (e.prototype.highlightSearchMatch = function (e, t, n, i) {
              void 0 === n && (n = !0), void 0 === i && (i = !0);
              var r = this.editor;
              r.addHighlights(
                [{ from: e, to: t }],
                "obsidian-search-match-highlight",
                i,
                !0
              ),
                n && r.scrollIntoView({ from: e, to: t }, !0);
            }),
            (e.prototype.highlightSearchMatches = function (e, t, n) {
              void 0 === t && (t = !0), void 0 === n && (n = !0);
              var i = this.editor;
              if (
                (i.addHighlights(e, "obsidian-search-match-highlight", n, !0),
                t && e.length > 0)
              ) {
                var r = e[0];
                i.scrollIntoView(r, !0);
              }
            }),
            (e.prototype.updateEvent = function () {
              var e = this,
                t = !1,
                n = Tt(function () {
                  e.editorSuggest.trigger(e.editor, e.view.file, t), (t = !1);
                }, 50),
                i = Tt(function () {
                  e.view.requestSave(),
                    e.view.triggerQuickPreview(),
                    e.editor.expandText();
                }, 10),
                r = Tt(this.updateLinkPopup.bind(this), 300),
                o = Tt(function () {
                  return e.view.onMarkdownFold();
                }, 500);
              return function (s) {
                var a = s.transactions;
                s.docChanged &&
                  a.some(function (e) {
                    return "set" !== e.annotation(Fr.userEvent);
                  }) &&
                  ((t = !0), i(), o()),
                  (ah(a, mE) || ah(a, vE)) && o(),
                  (s.docChanged || s.selectionSet) && (n(), r()),
                  s.docChanged &&
                    e.app.workspace.trigger("editor-change", e.editor, e.view);
              };
            }),
            (e.prototype.getLocalExtensions = function () {
              var e = this,
                t = this.localExtensions;
              if (!t) {
                (t = this.localExtensions = []).push(
                  sF.init(function () {
                    return e.cm;
                  })
                ),
                  t.push(
                    aF.init(function () {
                      return e.view;
                    })
                  ),
                  eb.isMobile ||
                    (hF.push(mc()),
                    hF.push(gr.high(Ac())),
                    hF.push(iF),
                    hF.push(Wr.allowMultipleSelections.of(!0)),
                    hF.push(jL()));
                var n = {
                    key: "Tab",
                    run: function () {
                      return e.editor.indentList(), !0;
                    },
                    shift: function () {
                      return e.editor.unindentList(), !0;
                    },
                  },
                  i = function () {
                    return e.editorSuggest.isShowingSuggestion();
                  };
                t.push(
                  lc.of([
                    { key: "ArrowUp", run: i, preventDefault: !0 },
                    { key: "ArrowDown", run: i, preventDefault: !0 },
                    { key: "Enter", run: i, preventDefault: !0 },
                    { key: "Tab", run: i, preventDefault: !0 },
                    {
                      key: "Enter",
                      run: function () {
                        return (
                          !!e.app.vault.getConfig("smartIndentList") &&
                          (e.editor.newlineAndIndentContinueMarkdownList(), !0)
                        );
                      },
                      shift: function () {
                        return (
                          !!e.app.vault.getConfig("smartIndentList") &&
                          (e.editor.newlineAndIndentOnly(), !0)
                        );
                      },
                      preventDefault: !0,
                    },
                    n,
                  ])
                ),
                  t.push(Zl.updateListener.of(this.updateEvent())),
                  t.push(
                    Zl.domEventHandlers({
                      dragstart: function (e) {
                        return e.dataTransfer.clearData("text/html");
                      },
                      dragover: function (t) {
                        return e.clipboardManager.handleDragOver(t);
                      },
                      drop: function (t) {
                        return e.clipboardManager.handleDrop(t);
                      },
                      copy: function (t) {
                        e.editor.getSelection() ||
                          e.editor.getLine(e.editor.getCursor().line) ||
                          t.preventDefault();
                      },
                      paste: function (t) {
                        return e.clipboardManager.handlePaste(t);
                      },
                      focus: function () {
                        eb.isMobile && e.app.mobileToolbar.open();
                      },
                      blur: function () {
                        eb.isMobile && e.app.mobileToolbar.close(),
                          e.editorSuggest.close();
                      },
                    })
                  );
              }
              return t;
            }),
            (e.prototype.getDynamicExtensions = function () {
              var e = this.app.vault,
                t = e.getConfig("readableLineLength");
              this.editorEl.toggleClass("is-readable-line-width", t);
              var n = [],
                i = e.getConfig("foldHeading"),
                r = e.getConfig("foldIndent");
              e.getConfig("showLineNumber") &&
                (n.push(QS({ fixed: !1 })), n.push(oO), n.push(uE()));
              var o = i || r;
              this.editorEl.toggleClass("is-folding", o),
                o &&
                  (n.push(PE()),
                  n.push(hO),
                  i && n.push(ZO),
                  r && n.push(XO),
                  n.push(eF));
              var s = e.getConfig("useTab"),
                a = e.getConfig("tabSize");
              n.push(Wr.tabSize.of(a));
              var l = s
                ? "\t"
                : new Array(Math.clamp(a, 2, 4)).fill(" ").join("");
              n.push(fu.of(l));
              var c = e.getConfig("lineWrap");
              this.editorEl.toggleClass("is-line-wrap", c),
                c &&
                  n.push(
                    Zl.theme({
                      ".cm-content": {
                        whiteSpace: "pre-wrap",
                        wordBreak: "break-word",
                        overflowWrap: "anywhere",
                      },
                    })
                  );
              var u = e.getConfig("rightToLeft");
              this.editorEl.toggleClass("is-rtl", u),
                u && n.push(Zl.theme({ "&": { direction: "rtl" } }));
              var h = e.getConfig("spellcheck");
              n.push(
                Zl.contentAttributes.of({
                  spellcheck: String(h),
                  autocorrect: "on",
                  autocapitalize: "on",
                  contenteditable: "true",
                })
              );
              var p = !this.sourceMode;
              if (
                (this.editorEl.toggleClass("is-live-preview", p),
                n.push(
                  lF.init(function () {
                    return p;
                  })
                ),
                p)
              ) {
                var d = this.livePreviewPlugin;
                d || (d = this.livePreviewPlugin = PR(this.view, this.cm)),
                  n.push(d);
              }
              var f = e.getConfig("autoPairBrackets"),
                g = e.getConfig("autoPairMarkdown");
              if (f || g) {
                var m = [];
                f && m.push("(", "[", "{", "'", '"'),
                  g && m.push("*", "_", "`", "```");
                var v = { brackets: m };
                n.push(tC()),
                  n.push(lc.of(lC)),
                  n.push(
                    Wr.languageData.of(function () {
                      return [{ closeBrackets: v }];
                    })
                  ),
                  n.push($O);
              }
              return (
                (eb.isMobile
                  ? !!localStorage.getItem("vim")
                  : e.getConfig("vimMode")) &&
                  n.push([qO, gr.high(jO), zO, _O]),
                n.push.apply(n, this.app.workspace.editorExtensions),
                n
              );
            }),
            (e.prototype.updateOptions = function () {
              this.cm.dispatch({
                effects: [
                  dF.reconfigure(this.getDynamicExtensions()),
                  rF.of({ field: lF, value: !this.sourceMode }),
                ],
              });
            }),
            (e.prototype.setCssClass = function (e) {
              var t = this.editorEl;
              if ((t.removeClasses(this.cssClasses), e && e.length > 0)) {
                var n = t.classList;
                (e = e.filter(function (e) {
                  return !n.contains(e);
                })),
                  t.addClasses(e);
              } else e = [];
              this.cssClasses = e;
            }),
            (e.prototype.showSearch = function (e) {
              void 0 === e && (e = !1), this.search.show(e);
            }),
            (e.prototype.getSelection = function () {
              return this.editor.getSelection();
            }),
            (e.prototype.onScroll = function () {
              this.editorSuggest.reposition(),
                this.scrolling
                  ? (this.scrolling = !1)
                  : this.view.onMarkdownScroll();
            }),
            (e.prototype.getScroll = function () {
              var e = this.cm,
                t = e.scrollDOM.scrollTop,
                n = e.lineBlockAtHeight(t);
              return (
                e.state.doc.lineAt(n.from).number -
                1 +
                Math.max(0, t - n.top) / (n.height || 1)
              );
            }),
            (e.prototype.applyScroll = function (e) {
              if (Number.isNumber(e) && !isNaN(e)) {
                var t = Math.floor(e),
                  n = e - t;
                this.scrolling = !0;
                var i = this.cm,
                  r = i.state.doc.line(t + 1),
                  o = i.lineBlockAt(r.from);
                i.scrollDOM.scrollTop = o.top + n * o.height;
              }
            }),
            (e.prototype.getFoldInfo = function () {
              for (
                var e = this.cm,
                  t = e.state.doc,
                  n = [],
                  i = wE(e.state).iter();
                i.value;

              ) {
                var r = nh(t, i.from),
                  o = nh(t, i.to);
                n.push({ from: r.line, to: o.line }), i.next();
              }
              return n.length > 0 ? { folds: n, lines: t.lines } : null;
            }),
            (e.prototype.applyFoldInfo = function (e) {
              var t = this.cm;
              if (!e || t.state.doc.lines === e.lines) {
                LE(t);
                var n = [];
                if (e)
                  for (var i = 0, r = e.folds; i < r.length; i++) {
                    var o = r[i],
                      s = t.state.doc.line(o.from + 1),
                      a = Fu(t.state, s.from, s.to);
                    a && n.push(mE.of(a));
                  }
                0 !== n.length && t.dispatch({ effects: n });
              }
            }),
            (e.prototype.onEditorClick = function (e) {
              var t = this;
              if (
                (("click" === e.type && 0 === e.button) ||
                  ("mousedown" === e.type && 1 === e.button)) &&
                (!this.sourceMode || nw.isModEvent(e))
              ) {
                var n = e.target,
                  i = this.cm.contentDOM;
                if (i.contains(n) && n !== i && n.parentNode !== i) {
                  for (var r = n; r && r !== i; ) {
                    if (
                      r instanceof HTMLElement &&
                      "false" === r.contentEditable &&
                      !r.hasClass("external-link")
                    )
                      return;
                    r = r.parentNode;
                  }
                  var o = this.editor.getClickableTokenAt(
                    this.editor.posAtMouse(e)
                  );
                  if (o)
                    if (
                      (function () {
                        if (t.sourceMode) return !0;
                        if (1 === e.button) return !0;
                        if (!(n instanceof HTMLElement)) return !1;
                        if ("tag" === o.type) return !0;
                        if ("internal-link" === o.type) {
                          if (!n.matchParent(".cm-underline")) return !1;
                          if (n.matchParent(".cm-hmd-internal-link")) return !0;
                          if (n.matchParent(".cm-link")) return !0;
                        }
                        if ("external-link" === o.type) {
                          if (n.matchParent(".external-link")) return !0;
                          if (!n.matchParent(".cm-underline")) return !1;
                          if (n.matchParent(".cm-url")) return !0;
                          if (n.matchParent(".cm-link")) return !0;
                        }
                        return !1;
                      })()
                    ) {
                      var s =
                        1 === e.button ||
                        (this.sourceMode ? e.shiftKey : nw.isModEvent(e));
                      this.view.triggerClickableToken(o, s), e.preventDefault();
                    }
                }
              }
            }),
            (e.prototype.onEditorLinkMouseover = function (e, t) {
              if (Rt(e, t)) {
                var n = this.editor.getClickableTokenAt(
                  this.editor.posAtMouse(e)
                );
                n &&
                  "internal-link" === n.type &&
                  this.app.workspace.trigger("hover-link", {
                    event: e,
                    source: "editor",
                    hoverParent: this,
                    targetEl: t,
                    linktext: n.text,
                    sourcePath: this.view.file.path,
                  });
              }
            }),
            (e.prototype.updateLinkPopup = function () {
              var e = this;
              if (eb.isMobile) {
                var t = this,
                  n = t.cm,
                  i = t.editor,
                  r = t.cursorPopupEl;
                r && (r.detach(), (this.cursorPopupEl = null));
                var o = i.getCursor("from"),
                  s = i.getClickableTokenAt(o);
                if (s) {
                  var a = 0 === s.start.line,
                    l = n.scrollDOM,
                    c = n.contentDOM;
                  this.cursorPopupEl = l.createDiv();
                  var u = this.cursorPopupEl.createDiv({
                    cls: "follow-link-popover",
                  });
                  "internal-link" === s.type
                    ? u.setText(Lt("editor.link-popover.tooltip-follow-link"))
                    : "external-link" === s.type
                    ? u.setText(Lt("editor.link-popover.tooltip-open-link"))
                    : "tag" === s.type &&
                      u.setText(Lt("editor.link-popover.tooltip-search-tag")),
                    u.createDiv("popover-arrow"),
                    (u.style.position = "absolute"),
                    a && u.addClass("mod-bottom"),
                    (u.style.cursor = "pointer"),
                    (u.style.zIndex = "var(--layer-popover)"),
                    (u.style.top = "0"),
                    (u.style.left = "0");
                  var h = i.coordsAtPos(s.start, !0),
                    p = i.coordsAtPos(s.end, !0),
                    d = u.offsetWidth,
                    f = u.offsetParent
                      ? u.offsetParent.clientWidth
                      : l.clientWidth,
                    g = c.offsetTop,
                    m = (h.left + p.left) / 2 + c.offsetLeft - d / 2;
                  (g += a ? h.bottom + 8 : h.top - u.offsetHeight - 8),
                    p.top >= h.bottom && (m = h.left + c.offsetLeft - d / 2),
                    (u.style.top = g + "px"),
                    (u.style.left = Math.clamp(m, 0, f - d) + "px"),
                    u.onClickEvent(function (t) {
                      u.detach(),
                        e.view.triggerClickableToken(
                          s,
                          t.shiftKey || 1 === t.button
                        ),
                        t.preventDefault();
                    }),
                    "internal-link" === s.type &&
                      u.addEventListener("mouseover", function (t) {
                        Rt(t, u) &&
                          e.app.workspace.trigger("hover-link", {
                            event: t,
                            source: "editor",
                            hoverParent: e,
                            targetEl: u,
                            linktext: s.text,
                            sourcePath: e.view.file.path,
                          });
                      });
                }
              }
            }),
            (e.prototype.onDocumentClick = function (e) {
              var t = this;
              this.editorSuggest.close(),
                this.cm.dom.contains(e.target) &&
                  setTimeout(function () {
                    return t.editor.removeHighlights(
                      "obsidian-search-match-highlight"
                    );
                  }, 0);
            }),
            (e.prototype.onResize = function () {
              var e = this.editorEl,
                t = this.editor,
                n = this.view.contentEl,
                i = n.clientWidth,
                r = n.clientHeight;
              this.editorSuggest.reposition(),
                (e.style.width = i + "px"),
                (e.style.height = r + "px"),
                this.updateBottomPadding(r),
                eb.isMobile &&
                  t.hasFocus() &&
                  t.scrollIntoView({
                    from: t.getCursor("anchor"),
                    to: t.getCursor("head"),
                  }),
                t.refresh();
            }),
            (e.prototype.updateBottomPadding = function (e) {
              var t = this.cm,
                n = this.backlinksEl,
                i = Math.round(e / 2),
                r = i + "px";
              n &&
                ((r = "100px"),
                (n.style.minHeight = Math.max(0, i - 100) + "px")),
                (t.contentDOM.style.paddingBottom = r);
            }),
            (e.prototype.onCssChange = function () {
              this.cm.dispatch({ effects: pO.clearCache.of() }),
                this.editor.refresh();
            }),
            (e.prototype.toggleSource = function () {
              (this.sourceMode = !this.sourceMode), this.updateOptions();
            }),
            e
          );
        })(),
        wF = /[^a-zA-Z0-9]/,
        kF = /\s/,
        CF = /[\r\n]/,
        xF = /\n\r?\n$/,
        SF = /^\r?\n\r?\n/;
      function EF(e, t) {
        return e < t ? e : t;
      }
      function MF(e, t) {
        return e > t ? e : t;
      }
      !(function (e) {
        (e[(e.DIFF_DELETE = -1)] = "DIFF_DELETE"),
          (e[(e.DIFF_INSERT = 1)] = "DIFF_INSERT"),
          (e[(e.DIFF_EQUAL = 0)] = "DIFF_EQUAL");
      })(mF || (mF = {}));
      var LF = (function () {
          function e() {
            (this.diffTimeout = 1),
              (this.diffEditCost = 4),
              (this.matchThreshold = 0.5),
              (this.matchDistance = 1e3),
              (this.patchDeleteThreshold = 0.5),
              (this.patchMargin = 4),
              (this.matchMaxBits = 32);
          }
          return (
            (e.prototype.diff_main = function (e, t, n, i) {
              void 0 === i &&
                (i =
                  this.diffTimeout <= 0
                    ? Number.MAX_VALUE
                    : Date.now() + 1e3 * this.diffTimeout);
              var r = i;
              if (null == e || null == t)
                throw new Error("Null input. (diff_main)");
              if (e === t) return e ? [[mF.DIFF_EQUAL, e]] : [];
              void 0 === n && (n = !0);
              var o = n,
                s = this.diff_commonPrefix(e, t),
                a = e.substring(0, s);
              (e = e.substring(s)),
                (t = t.substring(s)),
                (s = this.diff_commonSuffix(e, t));
              var l = e.substring(e.length - s);
              (e = e.substring(0, e.length - s)),
                (t = t.substring(0, t.length - s));
              var c = this.diff_compute_(e, t, o, r);
              return (
                a && c.unshift([mF.DIFF_EQUAL, a]),
                l && c.push([mF.DIFF_EQUAL, l]),
                this.diff_cleanupMerge(c),
                c
              );
            }),
            (e.prototype.diff_commonPrefix = function (e, t) {
              if (!e || !t || e.charAt(0) !== t.charAt(0)) return 0;
              for (var n = 0, i = EF(e.length, t.length), r = i, o = 0; n < r; )
                e.substring(o, r) === t.substring(o, r) ? (o = n = r) : (i = r),
                  (r = Math.floor((i - n) / 2 + n));
              return r;
            }),
            (e.prototype.diff_commonSuffix = function (e, t) {
              if (!e || !t || e.charAt(e.length - 1) !== t.charAt(t.length - 1))
                return 0;
              for (var n = 0, i = EF(e.length, t.length), r = i, o = 0; n < r; )
                e.substring(e.length - r, e.length - o) ===
                t.substring(t.length - r, t.length - o)
                  ? (o = n = r)
                  : (i = r),
                  (r = Math.floor((i - n) / 2 + n));
              return r;
            }),
            (e.prototype.diff_cleanupSemantic = function (e) {
              for (
                var t = !1,
                  n = [],
                  i = 0,
                  r = null,
                  o = 0,
                  s = 0,
                  a = 0,
                  l = 0,
                  c = 0;
                o < e.length;

              )
                e[o][0] === mF.DIFF_EQUAL
                  ? ((n[i++] = o),
                    (s = l),
                    (a = c),
                    (l = 0),
                    (c = 0),
                    (r = e[o][1]))
                  : (e[o][0] === mF.DIFF_INSERT
                      ? (l += e[o][1].length)
                      : (c += e[o][1].length),
                    r &&
                      r.length <= MF(s, a) &&
                      r.length <= MF(l, c) &&
                      (e.splice(n[i - 1], 0, [mF.DIFF_DELETE, r]),
                      (e[n[i - 1] + 1][0] = mF.DIFF_INSERT),
                      i--,
                      (o = --i > 0 ? n[i - 1] : -1),
                      (s = 0),
                      (a = 0),
                      (l = 0),
                      (c = 0),
                      (r = null),
                      (t = !0))),
                  o++;
              for (
                t && this.diff_cleanupMerge(e),
                  this.diff_cleanupSemanticLossless(e),
                  o = 1;
                o < e.length;

              ) {
                if (
                  e[o - 1][0] === mF.DIFF_DELETE &&
                  e[o][0] === mF.DIFF_INSERT
                ) {
                  var u = e[o - 1][1],
                    h = e[o][1],
                    p = this.diff_commonOverlap_(u, h),
                    d = this.diff_commonOverlap_(h, u);
                  p >= d
                    ? (p >= u.length / 2 || p >= h.length / 2) &&
                      (e.splice(o, 0, [mF.DIFF_EQUAL, h.substring(0, p)]),
                      (e[o - 1][1] = u.substring(0, u.length - p)),
                      (e[o + 1][1] = h.substring(p)),
                      o++)
                    : (d >= u.length / 2 || d >= h.length / 2) &&
                      (e.splice(o, 0, [mF.DIFF_EQUAL, u.substring(0, d)]),
                      (e[o - 1][0] = mF.DIFF_INSERT),
                      (e[o - 1][1] = h.substring(0, h.length - d)),
                      (e[o + 1][0] = mF.DIFF_DELETE),
                      (e[o + 1][1] = u.substring(d)),
                      o++),
                    o++;
                }
                o++;
              }
            }),
            (e.prototype.diff_cleanupSemanticLossless = function (e) {
              for (var t = 1; t < e.length - 1; ) {
                if (
                  e[t - 1][0] === mF.DIFF_EQUAL &&
                  e[t + 1][0] === mF.DIFF_EQUAL
                ) {
                  var n = e[t - 1][1],
                    i = e[t][1],
                    r = e[t + 1][1],
                    o = this.diff_commonSuffix(n, i);
                  if (o) {
                    var s = i.substring(i.length - o);
                    (n = n.substring(0, n.length - o)),
                      (i = s + i.substring(0, i.length - o)),
                      (r = s + r);
                  }
                  for (
                    var a = n,
                      l = i,
                      c = r,
                      u =
                        this.diff_cleanupSemanticScore_(n, i) +
                        this.diff_cleanupSemanticScore_(i, r);
                    i.charAt(0) === r.charAt(0);

                  ) {
                    (n += i.charAt(0)),
                      (i = i.substring(1) + r.charAt(0)),
                      (r = r.substring(1));
                    var h =
                      this.diff_cleanupSemanticScore_(n, i) +
                      this.diff_cleanupSemanticScore_(i, r);
                    h >= u && ((u = h), (a = n), (l = i), (c = r));
                  }
                  e[t - 1][1] !== a &&
                    (a ? (e[t - 1][1] = a) : (e.splice(t - 1, 1), t--),
                    (e[t][1] = l),
                    c ? (e[t + 1][1] = c) : (e.splice(t + 1, 1), t--));
                }
                t++;
              }
            }),
            (e.prototype.diff_cleanupEfficiency = function (e) {
              for (
                var t = !1,
                  n = [],
                  i = 0,
                  r = null,
                  o = 0,
                  s = !1,
                  a = !1,
                  l = !1,
                  c = !1;
                o < e.length;

              )
                e[o][0] === mF.DIFF_EQUAL
                  ? (e[o][1].length < this.diffEditCost && (l || c)
                      ? ((n[i++] = o), (s = l), (a = c), (r = e[o][1]))
                      : ((i = 0), (r = null)),
                    (l = c = !1))
                  : (e[o][0] === mF.DIFF_DELETE ? (c = !0) : (l = !0),
                    r &&
                      ((s && a && l && c) ||
                        (r.length < this.diffEditCost / 2 &&
                          Number(s) + Number(a) + Number(l) + Number(c) ===
                            3)) &&
                      (e.splice(n[i - 1], 0, [mF.DIFF_DELETE, r]),
                      (e[n[i - 1] + 1][0] = mF.DIFF_INSERT),
                      i--,
                      (r = null),
                      s && a
                        ? ((l = c = !0), (i = 0))
                        : ((o = --i > 0 ? n[i - 1] : -1), (l = c = !1)),
                      (t = !0))),
                  o++;
              t && this.diff_cleanupMerge(e);
            }),
            (e.prototype.diff_cleanupMerge = function (e) {
              e.push([mF.DIFF_EQUAL, ""]);
              for (var t, n = 0, i = 0, r = 0, o = "", s = ""; n < e.length; )
                switch (e[n][0]) {
                  case mF.DIFF_INSERT:
                    r++, (s += e[n][1]), n++;
                    break;
                  case mF.DIFF_DELETE:
                    i++, (o += e[n][1]), n++;
                    break;
                  case mF.DIFF_EQUAL:
                    i + r > 1
                      ? (0 !== i &&
                          0 !== r &&
                          (0 !== (t = this.diff_commonPrefix(s, o)) &&
                            (n - i - r > 0 &&
                            e[n - i - r - 1][0] === mF.DIFF_EQUAL
                              ? (e[n - i - r - 1][1] += s.substring(0, t))
                              : (e.splice(0, 0, [
                                  mF.DIFF_EQUAL,
                                  s.substring(0, t),
                                ]),
                                n++),
                            (s = s.substring(t)),
                            (o = o.substring(t))),
                          0 !== (t = this.diff_commonSuffix(s, o)) &&
                            ((e[n][1] = s.substring(s.length - t) + e[n][1]),
                            (s = s.substring(0, s.length - t)),
                            (o = o.substring(0, o.length - t)))),
                        (n -= i + r),
                        e.splice(n, i + r),
                        o.length && (e.splice(n, 0, [mF.DIFF_DELETE, o]), n++),
                        s.length && (e.splice(n, 0, [mF.DIFF_INSERT, s]), n++),
                        n++)
                      : 0 !== n && e[n - 1][0] === mF.DIFF_EQUAL
                      ? ((e[n - 1][1] += e[n][1]), e.splice(n, 1))
                      : n++,
                      (r = 0),
                      (i = 0),
                      (o = ""),
                      (s = "");
                }
              "" === e[e.length - 1][1] && e.pop();
              var a = !1;
              for (n = 1; n < e.length - 1; )
                e[n - 1][0] === mF.DIFF_EQUAL &&
                  e[n + 1][0] === mF.DIFF_EQUAL &&
                  (e[n][1].substring(e[n][1].length - e[n - 1][1].length) ===
                  e[n - 1][1]
                    ? ((e[n][1] =
                        e[n - 1][1] +
                        e[n][1].substring(
                          0,
                          e[n][1].length - e[n - 1][1].length
                        )),
                      (e[n + 1][1] = e[n - 1][1] + e[n + 1][1]),
                      e.splice(n - 1, 1),
                      (a = !0))
                    : e[n][1].substring(0, e[n + 1][1].length) ===
                        e[n + 1][1] &&
                      ((e[n - 1][1] += e[n + 1][1]),
                      (e[n][1] =
                        e[n][1].substring(e[n + 1][1].length) + e[n + 1][1]),
                      e.splice(n + 1, 1),
                      (a = !0))),
                  n++;
              a && this.diff_cleanupMerge(e);
            }),
            (e.prototype.diff_xIndex = function (e, t) {
              var n,
                i = 0,
                r = 0,
                o = 0,
                s = 0;
              for (
                n = 0;
                n < e.length &&
                (e[n][0] !== mF.DIFF_INSERT && (i += e[n][1].length),
                e[n][0] !== mF.DIFF_DELETE && (r += e[n][1].length),
                !(i > t));
                n++
              )
                (o = i), (s = r);
              return e.length !== n && e[n][0] === mF.DIFF_DELETE
                ? s
                : s + (t - o);
            }),
            (e.prototype.diff_prettyHtml = function (e) {
              for (
                var t = [], n = /&/g, i = /</g, r = />/g, o = /\n/g, s = 0;
                s < e.length;
                s++
              ) {
                var a = e[s][0],
                  l = e[s][1]
                    .replace(n, "&amp;")
                    .replace(i, "&lt;")
                    .replace(r, "&gt;")
                    .replace(o, "&para;<br>");
                switch (a) {
                  case mF.DIFF_INSERT:
                    t[s] = '<ins style="background:#e6ffe6;">' + l + "</ins>";
                    break;
                  case mF.DIFF_DELETE:
                    t[s] = '<del style="background:#ffe6e6;">' + l + "</del>";
                    break;
                  case mF.DIFF_EQUAL:
                    t[s] = "<span>" + l + "</span>";
                }
              }
              return t.join("");
            }),
            (e.prototype.diff_text1 = function (e) {
              for (var t = [], n = 0; n < e.length; n++)
                e[n][0] !== mF.DIFF_INSERT && (t[n] = e[n][1]);
              return t.join("");
            }),
            (e.prototype.diff_text2 = function (e) {
              for (var t = [], n = 0; n < e.length; n++)
                e[n][0] !== mF.DIFF_DELETE && (t[n] = e[n][1]);
              return t.join("");
            }),
            (e.prototype.diff_levenshtein = function (e) {
              for (var t = 0, n = 0, i = 0, r = 0; r < e.length; r++) {
                var o = e[r][0],
                  s = e[r][1];
                switch (o) {
                  case mF.DIFF_INSERT:
                    n += s.length;
                    break;
                  case mF.DIFF_DELETE:
                    i += s.length;
                    break;
                  case mF.DIFF_EQUAL:
                    (t += MF(n, i)), (n = 0), (i = 0);
                }
              }
              return (t += MF(n, i));
            }),
            (e.prototype.diff_toDelta = function (e) {
              for (var t = [], n = 0; n < e.length; n++)
                switch (e[n][0]) {
                  case mF.DIFF_INSERT:
                    t[n] = "+" + encodeURI(e[n][1]);
                    break;
                  case mF.DIFF_DELETE:
                    t[n] = "-" + e[n][1].length;
                    break;
                  case mF.DIFF_EQUAL:
                    t[n] = "=" + e[n][1].length;
                }
              return t.join("\t").replace(/%20/g, " ");
            }),
            (e.prototype.diff_fromDelta = function (e, t) {
              for (
                var n = [], i = 0, r = 0, o = t.split(/\t/g), s = 0;
                s < o.length;
                s++
              ) {
                var a = o[s].substring(1);
                switch (o[s].charAt(0)) {
                  case "+":
                    try {
                      n[i++] = [mF.DIFF_INSERT, decodeURI(a)];
                    } catch (e) {
                      throw new Error("Illegal escape in diff_fromDelta: " + a);
                    }
                    break;
                  case "-":
                  case "=":
                    var l = parseInt(a, 10);
                    if (isNaN(l) || l < 0)
                      throw new Error("Invalid number in diff_fromDelta: " + a);
                    var c = e.substring(r, (r += l));
                    "=" === o[s].charAt(0)
                      ? (n[i++] = [mF.DIFF_EQUAL, c])
                      : (n[i++] = [mF.DIFF_DELETE, c]);
                    break;
                  default:
                    if (o[s])
                      throw new Error(
                        "Invalid diff operation in diff_fromDelta: " + o[s]
                      );
                }
              }
              if (r !== e.length)
                throw new Error(
                  "Delta length (" +
                    r +
                    ") does not equal source text length (" +
                    e.length +
                    ")"
                );
              return n;
            }),
            (e.prototype.match_main = function (e, t, n) {
              if (null == e || null == t || null == n)
                throw new Error("Null input. (match_main)");
              return (
                (n = MF(0, EF(n, e.length))),
                e === t
                  ? 0
                  : e.length
                  ? e.substring(n, n + t.length) === t
                    ? n
                    : this.match_bitap_(e, t, n)
                  : -1
              );
            }),
            (e.prototype.patch_make = function (e, t, n) {
              var i, r;
              if ("string" == typeof e && "string" == typeof t && void 0 === n)
                (i = e),
                  (r = this.diff_main(i, t, !0)).length > 2 &&
                    (this.diff_cleanupSemantic(r),
                    this.diff_cleanupEfficiency(r));
              else if (
                e &&
                "object" == typeof e &&
                void 0 === t &&
                void 0 === n
              )
                (r = e), (i = this.diff_text1(r));
              else if (
                "string" == typeof e &&
                t &&
                "object" == typeof t &&
                void 0 === n
              )
                (i = e), (r = t);
              else {
                if (
                  "string" != typeof e ||
                  "string" != typeof t ||
                  !n ||
                  "object" != typeof n
                )
                  throw new Error("Unknown call format to patch_make");
                (i = e), (r = n);
              }
              if (0 === r.length) return [];
              for (
                var o = [],
                  s = new AF(),
                  a = 0,
                  l = 0,
                  c = 0,
                  u = i,
                  h = i,
                  p = 0;
                p < r.length;
                p++
              ) {
                var d = r[p][0],
                  f = r[p][1];
                switch (
                  (a || d === mF.DIFF_EQUAL || ((s.start1 = l), (s.start2 = c)),
                  d)
                ) {
                  case mF.DIFF_INSERT:
                    (s.diffs[a++] = r[p]),
                      (s.length2 += f.length),
                      (h = h.substring(0, c) + f + h.substring(c));
                    break;
                  case mF.DIFF_DELETE:
                    (s.length1 += f.length),
                      (s.diffs[a++] = r[p]),
                      (h = h.substring(0, c) + h.substring(c + f.length));
                    break;
                  case mF.DIFF_EQUAL:
                    f.length <= 2 * this.patchMargin && a && r.length !== p + 1
                      ? ((s.diffs[a++] = r[p]),
                        (s.length1 += f.length),
                        (s.length2 += f.length))
                      : f.length >= 2 * this.patchMargin &&
                        a &&
                        (this.patch_addContext_(s, u),
                        o.push(s),
                        (s = new AF()),
                        (a = 0),
                        (u = h),
                        (l = c));
                }
                d !== mF.DIFF_INSERT && (l += f.length),
                  d !== mF.DIFF_DELETE && (c += f.length);
              }
              return a && (this.patch_addContext_(s, u), o.push(s)), o;
            }),
            (e.prototype.patch_deepCopy = function (e) {
              for (var t = [], n = 0; n < e.length; n++) {
                for (var i = e[n], r = new AF(), o = 0; o < i.diffs.length; o++)
                  r.diffs[o] = [i.diffs[o][0], i.diffs[o][1]];
                (r.start1 = i.start1),
                  (r.start2 = i.start2),
                  (r.length1 = i.length1),
                  (r.length2 = i.length2),
                  (t[n] = r);
              }
              return t;
            }),
            (e.prototype.patch_apply = function (e, t) {
              if (0 === e.length) return [t, []];
              e = this.patch_deepCopy(e);
              var n = this.patch_addPadding(e);
              (t = n + t + n), this.patch_splitMax(e);
              for (var i = 0, r = [], o = 0; o < e.length; o++) {
                var s = e[o].start2 + i,
                  a = this.diff_text1(e[o].diffs),
                  l = void 0,
                  c = -1;
                if (
                  (a.length > this.matchMaxBits
                    ? -1 !==
                        (l = this.match_main(
                          t,
                          a.substring(0, this.matchMaxBits),
                          s
                        )) &&
                      (-1 ===
                        (c = this.match_main(
                          t,
                          a.substring(a.length - this.matchMaxBits),
                          s + a.length - this.matchMaxBits
                        )) ||
                        l >= c) &&
                      (l = -1)
                    : (l = this.match_main(t, a, s)),
                  -1 === l)
                )
                  (r[o] = !1), (i -= e[o].length2 - e[o].length1);
                else {
                  (r[o] = !0), (i = l - s);
                  var u = void 0;
                  if (
                    a ===
                    (u =
                      -1 === c
                        ? t.substring(l, l + a.length)
                        : t.substring(l, c + this.matchMaxBits))
                  )
                    t =
                      t.substring(0, l) +
                      this.diff_text2(e[o].diffs) +
                      t.substring(l + a.length);
                  else {
                    var h = this.diff_main(a, u, !1);
                    if (
                      a.length > this.matchMaxBits &&
                      this.diff_levenshtein(h) / a.length >
                        this.patchDeleteThreshold
                    )
                      r[o] = !1;
                    else {
                      this.diff_cleanupSemanticLossless(h);
                      for (
                        var p = 0, d = 0, f = 0;
                        f < e[o].diffs.length;
                        f++
                      ) {
                        var g = e[o].diffs[f];
                        g[0] !== mF.DIFF_EQUAL && (d = this.diff_xIndex(h, p)),
                          g[0] === mF.DIFF_INSERT
                            ? (t =
                                t.substring(0, l + d) +
                                g[1] +
                                t.substring(l + d))
                            : g[0] === mF.DIFF_DELETE &&
                              (t =
                                t.substring(0, l + d) +
                                t.substring(
                                  l + this.diff_xIndex(h, p + g[1].length)
                                )),
                          g[0] !== mF.DIFF_DELETE && (p += g[1].length);
                      }
                    }
                  }
                }
              }
              return [(t = t.substring(n.length, t.length - n.length)), r];
            }),
            (e.prototype.patch_addPadding = function (e) {
              for (var t = this.patchMargin, n = "", i = 1; i <= t; i++)
                n += String.fromCharCode(i);
              for (i = 0; i < e.length; i++)
                (e[i].start1 += t), (e[i].start2 += t);
              var r = e[0],
                o = r.diffs;
              if (0 === o.length || o[0][0] !== mF.DIFF_EQUAL)
                o.unshift([mF.DIFF_EQUAL, n]),
                  (r.start1 -= t),
                  (r.start2 -= t),
                  (r.length1 += t),
                  (r.length2 += t);
              else if (t > o[0][1].length) {
                var s = t - o[0][1].length;
                (o[0][1] = n.substring(o[0][1].length) + o[0][1]),
                  (r.start1 -= s),
                  (r.start2 -= s),
                  (r.length1 += s),
                  (r.length2 += s);
              }
              if (
                0 === (o = (r = e[e.length - 1]).diffs).length ||
                o[o.length - 1][0] !== mF.DIFF_EQUAL
              )
                o.push([mF.DIFF_EQUAL, n]), (r.length1 += t), (r.length2 += t);
              else if (t > o[o.length - 1][1].length) {
                s = t - o[o.length - 1][1].length;
                (o[o.length - 1][1] += n.substring(0, s)),
                  (r.length1 += s),
                  (r.length2 += s);
              }
              return n;
            }),
            (e.prototype.patch_splitMax = function (e) {
              for (var t = this.matchMaxBits, n = 0; n < e.length; n++)
                if (!(e[n].length1 <= t)) {
                  var i = e[n];
                  e.splice(n--, 1);
                  for (
                    var r = i.start1, o = i.start2, s = "";
                    0 !== i.diffs.length;

                  ) {
                    var a = new AF(),
                      l = !0;
                    for (
                      a.start1 = r - s.length,
                        a.start2 = o - s.length,
                        "" !== s &&
                          ((a.length1 = a.length2 = s.length),
                          a.diffs.push([mF.DIFF_EQUAL, s]));
                      0 !== i.diffs.length && a.length1 < t - this.patchMargin;

                    ) {
                      var c = i.diffs[0][0],
                        u = i.diffs[0][1];
                      c === mF.DIFF_INSERT
                        ? ((a.length2 += u.length),
                          (o += u.length),
                          a.diffs.push(i.diffs.shift()),
                          (l = !1))
                        : c === mF.DIFF_DELETE &&
                          1 === a.diffs.length &&
                          a.diffs[0][0] === mF.DIFF_EQUAL &&
                          u.length > 2 * t
                        ? ((a.length1 += u.length),
                          (r += u.length),
                          (l = !1),
                          a.diffs.push([c, u]),
                          i.diffs.shift())
                        : ((u = u.substring(
                            0,
                            t - a.length1 - this.patchMargin
                          )),
                          (a.length1 += u.length),
                          (r += u.length),
                          c === mF.DIFF_EQUAL
                            ? ((a.length2 += u.length), (o += u.length))
                            : (l = !1),
                          a.diffs.push([c, u]),
                          u === i.diffs[0][1]
                            ? i.diffs.shift()
                            : (i.diffs[0][1] = i.diffs[0][1].substring(
                                u.length
                              )));
                    }
                    s = (s = this.diff_text2(a.diffs)).substring(
                      s.length - this.patchMargin
                    );
                    var h = this.diff_text1(i.diffs).substring(
                      0,
                      this.patchMargin
                    );
                    "" !== h &&
                      ((a.length1 += h.length),
                      (a.length2 += h.length),
                      0 !== a.diffs.length &&
                      a.diffs[a.diffs.length - 1][0] === mF.DIFF_EQUAL
                        ? (a.diffs[a.diffs.length - 1][1] += h)
                        : a.diffs.push([mF.DIFF_EQUAL, h])),
                      l || e.splice(++n, 0, a);
                  }
                }
            }),
            (e.prototype.patch_toText = function (e) {
              for (var t = [], n = 0; n < e.length; n++) t[n] = e[n];
              return t.join("");
            }),
            (e.prototype.patch_fromText = function (e) {
              var t = [];
              if (!e) return t;
              for (
                var n = e.split("\n"),
                  i = 0,
                  r = /^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;
                i < n.length;

              ) {
                var o = n[i].match(r);
                if (!o) throw new Error("Invalid patch string: " + n[i]);
                var s = new AF();
                t.push(s),
                  (s.start1 = parseInt(o[1], 10)),
                  "" === o[2]
                    ? (s.start1--, (s.length1 = 1))
                    : "0" === o[2]
                    ? (s.length1 = 0)
                    : (s.start1--, (s.length1 = parseInt(o[2], 10))),
                  (s.start2 = parseInt(o[3], 10)),
                  "" === o[4]
                    ? (s.start2--, (s.length2 = 1))
                    : "0" === o[4]
                    ? (s.length2 = 0)
                    : (s.start2--, (s.length2 = parseInt(o[4], 10))),
                  i++;
                for (var a = void 0, l = void 0, c = void 0; i < n.length; ) {
                  (a = n[i].charAt(0)), (c = n[i].substring(1));
                  try {
                    l = decodeURI(c);
                  } catch (e) {
                    throw new Error("Illegal escape in patch_fromText: " + c);
                  }
                  if ("-" === a) s.diffs.push([mF.DIFF_DELETE, l]);
                  else if ("+" === a) s.diffs.push([mF.DIFF_INSERT, l]);
                  else if (" " === a) s.diffs.push([mF.DIFF_EQUAL, l]);
                  else {
                    if ("@" === a) break;
                    if ("" !== a)
                      throw new Error(
                        'Invalid patch mode "' + a + '" in: ' + l
                      );
                  }
                  i++;
                }
              }
              return t;
            }),
            (e.prototype.diff_compute_ = function (e, t, n, i) {
              var r;
              if (!e) return [[mF.DIFF_INSERT, t]];
              if (!t) return [[mF.DIFF_DELETE, e]];
              var o = e.length > t.length ? e : t,
                s = e.length > t.length ? t : e,
                a = o.indexOf(s);
              if (-1 !== a)
                return (
                  (r = [
                    [mF.DIFF_INSERT, o.substring(0, a)],
                    [mF.DIFF_EQUAL, s],
                    [mF.DIFF_INSERT, o.substring(a + s.length)],
                  ]),
                  e.length > t.length &&
                    ((r[0][0] = mF.DIFF_DELETE), (r[2][0] = mF.DIFF_DELETE)),
                  r
                );
              if (1 === s.length)
                return [
                  [mF.DIFF_DELETE, e],
                  [mF.DIFF_INSERT, t],
                ];
              var l = this.diff_halfMatch_(e, t);
              if (l) {
                var c = l[0],
                  u = l[1],
                  h = l[2],
                  p = l[3],
                  d = l[4],
                  f = this.diff_main(c, h, n, i),
                  g = this.diff_main(u, p, n, i);
                return f.concat([[mF.DIFF_EQUAL, d]], g);
              }
              return n && e.length > 100 && t.length > 100
                ? this.diff_lineMode_(e, t, i)
                : this.diff_bisect_(e, t, i);
            }),
            (e.prototype.diff_lineMode_ = function (e, t, n) {
              var i = this.diff_linesToChars_(e, t);
              (e = i.chars1), (t = i.chars2);
              var r = i.lineArray,
                o = this.diff_main(e, t, !1, n);
              this.diff_charsToLines_(o, r),
                this.diff_cleanupSemantic(o),
                o.push([mF.DIFF_EQUAL, ""]);
              for (var s = 0, a = 0, l = 0, c = "", u = ""; s < o.length; ) {
                switch (o[s][0]) {
                  case mF.DIFF_INSERT:
                    l++, (u += o[s][1]);
                    break;
                  case mF.DIFF_DELETE:
                    a++, (c += o[s][1]);
                    break;
                  case mF.DIFF_EQUAL:
                    if (a >= 1 && l >= 1) {
                      o.splice(s - a - l, a + l), (s = s - a - l);
                      for (
                        var h = this.diff_main(c, u, !1, n), p = h.length - 1;
                        p >= 0;
                        p--
                      )
                        o.splice(s, 0, h[p]);
                      s += h.length;
                    }
                    (l = 0), (a = 0), (c = ""), (u = "");
                }
                s++;
              }
              return o.pop(), o;
            }),
            (e.prototype.diff_bisect_ = function (e, t, n) {
              for (
                var i = e.length,
                  r = t.length,
                  o = Math.ceil((i + r) / 2),
                  s = o,
                  a = 2 * o,
                  l = new Array(a),
                  c = new Array(a),
                  u = 0;
                u < a;
                u++
              )
                (l[u] = -1), (c[u] = -1);
              (l[s + 1] = 0), (c[s + 1] = 0);
              for (
                var h = i - r,
                  p = h % 2 != 0,
                  d = 0,
                  f = 0,
                  g = 0,
                  m = 0,
                  v = 0;
                v < o && !(Date.now() > n);
                v++
              ) {
                for (var y = -v + d; y <= v - f; y += 2) {
                  for (
                    var b = s + y,
                      w = void 0,
                      k =
                        (w =
                          y === -v || (y !== v && l[b - 1] < l[b + 1])
                            ? l[b + 1]
                            : l[b - 1] + 1) - y;
                    w < i && k < r && e.charAt(w) === t.charAt(k);

                  )
                    w++, k++;
                  if (((l[b] = w), w > i)) f += 2;
                  else if (k > r) d += 2;
                  else if (p) {
                    if ((x = s + h - y) >= 0 && x < a && -1 !== c[x])
                      if (w >= (S = i - c[x]))
                        return this.diff_bisectSplit_(e, t, w, k, n);
                  }
                }
                for (var C = -v + g; C <= v - m; C += 2) {
                  for (
                    var x = s + C,
                      S = void 0,
                      E =
                        (S =
                          C === -v || (C !== v && c[x - 1] < c[x + 1])
                            ? c[x + 1]
                            : c[x - 1] + 1) - C;
                    S < i &&
                    E < r &&
                    e.charAt(i - S - 1) === t.charAt(r - E - 1);

                  )
                    S++, E++;
                  if (((c[x] = S), S > i)) m += 2;
                  else if (E > r) g += 2;
                  else if (!p) {
                    if ((b = s + h - C) >= 0 && b < a && -1 !== l[b]) {
                      k = s + (w = l[b]) - b;
                      if (w >= (S = i - S))
                        return this.diff_bisectSplit_(e, t, w, k, n);
                    }
                  }
                }
              }
              return [
                [mF.DIFF_DELETE, e],
                [mF.DIFF_INSERT, t],
              ];
            }),
            (e.prototype.diff_bisectSplit_ = function (e, t, n, i, r) {
              var o = e.substring(0, n),
                s = t.substring(0, i),
                a = e.substring(n),
                l = t.substring(i),
                c = this.diff_main(o, s, !1, r),
                u = this.diff_main(a, l, !1, r);
              return c.concat(u);
            }),
            (e.prototype.diff_linesToChars_ = function (e, t) {
              var n = [],
                i = {};
              return (
                (n[0] = ""),
                {
                  chars1: this.diff_linesToCharsMunge_(e, n, i, 4e4),
                  chars2: this.diff_linesToCharsMunge_(t, n, i, 65535),
                  lineArray: n,
                }
              );
            }),
            (e.prototype.diff_linesToCharsMunge_ = function (e, t, n, i) {
              for (
                var r = "", o = 0, s = -1, a = t.length;
                s < e.length - 1;

              ) {
                -1 === (s = e.indexOf("\n", o)) && (s = e.length - 1);
                var l = e.substring(o, s + 1);
                (n.hasOwnProperty ? n.hasOwnProperty(l) : void 0 !== n[l])
                  ? (r += String.fromCharCode(n[l]))
                  : (a === i && ((l = e.substring(o)), (s = e.length)),
                    (r += String.fromCharCode(a)),
                    (n[l] = a),
                    (t[a++] = l)),
                  (o = s + 1);
              }
              return r;
            }),
            (e.prototype.diff_charsToLines_ = function (e, t) {
              for (var n = 0; n < e.length; n++) {
                for (var i = e[n][1], r = [], o = 0; o < i.length; o++)
                  r[o] = t[i.charCodeAt(o)];
                e[n][1] = r.join("");
              }
            }),
            (e.prototype.diff_commonOverlap_ = function (e, t) {
              var n = e.length,
                i = t.length;
              if (0 === n || 0 === i) return 0;
              n > i
                ? (e = e.substring(n - i))
                : n < i && (t = t.substring(0, n));
              var r = EF(n, i);
              if (e === t) return r;
              for (var o = 0, s = 1; ; ) {
                var a = e.substring(r - s),
                  l = t.indexOf(a);
                if (-1 === l) return o;
                (s += l),
                  (0 !== l && e.substring(r - s) !== t.substring(0, s)) ||
                    ((o = s), s++);
              }
            }),
            (e.prototype.diff_halfMatch_ = function (e, t) {
              if (this.diffTimeout <= 0) return null;
              var n = e.length > t.length ? e : t,
                i = e.length > t.length ? t : e;
              if (n.length < 4 || 2 * i.length < n.length) return null;
              var r,
                o,
                s,
                a,
                l,
                c = this.diff_halfMatchI_(n, i, Math.ceil(n.length / 4)),
                u = this.diff_halfMatchI_(n, i, Math.ceil(n.length / 2));
              if (!c && !u) return null;
              var h = (r = u ? (c && c[4].length > u[4].length ? c : u) : c)[4];
              return (
                e.length > t.length
                  ? ((o = r[0]), (s = r[1]), (a = r[2]), (l = r[3]))
                  : ((a = r[0]), (l = r[1]), (o = r[2]), (s = r[3])),
                [o, s, a, l, h]
              );
            }),
            (e.prototype.diff_halfMatchI_ = function (e, t, n) {
              for (
                var i,
                  r,
                  o,
                  s,
                  a = e.substring(n, n + Math.floor(e.length / 4)),
                  l = "",
                  c = t.indexOf(a, 0);
                -1 !== c;

              ) {
                var u = this.diff_commonPrefix(e.substring(n), t.substring(c)),
                  h = this.diff_commonSuffix(
                    e.substring(0, n),
                    t.substring(0, c)
                  );
                l.length < h + u &&
                  ((l = t.substring(c - h, c) + t.substring(c, c + u)),
                  (i = e.substring(0, n - h)),
                  (r = e.substring(n + u)),
                  (o = t.substring(0, c - h)),
                  (s = t.substring(c + u))),
                  (c = t.indexOf(a, c + 1));
              }
              return 2 * l.length >= e.length ? [i, r, o, s, l] : null;
            }),
            (e.prototype.diff_cleanupSemanticScore_ = function (e, t) {
              if (!e || !t) return 6;
              var n = e.charAt(e.length - 1),
                i = t.charAt(0),
                r = n.match(wF),
                o = i.match(wF),
                s = r && n.match(kF),
                a = o && i.match(kF),
                l = s && n.match(CF),
                c = a && i.match(CF),
                u = l && e.match(xF),
                h = c && t.match(SF);
              return u || h
                ? 5
                : l || c
                ? 4
                : r && !s && a
                ? 3
                : s || a
                ? 2
                : r || o
                ? 1
                : 0;
            }),
            (e.prototype.match_bitap_ = function (e, t, n) {
              if (t.length > this.matchMaxBits)
                throw new Error("Pattern too long for this browser");
              var i = this.match_alphabet_(t),
                r = this.matchThreshold,
                o = e.indexOf(t, n);
              -1 !== o &&
                ((r = EF(this.match_bitapScore_(0, o, t, n), r)),
                -1 !== (o = e.lastIndexOf(t, n + t.length)) &&
                  (r = EF(this.match_bitapScore_(0, o, t, n), r)));
              var s,
                a,
                l = 1 << (t.length - 1);
              o = -1;
              for (var c, u = t.length + e.length, h = 0; h < t.length; h++) {
                for (s = 0, a = u; s < a; )
                  this.match_bitapScore_(h, n + a, t, n) <= r
                    ? (s = a)
                    : (u = a),
                    (a = Math.floor((u - s) / 2 + s));
                u = a;
                var p = MF(1, n - a + 1),
                  d = EF(n + a, e.length) + t.length,
                  f = Array(d + 2);
                f[d + 1] = (1 << h) - 1;
                for (var g = d; g >= p; g--) {
                  var m = i[e.charAt(g - 1)];
                  if (
                    ((f[g] =
                      0 === h
                        ? ((f[g + 1] << 1) | 1) & m
                        : (((f[g + 1] << 1) | 1) & m) |
                          ((c[g + 1] | c[g]) << 1) |
                          1 |
                          c[g + 1]),
                    f[g] & l)
                  ) {
                    var v = this.match_bitapScore_(h, g - 1, t, n);
                    if (v <= r) {
                      if (((r = v), !((o = g - 1) > n))) break;
                      p = MF(1, 2 * n - o);
                    }
                  }
                }
                if (this.match_bitapScore_(h + 1, n, t, n) > r) break;
                c = f;
              }
              return o;
            }),
            (e.prototype.match_bitapScore_ = function (e, t, n, i) {
              var r = e / n.length,
                o = Math.abs(i - t);
              return this.matchDistance
                ? r + o / this.matchDistance
                : o
                ? 1
                : r;
            }),
            (e.prototype.match_alphabet_ = function (e) {
              for (var t = {}, n = 0; n < e.length; n++) t[e.charAt(n)] = 0;
              for (n = 0; n < e.length; n++)
                t[e.charAt(n)] |= 1 << (e.length - n - 1);
              return t;
            }),
            (e.prototype.patch_addContext_ = function (e, t) {
              if (0 !== t.length) {
                if (null == e.start2) throw Error("patch not initialized");
                for (
                  var n = t.substring(e.start2, e.start2 + e.length1), i = 0;
                  t.indexOf(n) !== t.lastIndexOf(n) &&
                  n.length <
                    this.matchMaxBits - this.patchMargin - this.patchMargin;

                )
                  (i += this.patchMargin),
                    (n = t.substring(e.start2 - i, e.start2 + e.length1 + i));
                i += this.patchMargin;
                var r = t.substring(e.start2 - i, e.start2);
                r && e.diffs.unshift([mF.DIFF_EQUAL, r]);
                var o = t.substring(
                  e.start2 + e.length1,
                  e.start2 + e.length1 + i
                );
                o && e.diffs.push([mF.DIFF_EQUAL, o]),
                  (e.start1 -= r.length),
                  (e.start2 -= r.length),
                  (e.length1 += r.length + o.length),
                  (e.length2 += r.length + o.length);
              }
            }),
            e
          );
        })(),
        AF = (function () {
          function e() {
            (this.diffs = []),
              (this.start1 = 0),
              (this.start2 = 0),
              (this.length1 = 0),
              (this.length2 = 0);
          }
          return (
            (e.prototype.toString = function () {
              for (
                var e,
                  t = [
                    "@@ -" +
                      (0 === this.length1
                        ? this.start1 + ",0"
                        : 1 === this.length1
                        ? this.start1 + 1
                        : this.start1 + 1 + "," + this.length1) +
                      " +" +
                      (0 === this.length2
                        ? this.start2 + ",0"
                        : 1 === this.length2
                        ? this.start2 + 1
                        : this.start2 + 1 + "," + this.length2) +
                      " @@\n",
                  ],
                  n = 0;
                n < this.diffs.length;
                n++
              ) {
                switch (this.diffs[n][0]) {
                  case mF.DIFF_INSERT:
                    e = "+";
                    break;
                  case mF.DIFF_DELETE:
                    e = "-";
                    break;
                  case mF.DIFF_EQUAL:
                    e = " ";
                }
                t[n + 1] = e + encodeURI(this.diffs[n][1]) + "\n";
              }
              return t.join("").replace(/%20/g, " ");
            }),
            e
          );
        })();
      function DF(e, t, n) {
        var i = new LF(),
          r = i.diff_main(e, t, !0, 0);
        r.length > 2 &&
          (i.diff_cleanupSemantic(r), i.diff_cleanupEfficiency(r));
        var o = i.patch_make(e, r);
        return i.patch_apply(o, n)[0];
      }
      var TF,
        PF = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            (n.lastSavedData = null),
              (n.saving = !1),
              (n.saveAgain = !1),
              (n.data = null),
              (n.dirty = !1);
            var i = Tt(n.save.bind(n), 2e3);
            return (
              (n.requestSave = function () {
                (n.dirty = !0), i();
              }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.onload = function () {
              e.prototype.onload.call(this);
              var t = this.app.vault;
              this.registerEvent(t.on("modify", this.onModify, this));
            }),
            (t.prototype.onUnloadFile = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.save(!0)];
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.onLoadFile = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return [4, this.loadFileInternal(e, !0)];
                    case 1:
                      return t.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.save = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      if (((this.dirty = !1), !(t = this.file) || t.deleted))
                        return [2];
                      if (this.saving) return e || (this.saveAgain = !0), [2];
                      if (
                        ((this.saveAgain = !1),
                        (n = this.getViewData()),
                        !t ||
                          this.lastSavedData === n ||
                          null === this.lastSavedData)
                      )
                        return [3, 6];
                      (i = this.lastSavedData),
                        e
                          ? ((this.data = null),
                            (this.lastSavedData = null),
                            this.clear())
                          : ((this.data = n), (this.lastSavedData = n)),
                        (this.saving = !0),
                        (o.label = 1);
                    case 1:
                      return (
                        o.trys.push([1, 4, 5, 6]),
                        [4, this.app.vault.adapter.promise]
                      );
                    case 2:
                      return o.sent(), [4, this.app.vault.modify(t, n)];
                    case 3:
                      return o.sent(), [3, 6];
                    case 4:
                      throw (
                        ((r = o.sent()),
                        (this.lastSavedData = i),
                        console.error(r),
                        new lw(
                          Lt("interface.msg-fail-to-save-file", {
                            filepath: t.path,
                            message: r.message,
                          }),
                          0
                        ),
                        r)
                      );
                    case 5:
                      return (
                        (this.saving = !1),
                        this.saveAgain && !e && this.save(),
                        [7]
                      );
                    case 6:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.onModify = function (e) {
              if (!this.saving && e === this.file) {
                var t = this.file;
                this.loadFileInternal(t, !1);
              }
            }),
            (t.prototype.loadFileInternal = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return e.saving
                        ? [4, this.app.vault.cachedRead(e)]
                        : [3, 2];
                    case 1:
                      return (n = o.sent()), [3, 4];
                    case 2:
                      return [4, this.app.vault.read(e)];
                    case 3:
                      (n = o.sent()), (o.label = 4);
                    case 4:
                      if (
                        ((i = this.lastSavedData),
                        (this.lastSavedData = n),
                        !t && i)
                      ) {
                        if (i === n) return [2];
                        if (this.dirty) {
                          if ((r = this.getViewData()) === n) return [2];
                          r !== i &&
                            ((n = DF(i, r, n)),
                            new lw(
                              Lt("interface.msg-file-changed", { file: e.path })
                            ));
                        }
                      }
                      return this.setData(n, t), [2];
                  }
                });
              });
            }),
            (t.prototype.setData = function (e, t) {
              (this.data !== e || t) &&
                ((this.data = e), this.setViewData(e, t));
            }),
            t
          );
        })(uw);
      !(function (e) {
        (e[(e.Showing = 0)] = "Showing"),
          (e[(e.Shown = 1)] = "Shown"),
          (e[(e.Hiding = 2)] = "Hiding"),
          (e[(e.Hidden = 3)] = "Hidden");
      })(TF || (TF = {}));
      var OF = [],
        FF = [],
        IF = 0,
        NF = null,
        BF = function () {
          for (var e = 0, t = OF; e < t.length; e++) {
            t[e].hide();
          }
          setTimeout(function () {
            for (var e = 0, t = FF; e < t.length; e++) {
              t[e].hide();
            }
          }, 5);
        },
        RF = function () {
          for (var e = 0, t = OF; e < t.length; e++) {
            t[e].hide();
          }
        },
        zF = function (e) {
          NF = { x: e.clientX, y: e.clientY };
        },
        HF = function () {
          if (NF)
            if (0 === FF.length)
              document.removeEventListener("click", BF),
                document.removeEventListener("contextmenu", RF),
                document.removeEventListener("mousemove", zF),
                clearInterval(IF),
                (IF = 0);
            else {
              for (
                var e = document.elementFromPoint(NF.x, NF.y), t = 0, n = FF;
                t < n.length;
                t++
              ) {
                n[t].detect(e);
              }
              for (var i = 0, r = FF; i < r.length; i++) {
                r[i].transition();
              }
            }
        },
        VF = function () {
          IF ||
            (document.addEventListener("click", BF),
            document.addEventListener("contextmenu", BF),
            document.addEventListener("mousemove", zF),
            (IF = window.setInterval(HF, 500)));
        },
        qF = (function (e) {
          function t(t, n, i) {
            void 0 === i && (i = 300);
            var r = e.call(this) || this;
            (r.onTarget = !0),
              (r.onHover = !1),
              (r.shownPos = null),
              (r.parent = t),
              (r.targetEl = n),
              (r.waitTime = i),
              (r.state = TF.Showing);
            var o = (r.hoverEl = createDiv("popover hover-popover")),
              s = (r.onMouseIn = r.onMouseIn.bind(r)),
              a = (r.onMouseOut = r.onMouseOut.bind(r));
            return (
              n &&
                (n.addEventListener("mouseover", s),
                n.addEventListener("mouseout", a)),
              o.addEventListener("mouseover", function (e) {
                Rt(e, o) && ((r.onHover = !0), r.transition());
              }),
              o.addEventListener("mouseout", function (e) {
                Rt(e, o) && ((r.onHover = !1), r.transition());
              }),
              (r.timer = window.setTimeout(r.show.bind(r), i)),
              OF.push(r),
              VF(),
              r
            );
          }
          return (
            M(t, e),
            (t.prototype.onMouseIn = function (e) {
              (this.targetEl && !Rt(e, this.targetEl)) ||
                ((this.onTarget = !0), this.transition());
            }),
            (t.prototype.onMouseOut = function (e) {
              (this.targetEl && !Rt(e, this.targetEl)) ||
                ((this.onTarget = !1), this.transition());
            }),
            (t.prototype.detect = function (e) {
              var t = this.targetEl,
                n = this.hoverEl;
              t && (this.onTarget = e === t || t.contains(e)),
                (this.onHover = e === n || n.contains(e));
            }),
            (t.prototype.shouldShow = function () {
              return this.shouldShowSelf() || this.shouldShowChild();
            }),
            (t.prototype.shouldShowSelf = function () {
              return this.onTarget || this.onHover;
            }),
            (t.prototype.shouldShowChild = function () {
              var e = this;
              return FF.some(function (t) {
                return (
                  t !== e &&
                  t.targetEl &&
                  e.hoverEl.contains(t.targetEl) &&
                  t.shouldShow()
                );
              });
            }),
            (t.prototype.transition = function () {
              var e = this,
                t = this.shouldShow(),
                n = this.state;
              t
                ? n === TF.Hiding &&
                  ((this.state = TF.Shown), clearTimeout(this.timer))
                : n === TF.Showing
                ? this.hide()
                : n === TF.Shown &&
                  ((this.state = TF.Hiding),
                  (this.timer = window.setTimeout(function () {
                    e.shouldShow() ? e.transition() : e.hide();
                  }, this.waitTime)));
            }),
            (t.prototype.show = function () {
              var e = this.targetEl;
              !e || document.body.contains(e)
                ? ((this.state = TF.Shown),
                  (this.timer = 0),
                  (this.shownPos = NF),
                  this.position(NF),
                  this.onShow(),
                  OF.remove(this),
                  FF.push(this),
                  VF(),
                  this.load())
                : this.hide();
            }),
            (t.prototype.hide = function () {
              var e = this,
                t = this,
                n = t.hoverEl,
                i = t.targetEl,
                r = t.timer;
              (this.state = TF.Hidden),
                OF.remove(this),
                FF.remove(this),
                clearTimeout(r),
                n.detach(),
                i &&
                  (i.removeEventListener("mouseover", this.onMouseIn),
                  i.removeEventListener("mouseout", this.onMouseOut)),
                (this.onTarget = !1),
                (this.onHover = !1),
                FF.filter(function (t) {
                  return t.targetEl && e.hoverEl.contains(t.targetEl);
                }).forEach(function (e) {
                  return e.hide();
                }),
                this.onHide(),
                this.unload();
            }),
            (t.prototype.onShow = function () {
              var e = this.parent;
              e.hoverPopover && e.hoverPopover.hide(), (e.hoverPopover = this);
            }),
            (t.prototype.onHide = function () {
              var e = this.parent;
              e.hoverPopover === this && (e.hoverPopover = null);
            }),
            (t.prototype.position = function (e) {
              void 0 === e && (e = this.shownPos);
              var t,
                n = this.hoverEl,
                i = this.targetEl;
              if (e)
                t = { top: e.y - 10, bottom: e.y + 10, left: e.x, right: e.x };
              else if (i) {
                var r = Eh(i, document.body);
                t = {
                  top: r.top,
                  bottom: r.top + i.offsetHeight,
                  left: r.left,
                  right: r.left + i.offsetWidth,
                };
              } else t = { top: 0, bottom: 0, left: 0, right: 0 };
              document.body.appendChild(n), xh(t, n, { gap: 10 });
            }),
            t
          );
        })(nm);
      function jF(e, t) {
        return e.length > t - 3 ? e.substring(0, t - 3) + "..." : e;
      }
      var UF = /\u00A0/g;
      function WF(e) {
        return e.replace(UF, " ");
      }
      function _F(e) {
        if (!e || "string" != typeof e) return null;
        var t = !0,
          n = e.split(".").map(function (e) {
            var n = parseInt(e);
            return isNaN(n) && (t = !1), n;
          });
        return t ? n : null;
      }
      function GF(e, t) {
        var n = _F(e),
          i = _F(t);
        return (
          !!i &&
          (!n ||
            (function (e, t) {
              for (var n = Math.min(e.length, t.length), i = 0; i < n; i++) {
                if (e[i] < t[i]) return !0;
                if (e[i] > t[i]) return !1;
              }
              return e.length < t.length || (e.length, t.length, !1);
            })(n, i))
        );
      }
      function KF(e, t, n) {
        return (
          n < 0 && (n += 1),
          n > 1 && (n -= 1),
          n < 1 / 6
            ? e + 6 * (t - e) * n
            : n < 0.5
            ? t
            : n < 2 / 3
            ? e + (t - e) * (2 / 3 - n) * 6
            : e
        );
      }
      function $F(e, t, n) {
        return (
          ((e = Math.round(255 * e)) << 16) |
          ((t = Math.round(255 * t)) << 8) |
          (n = Math.round(255 * n))
        );
      }
      function YF(e) {
        return {
          ctime: Math.round(e.birthtimeMs),
          mtime: Math.round(e.mtimeMs),
          size: e.size,
        };
      }
      var JF = window.process,
        QF = JF ? JF.platform : "",
        XF = "darwin" === QF,
        ZF = "win32" === QF,
        eI = XF || ZF,
        tI = (function () {
          function e(e) {
            (this.thingsHappening = Tt(this.kill.bind(this), 6e4, !0)),
              (this.basePath = e),
              (this.fs = window.require("original-fs")),
              (this.fsPromises = this.fs.promises),
              (this.path = window.require("path"));
            var t = window.require("electron");
            (this.ipcRenderer = t.ipcRenderer),
              (this.files = {}),
              (this.promise = Promise.resolve()),
              (this.watcher = null),
              (this.watchers = {}),
              (this.handler = null);
            try {
              this.btime = window.require("btime");
            } catch (e) {}
            this.insensitive = XF || ZF;
            try {
              this.testInsensitive();
            } catch (e) {
              console.error(e);
            }
          }
          return (
            (e.prototype.testInsensitive = function () {
              var e = this,
                t = e.fs,
                n = e.path,
                i = e.basePath,
                r = n.join(i, ".OBSIDIANTEST"),
                o = n.join(i, ".OBSIDIANTEST".toLowerCase());
              t.existsSync(r) && t.unlinkSync(r),
                t.writeFileSync(r, "", "utf8"),
                (this.insensitive = t.existsSync(o)),
                t.unlinkSync(r);
            }),
            (e.prototype.getName = function () {
              return this.path.basename(this.basePath);
            }),
            (e.prototype.getBasePath = function () {
              return this.basePath;
            }),
            (e.prototype.listAll = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (
                        (this.files["/"] = { type: "folder", realpath: "/" }),
                        [4, this.listRecursive("")]
                      );
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.listRecursive = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i, r, o, s;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (t = this.getFullRealPath(e)),
                        [4, this.fsPromises.readdir(t)]
                      );
                    case 1:
                      for (
                        n = a.sent(),
                          this.thingsHappening(),
                          i = [],
                          r = 0,
                          o = n;
                        r < o.length;
                        r++
                      )
                        (s = o[r]), i.push(this.listRecursiveChild(e, s));
                      return [4, Promise.all(i)];
                    case 2:
                      return a.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.listRecursiveChild = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return (
                        (n = ot("" === e ? t : e + "/" + t)),
                        (i = rt(n)),
                        this.trigger("raw", i),
                        Qe(i) ? [4, this.reconcileDeletion(n, i)] : [3, 2]
                      );
                    case 1:
                      return [2, o.sent()];
                    case 2:
                      return (
                        o.trys.push([2, 4, , 8]),
                        [4, this.reconcileFileInternal(n, i)]
                      );
                    case 3:
                      return o.sent(), [3, 8];
                    case 4:
                      return "ENOENT" !== (r = o.sent()).code
                        ? [3, 6]
                        : [4, this.reconcileDeletion(n, i, !0)];
                    case 5:
                      return o.sent(), [3, 7];
                    case 6:
                      throw r;
                    case 7:
                      return [3, 8];
                    case 8:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.mkdir = function (e) {
              var t = this;
              return this.queue(function () {
                return A(t, void 0, void 0, function () {
                  var t;
                  return D(this, function (n) {
                    switch (n.label) {
                      case 0:
                        return (
                          (t = this.getFullPath(e)),
                          [4, this.fsPromises.mkdir(t, { recursive: !0 })]
                        );
                      case 1:
                        return n.sent(), [4, this.reconcileInternalFile(e)];
                      case 2:
                        return n.sent(), [2];
                    }
                  });
                });
              });
            }),
            (e.prototype.trashSystem = function (e) {
              var t = this;
              return this.queue(function () {
                return A(t, void 0, void 0, function () {
                  var t;
                  return D(this, function (n) {
                    switch (n.label) {
                      case 0:
                        return (
                          (t = this.getFullPath(e)),
                          this.ipcRenderer.sendSync("trash", t)
                            ? [4, this.reconcileInternalFile(e)]
                            : [2, !1]
                        );
                      case 1:
                        return n.sent(), [2, !0];
                    }
                  });
                });
              });
            }),
            (e.prototype.trashLocal = function (e) {
              var t = this;
              return this.queue(function () {
                return A(t, void 0, void 0, function () {
                  var t, n, i, r, o, s;
                  return D(this, function (a) {
                    switch (a.label) {
                      case 0:
                        return (
                          (t = this.getFullPath(e)),
                          (n = this.getFullPath(".trash")),
                          [4, this.fsPromises.mkdir(n, { recursive: !0 })]
                        );
                      case 1:
                        a.sent(),
                          (i = this.path.extname(t)),
                          (r = this.path.basename(t, i)),
                          (o = this.path.join(n, r + i)),
                          (s = 1),
                          (a.label = 2);
                      case 2:
                        return [4, this._exists(o)];
                      case 3:
                        return a.sent()
                          ? (s++,
                            (o = this.path.join(n, r + " " + s + i)),
                            [3, 2])
                          : [3, 4];
                      case 4:
                        return [4, this.fsPromises.rename(t, o)];
                      case 5:
                        return a.sent(), [4, this.reconcileInternalFile(e)];
                      case 6:
                        return a.sent(), [2];
                    }
                  });
                });
              });
            }),
            (e.prototype.rmdir = function (e, t) {
              var n = this;
              return this.queue(function () {
                return A(n, void 0, void 0, function () {
                  var n;
                  return D(this, function (i) {
                    switch (i.label) {
                      case 0:
                        return (
                          (n = this.getFullPath(e)),
                          [
                            4,
                            this.fsPromises.rmdir(n, {
                              maxRetries: 5,
                              recursive: t,
                            }),
                          ]
                        );
                      case 1:
                        return i.sent(), [4, this.reconcileInternalFile(e)];
                      case 2:
                        return i.sent(), [2];
                    }
                  });
                });
              });
            }),
            (e.prototype.read = function (e) {
              var t = this;
              return this.queue(function () {
                var n = t.getFullPath(e);
                return t.fsPromises.readFile(n, "utf8");
              });
            }),
            (e.prototype.readBinary = function (e) {
              var t = this;
              return this.queue(function () {
                return A(t, void 0, void 0, function () {
                  var t;
                  return D(this, function (n) {
                    switch (n.label) {
                      case 0:
                        return (
                          (t = this.getFullPath(e)),
                          [4, this.fsPromises.readFile(t)]
                        );
                      case 1:
                        return [2, _(n.sent())];
                    }
                  });
                });
              });
            }),
            (e.prototype.write = function (e, t, n) {
              var i = this;
              return this.queue(function () {
                return A(i, void 0, void 0, function () {
                  var i;
                  return D(this, function (r) {
                    switch (r.label) {
                      case 0:
                        return (
                          (i = this.getFullPath(e)),
                          [4, this.fsPromises.writeFile(i, t, "utf8")]
                        );
                      case 1:
                        return r.sent(), [4, this.applyWriteOptions(i, n)];
                      case 2:
                        return r.sent(), [4, this.reconcileInternalFile(e)];
                      case 3:
                        return r.sent(), [2];
                    }
                  });
                });
              });
            }),
            (e.prototype.writeBinary = function (e, t, n) {
              var i = this;
              return this.queue(function () {
                return A(i, void 0, void 0, function () {
                  var i, r;
                  return D(this, function (o) {
                    switch (o.label) {
                      case 0:
                        return (
                          (i = this.getFullPath(e)),
                          (s = t),
                          (r = Buffer.from(s)),
                          [4, this.fsPromises.writeFile(i, r)]
                        );
                      case 1:
                        return o.sent(), [4, this.applyWriteOptions(i, n)];
                      case 2:
                        return o.sent(), [4, this.reconcileInternalFile(e)];
                      case 3:
                        return o.sent(), [2];
                    }
                    var s;
                  });
                });
              });
            }),
            (e.prototype.append = function (e, t, n) {
              var i = this;
              return this.queue(function () {
                return A(i, void 0, void 0, function () {
                  var i;
                  return D(this, function (r) {
                    switch (r.label) {
                      case 0:
                        return (
                          (i = this.getFullPath(e)),
                          [4, this.fsPromises.appendFile(i, t, "utf8")]
                        );
                      case 1:
                        return r.sent(), [4, this.applyWriteOptions(i, n)];
                      case 2:
                        return r.sent(), [4, this.reconcileInternalFile(e)];
                      case 3:
                        return r.sent(), [2];
                    }
                  });
                });
              });
            }),
            (e.prototype.applyWriteOptions = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return t
                        ? ((n = t.ctime),
                          (i = t.mtime),
                          (r = t.immediate),
                          n && this.btime && this.btime.btime(e, n),
                          i
                            ? [4, this.fsPromises.utimes(e, i / 1e3, i / 1e3)]
                            : [3, 2])
                        : [2];
                    case 1:
                      o.sent(), (o.label = 2);
                    case 2:
                      return r && r(), [2];
                  }
                });
              });
            }),
            (e.prototype.getResourcePath = function (e) {
              var t = this.getFullPath(e),
                n = 0,
                i = this.files[e];
              return (
                i && "file" === i.type && (n = i.mtime),
                n || (n = Date.now()),
                "app://local/" + encodeURIComponent(t) + "?" + n
              );
            }),
            (e.prototype.remove = function (e) {
              var t = this;
              return this.queue(function () {
                return A(t, void 0, void 0, function () {
                  var t;
                  return D(this, function (n) {
                    switch (n.label) {
                      case 0:
                        return (
                          (t = this.getFullPath(e)),
                          [4, this.fsPromises.unlink(t)]
                        );
                      case 1:
                        return n.sent(), [4, this.reconcileInternalFile(e)];
                      case 2:
                        return n.sent(), [2];
                    }
                  });
                });
              });
            }),
            (e.prototype.update = function (e) {
              var t = this;
              return this.queue(function () {
                return A(t, void 0, void 0, function () {
                  return D(this, function (t) {
                    switch (t.label) {
                      case 0:
                        return [4, this.reconcileInternalFile(e)];
                      case 1:
                        return t.sent(), [2];
                    }
                  });
                });
              });
            }),
            (e.prototype.rename = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n = this;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return e === t
                        ? [2]
                        : [
                            4,
                            this.queue(function () {
                              return A(n, void 0, void 0, function () {
                                var n, i, r, o, s, a, l, c, u, h;
                                return D(this, function (p) {
                                  switch (p.label) {
                                    case 0:
                                      return (
                                        (n = this.getFullPath(e)),
                                        (i = this.getFullPath(t)),
                                        [4, this._exists(i, !1)]
                                      );
                                    case 1:
                                      if (
                                        p.sent() &&
                                        (!this.insensitive ||
                                          e.toLowerCase() !== t.toLowerCase())
                                      )
                                        throw new Error(
                                          "Destination file already exists!"
                                        );
                                      return (
                                        (r = this.files[e]),
                                        (o = r ? r.realpath : null),
                                        [4, this.fsPromises.rename(n, i)]
                                      );
                                    case 2:
                                      return (
                                        p.sent(),
                                        r
                                          ? (delete this.files[e],
                                            (s = this.getRealPath(t)),
                                            (r.realpath = s),
                                            (this.files[t] = r),
                                            this.trigger("renamed", t, e),
                                            "folder" === r.type &&
                                            this.watchers.hasOwnProperty(e)
                                              ? (this.stopWatchPath(e),
                                                [4, this.startWatchPath(t)])
                                              : [3, 4])
                                          : [2]
                                      );
                                    case 3:
                                      p.sent(), (p.label = 4);
                                    case 4:
                                      if ("folder" === r.type)
                                        for (a in this.files)
                                          this.files.hasOwnProperty(a) &&
                                            a.startsWith(e + "/") &&
                                            ((l = a.slice(e.length)),
                                            (c = t + l),
                                            (u = this.files[a]),
                                            delete this.files[a],
                                            (h = u.realpath.slice(o.length)),
                                            (u.realpath = s + h),
                                            (this.files[c] = u),
                                            this.trigger("renamed", c, a));
                                      return [2];
                                  }
                                });
                              });
                            }),
                          ];
                    case 1:
                      return i.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.copy = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n = this;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return [
                        4,
                        this.queue(function () {
                          return A(n, void 0, void 0, function () {
                            var n, i;
                            return D(this, function (r) {
                              switch (r.label) {
                                case 0:
                                  return (
                                    (n = this.getFullPath(e)),
                                    (i = this.getFullPath(t)),
                                    [
                                      4,
                                      this.fsPromises.copyFile(
                                        n,
                                        i,
                                        this.fs.constants.COPYFILE_EXCL
                                      ),
                                    ]
                                  );
                                case 1:
                                  return (
                                    r.sent(), [4, this.reconcileInternalFile(t)]
                                  );
                                case 2:
                                  return r.sent(), [2];
                              }
                            });
                          });
                        }),
                      ];
                    case 1:
                      return i.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.exists = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n = this;
                return D(this, function (i) {
                  return [
                    2,
                    this.queue(function () {
                      var i = n.getFullPath(e);
                      return n._exists(i, t);
                    }),
                  ];
                });
              });
            }),
            (e.prototype._exists = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return (
                        r.trys.push([0, 2, , 3]), [4, this.fsPromises.access(e)]
                      );
                    case 1:
                      return r.sent(), [3, 3];
                    case 2:
                      return r.sent(), [2, !1];
                    case 3:
                      return t && this.insensitive
                        ? ((n = this.path.dirname(e)),
                          (i = this.path.basename(e)),
                          [4, this.fsPromises.readdir(n)])
                        : [3, 5];
                    case 4:
                      if (-1 === r.sent().indexOf(i)) return [2, !1];
                      r.label = 5;
                    case 5:
                      return [2, !0];
                  }
                });
              });
            }),
            (e.prototype.stat = function (e) {
              return A(this, void 0, Promise, function () {
                var t = this;
                return D(this, function (n) {
                  return [
                    2,
                    this.queue(function () {
                      return A(t, void 0, void 0, function () {
                        var t, n, i;
                        return D(this, function (r) {
                          switch (r.label) {
                            case 0:
                              (t = this.getFullPath(e)), (r.label = 1);
                            case 1:
                              return (
                                r.trys.push([1, 3, , 4]),
                                [4, this.fsPromises.stat(t)]
                              );
                            case 2:
                              return (n = r.sent()).isFile()
                                ? [2, L({ type: "file" }, YF(n))]
                                : n.isDirectory()
                                ? [2, L({ type: "folder" }, YF(n))]
                                : [3, 4];
                            case 3:
                              if ("ENOENT" !== (i = r.sent()).code) throw i;
                              return [3, 4];
                            case 4:
                              return [2, null];
                          }
                        });
                      });
                    }),
                  ];
                });
              });
            }),
            (e.prototype.list = function (e) {
              return A(this, void 0, Promise, function () {
                var t = this;
                return D(this, function (n) {
                  return [
                    2,
                    this.queue(function () {
                      return A(t, void 0, void 0, function () {
                        var t, n, i, r, o, s, a, l, c;
                        return D(this, function (u) {
                          switch (u.label) {
                            case 0:
                              return (
                                (t = this.getFullPath(e)),
                                [4, this.fsPromises.readdir(t)]
                              );
                            case 1:
                              (n = u.sent()),
                                (i = { folders: [], files: [] }),
                                (r = 0),
                                (o = n),
                                (u.label = 2);
                            case 2:
                              return r < o.length
                                ? ((s = o[r]),
                                  (a = ot("" === e ? s : e + "/" + s)),
                                  (l = rt(a)),
                                  [
                                    4,
                                    this.fsPromises.stat(
                                      this.getFullRealPath(a)
                                    ),
                                  ])
                                : [3, 5];
                            case 3:
                              (c = u.sent()).isFile() && i.files.push(l),
                                c.isDirectory() && i.folders.push(l),
                                (u.label = 4);
                            case 4:
                              return r++, [3, 2];
                            case 5:
                              return [2, i];
                          }
                        });
                      });
                    }),
                  ];
                });
              });
            }),
            (e.prototype.watch = function (e) {
              return A(this, void 0, Promise, function () {
                var t = this;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        this.stopWatch(),
                        (this.handler = e),
                        [4, this.startWatchPath("/")]
                      );
                    case 1:
                      return (
                        n.sent(),
                        [
                          2,
                          this.queue(function () {
                            return t.listAll();
                          }),
                        ]
                      );
                  }
                });
              });
            }),
            (e.prototype.stopWatch = function () {
              for (var e in this.watchers)
                this.watchers.hasOwnProperty(e) && this.stopWatchPath(e);
              this.handler = null;
            }),
            (e.prototype.startWatchPath = function (e) {
              return A(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  r,
                  o,
                  s = this;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (((t = this.getRealPath(e)), this.watchers[e]))
                        return [2];
                      (n = this.getFullPath(e)), (i = n), (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        [4, this.fsPromises.realpath(n)]
                      );
                    case 2:
                      return (i = a.sent()), [3, 4];
                    case 3:
                      return (
                        "ENOENT" !== (r = a.sent()).code && console.error(r),
                        [3, 4]
                      );
                    case 4:
                      return (
                        (o = this.fs.watch(n, {
                          persistent: !1,
                          encoding: "utf8",
                          recursive: eI,
                        })).on("change", function (e, n) {
                          var i = "/" === t ? n : t + "/" + n;
                          s.onFileChange(i);
                        }),
                        o.on("error", function () {
                          s.onFileChange(t);
                        }),
                        (this.watchers[e] = { watcher: o, resolvedPath: i }),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.stopWatchPath = function (e) {
              var t = this.watchers[e];
              t && (t.watcher.close(), delete this.watchers[e]);
            }),
            (e.prototype.onFileChange = function (e) {
              var t = this;
              e &&
                ((e = ot(e)),
                setTimeout(function () {
                  var n = rt(e);
                  t.queue(function () {
                    return t.reconcileFile(e, n, !1);
                  });
                }, 0));
            }),
            (e.prototype.reconcileInternalFile = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  return [2, this.reconcileFile(this.getRealPath(e), e)];
                });
              });
            }),
            (e.prototype.reconcileFile = function (e, t, n) {
              return (
                void 0 === n && (n = !0),
                A(this, void 0, Promise, function () {
                  var i, r, o, s, a;
                  return D(this, function (l) {
                    switch (l.label) {
                      case 0:
                        return (
                          this.trigger("raw", t),
                          Qe(t) ? [4, this.reconcileDeletion(e, t, n)] : [3, 2]
                        );
                      case 1:
                        return [2, l.sent()];
                      case 2:
                        return (i = Je(t)) && "/" !== i
                          ? this.files[t]
                            ? [3, 4]
                            : [4, this.reconcileFile(Je(e), i, n)]
                          : [3, 4];
                      case 3:
                        l.sent(), (l.label = 4);
                      case 4:
                        return (
                          l.trys.push([4, 9, , 13]),
                          (r = this.getFullRealPath(e)),
                          this.insensitive
                            ? ((o = this.path.dirname(r)),
                              (s = this.path.basename(t)),
                              [4, this.fsPromises.readdir(o)])
                            : [3, 7]
                        );
                      case 5:
                        return -1 !==
                          l
                            .sent()
                            .map(function (e) {
                              return WF(e).normalize("NFC");
                            })
                            .indexOf(s)
                          ? [3, 7]
                          : [4, this.reconcileDeletion(e, t, n)];
                      case 6:
                        return [2, l.sent()];
                      case 7:
                        return [4, this.reconcileFileInternal(e, t)];
                      case 8:
                        return l.sent(), [3, 13];
                      case 9:
                        return "ENOENT" !== (a = l.sent()).code
                          ? [3, 11]
                          : [4, this.reconcileDeletion(e, t, n)];
                      case 10:
                        return l.sent(), [3, 12];
                      case 11:
                        console.error(a), (l.label = 12);
                      case 12:
                        return [3, 13];
                      case 13:
                        return [2];
                    }
                  });
                })
              );
            }),
            (e.prototype.reconcileFileInternal = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return (
                        (n = this.getFullRealPath(e)),
                        [4, this.fsPromises.lstat(n)]
                      );
                    case 1:
                      return (i = r.sent()).isFile()
                        ? [4, this.reconcileFileCreation(e, t, i)]
                        : [3, 3];
                    case 2:
                      return r.sent(), [3, 7];
                    case 3:
                      return i.isDirectory()
                        ? [4, this.reconcileFolderCreation(e, t)]
                        : [3, 5];
                    case 4:
                      return r.sent(), [3, 7];
                    case 5:
                      return i.isSymbolicLink()
                        ? [4, this.reconcileSymbolicLinkCreation(e, t)]
                        : [3, 7];
                    case 6:
                      r.sent(), (r.label = 7);
                    case 7:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.reconcileFileCreation = function (e, t, n) {
              return A(this, void 0, Promise, function () {
                var i, r;
                return D(this, function (o) {
                  if (((i = YF(n)), (r = this.files[t]))) {
                    if (((r.realpath = e), "file" === r.type))
                      return (
                        (r.mtime === Math.round(n.mtimeMs) &&
                          r.size === n.size) ||
                          ((r.mtime = Math.round(n.mtimeMs)),
                          (r.size = n.size),
                          this.trigger("raw", t, t, i),
                          this.trigger("modified", t, t, i)),
                        [2]
                      );
                    this.removeFile(t);
                  }
                  return (
                    (this.files[t] = (function (e, t) {
                      return t.isFile()
                        ? {
                            type: "file",
                            realpath: e,
                            ctime: Math.round(t.birthtimeMs),
                            mtime: Math.round(t.mtimeMs),
                            size: t.size,
                          }
                        : t.isDirectory()
                        ? { type: "folder", realpath: e }
                        : void 0;
                    })(e, n)),
                    this.trigger("file-created", t, t, i),
                    [2]
                  );
                });
              });
            }),
            (e.prototype.reconcileFolderCreation = function (e, t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return this.files.hasOwnProperty(t)
                        ? [3, 4]
                        : ((this.files[t] = { type: "folder", realpath: e }),
                          this.trigger("folder-created", t),
                          eI ? [3, 2] : [4, this.startWatchPath(t)]);
                    case 1:
                      n.sent(), (n.label = 2);
                    case 2:
                      return [4, this.listRecursive(e)];
                    case 3:
                      return n.sent(), [3, 5];
                    case 4:
                      (this.files[t].realpath = e), (n.label = 5);
                    case 5:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.reconcileSymbolicLinkCreation = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i, r, o, s, a, l;
                return D(this, function (c) {
                  switch (c.label) {
                    case 0:
                      (n = this.getFullRealPath(e)), (c.label = 1);
                    case 1:
                      return (
                        c.trys.push([1, 3, , 4]),
                        [4, this.fsPromises.realpath(n)]
                      );
                    case 2:
                      return (i = c.sent()), [3, 4];
                    case 3:
                      return c.sent(), [2];
                    case 4:
                      if (
                        ((r = this.path.sep),
                        (o = this.watchers).hasOwnProperty(t))
                      )
                        o[t].resolvedPath = i;
                      else
                        for (s in o)
                          if (
                            o.hasOwnProperty(s) &&
                            s !== t &&
                            ((a = o[s].resolvedPath),
                            i === a ||
                              a.startsWith(i + r) ||
                              i.startsWith(a + r))
                          )
                            return [2];
                      return [4, this.fsPromises.stat(n)];
                    case 5:
                      return (l = c.sent()).isFile()
                        ? [4, this.reconcileFileCreation(e, t, l)]
                        : [3, 7];
                    case 6:
                      return c.sent(), [3, 11];
                    case 7:
                      return l.isDirectory()
                        ? eI
                          ? [4, this.startWatchPath(t)]
                          : [3, 9]
                        : [3, 11];
                    case 8:
                      c.sent(), (c.label = 9);
                    case 9:
                      return [4, this.reconcileFolderCreation(e, t)];
                    case 10:
                      c.sent(), (c.label = 11);
                    case 11:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.reconcileDeletion = function (e, t, n) {
              return (
                void 0 === n && (n = !0),
                A(this, void 0, Promise, function () {
                  var i,
                    r,
                    o = this;
                  return D(this, function (s) {
                    if ("/" === t) return this.trigger("closed", t), [2];
                    if (!(i = this.files[t])) return [2];
                    if (!n)
                      return (
                        setTimeout(function () {
                          o.queue(function () {
                            return o.reconcileFile(e, t);
                          });
                        }, 100),
                        [2]
                      );
                    if ("folder" === i.type)
                      for (r in (this.stopWatchPath(t), this.files))
                        this.files.hasOwnProperty(r) &&
                          r.startsWith(t + "/") &&
                          this.removeFile(r);
                    return this.removeFile(t), [2];
                  });
                })
              );
            }),
            (e.prototype.trigger = function (e, t, n, i) {
              this.handler && this.handler(e, t, n, i);
            }),
            (e.prototype.getRealPath = function (e) {
              for (var t = e; t; ) {
                if (this.files.hasOwnProperty(t)) {
                  var n = e.substr(t.length);
                  return this.files[t].realpath + n;
                }
                t = Je(t);
              }
              return e;
            }),
            (e.prototype.getFullPath = function (e) {
              var t = this.getRealPath(e);
              return this.getFullRealPath(t);
            }),
            (e.prototype.getFullRealPath = function (e) {
              return this.path.join(this.basePath, e);
            }),
            (e.prototype.kill = function () {
              this.killLastAction &&
                (this.killLastAction(
                  new Error("File system operation timed out.")
                ),
                (this.killLastAction = null));
            }),
            (e.prototype.queue = function (e) {
              var t = this,
                n = function () {
                  var n = new Promise(function (e, n) {
                    return (t.killLastAction = n);
                  });
                  return t.thingsHappening(), Promise.race([n, e()]);
                },
                i = this.promise.then(n, n);
              return (this.promise = i), i;
            }),
            (e.prototype.removeFile = function (e) {
              var t = this.files[e];
              delete this.files[e],
                t &&
                  ("file" === t.type
                    ? this.trigger("file-removed", e)
                    : "folder" === t.type && this.trigger("folder-removed", e));
            }),
            (e.readLocalFile = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return (t = window.require)
                        ? ((n = t("fs")), (i = _), [4, n.promises.readFile(e)])
                        : [3, 2];
                    case 1:
                      return [2, i.apply(void 0, [r.sent()])];
                    case 2:
                      return [2, null];
                  }
                });
              });
            }),
            (e.mkdir = function (e) {
              return A(this, void 0, Promise, function () {
                var t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (t = window.require)
                        ? [4, t("fs").promises.mkdir(e, { recursive: !0 })]
                        : [3, 2];
                    case 1:
                      return [2, n.sent()];
                    case 2:
                      return [2, null];
                  }
                });
              });
            }),
            e
          );
        })(),
        nI = function () {
          this.viewContainerEl = createDiv("pdf-container");
          var e = this.viewContainerEl.createDiv("pdf-scroll-container"),
            t = this.viewContainerEl.createDiv("pdf-controls");
          (this.previousPageEl = t.createDiv(
            "pdf-controls-pager mod-previous",
            function (e) {
              return Xy(e, mm, 16);
            }
          )),
            (this.pageInfoEl = t.createDiv("pdf-controls-page-info")),
            (this.nextPageEl = t.createDiv(
              "pdf-controls-pager mod-next",
              function (e) {
                return Xy(e, vm, 16);
              }
            )),
            (this.canvasEl = e.createEl("canvas", "pdf-canvas"));
        },
        iI = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            (i.dom = null),
              (i.pdfDoc = null),
              (i.pageNum = null),
              (i.app = t),
              (i.containerEl = n);
            var r = (i.dom = new nI());
            return (
              r.previousPageEl.addEventListener("click", function () {
                i.navigatePage(-1);
              }),
              r.nextPageEl.addEventListener("click", function () {
                i.navigatePage(1);
              }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.navigatePage = function (e) {
              var t = this.pdfDoc;
              if (this.pdfDoc) {
                var n = this.pageNum + e;
                n < 1 && (n = 1);
                var i = t._pdfInfo.numPages;
                n > i && (n = i), (this.pageNum = n), this.renderPage();
              }
            }),
            (t.prototype.renderPage = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r, o, s, a, l, c, u;
                return D(this, function (h) {
                  switch (h.label) {
                    case 0:
                      return (
                        (t = (e = this).pdfDoc),
                        (n = e.dom),
                        (i = e.pageNum),
                        t ? ((r = t._pdfInfo.numPages), [4, t.getPage(i)]) : [2]
                      );
                    case 1:
                      return (
                        (o = h.sent()),
                        (s = n.canvasEl.clientWidth),
                        (a =
                          (window.devicePixelRatio * s) /
                          o.getViewport({ scale: 1 }).width) < 1 && (a = 1),
                        (l = o.getViewport({ scale: a })),
                        (c = n.canvasEl.getContext("2d")),
                        (n.canvasEl.height = l.height),
                        (n.canvasEl.width = l.width),
                        n.pageInfoEl.setText(o.pageNumber + " / " + r),
                        (u = { canvasContext: c, viewport: l }),
                        [4, o.render(u).promise]
                      );
                    case 2:
                      return h.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.loadFile = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i, r, o, s, a, l, c, u;
                return D(this, function (h) {
                  switch (h.label) {
                    case 0:
                      return (
                        this.destroy(),
                        (i = (n = this).app),
                        (r = n.dom),
                        n.containerEl.append(r.viewContainerEl),
                        [4, i.vault.readBinary(e)]
                      );
                    case 1:
                      (o = h.sent()), (h.label = 2);
                    case 2:
                      return h.trys.push([2, 5, , 6]), [4, Jh.promise];
                    case 3:
                      return (
                        h.sent(),
                        (a = this),
                        [4, window.pdfjsLib.getDocument(o).promise]
                      );
                    case 4:
                      return (
                        (s = a.pdfDoc = h.sent()),
                        (this.pageNum = 1),
                        t &&
                          (l = t.match(/^#page=([0-9]+)/)) &&
                          ((c = parseInt(l[1])),
                          isNaN(c) ||
                            (this.pageNum = Math.clamp(
                              c,
                              1,
                              s._pdfInfo.numPages
                            ))),
                        this.renderPage(),
                        [3, 6]
                      );
                    case 5:
                      return (u = h.sent()), console.error(u), [3, 6];
                    case 6:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.onunload = function () {
              e.prototype.onunload.call(this), this.destroy();
            }),
            (t.prototype.destroy = function () {
              this.containerEl.empty();
              var e = this.pdfDoc;
              e && e.destroy(), (this.pdfDoc = null), (this.pageNum = null);
            }),
            t
          );
        })(nm),
        rI = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            return (i.app = t), (i.containerEl = n), i;
          }
          return (
            M(t, e),
            (t.prototype.loadFile = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return this.destroy(), [4, this.app.vault.readBinary(e)];
                    case 1:
                      return (
                        (n = o.sent()),
                        (i = this.url =
                          URL.createObjectURL(
                            new Blob([n], { type: "application/pdf" })
                          )),
                        ((r = this.containerEl.createEl("iframe")).src =
                          i + (t || "")),
                        (r.style.width = "100%"),
                        (r.style.height = "100%"),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.onunload = function () {
              e.prototype.onunload.call(this), this.destroy();
            }),
            (t.prototype.destroy = function () {
              this.containerEl.empty(), URL.revokeObjectURL(this.url);
            }),
            t
          );
        })(nm);
      function oI(e, t) {
        var n,
          i,
          r =
            null ===
              (i =
                null === (n = window.process) || void 0 === n
                  ? void 0
                  : n.versions) || void 0 === i
              ? void 0
              : i.electron;
        return r && String.isString(r) && GF("10.0.0", r)
          ? new rI(e, t)
          : new iI(e, t);
      }
      var sI,
        aI,
        lI = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.icon = Cm),
              (n.pdfRenderComponent = oI(n.app, n.contentEl)),
              n.addChild(n.pdfRenderComponent),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.getViewType = function () {
              return "pdf";
            }),
            (t.prototype.onLoadFile = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return [4, this.pdfRenderComponent.loadFile(e, "")];
                    case 1:
                      return t.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.setEphemeralState = function (t) {
              e.prototype.setEphemeralState.call(this, t);
              var n = t.subpath;
              n && this.pdfRenderComponent.loadFile(this.file, n);
            }),
            (t.prototype.onUnloadFile = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  return this.pdfRenderComponent.destroy(), [2];
                });
              });
            }),
            (t.VIEW_TYPE = "pdf"),
            t
          );
        })(uw),
        cI = (function (e) {
          function t(t, n, i, r) {
            var o = e.call(this) || this;
            return (
              (o.app = t),
              (o.containerEl = n),
              (o.file = i),
              (o.subpath = r),
              (o.pdfRenderComponent = oI(o.app, n)),
              o.addChild(o.pdfRenderComponent),
              o
            );
          }
          return (
            M(t, e),
            (t.prototype.loadFile = function () {
              return A(this, void 0, void 0, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [
                        4,
                        this.pdfRenderComponent.loadFile(
                          this.file,
                          this.subpath
                        ),
                      ];
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            t
          );
        })(nm),
        uI = "video",
        hI = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.getViewType = function () {
              return uI;
            }),
            (t.prototype.canAcceptExtension = function (e) {
              return We.contains(e);
            }),
            (t.prototype.onLoadFile = function (e) {
              return A(this, void 0, void 0, function () {
                var n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return (
                        (i = (n = this).app),
                        (r = n.contentEl).empty(),
                        (o = r.createDiv("video-container")),
                        [4, t.displayInEl(e, i, o)]
                      );
                    case 1:
                      return s.sent(), [2];
                  }
                });
              });
            }),
            (t.displayInEl = function (e, t, n) {
              return A(this, void 0, Promise, function () {
                var i;
                return D(this, function (r) {
                  return (i = t.vault.getResourcePath(e)), [2, It(n, i)];
                });
              });
            }),
            (t.VIEW_TYPE = uI),
            t
          );
        })(uw),
        pI = (function (e) {
          function t() {
            var t = e.call(this) || this;
            return (
              (t.viewByType = {}),
              (t.typeByExtension = {}),
              t.registerViewWithExtensions(Ge, IR.VIEW_TYPE, function (e) {
                return new IR(e);
              }),
              t.registerViewWithExtensions(je, fw.VIEW_TYPE, function (e) {
                return new fw(e);
              }),
              t.registerViewWithExtensions(Ue, pw.VIEW_TYPE, function (e) {
                return new pw(e);
              }),
              t.registerViewWithExtensions(We, hI.VIEW_TYPE, function (e) {
                return new hI(e);
              }),
              t.registerViewWithExtensions(_e, lI.VIEW_TYPE, function (e) {
                return new lI(e);
              }),
              t
            );
          }
          return (
            M(t, e),
            (t.prototype.registerView = function (e, t) {
              if (this.viewByType.hasOwnProperty(e))
                throw new Error(
                  'Attempting to register an existing view type "' + e + '"'
                );
              this.viewByType[e] = t;
            }),
            (t.prototype.unregisterView = function (e) {
              delete this.viewByType[e];
            }),
            (t.prototype.registerExtensions = function (e, t) {
              for (
                var n = this.typeByExtension, i = 0, r = e;
                i < r.length;
                i++
              ) {
                var o = r[i];
                if (n.hasOwnProperty(o))
                  throw new Error(
                    'Attempting to register an existing file extension "' +
                      o +
                      '"'
                  );
              }
              for (var s = 0, a = e; s < a.length; s++) {
                o = a[s];
                this.typeByExtension[o] = t;
              }
              this.trigger("extensions-updated");
            }),
            (t.prototype.unregisterExtensions = function (e) {
              for (var t = 0, n = e; t < n.length; t++) {
                var i = n[t];
                delete this.typeByExtension[i];
              }
              this.trigger("extensions-updated");
            }),
            (t.prototype.registerViewWithExtensions = function (e, t, n) {
              this.registerView(t, n), this.registerExtensions(e, t);
            }),
            (t.prototype.getViewCreatorByType = function (e) {
              return this.viewByType[e];
            }),
            (t.prototype.getTypeByExtension = function (e) {
              return this.typeByExtension[e];
            }),
            (t.prototype.isExtensionRegistered = function (e) {
              return this.typeByExtension.hasOwnProperty(e);
            }),
            (t.prototype.trigger = function (t) {
              for (var n = [], i = 1; i < arguments.length; i++)
                n[i - 1] = arguments[i];
              e.prototype.trigger.apply(this, P([t], n));
            }),
            (t.prototype.on = function (t, n, i) {
              return e.prototype.on.call(this, t, n, i);
            }),
            t
          );
        })(Sb);
      !(function (e) {
        (e.Documents = "DOCUMENTS"),
          (e.Data = "DATA"),
          (e.Cache = "CACHE"),
          (e.External = "EXTERNAL"),
          (e.ExternalStorage = "EXTERNAL_STORAGE");
      })(sI || (sI = {})),
        (function (e) {
          (e.UTF8 = "utf8"), (e.ASCII = "ascii"), (e.UTF16 = "utf16");
        })(aI || (aI = {}));
      var dI = window.Capacitor && "web" !== un.getPlatform(),
        fI = !!dI && "ios" === un.getPlatform(),
        gI = !!dI && "android" === un.getPlatform(),
        mI = dI ? hn("App") : null,
        vI = dI ? hn("Clipboard") : null,
        yI = dI ? hn("Filesystem") : null,
        bI = dI ? hn("SplashScreen") : null,
        wI = dI ? hn("StatusBar") : null,
        kI = dI ? hn("Device") : null,
        CI = dI ? hn("KeepAwake") : null,
        xI = dI ? hn("Keyboard") : null,
        SI = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            n.canDropAnywhere = !0;
            var i = (n.emptyStateEl = n.contentEl.createDiv("empty-state")),
              r = (n.clickableArea = i.createDiv("empty-state-container"));
            return (
              (n.emptyTitleEl = r.createDiv(
                {
                  cls: "empty-state-title",
                  text: Lt("interface.empty-state.no-file-open"),
                },
                function (e) {
                  e.createSpan("empty-state-close-button", function (e) {
                    Xy(e, Jm, 20),
                      e.addEventListener("click", function () {
                        n.leaf.detach();
                      });
                  });
                }
              )),
              (n.actionListEl = r.createDiv("empty-state-action-list")),
              n.app.dragManager.handleDrop(i, function (e, t, r) {
                var o = n.leaf.handleDrop(e, t, r);
                if (o)
                  return (o.hoverEl = i), (o.hoverClass = "is-highlighted"), o;
              }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.getDisplayText = function () {
              return "";
            }),
            (t.prototype.getViewType = function () {
              return "empty";
            }),
            (t.prototype.onOpen = function () {
              return A(this, void 0, Promise, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c = this;
                return D(this, function (u) {
                  return (
                    (t = (e = this).app),
                    (n = e.actionListEl).empty(),
                    (i = "file-explorer:new-file"),
                    (r = ""),
                    eb.isMobile ||
                      ((o = t.hotkeyManager.printHotkeyForCommand(i)) &&
                        (r = " (" + o + ")")),
                    n.createDiv(
                      {
                        cls: "empty-state-action",
                        text: Lt("interface.empty-state.create-new-file") + r,
                      },
                      function (e) {
                        e.addEventListener("click", function (e) {
                          t.commands.executeCommandById(i, e);
                        });
                      }
                    ),
                    t.vault.isEmpty() ||
                      ((s = "switcher:open"),
                      (a = ""),
                      eb.isMobile ||
                        ((l = t.hotkeyManager.printHotkeyForCommand(s)) &&
                          (a = " (" + l + ")")),
                      n.createDiv(
                        {
                          cls: "empty-state-action",
                          text: Lt("interface.empty-state.go-to-file") + a,
                        },
                        function (e) {
                          e.addEventListener("click", function (e) {
                            t.commands.executeCommandById(s, e);
                          });
                        }
                      ),
                      n.createDiv(
                        {
                          cls: "empty-state-action",
                          text:
                            Lt("interface.empty-state.see-recent-files") + a,
                        },
                        function (e) {
                          e.addEventListener("click", function (e) {
                            t.commands.executeCommandById(s, e);
                          });
                        }
                      )),
                    n.createDiv(
                      {
                        cls: "empty-state-action mod-close",
                        text: Lt("interface.empty-state.close"),
                      },
                      function (e) {
                        e.addEventListener("click", function () {
                          c.leaf.detach();
                        });
                      }
                    ),
                    [2]
                  );
                });
              });
            }),
            t
          );
        })(sw),
        EI = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            (i.canDropAnywhere = !0), (i.viewType = n);
            var r = i.emptyTitleEl;
            r.setText(Lt("interface.empty-state.unknown-pane-title")),
              r.createSpan("empty-state-close-button", function (e) {
                Xy(e, Jm, 20),
                  e.addEventListener("click", function () {
                    i.leaf.detach();
                  });
              });
            var o = createDiv({
              text: Lt("interface.empty-state.unknown-pane-desc", { type: n }),
            });
            return (
              nn(o, "This pane doesn't look like anything to me."),
              o.insertAfter(r),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.getDisplayText = function () {
              return "";
            }),
            (t.prototype.getViewType = function () {
              return this.viewType;
            }),
            (t.prototype.getState = function () {
              return this.state;
            }),
            (t.prototype.setState = function (e, t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  return (this.state = e), [2];
                });
              });
            }),
            t
          );
        })(SI),
        MI = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            (i.parentSplit = null),
              (i.containerEl = null),
              (i.tabHeaderEl = null),
              (i.tabHeaderInnerIconEl = null),
              (i.dimension = null),
              (i.component = new nm()),
              (i.app = t.app),
              (i.workspace = t),
              (i.id = n || Oe(16));
            var r = (i.containerEl = createDiv()),
              o = (i.resizeHandleEl = r.createEl(
                "hr",
                "workspace-leaf-resize-handle"
              ));
            return (
              (i.tabHeaderEl = createDiv("workspace-tab-header")),
              i.tabHeaderEl.createDiv(
                "workspace-tab-header-inner",
                function (e) {
                  i.tabHeaderInnerIconEl = e.createDiv(
                    "workspace-tab-header-inner-icon"
                  );
                }
              ),
              i.component.load(),
              o.addEventListener("mousedown", i.onResizeStart.bind(i)),
              i.updateHeader(),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.serialize = function () {
              var e = { id: this.id, type: this.type };
              return this.dimension && (e.dimension = this.dimension), e;
            }),
            (t.prototype.onResizeStart = function (e) {
              if (0 === e.button) {
                var t = this.parentSplit;
                t instanceof AI && t.onChildResizeStart(this, e);
              }
            }),
            (t.prototype.setParent = function (e) {
              this.parentSplit = e;
            }),
            (t.prototype.getRoot = function () {
              for (var e = this; e.parentSplit; ) e = e.parentSplit;
              return e;
            }),
            (t.prototype.setDimension = function (e) {
              null !== e && (e <= 0 || e >= 100) && (e = null),
                (this.dimension = e);
              var t = this.containerEl,
                n = "";
              e && (n = String(e)), (t.style.flexGrow = n);
            }),
            (t.prototype.detach = function () {
              this.parentSplit && this.parentSplit.removeChild(this);
            }),
            (t.prototype.getIcon = function () {
              return dm;
            }),
            (t.prototype.updateHeader = function () {
              Xy(this.tabHeaderInnerIconEl, this.getIcon(), 17);
            }),
            t
          );
        })(Sb),
        LI = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.allowSingleChild = !1),
              (t.autoManageDOM = !0),
              (t.children = []),
              t
            );
          }
          return (
            M(t, e),
            (t.prototype.serialize = function () {
              var t = e.prototype.serialize.call(this);
              return (
                (t.children = this.children.map(function (e) {
                  return e.serialize();
                })),
                t
              );
            }),
            (t.prototype.replaceChild = function (e, t, n) {
              var i = this,
                r = i.workspace,
                o = i.autoManageDOM,
                s = i.containerEl,
                a = i.children;
              e < 0 && (e = 0), e >= a.length && (e = a.length);
              var l = a[e],
                c = l.containerEl.nextSibling;
              if (
                (o && l.containerEl.detach(), l.setParent(null), (a[e] = t), o)
              ) {
                var u = t.containerEl;
                s.insertBefore(u, c);
              }
              t.setParent(this),
                n || (this.recomputeChildrenDimensions(), r.onLayoutChange());
            }),
            (t.prototype.insertChild = function (e, t, n) {
              var i = this,
                r = i.workspace,
                o = i.autoManageDOM,
                s = i.containerEl,
                a = i.children;
              (e < 0 || e >= a.length) && (e = a.length);
              var l = a[e],
                c = l ? l.containerEl : null;
              if ((a.splice(e, 0, t), o)) {
                var u = t.containerEl;
                s.insertBefore(u, c);
              }
              t.setParent(this),
                n || (this.recomputeChildrenDimensions(), r.onLayoutChange());
            }),
            (t.prototype.removeChild = function (e, t) {
              var n = this,
                i = n.workspace,
                r = n.autoManageDOM,
                o = n.parentSplit,
                s = n.children;
              if (
                (s.remove(e), r && e.containerEl.detach(), e.setParent(null), o)
              )
                if (1 !== s.length || this.allowSingleChild) {
                  if (0 === s.length) return void o.removeChild(this, t);
                } else {
                  var a = s[0];
                  s.remove(a), r && a.containerEl.detach(), a.setParent(null);
                  var l = o.children.indexOf(this);
                  r && o.replaceChild(l, a, !0), a.setDimension(this.dimension);
                }
              t || (this.recomputeChildrenDimensions(), i.onLayoutChange());
            }),
            (t.prototype.recomputeChildrenDimensions = function () {}),
            t
          );
        })(MI),
        AI = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t, i) || this;
            return (
              (r.type = "split"),
              (r.direction = null),
              (r.resizeStartPos = null),
              (r.originalSizes = null),
              (r.isResizing = !1),
              (r.workspace = t),
              r.containerEl.addClass("workspace-split"),
              r.setDirection(n),
              r
            );
          }
          return (
            M(t, e),
            (t.prototype.serialize = function () {
              var t = e.prototype.serialize.call(this);
              return (t.direction = this.direction), t;
            }),
            (t.prototype.setDirection = function (e) {
              this.containerEl.removeClass("mod-" + this.direction),
                (this.direction = e),
                this.containerEl.addClass("mod-" + e);
            }),
            (t.prototype.recomputeChildrenDimensions = function () {
              for (
                var e = this.children, t = 0, n = 0, i = e;
                n < i.length;
                n++
              ) {
                if (null == (s = i[n]).dimension) {
                  t = null;
                  break;
                }
                t += s.dimension;
              }
              for (var r = 0, o = e; r < o.length; r++) {
                var s = o[r];
                null == t || isNaN(t)
                  ? s.setDimension(null)
                  : s.setDimension((100 * s.dimension) / t);
              }
              this.workspace.requestResize();
            }),
            (t.prototype.onChildResizeStart = function (e, t) {
              var n = this;
              this.resizeStartPos = { x: t.clientX, y: t.clientY };
              var i = function (t) {
                  var i = t.clientX,
                    r = t.clientY,
                    o = 0;
                  "vertical" === n.direction
                    ? (o = i - n.resizeStartPos.x)
                    : "horizontal" === n.direction &&
                      (o = r - n.resizeStartPos.y);
                  var s = n.children.indexOf(e);
                  if (
                    (n.isResizing ||
                      ((n.originalSizes = n.children.map(function (e) {
                        return n.getElSize(e.containerEl);
                      })),
                      (n.isResizing = !0)),
                    n.isResizing)
                  ) {
                    var a = n.children.slice(0, s + 1),
                      l = n.children.slice(s + 1);
                    if ((a.reverse(), o > 0)) {
                      var c = n.resizeItemsByDiff(l, o, 1);
                      Math.abs(o) > c && (o = c), n.resizeItemsByDiff(a, o, -1);
                    } else {
                      c = n.resizeItemsByDiff(a, o, -1);
                      Math.abs(o) > c && (o = -c), n.resizeItemsByDiff(l, o, 1);
                    }
                    t.preventDefault();
                  }
                },
                r = function () {
                  try {
                    n.finishResize();
                  } catch (e) {
                    console.error(e);
                  }
                  document.removeEventListener("mousemove", i),
                    document.removeEventListener("mouseup", r);
                };
              document.addEventListener("mousemove", i),
                document.addEventListener("mouseup", r);
            }),
            (t.prototype.resizeItemsByDiff = function (e, t, n) {
              for (var i = 0, r = 0, o = e; r < o.length; r++) {
                var s = o[r],
                  a = this.children.indexOf(s),
                  l = this.originalSizes[a],
                  c = l - t * n,
                  u = l - (c = Math.max(200, c));
                (t -= u * n),
                  (i += Math.abs(u)),
                  this.setElSize(this.children[a].containerEl, c);
              }
              return i;
            }),
            (t.prototype.finishResize = function () {
              (this.isResizing = !1), (this.resizeStartPos = null);
              for (
                var e = this.children, t = [], n = 0, i = 0, r = e;
                i < r.length;
                i++
              ) {
                var o = r[i],
                  s = this.getElSize(o.containerEl);
                t.push(s), (n += s);
              }
              for (var a = 0; a < e.length; a++) {
                (o = e[a]), (s = t[a]);
                this.unsetElSize(o.containerEl);
                var l = (s / n) * 100;
                o.setDimension(l);
              }
              this.workspace.requestSaveLayout(),
                this.workspace.requestResize();
            }),
            (t.prototype.getElSize = function (e) {
              return "vertical" === this.direction
                ? e.offsetWidth
                : "horizontal" === this.direction
                ? e.offsetHeight
                : void 0;
            }),
            (t.prototype.setElSize = function (e, t) {
              return (
                (e.style.flex = "0 0 auto"),
                "vertical" === this.direction
                  ? (e.style.width = t + "px")
                  : "horizontal" === this.direction
                  ? (e.style.height = t + "px")
                  : void 0
              );
            }),
            (t.prototype.unsetElSize = function (e) {
              (e.style.flex = ""), (e.style.width = ""), (e.style.height = "");
            }),
            t
          );
        })(LI),
        DI = (function (e) {
          function t(t, n) {
            var i = e.call(this, t, n) || this;
            (i.type = "tabs"),
              (i.allowSingleChild = !0),
              (i.tabContainerEl = null),
              (i.tabHeaderEls = []),
              (i.currentTab = 0),
              (i.tabHeaderContainerEl = null),
              (i.tabsBeforeEl = null),
              (i.tabsInnerEl = null),
              (i.tabsAfterEl = null),
              (i.workspace = t),
              i.containerEl.addClass("workspace-tabs"),
              (i.tabContainerEl = i.containerEl.createDiv(
                "workspace-tab-container"
              ));
            var r = (i.tabHeaderContainerEl = i.containerEl.createDiv(
              "workspace-tab-header-container"
            ));
            return (
              (i.tabsBeforeEl = r.createDiv(
                "workspace-tab-container-before",
                function (e) {
                  e.createDiv("workspace-tab-header-inner");
                }
              )),
              (i.tabsInnerEl = r.createDiv("workspace-tab-container-inner")),
              (i.tabsAfterEl = r.createDiv(
                "workspace-tab-container-after",
                function (e) {
                  e.createDiv("workspace-tab-header-inner");
                }
              )),
              i.tabsInnerEl.on(
                "click",
                ".workspace-tab-header",
                function (e, t) {
                  var n = i.tabHeaderEls.indexOf(t);
                  -1 !== n && i.selectTabIndex(n);
                }
              ),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.serialize = function () {
              var t = e.prototype.serialize.call(this);
              return this.currentTab > 0 && (t.currentTab = this.currentTab), t;
            }),
            (t.prototype.selectTabIndex = function (e) {
              (this.currentTab = e),
                this.recomputeChildrenDimensions(),
                this.workspace.requestSaveLayout(),
                this.workspace.requestResize();
            }),
            (t.prototype.selectTab = function (e) {
              var t = this.children.indexOf(e);
              -1 !== t && this.selectTabIndex(t);
            }),
            (t.prototype.recomputeChildrenDimensions = function () {
              var e = this,
                t = e.resizeHandleEl,
                n = e.currentTab,
                i = e.tabsInnerEl,
                r = e.tabHeaderContainerEl,
                o = e.containerEl,
                s = e.children;
              if (0 !== s.length) {
                n < 0 && (n = 0),
                  n >= s.length && (n = s.length - 1),
                  n !== this.currentTab &&
                    ((this.currentTab = n),
                    this.workspace.requestSaveLayout(),
                    this.workspace.requestResize());
                for (var a = [], l = null, c = 0; c < s.length; c++) {
                  var u = s[c],
                    h = u.tabHeaderEl;
                  c === n
                    ? (h.addClass("is-active"), (l = u))
                    : h.removeClass("is-active"),
                    a.push(h);
                }
                l
                  ? (o.setChildrenInPlace([t, r, l.containerEl]),
                    i.setChildrenInPlace(a))
                  : o.empty(),
                  (this.tabHeaderEls = a),
                  this.updateDecorativeCurves();
              } else o.empty();
            }),
            (t.prototype.updateDecorativeCurves = function () {
              var e = this.currentTab,
                t = this.children;
              this.tabHeaderEls.forEach(function (e) {
                return e.removeClass("is-before-active", "is-after-active");
              }),
                this.tabsBeforeEl.removeClass("is-before-active"),
                this.tabsAfterEl.removeClass("is-after-active"),
                -1 !== e &&
                  (e > 0
                    ? this.tabHeaderEls[e - 1].addClass("is-before-active")
                    : this.tabsBeforeEl.addClass("is-before-active"),
                  e < t.length - 1
                    ? this.tabHeaderEls[e + 1].addClass("is-after-active")
                    : this.tabsAfterEl.addClass("is-after-active"));
            }),
            t
          );
        })(LI),
        TI = (function (e) {
          function t(t, n, i, r) {
            var o = e.call(this, t, n, r) || this;
            return (
              (o.size = 300),
              (o.collapsed = !1),
              (o.emptyStateEl = null),
              (o.side = i),
              o.containerEl.addClass("mod-" + i + "-split"),
              o.resizeHandleEl.addEventListener(
                "mousedown",
                o.onSidedockResizeStart.bind(o)
              ),
              (o.emptyStateEl = o.containerEl.createDiv(
                "workspace-sidedock-empty-state",
                function (e) {
                  e.createEl("p", {
                    cls: "u-muted",
                    text: Lt("interface.empty-sidebar"),
                  });
                }
              )),
              o.setSize(o.size),
              o
            );
          }
          return (
            M(t, e),
            (t.prototype.serialize = function () {
              var t = e.prototype.serialize.call(this);
              return (
                (t.width = this.size), this.collapsed && (t.collapsed = !0), t
              );
            }),
            (t.prototype.setSize = function (e) {
              (this.size = e), (this.containerEl.style.width = e + "px");
            }),
            (t.prototype.toggle = function () {
              this.collapsed ? this.expand() : this.collapse();
            }),
            (t.prototype.collapse = function () {
              this.collapsed = !0;
              var e = this,
                t = e.workspace,
                n = e.side,
                i = e.containerEl,
                r = e.resizeHandleEl;
              (i.style.width = "0"),
                (r.style.visibility = "hidden"),
                "left" === n
                  ? t.leftRibbon.setCollapsedState(!0)
                  : "right" === n && t.rightRibbon.setCollapsedState(!0),
                Vb(
                  i,
                  new Nb({ duration: 150 }).addProp(
                    "width",
                    this.size + "px",
                    "0"
                  ),
                  function () {
                    i.hide(), t.requestResize(), i.addClass("is-collapsed");
                  }
                ),
                t.requestSaveLayout();
            }),
            (t.prototype.expand = function () {
              this.collapsed = !1;
              var e = this,
                t = e.workspace,
                n = e.side,
                i = e.containerEl;
              (e.resizeHandleEl.style.visibility = "visible"),
                i.removeClass("is-collapsed"),
                "left" === n
                  ? t.leftRibbon.setCollapsedState(!1)
                  : "right" === n && t.rightRibbon.setCollapsedState(!1),
                i.show(),
                Vb(
                  i,
                  new Nb({ duration: 150 }).addProp(
                    "width",
                    "0",
                    this.size + "px"
                  ),
                  function () {
                    t.requestResize();
                  }
                ),
                t.requestSaveLayout();
            }),
            (t.prototype.onSidedockResizeStart = function (e) {
              var t = this;
              if (0 === e.button) {
                this.app.disableCssTransition();
                var n = function (e) {
                    var n = e.clientX,
                      i = 200,
                      r = t.containerEl.getBoundingClientRect();
                    "left" === t.side
                      ? ((i = n - r.x), (i += t.resizeHandleEl.offsetWidth / 2))
                      : "right" === t.side &&
                        ((i = r.x + r.width - n),
                        (i += t.resizeHandleEl.offsetWidth / 2));
                    var o = t.workspace.containerEl.clientWidth;
                    (i = Math.clamp(i, 100, Math.max(200, 0.8 * o))),
                      t.setSize(i),
                      e.preventDefault();
                  },
                  i = function (e) {
                    0 === e.button &&
                      (document.removeEventListener("mousemove", n),
                      document.removeEventListener("mouseup", i),
                      t.app.enableCssTransition(),
                      t.workspace.requestSaveLayout(),
                      t.workspace.requestResize());
                  };
                document.addEventListener("mousemove", n),
                  document.addEventListener("mouseup", i);
              }
            }),
            (t.prototype.recomputeChildrenDimensions = function () {
              e.prototype.recomputeChildrenDimensions.call(this),
                0 === this.children.length
                  ? (this.collapse(),
                    this.emptyStateEl.show(),
                    "right" === this.side && this.workspace.rightRibbon.hide())
                  : (this.emptyStateEl.hide(),
                    "right" === this.side && this.workspace.rightRibbon.show());
            }),
            t
          );
        })(AI),
        PI = (function (e) {
          function t(t, n) {
            var i = e.call(this, t.workspace, n) || this;
            (i.type = "leaf"),
              (i.view = null),
              (i.activeTime = 0),
              (i.group = null),
              (i.pinned = !1),
              (i.width = 0),
              (i.height = 0),
              (i.resizeObserver = null),
              (i.working = !1),
              (i.app = t);
            var r = i.containerEl;
            if (
              (r.addClass("workspace-leaf"),
              r.addEventListener("focusin", function (e) {
                i.app.workspace.setActiveLeaf(i);
              }),
              r.addEventListener("click", function (e) {
                i.app.workspace.setActiveLeaf(i);
              }),
              (i.view = new SI(i)),
              i.view.open(i.containerEl),
              i.tabHeaderEl.addEventListener("mousedown", function (e) {
                i.workspace.onDragLeaf(e, i);
              }),
              i.tabHeaderEl.addEventListener(
                "contextmenu",
                i.onOpenTabHeaderMenu.bind(i)
              ),
              window.ResizeObserver)
            ) {
              var o = Tt(i.onResize.bind(i), 20, !0);
              (i.resizeObserver = new ResizeObserver(function (e) {
                for (var t = 0, n = e; t < n.length; t++) {
                  if (n[t].target === r) {
                    var s = r.offsetWidth,
                      a = r.offsetHeight;
                    return void (
                      (s === i.width && a === i.height) ||
                      ((i.width = s), (i.height = a), o())
                    );
                  }
                }
              })).observe(r);
            }
            return i;
          }
          return (
            M(t, e),
            (t.prototype.serialize = function () {
              var t = e.prototype.serialize.call(this);
              return (
                this.pinned && (t.pinned = !0),
                (t.state = this.getViewState()),
                this.group && (t.group = this.group),
                t
              );
            }),
            (t.prototype.openFile = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return e
                        ? ((t = t || {}),
                          (n = this.view),
                          (i = this.app.viewRegistry.getTypeByExtension(
                            e.extension
                          )),
                          n &&
                            n instanceof cw &&
                            n.canAcceptExtension(e.extension) &&
                            (i = n.getViewType()),
                          i
                            ? (((r = t.state || {}).file = e.path),
                              (o = {
                                type: i,
                                state: r,
                                active: t.active,
                                group: t.group,
                              }),
                              [4, this.setViewState(o, t.eState)])
                            : (this.app.openWithDefaultApp(e.path), [2]))
                        : [2];
                    case 1:
                      return s.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.openLinkText = function (e, t, n) {
              return A(this, void 0, void 0, function () {
                var i, r, o, s, a, l, c, u, h;
                return D(this, function (p) {
                  switch (p.label) {
                    case 0:
                      (i = this.app), (p.label = 1);
                    case 1:
                      return (
                        p.trys.push([1, 6, , 7]),
                        (n = n || {}),
                        (r = SD(e)),
                        (o = r.path),
                        (s = r.subpath),
                        (a = i.metadataCache.getFirstLinkpathDest(o, t)),
                        (l = n.state || {}),
                        (c = n.eState || {}),
                        a ? (s && (c.subpath = s), [3, 4]) : [3, 2]
                      );
                    case 2:
                      return (
                        (u = null),
                        o.contains("/") ||
                          (u = i.fileManager.getNewFileParent(t)),
                        [4, i.fileManager.createNewMarkdownFile(u, o)]
                      );
                    case 3:
                      (a = p.sent()), (l.mode = "source"), (p.label = 4);
                    case 4:
                      return (
                        (c.focus = !0),
                        (n.state = l),
                        (n.eState = c),
                        this.workspace.setActiveLeaf(this, !1),
                        [4, this.openFile(a, n)]
                      );
                    case 5:
                      return p.sent(), [3, 7];
                    case 6:
                      return (
                        (h = p.sent()), new lw(h.message), console.error(h), [2]
                      );
                    case 7:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.open = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        (t = this.view),
                        e === t ? [2, e] : t ? [4, t.close()] : [3, 2]
                      );
                    case 1:
                      i.sent(), (i.label = 2);
                    case 2:
                      e || (e = new SI(this)), (this.view = e), (i.label = 3);
                    case 3:
                      return (
                        i.trys.push([3, 5, , 6]), [4, e.open(this.containerEl)]
                      );
                    case 4:
                      return i.sent(), [3, 6];
                    case 5:
                      return (
                        (n = i.sent()),
                        console.error("Failed to open view", n),
                        [3, 6]
                      );
                    case 6:
                      return [2, e];
                  }
                });
              });
            }),
            (t.prototype.highlight = function () {
              this.containerEl.addClass("is-highlighted");
            }),
            (t.prototype.unhighlight = function () {
              this.containerEl.removeClass("is-highlighted");
            }),
            (t.prototype.getViewState = function () {
              var e = this.view,
                t = this.pinned,
                n = { type: e.getViewType(), state: e.getState() };
              return t && (n.pinned = !0), n;
            }),
            (t.prototype.setViewState = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i, r, o, s;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (this.working) return [2];
                      (this.working = !0), (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, , 9, 10]),
                        (n = this.view),
                        (i = n ? n.getViewType() : ""),
                        (r = { history: !1, layout: !1, close: !1 }),
                        e.type === i
                          ? [3, 3]
                          : ((o = this.app.viewRegistry.getViewCreatorByType(
                              e.type
                            )),
                            (n = o
                              ? o(this)
                              : "string" != typeof e.type || "empty" === e.type
                              ? new SI(this)
                              : new EI(this, e.type)),
                            [4, this.open(n)])
                      );
                    case 2:
                      a.sent(),
                        (r.history = !0),
                        (r.layout = !0),
                        (a.label = 3);
                    case 3:
                      return (
                        a.trys.push([3, 5, , 6]),
                        [4, n.setState(e.state || {}, r)]
                      );
                    case 4:
                      return a.sent(), [3, 6];
                    case 5:
                      return (s = a.sent()), console.error(s), [3, 6];
                    case 6:
                      return r.close ? [4, this.open(new SI(this))] : [3, 8];
                    case 7:
                      return a.sent(), [2];
                    case 8:
                      return (
                        e.active &&
                          this.workspace.setActiveLeaf(this, !e.popstate, !0),
                        void 0 !== e.group && this.setGroupMember(e.group),
                        t && this.setEphemeralState(t),
                        e.popstate && (r.history = !1),
                        this.updateStateResult(r),
                        this.updateHeader(),
                        r.done && r.done(),
                        [3, 10]
                      );
                    case 9:
                      return (this.working = !1), [7];
                    case 10:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.getEphemeralState = function () {
              return this.view.getEphemeralState();
            }),
            (t.prototype.setEphemeralState = function (e) {
              this.view.setEphemeralState(e);
            }),
            (t.prototype.updateStateResult = function (e) {
              e.history
                ? this.workspace.recordHistory(this, !0)
                : this.workspace.requestSaveHistory(),
                e.layout && this.workspace.onLayoutChange();
            }),
            (t.prototype.togglePinned = function () {
              this.setPinned(!this.pinned);
            }),
            (t.prototype.setPinned = function (e) {
              (this.pinned = e),
                this.trigger("pinned-change", e),
                this.workspace.requestSaveLayout();
              var t = this.group;
              if (t)
                for (
                  var n = 0, i = this.workspace.getGroupLeaves(t);
                  n < i.length;
                  n++
                ) {
                  var r = i[n];
                  r.pinned !== e && r.togglePinned();
                }
            }),
            (t.prototype.setGroupMember = function (e) {
              if (e !== this) {
                var t = null;
                e && ((t = e.group) || ((t = Oe(16)), e.setGroup(t))),
                  this.setGroup(t);
              }
            }),
            (t.prototype.setGroup = function (e) {
              if (e !== this.group) {
                var t = this.pinned;
                if (!t)
                  for (
                    var n = 0, i = this.workspace.getGroupLeaves(e);
                    n < i.length;
                    n++
                  ) {
                    if (i[n].pinned) {
                      t = !0;
                      break;
                    }
                  }
                this.setPinned(t),
                  (this.group = e),
                  this.trigger("group-change", e),
                  this.workspace.requestUpdateGroups(),
                  this.workspace.requestSaveLayout();
              }
            }),
            (t.prototype.detach = function () {
              e.prototype.detach.call(this);
              var t = this.view,
                n = this.resizeObserver;
              t &&
                (this.workspace.pushUndoHistory(this),
                t.close(),
                (this.view = null)),
                n && n.disconnect();
            }),
            (t.prototype.updateHeader = function () {
              e.prototype.updateHeader.call(this),
                nn(this.tabHeaderEl, this.getDisplayText()),
                this.parentSplit instanceof OI &&
                  this.parentSplit.recomputeChildrenDimensions();
              var t = this.view ? this.view.getViewType() : "";
              this.tabHeaderEl.setAttr("data-type", t);
            }),
            (t.prototype.getIcon = function () {
              var t,
                n =
                  null === (t = this.view) || void 0 === t
                    ? void 0
                    : t.getIcon();
              return n || e.prototype.getIcon.call(this);
            }),
            (t.prototype.getDisplayText = function () {
              var e,
                t =
                  null === (e = this.view) || void 0 === e
                    ? void 0
                    : e.getDisplayText();
              return t || "";
            }),
            (t.prototype.onOpenTabHeaderMenu = function (e) {
              e.preventDefault();
              var t = this.view;
              if (t) {
                var n = new rw(this.app);
                t.onHeaderMenu(n), n.showAtMouseEvent(e);
              }
            }),
            (t.prototype.handleDrop = function (e, t, n) {
              if ("file" === t.type || "link" === t.type)
                return (
                  n ||
                    (this.workspace.setActiveLeaf(this),
                    "file" === t.type
                      ? this.openFile(t.file)
                      : this.openLinkText(t.linktext, t.sourcePath)),
                  {
                    action: Lt("interface.drag-and-drop.open-in-this-pane"),
                    dropEffect: "move",
                  }
                );
            }),
            (t.prototype.onResize = function () {
              this.view.onResize();
            }),
            (t.prototype.trigger = function (t) {
              for (var n = [], i = 1; i < arguments.length; i++)
                n[i - 1] = arguments[i];
              e.prototype.trigger.apply(this, P([t], n));
            }),
            (t.prototype.on = function (t, n, i) {
              return e.prototype.on.call(this, t, n, i);
            }),
            t
          );
        })(MI),
        OI = (function (e) {
          function t(n, i, r) {
            var o = e.call(this, n, r) || this;
            (o.type = "mobile-drawer"),
              (o.workspace = null),
              (o.allowSingleChild = !0),
              (o.autoManageDOM = !1),
              (o.currentTab = 0),
              (o.collapsed = !1),
              (o.isFullscreen = !1),
              (o.isPinned = !1),
              (o.containerEl = null),
              (o.backdropEl = null),
              (o.innerEl = null),
              (o.headerEl = null),
              (o.tabContainerEl = null),
              (o.tabOptionsEl = null),
              (o.activeTabEl = null),
              (o.activeTabHeaderEl = null),
              (o.activeTabIconEl = null),
              (o.activeTabTitleEl = null),
              (o.activeTabFullscreenEl = null),
              (o.activeTabContentEl = null),
              (o.pinIconEl = null),
              (o.side = i),
              (o.workspace = n),
              (o.collapsed = !0);
            var s = (o.containerEl =
              n.containerEl.createDiv("workspace-drawer"));
            s.hide();
            var a = (o.innerEl = s.createDiv("workspace-drawer-inner"));
            (o.backdropEl = createDiv(
              "workspace-drawer-backdrop",
              function (e) {
                e.addEventListener("click", o.collapse.bind(o));
              }
            )),
              (o.headerEl = a.createDiv("workspace-drawer-header"));
            var l = (o.tabContainerEl = a.createDiv(
              "workspace-drawer-tab-container"
            ));
            o.tabOptionsEl = l.createDiv("workspace-drawer-tab-options");
            var c = (o.activeTabEl = createDiv(
                "workspace-drawer-active-tab-container"
              )),
              u = (o.activeTabHeaderEl = c.createDiv(
                "workspace-drawer-active-tab-header"
              ));
            u.addEventListener("click", function (e) {
              e.defaultPrevented ||
                (o.isFullscreen
                  ? o.toggleTabFullscreen()
                  : o.selectTabIndex(-1));
            }),
              u.createDiv(
                "workspace-drawer-active-tab-back-icon",
                function (e) {
                  Xy(e, Nm, 22);
                }
              ),
              (o.activeTabIconEl = u.createDiv(
                "workspace-drawer-active-tab-icon"
              )),
              (o.activeTabTitleEl = u.createDiv(
                "workspace-drawer-active-tab-title"
              )),
              (o.activeTabFullscreenEl = u.createDiv(
                "workspace-drawer-active-tab-icon",
                function (e) {
                  Xy(e, ty, 22),
                    e.addEventListener("click", function (e) {
                      o.toggleTabFullscreen(), e.preventDefault();
                    });
                }
              )),
              (o.activeTabContentEl = c.createDiv(
                "workspace-drawer-active-tab-content"
              )),
              o.component.registerEvent(n.on("file-open", o.onFileOpen, o));
            var h = "left" === i ? 1 : -1;
            return (
              o.component.registerEvent(
                n.on("swipe", function (e) {
                  if (!o.isPinned && !(e.points > 1 || "x" !== e.direction)) {
                    var n = o,
                      r = n.containerEl,
                      s = n.backdropEl;
                    zb(r), zb(s);
                    var a = o.workspace.leftSplit,
                      l = o.workspace.rightSplit,
                      c = a.collapsed || (a instanceof t && a.isPinned),
                      u = l.collapsed || (l instanceof t && l.isPinned),
                      p =
                        c &&
                        u &&
                        (("left" === i && e.x > e.startX) ||
                          ("right" === i && e.x < e.startX));
                    if (o.collapsed) {
                      if (p) {
                        (o.collapsed = !1),
                          bh(),
                          r.show(),
                          o.workspace.containerEl.appendChild(s);
                        var d = r.offsetWidth;
                        e.registerCallback({
                          move: function (t) {
                            var n = Math.clamp(((t - e.startX) * h) / d, 0, 1);
                            (n = Math.clamp(n, 0, 1)),
                              (r.style.transform =
                                "translateX(" + -(1 - n) * d * h + "px)"),
                              (s.style.opacity = String(n));
                          },
                          cancel: function () {
                            (r.style.transform = ""),
                              r.hide(),
                              s.detach(),
                              (o.collapsed = !0);
                          },
                          finish: function (t, n, i) {
                            var a,
                              l = Math.clamp(((t - e.startX) * h) / d, 0, 1);
                            i * h > d / 2
                              ? (Vb(
                                  r,
                                  new Nb({
                                    duration: 200 * (a = 1 - l),
                                  }).addProp(
                                    "transform",
                                    null,
                                    "translateX(0)",
                                    ""
                                  )
                                ),
                                Vb(
                                  s,
                                  new Nb({
                                    duration: 150 * a,
                                    fn: "linear",
                                  }).addProp("opacity", null, "1", "")
                                ),
                                o.onExpand())
                              : ((o.collapsed = !0),
                                o.onCollapse(),
                                Vb(
                                  r,
                                  new Nb({ duration: 200 * (a = l) }).addProp(
                                    "transform",
                                    null,
                                    "translateX(" + -d * h + "px)",
                                    ""
                                  ),
                                  function () {
                                    r.hide();
                                  }
                                ),
                                Vb(
                                  s,
                                  new Nb({
                                    duration: 150 * a,
                                    fn: "linear",
                                  }).addProp("opacity", null, "0"),
                                  function () {
                                    s.detach();
                                  }
                                ));
                          },
                        });
                      }
                    } else {
                      var f = r.offsetWidth;
                      e.registerCallback({
                        move: function (t) {
                          var n = Math.clamp((-(t - e.startX) * h) / f, 0, 1);
                          (r.style.transform =
                            "translateX(" + -n * f * h + "px)"),
                            (s.style.opacity = String(1 - n));
                        },
                        cancel: function () {
                          (r.style.transform = ""), (s.style.opacity = "");
                        },
                        finish: function (t, n, i) {
                          var a,
                            l = Math.clamp((-(t - e.startX) * h) / f, 0, 1);
                          -i * h < f / 2
                            ? (Vb(
                                r,
                                new Nb({ duration: 200 * (a = l) }).addProp(
                                  "transform",
                                  null,
                                  "translateX(0)",
                                  ""
                                )
                              ),
                              Vb(
                                s,
                                new Nb({
                                  duration: 150 * a,
                                  fn: "linear",
                                }).addProp("opacity", null, "1", "")
                              ))
                            : ((o.collapsed = !0),
                              o.onCollapse(),
                              Vb(
                                r,
                                new Nb({ duration: 200 * (a = 1 - l) }).addProp(
                                  "transform",
                                  null,
                                  "translateX(" + -f * h + "px)",
                                  ""
                                ),
                                function () {
                                  r.hide();
                                }
                              ),
                              Vb(
                                s,
                                new Nb({
                                  duration: 150 * a,
                                  fn: "linear",
                                }).addProp("opacity", null, "0"),
                                function () {
                                  s.detach();
                                }
                              ));
                        },
                      });
                    }
                  }
                })
              ),
              o
            );
          }
          return (
            M(t, e),
            (t.prototype.serialize = function () {
              var t = e.prototype.serialize.call(this);
              return (
                -1 !== this.currentTab && (t.currentTab = this.currentTab),
                this.isPinned && (t.pinned = !0),
                t
              );
            }),
            (t.prototype.onFileOpen = function (e) {
              this.isFullscreen && this.toggleTabFullscreen(),
                this.collapsed || this.collapse();
            }),
            (t.prototype.expand = function () {
              (this.collapsed = !1), this.onExpand();
              var e = this.containerEl,
                t = this.backdropEl;
              e.show(), this.workspace.containerEl.appendChild(t), bh();
              var n = e.offsetWidth * ("left" === this.side ? -1 : 1);
              Vb(
                t,
                new Nb({ duration: 150, fn: "linear" }).addProp(
                  "opacity",
                  "0",
                  "1"
                )
              ),
                Vb(
                  e,
                  new Nb({ duration: 200 }).addProp(
                    "transform",
                    "translateX(" + n + "px)",
                    "translateX(0)",
                    ""
                  )
                ),
                this.workspace.requestSaveLayout();
            }),
            (t.prototype.onExpand = function () {}),
            (t.prototype.collapse = function () {
              if (!this.isPinned) {
                (this.collapsed = !0), this.onCollapse();
                var e = this.containerEl,
                  t = this.backdropEl,
                  n = e.offsetWidth * ("left" === this.side ? -1 : 1);
                Vb(
                  t,
                  new Nb({ duration: 150, fn: "linear" }).addProp(
                    "opacity",
                    "1",
                    "0"
                  ),
                  function () {
                    t.detach();
                  }
                ),
                  Vb(
                    e,
                    new Nb({ duration: 200 }).addProp(
                      "transform",
                      "translateX(0)",
                      "translateX(" + n + "px)",
                      ""
                    ),
                    function () {
                      e.hide();
                    }
                  ),
                  this.workspace.requestSaveLayout();
              }
            }),
            (t.prototype.onCollapse = function () {}),
            (t.prototype.toggle = function () {
              this.collapsed ? this.expand() : this.collapse();
            }),
            (t.prototype.selectTabIndex = function (e) {
              (this.currentTab = e),
                this.recomputeChildrenDimensions(),
                this.workspace.requestSaveLayout(),
                this.workspace.requestResize();
            }),
            (t.prototype.recomputeChildrenDimensions = function () {
              var e = this,
                t = this,
                n = t.innerEl,
                i = t.children,
                r = t.headerEl,
                o = t.currentTab,
                s = t.tabContainerEl,
                a = t.tabOptionsEl,
                l = t.activeTabEl,
                c = t.activeTabIconEl,
                u = t.activeTabTitleEl,
                h = t.activeTabContentEl;
              if (-1 !== o) {
                var p = i[o];
                p
                  ? (p instanceof PI
                      ? (Xy(c, p.getIcon(), 22), u.setText(p.getDisplayText()))
                      : (c.empty(), u.empty()),
                    h.setChildrenInPlace([p.containerEl]))
                  : (o = -1);
              }
              if (-1 === o) {
                a.empty();
                for (
                  var d = function (t) {
                      a.createDiv(
                        { cls: "workspace-drawer-tab-option-item" },
                        function (n) {
                          if (t instanceof PI) {
                            var r = t;
                            n.createDiv(
                              "workspace-drawer-tab-option-item-icon",
                              function (e) {
                                Xy(e, r.getIcon(), 22);
                              }
                            ),
                              n.createDiv({
                                cls: "workspace-drawer-tab-option-item-title",
                                text: r.getDisplayText(),
                              });
                          }
                          n.addEventListener("click", function () {
                            e.selectTabIndex(i.indexOf(t));
                          });
                        }
                      );
                    },
                    f = 0,
                    g = i;
                  f < g.length;
                  f++
                ) {
                  d(g[f]);
                }
              }
              if ("left" === this.side) {
                var m = this.workspace.leftRibbon.containerEl;
                m.removeClass("workspace-ribbon"),
                  m.addClass("workspace-drawer-ribbon"),
                  n.setChildrenInPlace([m, r, s]);
              } else "right" === this.side && n.setChildrenInPlace([r, s]);
              -1 === o ? Gb(s, a, "left") : Gb(s, l, "right");
            }),
            (t.prototype.openLeaf = function (e) {
              var t = this.children.indexOf(e);
              -1 !== t && this.selectTabIndex(t);
            }),
            (t.prototype.addHeaderButton = function (e, t) {
              return this.headerEl.createDiv(
                "workspace-drawer-header-icon",
                function (n) {
                  Xy(n, e, 26), n.addEventListener("click", t);
                }
              );
            }),
            (t.prototype.toggleTabFullscreen = function () {
              (this.isFullscreen = !this.isFullscreen),
                Xy(this.activeTabFullscreenEl, this.isFullscreen ? ny : ty, 22),
                (this.activeTabEl.style.transition = "unset"),
                this.activeTabEl.toggleClass(
                  "is-fullscreen",
                  this.isFullscreen
                );
            }),
            (t.prototype.pinDrawer = function () {
              (this.isPinned = !this.isPinned),
                Xy(this.pinIconEl, this.isPinned ? nv : qm, 22),
                this.containerEl.toggleClass("is-pinned", this.isPinned),
                this.backdropEl.toggle(!this.isPinned),
                this.isPinned || this.collapse(),
                this.isPinned && this.collapsed && this.expand(),
                this.workspace.requestSaveLayout();
            }),
            (t.collapseFor = function (e) {
              var n = e.getRoot();
              n instanceof t && n.collapse();
            }),
            t
          );
        })(LI),
        FI = (function (e) {
          function t(t, n) {
            var i = e.call(this, t, "left", n) || this;
            i.fileCountEl = null;
            var r = i.app.vault;
            return (
              i.headerEl.createDiv(
                "workspace-drawer-header-left",
                function (e) {
                  e.createDiv(
                    { cls: "workspace-drawer-header-name" },
                    function (e) {
                      e.createSpan({
                        cls: "workspace-drawer-header-name-text",
                        text: r.getName(),
                      });
                    }
                  ),
                    e.createDiv("workspace-drawer-header-info", function (e) {
                      (i.fileCountEl = e.createDiv()), i.updateInfo();
                    });
                }
              ),
              (i.pinIconEl = i.addHeaderButton(qm, function (e) {
                i.pinDrawer();
              })),
              i.containerEl.addClass("mod-left"),
              i.component.registerEvent(r.on("create", i.updateInfo.bind(i))),
              i.component.registerEvent(r.on("delete", i.updateInfo.bind(i))),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.updateInfo = function () {
              var e = this.app.vault,
                t = Lt("nouns.file-with-count", {
                  count: e.getRoot().getFileCount(),
                }),
                n = Lt("nouns.folder-with-count", {
                  count: e.getRoot().getFolderCount(),
                }),
                i = Lt("plugins.file-explorer.tooltip-folders-files-count", {
                  fileCount: t,
                  folderCount: n,
                });
              this.fileCountEl.setText(i);
            }),
            t
          );
        })(OI),
        II = (function (e) {
          function t(t, n) {
            var i = e.call(this, t, "right", n) || this;
            (i.fileNameEl = null), (i.fileInfoElToRenderer = []);
            var r = i.headerEl,
              o = t.mobileFileInfos;
            return (
              r.createDiv("workspace-drawer-header-left", function (e) {
                e.createDiv(
                  { cls: "workspace-drawer-header-name" },
                  function (e) {
                    i.fileNameEl = e.createDiv({
                      cls: "workspace-drawer-header-name-text",
                    });
                  }
                ),
                  e.createDiv("workspace-drawer-header-info", function (e) {
                    for (var t = 0, n = o; t < n.length; t++) {
                      var r = n[t],
                        s = e.createDiv("workspace-drawer-header-info-item");
                      i.fileInfoElToRenderer.push({
                        el: s,
                        renderer: r.renderCallback,
                      });
                    }
                  });
              }),
              i.containerEl.addClass("mod-right"),
              i.component.registerEvent(
                i.app.vault.on("rename", i.updateName.bind(i))
              ),
              i.component.registerEvent(t.on("file-open", i.onFileOpen, i)),
              i.component.registerEvent(
                t.on("quick-preview", i.onQuickPreview, i)
              ),
              (i.pinIconEl = i.addHeaderButton(qm, function (e) {
                i.pinDrawer();
              })),
              i.addHeaderButton(Vm, function (e) {
                var t = i.workspace.activeLeaf;
                t && t.view instanceof sw && t.view.onMoreOptions(e);
              }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.onFileOpen = function (t) {
              e.prototype.onFileOpen.call(this, t),
                this.updateName(t),
                this.updateInfo();
            }),
            (t.prototype.onQuickPreview = function (e) {
              this.app.workspace.getActiveFile() === e && this.updateInfo();
            }),
            (t.prototype.updateName = function (e) {
              e instanceof Ab && this.fileNameEl.setText(st(e.name));
            }),
            (t.prototype.updateInfo = function () {
              for (
                var e = 0, t = this.fileInfoElToRenderer;
                e < t.length;
                e++
              ) {
                var n = t[e];
                n.renderer(n.el);
              }
            }),
            t
          );
        })(OI),
        NI = 0.2,
        BI = function (e, t, n) {
          return void 0 === n && (n = 0.9), e * n + t * (1 - n);
        },
        RI = function (e, t) {
          return (
            (BI((e >> 16) & 255, (t >> 16) & 255) << 16) +
            (BI((e >> 8) & 255, (t >> 8) & 255) << 8) +
            (0 | BI(255 & e, 255 & t))
          );
        },
        zI = function (e, t) {
          return (
            t.right < e.left ||
            t.left > e.right ||
            t.bottom < e.top ||
            t.top > e.bottom
          );
        },
        HI = function (e, t, n) {
          return { left: e - n, right: e + n, top: t - n, bottom: t + n };
        },
        VI = function (e) {
          (e.style.margin = "0"),
            (e.style.padding = "0"),
            (e.style.border = "0"),
            (e.style.width = "100%"),
            (e.style.height = "100%"),
            (e.style.overflow = "hidden");
        },
        qI = {
          showAttachments: !1,
          hideUnresolved: !1,
          showOrphans: !0,
          showTags: !1,
          localFile: null,
          localJumps: 1,
          localInterlinks: !1,
          localForelinks: !0,
          localBacklinks: !0,
        };
      function jI(e) {
        return void 0 === e && (e = ""), { type: e, links: {} };
      }
      function UI(e) {
        if (!e) return jI();
        var t = jI(e.type);
        return e.color && (t.color = e.color), t;
      }
      var WI = { tag: !0 },
        _I = {
          fill: "color-fill",
          fillFocused: "color-fill-focused",
          fillTag: "color-fill-tag",
          fillUnresolved: "color-fill-unresolved",
          fillAttachment: "color-fill-attachment",
          arrow: "color-arrow",
          circle: "color-circle",
          line: "color-line",
          text: "color-text",
          fillHighlight: "color-fill-highlight",
          lineHighlight: "color-line-highlight",
        },
        GI = 100,
        KI = (function () {
          function e(e, t, n) {
            (this.x = null),
              (this.y = null),
              (this.fx = null),
              (this.fy = null),
              (this.forward = {}),
              (this.reverse = {}),
              (this.weight = 0),
              (this.color = null),
              (this.rendered = !1),
              (this.fadeAlpha = 0),
              (this.moveText = 0),
              (this.fontDirty = !1),
              (this.renderer = e),
              (this.id = t),
              (this.type = n);
          }
          return (
            (e.prototype.initGraphics = function () {
              if (this.rendered) return !1;
              this.rendered = !0;
              var e,
                t = this.renderer;
              (e = this.circle = new PIXI.Graphics()).beginFill(16777215),
                e.drawCircle(GI, GI, GI),
                e.endFill(),
                eb.isMobile &&
                  (e.beginFill(16777215, 1e-4),
                  e.drawCircle(GI, GI, 500),
                  e.endFill()),
                (e.pivot.x = GI),
                (e.pivot.y = GI),
                (e.interactive = !0),
                (e.buttonMode = !0),
                (e.zIndex = 1),
                e
                  .on("pointerdown", t.onPointerDown)
                  .on("pointerup", t.onPointerUp)
                  .on("pointerupoutside", t.onPointerUp)
                  .on("pointermove", t.onPointerMove)
                  .on("pointerover", t.onPointerOver)
                  .on("pointerout", t.onPointerOut)
                  .on("click", t.onClick)
                  .on("rightclick", t.onClick);
              var n = this.getFillColor();
              (e.alpha = n.a),
                (e.tint = n.rgb),
                t.hanger.addChild(e),
                t.nodePxLookup.set(e, this);
              var i = new PIXI.TextStyle(this.getTextStyle()),
                r = (this.text = new PIXI.Text(this.getDisplayText(), i));
              return (
                (r.resolution = 2),
                r.anchor.set(0.5, 0),
                (r.zIndex = 2),
                t.hanger.addChild(r),
                (this.fadeAlpha = 0),
                !0
              );
            }),
            (e.prototype.clearGraphics = function () {
              if (this.rendered) {
                this.rendered = !1;
                var e = this,
                  t = e.renderer,
                  n = e.circle,
                  i = e.highlight,
                  r = e.text;
                n &&
                  ((this.circle = null),
                  t.nodePxLookup.delete(n),
                  n.parent && n.parent.removeChild(n),
                  n.destroy()),
                  i &&
                    ((this.highlight = null),
                    i.parent && i.parent.removeChild(i),
                    i.destroy()),
                  r &&
                    ((this.text = null),
                    r.parent && r.parent.removeChild(r),
                    r.destroy());
              }
            }),
            (e.prototype.getTextStyle = function () {
              var e = this.renderer,
                t = this.getSize();
              return new PIXI.TextStyle({
                fontSize: 14 + t / 4,
                fill: e.colors.text.rgb,
                fontFamily: "Inter",
                wordWrap: !0,
                wordWrapWidth: 300,
                align: "center",
              });
            }),
            (e.prototype.render = function () {
              if (this.rendered) {
                var e = this,
                  t = e.renderer,
                  n = e.x,
                  i = e.y,
                  r = e.circle,
                  o = e.highlight,
                  s = e.text,
                  a = e.fadeAlpha,
                  l = e.moveText,
                  c = this.getSize(),
                  u = this.getFillColor(),
                  h = t.colors.text,
                  p = t.getHighlightNode(),
                  d = p === this,
                  f = t.nodeScale,
                  g = s.visible,
                  m = NI;
                (!p ||
                  d ||
                  this.forward.hasOwnProperty(p.id) ||
                  this.reverse.hasOwnProperty(p.id)) &&
                  (m = 1);
                var v = (a = this.fadeAlpha = BI(a, m)) * u.a,
                  y = t.textAlpha;
                (y *= a), d && (y = 1), (y *= h.a);
                var b = d ? 15 : 0;
                l = this.moveText = g ? BI(l, b) : b;
                var w = y > 0.001,
                  k = t.viewport,
                  C = d || !zI(k, HI(n, i, c * f + 1));
                if (
                  (w &&
                    (w =
                      d ||
                      !zI(k, {
                        left: n - 300,
                        right: n + 300,
                        top: i,
                        bottom: i + 200,
                      })),
                  (r.tint = RI(r.tint, u.rgb)),
                  (r.visible = C),
                  C &&
                    ((r.x = n),
                    (r.y = i),
                    (r.scale.x = r.scale.y = (c / 100) * f),
                    (r.alpha = v)),
                  (s.visible = w),
                  w &&
                    ((s.x = n),
                    (s.y = i + (c + 5) * f + l / t.scale),
                    (s.scale.x = s.scale.y = f),
                    d && t.scale < 1 && (s.scale.x = s.scale.y = 1 / t.scale),
                    (s.alpha = y)),
                  d)
                ) {
                  o ||
                    (((o = this.highlight = new PIXI.Graphics()).zIndex = 1),
                    t.hanger.addChild(o)),
                    (o.x = n),
                    (o.y = i),
                    (o.scale.x = o.scale.y = f),
                    o.clear();
                  var x = Math.max(1, 1 / t.scale / f),
                    S = t.colors.circle;
                  (o.alpha = S.a),
                    o.lineStyle(x, S.rgb, 1),
                    o.drawCircle(0, 0, c + x / 2);
                } else
                  o &&
                    (o.parent.removeChild(o),
                    o.destroy(),
                    (this.highlight = null));
                this.fontDirty &&
                  ((this.fontDirty = !1), (s.style = this.getTextStyle()));
              }
            }),
            (e.prototype.getFillColor = function () {
              var e = this,
                t = e.renderer,
                n = e.type,
                i = e.color;
              if (t.getHighlightNode() === this) return t.colors.fillHighlight;
              if ("focused" === n) {
                var r = t.colors.fillFocused;
                if (r.a > 0) return r;
              } else {
                if (i) return i;
                if ("tag" === n) return t.colors.fillTag;
                if ("unresolved" === n) return t.colors.fillUnresolved;
                if ("attachment" === n) return t.colors.fillAttachment;
              }
              return t.colors.fill;
            }),
            (e.prototype.getSize = function () {
              return (
                this.renderer.fNodeSizeMult *
                Math.max(8, Math.min(3 * Math.sqrt(this.weight + 1), 30))
              );
            }),
            (e.prototype.getDisplayText = function () {
              var e = this.id;
              return nt(e, "md") && (e = Xe(e)), e;
            }),
            (e.prototype.getRelated = function () {
              return Object.keys(this.forward).concat(
                Object.keys(this.reverse)
              );
            }),
            e
          );
        })(),
        $I = (function () {
          function e(e, t, n) {
            (this.rendered = !1),
              (this.renderer = e),
              (this.source = t),
              (this.target = n);
          }
          return (
            (e.prototype.initGraphics = function () {
              if (
                !this.rendered &&
                this.source.rendered &&
                this.target.rendered
              ) {
                this.rendered = !0;
                var e = this.renderer,
                  t = (this.px = new PIXI.Container());
                e.hanger.addChild(t);
                var n = (this.line = new PIXI.Sprite(PIXI.Texture.WHITE)),
                  i = e.colors.line;
                (n.alpha = NI * i.a), (n.tint = i.rgb), t.addChild(n);
                var r = (this.arrow = new PIXI.Graphics()),
                  o = e.colors.text;
                (r.alpha = NI * o.a),
                  (r.tint = o.rgb),
                  r.beginFill(16777215),
                  r.moveTo(0, 0),
                  r.lineTo(-4, -2),
                  r.lineTo(-3, 0),
                  r.lineTo(-4, 2),
                  r.lineTo(0, 0),
                  r.endFill(),
                  (r.zIndex = 1),
                  e.hanger.addChild(r);
              }
            }),
            (e.prototype.clearGraphics = function () {
              if (this.rendered) {
                this.rendered = !1;
                var e = this,
                  t = e.px,
                  n = e.line,
                  i = e.arrow;
                t &&
                  ((this.px = null),
                  t.parent && t.parent.removeChild(t),
                  t.destroy(),
                  (t.visible = !1)),
                  n && ((this.line = null), n.destroy(), (n.visible = !1)),
                  i &&
                    ((this.arrow = null),
                    i.parent && i.parent.removeChild(i),
                    i.destroy(),
                    (i.visible = !1));
              }
            }),
            (e.prototype.render = function () {
              if (this.rendered) {
                var e = this,
                  t = e.px,
                  n = e.line,
                  i = e.arrow,
                  r = e.renderer,
                  o = e.source,
                  s = e.target,
                  a = r.getHighlightNode(),
                  l = o === a || s === a,
                  c = NI;
                (a && !l) || (c = 1);
                var u = c * Math.clamp(2 * (r.scale - 0.3), 0, 1),
                  h = r.colors.line;
                l && (h = r.colors.lineHighlight);
                var p,
                  d,
                  f = r.colors.arrow,
                  g = !(
                    o.reverse.hasOwnProperty(s.id) &&
                    o.id.localeCompare(s.id) < 0
                  ),
                  m = r.fShowArrow,
                  v = r.fLineSizeMult / r.scale,
                  y = r.viewport,
                  b = HI(o.x, o.y, v),
                  w = HI(s.x, s.y, v),
                  k = !zI(
                    y,
                    ((p = b),
                    (d = w),
                    {
                      left: Math.min(p.left, d.left),
                      right: Math.max(p.right, d.right),
                      top: Math.min(p.top, d.top),
                      bottom: Math.max(p.bottom, d.bottom),
                    })
                  );
                if (
                  ((c *= h.a),
                  (u *= f.a),
                  (n.alpha = BI(n.alpha, c)),
                  (i.alpha = BI(i.alpha, u)),
                  (g = g && k),
                  (m = m && k && i.alpha > 0.001),
                  (n.visible = g),
                  (i.visible = m),
                  g || m)
                ) {
                  var C = s.x - o.x,
                    x = s.y - o.y,
                    S = Math.sqrt(C * C + x * x),
                    E = o.getSize() * r.nodeScale,
                    M = s.getSize() * r.nodeScale;
                  (i.visible = m = m && S > v),
                    g &&
                      ((t.x = o.x + (C * E) / S),
                      (t.y = o.y + (x * E) / S),
                      t.pivot.set(0, 0),
                      (t.rotation = Math.atan2(x, C)),
                      (n.x = 0),
                      (n.y = -v / 2),
                      (n.width = Math.max(0, S - E - M)),
                      (n.height = v),
                      (n.tint = RI(n.tint, h.rgb))),
                    (i.visible = m),
                    m &&
                      ((M += 1),
                      (i.x = s.x - (C * M) / S),
                      (i.y = s.y - (x * M) / S),
                      i.pivot.set(0, 0),
                      (i.rotation = Math.atan2(x, C)),
                      (i.scale.x = i.scale.y =
                        (2 * Math.sqrt(r.fLineSizeMult)) / r.scale),
                      (i.tint = f.rgb));
                }
              }
            }),
            e
          );
        })(),
        YI = (function () {
          function e(e) {
            (this.rendered = !1), (this.renderer = e);
          }
          return (
            (e.prototype.initGraphics = function () {
              var e = this.renderer;
              if (!this.text) {
                var t = (this.text = new PIXI.Text(
                  "Powered by Obsidian",
                  this.getTextStyle()
                ));
                t.anchor.set(1, 1),
                  (t.zIndex = 3),
                  (t.alpha = 0.5),
                  e.px.stage.addChild(t);
              }
            }),
            (e.prototype.clearGraphics = function () {
              var e = this.text;
              e &&
                e.parent &&
                ((this.text = null), e.parent.removeChild(e), e.destroy()),
                (this.rendered = !1);
            }),
            (e.prototype.render = function () {
              var e = this.renderer,
                t = this.text;
              (t.visible = !e.hidePowerTag), (t.alpha = e.colors.text.a);
              var n = e.px.renderer;
              (t.x = n.width / n.resolution),
                (t.y = n.height / n.resolution),
                this.rendered ||
                  ((this.rendered = !0),
                  (this.text.style = this.getTextStyle()));
            }),
            (e.prototype.getTextStyle = function () {
              return new PIXI.TextStyle({
                fontSize: 12,
                fill: this.renderer.colors.text.rgb,
                fontFamily: "Inter",
                wordWrap: !1,
                align: "right",
              });
            }),
            e
          );
        })(),
        JI = (function () {
          function e(e, t, n, i) {
            var r = this;
            (this.interactiveEl = null),
              (this.onNodeClick = null),
              (this.onNodeRightClick = null),
              (this.onNodeHover = null),
              (this.onNodeUnhover = null),
              (this.workerResults = null),
              (this.nodeLookup = {}),
              (this.nodes = []),
              (this.links = []),
              (this.dragNode = null),
              (this.highlightNode = null),
              (this.px = null),
              (this.hanger = null),
              (this.nodePxLookup = new Map()),
              (this.powerTag = null),
              (this.scale = 1),
              (this.nodeScale = 1),
              (this.textAlpha = 1),
              (this.targetScale = 1),
              (this.panX = 0),
              (this.panY = 0),
              (this.panvX = 0),
              (this.panvY = 0),
              (this.keyboardActions = {}),
              (this.panning = !1),
              (this.width = 0),
              (this.height = 0),
              (this.viewport = null),
              (this.zoomCenterX = 0),
              (this.zoomCenterY = 0),
              (this.hidePowerTag = !1),
              (this.fNodeSizeMult = 1),
              (this.fLineSizeMult = 1),
              (this.fTextShowMult = 1),
              (this.fShowArrow = !1),
              (this.mouseX = null),
              (this.mouseY = null),
              (this.colors = {}),
              (this.renderTimer = null),
              (this.hidePowerTag = n),
              PIXI.utils.skipHello(),
              (this.containerEl = e),
              this.testCSS();
            var o = (this.interactiveEl = e.createEl("canvas"));
            if (
              ((e.style.padding = "0"),
              (e.style.overflow = "hidden"),
              (e.style.position = "relative"),
              (o.style.position = "absolute"),
              (o.style.left = "0"),
              (o.style.top = "0"),
              VI(o),
              o.addEventListener("mousedown", function (e) {
                return e.preventDefault();
              }),
              o.addEventListener("wheel", this.onWheel.bind(this)),
              o.addEventListener("mousemove", this.onMouseMove.bind(this)),
              o.addEventListener("mouseout", this.onMouseMove.bind(this)),
              i || (i = new Worker("/sim.js", { name: "Graph Worker" })),
              (this.worker = i),
              (i.onmessage = function (e) {
                (r.workerResults = e.data), r.changed();
              }),
              t)
            ) {
              var s = (this.iframeEl = e.createEl("iframe"));
              VI(s),
                (s.onload = this.onIframeLoad.bind(this)),
                s.contentDocument && this.onIframeLoad();
            } else {
              var a = e.createEl("canvas");
              VI(a),
                setTimeout(function () {
                  a.getContext("2d")
                    ? r.initGraphics(a)
                    : setTimeout(function () {
                        r.initGraphics(a);
                      }, 300);
                }, 50);
            }
          }
          return (
            (e.prototype.destroy = function () {
              this.worker.terminate(), this.destroyGraphics();
            }),
            (e.prototype.onIframeLoad = function () {
              var e = this.iframeEl;
              e.contentWindow.onbeforeunload = this.onIframeUnload.bind(this);
              var t = e.contentDocument.body;
              VI(t), (t.innerHTML = "<canvas>");
              var n = t.firstChild;
              VI(n), this.destroyGraphics(), this.initGraphics(n);
            }),
            (e.prototype.onIframeUnload = function () {
              this.destroyGraphics();
            }),
            (e.prototype.onWheel = function (e) {
              if ((e.preventDefault(), this.px)) {
                var t = e.deltaY;
                1 === e.deltaMode ? (t *= 40) : 2 === e.deltaMode && (t *= 800);
                var n = this.targetScale;
                if (
                  ((n *= Math.pow(1.5, -t / 120)),
                  (this.targetScale = n),
                  n < this.scale)
                )
                  (this.zoomCenterX = 0), (this.zoomCenterY = 0);
                else {
                  var i = window.devicePixelRatio;
                  (this.zoomCenterX = e.offsetX * i),
                    (this.zoomCenterY = e.offsetY * i);
                }
                this.changed();
              }
            }),
            (e.prototype.onMouseMove = function (e) {
              "mouseout" === e.type
                ? (this.mouseX = this.mouseY = null)
                : ((this.mouseX = e.offsetX), (this.mouseY = e.offsetY));
            }),
            (e.prototype.initGraphics = function (e) {
              var t,
                n = this,
                i = this,
                r = i.iframeEl,
                o = i.interactiveEl,
                s = i.worker,
                a = window.WebGL2RenderingContext;
              try {
                r &&
                  r.contentWindow.WebGL2RenderingContext &&
                  (window.WebGL2RenderingContext =
                    r.contentWindow.WebGL2RenderingContext),
                  (t = this.px =
                    new PIXI.Application({
                      view: e,
                      antialias: !0,
                      transparent: !0,
                      autoStart: !1,
                    }));
              } finally {
                window.WebGL2RenderingContext = a;
              }
              t.renderer.plugins.interaction.setTargetElement(o),
                (t.renderer.plugins.interaction.useSystemTicker = !1);
              var l = null,
                c = this;
              (this.onPointerDown = function (e) {
                e.data.originalEvent.target === o &&
                  (v ||
                    ((this.dragging = !0),
                    (l = e.data.getLocalPosition(t.stage))));
              }),
                (this.onPointerUp = function (e) {
                  if (
                    (e.data.originalEvent instanceof TouchEvent &&
                      k(e.data.originalEvent),
                    this.dragging)
                  ) {
                    this.dragging = !1;
                    var t = c.getNodeFromGraphics(this);
                    if (t) {
                      var n = e.data.originalEvent;
                      l &&
                        c.onNodeClick &&
                        ((n instanceof MouseEvent &&
                          (0 === n.button || 1 === n.button) &&
                          !be(n)) ||
                          n instanceof TouchEvent) &&
                        c.onNodeClick(n, t.id, t.type),
                        (t.fx = null),
                        (t.fy = null),
                        s.postMessage({
                          alphaTarget: 0,
                          forceNode: { id: t.id, x: null, y: null },
                        });
                    }
                    (l = null), (c.dragNode = null), c.changed();
                  }
                }),
                (this.onClick = function (e) {
                  var t = e.data.originalEvent;
                  if (
                    2 === e.data.button ||
                    (t instanceof MouseEvent && be(t))
                  ) {
                    var n = c.getNodeFromGraphics(this);
                    n &&
                      c.onNodeRightClick &&
                      c.onNodeRightClick(e.data.originalEvent, n.id, n.type);
                  }
                }),
                (this.onPointerMove = function (e) {
                  if (this.dragging) {
                    var n = c.getNodeFromGraphics(this);
                    if (n) {
                      if (l) {
                        var i = e.data.getLocalPosition(t.stage),
                          r = i.x - l.x,
                          o = i.y - l.y;
                        r * r + o * o > 25 && (l = null);
                      }
                      var a = e.data.getLocalPosition(c.hanger);
                      (n.fx = a.x),
                        (n.fy = a.y),
                        s.postMessage({
                          alpha: 0.3,
                          alphaTarget: 0.3,
                          run: !0,
                          forceNode: { id: n.id, x: a.x, y: a.y },
                        }),
                        (c.dragNode = n),
                        c.changed();
                    }
                  }
                }),
                (this.onPointerOver = function (e) {
                  var t = (c.highlightNode = c.getNodeFromGraphics(this));
                  c.changed();
                  var n = e.data.originalEvent;
                  n instanceof MouseEvent &&
                    ((c.mouseX = n.offsetX), (c.mouseY = n.offsetY)),
                    c.onNodeHover && c.onNodeHover(n, t.id, t.type);
                }),
                (this.onPointerOut = function () {
                  (c.highlightNode = null),
                    c.changed(),
                    c.onNodeUnhover && c.onNodeUnhover();
                });
              var u = (this.hanger = new PIXI.Container()),
                h = (this.powerTag = new YI(this));
              this.onResize(), this.resetPan();
              var p = new PIXI.Graphics();
              p.beginFill(0),
                p.drawRect(0, 0, 1e4, 1e4),
                p.endFill(),
                (p.alpha = 0),
                (p.interactive = !0);
              var d = null,
                f = null,
                g = performance.now(),
                m = 0,
                v = null,
                y = null,
                b = 0,
                w = 0,
                k = function (e) {
                  for (
                    var t = performance.now(),
                      i = t - g,
                      r = Array.prototype.slice.call(e.touches),
                      o = null,
                      s = null,
                      a = 0,
                      u = r;
                    a < u.length;
                    a++
                  ) {
                    var h = u[a];
                    v && h.identifier === v.identifier && (o = h),
                      y && h.identifier === y.identifier && (s = h);
                  }
                  if (
                    (s && !o && ((v = y), (o = s), (y = null), (s = null)),
                    o
                      ? r.remove(o)
                      : r.length > 0 && ((o = r.first()), r.splice(0, 1)),
                    s
                      ? r.remove(s)
                      : r.length > 0 && ((s = r.first()), r.splice(0, 1)),
                    !l &&
                      !c.dragNode &&
                      v &&
                      o &&
                      v.identifier === o.identifier)
                  ) {
                    var p = window.devicePixelRatio;
                    if (y && s && y.identifier === s.identifier) {
                      var d = n.interactiveEl.getBoundingClientRect(),
                        f = ((v.clientX + y.clientX) / 2 - d.x) * p,
                        k = ((v.clientY + y.clientY) / 2 - d.y) * p,
                        C = ((o.clientX + s.clientX) / 2 - d.x) * p,
                        x = ((o.clientY + s.clientY) / 2 - d.y) * p,
                        S = v.clientX - y.clientX,
                        E = v.clientY - y.clientY,
                        M = o.clientX - s.clientX,
                        L = o.clientY - s.clientY,
                        A = S * S + E * E,
                        D = M * M + L * L;
                      if (0 !== A && 0 !== D) {
                        var T = Math.sqrt(D / A),
                          P = n.targetScale * T,
                          O = n.panX + (C - f),
                          F = n.panY + (x - k);
                        (n.zoomCenterX = C),
                          (n.zoomCenterY = x),
                          n.setPan(O, F),
                          (n.targetScale = P),
                          n.changed();
                      }
                      (b = 0), (w = 0);
                    } else {
                      var I = (o.clientX - v.clientX) * p,
                        N = (o.clientY - v.clientY) * p;
                      (m = BI(m, i, 0.8)),
                        (g = t),
                        (b = BI(b, I, 0.8)),
                        (w = BI(w, N, 0.8)),
                        n.setPan(n.panX + I, n.panY + N),
                        n.changed();
                    }
                  } else
                    (m = BI(m, i, 0.8)),
                      i < 100 && ((n.panvX = b / m), (n.panvY = w / m)),
                      (b = b = 0);
                  (v = o), (y = s);
                },
                C = function (e) {
                  if (e.data.originalEvent instanceof TouchEvent)
                    k(e.data.originalEvent);
                  else {
                    (d = null),
                      document.body.removeClass("is-grabbing"),
                      (n.panning = !1);
                    var t = performance.now() - g;
                    (m = BI(m, t, 0.8)),
                      t > 100
                        ? (n.panvX = n.panvY = 0)
                        : ((n.panvX /= m), (n.panvY /= m));
                  }
                };
              p
                .on("pointerdown", function (e) {
                  e.data.originalEvent instanceof TouchEvent
                    ? k(e.data.originalEvent)
                    : ((d = e.data.getLocalPosition(t.stage)),
                      (f = { x: u.x, y: u.y }),
                      document.body.addClass("is-grabbing"),
                      (n.panning = !0));
                })
                .on("pointerup", C)
                .on("pointerupoutside", C)
                .on("pointermove", function (e) {
                  if (e.data.originalEvent instanceof TouchEvent)
                    k(e.data.originalEvent);
                  else if (d) {
                    var i = e.data.getLocalPosition(t.stage),
                      r = f.x + i.x - d.x,
                      o = f.y + i.y - d.y,
                      s = performance.now();
                    (m = BI(m, s - g, 0.8)),
                      (g = s),
                      (n.panvX = BI(n.panvX, r - n.panX, 0.8)),
                      (n.panvY = BI(n.panvY, o - n.panY, 0.8)),
                      n.setPan(r, o),
                      n.changed();
                  }
                }),
                t.stage.addChild(p),
                t.stage.addChild(u),
                h.initGraphics(),
                this.updateZoom(),
                (this.renderCallback = function () {
                  if (((n.renderTimer = null), n.px && !(n.idleFrames > 60))) {
                    var e = n,
                      i = e.nodes,
                      r = e.links,
                      o = n.workerResults;
                    if (((n.workerResults = null), o))
                      for (
                        var s = o.id,
                          a = o.buffer,
                          l = new Float32Array(a),
                          p = 0;
                        p < s.length;
                        p++
                      ) {
                        (U = n.nodeLookup[s[p]]) &&
                          ((U.x = l[2 * p]),
                          (U.y = l[2 * p + 1]),
                          U.fx && (U.x = U.fx),
                          U.fy && (U.y = U.fy));
                      }
                    var d = n,
                      f = d.panning,
                      g = d.panvX,
                      m = d.panvY,
                      v = d.keyboardActions,
                      y = v.shift;
                    if (!f) {
                      (n.panX += (1e3 * g) / 60), (n.panY += (1e3 * m) / 60);
                      var b = 0,
                        w = 0;
                      v.up && (w += 1),
                        v.down && (w -= 1),
                        v.left && (b += 1),
                        v.right && (b -= 1),
                        (0 === b && 0 === w) || (n.idleFrames = 0);
                      var k = y ? 3 : 1;
                      (n.panvX = BI(g, b * k, 0.9)),
                        (n.panvY = BI(m, w * k, 0.9));
                    }
                    var C = 1 + (y ? 0.1 : 0.03),
                      x = !1;
                    if (
                      (v.zoomin && ((n.targetScale *= C), (x = !0)),
                      v.zoomout && ((n.targetScale /= C), (x = !0)),
                      x)
                    ) {
                      n.idleFrames = 0;
                      var S = window.devicePixelRatio;
                      (n.zoomCenterX = (n.width / 2) * S),
                        (n.zoomCenterY = (n.height / 2) * S);
                    }
                    n.updateZoom();
                    var E = n.scale,
                      M = -n.panX / E,
                      L = -n.panY / E,
                      A = M + (n.width / E) * window.devicePixelRatio,
                      D = L + (n.height / E) * window.devicePixelRatio;
                    n.viewport = { left: M, right: A, top: L, bottom: D };
                    for (
                      var T = (M + A) / 2,
                        P = (L + D) / 2,
                        O = [],
                        F = function (e, t) {
                          return e.dist - t.dist;
                        },
                        I = 0,
                        N = i;
                      I < N.length;
                      I++
                    ) {
                      if (!(U = N[I]).rendered) {
                        var B = (X = U.x - T) * X + (Z = U.y - P) * Z;
                        (O.length < 50 || B < O.last().dist) &&
                          (O.push({ node: U, dist: X * X + Z * Z }),
                          O.sort(F),
                          O.length > 50 && O.pop());
                      }
                    }
                    if (O.length > 0) {
                      for (var R = 0, z = O; R < z.length; R++) {
                        z[R].node.initGraphics();
                      }
                      n.idleFrames = 0;
                    }
                    for (var H = 0, V = r; H < V.length; H++) {
                      V[H].initGraphics();
                    }
                    for (var q = 0, j = i; q < j.length; q++) {
                      var U;
                      (U = j[q]).render();
                    }
                    for (var W = 0, _ = r; W < _.length; W++) {
                      _[W].render();
                    }
                    h.render(),
                      u.sortChildren(),
                      t.render(),
                      n.idleFrames++,
                      n.queueRender();
                    var G = n,
                      K = G.mouseX,
                      $ = G.mouseY,
                      Y = G.highlightNode;
                    if (null !== K && null !== $ && Y) {
                      var J = (K * window.devicePixelRatio - n.panX) / E,
                        Q = ($ * window.devicePixelRatio - n.panY) / E,
                        X = Y.x - J,
                        Z = Y.y - Q,
                        ee = Y.getSize() * n.nodeScale + 2;
                      X * X + Z * Z > ee * ee &&
                        ((n.highlightNode = null),
                        (n.idleFrames = 0),
                        c.onNodeUnhover && c.onNodeUnhover());
                    }
                  }
                }),
                this.queueRender();
            }),
            (e.prototype.destroyGraphics = function () {
              var e = this,
                t = e.iframeEl,
                n = e.px,
                i = e.links,
                r = e.nodes,
                o = e.powerTag;
              this.hanger = null;
              for (var s = 0, a = i; s < a.length; s++) {
                a[s].clearGraphics();
              }
              for (var l = 0, c = r; l < c.length; l++) {
                c[l].clearGraphics();
              }
              o && ((this.powerTag = null), o.clearGraphics()),
                n &&
                  (t &&
                    document.body.contains(t) &&
                    t.contentDocument &&
                    n.destroy(!0, {
                      children: !0,
                      texture: !0,
                      baseTexture: !0,
                    }),
                  (this.px = null)),
                cancelAnimationFrame(this.renderTimer),
                (this.renderTimer = null),
                (this.renderCallback = null),
                document.body.removeClass("is-grabbing");
            }),
            (e.prototype.zoomTo = function (e, t) {
              (this.targetScale = e),
                t
                  ? ((this.zoomCenterX = t.x), (this.zoomCenterY = t.y))
                  : (this.zoomCenterX = this.zoomCenterY = 0);
            }),
            (e.prototype.onResize = function () {
              var e = this,
                t = e.px,
                n = e.hanger,
                i = e.containerEl,
                r = e.interactiveEl,
                o = window.devicePixelRatio,
                s = i.clientWidth,
                a = i.clientHeight;
              if (((this.width = s), (this.height = a), t)) {
                var l = Math.round(s * o),
                  c = Math.round(a * o),
                  u = t.renderer,
                  h = u.width,
                  p = u.height;
                (u.view.style.width = s + "px"),
                  (u.view.style.height = a + "px"),
                  u.resize(l, c),
                  (r.width = s),
                  (r.height = a),
                  (t.renderer.plugins.interaction.resolution = 1 / o),
                  n &&
                    this.setPan(
                      this.panX + (l - h) / 2,
                      this.panY + (c - p) / 2
                    );
              }
              this.changed();
            }),
            (e.prototype.resetPan = function () {
              var e = window.devicePixelRatio;
              this.setPan((this.width / 2) * e, (this.height / 2) * e);
            }),
            (e.prototype.setData = function (e) {
              for (
                var t = this,
                  n = t.nodes,
                  i = t.nodeLookup,
                  r = t.links,
                  o = e.nodes,
                  s = {},
                  a = [],
                  l = [],
                  c = !1,
                  u = !1,
                  h = 0,
                  p = 0,
                  d = n;
                p < d.length;
                p++
              ) {
                var f = d[p];
                o.hasOwnProperty(f.id)
                  ? ((h = Math.max(h, f.x * f.x + f.y * f.y)), (s[f.id] = !1))
                  : (a.push(f), (c = !0));
              }
              var g = Math.sqrt(h),
                m = [];
              for (var v in o)
                if (o.hasOwnProperty(v)) {
                  var y = o[v];
                  if (i.hasOwnProperty(v)) {
                    var b = y.color || null;
                    (f = i[v]).color !== b && ((f.color = b), (u = !0)),
                      f.type !== y.type && ((f.type = y.type), (u = !0));
                  } else {
                    ((f = new KI(this, v, y.type)).color = y.color || null),
                      n.push(f),
                      (i[v] = f),
                      (c = !0),
                      m.push(f);
                  }
                }
              for (var v in o)
                if (o.hasOwnProperty(v) && i.hasOwnProperty(v)) {
                  f = i[v];
                  var w = o[v].links;
                  for (var k in f.forward)
                    f.forward.hasOwnProperty(k) &&
                      (w.hasOwnProperty(k) || (l.push(f.forward[k]), (c = !0)));
                  for (var k in w)
                    if (
                      w.hasOwnProperty(k) &&
                      !f.forward.hasOwnProperty(k) &&
                      i.hasOwnProperty(k)
                    ) {
                      var C = i[k],
                        x = new $I(this, f, C);
                      r.push(x),
                        (f.forward[C.id] = x),
                        (C.reverse[f.id] = x),
                        (c = !0);
                    }
                }
              for (
                var S = function (e) {
                    e.clearGraphics(),
                      r.remove(e),
                      delete e.source.forward[e.target.id],
                      delete e.target.reverse[e.source.id];
                  },
                  E = 0,
                  M = l;
                E < M.length;
                E++
              ) {
                S((x = M[E]));
              }
              for (var L = 0, A = a; L < A.length; L++) {
                (f = A[L]).clearGraphics(), n.remove(f), delete i[f.id];
                var D = f.forward,
                  T = f.reverse;
                for (var k in D) D.hasOwnProperty(k) && S(D[k]);
                for (var k in T) T.hasOwnProperty(k) && S(T[k]);
              }
              var P = m.length;
              if (P > 0)
                for (
                  var O = 60 * P * 60,
                    F = Math.sqrt(O / Math.PI + g * g) - g,
                    I = Math.sqrt(O),
                    N = 0,
                    B = m;
                  N < B.length;
                  N++
                ) {
                  for (
                    var R = 0, z = 0, H = 0, V = 0, q = (f = B[N]).getRelated();
                    V < q.length;
                    V++
                  ) {
                    var j = q[V];
                    if (i.hasOwnProperty(j)) {
                      var U = i[j];
                      null !== U.x &&
                        null !== U.y &&
                        ((R += U.x), (z += U.y), H++);
                    }
                  }
                  if (H > 0)
                    (f.x = R / H + (Math.random() - 0.5) * I),
                      (f.y = z / H + (Math.random() - 0.5) * I);
                  else {
                    var W = 2 * Math.random() * Math.PI,
                      _ = g + Math.sqrt(Math.random()) * F;
                    (f.x = _ * Math.cos(W)), (f.y = _ * Math.sin(W));
                  }
                  s[f.id] = [f.x, f.y];
                }
              var G = e.weights;
              for (var v in i)
                if (i.hasOwnProperty(v)) {
                  var K = (f = i[v]).weight;
                  (K = G
                    ? G.hasOwnProperty(v)
                      ? G[v]
                      : 0
                    : f.getRelated().length),
                    f.weight !== K && ((f.weight = K), (c = !0));
                }
              if (c) {
                for (var $ = [], Y = 0, J = r; Y < J.length; Y++) {
                  x = J[Y];
                  $.push([x.source.id, x.target.id]);
                }
                this.worker.postMessage({
                  nodes: s,
                  links: $,
                  alpha: 0.3,
                  run: !0,
                }),
                  this.changed();
              } else u && this.changed();
            }),
            (e.prototype.setRenderOptions = function (e) {
              var t = e.nodeSizeMultiplier,
                n = e.lineSizeMultiplier,
                i = e.showArrow,
                r = e.textFadeMultiplier;
              Number.isNumber(t) && (this.fNodeSizeMult = t),
                Number.isNumber(n) && (this.fLineSizeMult = n),
                Number.isNumber(r) && (this.fTextShowMult = r),
                isBoolean(i) && (this.fShowArrow = i),
                this.changed();
            }),
            (e.prototype.setForces = function (e) {
              this.worker.postMessage({ forces: e, alpha: 0.3, run: !0 });
            }),
            (e.prototype.getNodeFromGraphics = function (e) {
              return this.nodePxLookup.get(e);
            }),
            (e.prototype.getHighlightNode = function () {
              return this.dragNode || this.highlightNode;
            }),
            (e.prototype.updateZoom = function () {
              var e = this,
                t = e.scale,
                n = e.targetScale,
                i = e.panX,
                r = e.panY;
              if (
                (t > (n = this.targetScale = Math.min(8, Math.max(1 / 128, n)))
                  ? t / n
                  : n / t) -
                  1 >=
                0.01
              ) {
                var o = this.zoomCenterX,
                  s = this.zoomCenterY;
                if (0 === o && 0 === s) {
                  var a = window.devicePixelRatio;
                  (o = (this.width / 2) * a), (s = (this.height / 2) * a);
                }
                var l = { x: (o - i) / t, y: (s - r) / t };
                (t = BI(t, n, 0.85)),
                  (i -= l.x * t + i - o),
                  (r -= l.y * t + r - s),
                  this.changed();
              }
              this.setPan(i, r), this.setScale(t);
            }),
            (e.prototype.setPan = function (e, t) {
              var n = this.hanger;
              (this.panX = e), (this.panY = t), n && ((n.x = e), (n.y = t));
            }),
            (e.prototype.setScale = function (e) {
              var t = this.hanger;
              (this.scale = e), (this.nodeScale = Math.sqrt(1 / e));
              var n = Math.log(e) / Math.log(2);
              (this.textAlpha = Math.clamp(n + 1 - this.fTextShowMult, 0, 1)),
                t && (t.scale.x = t.scale.y = e);
            }),
            (e.prototype.changed = function () {
              (this.idleFrames = 0), this.queueRender();
            }),
            (e.prototype.queueRender = function () {
              !this.renderTimer &&
                this.renderCallback &&
                (this.renderTimer = requestAnimationFrame(this.renderCallback));
            }),
            (e.prototype.testCSS = function () {
              var e = function (e) {
                  return 255 & parseInt(e);
                },
                t = function (t) {
                  var n = document.body.createDiv({ cls: "graph-view " + t }),
                    i = getComputedStyle(n),
                    r = i.color,
                    o = i.opacity;
                  n.detach();
                  var s = r.match(
                      /^rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*[\d.]+\s*)?\)$/i
                    ),
                    a = parseFloat(o);
                  return (
                    isNaN(a) && (a = 1),
                    s
                      ? {
                          a: (a *= s[4]
                            ? Math.clamp(parseFloat(s[4].substr(1)), 0, 1)
                            : 1),
                          rgb: (e(s[1]) << 16) | (e(s[2]) << 8) | e(s[3]),
                        }
                      : { a, rgb: 8947848 }
                  );
                };
              for (var n in _I)
                _I.hasOwnProperty(n) && (this.colors[n] = t(_I[n]));
              for (var i = 0, r = this.nodes; i < r.length; i++) {
                r[i].fontDirty = !0;
              }
              var o = this.powerTag;
              o && (o.rendered = !1), this.changed();
            }),
            (e.prototype.getTransparentScreenshot = function () {
              var e = this.px;
              return e.render(), e.view;
            }),
            (e.prototype.getBackgroundScreenshot = function () {
              var e = this.getTransparentScreenshot(),
                t = document.createElement("canvas");
              (t.width = e.width), (t.height = e.height);
              var n = t.getContext("2d");
              return (
                (n.fillStyle = "#FFFFFF"),
                n.fillRect(0, 0, e.width, e.height),
                n.drawImage(e, 0, 0),
                t
              );
            }),
            (e.copyToClipboard = function (e, t, n) {
              e.toBlob(
                function (e) {
                  try {
                    var i = {};
                    (i[t] = e),
                      navigator.clipboard.write([new ClipboardItem(i)]),
                      n && n();
                  } catch (e) {
                    console.error(e);
                  }
                },
                t,
                100
              );
            }),
            e
          );
        })();
      var QI = (function () {
          function e(e, t, n) {
            var i = this;
            (this.chooser = e),
              (this.containerEl = t),
              (this.values = []),
              (this.suggestions = []),
              (this.selectedItem = 0),
              t.on(
                "click",
                ".suggestion-item",
                this.onSuggestionClick.bind(this)
              ),
              t.on(
                "auxclick",
                ".suggestion-item",
                this.onSuggestionClick.bind(this)
              ),
              t.on(
                "mousemove",
                ".suggestion-item",
                this.onSuggestionMouseover.bind(this)
              ),
              n.register([], "ArrowUp", function (e) {
                if (!e.isComposing)
                  return i.setSelectedItem(i.selectedItem - 1, !0), !1;
              }),
              n.register([], "ArrowDown", function (e) {
                if (!e.isComposing)
                  return i.setSelectedItem(i.selectedItem + 1, !0), !1;
              }),
              n.register([], "Enter", function (e) {
                if (!e.isComposing) return i.useSelectedItem(e), !1;
              });
          }
          return (
            (e.prototype.setSuggestions = function (e) {
              var t = this.containerEl;
              t.empty();
              var n = [];
              if (e)
                for (var i = 0, r = e; i < r.length; i++) {
                  var o = r[i],
                    s = t.createDiv("suggestion-item");
                  this.chooser.renderSuggestion(o, s), n.push(s);
                }
              (this.values = e),
                (this.suggestions = n),
                this.setSelectedItem(0);
            }),
            (e.prototype.addMessage = function (e) {
              this.containerEl.createDiv({ cls: "suggestion-empty", text: e });
            }),
            (e.prototype.setSelectedItem = function (e, t) {
              void 0 === t && (t = !1);
              var n = this.suggestions;
              0 !== n.length &&
                (e < 0 ? (e = n.length - 1) : e >= n.length && (e = 0),
                this.forceSetSelectedItem(e, t));
            }),
            (e.prototype.forceSetSelectedItem = function (e, t) {
              void 0 === t && (t = !1);
              var n = this.suggestions,
                i = n[this.selectedItem];
              i && i.removeClass("is-selected"), (this.selectedItem = e);
              var r = n[this.selectedItem];
              r && (r.addClass("is-selected"), t && r.scrollIntoView(!1));
            }),
            (e.prototype.onSuggestionClick = function (e, t) {
              e.preventDefault();
              var n = this.suggestions.indexOf(t);
              this.setSelectedItem(n), this.useSelectedItem(e);
            }),
            (e.prototype.onSuggestionMouseover = function (e, t) {
              var n = this.suggestions.indexOf(t);
              this.setSelectedItem(n);
            }),
            (e.prototype.useSelectedItem = function (e) {
              if (!this.values) return !1;
              var t = this.values[this.selectedItem];
              return void 0 !== t && (this.chooser.selectSuggestion(t, e), !0);
            }),
            e
          );
        })(),
        XI = (function () {
          function e(e, t) {
            var n = this;
            (this.dimBackground = !1),
              (this.isOpen = !1),
              (this.app = e),
              (this.scope = new ew(t || e.scope)),
              (this.suggestEl = createDiv("suggestion-container"));
            var i = this.suggestEl.createDiv("suggestion");
            (this.suggestions = new QI(this, i, this.scope)),
              this.scope.register([], "Escape", function () {
                return n.close(), !1;
              });
          }
          return (
            (e.prototype.open = function () {
              var e = this.app,
                t = this.suggestEl;
              if (!this.isOpen) {
                if (
                  ((this.isOpen = !0),
                  e.keymap.pushScope(this.scope),
                  zb(t, !0),
                  document.body.appendChild(t),
                  eb.isMobile)
                ) {
                  var n = t.offsetHeight - 1;
                  Vb(
                    t,
                    new Nb({ duration: 300 }).addProp(
                      "transform",
                      "translateY(" + n + "px)",
                      ""
                    )
                  );
                }
                e.workspace.pushClosable(this);
              }
            }),
            (e.prototype.close = function () {
              var e = this,
                t = this.app,
                n = this.suggestEl;
              if (
                (this.autoDestroy &&
                  (this.autoDestroy(), (this.autoDestroy = null)),
                t.keymap.popScope(this.scope),
                this.isOpen)
              ) {
                if (((this.isOpen = !1), eb.isMobile)) {
                  var i = n.offsetHeight - 1;
                  Vb(
                    n,
                    new Nb({ duration: 300 }).addProp(
                      "transform",
                      "",
                      "translateY(" + i + "px)"
                    ),
                    function () {
                      e.suggestions.setSuggestions([]), n.detach();
                    }
                  );
                } else this.suggestions.setSuggestions([]), n.detach();
                t.workspace.popClosable(this);
              }
            }),
            (e.prototype.reposition = function (e) {
              var t = this.suggestEl;
              (t.style.left = "0"), (t.style.top = "0"), xh(e, t, { gap: 5 });
            }),
            (e.prototype.setAutoDestroy = function (e) {
              var t = this;
              this.autoDestroy && this.autoDestroy(),
                e &&
                  (this.autoDestroy = (function (e, t, n) {
                    var i = setInterval(function () {
                      document.body.contains(e) || (clearInterval(i), n());
                    }, t);
                    return function () {
                      clearInterval(i);
                    };
                  })(e, 500, function () {
                    t.close();
                  }));
            }),
            e
          );
        })(),
        ZI = At("plugins.search"),
        eN = [
          {
            type: "operator",
            name: "path:",
            infoTextI18n: "label-path-option-description",
          },
          {
            type: "operator",
            name: "file:",
            infoTextI18n: "label-file-name-option-description",
          },
          {
            type: "operator",
            name: "tag:",
            infoTextI18n: "label-tag-option-description",
          },
          {
            type: "operator",
            name: "line:()",
            infoTextI18n: "label-line-option-description",
          },
          {
            type: "operator",
            name: "section:()",
            infoTextI18n: "label-section-option-description",
          },
        ],
        tN = (function (e) {
          function t(t, n, i, r) {
            void 0 === r && (r = !1);
            var o = e.call(this, t) || this;
            return (
              (o.inputEl = null),
              (o.showHistory = !0),
              (o.inputEl = n),
              (o.showHistory = i),
              r ||
                (n.addEventListener("input", o.onInputChange.bind(o)),
                n.addEventListener("focus", o.onInputChange.bind(o))),
              n.addEventListener("blur", o.close.bind(o)),
              o.suggestEl.on("mousedown", ".suggestion-item", function (e) {
                e.preventDefault();
              }),
              o.suggestEl.addClass("mod-search-suggestion"),
              o
            );
          }
          return (
            M(t, e),
            (t.prototype.renderSuggestion = function (e, t) {
              var n = this,
                i = t.createSpan({ cls: "search-suggest-name", text: e.name });
              t.addClass("search-suggest-item"),
                "operator" === e.type
                  ? t.createSpan({
                      cls: "search-suggest-info-text",
                      text: ZI(e.infoTextI18n),
                    })
                  : "group" === e.type &&
                    (t.addClass("list-item"),
                    i.addClass("list-item-part", "mod-extended"),
                    t.createDiv(
                      "list-item-part search-suggest-icon clickable-icon",
                      function (t) {
                        Xy(t, e.icon, 16),
                          nn(t, e.iconTooltip),
                          t.addEventListener("click", function (t) {
                            t.preventDefault(),
                              t.stopPropagation(),
                              e.callback(),
                              n.onInputChange();
                          });
                      }
                    ),
                    t.addClass("mod-group"));
            }),
            (t.prototype.getSuggestions = function (e) {
              var t = this;
              if (this.inputEl.selectionStart === e.length) {
                if (e.endsWith("path:"))
                  return this.app.vault
                    .getAllLoadedFiles()
                    .filter(function (e) {
                      return e instanceof Db;
                    })
                    .map(function (e) {
                      return { type: "string", name: e.path };
                    });
                if (e.endsWith("tag:"))
                  return Object.keys(this.app.metadataCache.getTags()).map(
                    function (e) {
                      return { type: "string", name: e };
                    }
                  );
              }
              var n = [];
              n.push({
                type: "group",
                name: ZI("label-search-options"),
                icon: Um,
                iconTooltip: ZI("tooltip-read-more"),
                callback: function () {
                  window.open(
                    "https://help.obsidian.md/Plugins/Search",
                    "_blank"
                  );
                },
              });
              for (var i = 0, r = eN; i < r.length; i++) {
                var o = r[i];
                n.push(o);
              }
              if ("" !== e) return e.endsWith(" ") ? n : null;
              if (this.showHistory) {
                var s = this.app.loadLocalStorage("recent-searches");
                if (s && Array.isArray(s) && s.length > 0) {
                  n.push({
                    type: "group",
                    name: ZI("label-history"),
                    icon: Jm,
                    iconTooltip: ZI("tooltip-clear-history"),
                    callback: function () {
                      t.app.saveLocalStorage("recent-searches", null);
                    },
                  });
                  for (var a = 0, l = s; a < l.length; a++) {
                    var c = l[a];
                    n.push({ type: "history", name: c });
                  }
                }
              }
              return n;
            }),
            (t.prototype.selectSuggestion = function (e, t) {
              if ("group" !== e.type) {
                var n = this.inputEl,
                  i = n.value,
                  r = e.name;
                "string" === e.type && r.contains(" ") && (r = '"' + r + '"');
                var o = i + r;
                if (
                  ((n.value = o),
                  "operator" === e.type && e.name.endsWith("()"))
                ) {
                  var s = o.length - 1;
                  n.setSelectionRange(s, s);
                }
                n.trigger("input"),
                  (eb.isMobile || "operator" !== e.type) && this.close();
              } else t.preventDefault();
            }),
            (t.prototype.onInputChange = function () {
              var e = this.inputEl,
                t = e.value,
                n = this.getSuggestions(t);
              n && n.length > 0
                ? (this.suggestions.setSuggestions(n),
                  this.open(),
                  eb.isMobile ||
                    ((this.suggestEl.style.width =
                      Math.max(this.inputEl.offsetWidth, 300) + "px"),
                    this.setAutoDestroy(e),
                    this.reposition(Mh(e))))
                : this.close();
            }),
            (t.attach = function (e, n, i) {
              void 0 === i && (i = !0), new t(e, n, i);
            }),
            (t.showOnce = function (e, n, i) {
              void 0 === i && (i = !0),
                new t(e, n, i, !0).onInputChange(),
                n.focus();
            }),
            t
          );
        })(XI),
        nN = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.navigation = !1),
              (n.allowNoFile = !0),
              (n.requestUpdate = Tt(n.update, 0)),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.load = function () {
              e.prototype.load.call(this);
              var t = this.app;
              this.registerEvent(
                t.workspace.on("file-open", this.onFileOpen, this)
              );
            }),
            (t.prototype.onLoadFile = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  return this.requestUpdate(), [2];
                });
              });
            }),
            (t.prototype.onUnloadFile = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  return this.requestUpdate(), [2];
                });
              });
            }),
            (t.prototype.onFileOpen = function (e) {
              this.leaf.group ||
                this.leaf.pinned ||
                (e instanceof Ab ? this.loadFile(e) : this.loadFile(null),
                this.requestUpdate());
            }),
            (t.prototype.onGroupChange = function () {
              if ((e.prototype.onGroupChange.call(this), this.leaf.group))
                for (
                  var t = 0,
                    n = this.leaf.workspace.getGroupLeaves(this.leaf.group);
                  t < n.length;
                  t++
                ) {
                  var i = n[t];
                  if (i !== this.leaf && i.view instanceof cw) {
                    var r = i.view.getSyncViewState();
                    this.leaf.openFile(i.view.file, r);
                  }
                }
              else {
                var o = this.leaf.workspace.getActiveFile();
                this.loadFile(o);
              }
            }),
            t
          );
        })(cw),
        iN = (function () {
          function e() {
            var e = this;
            this.collapsed = !1;
            var t = (this.el = createDiv("tree-item")),
              n = (this.selfEl = t.createDiv("tree-item-self")),
              i = (this.collapseEl = n.createDiv({
                cls: "tree-item-icon collapse-icon",
              }));
            (this.innerEl = n.createDiv("tree-item-inner")),
              n.addEventListener("click", function (t) {
                0 !== t.button || t.defaultPrevented || e.onSelfClick(t);
              }),
              (this.childrenEl = t.createDiv("tree-item-children")),
              Xy(i, pm, 8),
              i.addEventListener("click", this.onCollapseClick.bind(this));
          }
          return (
            (e.prototype.onSelfClick = function (e) {}),
            (e.prototype.onCollapseClick = function (e) {
              0 === e.button && (e.preventDefault(), this.toggleCollapsed(!0));
            }),
            (e.prototype.toggleCollapsed = function (e) {
              return this.setCollapsed(!this.collapsed, e);
            }),
            (e.prototype.setCollapsed = function (e, t) {
              return (this.collapsed = e), this.updateCollapsed(t);
            }),
            (e.prototype.setCollapsible = function (e) {
              var t = this.collapseEl;
              e ? this.selfEl.prepend(t) : t.detach();
            }),
            (e.prototype.setClickable = function (e) {
              this.selfEl.toggleClass("is-clickable", e);
            }),
            (e.prototype.updateCollapsed = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return (
                        (n = (t = this).el),
                        (i = t.childrenEl),
                        (r = t.collapsed),
                        n.toggleClass("is-collapsed", r),
                        [4, Wb(i, n, r, e)]
                      );
                    case 1:
                      return o.sent(), [2];
                  }
                });
              });
            }),
            e
          );
        })(),
        rN = At("plugins.graph-view"),
        oN = (function () {
          function e() {
            (this.id = "graph"),
              (this.name = rN("name")),
              (this.description = rN("desc")),
              (this.defaultOn = !0);
          }
          return (
            (e.prototype.init = function (e, t) {
              var n = this;
              (this.app = e),
                (this.plugin = t),
                t.registerRibbonAction(rN("action-open"), bm, function (e) {
                  n.openGraphView(nw.isModEvent(e));
                }),
                t.registerGlobalCommand({
                  id: "graph:open",
                  name: rN("action-open"),
                  icon: wy,
                  callback: this.openGraphView.bind(this),
                  hotkeys: [vT(["Mod"], "G")],
                }),
                t.registerGlobalCommand({
                  id: "graph:open-local",
                  name: rN("action-open-local"),
                  icon: wy,
                  checkCallback: this.openLocalGraph.bind(this),
                }),
                t.registerGlobalCommand({
                  id: "graph:animate",
                  name: rN("action-timelapse"),
                  icon: Iy,
                  checkCallback: function (e) {
                    var t = n.app.workspace.getActiveViewOfType(aN);
                    if (t) return e || t.dataEngine.renderProgression(), !0;
                  },
                }),
                t.registerViewType(sN, function (e) {
                  return new aN(e);
                }),
                t.registerViewType(lN, function (e) {
                  return new cN(e);
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        t.registerEvent(
                          e.workspace.on("file-menu", this.onFileMenu, this)
                        ),
                        (n = this),
                        [4, t.loadData()]
                      );
                    case 1:
                      return (
                        (n.options = i.sent() || {}),
                        e.workspace.registerHoverLinkSource("graph", {
                          display: this.name,
                          defaultMod: !0,
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.onDisable = function (e) {
              e.workspace.unregisterHoverLinkSource("graph");
            }),
            (e.prototype.onFileMenu = function (e, t, n, i) {
              var r = this;
              t instanceof Ab &&
                i &&
                "sidebar-context-menu" !== n &&
                e.addItem(function (e) {
                  return e
                    .setTitle(rN("action-open-local"))
                    .setIcon(bm)
                    .onClick(function () {
                      return A(r, void 0, void 0, function () {
                        return D(this, function (e) {
                          switch (e.label) {
                            case 0:
                              return [
                                4,
                                this.app.workspace
                                  .splitLeafOrActive(i, "vertical")
                                  .setViewState({
                                    type: lN,
                                    active: !0,
                                    group: i,
                                    state: { file: t.path },
                                  }),
                              ];
                            case 1:
                              return e.sent(), [2];
                          }
                        });
                      });
                    });
                });
            }),
            (e.prototype.openGraphView = function (e) {
              this.app.workspace
                .getLeaf(e)
                .setViewState({ type: sN, active: !0, state: {} });
            }),
            (e.prototype.openLocalGraph = function (e) {
              var t = this.app.workspace,
                n = t.getActiveFile();
              if (n) {
                if (!e)
                  t.splitActiveLeaf("vertical").setViewState({
                    type: lN,
                    active: !0,
                    group: t.activeLeaf,
                    state: { file: n.path },
                  });
                return !0;
              }
            }),
            (e.prototype.saveOptions = function () {
              this.plugin.saveData(this.options);
            }),
            e
          );
        })(),
        sN = "graph",
        aN = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            n.icon = bm;
            var i = (n.renderer = new JI(n.contentEl, !eb.isIosApp, !0));
            return (n.dataEngine = new pN(t.app, n, i)), n;
          }
          return (
            M(t, e),
            (t.prototype.getDisplayText = function () {
              return rN("name");
            }),
            (t.prototype.load = function () {
              e.prototype.load.call(this),
                this.registerEvent(
                  this.app.metadataCache.on("resolved", this.update, this)
                ),
                this.dataEngine.load(),
                this.update();
              var t = this.app.internalPlugins.getPluginById("graph").instance;
              this.dataEngine.setOptions(t.options);
            }),
            (t.prototype.getViewType = function () {
              return sN;
            }),
            (t.prototype.onClose = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  return this.renderer.destroy(), [2];
                });
              });
            }),
            (t.prototype.onResize = function () {
              this.renderer.onResize();
            }),
            (t.prototype.onMoreOptionsMenu = function (t) {
              var n = this;
              e.prototype.onMoreOptionsMenu.call(this, t),
                t.addSeparator().addItem(function (e) {
                  return e
                    .setTitle(rN("action-copy-screenshot"))
                    .setIcon(km)
                    .onClick(function () {
                      var e = n.renderer.getTransparentScreenshot();
                      JI.copyToClipboard(e, "image/png", function () {
                        return new lw(rN("msg-screenshot-copied"));
                      });
                    });
                });
            }),
            (t.prototype.update = function () {
              this.dataEngine.render();
            }),
            (t.prototype.onOptionsChange = function () {
              var e = this.app.internalPlugins.getPluginById("graph").instance;
              (e.options = this.dataEngine.getOptions()), e.saveOptions();
            }),
            t
          );
        })(sw),
        lN = "localgraph",
        cN = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            (n.icon = bm), (n.renderedFile = null);
            var i = (n.renderer = new JI(n.contentEl, !eb.isIosApp, !0));
            return (n.engine = new pN(t.app, n, i)), n;
          }
          return (
            M(t, e),
            (t.prototype.getDisplayText = function () {
              return this.file
                ? rN("tab-title", {
                    displayText: e.prototype.getDisplayText.call(this),
                  })
                : rN("name");
            }),
            (t.prototype.getViewType = function () {
              return lN;
            }),
            (t.prototype.canAcceptExtension = function (e) {
              return !0;
            }),
            (t.prototype.getState = function () {
              var t = e.prototype.getState.call(this);
              return (t.options = this.engine.getOptions()), t;
            }),
            (t.prototype.setState = function (t, n) {
              return A(this, void 0, Promise, function () {
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        t.options && this.engine.setOptions(t.options),
                        [4, e.prototype.setState.call(this, t, n)]
                      );
                    case 1:
                      return i.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.load = function () {
              e.prototype.load.call(this),
                this.registerEvent(
                  this.app.metadataCache.on("resolved", this.update, this)
                ),
                this.engine.load();
            }),
            (t.prototype.onClose = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  return this.renderer.destroyGraphics(), [2];
                });
              });
            }),
            (t.prototype.onFileChanged = function (e) {
              e === this.file && this.requestUpdate();
            }),
            (t.prototype.onResize = function () {
              this.renderer.onResize();
            }),
            (t.prototype.update = function () {
              var e = this,
                t = e.file,
                n = e.renderer,
                i = e.engine;
              e.renderedFile !== t && (n.resetPan(), (this.renderedFile = t));
              var r = i.options;
              (n.highlightNode = null),
                (r.localFile = t ? t.path : null),
                i.render();
            }),
            (t.prototype.onMoreOptionsMenu = function (t) {
              var n = this;
              e.prototype.onMoreOptionsMenu.call(this, t),
                t.addSeparator().addItem(function (e) {
                  return e
                    .setTitle(rN("action-copy-screenshot"))
                    .setIcon(km)
                    .onClick(function () {
                      var e = n.renderer.getTransparentScreenshot();
                      JI.copyToClipboard(e, "image/png", function () {
                        return new lw(rN("msg-screenshot-copied"));
                      });
                    });
                });
            }),
            (t.prototype.onOptionsChange = function () {
              this.app.workspace.requestSaveLayout();
            }),
            t
          );
        })(nN);
      function uN(e, t) {
        return (Math.pow(t, 1 - e) - t) / (1 - t);
      }
      function hN(e, t) {
        return 1 - Math.log(e * (1 - t) + t) / Math.log(t);
      }
      var pN = (function () {
          function e(e, t, n) {
            var i = this;
            (this.options = Object.assign({}, qI)),
              (this.searchQueries = null),
              (this.fileFilter = {}),
              (this.hasFilter = !1),
              (this.queue = null),
              (this.lastHoverLink = null),
              (this.hoverPopover = null),
              (this.requestUpdateSearch = Tt(
                this.updateSearch.bind(this),
                250,
                !0
              )),
              (this.progression = 0),
              (this.progressionSpeed = 20),
              (this.currentFocusFile = ""),
              (this.app = e),
              (this.view = t),
              (this.renderer = n),
              (n.onNodeClick = this.onNodeClick.bind(this)),
              (n.onNodeRightClick = this.onNodeRightClick.bind(this)),
              (n.onNodeHover = this.onNodeHover.bind(this)),
              (n.onNodeUnhover = this.onNodeUnhover.bind(this)),
              (this.onOptionsChange = Tt(
                function () {
                  return t.onOptionsChange();
                },
                100,
                !0
              ));
            var r = (this.controlsEl =
              n.containerEl.createDiv("graph-controls"));
            r.createDiv("graph-controls-button mod-close", function (e) {
              Xy(e, Jm, 16),
                nn(e, Lt("interface.menu.close")),
                e.addEventListener("click", function () {
                  r.addClass("is-close"), i.onOptionsChange();
                });
            }),
              r.createDiv("graph-controls-button mod-open", function (e) {
                Xy(e, xm, 20),
                  nn(e, rN("tooltip-open-graph-settings")),
                  e.addEventListener("click", function () {
                    r.removeClass("is-close"), i.onOptionsChange();
                  });
              }),
              t instanceof cN ||
                r.createDiv("graph-controls-button mod-animate", function (e) {
                  Xy(e, Gy, 20),
                    nn(e, rN("tooltip-start-timelapse-animation")),
                    e.addEventListener("click", function () {
                      var e = i.app.workspace.getActiveViewOfType(aN);
                      e && e.dataEngine.renderProgression();
                    });
                }),
              r.createDiv(
                { cls: "graph-controls-button mod-reset" },
                function (e) {
                  Xy(e, Xm, 16),
                    nn(e, Lt("interface.tooltip-restore-default-settings")),
                    e.addEventListener("click", function () {
                      i.filterOptions.setDefaultOptions(),
                        i.colorGroupOptions.setColorQueries([]),
                        i.displayOptions.setDefaultOptions(),
                        i.forceOptions.setDefaultOptions();
                    });
                }
              ),
              (this.filterOptions = new fN(this, t instanceof cN)),
              (this.colorGroupOptions = new gN(this)),
              (this.displayOptions = new vN(this)),
              (this.forceOptions = new bN(this)),
              this.filterOptions.setDefaultOptions(),
              this.colorGroupOptions.setColorQueries([]),
              this.displayOptions.setDefaultOptions(),
              this.forceOptions.setDefaultOptions();
          }
          return (
            (e.prototype.load = function () {
              var e = this,
                t = this.app,
                n = this.view,
                i = t.vault,
                r = t.workspace,
                o = t.metadataCache;
              n.registerEvent(i.on("create", this.onFileChanged, this)),
                n.registerEvent(i.on("modify", this.onFileChanged, this)),
                n.registerEvent(i.on("rename", this.recomputeFile, this)),
                n.registerEvent(o.on("resolve", this.recomputeFile, this)),
                n.registerEvent(r.on("css-change", this.onCssChange, this)),
                n.registerEvent(r.on("file-open", this.onFileOpen, this));
              var s = 0;
              n.registerInterval(
                window.setInterval(function () {
                  e.renderer.targetScale !== s &&
                    ((s = e.renderer.targetScale), e.onOptionsChange());
                }, 2e3)
              );
              var a = {
                  38: "up",
                  40: "down",
                  37: "left",
                  39: "right",
                  187: "zoomin",
                  189: "zoomout",
                },
                l = function (t) {
                  var i = e.renderer;
                  i.keyboardActions.shift = nw.isModifier(t, "Shift");
                  var o = "keydown" === t.type;
                  if (
                    (!o ||
                      (!t.repeat &&
                        !t.defaultPrevented &&
                        r.activeLeaf === n.leaf &&
                        document.activeElement === document.body)) &&
                    a.hasOwnProperty(t.which)
                  ) {
                    var s = a[t.which];
                    (i.keyboardActions[s] = o), i.changed();
                  }
                };
              n.registerDomEvent(window, "keydown", l),
                n.registerDomEvent(window, "keyup", l);
            }),
            (e.prototype.onCssChange = function () {
              this.renderer.testCSS();
            }),
            (e.prototype.updateSearch = function () {
              var e = [],
                t = this.filterOptions.search.getValue();
              t && e.push({ query: t, color: null }),
                (e = e.concat(this.colorGroupOptions.getColoredQueries())),
                this.setQuery(e),
                this.onOptionsChange();
            }),
            (e.prototype.setQuery = function (e) {
              var t = this;
              this.queue && (this.queue.cancel(), (this.queue = null)),
                (this.hasFilter = !1);
              for (var n = [], i = {}, r = 0, o = e; r < o.length; r++) {
                var s = o[r],
                  a = new KP(s.query, !1);
                a.matcher || (a = null),
                  a &&
                    (n.push({ query: a, color: s.color }),
                    a.requiredInputs && Object.assign(i, a.requiredInputs),
                    s.color || (this.hasFilter = !0));
              }
              if ((0 === n.length && (n = null), (this.searchQueries = n), !n))
                return (this.fileFilter = {}), void this.render();
              var l = (this.fileFilter = {}),
                c = (this.queue = new Gh({
                  onStart: function () {
                    t.filterOptions.startSearch();
                  },
                  onStop: function () {
                    t.render(), t.filterOptions.stopSearch();
                  },
                  onCancel: function () {
                    (t.queue = null), t.filterOptions.stopSearch();
                  },
                })),
                u = this.app;
              c.addList(u.vault.getFiles());
              var h = performance.now(),
                p = !0;
              $P(
                u,
                i,
                c,
                function (e, t, i) {
                  for (var r = !0, o = null, s = 0, a = n; s < a.length; s++) {
                    var c = a[s],
                      u = c.query.match(e, t, i);
                    if (!u && !c.color) {
                      r = !1;
                      break;
                    }
                    if (u && c.color) {
                      o = c.color;
                      break;
                    }
                  }
                  (l[e.path] = !!r && (o || !0)), (p = p || r);
                },
                {
                  beforePause: function (e) {
                    e < h + 333 || ((h = e), p && t.render(), (p = !1));
                  },
                }
              );
            }),
            (e.prototype.render = function () {
              var e = this,
                t = this,
                n = t.app,
                i = t.view,
                r = t.renderer,
                o = t.searchQueries,
                s = t.fileFilter,
                a = t.options,
                l = i instanceof cN;
              if (!l || a.localFile) {
                l && (this.progression = 0);
                var c = (function (e, t, n, i) {
                    var r = e.resolvedLinks,
                      o = e.unresolvedLinks,
                      s = e.vault,
                      a = t.showAttachments,
                      l = t.hideUnresolved,
                      c = t.showTags,
                      u = {};
                    if (t.showTags) {
                      var h = e.getTags();
                      for (var p in h)
                        h.hasOwnProperty(p) && (u[p.toLowerCase()] = p);
                    }
                    var d = {},
                      f = 0,
                      g = e.getCachedFiles();
                    if (i) {
                      for (var m = {}, v = 0, y = g; v < y.length; v++) {
                        var b = y[v],
                          w = s.getAbstractFileByPath(b);
                        m[b] =
                          w instanceof Ab
                            ? Math.min(w.stat.ctime, w.stat.mtime)
                            : 1 / 0;
                      }
                      g.sort(function (e, t) {
                        return m[e] - m[t];
                      });
                    }
                    for (var k = "", C = 0, x = g; C < x.length; C++) {
                      var S = x[C],
                        E = "md" !== et(S);
                      if (a || !E) {
                        var M = E ? "attachment" : "",
                          L = n(S, M);
                        if (L) {
                          var A = (d[S] = jI(M)),
                            D = A.links;
                          if (
                            (t.showOrphans && (f === i && (k = S), f++),
                            isBoolean(L) || (A.color = L),
                            r.hasOwnProperty(S))
                          ) {
                            var T = r[S];
                            for (var P in T)
                              if (T.hasOwnProperty(P)) {
                                var O = "md" !== et(P);
                                if (a || !O)
                                  n(P, O ? "attachment" : "") &&
                                    (!i || f < i
                                      ? (D[P] = !0)
                                      : f === i && (k = S),
                                    f++);
                              }
                          }
                          if (!l && o.hasOwnProperty(S)) {
                            T = o[S];
                            for (var P in T)
                              T.hasOwnProperty(P) &&
                                n(P, "unresolved") &&
                                (!i || f < i
                                  ? ((D[P] = !0),
                                    d.hasOwnProperty(P) ||
                                      (d[P] = jI("unresolved")))
                                  : f === i && (k = S),
                                f++);
                          }
                          if (c)
                            if ((h = LD(e.getCache(S))) && h.length > 0)
                              for (var F = 0, I = h; F < I.length; F++) {
                                if (n((p = I[F]), "tag")) {
                                  var N = u[p.toLowerCase()] || p;
                                  !i || f < i
                                    ? (D[N] = !0)
                                    : f === i && (k = S),
                                    f++,
                                    d.hasOwnProperty(N) || (d[N] = jI("tag"));
                                }
                              }
                        }
                      }
                    }
                    if (i && k) {
                      var B = g.indexOf(k);
                      if (-1 !== B)
                        for (var R = B + 1; R < g.length; R++) delete d[g[R]];
                    }
                    return { nodes: d, numLinks: f };
                  })(
                    n.metadataCache,
                    a,
                    function (t, n) {
                      return (
                        !o ||
                        ("" === n
                          ? t === a.localFile ||
                            (s.hasOwnProperty(t) ? s[t] : !e.hasFilter)
                          : "tag" === n
                          ? o.every(function (e) {
                              return !!e.color || !!e.query.matchTag(t);
                            })
                          : "attachment" !== n ||
                            o.every(function (e) {
                              return !!e.color || !!e.query.matchFilepath(t);
                            }))
                      );
                    },
                    this.progression
                  ),
                  u = c.numLinks;
                if (
                  (a.localFile &&
                    (c = (function (e, t) {
                      var n = e.nodes,
                        i = {},
                        r = {},
                        o = t.localFile,
                        s = t.localJumps,
                        a = t.localInterlinks,
                        l = t.localForelinks,
                        c = t.localBacklinks;
                      if (((r[o] = 30), !n.hasOwnProperty(o)))
                        return (i[o] = jI()), { nodes: i, weights: r };
                      i[o] = jI(n[o].type);
                      for (
                        var u = function (e) {
                            var t = {};
                            for (var o in n)
                              if (n.hasOwnProperty(o)) {
                                var s = n[o];
                                if ("tag" !== s.type) {
                                  var a = s.links;
                                  for (var u in a)
                                    if (a.hasOwnProperty(u)) {
                                      var h = i[o];
                                      l &&
                                      i.hasOwnProperty(o) &&
                                      !i.hasOwnProperty(u) &&
                                      !WI.hasOwnProperty(h.type)
                                        ? ((t[u] = t[u] || UI(n[u])),
                                          (h.links[u] = !0))
                                        : c &&
                                          i.hasOwnProperty(u) &&
                                          !i.hasOwnProperty(o) &&
                                          !WI.hasOwnProperty(i[u].type) &&
                                          ((t[o] = t[o] || UI(n[o])),
                                          (t[o].links[u] = !0));
                                    }
                                }
                              }
                            for (var p in t)
                              t.hasOwnProperty(p) &&
                                ((i[p] = t[p]), (r[p] = e));
                          },
                          h = 30 / s,
                          p = 0;
                        p < s;
                        p++
                      )
                        u(30 - h * (p + 1));
                      if (a)
                        for (var d in i)
                          i.hasOwnProperty(d) &&
                            n.hasOwnProperty(d) &&
                            (i[d] = n[d]);
                      return { nodes: i, weights: r };
                    })(c, a)),
                  a.showOrphans ||
                    (function (e) {
                      var t = e.nodes,
                        n = {};
                      for (var i in t)
                        if (t.hasOwnProperty(i)) {
                          var r = t[i].links;
                          for (var o in r)
                            r.hasOwnProperty(o) && i !== o && (n[o] = !0);
                        }
                      for (var i in t)
                        if (t.hasOwnProperty(i)) {
                          r = t[i].links;
                          var s = !1;
                          for (var o in r)
                            if (
                              r.hasOwnProperty(o) &&
                              t.hasOwnProperty(o) &&
                              i !== o
                            ) {
                              s = !0;
                              break;
                            }
                          s || n[i] || delete t[i];
                        }
                    })(c),
                  this.currentFocusFile)
                ) {
                  var h = c.nodes[this.currentFocusFile];
                  h && (h.type = "focused");
                }
                return r.setData(c), u;
              }
              r.setData({ nodes: {} });
            }),
            (e.prototype.renderProgression = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      (this.progression = 1),
                        (e = this.render()),
                        (this.progressionSpeed = Math.clamp(
                          0.5 * Math.sqrt(e),
                          5,
                          100
                        )),
                        (t = Date.now()),
                        (i.label = 1);
                    case 1:
                      return this.progression > 0
                        ? ((n = this.progression),
                          [
                            4,
                            new Promise(function (e) {
                              return Bt(e, 0);
                            }),
                          ])
                        : [3, 3];
                    case 2:
                      return (
                        i.sent(),
                        n !== this.progression
                          ? [3, 3]
                          : (n =
                              1 +
                              Math.floor(
                                (this.progressionSpeed * (Date.now() - t)) / 1e3
                              )) === this.progression ||
                            ((this.progression = n), this.render())
                          ? [3, 1]
                          : [3, 3]
                      );
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.onFileChanged = function (e) {
              "md" !== e.extension && this.recomputeFile(e);
            }),
            (e.prototype.recomputeFile = function (e) {
              var t = this.queue;
              t && t.add(e);
            }),
            (e.prototype.onFileOpen = function (e) {
              var t = e ? e.path : "";
              t !== this.currentFocusFile &&
                ((this.currentFocusFile = t), this.render());
            }),
            (e.prototype.onNodeClick = function (e, t, n) {
              var i = this.app,
                r = this.view;
              if ("tag" !== n) {
                var o =
                    (function (e) {
                      return (
                        (e instanceof MouseEvent ||
                          e instanceof PointerEvent) &&
                        1 === e.button
                      );
                    })(e) || nw.isModifier(e, "Mod"),
                  s = i.workspace;
                s.setActiveLeaf(r.leaf, !1), s.openLinkText(t, "", o);
              } else {
                var a = i.internalPlugins.getPluginById("global-search");
                a && a.instance.openGlobalSearch("tag:" + t);
              }
            }),
            (e.prototype.onNodeRightClick = function (e, t, n) {
              var i = this.app;
              if ("tag" !== n) {
                var r = i.metadataCache.getFirstLinkpathDest(t, "");
                if (r && e instanceof MouseEvent) {
                  var o = new rw(this.app);
                  o
                    .addItem(function (e) {
                      return e.setTitle(st(r.path)).setIsLabel(!0);
                    })
                    .addSeparator(),
                    o.addItem(function (e) {
                      return e
                        .setTitle(Lt("interface.menu.open-in-new-pane"))
                        .setIcon(_m)
                        .onClick(function () {
                          return i.workspace.openLinkText(t, "", !0);
                        });
                    }),
                    this.app.workspace.trigger(
                      "file-menu",
                      o,
                      r,
                      "graph-context-menu",
                      this.view.leaf
                    ),
                    o.showAtMouseEvent(e);
                }
              } else {
                var s = i.internalPlugins.getPluginById("global-search");
                s && s.instance.openGlobalSearch("tag:" + t);
              }
            }),
            (e.prototype.onNodeHover = function (e, t, n) {
              if ((this.onNodeUnhover(), e instanceof MouseEvent)) {
                var i = this,
                  r = i.app,
                  o = i.hoverPopover,
                  s = i.lastHoverLink;
                if ("" === n || "focused" === n || "attachment" === n) {
                  if (o && o.state !== TF.Hidden && s === t)
                    return (o.onTarget = !0), void o.transition();
                  (this.lastHoverLink = t),
                    r.workspace.trigger("hover-link", {
                      event: e,
                      source: "graph",
                      hoverParent: this,
                      targetEl: null,
                      linktext: t,
                    });
                }
              }
            }),
            (e.prototype.onNodeUnhover = function () {
              var e = this.hoverPopover;
              e && ((e.onTarget = !1), e.transition());
            }),
            (e.prototype.getOptions = function () {
              var e = {};
              return (
                this.filterOptions.getOptions(e),
                this.colorGroupOptions.getOptions(e),
                this.displayOptions.getOptions(e),
                this.forceOptions.getOptions(e),
                (e.scale = this.renderer.targetScale),
                (e.close = this.controlsEl.hasClass("is-close")),
                e
              );
            }),
            (e.prototype.setOptions = function (e) {
              e &&
                (this.filterOptions.setOptions(e),
                this.colorGroupOptions.setOptions(e),
                this.displayOptions.setOptions(e),
                this.forceOptions.setOptions(e),
                e.scale && this.renderer.zoomTo(e.scale),
                e.close && this.controlsEl.toggleClass("is-close", e.close),
                this.render());
            }),
            e
          );
        })(),
        dN = (function (e) {
          function t(t, n, i) {
            var r = e.call(this) || this;
            return (
              (r.engine = null),
              (r.optionListeners = {}),
              (r.engine = t),
              r.el.addClass("graph-control-section", "mod-" + n),
              r.setCollapsible(!0),
              r.setCollapsed(!0, !1),
              r.innerEl.createEl("header", {
                cls: "graph-control-section-header",
                text: i,
              }),
              (r.optionListeners["collapse-" + n] = function (e) {
                return (
                  void 0 !== e && isBoolean(e) && r.setCollapsed(e, !1),
                  r.collapsed
                );
              }),
              r
            );
          }
          return (
            M(t, e),
            (t.prototype.onSelfClick = function (e) {
              return this.toggleCollapsed(!0);
            }),
            (t.prototype.updateCollapsed = function (t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [4, e.prototype.updateCollapsed.call(this, t)];
                    case 1:
                      return n.sent(), this.engine.onOptionsChange(), [2];
                  }
                });
              });
            }),
            (t.prototype.setOptions = function (e) {
              var t = this.optionListeners;
              for (var n in e)
                e.hasOwnProperty(n) && t.hasOwnProperty(n) && t[n](e[n]);
            }),
            (t.prototype.getOptions = function (e) {
              var t = this.optionListeners;
              for (var n in t)
                if (t.hasOwnProperty(n)) {
                  var i = t[n]();
                  void 0 !== i && (e[n] = i);
                }
            }),
            t
          );
        })(iN),
        fN = (function (e) {
          function t(t, n) {
            var i = e.call(this, t, "filter", rN("label-filters")) || this;
            (i.searchSetting = null), t.controlsEl.appendChild(i.el);
            var r = i.childrenEl;
            return (
              (i.searchSetting = new ZD(r).addSearch(function (e) {
                return e
                  .setPlaceholder(rN("prompt-filter-nodes"))
                  .setValue("")
                  .onChange(function () {
                    i.engine.requestUpdateSearch();
                  })
                  .then(function (e) {
                    (i.search = e),
                      nn(
                        e.clearButtonEl,
                        Lt("plugins.search.tooltip-clear-search")
                      ),
                      (i.optionListeners.search = function (t) {
                        return (
                          void 0 !== t &&
                            (e.setValue(t), i.engine.requestUpdateSearch()),
                          e.getValue()
                        );
                      }),
                      e.inputEl.addEventListener("keydown", function (e) {
                        e.isComposing ||
                          "Enter" !== e.key ||
                          i.engine.updateSearch();
                      }),
                      tN.attach(t.app, e.inputEl, !1);
                  });
              })).settingEl.addClass("mod-search-setting"),
              n &&
                (new ZD(r)
                  .setName(rN("option-depth"))
                  .setTooltip(rN("option-depth-description"))
                  .setClass("mod-local-jumps")
                  .setClass("mod-slider")
                  .addSlider(function (e) {
                    return e
                      .setLimits(1, 5, 1)
                      .setValue(t.options.localJumps)
                      .setDynamicTooltip()
                      .registerOptionListener(i.optionListeners, "localJumps")
                      .onChange(function (e) {
                        (t.options.localJumps = e),
                          t.render(),
                          t.onOptionsChange();
                      });
                  }),
                new ZD(r)
                  .setName(rN("option-backlinks"))
                  .setTooltip(rN("option-backlinks-description"))
                  .setClass("mod-toggle")
                  .addToggle(function (e) {
                    return e
                      .setValue(t.options.localBacklinks)
                      .registerOptionListener(
                        i.optionListeners,
                        "localBacklinks"
                      )
                      .onChange(function (e) {
                        (t.options.localBacklinks = e),
                          t.render(),
                          t.onOptionsChange();
                      });
                  }),
                new ZD(r)
                  .setName(rN("option-forelinks"))
                  .setTooltip(rN("option-forelinks-description"))
                  .setClass("mod-toggle")
                  .addToggle(function (e) {
                    return e
                      .setValue(t.options.localForelinks)
                      .registerOptionListener(
                        i.optionListeners,
                        "localForelinks"
                      )
                      .onChange(function (e) {
                        (t.options.localForelinks = e),
                          t.render(),
                          t.onOptionsChange();
                      });
                  }),
                new ZD(r)
                  .setName(rN("option-neighbor-links"))
                  .setTooltip(rN("option-neighbor-links-description"))
                  .setClass("mod-toggle")
                  .addToggle(function (e) {
                    return e
                      .setValue(t.options.localInterlinks)
                      .registerOptionListener(
                        i.optionListeners,
                        "localInterlinks"
                      )
                      .onChange(function (e) {
                        (t.options.localInterlinks = e),
                          t.render(),
                          t.onOptionsChange();
                      });
                  })),
              new ZD(r)
                .setName(rN("option-show-tags"))
                .setTooltip(rN("option-show-tags-description"))
                .setClass("mod-toggle")
                .addToggle(function (e) {
                  return e
                    .setValue(t.options.showTags)
                    .registerOptionListener(i.optionListeners, "showTags")
                    .onChange(function (e) {
                      (t.options.showTags = e), t.render(), t.onOptionsChange();
                    });
                }),
              new ZD(r)
                .setName(rN("option-show-attachments"))
                .setTooltip(rN("option-show-attachments-description"))
                .setClass("mod-toggle")
                .addToggle(function (e) {
                  return e
                    .setValue(t.options.showAttachments)
                    .registerOptionListener(
                      i.optionListeners,
                      "showAttachments"
                    )
                    .onChange(function (e) {
                      (t.options.showAttachments = e),
                        t.render(),
                        t.onOptionsChange();
                    });
                }),
              new ZD(r)
                .setName(rN("option-show-existing-files-only"))
                .setTooltip(rN("option-show-existing-files-only-description"))
                .setClass("mod-toggle")
                .addToggle(function (e) {
                  return e
                    .setValue(t.options.hideUnresolved)
                    .registerOptionListener(i.optionListeners, "hideUnresolved")
                    .onChange(function (e) {
                      (t.options.hideUnresolved = e),
                        t.render(),
                        t.onOptionsChange();
                    });
                }),
              n ||
                new ZD(r)
                  .setName(rN("option-show-orphans"))
                  .setTooltip(rN("option-show-orphans-description"))
                  .setClass("mod-toggle")
                  .addToggle(function (e) {
                    return e
                      .setValue(t.options.showOrphans)
                      .registerOptionListener(i.optionListeners, "showOrphans")
                      .onChange(function (e) {
                        (t.options.showOrphans = e),
                          t.render(),
                          t.onOptionsChange();
                      });
                  }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.startSearch = function () {
              this.searchSetting.settingEl.addClass("is-loading");
            }),
            (t.prototype.stopSearch = function () {
              this.searchSetting.settingEl.removeClass("is-loading");
            }),
            (t.prototype.setDefaultOptions = function () {
              this.setOptions(qI);
            }),
            t
          );
        })(dN),
        gN = (function (e) {
          function t(t) {
            var n = e.call(this, t, "color-groups", rN("label-groups")) || this;
            return (
              (n.containerEl = null),
              t.controlsEl.appendChild(n.el),
              (n.optionListeners.colorGroups = function (e) {
                return (
                  Array.isArray(e) &&
                    (n.setColorQueries(e), n.engine.requestUpdateSearch()),
                  n.getColoredQueries()
                );
              }),
              n.setColorQueries([]),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.getColoredQueries = function () {
              for (var e = [], t = 0, n = this.groups; t < n.length; t++) {
                var i = n[t];
                e.push({
                  query: i.query.getValue(),
                  color: { a: 1, rgb: i.color.getValueInt() },
                });
              }
              return e;
            }),
            (t.prototype.setColorQueries = function (e) {
              var t = this,
                n = this.childrenEl;
              n.empty();
              for (
                var i = [],
                  r = n.createDiv({ cls: "graph-color-groups-container" }),
                  o = function (e) {
                    var n = r.createDiv("graph-color-group"),
                      o = new sT(n)
                        .setPlaceholder(rN("placeholder-enter-query"))
                        .setValue(e.query)
                        .onChange(function () {
                          return t.engine.requestUpdateSearch();
                        })
                        .then(function (e) {
                          return tN.attach(t.engine.app, e.inputEl, !1);
                        }),
                      s = new pT(n)
                        .setValueInt(e.color ? e.color.rgb : 0)
                        .onChange(function () {
                          return t.engine.updateSearch();
                        }),
                      a = s.colorPickerEl;
                    nn(a, rN("tooltip-click-to-change-drag-to-reorder"));
                    var l = { el: n, query: o, color: s };
                    a.addEventListener("mousedown", function (e) {
                      t.onDragOption(e, l);
                    }),
                      n.createDiv("clickable-icon", function (e) {
                        Xy(e, Jm, 16),
                          nn(e, rN("tooltip-delete-graph")),
                          e.addEventListener("click", function () {
                            i.remove(l), n.detach(), t.engine.updateSearch();
                          });
                      }),
                      i.push(l);
                  },
                  s = 0,
                  a = e;
                s < a.length;
                s++
              ) {
                var l = a[s];
                o(l);
              }
              (this.groups = i),
                n.createDiv("graph-color-button-container", function (e) {
                  e.createEl(
                    "button",
                    { cls: "mod-cta", text: rN("button-new-group") },
                    function (e) {
                      e.addEventListener("click", function () {
                        var e = "obsidian" === t.engine.app.getTheme(),
                          n = (function (e, t, n) {
                            var i, r, o;
                            if (((e /= 360), (n /= 100), 0 == (t /= 100)))
                              i = r = o = n;
                            else {
                              var s = n < 0.5 ? n * (1 + t) : n + t - n * t,
                                a = 2 * n - s;
                              (i = KF(a, s, e + 1 / 3)),
                                (r = KF(a, s, e)),
                                (o = KF(a, s, e - 1 / 3));
                            }
                            return { r: i, g: r, b: o };
                          })(40 * t.groups.length, e ? 70 : 60, 60),
                          i = n.r,
                          r = n.g,
                          s = n.b;
                        o({ query: "", color: { a: 1, rgb: $F(i, r, s) } }),
                          t.engine.updateSearch();
                      });
                    }
                  );
                });
            }),
            (t.prototype.onDragOption = function (e, t) {
              var n = this;
              if (0 === e.button) {
                var i = e.clientX,
                  r = e.clientY,
                  o = t.el,
                  s = o.getBoundingClientRect(),
                  a = e.clientX - s.x,
                  l = e.clientY - s.y,
                  c = null,
                  u = function (e) {
                    e.preventDefault();
                    var s = e.clientX,
                      u = e.clientY;
                    if (null === c) {
                      var h = s - i,
                        p = u - r;
                      if (h * h + p * p < 25) return;
                      var d = o.offsetWidth;
                      n.groups.remove(t),
                        (c = o.cloneNode(!0)).addClass("drag-ghost"),
                        (c.style.width = d + "px"),
                        document.body.appendChild(c),
                        document.body.addClass("is-grabbing"),
                        n.childrenEl.addClass("is-grabbing");
                    }
                    var f = n.getDropIndex(e);
                    o.detach(),
                      en(),
                      c &&
                        ((c.style.left = s - a + "px"),
                        (c.style.top = u - l + "px"));
                    for (var g = 0; g < n.groups.length; g++) {
                      (m = n.groups[g]) === t && g;
                    }
                    for (g = 0; g < n.groups.length; g++) {
                      var m;
                      (m = n.groups[g]).el.style.top =
                        g < f ? "0" : m.el.offsetHeight + "px";
                    }
                  },
                  h = function (e) {
                    if (
                      (document.removeEventListener("mousemove", u),
                      document.removeEventListener("mouseup", h),
                      c)
                    ) {
                      c.detach(),
                        document.body.removeClass("is-grabbing"),
                        n.childrenEl.removeClass("is-grabbing");
                      var i = n.getDropIndex(e);
                      n.groups.splice(i, 0, t),
                        n.setColorQueries(n.getColoredQueries()),
                        n.engine.updateSearch();
                    }
                  };
                document.addEventListener("mousemove", u),
                  document.addEventListener("mouseup", h);
              }
            }),
            (t.prototype.getDropIndex = function (e) {
              var t,
                n = e.clientY;
              for (t = 0; t < this.groups.length; t++) {
                var i = this.groups[t].el.getBoundingClientRect();
                if (n < i.top + i.height / 2) return t;
              }
              return t;
            }),
            t
          );
        })(dN),
        mN = {
          showArrow: !1,
          textFadeMultiplier: 0,
          nodeSizeMultiplier: 1,
          lineSizeMultiplier: 1,
        },
        vN = (function (e) {
          function t(t) {
            var n = e.call(this, t, "display", rN("label-display")) || this;
            t.controlsEl.appendChild(n.el);
            var i = n.childrenEl;
            return (
              new ZD(i)
                .setName(rN("option-show-arrows"))
                .setTooltip(rN("option-show-arrows-description"))
                .setClass("mod-toggle")
                .addToggle(function (e) {
                  return e
                    .registerOptionListener(n.optionListeners, "showArrow")
                    .onChange(function (e) {
                      t.renderer.setRenderOptions({ showArrow: e }),
                        t.onOptionsChange();
                    });
                }),
              new ZD(i)
                .setName(rN("option-text-fade"))
                .setClass("mod-slider")
                .addSlider(function (e) {
                  return e
                    .setLimits(-3, 3, 0.1)
                    .setDynamicTooltip()
                    .registerOptionListener(
                      n.optionListeners,
                      "textFadeMultiplier"
                    )
                    .onChange(function (e) {
                      t.renderer.setRenderOptions({ textFadeMultiplier: e }),
                        t.onOptionsChange();
                    });
                }),
              new ZD(i)
                .setName(rN("option-node-size"))
                .setClass("mod-slider")
                .addSlider(function (e) {
                  return e
                    .setLimits(0.1, 5, "any")
                    .setDynamicTooltip()
                    .registerOptionListener(
                      n.optionListeners,
                      "nodeSizeMultiplier"
                    )
                    .onChange(function (e) {
                      t.renderer.setRenderOptions({ nodeSizeMultiplier: e }),
                        t.onOptionsChange();
                    });
                }),
              new ZD(i)
                .setName(rN("option-link-thickness"))
                .setClass("mod-slider")
                .addSlider(function (e) {
                  return e
                    .setLimits(0.1, 5, "any")
                    .setDynamicTooltip()
                    .registerOptionListener(
                      n.optionListeners,
                      "lineSizeMultiplier"
                    )
                    .onChange(function (e) {
                      t.renderer.setRenderOptions({ lineSizeMultiplier: e }),
                        t.onOptionsChange();
                    });
                }),
              t.view instanceof cN ||
                new ZD(i).addButton(function (e) {
                  return e
                    .setButtonText(rN("button-animate-timelapse"))
                    .setCta()
                    .onClick(function () {
                      t.renderProgression();
                    });
                }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.setDefaultOptions = function () {
              this.setOptions(mN);
            }),
            t
          );
        })(dN),
        yN = {
          centerStrength: hN(0.1, 0.01),
          repelStrength: 10,
          linkStrength: hN(1, 0.01),
          linkDistance: 250,
        },
        bN = (function (e) {
          function t(t) {
            var n = e.call(this, t, "forces", rN("label-forces")) || this;
            t.controlsEl.appendChild(n.el);
            var i = n.childrenEl;
            return (
              new ZD(i)
                .setName(rN("option-center-force"))
                .setClass("mod-slider")
                .addSlider(function (e) {
                  return e
                    .setLimits(0, 1, "any")
                    .setDynamicTooltip()
                    .registerOptionListener(n.optionListeners, "centerStrength")
                    .onChange(function (e) {
                      t.renderer.setForces({ centerStrength: uN(e, 0.01) }),
                        t.onOptionsChange();
                    });
                }),
              new ZD(i)
                .setName(rN("option-repel-force"))
                .setClass("mod-slider")
                .addSlider(function (e) {
                  return e
                    .setLimits(0, 20, "any")
                    .setDynamicTooltip()
                    .registerOptionListener(n.optionListeners, "repelStrength")
                    .onChange(function (e) {
                      t.renderer.setForces({ repelStrength: e * e * e }),
                        t.onOptionsChange();
                    });
                }),
              new ZD(i)
                .setName(rN("option-link-force"))
                .setClass("mod-slider")
                .addSlider(function (e) {
                  return e
                    .setLimits(0, 1, "any")
                    .setDynamicTooltip()
                    .registerOptionListener(n.optionListeners, "linkStrength")
                    .onChange(function (e) {
                      t.renderer.setForces({ linkStrength: uN(e, 0.01) }),
                        t.onOptionsChange();
                    });
                }),
              new ZD(i)
                .setName(rN("option-link-distance"))
                .setClass("mod-slider")
                .addSlider(function (e) {
                  return e
                    .setLimits(30, 500, 1)
                    .setDynamicTooltip()
                    .registerOptionListener(n.optionListeners, "linkDistance")
                    .onChange(function (e) {
                      t.renderer.setForces({ linkDistance: e }),
                        t.onOptionsChange();
                    });
                }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.setDefaultOptions = function () {
              this.setOptions(yN);
            }),
            t
          );
        })(dN);
      function wN(e) {
        for (
          var t = createDiv("prompt-instructions"),
            n = function (e) {
              t.createDiv("prompt-instruction", function (t) {
                t.createSpan({
                  cls: "prompt-instruction-command",
                  text: e.command,
                }),
                  t.createSpan({ text: e.purpose });
              });
            },
            i = 0,
            r = e;
          i < r.length;
          i++
        ) {
          n(r[i]);
        }
        return t;
      }
      var kN = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.context = null),
              (n.limit = 100),
              n.suggestEl.addEventListener("mousedown", function (e) {
                return e.preventDefault();
              }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.setInstructions = function (e) {
              this.suggestEl.appendChild(wN(e));
            }),
            (t.prototype.trigger = function (e, t, n) {
              var i = this,
                r = e.getCursor("from"),
                o = e.getCursor("to");
              if (r.line !== o.line || r.ch !== o.ch)
                return (this.context = null), !1;
              var s = this.onTrigger(r, e, t);
              if (s) {
                var a = (this.context = {
                  editor: e,
                  file: t,
                  start: s.start,
                  end: s.end,
                  query: s.query,
                });
                if (n) {
                  var l = this.getSuggestions(a);
                  if (Array.isArray(l)) this.showSuggestions(l);
                  else {
                    if (!l) return;
                    A(i, void 0, void 0, function () {
                      var e;
                      return D(this, function (t) {
                        switch (t.label) {
                          case 0:
                            return [4, l];
                          case 1:
                            return (
                              (e = t.sent()) && this.showSuggestions(e), [2]
                            );
                        }
                      });
                    });
                  }
                }
                return !0;
              }
              return (this.context = null), !1;
            }),
            (t.prototype.showSuggestions = function (e) {
              if (0 !== e.length) {
                var t = this.limit;
                t > 0 && e.length > t && (e = e.slice(0, t)),
                  this.suggestions.setSuggestions(e),
                  this.updatePosition(!0);
              } else this.close();
            }),
            (t.prototype.updatePosition = function (e) {
              var t = this.context;
              if (t) {
                var n = t.editor;
                if ((this.open(), eb.isMobile)) {
                  if (e) {
                    var i = n.getCursor(),
                      r = n.coordsAtPos(i, !0),
                      o = n.getScrollInfo();
                    Math.abs(o.top - r.top) > 10 && n.scrollTo(null, r.top + 3);
                  }
                } else {
                  var s = n.coordsAtPos(t.start),
                    a = n.coordsAtPos(t.end);
                  this.reposition({
                    top: s.top,
                    left: Math.min(s.left, a.left),
                    right: Math.max(s.right, a.right),
                    bottom: a.bottom,
                  });
                }
              }
            }),
            (t.prototype.close = function () {
              (this.context = null), e.prototype.close.call(this);
            }),
            t
          );
        })(XI),
        CN = function (e, t) {
          return t.score - e.score;
        },
        xN = { type: "none", matches: null, score: 0 },
        SN = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.runnable = null),
              (n.fileSuggestions = null),
              (n.mode = "file"),
              (n.global = !1),
              n.setInstructions([
                {
                  command: Lt("editor.link-suggestion.label-type-hash"),
                  purpose: Lt("editor.link-suggestion.label-link-heading"),
                },
                {
                  command: Lt("editor.link-suggestion.label-type-block"),
                  purpose: Lt("editor.link-suggestion.label-link-block"),
                },
                {
                  command: Lt("editor.link-suggestion.label-type-pipe"),
                  purpose: Lt(
                    "editor.link-suggestion.label-change-display-text"
                  ),
                },
              ]),
              n.scope.register([], "Tab", function (e) {
                if (!e.isComposing && n.suggestions.useSelectedItem(e))
                  return !1;
              }),
              n.scope.register(null, "#", function (e) {
                if (
                  ("file" === n.mode || "heading" === n.mode) &&
                  n.suggestions.useSelectedItem(e)
                )
                  return !1;
              }),
              n.scope.register(null, "^", function (e) {
                if ("file" === n.mode && n.suggestions.useSelectedItem(e))
                  return !1;
              }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.onTrigger = function (e, t, n) {
              var i = e.line,
                r = t.getLine(i).substr(0, e.ch),
                o = r.lastIndexOf("[["),
                s = r.lastIndexOf("]");
              return -1 !== o && s < o
                ? {
                    start: { line: i, ch: o + 2 },
                    end: { line: i, ch: e.ch },
                    query: r.substr(o + 2),
                  }
                : null;
            }),
            (t.prototype.getSuggestions = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return (
                        (t = this.runnable) && t.cancel(),
                        (n = e.query),
                        (t = this.runnable = new _h()),
                        (n = n.trim()),
                        [4, this.getSuggestionsAsync(t, n)]
                      );
                    case 1:
                      if (!(i = r.sent()) || t.isCancelled()) return [2, null];
                      if (0 === i.length) {
                        if (eb.isMobile) return [2, []];
                        i = [xN];
                      }
                      return i.sort(CN), [2, i];
                  }
                });
              });
            }),
            (t.prototype.showSuggestions = function (t) {
              if ((e.prototype.showSuggestions.call(this, t), this.context)) {
                var n = this.context.query;
                (n && "^" !== n && "#" !== n) ||
                  this.suggestions.forceSetSelectedItem(-1, !1);
              }
            }),
            (t.prototype.renderSuggestion = function (e, t) {
              var n = t.createDiv("suggestion-content"),
                i = t.createDiv("suggestion-note"),
                r = e.matches;
              if (
                (!this.global ||
                  ("heading" !== e.type && "block" !== e.type) ||
                  i.setText(at(e.file.path)),
                "none" === e.type)
              )
                n.setText(Lt("editor.link-suggestion.label-no-match-found"));
              else if ("file" === e.type) {
                var o = e.path,
                  s = Ye(o),
                  a = o.substr(0, o.length - s.length);
                lP(i, a, r), lP(n, s, r, -a.length);
              } else if ("alias" === e.type)
                i.setText(e.path),
                  lP(n, e.alias, r),
                  n.createSpan(
                    { cls: "suggestion-flair", prepend: !0 },
                    function (e) {
                      Xy(e, kv, 13), nn(e, Lt("interface.tooltip.alias"));
                    }
                  );
              else if ("linktext" === e.type) lP(n, e.path, r);
              else if ("heading" === e.type)
                lP(n, e.heading, r),
                  n.createSpan({
                    cls: "suggestion-flair",
                    text: "H" + e.level,
                    prepend: !0,
                  });
              else if ("block" === e.type) {
                lP(n, e.display, r);
                var l = e.node.id;
                l &&
                  String.isString(l) &&
                  (i.getText().trim() && i.appendText(" > "),
                  lP(i, l, e.idMatch));
              }
            }),
            (t.prototype.getSuggestionsAsync = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i, r, o, s, a, l, c;
                return D(this, function (u) {
                  if (
                    ((n = t.indexOf("|")),
                    (i = null),
                    -1 !== n && ((i = t.substr(n + 1)), (t = t.substr(0, n))),
                    null === i)
                  ) {
                    if (t.startsWith("##"))
                      return (
                        (t = t.substr(2)),
                        (this.mode = "heading"),
                        (this.global = !0),
                        [2, this.getGlobalHeadingSuggestions(e, t)]
                      );
                    if (t.startsWith("^^"))
                      return (
                        (t = t.substr(2)),
                        (this.mode = "block"),
                        (this.global = !0),
                        [2, this.getGlobalBlockSuggestions(e, t)]
                      );
                  }
                  return (
                    (this.global = !1),
                    (r = SD(t)),
                    (o = r.path),
                    (s = r.subpath),
                    null !== i
                      ? ((this.mode = "display"),
                        [2, this.getDisplaySuggestions(e, o, s, i)])
                      : s
                      ? s.startsWith("#^")
                        ? ((a = s.substr(2)),
                          (this.mode = "block"),
                          [2, this.getBlockSuggestions(e, o, a)])
                        : ((this.mode = "heading"),
                          [2, this.getHeadingSuggestions(e, o, s)])
                      : -1 !== (l = o.lastIndexOf("^"))
                      ? ((c = o.substr(l + 1)),
                        (o = o.substr(0, l)),
                        (this.mode = "block"),
                        [2, this.getBlockSuggestions(e, o, c)])
                      : ((this.mode = "file"),
                        [2, this.getFileSuggestions(e, o)])
                  );
                });
              });
            }),
            (t.prototype.getDisplaySuggestions = function (e, t, n, i) {
              return A(this, void 0, Promise, function () {
                var e, r, o, s, a, l, c, u, h, p, d;
                return D(this, function (f) {
                  if (
                    ((e = this.app.metadataCache),
                    (r = this.context.file),
                    !(o = e.getFirstLinkpathDest(t, r.path)))
                  )
                    return [2, []];
                  if (!(s = e.getFileCache(o)) || !s.frontmatter)
                    return [2, []];
                  if (!(a = Kg(s.frontmatter))) return [2, []];
                  for (l = [], c = XT(i), u = 0, h = a; u < h.length; u++)
                    (p = h[u]),
                      (d = nP(c, p)) &&
                        l.push({
                          type: "alias",
                          alias: p,
                          file: o,
                          path: t + n,
                          score: d.score,
                          matches: d.matches,
                        });
                  return [2, l];
                });
              });
            }),
            (t.prototype.getHeadingSuggestions = function (e, t, n) {
              var i, r;
              return A(this, void 0, Promise, function () {
                var o, s, a, l, c, u, h, p, d, f, g, m, v, y, b, w;
                return D(this, function (k) {
                  switch (k.label) {
                    case 0:
                      if (
                        ((o = this.app.metadataCache),
                        (s = this.context.file),
                        !(a = o.getFirstLinkpathDest(t, s.path)) ||
                          "md" !== a.extension)
                      )
                        return [2, []];
                      if (
                        !(l = o.getFileCache(a)) ||
                        !l.headings ||
                        0 === l.headings.length
                      )
                        return [2, []];
                      (c = n.split("#").filter(function (e) {
                        return !!e;
                      })),
                        n.endsWith("#") && c.push(""),
                        (u = "#" + c.slice(0, c.length - 1).join("#")).endsWith(
                          "#"
                        ) || (u += "#"),
                        (h = 0),
                        (p = 0),
                        (d = []),
                        (k.label = 1);
                    case 1:
                      k.trys.push([1, 6, 7, 12]),
                        (f = I($h(Kh(l.headings), { maxDelay: 0 }))),
                        (k.label = 2);
                    case 2:
                      return [4, f.next()];
                    case 3:
                      if ((g = k.sent()).done) return [3, 5];
                      if (((m = g.value), e.isCancelled())) return [3, 5];
                      if (m.level <= p || h >= c.length) return [3, 5];
                      (v = m.heading.toLowerCase()),
                        h === c.length - 1
                          ? "" === (y = c[h])
                            ? d.push({
                                type: "heading",
                                file: a,
                                path: t,
                                subpath: u,
                                level: m.level,
                                heading: m.heading,
                                score: 0,
                                matches: null,
                              })
                            : (b = nP(XT(y), m.heading)) &&
                              d.push({
                                type: "heading",
                                file: a,
                                path: t,
                                subpath: u,
                                level: m.level,
                                heading: m.heading,
                                score: b.score,
                                matches: b.matches,
                              })
                          : v === c[h].toLowerCase() && (h++, (p = m.level)),
                        (k.label = 4);
                    case 4:
                      return [3, 2];
                    case 5:
                      return [3, 12];
                    case 6:
                      return (w = k.sent()), (i = { error: w }), [3, 12];
                    case 7:
                      return (
                        k.trys.push([7, , 10, 11]),
                        g && !g.done && (r = f.return) ? [4, r.call(f)] : [3, 9]
                      );
                    case 8:
                      k.sent(), (k.label = 9);
                    case 9:
                      return [3, 11];
                    case 10:
                      if (i) throw i.error;
                      return [7];
                    case 11:
                      return [7];
                    case 12:
                      return 1 === d.length &&
                        d[0].heading.toLowerCase() === c.last().toLowerCase()
                        ? [2, []]
                        : [2, d];
                  }
                });
              });
            }),
            (t.prototype.getGlobalHeadingSuggestions = function (e, t) {
              var n, i;
              return A(this, void 0, Promise, function () {
                var r, o, s, a, l, c, u, h, p, d, f, g, m;
                return D(this, function (v) {
                  switch (v.label) {
                    case 0:
                      (r = this.app.metadataCache),
                        (o = []),
                        (s = XT(t)),
                        (a = 0),
                        (l = r.getCachedFiles()),
                        (v.label = 1);
                    case 1:
                      if (!(a < l.length)) return [3, 14];
                      if (((c = l[a]), e.isCancelled())) return [3, 14];
                      if (
                        !(
                          (u =
                            this.app.vault.getAbstractFileByPath(c)) instanceof
                          Ab
                        ) ||
                        "md" !== u.extension
                      )
                        return [3, 13];
                      if (
                        !(h = r.getCache(c)) ||
                        !h.headings ||
                        0 === h.headings.length
                      )
                        return [3, 13];
                      v.label = 2;
                    case 2:
                      v.trys.push([2, 7, 8, 13]),
                        (n = void 0),
                        (p = I($h(Kh(h.headings), { maxDelay: 0 }))),
                        (v.label = 3);
                    case 3:
                      return [4, p.next()];
                    case 4:
                      if ((d = v.sent()).done) return [3, 6];
                      if (((f = d.value), e.isCancelled())) return [3, 6];
                      (g = nP(s, f.heading)) &&
                        o.push({
                          type: "heading",
                          file: u,
                          path: null,
                          subpath: "#",
                          level: f.level,
                          heading: f.heading,
                          score: g.score,
                          matches: g.matches,
                        }),
                        (v.label = 5);
                    case 5:
                      return [3, 3];
                    case 6:
                      return [3, 13];
                    case 7:
                      return (m = v.sent()), (n = { error: m }), [3, 13];
                    case 8:
                      return (
                        v.trys.push([8, , 11, 12]),
                        d && !d.done && (i = p.return)
                          ? [4, i.call(p)]
                          : [3, 10]
                      );
                    case 9:
                      v.sent(), (v.label = 10);
                    case 10:
                      return [3, 12];
                    case 11:
                      if (n) throw n.error;
                      return [7];
                    case 12:
                      return [7];
                    case 13:
                      return a++, [3, 1];
                    case 14:
                      return [2, o];
                  }
                });
              });
            }),
            (t.prototype.getBlockSuggestions = function (e, t, n) {
              var i, r;
              return A(this, void 0, Promise, function () {
                var o, s, a, l, c, u, h, p, d, f, g, m;
                return D(this, function (v) {
                  switch (v.label) {
                    case 0:
                      return (
                        (o = this.app.metadataCache),
                        (s = this.context.file),
                        (a = o.getFirstLinkpathDest(t, s.path)) &&
                        "md" === a.extension
                          ? [4, o.blockCache.getForFile(e, a)]
                          : [2, []]
                      );
                    case 1:
                      if (!(l = v.sent())) return [2, []];
                      (c = l.content),
                        (u = n.toLowerCase().split(" ")),
                        (h = []),
                        (v.label = 2);
                    case 2:
                      v.trys.push([2, 7, 8, 13]),
                        (p = I($h(Kh(l.blocks), { maxDelay: 0 }))),
                        (v.label = 3);
                    case 3:
                      return [4, p.next()];
                    case 4:
                      if ((d = v.sent()).done) return [3, 6];
                      if (((f = d.value), e.isCancelled())) return [3, 6];
                      (g = this.matchBlock(s, a, f, t, c, u)) && h.push(g),
                        (v.label = 5);
                    case 5:
                      return [3, 3];
                    case 6:
                      return [3, 13];
                    case 7:
                      return (m = v.sent()), (i = { error: m }), [3, 13];
                    case 8:
                      return (
                        v.trys.push([8, , 11, 12]),
                        d && !d.done && (r = p.return)
                          ? [4, r.call(p)]
                          : [3, 10]
                      );
                    case 9:
                      v.sent(), (v.label = 10);
                    case 10:
                      return [3, 12];
                    case 11:
                      if (i) throw i.error;
                      return [7];
                    case 12:
                      return [7];
                    case 13:
                      return [2, h];
                  }
                });
              });
            }),
            (t.prototype.getGlobalBlockSuggestions = function (e, t) {
              var n, i;
              return A(this, void 0, Promise, function () {
                var r, o, s, a, l, c, u, h, p, d, f, g, m, v;
                return D(this, function (y) {
                  switch (y.label) {
                    case 0:
                      (r = this.app.metadataCache),
                        (o = this.context.file),
                        (s = t.toLowerCase().split(" ")),
                        (a = []),
                        (y.label = 1);
                    case 1:
                      y.trys.push([1, 6, 7, 12]),
                        (l = I(
                          $h(r.blockCache.getAll(e), {
                            batchSize: 1,
                            maxDelay: 0,
                          })
                        )),
                        (y.label = 2);
                    case 2:
                      return [4, l.next()];
                    case 3:
                      if ((c = y.sent()).done) return [3, 5];
                      if (((u = c.value), e.isCancelled())) return [3, 5];
                      if (((h = u.file), (p = u.content), "md" !== h.extension))
                        return [3, 4];
                      for (d = 0, f = u.blocks; d < f.length; d++)
                        (g = f[d]),
                          (m = this.matchBlock(o, h, g, null, p, s)) &&
                            a.push(m);
                      y.label = 4;
                    case 4:
                      return [3, 2];
                    case 5:
                      return [3, 12];
                    case 6:
                      return (v = y.sent()), (n = { error: v }), [3, 12];
                    case 7:
                      return (
                        y.trys.push([7, , 10, 11]),
                        c && !c.done && (i = l.return) ? [4, i.call(l)] : [3, 9]
                      );
                    case 8:
                      y.sent(), (y.label = 9);
                    case 9:
                      return [3, 11];
                    case 10:
                      if (n) throw n.error;
                      return [7];
                    case 11:
                      return [7];
                    case 12:
                      return [2, a];
                  }
                });
              });
            }),
            (t.prototype.matchBlock = function (e, t, n, i, r, o) {
              if (
                t === e &&
                n.node.position.start.line - 1 <= this.context.start.line &&
                n.node.position.end.line - 1 >= this.context.start.line
              )
                return null;
              var s = oP(o, n.display.toLowerCase()),
                a = s ? -(s.length + (s.length > 0 ? s[0][0] / 10 : 0)) : 0,
                l = null,
                c = n.node.id;
              return (
                c &&
                  String.isString(c) &&
                  (l = oP(o, c.toLowerCase())) &&
                  (a = 0),
                s || l
                  ? {
                      type: "block",
                      file: t,
                      path: i,
                      content: r,
                      display: n.display,
                      node: n.node,
                      score: a,
                      matches: s,
                      idMatch: l,
                    }
                  : null
              );
            }),
            (t.prototype.getFileSuggestions = function (e, t) {
              var n, i;
              return A(this, void 0, Promise, function () {
                var r, o, s, a, l, c, u, h, p, d, f, g, m;
                return D(this, function (v) {
                  switch (v.label) {
                    case 0:
                      if (
                        ((r = this.fileSuggestions) ||
                          (r = this.fileSuggestions =
                            this.app.metadataCache.getLinkSuggestions()),
                        (o = []),
                        "" === t)
                      ) {
                        for (s = 0, a = r; s < a.length; s++)
                          (h = a[s]),
                            (p = h.file)
                              ? (d = h.alias)
                                ? o.push({
                                    type: "alias",
                                    alias: d,
                                    file: p,
                                    path: h.path,
                                    score: p.stat.mtime,
                                    matches: null,
                                  })
                                : o.push({
                                    type: "file",
                                    file: p,
                                    path: h.path,
                                    score: p.stat.mtime,
                                    matches: null,
                                  })
                              : o.push({
                                  type: "linktext",
                                  path: h.path,
                                  score: 0,
                                  matches: null,
                                });
                        return [2, o.sort(CN)];
                      }
                      (l = r.length < 1e4 ? ZT(t) : sP(t)), (v.label = 1);
                    case 1:
                      v.trys.push([1, 6, 7, 12]),
                        (c = I($h(Kh(r), { maxDelay: 0 }))),
                        (v.label = 2);
                    case 2:
                      return [4, c.next()];
                    case 3:
                      if ((u = v.sent()).done) return [3, 5];
                      if (((h = u.value), e.isCancelled())) return [3, 5];
                      (p = h.file)
                        ? (d = h.alias)
                          ? (f = l(d)) &&
                            o.push({
                              type: "alias",
                              alias: d,
                              file: h.file,
                              path: h.path,
                              score: f.score,
                              matches: f.matches,
                            })
                          : (f = EN(l, h.path)) &&
                            o.push({
                              type: "file",
                              file: h.file,
                              path: h.path,
                              score: f.score,
                              matches: f.matches,
                            })
                        : (f = l(h.path)) &&
                          o.push({
                            type: "linktext",
                            path: h.path,
                            score: f.score,
                            matches: f.matches,
                          }),
                        (v.label = 4);
                    case 4:
                      return [3, 2];
                    case 5:
                      return [3, 12];
                    case 6:
                      return (g = v.sent()), (n = { error: g }), [3, 12];
                    case 7:
                      return (
                        v.trys.push([7, , 10, 11]),
                        u && !u.done && (i = c.return) ? [4, i.call(c)] : [3, 9]
                      );
                    case 8:
                      v.sent(), (v.label = 9);
                    case 9:
                      return [3, 11];
                    case 10:
                      if (n) throw n.error;
                      return [7];
                    case 11:
                      return [7];
                    case 12:
                      return 1 === o.length &&
                        "file" === (m = o[0]).type &&
                        m.file.name.toLowerCase() === t.toLowerCase()
                        ? [2, null]
                        : [2, o];
                  }
                });
              });
            }),
            (t.prototype.selectSuggestion = function (e, t) {
              var n = this,
                i = this.context;
              if ((this.close(), i)) {
                var r = i.editor,
                  o = i.start,
                  s = i.end,
                  a = i.file,
                  l = [],
                  c = null,
                  u = "",
                  h = "",
                  p = "",
                  d = t instanceof KeyboardEvent ? Qb(t) : "",
                  f = this.app.vault.getConfig("useMarkdownLinks"),
                  g = a,
                  m = !f,
                  v = function (e, t) {
                    return null !== t
                      ? t
                      : e.path === g.path
                      ? ""
                      : n.app.metadataCache.fileToLinktext(e, g.path, m);
                  },
                  y = r
                    .getLine(s.line)
                    .substr(s.ch)
                    .match(/^(\s*)(\|)?(.*?)(]])/),
                  b = o;
                if ("none" !== e.type) {
                  if ("file" === e.type)
                    (u = e.file.basename),
                      (p = this.app.metadataCache.fileToLinktext(
                        e.file,
                        g.path,
                        m
                      ));
                  else if ("alias" === e.type)
                    (h = u = e.alias),
                      (p = this.app.metadataCache.fileToLinktext(
                        e.file,
                        g.path,
                        m
                      ));
                  else if ("linktext" === e.type) (u = e.path), (p = e.path);
                  else if ("heading" === e.type) {
                    var w = AD(e.heading);
                    (u = w), (p = (k = v(e.file, e.path)) + e.subpath + w);
                  } else if ("block" === e.type) {
                    u = "";
                    var k = v(e.file, e.path),
                      C = e.node;
                    if (C.id) p = k + "#^" + C.id;
                    else {
                      var x = Oe(6);
                      p = k + "#^" + x;
                      var S = e.file,
                        E = e.content,
                        M = C.position.start.offset,
                        L = C.position.end.offset,
                        A = 0,
                        D = "paragraph" === C.type || "listItem" === C.type,
                        T = "^" + x;
                      if (D) {
                        if (((T = " " + T), "listItem" === C.type)) {
                          var P = C.children;
                          if (P && P.length > 1) {
                            var O = P[P.length - 1],
                              F = P[P.length - 2];
                            "list" === O.type && (L = F.position.end.offset);
                          }
                        }
                      } else (T = "\n\n" + T), (A = 2);
                      if (g !== S)
                        D ||
                          ("\n" === E.charAt(L) && "\n" === E.charAt(L + 1)) ||
                          ((T += "\n"), A++),
                          (E = E.slice(0, L) + T + E.slice(L)),
                          this.app.vault.modify(S, E);
                      else {
                        var I = E.substring(M, L);
                        if ("" === I) return void this.close();
                        for (var N = r.getValue(), B = 0, R = -99999; ; ) {
                          var z = N.indexOf(I, B);
                          if (-1 === z) break;
                          Math.abs(M - z) < Math.abs(M - R) && (R = z),
                            (B = z + I.length);
                        }
                        if (R >= 0) {
                          var H = vh(N, [R + I.length])[0];
                          !D && r.getLine(H.line + 1) && ((T += "\n"), A++),
                            l.push({ from: H, text: T }),
                            (b = lh(o.line + A, o.ch));
                        }
                      }
                    }
                  }
                  if (
                    (y &&
                      !y[0].contains("[[") &&
                      (y[2] && !h && ((h = y[3]), u || (u = h)),
                      (s = ch(s, y[0].length))),
                    f && "#" !== d && "^" !== d)
                  )
                    (o = ch(o, -2)),
                      (p = "[" + u + "](" + wg(p) + ")"),
                      l.push({ from: o, to: s, text: p }),
                      (c = u
                        ? { from: ch(b, p.length - 2) }
                        : { from: ch(b, 1) });
                  else {
                    "#" === d &&
                      ((p += "#"),
                      "file" === e.type &&
                        _e.contains(e.file.extension) &&
                        (p += "page=")),
                      "^" === d && (p += "^"),
                      h && (p += "|" + h),
                      (p += "]]"),
                      l.push({ from: o, to: s, text: p });
                    var V = p.length;
                    "Tab" === d
                      ? ((V -= 2),
                        h && (c = { from: ch(b, V), to: ch(b, V - h.length) }))
                      : ("#" !== d && "^" !== d) ||
                        ((V -= 2), h && (V -= h.length + 1)),
                      c || (c = { from: ch(b, V) });
                  }
                  r.transaction({ changes: l, selection: c }),
                    setTimeout(function () {
                      return r.focus();
                    });
                } else
                  ("Enter" !== d && "Tab" !== d) ||
                    ((s = ch(s, y[0].length)), r.setSelection(s));
              }
            }),
            (t.prototype.close = function () {
              e.prototype.close.call(this),
                (this.fileSuggestions = null),
                this.runnable &&
                  (this.runnable.cancel(), (this.runnable = null));
            }),
            t
          );
        })(kN);
      function EN(e, t) {
        var n = Ye(t),
          i = e(n);
        return i
          ? (rP(i.matches, t.length - n.length), i)
          : ((i = e(t)) && (i.score -= 1), i);
      }
      var MN =
          /(^|\s)#[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]*$/g,
        LN = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.onTrigger = function (e, t, n) {
              var i = e.line,
                r = t.getLine(i),
                o = r.substr(0, e.ch);
              if (o.match(MN) && "#" !== r.substr(e.ch, 1)) {
                var s = o.lastIndexOf("#"),
                  a = o.substr(s + 1);
                return {
                  start: { line: i, ch: s },
                  end: { line: i, ch: e.ch },
                  query: a,
                };
              }
              return null;
            }),
            (t.prototype.renderSuggestion = function (e, t) {
              aP(t, e.tag, e);
            }),
            (t.prototype.selectSuggestion = function (e) {
              var t = this.context;
              if ((this.close(), t)) {
                var n = t.editor,
                  i = t.start,
                  r = t.end;
                n.transaction({
                  changes: [{ from: i, to: r, text: e.tag + " " }],
                }),
                  setTimeout(function () {
                    return n.focus();
                  });
              }
            }),
            (t.prototype.getSuggestions = function (e) {
              var t = e.query;
              t = t.toLowerCase();
              var n = this.app.metadataCache.getTags(),
                i = [],
                r = [t];
              for (var o in n)
                if (ke(n, o))
                  if ("" === t) i.push({ tag: o, score: 0, matches: null });
                  else {
                    var s = oP(r, o.toLowerCase());
                    s &&
                      i.push({
                        tag: o,
                        score: eP(s, t.length, o.length, 0),
                        matches: s,
                      });
                  }
              return (
                i.sort(function (e, t) {
                  return t.score - e.score;
                }),
                i
              );
            }),
            t
          );
        })(kN),
        AN = (function () {
          function e(e) {
            (this.suggests = []),
              (this.currentSuggest = null),
              this.addSuggest(new SN(e)),
              this.addSuggest(new LN(e));
          }
          return (
            (e.prototype.addSuggest = function (e) {
              this.suggests.push(e);
            }),
            (e.prototype.removeSuggest = function (e) {
              this.currentSuggest === e && this.close(),
                this.suggests.remove(e);
            }),
            (e.prototype.trigger = function (e, t, n) {
              if (e.hasFocus()) {
                for (var i = 0, r = this.suggests; i < r.length; i++) {
                  var o = r[i];
                  if (o.trigger(e, t, n))
                    return void (n && this.setCurrentSuggest(o));
                }
                this.close();
              }
            }),
            (e.prototype.setCurrentSuggest = function (e) {
              var t = this.currentSuggest;
              t !== e && (t && t.close(), (this.currentSuggest = e));
            }),
            (e.prototype.isShowingSuggestion = function () {
              var e = this.currentSuggest;
              return e && e.isOpen;
            }),
            (e.prototype.reposition = function () {
              var e = this.currentSuggest;
              e && e.isOpen && e.updatePosition();
            }),
            (e.prototype.close = function () {
              this.setCurrentSuggest(null);
            }),
            e
          );
        })(),
        DN = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            n.titleEl.setText(Lt("interface.label-debug-info"));
            var i = n.contentEl,
              r = (n.infoTextEl = i.createEl("textarea", {
                cls: "debug-textarea",
              }));
            r.spellcheck = !1;
            var o = t.account,
              s = "",
              a = "";
            if (((s += "SYSTEM INFO:\n"), eb.isDesktopApp)) {
              ut(function (e) {
                var t = e.ipcRenderer.sendSync("version");
                (a = e.remote.app.getVersion()),
                  (s += "\tObsidian version: v" + t + "\n"),
                  (s += "\tInstaller version: v" + a + "\n");
              });
              var l = ct("os");
              l &&
                (s +=
                  "\tOperating system: " +
                  l.version() +
                  " " +
                  l.release +
                  "\n");
            }
            if (eb.isMobileApp) {
              var c = "\tOperating system: Obsidian for Mobile\n";
              (s += c),
                kI.getInfo().then(function (e) {
                  (s = s.replace(
                    c,
                    "\tOperating system: " +
                      e.platform +
                      " " +
                      e.osVersion +
                      " (" +
                      e.manufacturer +
                      " " +
                      e.model +
                      ")\n"
                  )),
                    (r.value = s);
                });
            }
            var u = o.token ? "logged in" : "not logged in";
            if (((s += "\tLogin status: " + u + "\n"), o.token)) {
              var h = o.license || "none";
              s += "\tCatalyst license: " + h + "\n";
            }
            var p = "";
            ut(function (e) {
              (p = e.ipcRenderer.sendSync("insider-build", null)
                ? "on"
                : "off"),
                (s += "\tInsider build toggle: " + p + "\n");
            });
            var d = t.vault.getConfig("livePreview") ? "on" : "off",
              f = t.vault.getConfig("legacyEditor") ? "on" : "off";
            (s += "\tLive preview: " + d + "\n"),
              (s += "\tLegacy editor: " + f + "\n");
            var g = "obsidian" === t.getTheme() ? "dark" : "light";
            s += "\tBase theme: " + g + "\n";
            var m = t.customCss.theme || "none";
            s += "\tCommunity theme: " + m + "\n";
            var v = t.customCss.enabledSnippets.size;
            s += "\tSnippets enabled: " + v + "\n";
            var y = t.plugins.isEnabled() ? "off" : "on";
            s += "\tSafe mode: " + y + "\n";
            var b = 0;
            if (t.plugins.isEnabled()) {
              var w = t.plugins.manifests,
                k = Object.keys(w),
                C = t.plugins.plugins;
              (s += "\tPlugins installed: " + k.length + "\n"),
                (b = Object.keys(C).length),
                (s += "\tPlugins enabled: " + b + "\n");
              var x = 1;
              for (var S in C)
                C.hasOwnProperty(S) &&
                  ((s += "\t\t" + x + ": " + C[S].manifest.name + "\n"), x++);
            }
            s += "\nRECOMMENDATIONS:\n";
            var E = "";
            return (
              GF(a, "0.11.0") &&
                (E +=
                  "\tUpdate installer: installer version too low, please download from https://obsidian.md/download and reinstall.\n"),
              ("none" !== m || v > 0) &&
                (E +=
                  "\tCustom theme: for cosmetic issues, please first try updating your theme to latest. If still not fixed, please try to make the issue happen in the help vault or disable community theme and snippets.\n"),
              "off" === y &&
                b > 0 &&
                (E +=
                  "\tCommunity plugins: for bugs, please first try updating all your plugins to latest. If still not fixed, please try to make the issue happen in the help vault or disable community plugins.\n"),
              "" === E && (E = "\tnone\n"),
              (s += E),
              (r.value = s),
              i.createDiv("modal-button-container", function (e) {
                e.createEl(
                  "button",
                  { text: Lt("interface.start-screen.option-open-help-vault") },
                  function (e) {
                    e.addEventListener("click", function () {
                      return A(n, void 0, void 0, function () {
                        return D(this, function (e) {
                          return t.openHelp(), [2];
                        });
                      });
                    });
                  }
                ),
                  e.createEl(
                    "button",
                    { text: Lt("interface.label-copy") },
                    function (e) {
                      e.addEventListener("click", function () {
                        return A(n, void 0, void 0, function () {
                          return D(this, function (e) {
                            return (
                              Pt(r.value),
                              new lw(
                                Lt("interface.copied", {
                                  item: Lt("interface.label-debug-info"),
                                })
                              ),
                              [2]
                            );
                          });
                        });
                      });
                    }
                  );
              }),
              n
            );
          }
          return M(t, e), t;
        })(vD),
        TN = "obsidian://";
      function PN(e) {
        if (!e.startsWith(TN)) return null;
        console.log("Received callback URL", e);
        var t = {};
        if ((e = e.substr(TN.length)).startsWith("vault/")) {
          var n = (e = e.substr("vault/".length)).split("/").map(function (e) {
            return decodeURIComponent(e);
          });
          (t.action = "open"),
            (t.vault = n[0]),
            (t.file = n.slice(1).join("/"));
        } else {
          var i = "",
            r = "",
            o = e.indexOf("?"),
            s = e.indexOf("#", Math.max(0, o));
          s >= 0 && ((r = e.substr(s + 1)), (e = e.substr(0, s)), (t.hash = r)),
            o >= 0 && ((i = e.substr(o + 1)), (e = e.substr(0, o)));
          for (var a = 0, l = i.split("&"); a < l.length; a++) {
            var c = "true";
            (n = l[a].split("=")).length > 1 && (c = decodeURIComponent(n[1])),
              (t[decodeURIComponent(n[0])] = c);
          }
          t.action = e.replace(/\/+$/g, "");
        }
        return t;
      }
      var ON = (function () {
          function e(e, t) {
            var n = this;
            (this.workspace = null),
              (this.containerEl = null),
              (this.ribbonActionsEl = null),
              (this.collapseButtonEl = null),
              (this.ribbonSettingEl = null),
              (this.isMobile = !1),
              (this.workspace = e);
            var i = (this.containerEl = createDiv(
              "workspace-ribbon side-dock-ribbon"
            ));
            i.addClass("mod-" + t),
              (this.collapseButtonEl = i.createDiv(
                "workspace-ribbon-collapse-btn",
                function (e) {
                  var i = Lt("interface.sidebar-collapse");
                  "left" === t
                    ? (nn(e, i, { placement: "right" }), Xy(e, mm))
                    : "right" === t &&
                      (nn(e, i, { placement: "left" }), Xy(e, vm)),
                    e.addEventListener("click", function () {
                      "left" === t
                        ? n.workspace.leftSplit.toggle()
                        : "right" === t && n.workspace.rightSplit.toggle();
                    });
                }
              )),
              "left" === t &&
                ((this.ribbonActionsEl = i.createDiv("side-dock-actions")),
                (this.ribbonSettingEl = i.createDiv("side-dock-settings")),
                eb.isMobile || Fh(i));
            var r = e.app;
            if ("left" === t) {
              var o = this.makeRibbonActionButton(
                ov,
                Lt("interface.switch-vault"),
                function (e) {
                  e.stopPropagation(), r.openVaultChooser();
                }
              );
              o.addEventListener("mouseover", function () {
                Xy(o, sv, 18);
              }),
                o.addEventListener("mouseout", function () {
                  Xy(o, ov, 18);
                }),
                this.ribbonSettingEl.appendChild(o);
              var s = this.makeRibbonActionButton(
                rv,
                Lt("interface.help"),
                function (e) {
                  e.stopPropagation(), r.openHelp();
                }
              );
              this.ribbonSettingEl.appendChild(s);
              var a = this.makeRibbonActionButton(
                xm,
                Lt("interface.settings"),
                function (e) {
                  e.stopPropagation(), r.setting.open();
                }
              );
              this.ribbonSettingEl.appendChild(a);
            }
          }
          return (
            (e.prototype.addRibbonActionButton = function (e, t, n) {
              var i = this.makeRibbonActionButton(e, t, n);
              return this.ribbonActionsEl.insertBefore(i, null), i;
            }),
            (e.prototype.setCollapsedState = function (e) {
              this.containerEl.toggleClass("is-collapsed", e),
                nn(
                  this.collapseButtonEl,
                  Lt(
                    e
                      ? "interface.sidebar-expand"
                      : "interface.sidebar-collapse"
                  )
                );
            }),
            (e.prototype.hide = function () {
              this.containerEl.addClass("is-hidden");
            }),
            (e.prototype.show = function () {
              this.containerEl.removeClass("is-hidden");
            }),
            (e.prototype.makeRibbonActionButton = function (e, t, n) {
              var i = createDiv("side-dock-ribbon-action");
              return (
                i.onClickEvent(n),
                nn(i, t, { placement: "right" }),
                eb.isMobile ? Xy(i, e, 22) : Xy(i, e, 18),
                i
              );
            }),
            e
          );
        })(),
        FN = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            (i.leftSplit = null),
              (i.rightSplit = null),
              (i.leftRibbon = null),
              (i.rightRibbon = null),
              (i.rootSplit = null),
              (i.activeLeaf = null),
              (i.containerEl = null),
              (i.layoutReady = !1),
              (i.mobileFileInfos = []),
              (i.closeables = []),
              (i.backlinkInDocument = !1),
              (i.lastOpenFiles = []),
              (i.protocolHandlers = new Map()),
              (i.onLayoutReadyCallbacks = []),
              (i.undoHistory = []),
              (i.isMobileDimmed = !1),
              (i.requestUpdateClosable = Tt(i.updateClosable.bind(i), 0)),
              (i.hoverLinkSources = {}),
              (i.editorExtensions = []),
              (i.app = t),
              (i.containerEl = n),
              (i.scope = new tw(t.scope, function () {
                var e = i.activeLeaf;
                return e && e.view && e.view.scope ? e.view.scope : null;
              })),
              t.keymap.pushScope(i.scope),
              (i.leftRibbon = new ON(i, "left")),
              (i.rightRibbon = new ON(i, "right")),
              (i.requestSaveLayout = Tt(i.saveLayout.bind(i), 1e3)),
              (i.requestSaveHistory = Tt(i.updateHistory.bind(i), 100)),
              (i.requestUpdateGroups = Tt(i.updateGroups.bind(i), 0)),
              (i.requestResize = Tt(i.onResize.bind(i), 0)),
              (i.requestActiveLeafEvents = Tt(i.activeLeafEvents.bind(i), 0)),
              (i.editorSuggest = new AN(t)),
              window.addEventListener("resize", i.requestResize.bind(i)),
              window.addEventListener("popstate", function (e) {
                var t = e.state;
                if ((e.preventDefault(), t)) {
                  var n = i.getLeafById(t.leaf),
                    r = JSON.parse(t.state),
                    o = JSON.parse(t.eState);
                  (n && !n.pinned && n.view) || (n = i.getUnpinnedLeaf(r.type)),
                    (r.popstate = !0),
                    (r.active = !0),
                    n.setViewState(r, o);
                }
              }),
              document.addEventListener("click", i.onDocumentClick.bind(i)),
              i.app.vault.on("rename", function (e, t) {
                if (e instanceof Ab) {
                  var n = i.lastOpenFiles,
                    r = n.indexOf(t);
                  -1 !== r && ((n[r] = e.path), i.requestSaveLayout());
                }
              }),
              i.app.vault.on("config-changed", function () {
                i.updateOptions();
              }),
              i.on("file-open", function (e) {
                e && i.recordMostRecentOpenedFile(e);
              }),
              i.on("file-menu", function (e, t) {
                t instanceof Ab &&
                  e.addItem(function (e) {
                    return e
                      .setTitle(Lt("commands.copy-url"))
                      .setIcon(Pm)
                      .onClick(function () {
                        return i.app.copyObsidianUrl(t);
                      });
                  });
              }),
              i.on("quit", function (e) {
                i.iterateAllLeaves(function (t) {
                  var n = t.view;
                  n &&
                    n instanceof IR &&
                    n.data !== n.lastSavedData &&
                    e.addPromise(n.save());
                });
              }),
              i.on("editor-menu", function (e, t, n) {
                var r = t.getCursor().line,
                  o = kg(t.getLine(r));
                if (null !== o) {
                  var s = n.file;
                  e.addItem(function (e) {
                    return e
                      .setTitle(Lt("interface.menu.rename-heading"))
                      .setIcon(gm)
                      .onClick(function () {
                        var e = t.getCursor().line,
                          a = n.file;
                        s === a && r === e && new RR(i.app, r, o, t, s).open();
                      });
                  });
                }
              }),
              i.app.commands.addCommand({
                id: "editor:save-file",
                name: Lt("commands.save-file"),
                callback: function () {
                  var e = i.app.workspace.getActiveViewOfType(IR);
                  e && e.save();
                },
                hotkeys: [vT(["Mod"], "S")],
              }),
              i.app.commands.addCommand({
                id: "editor:follow-link",
                name: Lt("commands.follow-cursor-link"),
                icon: Iv,
                checkCallback: function (e) {
                  var t = i.getActiveViewOfType(IR);
                  return (
                    !(!t || "source" !== t.getMode()) &&
                    (e || t.followLinkUnderCursor(!1), !0)
                  );
                },
                hotkeys: [vT(["Alt"], "Enter")],
              }),
              i.app.commands.addCommand({
                id: "editor:open-link-in-new-leaf",
                name: Lt("commands.open-cursor-link-in-new-pane"),
                icon: Iv,
                checkCallback: function (e) {
                  var t = i.getActiveViewOfType(IR);
                  return !!t && (e || t.followLinkUnderCursor(!0), !0);
                },
                hotkeys: [vT(["Mod", "Alt"], "Enter")],
              });
            var r = function (e, t) {
              i.app.commands.addCommand({
                id: "editor:focus-" + e,
                name: t,
                checkCallback: function (t) {
                  var n = i.getAdjacentLeafInDirection(i.activeLeaf, e);
                  return !!n && (t || (bh(), i.setActiveLeaf(n, !0, !0)), !0);
                },
              });
            };
            if (
              (r("top", Lt("commands.navigate-pane-above")),
              r("bottom", Lt("commands.navigate-pane-below")),
              r("left", Lt("commands.navigate-pane-left")),
              r("right", Lt("commands.navigate-pane-right")),
              i.app.commands.addCommand({
                id: "workspace:toggle-pin",
                name: Lt("commands.toggle-pin"),
                icon: nv,
                checkCallback: function (e) {
                  var t = i.activeLeaf;
                  return (
                    !(!t || t.view instanceof SI) && (e || t.togglePinned(), !0)
                  );
                },
              }),
              i.app.commands.addCommand({
                id: "workspace:split-vertical",
                name: Lt("commands.split-vertically"),
                icon: _m,
                callback: function () {
                  i.duplicateLeaf(i.activeLeaf, "vertical");
                },
              }),
              i.app.commands.addCommand({
                id: "workspace:split-horizontal",
                name: Lt("commands.split-horizontally"),
                icon: Wm,
                callback: function () {
                  i.duplicateLeaf(i.activeLeaf, "horizontal");
                },
              }),
              i.app.commands.addCommand({
                id: "workspace:edit-file-title",
                name: Lt("commands.edit-file-title"),
                icon: gm,
                checkCallback: function (e) {
                  var t = i.activeLeaf;
                  if (t && t.view instanceof uw)
                    return e || t.setEphemeralState({ rename: "all" }), !0;
                },
                hotkeys: [vT([], "F2")],
              }),
              i.app.commands.addCommand({
                id: "workspace:copy-path",
                name: Lt("commands.copy-path"),
                icon: fy,
                checkCallback: function (e) {
                  var t = i.getActiveFile();
                  if (t)
                    return (
                      e ||
                        (Pt(t.path),
                        new lw(Lt("interface.copied", { item: "" }))),
                      !0
                    );
                },
              }),
              i.app.commands.addCommand({
                id: "workspace:copy-url",
                name: Lt("commands.copy-url"),
                icon: fy,
                checkCallback: function (e) {
                  var t = i.getActiveFile();
                  if (t) return e || i.app.copyObsidianUrl(t), !0;
                },
              }),
              i.app.commands.addCommand({
                id: "workspace:undo-close-pane",
                name: Lt("commands.undo-close-pane"),
                icon: zv,
                checkCallback: function (e) {
                  var t = i.undoHistory;
                  if (t.length > 0) {
                    if (!e) {
                      var n = t.shift(),
                        r = i.activeLeaf;
                      (r && "empty" === r.view.getViewType()) ||
                        (r = i.getLeaf(!0)),
                        r.setViewState(n.state, n.eState);
                    }
                    return !0;
                  }
                },
                hotkeys: [vT(["Mod", "Shift"], "T")],
              }),
              eb.isDesktopApp &&
                i.app.commands.addCommand({
                  id: "workspace:export-pdf",
                  name: Lt("commands.export-pdf"),
                  checkCallback: function (e) {
                    if (!eb.isDesktopApp) return !1;
                    var t = i.getActiveViewOfType(IR);
                    return t ? (e || t.printToPdf(), !0) : void 0;
                  },
                }),
              i.app.commands.addCommand({
                id: "editor:rename-heading",
                name: Lt("interface.menu.rename-heading"),
                icon: gm,
                editorCheckCallback: function (e, t, n) {
                  var r = t.getCursor().line,
                    o = kg(t.getLine(r));
                  if (o) {
                    if (!e) {
                      var s = n.file;
                      new RR(i.app, r, o, t, s).open();
                    }
                    return !0;
                  }
                },
              }),
              i.registerObsidianProtocolHandler("open", function (e) {
                if (e.file) {
                  var t = rt(e.file),
                    n = i.app.metadataCache.getFirstLinkpathDest(t, "");
                  if (n && n instanceof Ab)
                    i.getLeaf().openFile(n),
                      new lw(
                        Lt("interface.msg-open-file-through-uri", {
                          path: n.path,
                        })
                      );
                  else
                    new lw(
                      Lt("interface.msg-file-not-found-through-uri", {
                        name: e.file,
                      })
                    );
                }
              }),
              i.registerObsidianProtocolHandler("search", function (e) {
                var t = i.app.internalPlugins.getPluginById("global-search");
                t && t.instance.openGlobalSearch(e.query);
              }),
              i.registerObsidianProtocolHandler("new", function (e) {
                return A(i, void 0, void 0, function () {
                  var t, n, i, r, o, s, a, l, c;
                  return D(this, function (u) {
                    switch (u.label) {
                      case 0:
                        return (
                          (t = null),
                          (n = this.app.fileManager),
                          (i = this.app.vault),
                          e.file
                            ? ((r = e.file),
                              (o = Je(r)),
                              (c = void 0),
                              "" !== o ? [3, 1] : ((c = i.getRoot()), [3, 3]))
                            : [3, 5]
                        );
                      case 1:
                        return (c = i.getAbstractFileByPathInsensitive(o))
                          ? [3, 3]
                          : [4, i.createFolder(o)];
                      case 2:
                        u.sent(),
                          (c = i.getAbstractFileByPathInsensitive(o)),
                          (u.label = 3);
                      case 3:
                        return c instanceof Db
                          ? [4, n.createNewMarkdownFile(c, Ye(r))]
                          : [2];
                      case 4:
                        return (t = u.sent()), [3, 7];
                      case 5:
                        return (
                          (s = e.name || ""),
                          (a = ""),
                          (l = this.getActiveFile()) && (a = l.path),
                          (c = n.getNewFileParent(a)),
                          [4, n.createNewMarkdownFile(c, s)]
                        );
                      case 6:
                        (t = u.sent()), (u.label = 7);
                      case 7:
                        return t
                          ? e.content
                            ? [4, i.modify(t, e.content)]
                            : [3, 9]
                          : [3, 11];
                      case 8:
                        u.sent(), (u.label = 9);
                      case 9:
                        return e.silent
                          ? [3, 11]
                          : [
                              4,
                              this.getLeaf().openFile(t, {
                                active: !0,
                                state: { mode: "source" },
                                eState: { rename: "all" },
                              }),
                            ];
                      case 10:
                        u.sent(), (u.label = 11);
                      case 11:
                        return [2];
                    }
                  });
                });
              }),
              i.registerObsidianProtocolHandler("show-plugin", function (e) {
                e.id && new yB(i.app, e.id).open();
              }),
              i.registerObsidianProtocolHandler("debug-info", function (e) {
                new DN(t).open();
              }),
              i.registerObsidianProtocolHandler(
                "hook-get-address",
                function () {
                  var e = i.getActiveFile();
                  if (e) {
                    var t = i.app.getObsidianUrl(e);
                    Pt("[" + e.basename + "](" + t + ")");
                  }
                }
              ),
              setInterval(i.updateHistory.bind(i), 1e3),
              dI)
            ) {
              var o = i;
              mI.addListener("backButton", function () {
                var e = o.closeables;
                if (e.length > 0) e.last().close();
                else {
                  var t = o.leftSplit;
                  if (t instanceof OI && t.isFullscreen)
                    t.toggleTabFullscreen();
                  else {
                    var n = o.rightSplit;
                    if (n instanceof OI && n.isFullscreen)
                      n.toggleTabFullscreen();
                    else if (t.collapsed || (t instanceof OI && t.isPinned))
                      if (n.collapsed || (n instanceof OI && n.isPinned)) {
                        var i = arguments[0];
                        !i || i.canGoBack
                          ? window.history.back()
                          : mI.exitApp();
                      } else n.collapse();
                    else t.collapse();
                  }
                }
              });
            }
            if (eb.isMobile) {
              var s = document.body,
                a = [];
              s.addEventListener("touchstart", function (e) {
                if (!(e.touches.length > 1)) {
                  var t = e.touches[0];
                  if ("stylus" !== t.touchType) {
                    var n = t.clientX,
                      r = t.clientY,
                      o = document.elementFromPoint(n, r);
                    if (
                      !(o instanceof HTMLCanvasElement) &&
                      i.containerEl.contains(o)
                    ) {
                      var l = t.identifier,
                        c = Date.now(),
                        u = !1,
                        h = "x",
                        p = t.clientX,
                        d = t.clientY,
                        f = c,
                        g = 0,
                        m = 0,
                        v = 0;
                      if (a.length > 0)
                        for (var y = 0, b = a; y < b.length; y++) {
                          b[y].cancel();
                        }
                      a = [];
                      var w = function (e) {
                          for (
                            var t = e.changedTouches, n = 0;
                            n < t.length;
                            n++
                          ) {
                            var i = t[n];
                            if (i.identifier === l) return i;
                          }
                          return null;
                        },
                        k = function (e) {
                          if (w(e) && (S(), 0 !== a.length)) {
                            var t, i;
                            "x" === h
                              ? ((t = p - n), (i = (g / v) * 500))
                              : ((t = d - r), (i = (m / v) * 500));
                            for (var o = 0, s = a; o < s.length; o++) {
                              s[o].finish(p, d, i + t);
                            }
                            a = [];
                          }
                        },
                        C = function (e) {
                          if (w(e) && (S(), 0 !== a.length)) {
                            for (var t = 0, n = a; t < n.length; t++) {
                              n[t].cancel();
                            }
                            a = [];
                          }
                        },
                        x = function (e) {
                          var t = w(e);
                          if (t) {
                            var s = t.clientX,
                              l = t.clientY;
                            if (!u) {
                              if (Date.now() - c > 200) return void S();
                              var y = Math.abs(s - n),
                                b = Math.abs(l - r),
                                k = Math.max(y, b);
                              if (k < 10) return;
                              u = !0;
                              for (
                                var C = o,
                                  x =
                                    "x" === (h = y === k ? "x" : "y")
                                      ? s - n
                                      : l - r;
                                C;

                              ) {
                                var E =
                                  "x" === h
                                    ? C.scrollWidth - C.clientWidth
                                    : C.scrollHeight - C.clientHeight;
                                if (E > 0) {
                                  var M = getComputedStyle(C),
                                    L = "x" === h ? M.overflowX : M.overflowY;
                                  if ("auto" === L || "scroll" === L) {
                                    var A =
                                      "x" === h ? C.scrollLeft : C.scrollTop;
                                    if (
                                      (x > 0 && A > 0) ||
                                      (x < 0 && A < E - 1)
                                    )
                                      return void S();
                                  }
                                }
                                C = C.parentElement;
                              }
                              if (window.getSelection().toString())
                                return void S();
                              i.trigger("swipe", {
                                points: e.touches.length,
                                targetEl: o,
                                startX: n,
                                startY: r,
                                x: s,
                                y: l,
                                direction: h,
                                registerCallback: function (e) {
                                  return a.push(e);
                                },
                              });
                            }
                            if (0 !== a.length) {
                              fI && e.preventDefault(),
                                (g = s - p),
                                (m = l - d),
                                (p = s),
                                (d = l);
                              var D = Date.now();
                              (v = D - f), (f = D);
                              for (var T = 0, P = a; T < P.length; T++) {
                                P[T].move(s, l);
                              }
                            } else S();
                          }
                        },
                        S = function () {
                          s.removeEventListener("touchcancel", C),
                            s.removeEventListener("touchend", k),
                            s.removeEventListener("touchmove", x);
                        };
                      s.addEventListener("touchcancel", C),
                        s.addEventListener("touchend", k),
                        s.addEventListener("touchmove", x, { passive: !fI });
                    }
                  }
                }
              }),
                i.on("swipe", function (e) {
                  if (
                    !(e.points > 1 || "y" !== e.direction || e.y < e.startY) &&
                    i.rootSplit.containerEl.contains(e.targetEl)
                  ) {
                    var t = i.app.vault.getConfig("mobilePullAction"),
                      n = i.app.commands.findCommand(t),
                      r = n ? n.name : "Configure pull action",
                      o = document.body.createDiv({
                        cls: "pull-action pull-down-action",
                        text: r,
                      });
                    o.onClickEvent(function () {
                      o.detach();
                    });
                    var s = o.offsetHeight;
                    e.registerCallback({
                      move: function (t, n) {
                        var i = (n - e.startY) / s;
                        (i = Math.clamp(i, 0, 1)),
                          o.toggleClass("mod-activated", 1 === i),
                          (o.style.transform =
                            "translateY(" + (i - 1) * s + "px)");
                      },
                      cancel: function () {
                        o.detach();
                      },
                      finish: function (t, i, r) {
                        var a = (i - e.startY) / s;
                        (a = Math.clamp(a, 0, 1)),
                          Vb(
                            o,
                            new Nb({ duration: 200 * a }).addProp(
                              "transform",
                              null,
                              "translateY(" + -s + "px)",
                              ""
                            ),
                            function () {
                              o.detach();
                            }
                          ),
                          r > Math.min(100, s) &&
                            (n ? zR(n) : new lw("Action not configured"));
                      },
                    });
                  }
                }),
                i.on("swipe", function (e) {
                  if (
                    !(e.points < 2 || "x" !== e.direction) &&
                    i.rootSplit.containerEl.contains(e.targetEl)
                  ) {
                    var t,
                      n = e.x > e.startX;
                    if (
                      (t = n
                        ? i.app.commands.findCommand("app:go-back")
                        : i.app.commands.findCommand("app:go-forward"))
                    ) {
                      var r = document.body.createDiv({
                        cls: "pull-action pull-out-action",
                        text: t.name,
                      });
                      r.onClickEvent(function () {
                        r.detach();
                      }),
                        n ? (r.style.left = "0") : (r.style.right = "0");
                      var o = n ? 1 : -1,
                        s = r.offsetWidth;
                      e.registerCallback({
                        move: function (t) {
                          var n = Math.clamp(((t - e.startX) * o) / s, 0, 1);
                          r.toggleClass("mod-activated", 1 === n),
                            (r.style.transform =
                              "translateX(" + -(1 - n) * s * o + "px)");
                        },
                        cancel: function () {
                          r.detach();
                        },
                        finish: function (t, a, l) {
                          var c = Math.clamp(((t - e.startX) * o) / s, 0, 1);
                          Vb(
                            r,
                            new Nb({ duration: 200 * c }).addProp(
                              "transform",
                              null,
                              "translateX(" + -s * o + "px)",
                              ""
                            ),
                            function () {
                              r.detach();
                            }
                          ),
                            (l * o) / s > 0.5 &&
                              (n
                                ? i.app.commands.executeCommandById(
                                    "app:go-back"
                                  )
                                : i.app.commands.executeCommandById(
                                    "app:go-forward"
                                  ));
                        },
                      });
                    }
                  }
                });
            }
            i.registerHoverLinkSource("search", {
              display: Lt("plugins.page-preview.label-source-search"),
              defaultMod: !0,
            }),
              i.registerHoverLinkSource("preview", {
                display: Lt("plugins.page-preview.label-source-preview"),
                defaultMod: !1,
              }),
              i.registerHoverLinkSource("editor", {
                display: Lt("plugins.page-preview.label-source-editor"),
                defaultMod: !0,
              });
            var l = CodeMirror.getMode;
            return (
              (CodeMirror.getMode = function (e, t) {
                var n = l.call(CodeMirror, e, t);
                return (
                  !t ||
                    (n && "null" !== n.name) ||
                    ((CodeMirror.getMode = l),
                    Xh.then(function () {
                      for (
                        var e = 0, t = i.getLeavesOfType(IR.VIEW_TYPE);
                        e < t.length;
                        e++
                      ) {
                        var n = t[e];
                        if (n.view instanceof IR)
                          if (n.view.editMode) {
                            var r = n.view.editMode.editor;
                            r.replaceRange(" ", { line: 0, ch: 0 }),
                              r.replaceRange(
                                "",
                                { line: 0, ch: 0 },
                                { line: 0, ch: 1 }
                              );
                          } else {
                            var o = n.view.sourceMode.cmEditor;
                            o.setOption("mode", o.getOption("mode"));
                          }
                      }
                    })),
                  n
                );
              }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.pushClosable = function (e) {
              var t = this.closeables;
              t.contains(e) || (t.push(e), this.requestUpdateClosable());
            }),
            (t.prototype.popClosable = function (e) {
              var t = this.closeables;
              t.contains(e) && (t.remove(e), this.requestUpdateClosable());
            }),
            (t.prototype.updateClosable = function () {
              if (eb.isMobile) {
                var e = this.closeables,
                  t = this.isMobileDimmed,
                  n = e.some(function (e) {
                    return e.dimBackground || void 0 === e.dimBackground;
                  });
                !n &&
                  t &&
                  ((this.isMobileDimmed = !1),
                  Vb(
                    this.containerEl,
                    new Nb({ duration: 100, fn: "linear" })
                      .addProp("borderRadius", "10px", "")
                      .addProp("transform", null, "")
                  )),
                  n &&
                    !t &&
                    ((this.isMobileDimmed = !0),
                    Vb(
                      this.containerEl,
                      new Nb({ duration: 100, fn: "linear" })
                        .addProp("borderRadius", "", "10px")
                        .addProp("transform", "", "scale(0.95, 0.95)")
                    ));
              }
            }),
            (t.prototype.loadLayout = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r, o, s, a, l, c, u, h, p, d, f, g;
                return D(this, function (m) {
                  switch (m.label) {
                    case 0:
                      (e = this.app.vault), (t = {}), (m.label = 1);
                    case 1:
                      return (
                        m.trys.push([1, 3, , 4]),
                        (i = (n = JSON).parse),
                        [4, e.adapter.read(e.configDir + "/workspace")]
                      );
                    case 2:
                      return (t = i.apply(n, [m.sent()])), [3, 4];
                    case 3:
                      return m.sent(), [3, 4];
                    case 4:
                      return (
                        t.hasOwnProperty("lastOpenFiles") &&
                          (this.lastOpenFiles = t.lastOpenFiles),
                        [4, this.setLayout(t)]
                      );
                    case 5:
                      for (
                        m.sent(),
                          this.trigger("layout-ready"),
                          r = this.onLayoutReadyCallbacks,
                          this.onLayoutReadyCallbacks = null,
                          o = 0,
                          s = r;
                        o < s.length;
                        o++
                      ) {
                        (a = s[o]), (l = a.pluginId), (c = a.callback);
                        try {
                          c();
                        } catch (e) {
                          console.error(e),
                            l && new lw("Failed to load plugin " + l);
                        }
                      }
                      if (
                        !eb.isDesktopApp ||
                        "Obsidian Help" !== this.app.vault.getName()
                      )
                        return [3, 7];
                      if (
                        ((u = !1),
                        ut(function (e) {
                          u = e.ipcRenderer.sendSync("is-help-vault");
                        }),
                        !u)
                      )
                        return [2];
                      if (
                        0 ===
                        (h = this.app.vault
                          .getRoot()
                          .children.filter(function (e) {
                            return e instanceof Ab;
                          })).length
                      )
                        return [2];
                      if ("md" !== et((p = h[0]).name)) return [2];
                      for (
                        d = [],
                          this.iterateRootLeaves(function (e) {
                            d.push(e);
                          }),
                          f = 0,
                          g = d;
                        f < g.length;
                        f++
                      )
                        g[f].detach();
                      return [
                        4,
                        this.getUnpinnedLeaf().openFile(p, {
                          active: !0,
                          state: { mode: "source", source: !1 },
                        }),
                      ];
                    case 6:
                      m.sent(),
                        new lw(Lt("interface.msg-demo-vault"), 0),
                        (m.label = 7);
                    case 7:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.clearLayout = function () {
              return A(this, void 0, void 0, function () {
                var e;
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return (
                        (this.layoutReady = !1),
                        (e = []),
                        this.iterateAllLeaves(function (t) {
                          e.push(t.open(null));
                        }),
                        [4, Promise.all(e)]
                      );
                    case 1:
                      return (
                        t.sent(),
                        this.leftSplit.containerEl.detach(),
                        this.rootSplit.containerEl.detach(),
                        this.rightSplit.containerEl.detach(),
                        this.rootSplit.component.unload(),
                        this.leftSplit.component.unload(),
                        this.rightSplit.component.unload(),
                        (this.rootSplit = null),
                        (this.leftSplit = null),
                        (this.rightSplit = null),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.setLayout = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i, r, o, s, a, l, c, u, h, p, d, f, g, m, v, y;
                return D(this, function (b) {
                  switch (b.label) {
                    case 0:
                      return (
                        (this.layoutReady = !1),
                        (t = this.app.vault),
                        (n = eb.isMobile),
                        (s = e.main)
                          ? ((a = this), [4, this.deserializeLayout(s, null)])
                          : [3, 2]
                      );
                    case 1:
                      (i = a.rootSplit = b.sent()) &&
                        "vertical" !== i.direction &&
                        (i.setDirection("vertical"),
                        i.recomputeChildrenDimensions()),
                        (b.label = 2);
                    case 2:
                      return (l = e.left)
                        ? ((c = this), [4, this.deserializeLayout(l, "left")])
                        : [3, 4];
                    case 3:
                      (r = c.leftSplit = b.sent()) &&
                        r instanceof TI &&
                        "horizontal" !== r.direction &&
                        (r.setDirection("horizontal"),
                        r.recomputeChildrenDimensions()),
                        (b.label = 4);
                    case 4:
                      return (u = e.right)
                        ? ((h = this), [4, this.deserializeLayout(u, "right")])
                        : [3, 6];
                    case 5:
                      (o = h.rightSplit = b.sent()) &&
                        o instanceof TI &&
                        "horizontal" !== o.direction &&
                        (o.setDirection("horizontal"),
                        o.recomputeChildrenDimensions()),
                        (b.label = 6);
                    case 6:
                      return i
                        ? [3, 9]
                        : ((i = this.rootSplit = new AI(this, "vertical")),
                          (p = new PI(this.app)),
                          i.insertChild(0, p, !0),
                          (d = this.getLastOpenFiles()).length > 0
                            ? ((f = d[0]),
                              (g = t.getAbstractFileByPath(f)) &&
                              g instanceof Ab
                                ? [4, p.openFile(g)]
                                : [3, 8])
                            : [3, 8]);
                    case 7:
                      b.sent(), (b.label = 8);
                    case 8:
                      this.setActiveLeaf(p), (b.label = 9);
                    case 9:
                      return (
                        i.containerEl.addClass("mod-root"),
                        r ||
                          (n
                            ? (r = this.leftSplit = new FI(this)).collapse()
                            : (r = this.leftSplit =
                                new TI(this, "horizontal", "left"))),
                        o ||
                          (o = this.rightSplit =
                            n
                              ? new II(this)
                              : new TI(this, "horizontal", "right")).collapse(),
                        (m = this.containerEl),
                        eb.isMobile
                          ? m.setChildrenInPlace([
                              r.containerEl,
                              i.containerEl,
                              o.containerEl,
                            ])
                          : m.setChildrenInPlace([
                              this.leftRibbon.containerEl,
                              r.containerEl,
                              i.containerEl,
                              o.containerEl,
                              this.rightRibbon.containerEl,
                            ]),
                        (v = e.active),
                        (y = this.getLeafById(v)) &&
                          this.setActiveLeaf(y, !1, !0),
                        (this.layoutReady = !0),
                        this.onLayoutChange(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.onLayoutReady = function (e) {
              null === this.onLayoutReadyCallbacks
                ? e()
                : this.onLayoutReadyCallbacks.push({
                    pluginId: this.app.plugins.loadingPluginId,
                    callback: e,
                  });
            }),
            (t.prototype.changeLayout = function (e) {
              return A(this, void 0, void 0, function () {
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return this.layoutReady ? [4, this.clearLayout()] : [2];
                    case 1:
                      return t.sent(), [4, this.setLayout(e)];
                    case 2:
                      return t.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.deserializeLayout = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i, r, o, s, a, l, c, u;
                return D(this, function (h) {
                  switch (h.label) {
                    case 0:
                      if ("split" !== e.type) return [3, 5];
                      if (((n = void 0), t)) {
                        if (eb.isMobile) return [2, null];
                        (i = n = new TI(this, e.direction, t, e.id)),
                          e.width && i.setSize(e.width),
                          e.collapsed && i.collapse();
                      } else n = new AI(this, e.direction, e.id);
                      (c = 0), (h.label = 1);
                    case 1:
                      return c < e.children.length
                        ? [4, this.deserializeLayout(e.children[c], null)]
                        : [3, 4];
                    case 2:
                      (u = h.sent())
                        ? n.insertChild(c, u, !0)
                        : (e.children.splice(c, 1), c--),
                        (h.label = 3);
                    case 3:
                      return c++, [3, 1];
                    case 4:
                      if (0 === n.children.length && !(n instanceof TI))
                        return [2, null];
                      for (c = 0; c < e.children.length; c++)
                        (r = e.children[c].dimension),
                          n.children[c].setDimension(r);
                      return n.recomputeChildrenDimensions(), [2, n];
                    case 5:
                      if ("tabs" !== e.type) return [3, 10];
                      (o = new DI(this, e.id)), (c = 0), (h.label = 6);
                    case 6:
                      return c < e.children.length
                        ? [4, this.deserializeLayout(e.children[c], null)]
                        : [3, 9];
                    case 7:
                      (u = h.sent())
                        ? o.insertChild(c, u, !0)
                        : (e.children.splice(c, 1), c--),
                        (h.label = 8);
                    case 8:
                      return c++, [3, 6];
                    case 9:
                      return 0 === o.children.length
                        ? [2, null]
                        : (e.currentTab && o.selectTabIndex(e.currentTab),
                          o.recomputeChildrenDimensions(),
                          [2, o]);
                    case 10:
                      return "leaf" !== e.type
                        ? [3, 12]
                        : ((s = new PI(this.app, e.id)),
                          (a = e.state || {}),
                          [4, s.setViewState(a)]);
                    case 11:
                      return (
                        h.sent(),
                        s.view
                          ? (e.group && s.setGroup(e.group),
                            e.pinned && s.togglePinned(),
                            [2, s])
                          : (s.detach(), [2, null])
                      );
                    case 12:
                      if ("mobile-drawer" !== e.type) return [3, 17];
                      if (!eb.isMobile) return [2, null];
                      (l = void 0),
                        "left" === t
                          ? (l = new FI(this, e.id))
                          : "right" === t && (l = new II(this, e.id)),
                        (c = 0),
                        (h.label = 13);
                    case 13:
                      return c < e.children.length
                        ? [4, this.deserializeLayout(e.children[c], null)]
                        : [3, 16];
                    case 14:
                      (u = h.sent())
                        ? l.insertChild(c, u, !0)
                        : (e.children.splice(c, 1), c--),
                        (h.label = 15);
                    case 15:
                      return c++, [3, 13];
                    case 16:
                      return (
                        (l.currentTab = e.currentTab),
                        l.recomputeChildrenDimensions(),
                        e.pinned && l.pinDrawer(),
                        [2, l]
                      );
                    case 17:
                      return [2, null];
                  }
                });
              });
            }),
            (t.prototype.getLayout = function () {
              var e = {};
              (e.main = this.rootSplit.serialize()),
                (e.left = this.leftSplit.serialize()),
                (e.right = this.rightSplit.serialize());
              var t = this.activeLeaf;
              return t && (e.active = t.id), e;
            }),
            (t.prototype.saveLayout = function () {
              return A(this, void 0, void 0, function () {
                var e, t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      if (!this.layoutReady) return [2];
                      (e = this.app.vault),
                        ((t = this.getLayout()).lastOpenFiles =
                          this.lastOpenFiles),
                        (n.label = 1);
                    case 1:
                      return (
                        n.trys.push([1, 3, , 4]),
                        [
                          4,
                          e.adapter.write(
                            e.configDir + "/workspace",
                            JSON.stringify(t, null, 2)
                          ),
                        ]
                      );
                    case 2:
                      return n.sent(), [3, 4];
                    case 3:
                      return n.sent(), [3, 4];
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.updateGroups = function () {
              var e = {};
              for (var t in (this.iterateAllLeaves(function (t) {
                var n = t.group;
                n && (e[n] = (e[n] || 0) + 1);
              }),
              e))
                if (e.hasOwnProperty(t) && 1 === e[t])
                  for (
                    var n = 0, i = this.getGroupLeaves(t);
                    n < i.length;
                    n++
                  ) {
                    i[n].setGroup(null);
                  }
            }),
            (t.prototype.onDragLeaf = function (e, t) {
              var n = this;
              if (0 === e.button && !eb.isMobile) {
                e.preventDefault();
                var i = this.containerEl,
                  r = createEl("section", "workspace-drop-overlay mod-drag"),
                  o = createEl("section", "workspace-fake-target-overlay");
                i.insertBefore(o, i.firstChild),
                  i.insertBefore(r, i.firstChild);
                var s = this.containerEl.createDiv(
                  "drag-ghost mod-leaf",
                  function (e) {
                    e.createDiv("drag-ghost-icon", function (e) {
                      Xy(e, t.getIcon(), 14);
                    }),
                      e.createSpan({ text: jF(t.getDisplayText(), 60) });
                  }
                );
                r.hide(), o.hide(), s.hide();
                var a = e.clientX,
                  l = e.clientY,
                  c = !1,
                  u = null,
                  h = function (e, t) {
                    return e instanceof TI
                      ? ["left", "right", "top", "bottom"]
                      : t
                      ? ["left", "right"]
                      : null;
                  },
                  p = function () {
                    u && (u.style.opacity = null), r.hide(), o.hide();
                  },
                  d = function (e) {
                    e.preventDefault();
                    var d = e.clientX,
                      f = e.clientY;
                    if (!c) {
                      var g = d - a,
                        m = f - l;
                      if (g * g + m * m < 25) return;
                      (c = !0), s.show(), document.body.addClass("is-grabbing");
                    }
                    (s.style.left = d + 5 + "px"), (s.style.top = f + 5 + "px");
                    var v = n.getDropLocation(e);
                    if (v) {
                      var y = v.target;
                      if (y && y !== t)
                        if (
                          y.getRoot() !== n.rootSplit ||
                          t.view instanceof sw ||
                          t.view instanceof SI
                        ) {
                          var b = y.containerEl.getBoundingClientRect(),
                            w = b.width,
                            k = b.height,
                            C = b.x,
                            x = b.y,
                            S = n.getDropDirection(e, b, h(y, v.sidedock), y);
                          if (
                            y !== t.parentSplit ||
                            ("center" !== S &&
                              1 !== t.parentSplit.children.length)
                          ) {
                            if (y === n.leftSplit && n.leftSplit.collapsed)
                              b =
                                n.leftRibbon.containerEl.getBoundingClientRect();
                            else if (
                              y === n.rightSplit &&
                              n.rightSplit.collapsed
                            ) {
                              if (
                                ((b =
                                  n.rightRibbon.containerEl.getBoundingClientRect()),
                                !n.rightRibbon.containerEl.offsetParent)
                              ) {
                                var E = i.getBoundingClientRect();
                                b = {
                                  x: E.right - 30,
                                  y: E.top,
                                  width: 30,
                                  height: E.height,
                                };
                              }
                            } else
                              y instanceof DI &&
                                "center" === S &&
                                (b =
                                  y.tabHeaderContainerEl.getBoundingClientRect());
                            r.show(),
                              (r.style.transform =
                                "translate(" + b.x + "px, " + b.y + "px)"),
                              (r.style.width = b.width + "px"),
                              (r.style.height = b.height + "px");
                            var M,
                              L,
                              A,
                              D,
                              T = !1;
                            if (
                              (y instanceof PI &&
                                y.view &&
                                y.view instanceof aN &&
                                (T = !0),
                              "center" === S || T)
                            )
                              return (
                                u && (u.style.opacity = null), void o.hide()
                              );
                            "top" === S
                              ? ((M = b.x),
                                (L = x + b.height),
                                (D = w),
                                (A = k - b.height))
                              : "left" === S
                              ? ((M = C + b.width),
                                (L = b.y),
                                (D = w - b.width),
                                (A = k))
                              : "right" === S
                              ? ((M = C), (L = x), (D = w - b.width), (A = k))
                              : "bottom" === S &&
                                ((M = C), (L = x), (D = w), (A = k - b.height)),
                              (u && y.containerEl === u) ||
                                (u && (u.style.opacity = null),
                                (o.innerHTML = y.containerEl.outerHTML),
                                (y.containerEl.style.opacity = "0"),
                                (u = y.containerEl)),
                              (y.containerEl.style.opacity =
                                "center" === S ? null : "0"),
                              o.toggle("center" !== S),
                              o.toggleClass(
                                "is-in-sidebar",
                                y.getRoot() !== n.rootSplit
                              ),
                              (o.style.transform =
                                "translate(" + M + "px, " + L + "px)"),
                              (o.style.width = D + "px"),
                              (o.style.height = A + "px");
                          } else p();
                        } else p();
                      else p();
                    } else p();
                  },
                  f = function (e) {
                    if (
                      (document.removeEventListener("mousemove", d),
                      document.removeEventListener("mouseup", f),
                      u && (u.style.opacity = null),
                      r.detach(),
                      o.detach(),
                      s.detach(),
                      document.body.removeClass("is-grabbing"),
                      c)
                    ) {
                      var i = n.getDropLocation(e);
                      if (i.target) {
                        var a = i.target;
                        if (a && a !== t) {
                          if (a === n.leftSplit) {
                            t.parentSplit.removeChild(t), t.setDimension(null);
                            var l = new DI(n);
                            return (
                              n.leftSplit.insertChild(-1, l),
                              l.insertChild(-1, t),
                              void n.requestResize()
                            );
                          }
                          if (a === n.rightSplit) {
                            t.parentSplit.removeChild(t), t.setDimension(null);
                            l = new DI(n);
                            return (
                              n.rightSplit.insertChild(-1, l),
                              l.insertChild(-1, t),
                              void n.requestResize()
                            );
                          }
                          if (
                            a.getRoot() !== n.rootSplit ||
                            t.view instanceof sw ||
                            t.view instanceof SI
                          ) {
                            var p = a.containerEl.getBoundingClientRect(),
                              g = n.getDropDirection(e, p, h(a, i.sidedock), a);
                            if (
                              a !== t.parentSplit ||
                              ("center" !== g &&
                                1 !== t.parentSplit.children.length)
                            ) {
                              if (
                                (i.sidedock && t.setGroupMember(null),
                                i.sidedock && a instanceof DI && "center" === g)
                              )
                                return (
                                  t.parentSplit.removeChild(t),
                                  t.setDimension(null),
                                  a.insertChild(-1, t),
                                  a.selectTabIndex(a.children.length - 1),
                                  void n.requestResize()
                                );
                              var m = a.parentSplit;
                              if (m && m instanceof AI) {
                                var v = t.parentSplit,
                                  y =
                                    "top" === g || "bottom" === g
                                      ? "horizontal"
                                      : "vertical";
                                if (i.sidedock) {
                                  l = new DI(n);
                                  n.splitLeaf(
                                    a,
                                    l,
                                    y,
                                    "left" === g || "top" === g
                                  ),
                                    v.removeChild(t),
                                    t.setDimension(null),
                                    l.insertChild(0, t);
                                } else if ("center" === g) {
                                  var b = v.children.indexOf(t),
                                    w = m.children.indexOf(a),
                                    k = t.dimension,
                                    C = a.dimension,
                                    x = new PI(n.app);
                                  m.replaceChild(w, x, !0),
                                    v.replaceChild(b, a, !0),
                                    m.replaceChild(w, t, !0),
                                    t.setDimension(C),
                                    a.setDimension(k),
                                    m.recomputeChildrenDimensions(),
                                    v !== m && v.recomputeChildrenDimensions(),
                                    n.onLayoutChange();
                                } else
                                  v.removeChild(t),
                                    t.setDimension(null),
                                    n.splitLeaf(
                                      a,
                                      t,
                                      y,
                                      "left" === g || "top" === g
                                    );
                                n.requestResize();
                              } else;
                            }
                          }
                        }
                      }
                    }
                  };
                document.addEventListener("mousemove", d),
                  document.addEventListener("mouseup", f);
              }
            }),
            (t.prototype.onStartLink = function (e) {
              var t = this,
                n = this.containerEl.createDiv(
                  "workspace-drop-overlay mod-link"
                ),
                i = function () {
                  n.hide(), document.body.removeClass("is-hovering-clickable");
                },
                r = function (r) {
                  r.preventDefault();
                  var o = t.getDropLocation(r).target;
                  if (o && o !== e)
                    if (o instanceof PI)
                      if (o.view instanceof sw || o.view instanceof SI) {
                        var s = o.containerEl.getBoundingClientRect();
                        document.body.addClass("is-hovering-clickable"),
                          n.show(),
                          (n.style.transform =
                            "translate(" + s.x + "px, " + s.y + "px)"),
                          (n.style.width = s.width + "px"),
                          (n.style.height = s.height + "px");
                      } else i();
                    else i();
                  else i();
                },
                o = function (n) {
                  document.removeEventListener("mousemove", r),
                    document.removeEventListener("mouseup", o),
                    i();
                  var s = t.getDropLocation(n).target;
                  s &&
                    s !== e &&
                    s instanceof PI &&
                    (s.view instanceof sw || s.view instanceof SI) &&
                    e.setGroupMember(s);
                };
              document.addEventListener("mousemove", r),
                document.addEventListener("mouseup", o);
            }),
            (t.prototype.getDropLocation = function (e) {
              var t = this,
                n = t.leftRibbon,
                i = t.rightRibbon,
                r = t.leftSplit,
                o = t.rightSplit,
                s = t.rootSplit;
              return e.clientX < n.containerEl.offsetWidth
                ? { target: r, sidedock: !0 }
                : (
                    i.containerEl.offsetParent
                      ? e.clientX > i.containerEl.getBoundingClientRect().x
                      : e.clientX >
                        this.containerEl.getBoundingClientRect().right - 30
                  )
                ? { target: o, sidedock: !0 }
                : Sh(e, r.containerEl)
                ? 0 === r.children.length
                  ? { target: r, sidedock: !0 }
                  : { target: this.recursiveGetTarget(e, r), sidedock: !0 }
                : Sh(e, o.containerEl)
                ? 0 === o.children.length
                  ? { target: o, sidedock: !0 }
                  : { target: this.recursiveGetTarget(e, o), sidedock: !0 }
                : Sh(e, s.containerEl)
                ? { target: this.recursiveGetTarget(e, s), sidedock: !1 }
                : null;
            }),
            (t.prototype.recursiveGetTarget = function (e, t) {
              for (var n = 0, i = t.children; n < i.length; n++) {
                var r = i[n];
                if (Sh(e, r.containerEl))
                  return r instanceof DI
                    ? r
                    : r instanceof LI
                    ? this.recursiveGetTarget(e, r)
                    : r;
              }
              return null;
            }),
            (t.prototype.getDropDirection = function (e, t, n, i) {
              var r = e.clientX,
                o = e.clientY,
                s = Math.abs(r - t.x) / t.width,
                a = Math.abs(o - t.y) / t.height,
                l = Math.abs(r - (t.x + t.width)) / t.width,
                c = Math.abs(o - (t.y + t.height)) / t.height;
              n = n || [];
              var u = "center",
                h = 1;
              s < 0.33 &&
                s < h &&
                !n.contains("left") &&
                ((u = "left"), (h = s)),
                a < 0.33 &&
                  a < h &&
                  !n.contains("top") &&
                  ((u = "top"),
                  (h = a),
                  i instanceof DI && o - t.y < 30 && (u = "center")),
                l < 0.33 &&
                  l < h &&
                  !n.contains("right") &&
                  ((u = "right"), (h = l)),
                c < 0.33 &&
                  c < h &&
                  !n.contains("bottom") &&
                  ((u = "bottom"), (h = c));
              var p = ["left", "right"].contains(u) ? t.width : t.height;
              switch (((p = Math.max(p / 3, 40)), u)) {
                case "center":
                  break;
                case "left":
                  t.width = p;
                  break;
                case "top":
                  t.height = p;
                  break;
                case "right":
                  (t.x += t.width - p), (t.width = p);
                  break;
                case "bottom":
                  (t.y += t.height - p), (t.height = p);
              }
              return u;
            }),
            (t.prototype.createLeafInParent = function (e, t) {
              var n = new PI(this.app);
              return (
                e.children.length > 0 &&
                  n.setDimension(100 / e.children.length),
                e.insertChild(t, n),
                n
              );
            }),
            (t.prototype.splitLeaf = function (e, t, n, i) {
              var r = e.parentSplit,
                o = e.dimension,
                s = r.children.indexOf(e);
              if (n && r instanceof AI && n !== r.direction) {
                e.setDimension(null);
                var a = new AI(this, n);
                r.replaceChild(s, a, !0),
                  a.setDimension(o),
                  r.recomputeChildrenDimensions(),
                  i
                    ? (a.insertChild(0, t), a.insertChild(1, e))
                    : (a.insertChild(0, e), a.insertChild(1, t));
              } else
                null !== o && (e.setDimension(o / 2), t.setDimension(o / 2)),
                  i ? r.insertChild(s, t) : r.insertChild(s + 1, t),
                  r instanceof AI && r.recomputeChildrenDimensions();
            }),
            (t.prototype.createLeafBySplit = function (e, t, n) {
              var i = new PI(this.app);
              return this.splitLeaf(e, i, t, n), i;
            }),
            (t.prototype.splitActiveLeaf = function (e) {
              var t = this.activeLeaf;
              return (
                t || (t = this.getMostRecentLeaf()),
                t
                  ? this.createLeafBySplit(t, e)
                  : this.createLeafInParent(this.rootSplit, 0)
              );
            }),
            (t.prototype.splitLeafOrActive = function (e, t) {
              return e ? this.createLeafBySplit(e, t) : this.splitActiveLeaf(t);
            }),
            (t.prototype.duplicateLeaf = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return e
                        ? ((n = e.getViewState()),
                          (i = this.createLeafBySplit(e, t)),
                          (n.active = !0),
                          [4, i.setViewState(n)])
                        : [2];
                    case 1:
                      return r.sent(), [2, i];
                  }
                });
              });
            }),
            (t.prototype.getUnpinnedLeaf = function (e) {
              var t = this.activeLeaf,
                n = t;
              if (n && !n.pinned) return n;
              if (
                ((n = null),
                this.iterateRootLeaves(function (t) {
                  if (!t.pinned && t.view.navigation && (!e || t.type === e))
                    return (!n || n.activeTime < t.activeTime) && (n = t), !0;
                }),
                !n)
              ) {
                if (t) return this.createLeafBySplit(t);
                n = this.createLeafInParent(this.rootSplit, -1);
              }
              return n;
            }),
            (t.prototype.getLeaf = function (e) {
              return e ? this.splitActiveLeaf() : this.getUnpinnedLeaf();
            }),
            (t.prototype.openLinkText = function (e, t, n, i) {
              return A(this, void 0, void 0, function () {
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return [4, this.getLeaf(n).openLinkText(e, t, i)];
                    case 1:
                      return r.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.setActiveLeaf = function (e, t, n) {
              void 0 === t && (t = !0), void 0 === n && (n = !1);
              var i = this.activeLeaf;
              i !== e
                ? (e && e.getRoot() !== this.rootSplit) ||
                  (i && i.containerEl.removeClass("mod-active"),
                  (this.activeLeaf = e),
                  e &&
                    ((e.activeTime = Date.now()),
                    e.containerEl.addClass("mod-active"),
                    n && e && e.setEphemeralState({ focus: !0 }),
                    this.recordHistory(e, t),
                    this.requestActiveLeafEvents()))
                : n && e && e.setEphemeralState({ focus: !0 });
            }),
            (t.prototype.activeLeafEvents = function () {
              var e = this.activeLeaf;
              this.trigger("active-leaf-change", e);
              var t = null;
              e && e.view instanceof cw && (t = e.view.file),
                this.trigger("file-open", t);
            }),
            (t.prototype.updateHistory = function () {
              var e = this.activeLeaf;
              e && !e.working && this.recordHistory(e, !1);
            }),
            (t.prototype.recordHistory = function (e, t) {
              if (this.activeLeaf === e) {
                var n = e,
                  i = history.state;
                if (i && i.group && i.group === e.group && i.leaf !== e.id) {
                  var r = this.getLeafById(i.leaf);
                  r && (n = r);
                }
                var o = JSON.stringify(n.getViewState()),
                  s = JSON.stringify(n.getEphemeralState() || {});
                if (i && i.leaf === n.id && i.state === o && i.eState === s) {
                  if (e === n) return;
                  t = !1;
                }
                (null === i || (i.leaf === n.id && i.state === o)) && (t = !1),
                  n !== e &&
                    ((o = JSON.stringify(e.getViewState())),
                    (s = JSON.stringify(e.getEphemeralState() || {})));
                var a = { leaf: e.id, group: e.group, state: o, eState: s };
                t ? history.pushState(a, "") : history.replaceState(a, "");
              }
            }),
            (t.prototype.getLeafById = function (e) {
              var t = null;
              return (
                this.iterateAllLeaves(function (n) {
                  if (n.id === e) return (t = n), !0;
                }),
                t
              );
            }),
            (t.prototype.getGroupLeaves = function (e) {
              var t = [];
              return e
                ? (this.iterateAllLeaves(function (n) {
                    n.group === e && t.push(n);
                  }),
                  t)
                : t;
            }),
            (t.prototype.getMostRecentLeaf = function () {
              var e = null;
              return (
                this.iterateRootLeaves(function (t) {
                  (!e || e.activeTime < t.activeTime) && (e = t);
                }),
                e
              );
            }),
            (t.prototype.getLeftLeaf = function (e) {
              return this.getSideLeaf(this.leftSplit, e);
            }),
            (t.prototype.getRightLeaf = function (e) {
              return this.getSideLeaf(this.rightSplit, e);
            }),
            (t.prototype.ensureSideLeaf = function (e, t, n, i, r) {
              void 0 === i && (i = !0);
              var o,
                s = this.getLeavesOfType(e);
              0 === s.length
                ? ((o =
                    "left" === t ? this.getLeftLeaf(n) : this.getRightLeaf(n)),
                  i && this.revealLeaf(o),
                  o.setViewState({ type: e, state: r }))
                : ((o = s[0]),
                  i && this.revealLeaf(o),
                  r && o.setViewState({ type: e, state: r }));
            }),
            (t.prototype.getActiveLeafOfViewType = function (e) {
              return this.getActiveViewOfType(e);
            }),
            (t.prototype.getActiveViewOfType = function (e) {
              var t = this.activeLeaf;
              if (!t) return null;
              var n = t.view;
              return n instanceof e ? n : null;
            }),
            (t.prototype.getActiveFile = function () {
              var e = this.activeLeaf;
              if (!e) return null;
              var t = e.view;
              if (!(t instanceof cw)) return null;
              var n = t.file;
              return n || null;
            }),
            (t.prototype.getSideLeaf = function (e, t) {
              if (e instanceof OI) {
                var n = new PI(this.app);
                return e.insertChild(-1, n), n;
              }
              if (t) {
                var i = new DI(this);
                e.insertChild(-1, i);
                n = new PI(this.app);
                return i.insertChild(-1, n), n;
              }
              0 === e.children.length && e.insertChild(0, new DI(this));
              var r = e.children[0];
              if (r instanceof LI) {
                n = new PI(this.app);
                return r.insertChild(-1, n), n;
              }
              return null;
            }),
            (t.prototype.iterateLeaves = function (e, t) {
              if (t instanceof PI) {
                if (e(t)) return !0;
              } else if (t instanceof LI)
                for (var n = 0, i = t.children; n < i.length; n++) {
                  var r = i[n];
                  if (this.iterateLeaves(e, r)) return !0;
                }
              return !1;
            }),
            (t.prototype.iterateRootLeaves = function (e) {
              this.iterateLeaves(e, this.rootSplit);
            }),
            (t.prototype.iterateAllLeaves = function (e) {
              this.iterateLeaves(e, this.rootSplit),
                this.iterateLeaves(e, this.leftSplit),
                this.iterateLeaves(e, this.rightSplit);
            }),
            (t.prototype.getLeavesOfType = function (e) {
              var t = [];
              return (
                this.iterateAllLeaves(function (n) {
                  n.view && n.view.getViewType() === e && t.push(n);
                }),
                t
              );
            }),
            (t.prototype.detachLeavesOfType = function (e) {
              for (var t = 0, n = this.getLeavesOfType(e); t < n.length; t++) {
                n[t].detach();
              }
            }),
            (t.prototype.getAdjacentLeafInDirection = function (e, t) {
              if (!e) return null;
              var n = e.containerEl.getBoundingClientRect(),
                i = null;
              switch (t) {
                case "top":
                  i = { x: n.left + n.width / 2, y: n.top - 5 };
                  break;
                case "bottom":
                  i = { x: n.left + n.width / 2, y: n.top + n.height + 5 };
                  break;
                case "left":
                  i = { x: n.left - 5, y: n.top + n.height / 2 };
                  break;
                case "right":
                  i = { x: n.left + n.width + 5, y: n.top + n.height / 2 };
              }
              if (i) {
                var r = document.elementFromPoint(i.x, i.y),
                  o = null;
                if (
                  (this.iterateRootLeaves(function (e) {
                    if (e.containerEl.contains(r)) return (o = e), !0;
                  }),
                  o)
                )
                  return o;
              }
              for (
                var s = null,
                  a = "left" === t || "right" === t ? "vertical" : "horizontal";
                e;

              ) {
                var l = e.parentSplit;
                if (l instanceof AI && l.direction === a) {
                  var c = l.children,
                    u = c.indexOf(e);
                  if ("left" === t || "top" === t) {
                    if (u > 0) {
                      s = c[u - 1];
                      break;
                    }
                  } else if (u < c.length - 1) {
                    s = c[u + 1];
                    break;
                  }
                }
                e = l;
              }
              if (!s) return null;
              for (; s instanceof LI; ) s = s.children[0];
              return s instanceof PI ? s : null;
            }),
            (t.prototype.revealLeaf = function (e) {
              var t = e.getRoot();
              t instanceof TI && t.collapsed && t.toggle(),
                t instanceof OI && (t.openLeaf(e), t.expand());
              var n = e.parentSplit;
              n instanceof DI && n.selectTab(e);
            }),
            (t.prototype.getLastOpenFiles = function () {
              return this.lastOpenFiles;
            }),
            (t.prototype.updateOptions = function () {
              var e = this;
              this.iterateAllLeaves(function (e) {
                e && e.view instanceof IR && e.view.updateOptions();
              }),
                eb.isDesktopApp &&
                  !fe &&
                  ut(function (t) {
                    var n = t.remote.getCurrentWebContents().session,
                      i = e.app.vault.getConfig("spellcheckLanguages"),
                      r = n.availableSpellCheckerLanguages;
                    i || (i = [t.remote.app.getLocale()]);
                    var o = i.filter(function (e) {
                      return r.contains(e);
                    });
                    n.setSpellCheckerLanguages(o);
                  });
            }),
            (t.prototype.recordMostRecentOpenedFile = function (e) {
              var t = this.lastOpenFiles;
              t.remove(e.path),
                t.unshift(e.path),
                (this.lastOpenFiles = t.slice(0, 10)),
                this.requestSaveLayout();
            }),
            (t.prototype.onLayoutChange = function () {
              if (this.layoutReady) {
                if (
                  !this.activeLeaf ||
                  this.activeLeaf.getRoot() !== this.rootSplit
                ) {
                  var e = this.getMostRecentLeaf();
                  e || (e = this.createLeafInParent(this.rootSplit, 0)),
                    this.setActiveLeaf(e, !0, !0);
                }
                this.requestUpdateGroups(),
                  this.requestSaveLayout(),
                  this.requestResize(),
                  this.trigger("layout-change");
              }
            }),
            (t.prototype.onQuickPreview = function (e, t) {
              this.trigger("quick-preview", e, t);
            }),
            (t.prototype.onResize = function () {
              this.trigger("resize");
            }),
            (t.prototype.onDocumentClick = function (e) {
              e.defaultPrevented || this.trigger("click", e);
            }),
            (t.prototype.onLinkContextMenu = function (e, t, n, i) {
              var r = new rw(this.app);
              this.handleLinkContextMenu(r, t, n, i) &&
                (e.preventDefault(), r.showAtMouseEvent(e));
            }),
            (t.prototype.handleLinkContextMenu = function (e, t, n, i) {
              var r = this;
              if (!t) return !1;
              var o = SD(t).path,
                s = this.app.metadataCache.getFirstLinkpathDest(o, n);
              return (
                !!s &&
                (eb.isMobile &&
                  e
                    .addSeparator()
                    .addItem(function (e) {
                      return e.setTitle(st(s.name)).setIsLabel(!0);
                    })
                    .addSeparator(),
                e.addItem(function (e) {
                  return e
                    .setTitle(Lt("interface.menu.open-in-new-pane"))
                    .setIcon(_m)
                    .onClick(function () {
                      return r.openLinkText(t, n, !0);
                    });
                }),
                e.addItem(function (e) {
                  return e
                    .setTitle(Lt("plugins.file-explorer.menu-opt-rename"))
                    .setIcon(gm)
                    .onClick(function () {
                      return r.app.fileManager.promptForFileRename(s);
                    });
                }),
                e.addSeparator(),
                this.trigger("file-menu", e, s, "link-context-menu", i),
                !0)
              );
            }),
            (t.prototype.handleExternalLinkContextMenu = function (e, t) {
              return (
                !!t &&
                (e.addItem(function (e) {
                  return e
                    .setTitle(Lt("interface.menu.copy-url"))
                    .setIcon(Pm)
                    .onClick(function () {
                      Pt(t),
                        new lw(
                          Lt("interface.copied", { item: Lt("interface.url") })
                        );
                    });
                }),
                this.trigger("url-menu", e, t, null),
                !0)
              );
            }),
            (t.prototype.iterateCodeMirrors = function (e) {
              this.iterateAllLeaves(function (t) {
                t.view instanceof IR &&
                  !t.view.editMode &&
                  e(t.view.sourceMode.cmEditor);
              });
            }),
            (t.prototype.addMobileFileInfo = function (e) {
              this.mobileFileInfos.push(e);
            }),
            (t.prototype.registerUriHook = function () {
              var e = this,
                t = function (t) {
                  if (t) {
                    console.log("Received URL action", t);
                    var n = e.protocolHandlers;
                    if (n.has(t.action)) n.get(t.action)(t);
                  }
                },
                n = window.OBS_ACT;
              if (((window.OBS_ACT = t), n && t(n), dI)) {
                mI.addListener("appUrlOpen", function (n) {
                  var i;
                  (i = n.url),
                    A(e, void 0, void 0, function () {
                      var e;
                      return D(this, function (n) {
                        return i
                          ? (!(e = PN(i)) ||
                              (e.vault &&
                                e.vault.toLowerCase() !==
                                  this.app.vault.getName().toLowerCase()) ||
                              t(e),
                            [2])
                          : [2];
                      });
                    });
                });
              }
            }),
            (t.prototype.registerObsidianProtocolHandler = function (e, t) {
              if (this.protocolHandlers.has(e))
                throw new Error(
                  'Action "' + e + '" is already registered as a handler.'
                );
              this.protocolHandlers.set(e, t);
            }),
            (t.prototype.unregisterObsidianProtocolHandler = function (e, t) {
              (t && this.protocolHandlers.get(e) !== t) ||
                this.protocolHandlers.delete(e);
            }),
            (t.prototype.registerHoverLinkSource = function (e, t) {
              this.hoverLinkSources[e] = t;
            }),
            (t.prototype.unregisterHoverLinkSource = function (e) {
              delete this.hoverLinkSources[e];
            }),
            (t.prototype.pushUndoHistory = function (e) {
              if (e) {
                var t = e.getViewState();
                if ("empty" !== t.type) {
                  var n = e.getEphemeralState(),
                    i = this.undoHistory;
                  i.unshift({ state: t, eState: n }), i.length > 10 && i.pop();
                }
              }
            }),
            (t.prototype.registerEditorExtension = function (e) {
              this.editorExtensions.push(e), this.updateOptions();
            }),
            (t.prototype.unregisterEditorExtension = function (e) {
              this.editorExtensions.remove(e), this.updateOptions();
            }),
            (t.prototype.trigger = function (t) {
              for (var n = [], i = 1; i < arguments.length; i++)
                n[i - 1] = arguments[i];
              e.prototype.trigger.apply(this, P([t], n));
            }),
            (t.prototype.on = function (t, n, i) {
              return e.prototype.on.call(this, t, n, i);
            }),
            t
          );
        })(Sb),
        IN = (function () {
          function e(e, t) {
            (this.app = null),
              (this.setting = null),
              (this.containerEl = null),
              (this.navEl = null),
              (this.app = e),
              (this.setting = t),
              (this.containerEl = createDiv("vertical-tab-content"));
          }
          return (e.prototype.hide = function () {}), e;
        })(),
        NN = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            (n.limit = 0),
              (n.emptyStateText = "No results found"),
              (n.isOpen = !1),
              (n.inputEl = null),
              (n.resultContainerEl = null);
            var i = n.modalEl;
            return (
              i.removeClass("modal"),
              i.addClass("prompt"),
              i.empty(),
              (n.inputEl = i.createEl("input", {
                cls: "prompt-input",
                type: "text",
              })),
              (n.resultContainerEl = i.createDiv("prompt-results")),
              n.resultContainerEl.on(
                "mousedown",
                ".suggestion-item",
                function (e) {
                  return e.preventDefault();
                }
              ),
              (n.chooser = new QI(n, n.resultContainerEl, n.scope)),
              n.inputEl.addEventListener("input", n.onInput.bind(n)),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.setPlaceholder = function (e) {
              this.inputEl.placeholder = e;
            }),
            (t.prototype.setInstructions = function (e) {
              this.modalEl.appendChild(wN(e));
            }),
            (t.prototype.onOpen = function () {
              var e = this.inputEl;
              if (
                ((this.isOpen = !0),
                (e.value = ""),
                eb.isMobileApp && eb.isIosApp)
              ) {
                var t = document.body.createEl("input", { type: "text" });
                (t.style.position = "absolute"),
                  (t.style.top = "0"),
                  (t.style.opacity = "0"),
                  (t.style.zIndex = "-9999"),
                  t.focus(),
                  setTimeout(function () {
                    t.detach(), e.focus();
                  }, 300);
              } else e.focus();
              this.updateSuggestions();
            }),
            (t.prototype.onInput = function () {
              this.updateSuggestions();
            }),
            (t.prototype.updateSuggestions = function () {
              var e = this,
                t = this.inputEl.value,
                n = this.getSuggestions(t),
                i = function (n) {
                  if (n && 0 !== n.length) {
                    var i = e.limit;
                    i && i > 0 && (n = n.slice(0, i)),
                      e.chooser.setSuggestions(n);
                  } else
                    t ? e.onNoSuggestion() : e.chooser.setSuggestions(null);
                };
              Array.isArray(n)
                ? i(n)
                : A(e, void 0, void 0, function () {
                    var e;
                    return D(this, function (t) {
                      switch (t.label) {
                        case 0:
                          return (e = i), [4, n];
                        case 1:
                          return e.apply(void 0, [t.sent()]), [2];
                      }
                    });
                  });
            }),
            (t.prototype.onNoSuggestion = function () {
              this.chooser.setSuggestions(null),
                this.chooser.addMessage(this.emptyStateText);
            }),
            (t.prototype.selectSuggestion = function (e, t) {
              this.app.keymap.updateModifiers(t),
                this.close(),
                (this.isOpen = !1),
                this.onChooseSuggestion(e, t);
            }),
            t
          );
        })(vD),
        BN = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.getSuggestions = function (e) {
              e = e.trim();
              for (
                var t = this.getItems(), n = XT(e), i = [], r = 0, o = t;
                r < o.length;
                r++
              ) {
                var s = o[r],
                  a = nP(n, this.getItemText(s));
                a && i.push({ match: a, item: s });
              }
              return iP(i), i;
            }),
            (t.prototype.renderSuggestion = function (e, t) {
              aP(t, this.getItemText(e.item), e.match);
            }),
            (t.prototype.onChooseSuggestion = function (e, t) {
              this.onChooseItem(e.item, t);
            }),
            t
          );
        })(NN),
        RN = "YYYY-MM-DD",
        zN = "HH:mm";
      function HN(e, t, n) {
        for (var i in t)
          if (t.hasOwnProperty(i)) {
            var r = t[i],
              o = new RegExp("{{" + i + "}}", "gi");
            e = e.replace(o, r);
          }
        var s = null;
        return (e = e.replace(
          /{{(date|time)(?::(.*?))?}}/gi,
          function (e, t, i) {
            return (
              s || (s = window.moment()),
              i
                ? s.format(i)
                : "date" === t
                ? s.format((n && n.dateFormat) || RN)
                : s.format((n && n.timeFormat) || zN)
            );
          }
        ));
      }
      var VN = /!?\[\[.*?]]/,
        qN = /^(!?\[)(.*?)(]\(\s*)[^ ]+((?:\s+.*?)?\))$/,
        jN = (function () {
          function e(e) {
            (this.app = null),
              (this.vault = null),
              (this.inProgressUpdates = null),
              (this.updateQueue = new jh()),
              (this.linkResolutions = null),
              (this.app = e),
              (this.vault = e.vault);
          }
          return (
            (e.prototype.getNewFileParent = function (e) {
              var t = this.vault,
                n = t.getConfig("newFileLocation");
              if ("folder" === n) {
                var i = t.getConfig("newFileFolderPath");
                if ((r = t.getAbstractFileByPath(i)) instanceof Db) return r;
              } else if ("current" === n) {
                var r;
                i = Je(e);
                if ((r = t.getAbstractFileByPath(i)) instanceof Db) return r;
              }
              return t.getRoot();
            }),
            (e.prototype.createNewMarkdownFileFromLinktext = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n;
                return D(this, function (i) {
                  if (!Ve(e))
                    throw new Error(
                      Lt("plugins.file-explorer.msg-invalid-characters") + Be
                    );
                  return (
                    (n = null),
                    e.contains("/") ||
                      (n = this.app.fileManager.getNewFileParent(t)),
                    [2, this.app.fileManager.createNewMarkdownFile(n, e)]
                  );
                });
              });
            }),
            (e.prototype.createNewMarkdownFile = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i, r, o, s;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (n = this.vault),
                        e || (e = n.getRoot()),
                        (i = e.getParentPrefix()),
                        t
                          ? (nt((t = t.trim()), "md") && (t = Ze(t)),
                            (t = rt(t)),
                            (r = n.getAvailablePath(i + t, "md")))
                          : ((o = Lt(
                              "plugins.file-explorer.label-untitled-file"
                            )),
                            (r = n.getAvailablePath(i + o, "md"))),
                        !(s = Je(r)) ||
                        "/" === s ||
                        n.getAbstractFileByPathInsensitive(s)
                          ? [3, 2]
                          : [4, n.createFolder(s)]
                      );
                    case 1:
                      a.sent(), (a.label = 2);
                    case 2:
                      return [4, n.create(r, "")];
                    case 3:
                      return [2, a.sent()];
                  }
                });
              });
            }),
            (e.prototype.createNewFolder = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return (
                        (t = !e || e.isRoot() ? "" : e.path + "/"),
                        (n = Lt("plugins.file-explorer.label-untitled-folder")),
                        (i = this.vault.getAvailablePath(t + n)),
                        [4, this.vault.createFolder(i)]
                      );
                    case 1:
                      return (
                        o.sent(),
                        (r = this.vault.getAbstractFileByPath(i)) &&
                        r instanceof Db
                          ? [2, r]
                          : [2, null]
                      );
                  }
                });
              });
            }),
            (e.prototype.renameFile = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n = this;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return [
                        4,
                        this.runAsyncLinkUpdate(function () {
                          return n.vault.rename(e, t);
                        }),
                      ];
                    case 1:
                      return i.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.runAsyncLinkUpdate = function (e) {
              return A(this, void 0, void 0, function () {
                var t = this;
                return D(this, function (n) {
                  return this.inProgressUpdates
                    ? (this.inProgressUpdates.push(e()), [2])
                    : [
                        2,
                        this.updateQueue.queue(function () {
                          return A(t, void 0, void 0, function () {
                            var t,
                              n,
                              i = this;
                            return D(this, function (r) {
                              switch (r.label) {
                                case 0:
                                  return [
                                    4,
                                    new Promise(function (e) {
                                      return i.app.metadataCache.onCleanCache(
                                        e
                                      );
                                    }),
                                  ];
                                case 1:
                                  r.sent(),
                                    (t = this.linkResolutions =
                                      this.getAllLinkResolutions()),
                                    (r.label = 2);
                                case 2:
                                  return (
                                    r.trys.push([2, , 7, 8]),
                                    (this.inProgressUpdates = []),
                                    [4, e()]
                                  );
                                case 3:
                                  r.sent(), (r.label = 4);
                                case 4:
                                  return this.inProgressUpdates.length > 0
                                    ? ((n = this.inProgressUpdates),
                                      (this.inProgressUpdates = []),
                                      [4, Promise.all(n)])
                                    : [3, 6];
                                case 5:
                                  return r.sent(), [3, 4];
                                case 6:
                                  return [3, 8];
                                case 7:
                                  return (this.inProgressUpdates = null), [7];
                                case 8:
                                  return [4, this.updateAllLinks(t)];
                                case 9:
                                  return (
                                    r.sent(), (this.linkResolutions = null), [2]
                                  );
                              }
                            });
                          });
                        }),
                      ];
                });
              });
            }),
            (e.prototype.updateAllLinks = function (e) {
              return A(this, void 0, Promise, function () {
                var t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g,
                  m,
                  v,
                  y,
                  b,
                  w,
                  k = this;
                return D(this, function (C) {
                  for (
                    t = new Pe(), n = this.app.metadataCache, i = 0, r = e;
                    i < r.length;
                    i++
                  )
                    (o = r[i]),
                      (s = o.reference.link),
                      (a = o.resolvedPaths),
                      (l = o.sourceFile.path),
                      (c = SD(s)),
                      (u = c.path),
                      (h = c.subpath),
                      (p = n.getLinkpathDest(u, l).map(function (e) {
                        return e.path;
                      })),
                      Ae(a, p) ||
                        ((d = VN.test(o.reference.original)),
                        (f = n.fileToLinktext(o.resolvedFile, l, d)),
                        o.reference.link !== f &&
                          t.add(l, {
                            reference: o.reference,
                            newLinktext: f + h,
                          }));
                  return 0 === (g = t.count())
                    ? [2]
                    : ((m = Lt("nouns.link-with-count", { count: g })),
                      (v = Lt("nouns.file-with-count", {
                        count: Object.keys(t.data).length,
                      })),
                      (y = Lt("dialogue.label-link-affected", {
                        links: m,
                        files: v,
                      })),
                      (b = Lt("dialogue.msg-updated-links", {
                        links: m,
                        files: v,
                      })),
                      (w = function () {
                        return A(k, void 0, void 0, function () {
                          return D(this, function (e) {
                            switch (e.label) {
                              case 0:
                                return [4, this.updateInternalLinks(t)];
                              case 1:
                                return e.sent(), new lw(b), [2];
                            }
                          });
                        });
                      }),
                      this.vault.getConfig("alwaysUpdateLinks")
                        ? [2, w()]
                        : [
                            2,
                            new Promise(function (e, t) {
                              try {
                                var n = new vD(k.app);
                                n.titleEl.setText(
                                  Lt("dialogue.label-update-links")
                                ),
                                  n.contentEl.createEl("p", {
                                    text: Lt(
                                      "dialogue.label-confirm-update-link-to-file"
                                    ),
                                  }),
                                  n.contentEl.createEl("p", { text: y }),
                                  (n.onClose = function () {
                                    return e();
                                  });
                                var i = function (t) {
                                    (n.onClose = function () {
                                      return null;
                                    }),
                                      n.close(),
                                      t &&
                                        k.app.vault.setConfig(
                                          "alwaysUpdateLinks",
                                          !0
                                        ),
                                      e(w());
                                  },
                                  r = n.modalEl.createDiv(
                                    "modal-button-container"
                                  );
                                r
                                  .createEl("button", {
                                    text: Lt("dialogue.button-always-update"),
                                  })
                                  .addEventListener("click", function () {
                                    return i(!0);
                                  }),
                                  r
                                    .createEl("button", {
                                      text: Lt("dialogue.button-just-once"),
                                    })
                                    .addEventListener("click", function () {
                                      return i();
                                    }),
                                  r
                                    .createEl("button", {
                                      text: Lt("dialogue.button-do-not-update"),
                                    })
                                    .addEventListener("click", function () {
                                      return n.close();
                                    }),
                                  n.open();
                              } catch (e) {
                                t(e);
                              }
                            }),
                          ]);
                });
              });
            }),
            (e.prototype.getAllLinkResolutions = function (e) {
              var t = this;
              void 0 === e && (e = !0);
              var n = this.app.metadataCache,
                i = [];
              return (
                n.iterateReferences(function (r, o) {
                  var s = t.vault.getAbstractFileByPath(r);
                  if (s instanceof Ab) {
                    var a = xD(o.link);
                    if (a || !e) {
                      var l = n.getLinkpathDest(a, r);
                      if (l.length > 0) {
                        var c = l[0];
                        i.push({
                          reference: o,
                          sourceFile: s,
                          resolvedFile: c,
                          resolvedPaths: l.map(function (e) {
                            return e.path;
                          }),
                        });
                      }
                    }
                  }
                }),
                i
              );
            }),
            (e.prototype.updateInternalLinks = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i, r, o, s;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      (t = 0), (n = e.keys()), (a.label = 1);
                    case 1:
                      return t < n.length
                        ? ((i = n[t]),
                          (r = this.vault.getAbstractFileByPath(i)) instanceof
                          Ab
                            ? [4, this.vault.read(r)]
                            : [3, 4])
                        : [3, 5];
                    case 2:
                      return (
                        (o = a.sent()),
                        (s = e.get(i)),
                        (o = this.updateInternalLinksForFile(o, s)),
                        [4, this.vault.modify(r, o)]
                      );
                    case 3:
                      a.sent(), (a.label = 4);
                    case 4:
                      return t++, [3, 1];
                    case 5:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.updateInternalLinksForFile = function (e, t) {
              t.sort(function (e, t) {
                return (
                  t.reference.position.start.offset -
                  e.reference.position.start.offset
                );
              });
              for (
                var n = function (t) {
                    var n = t.reference,
                      i = n.position,
                      r = n.original,
                      o = n.link,
                      s = void 0;
                    if (VN.test(r))
                      s = r.replace(o, function () {
                        return t.newLinktext;
                      });
                    else {
                      var a = wg(t.newLinktext),
                        l = r.match(qN);
                      if (l) {
                        var c = l[2],
                          u = yg(c).trim(),
                          h = xD(o);
                        u === st(h)
                          ? (c = st(xD(t.newLinktext)))
                          : u.contains("/") &&
                            u === at(h) &&
                            (c = at(xD(t.newLinktext))),
                          (s = l[1] + c + l[3] + a + l[4]);
                      } else
                        (s = "[](" + a + ")"),
                          r.startsWith("!") && (s = "!" + s);
                    }
                    e =
                      e.substring(0, i.start.offset) +
                      s +
                      e.substring(i.end.offset);
                  },
                  i = 0,
                  r = t;
                i < r.length;
                i++
              ) {
                n(r[i]);
              }
              return e;
            }),
            (e.prototype.promptForFolderDeletion = function (e) {
              var t = this,
                n = this.app,
                i = n.vault.getConfig("promptDelete"),
                r = n.vault.getConfig("trashOption");
              if (i) {
                var o = document.createDocumentFragment();
                o.createEl("p", {
                  text: Lt("dialogue.label-confirm-deletion", {
                    filename: e.name,
                  }),
                }),
                  "system" === r
                    ? o.createEl("p", {
                        text: Lt("dialogue.label-move-to-system-trash"),
                      })
                    : "local" === r
                    ? o.createEl("p", {
                        text: Lt("dialogue.label-move-to-vault-trash"),
                      })
                    : "none" === r &&
                      o.createEl("p", {
                        cls: "mod-warning",
                        text: Lt("dialogue.label-permanent-delete"),
                      }),
                  e.children.length > 0 &&
                    (o.createEl("p", {
                      cls: "mod-warning",
                      text: Lt("dialogue.label-non-empty-folder"),
                    }),
                    o.createEl("p", {
                      cls: "mod-warning",
                      text: Lt("dialogue.label-delete-folder-warning"),
                    })),
                  new yD(n)
                    .setTitle(Lt("dialogue.label-delete-folder"))
                    .setContent(o)
                    .addButton(
                      "mod-warning",
                      Lt("dialogue.button-delete-do-not-ask-again"),
                      function () {
                        n.vault.setConfig("promptDelete", !1), t.trashFile(e);
                      }
                    )
                    .addButton(
                      "mod-warning",
                      Lt("dialogue.button-delete"),
                      function () {
                        t.trashFile(e);
                      }
                    )
                    .addCancelButton()
                    .open();
              } else this.trashFile(e);
            }),
            (e.prototype.promptForFileDeletion = function (e) {
              var t = this,
                n = this.app,
                i = n.vault.getConfig("promptDelete"),
                r = n.vault.getConfig("trashOption");
              if (i) {
                var o = document.createDocumentFragment();
                o.createEl("p", {
                  text: Lt("dialogue.label-confirm-deletion", {
                    filename: e.name,
                  }),
                }),
                  "system" === r
                    ? o.createEl("p", {
                        text: Lt("dialogue.label-move-to-system-trash"),
                      })
                    : "local" === r
                    ? o.createEl("p", {
                        text: Lt("dialogue.label-move-to-vault-trash"),
                      })
                    : "none" === r &&
                      o.createEl("p", {
                        cls: "mod-warning",
                        text: Lt("dialogue.label-permanent-delete"),
                      });
                var s = n.metadataCache.getBacklinksForFile(e).count();
                if (s > 0) {
                  var a = Lt("nouns.link-with-count", { count: s }),
                    l = Lt("dialogue.label-existing-backlink", { links: a });
                  o.createEl("p", { cls: "mod-warning", text: l });
                }
                new yD(n)
                  .setTitle(Lt("dialogue.label-delete-file"))
                  .setContent(o)
                  .addButton(
                    "mod-warning",
                    Lt("dialogue.button-delete-do-not-ask-again"),
                    function () {
                      n.vault.setConfig("promptDelete", !1), t.trashFile(e);
                    }
                  )
                  .addButton(
                    "mod-warning",
                    Lt("dialogue.button-delete"),
                    function () {
                      t.trashFile(e);
                    }
                  )
                  .addCancelButton()
                  .open();
              } else this.trashFile(e);
            }),
            (e.prototype.promptForFileRename = function (e) {
              return A(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  r,
                  o,
                  s = this;
                return D(this, function (a) {
                  return (
                    (t = this.app),
                    (n = function (t) {
                      return A(s, void 0, void 0, function () {
                        var n, i, r;
                        return D(this, function (o) {
                          switch (o.label) {
                            case 0:
                              if ("" === t)
                                return (
                                  new lw(
                                    Lt(
                                      "plugins.file-explorer.msg-empty-file-name"
                                    )
                                  ),
                                  [2]
                                );
                              if (
                                ((n = e.getNewPathAfterRename(t)), e.path === n)
                              )
                                return [2];
                              o.label = 1;
                            case 1:
                              return (
                                o.trys.push([1, 3, , 4]),
                                [4, this.renameFile(e, n)]
                              );
                            case 2:
                              return o.sent(), [3, 4];
                            case 3:
                              return (
                                (i = o.sent()) &&
                                  ((r = i.message || i.code || i.toString()),
                                  new lw(r)),
                                [3, 4]
                              );
                            case 4:
                              return [2];
                          }
                        });
                      });
                    }),
                    (i = createEl("input", {
                      type: "text",
                      value: e.basename,
                    })),
                    (r = function () {
                      return A(s, void 0, void 0, function () {
                        return D(this, function (e) {
                          switch (e.label) {
                            case 0:
                              return o.close(), [4, n(i.value)];
                            case 1:
                              return (
                                e.sent(),
                                new lw(Lt("dialogue.msg-rename-success")),
                                [2]
                              );
                          }
                        });
                      });
                    }),
                    i.addEventListener("keypress", function (e) {
                      e.isComposing || "Enter" !== e.key || r();
                    }),
                    (o = new yD(t))
                      .setTitle(Lt("dialogue.label-rename-file"))
                      .setContent(
                        createFragment(function (e) {
                          e.createEl("label", {
                            cls: "input-label",
                            text: Lt("dialogue.label-new-name"),
                          }),
                            e.appendChild(i);
                        })
                      )
                      .addButton(
                        "mod-cta",
                        Lt("dialogue.button-done"),
                        function () {
                          return r(), !0;
                        }
                      )
                      .addCancelButton()
                      .open(),
                    i.select(),
                    i.focus(),
                    [2]
                  );
                });
              });
            }),
            (e.prototype.trashFile = function (e) {
              var t = this.app,
                n = t.vault.getConfig("trashOption");
              "system" === n
                ? t.vault.trash(e, !0)
                : "local" === n
                ? t.vault.trash(e, !1)
                : "none" === n && t.vault.delete(e, !0);
            }),
            (e.prototype.generateMarkdownLink = function (e, t, n, i) {
              var r,
                o = this.app,
                s = o.vault.getConfig("useMarkdownLinks"),
                a = !s,
                l = o.metadataCache.fileToLinktext(e, t, a) + (n || "");
              if ((e.path === t && n && (l = n), s)) {
                var c = wg(l);
                r =
                  "md" === e.extension
                    ? "[" + (i || e.basename) + "](" + c + ")"
                    : "![](" + c + ")";
              } else
                i &&
                  i.toLowerCase() === l.toLowerCase() &&
                  ((l = i), (i = null)),
                  (r = i ? "[[" + l + "|" + i + "]]" : "[[" + l + "]]"),
                  "md" !== e.extension && (r = "!" + r);
              return r;
            }),
            (e.prototype.createAndOpenMarkdownFile = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i, r, o, s, a;
                return D(this, function (l) {
                  switch (l.label) {
                    case 0:
                      return (
                        (n = this.app),
                        (i = n.workspace),
                        (r = ""),
                        (o = i.getActiveFile()) && (r = o.path),
                        (s = this.getNewFileParent(r)),
                        [4, this.createNewMarkdownFile(s, e)]
                      );
                    case 1:
                      return (
                        (a = l.sent()),
                        [
                          4,
                          i
                            .getLeaf(t)
                            .openFile(a, {
                              active: !0,
                              state: { mode: "source" },
                              eState: { rename: "all" },
                            }),
                        ]
                      );
                    case 2:
                      return l.sent(), [2, a];
                  }
                });
              });
            }),
            (e.prototype.insertTextIntoFile = function (e, t, n, i, r) {
              return A(this, void 0, void 0, function () {
                var o, s, a;
                return D(this, function (l) {
                  switch (l.label) {
                    case 0:
                      return [4, this.vault.read(e)];
                    case 1:
                      return (
                        (o = l.sent()),
                        (s = "" === o ? "" : "\n\n"),
                        i &&
                          (t = HN(i, {
                            fromTitle: n,
                            newTitle: e.basename,
                            content: t,
                          })),
                        (a = r ? t + s + o : o + s + t),
                        [4, this.vault.modify(e, a)]
                      );
                    case 2:
                      return l.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.mergeFile = function (e, t, n, i) {
              return A(this, void 0, void 0, function () {
                var r,
                  o,
                  s = this;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (r = this.app.workspace), [4, this.vault.read(t)];
                    case 1:
                      return (
                        (o = a.sent()),
                        [
                          4,
                          this.runAsyncLinkUpdate(function () {
                            return A(s, void 0, void 0, function () {
                              var r, s, a, l;
                              return D(this, function (c) {
                                switch (c.label) {
                                  case 0:
                                    return [
                                      4,
                                      this.insertTextIntoFile(
                                        e,
                                        o,
                                        t.basename,
                                        n,
                                        i
                                      ),
                                    ];
                                  case 1:
                                    return c.sent(), [4, this.trashFile(t)];
                                  case 2:
                                    if ((c.sent(), (r = this.linkResolutions)))
                                      for (s = 0, a = r; s < a.length; s++)
                                        (l = a[s]).resolvedFile === t &&
                                          ((l.resolvedFile = e),
                                          (l.resolvedPaths = []));
                                    return [2];
                                }
                              });
                            });
                          }),
                        ]
                      );
                    case 2:
                      return a.sent(), [4, r.getLeaf().openFile(e)];
                    case 3:
                      return a.sent(), [2];
                  }
                });
              });
            }),
            e
          );
        })();
      function UN(e) {
        return Qf(e, null, {});
      }
      function WN(e) {
        return (function (e, t, n) {
          let i = null;
          if (
            ("function" == typeof t || Array.isArray(t)
              ? (i = t)
              : void 0 === n && t && (n = t),
            "string" == typeof n && (n = n.length),
            "number" == typeof n)
          ) {
            const e = Math.round(n);
            n = e < 1 ? void 0 : e > 8 ? { indent: 8 } : { indent: e };
          }
          if (void 0 === e) {
            const { keepUndefined: e } = n || t || {};
            if (!e) return;
          }
          return new pf(e, i, n).toString(n);
        })(e, null, {});
      }
      var _N = window.moment;
      function GN(e, t, n) {
        return {
          status: e,
          headers: t,
          arrayBuffer: n,
          get json() {
            return JSON.parse(new TextDecoder().decode(n));
          },
          get text() {
            return new TextDecoder().decode(n);
          },
        };
      }
      function KN(e) {
        return A(this, void 0, Promise, function () {
          var t, n, i, r, o, s, a, l, c, u, h, p;
          return D(this, function (d) {
            switch (d.label) {
              case 0:
                return dI
                  ? ((n = !1),
                    e.body instanceof ArrayBuffer
                      ? ((t = J(e.body)), (n = !0))
                      : (t = e.body),
                    [
                      4,
                      mI.requestUrl({
                        url: e.url,
                        method: e.method,
                        contentType: e.contentType,
                        headers: e.headers,
                        body: t,
                        binary: n,
                      }),
                    ])
                  : [3, 2];
              case 1:
                return [2, GN((i = d.sent()).status, i.headers, Y(i.body))];
              case 2:
                return ct("electron") ? [4, pt(e)] : [3, 4];
              case 3:
                return [2, GN((r = d.sent()).status, r.headers, r.body)];
              case 4:
                return (
                  (o = e.url),
                  (s = e.method),
                  (a = e.contentType),
                  (l = e.body),
                  (c = null),
                  a && (c = { "Content-Type": a }),
                  [4, fetch(o, { method: s, headers: c, body: l })]
                );
              case 5:
                return [4, (u = d.sent()).arrayBuffer()];
              case 6:
                return (
                  (h = d.sent()),
                  (p = {}),
                  u.headers.forEach(function (e, t) {
                    return (p[t] = e);
                  }),
                  [2, GN(u.status, p, h)]
                );
            }
          });
        });
      }
      function $N(e) {
        return A(this, void 0, Promise, function () {
          return D(this, function (t) {
            switch (t.label) {
              case 0:
                return [4, KN(e)];
              case 1:
                return [2, t.sent().text];
            }
          });
        });
      }
      (window.request = $N), (window.requestUrl = KN);
      var YN = new Intl.Collator(void 0, {
          usage: "sort",
          sensitivity: "base",
          numeric: !0,
        }).compare,
        JN = (function (e) {
          function t(t, n) {
            var i = e.call(this, t, n) || this;
            return (
              (i.name = Lt("setting.hotkeys.name")),
              (i.id = "hotkeys"),
              (i.setHotkeyScope = null),
              (i.commandBeingCustomized = null),
              (i.searchInputEl = null),
              (i.hotkeyListContainerEl = null),
              (i.setHotkeyScope = new ew()),
              i.setHotkeyScope.register(null, null, function (e, n) {
                var r = i.commandBeingCustomized,
                  o = t.hotkeyManager;
                if (r) {
                  var s = nw.decompileModifiers(n.modifiers);
                  if (s.length > 0) {
                    var a = vT(s, n.vkey),
                      l = o.getHotkeys(r.id) || [];
                    l.filter(function (e) {
                      return bT(e) === bT(a);
                    }).length > 0 ||
                      (l.push(a),
                      o.setHotkeys(r.id, l),
                      A(i, void 0, void 0, function () {
                        return D(this, function (e) {
                          switch (e.label) {
                            case 0:
                              return [4, o.save()];
                            case 1:
                              return e.sent(), [2];
                          }
                        });
                      })),
                      i.finishCustomizingHotkey();
                  }
                  e.preventDefault(), e.stopPropagation();
                }
              }),
              i.setHotkeyScope.register([], "Escape", function () {
                if (i.commandBeingCustomized)
                  return i.finishCustomizingHotkey(), !1;
              }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              var e = this,
                t = this.containerEl;
              t.empty();
              var n = t.createDiv("hotkey-settings-container");
              n.createDiv("hotkey-search-container", function (t) {
                e.searchInputEl = t.createEl(
                  "input",
                  { type: "text" },
                  function (t) {
                    t.setAttribute(
                      "placeholder",
                      Lt("setting.hotkeys.prompt-filter")
                    ),
                      t.addEventListener("input", function () {
                        e.updateHotkeyVisibility();
                      });
                  }
                );
              }),
                (this.hotkeyListContainerEl = n.createDiv(
                  "hotkey-list-container"
                )),
                this.updateHotkeyVisibility(),
                eb.isMobile || this.searchInputEl.focus();
            }),
            (t.prototype.hide = function () {
              this.finishCustomizingHotkey();
            }),
            (t.prototype.setQuery = function (e) {
              var t = this.searchInputEl;
              (t.value = e), t.focus(), this.updateHotkeyVisibility();
            }),
            (t.prototype.updateHotkeyVisibility = function () {
              var e = this,
                t = this.app.commands,
                n = this.app.hotkeyManager;
              this.hotkeyListContainerEl.empty();
              var i = new Pe();
              for (var r in t.commands)
                if (t.commands.hasOwnProperty(r)) {
                  var o = t.commands[r],
                    s = n.getHotkeys(r),
                    a = n.getDefaultHotkeys(r),
                    l = void 0 !== a;
                  if (void 0 !== s)
                    for (var c = 0, u = s; c < u.length; c++) {
                      var h = u[c];
                      i.add(bT(h), o.name);
                    }
                  else if (l && a.length > 0)
                    for (var p = 0, d = a; p < d.length; p++) {
                      var f = d[p];
                      i.add(bT(f), o.name);
                    }
                }
              var g = Object.values(t.commands);
              g.sort(function (e, t) {
                return YN(e.name, t.name);
              });
              for (
                var m = this.searchInputEl.value.toLowerCase(),
                  v = function (t) {
                    var r = t.id,
                      o = t.name;
                    if (
                      "" !== m &&
                      !o.toLowerCase().contains(m) &&
                      !r.startsWith(m)
                    )
                      return "continue";
                    var s = new ZD(y.hotkeyListContainerEl).setName(
                        o
                      ).controlEl,
                      a = n.getHotkeys(r),
                      l = n.getDefaultHotkeys(r),
                      c = s.createDiv("setting-command-hotkeys"),
                      u = void 0 !== a,
                      h = void 0 !== l,
                      p = function (e, t, n) {
                        var r = bT(t);
                        if (i.get(r)) {
                          var s = i.get(r).filter(function (e) {
                            return e !== o;
                          });
                          if (s.length > 0)
                            if ((e.addClass("has-conflict"), 1 === s.length)) {
                              var a = s[0];
                              nn(
                                e,
                                Lt(
                                  "setting.hotkeys.tooltip-hotkey-single-conflict",
                                  { command: a }
                                )
                              );
                            } else {
                              var l = s.length;
                              nn(
                                e,
                                Lt(
                                  "setting.hotkeys.tooltip-hotkey-multiple-conflicts",
                                  { count: l }
                                )
                              );
                            }
                        }
                        e.appendText(" " + r + " "),
                          e.createSpan(
                            "setting-hotkey-icon setting-delete-hotkey",
                            function (e) {
                              Xy(e, Jm, 8),
                                nn(
                                  e,
                                  Lt("setting.hotkeys.tooltip-delete-hotkey")
                                ),
                                e.addEventListener("click", n);
                            }
                          );
                      };
                    if (u)
                      for (
                        var d = function (t) {
                            c.createSpan("setting-hotkey", function (i) {
                              p(i, t, function () {
                                return A(e, void 0, void 0, function () {
                                  var e;
                                  return D(this, function (i) {
                                    switch (i.label) {
                                      case 0:
                                        return (
                                          (e = a.filter(function (e) {
                                            return bT(e) !== bT(t);
                                          })),
                                          n.setHotkeys(r, e),
                                          [4, n.save()]
                                        );
                                      case 1:
                                        return (
                                          i.sent(),
                                          this.updateHotkeyVisibility(),
                                          [2]
                                        );
                                    }
                                  });
                                });
                              });
                            });
                          },
                          f = 0,
                          g = a;
                        f < g.length;
                        f++
                      ) {
                        d(g[f]);
                      }
                    else if (h && l.length > 0)
                      for (
                        var v = function (t) {
                            c.createSpan("setting-hotkey", function (i) {
                              p(i, t, function () {
                                return A(e, void 0, void 0, function () {
                                  return D(this, function (e) {
                                    switch (e.label) {
                                      case 0:
                                        return (
                                          n.setHotkeys(r, []), [4, n.save()]
                                        );
                                      case 1:
                                        return (
                                          e.sent(),
                                          this.updateHotkeyVisibility(),
                                          [2]
                                        );
                                    }
                                  });
                                });
                              });
                            });
                          },
                          b = 0,
                          w = l;
                        b < w.length;
                        b++
                      ) {
                        v(w[b]);
                      }
                    y.commandBeingCustomized &&
                    r === y.commandBeingCustomized.id
                      ? c.createSpan({
                          cls: "setting-hotkey mod-active",
                          text: Lt(
                            "setting.hotkeys.label-waiting-for-hotkey-press"
                          ),
                        })
                      : ((u && 0 === a.length) || (!u && !h)) &&
                        c.createSpan({
                          cls: "setting-hotkey mod-empty",
                          text: Lt("setting.hotkeys.label-blank-hotkey"),
                        }),
                      u &&
                        s.createSpan(
                          "setting-restore-hotkey-button",
                          function (t) {
                            Xy(t, Xm, 18),
                              nn(
                                t,
                                Lt("setting.hotkeys.tooltip-restore-default")
                              ),
                              t.addEventListener("click", function () {
                                return A(e, void 0, void 0, function () {
                                  return D(this, function (e) {
                                    switch (e.label) {
                                      case 0:
                                        return (
                                          n.removeHotkeys(r), [4, n.save()]
                                        );
                                      case 1:
                                        return (
                                          e.sent(),
                                          this.finishCustomizingHotkey(),
                                          [2]
                                        );
                                    }
                                  });
                                });
                              });
                          }
                        ),
                      s.createSpan("setting-add-hotkey-button", function (n) {
                        Xy(n, Qm, 22),
                          nn(
                            n,
                            Lt("setting.hotkeys.tooltip-customize-command")
                          ),
                          n.addEventListener("click", function () {
                            (e.commandBeingCustomized = t),
                              e.app.keymap.pushScope(e.setHotkeyScope),
                              e.updateHotkeyVisibility();
                          }),
                          n.toggleClass(
                            "mod-active",
                            t === e.commandBeingCustomized
                          );
                      });
                  },
                  y = this,
                  b = 0,
                  w = g;
                b < w.length;
                b++
              ) {
                v((o = w[b]));
              }
            }),
            (t.prototype.finishCustomizingHotkey = function () {
              this.app.keymap.popScope(this.setHotkeyScope),
                (this.commandBeingCustomized = null),
                this.updateHotkeyVisibility();
            }),
            t
          );
        })(IN);
      function QN(e, t, n) {
        return (
          "https://raw.githubusercontent.com/" +
          e +
          "/" +
          (n || "HEAD") +
          "/" +
          t
        );
      }
      function XN(e) {
        return "https://github.com/" + e;
      }
      function ZN(e, t, n) {
        return "https://github.com/" + e + "/releases/download/" + t + "/" + n;
      }
      var eB = "manifest.json",
        tB = "main.js",
        nB = "styles.css",
        iB = {
          obsidian: S,
          "@codemirror/autocomplete": c,
          "@codemirror/closebrackets": u,
          "@codemirror/collab": h,
          "@codemirror/commands": d,
          "@codemirror/comment": f,
          "@codemirror/fold": m,
          "@codemirror/gutter": g,
          "@codemirror/highlight": v,
          "@codemirror/history": y,
          "@codemirror/language": s,
          "@codemirror/lint": w,
          "@codemirror/matchbrackets": p,
          "@codemirror/panel": b,
          "@codemirror/rangeset": r,
          "@codemirror/rectangular-selection": k,
          "@codemirror/search": C,
          "@codemirror/state": i,
          "@codemirror/stream-parser": a,
          "@codemirror/text": t,
          "@codemirror/tooltip": l,
          "@codemirror/view": o,
          "@lezer/common": e,
          "@lezer/lr": x,
        },
        rB = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            return (i.app = t), (i.manifest = n), i;
          }
          return (
            M(t, e),
            (t.prototype.addRibbonIcon = function (e, t, n) {
              var i = this.app.workspace.leftRibbon.addRibbonActionButton(
                e,
                t,
                n
              );
              return (
                this.register(function () {
                  return i.detach();
                }),
                i
              );
            }),
            (t.prototype.addStatusBarItem = function () {
              var e = this.app.statusBar.registerStatusBarItem();
              return (
                e.addClass(
                  "plugin-" +
                    this.manifest.id
                      .toLowerCase()
                      .replace(/[^_a-zA-Z0-9-]/, "-")
                ),
                this.register(function () {
                  return e.detach();
                }),
                e
              );
            }),
            (t.prototype.addCommand = function (e) {
              var t = this;
              return (
                (e.id = this.manifest.id + ":" + e.id),
                (e.name = this.manifest.name + ": " + e.name),
                this.app.commands.addCommand(e),
                this.register(function () {
                  return t.app.commands.removeCommand(e.id);
                }),
                e
              );
            }),
            (t.prototype.addSettingTab = function (e) {
              var t = this;
              this.app.setting.addSettingTab(e),
                this.register(function () {
                  return t.app.setting.removeSettingTab(e);
                });
            }),
            (t.prototype.registerView = function (e, t) {
              var n = this;
              this.app.viewRegistry.registerView(e, t),
                this.register(function () {
                  return n.app.viewRegistry.unregisterView(e);
                });
            }),
            (t.prototype.registerExtensions = function (e, t) {
              var n = this;
              this.app.viewRegistry.registerExtensions(e, t),
                this.register(function () {
                  return n.app.viewRegistry.unregisterExtensions(e);
                });
            }),
            (t.prototype.registerMarkdownPostProcessor = function (e, t) {
              return (
                cb.registerPostProcessor(e, t),
                this.register(function () {
                  return cb.unregisterPostProcessor(e);
                }),
                e
              );
            }),
            (t.prototype.registerMarkdownCodeBlockProcessor = function (
              e,
              t,
              n
            ) {
              var i = cb.createCodeBlockPostProcessor(e, t);
              return (
                cb.registerPostProcessor(i, n),
                cb.registerCodeBlockPostProcessor(e, t),
                this.register(function () {
                  cb.unregisterCodeBlockPostProcessor(e),
                    cb.unregisterPostProcessor(i);
                }),
                i
              );
            }),
            (t.prototype.registerCodeMirror = function (e) {
              this.app.workspace.iterateCodeMirrors(e),
                this.registerEvent(this.app.workspace.on("codemirror", e));
            }),
            (t.prototype.registerEditorExtension = function (e) {
              var t = this;
              this.app.workspace.registerEditorExtension(e),
                this.register(function () {
                  return t.app.workspace.unregisterEditorExtension(e);
                });
            }),
            (t.prototype.registerObsidianProtocolHandler = function (e, t) {
              var n = this;
              this.app.workspace.registerObsidianProtocolHandler(e, t),
                this.register(function () {
                  return n.app.workspace.unregisterObsidianProtocolHandler(
                    e,
                    t
                  );
                });
            }),
            (t.prototype.registerEditorSuggest = function (e) {
              var t = this;
              this.app.workspace.editorSuggest.addSuggest(e),
                this.register(function () {
                  return t.app.workspace.editorSuggest.removeSuggest(e);
                });
            }),
            (t.prototype.loadData = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [
                        4,
                        this.app.vault.readPluginData(this.manifest.dir),
                      ];
                    case 1:
                      return [2, e.sent()];
                  }
                });
              });
            }),
            (t.prototype.saveData = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return [
                        4,
                        this.app.vault.writePluginData(this.manifest.dir, e),
                      ];
                    case 1:
                      return [2, t.sent()];
                  }
                });
              });
            }),
            (t.prototype.loadCSS = function () {
              return A(this, void 0, Promise, function () {
                var e, t, n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return (
                        (t = (e = this).app),
                        (n = e.manifest),
                        (i = n.dir + "/" + nB),
                        [4, t.vault.exists(i)]
                      );
                    case 1:
                      return s.sent() ? [4, t.vault.readRaw(i)] : [3, 3];
                    case 2:
                      (r = s.sent()),
                        ((o = document.head.createEl("style", {
                          type: "text/css",
                        })).textContent = r),
                        this.register(function () {
                          return o.detach();
                        }),
                        (s.label = 3);
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            t
          );
        })(nm),
        oB = (function (e) {
          function t(t, n) {
            var i = e.call(this, t, t.setting) || this;
            return (
              (i.plugin = n),
              (i.name = n.manifest.name),
              (i.id = n.manifest.id),
              i
            );
          }
          return M(t, e), t;
        })(IN),
        sB = (function (e) {
          function t(t, n) {
            var i = e.call(this, t, t.setting) || this;
            return (
              (i.plugin = null),
              (i.plugin = n),
              (i.name = n.instance.name),
              (i.id = n.instance.id),
              i
            );
          }
          return M(t, e), t;
        })(IN),
        aB = (function () {
          function e(e) {
            (this.manifests = {}),
              (this.plugins = {}),
              (this.enabledPlugins = new Set()),
              (this.updates = {}),
              (this.requestSaveConfig = Tt(this.saveConfig, 1e3)),
              (this.app = e);
          }
          return (
            (e.prototype.loadManifests = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r, o, s, a, l, c, u, h;
                return D(this, function (p) {
                  switch (p.label) {
                    case 0:
                      return (
                        (e = this.app.vault.adapter),
                        (t = this.manifests = {}),
                        (n = this.getPluginFolder()),
                        [4, e.exists(n)]
                      );
                    case 1:
                      return p.sent() ? [4, e.list(n)] : [3, 10];
                    case 2:
                      (i = p.sent()), (r = 0), (o = i.folders), (p.label = 3);
                    case 3:
                      if (!(r < o.length)) return [3, 10];
                      (s = o[r]), (p.label = 4);
                    case 4:
                      return (
                        p.trys.push([4, 8, , 9]),
                        (a = s + "/" + eB),
                        [4, e.exists(a)]
                      );
                    case 5:
                      return p.sent()
                        ? ((u = (c = JSON).parse), [4, e.read(a)])
                        : [3, 7];
                    case 6:
                      if (!(l = u.apply(c, [p.sent()])).id) return [3, 9];
                      (l.dir = s),
                        (l.author && "obsidian" !== l.author.toLowerCase()) ||
                          (l.author = ""),
                        (t[l.id] = l),
                        (p.label = 7);
                    case 7:
                      return [3, 9];
                    case 8:
                      return (h = p.sent()), console.error(h), [3, 9];
                    case 9:
                      return r++, [3, 3];
                    case 10:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.loadPlugin = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i, r, o, s, a;
                return D(this, function (l) {
                  switch (l.label) {
                    case 0:
                      return this.isEnabled()
                        ? (t = this.plugins[e])
                          ? [2, t]
                          : (n = this.manifests[e])
                          ? [4, this.app.vault.adapter.read(n.dir + "/" + tB)]
                          : [2, null]
                        : [2];
                    case 1:
                      if (
                        ((i = l.sent()),
                        (r = function (e) {
                          return iB[e] || ct(e);
                        }),
                        (s = { exports: (o = {}) }),
                        (function (e) {
                          return window.eval(
                            "(function anonymous(require,module,exports){" +
                              e +
                              "\n})"
                          );
                        })(i)(r, s, o),
                        !(a = (o = s.exports || o).default || s.exports))
                      )
                        throw new Error(
                          "Failed to load plugin " +
                            e +
                            ". No exports detected."
                        );
                      if (!((t = new a(this.app, n)) instanceof rB))
                        throw new Error("Failed to load plugin " + e);
                      return (this.plugins[e] = t), [4, t.load()];
                    case 2:
                      return l.sent(), [4, t.loadCSS()];
                    case 3:
                      return l.sent(), [2, t];
                  }
                });
              });
            }),
            (e.prototype.unloadPlugin = function (e) {
              return A(this, void 0, void 0, function () {
                var t;
                return D(this, function (n) {
                  return (t = this.plugins[e])
                    ? (t.unload(), delete this.plugins[e], [2])
                    : [2];
                });
              });
            }),
            (e.prototype.initialize = function () {
              return A(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g = this;
                return D(this, function (m) {
                  switch (m.label) {
                    case 0:
                      return [
                        4,
                        (e = this.app).vault.readConfigJson(
                          "community-plugins"
                        ),
                      ];
                    case 1:
                      return (
                        ((t = m.sent()) && Array.isArray(t)) || (t = []),
                        (this.enabledPlugins = new Set(t)),
                        [4, this.loadManifests()]
                      );
                    case 2:
                      if (
                        (m.sent(),
                        (n = this.manifests),
                        0 === Object.keys(n).length)
                      )
                        return [2];
                      if (!this.isEnabled())
                        return (
                          null ===
                            localStorage.getItem(
                              "enable-plugin-" + this.app.appId
                            ) && new lB(e).open(),
                          [2]
                        );
                      (i = []),
                        (r = performance.now()),
                        (o = 0),
                        (s = t),
                        (m.label = 3);
                    case 3:
                      return o < s.length
                        ? ((d = s[o]),
                          n.hasOwnProperty(d)
                            ? ((a = performance.now()),
                              [4, this.enablePlugin(d)])
                            : [3, 5])
                        : [3, 6];
                    case 4:
                      m.sent(),
                        i.push({
                          id: d,
                          time: Math.round(performance.now() - a),
                        }),
                        (m.label = 5);
                    case 5:
                      return o++, [3, 3];
                    case 6:
                      if (
                        ((l = performance.now() - r),
                        "1" === localStorage.getItem("debug-plugin"))
                      ) {
                        for (
                          c = [
                            "Total plugin setup: " +
                              Math.round(l).toLocaleString() +
                              "ms",
                          ],
                            i.sort(function (e, t) {
                              return t.time - e.time;
                            }),
                            u = 0,
                            h = i;
                          u < h.length;
                          u++
                        )
                          (p = h[u]),
                            (d = p.id),
                            (f = p.time),
                            c.push(d + ": " + f.toLocaleString() + "ms");
                        console.log(c.join("\n")),
                          c.length > 11 &&
                            (c = c.slice(0, 11)).push(
                              "More in developer console"
                            ),
                          new lw(c.join("\n"), 0);
                      }
                      return (
                        this.requestSaveConfig(),
                        this.checkForDeprecations(),
                        setInterval(function () {
                          return g.checkForDeprecations();
                        }, 432e5),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.getPluginFolder = function () {
              return this.app.vault.configDir + "/plugins";
            }),
            (e.prototype.enablePlugin = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      if (!(t = this.manifests[e])) return [2, !1];
                      if (this.isDeprecated(t))
                        return (
                          new lw(
                            "Unable to load plugin " +
                              t.name +
                              " v" +
                              t.version +
                              ". This version has been reported to cause issues. Please check for a newer version of the plugin."
                          ),
                          [2, !1]
                        );
                      if (!eb.isDesktopApp && t.isDesktopOnly) return [2, !1];
                      i.label = 1;
                    case 1:
                      return (
                        i.trys.push([1, 3, , 4]),
                        (this.loadingPluginId = e),
                        [4, this.loadPlugin(e)]
                      );
                    case 2:
                      return i.sent(), (this.loadingPluginId = null), [3, 4];
                    case 3:
                      return (
                        (n = i.sent()),
                        (this.loadingPluginId = null),
                        new lw("Failed to load plugin " + e),
                        console.error("Plugin failure: " + e, n),
                        [2, !1]
                      );
                    case 4:
                      return [2, !0];
                  }
                });
              });
            }),
            (e.prototype.disablePlugin = function (e) {
              return A(this, void 0, void 0, function () {
                var t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        n.trys.push([0, 2, , 3]), [4, this.unloadPlugin(e)]
                      );
                    case 1:
                      return n.sent(), [3, 3];
                    case 2:
                      return (
                        (t = n.sent()),
                        new lw("Failed to unload plugin " + e),
                        console.error("Plugin failure: " + e, t),
                        [3, 3]
                      );
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.enablePluginAndSave = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return [4, this.enablePlugin(e)];
                    case 1:
                      return t.sent()
                        ? (this.enabledPlugins.add(e),
                          this.requestSaveConfig(),
                          [2, !0])
                        : [2, !1];
                  }
                });
              });
            }),
            (e.prototype.disablePluginAndSave = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return (
                        this.enabledPlugins.delete(e),
                        this.requestSaveConfig(),
                        [4, this.disablePlugin(e)]
                      );
                    case 1:
                      return t.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.uninstallPlugin = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return [4, this.disablePluginAndSave(e)];
                    case 1:
                      return (
                        i.sent(),
                        (t = this.manifests[e])
                          ? (n = t.dir)
                            ? [4, this.app.vault.exists(n)]
                            : [2]
                          : [2]
                      );
                    case 2:
                      return i.sent()
                        ? [4, this.app.vault.adapter.rmdir(n, !0)]
                        : [2];
                    case 3:
                      return i.sent(), [4, this.loadManifests()];
                    case 4:
                      return i.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.getPlugin = function (e) {
              return this.plugins.hasOwnProperty(e) ? this.plugins[e] : null;
            }),
            (e.prototype.saveConfig = function () {
              return A(this, void 0, void 0, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [
                        4,
                        this.app.vault.writeConfigJson(
                          "community-plugins",
                          Array.from(this.enabledPlugins)
                        ),
                      ];
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.isEnabled = function () {
              return (
                "true" ===
                localStorage.getItem("enable-plugin-" + this.app.appId)
              );
            }),
            (e.prototype.setEnable = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i, r, o, s;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (
                        (localStorage.setItem(
                          "enable-plugin-" + this.app.appId,
                          e ? "true" : "false"
                        ),
                        e)
                      )
                        return [3, 5];
                      (t = Object.keys(this.plugins)),
                        (n = 0),
                        (i = t),
                        (a.label = 1);
                    case 1:
                      return n < i.length
                        ? ((s = i[n]), [4, this.disablePlugin(s)])
                        : [3, 4];
                    case 2:
                      a.sent(), (a.label = 3);
                    case 3:
                      return n++, [3, 1];
                    case 4:
                      return [3, 9];
                    case 5:
                      (r = 0),
                        (o = Array.from(this.enabledPlugins)),
                        (a.label = 6);
                    case 6:
                      return r < o.length
                        ? ((s = o[r]), [4, this.enablePlugin(s)])
                        : [3, 9];
                    case 7:
                      a.sent(), (a.label = 8);
                    case 8:
                      return r++, [3, 6];
                    case 9:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.checkForDeprecations = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r, o, s;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (0 === Object.keys(this.plugins).length) return [2];
                      a.label = 1;
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        (t = (e = JSON).parse),
                        [4, ajaxPromise({ url: fB })]
                      );
                    case 2:
                      return (gB = t.apply(e, [a.sent()])), [3, 4];
                    case 3:
                      return a.sent(), [3, 4];
                    case 4:
                      for (i in ((n = []), this.plugins)) n.push(i);
                      (r = 0), (a.label = 5);
                    case 5:
                      return r < n.length
                        ? ((o = n[r]),
                          this.plugins.hasOwnProperty(o)
                            ? ((s =
                                this.manifests[o] || this.plugins[o].manifest),
                              this.isDeprecated(s)
                                ? [4, this.disablePluginAndSave(o)]
                                : [3, 7])
                            : [3, 7])
                        : [3, 8];
                    case 6:
                      a.sent(),
                        new lw(
                          "The plugin " +
                            s.name +
                            " v" +
                            s.version +
                            " has been disabled. This version has been reported to cause issues. Please check for a newer version of the plugin.",
                          0
                        ),
                        (a.label = 7);
                    case 7:
                      return r++, [3, 5];
                    case 8:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.isDeprecated = function (e) {
              if (!e) return !1;
              var t = e.id;
              if (!gB.hasOwnProperty(e.id)) return !1;
              var n = gB[t],
                i = e.version;
              return n.contains(i);
            }),
            (e.prototype.getLatestVersion = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i, r, o, s, a, l;
                return D(this, function (c) {
                  switch (c.label) {
                    case 0:
                      if (
                        ((n = t.version || null),
                        (i = t.minAppVersion),
                        !Dq || !i || !GF(Dq, i))
                      )
                        return [2, n];
                      c.label = 1;
                    case 1:
                      return (
                        c.trys.push([1, 3, , 4]),
                        (n = null),
                        (r = QN(e, "versions.json")),
                        (a = (s = JSON).parse),
                        [4, ajaxPromise({ url: r })]
                      );
                    case 2:
                      if ((o = a.apply(s, [c.sent()]))) {
                        for (l in o)
                          o.hasOwnProperty(l) &&
                            (GF(Dq, o[l]) || (n && !GF(n, l)) || (n = l));
                        return [2, n];
                      }
                      return [3, 4];
                    case 3:
                      return c.sent(), [3, 4];
                    case 4:
                      return [2, null];
                  }
                });
              });
            }),
            (e.prototype.ajaxCorsBypass = function (e) {
              return eb.isMobileApp
                ? mI.requestUrl({ url: e }).then(function (e) {
                    return e.body;
                  })
                : ajaxPromise({ url: e });
            }),
            (e.prototype.installPlugin = function (e, t, n) {
              return A(this, void 0, Promise, function () {
                var i, r, o, s, a, l, c, u, h, p, d, f, g, m;
                return D(this, function (v) {
                  switch (v.label) {
                    case 0:
                      (i = n.id),
                        (r = n.name),
                        new lw(cB("msg-installing-plugin", { name: r })),
                        (o = null),
                        (v.label = 1);
                    case 1:
                      return (
                        v.trys.push([1, 3, , 4]),
                        (s = ZN(e, t, eB)),
                        [4, this.ajaxCorsBypass(s)]
                      );
                    case 2:
                      return (
                        (o = v.sent()),
                        (a = JSON.parse(o)).id && a.id === i
                          ? [3, 4]
                          : (new lw("Plugin ID mismatch."), [2])
                      );
                    case 3:
                      return (
                        (l = v.sent()),
                        console.error(l),
                        new lw(cB("msg-failed-to-install-plugin", { name: r })),
                        [2]
                      );
                    case 4:
                      return (
                        (c = this.app.vault),
                        (u = this.getPluginFolder()),
                        [4, c.exists(u)]
                      );
                    case 5:
                      return v.sent() ? [3, 7] : [4, c.createFolder(u)];
                    case 6:
                      v.sent(), (v.label = 7);
                    case 7:
                      return (h = u + "/" + i), [4, c.exists(h)];
                    case 8:
                      return v.sent() ? [3, 10] : [4, c.createFolder(h)];
                    case 9:
                      v.sent(), (v.label = 10);
                    case 10:
                      return [4, (p = c.adapter).write(h + "/" + eB, o)];
                    case 11:
                      v.sent(), (v.label = 12);
                    case 12:
                      return (
                        v.trys.push([12, 15, , 16]),
                        (d = ZN(e, t, tB)),
                        [4, this.ajaxCorsBypass(d)]
                      );
                    case 13:
                      return (f = v.sent()), [4, p.write(h + "/" + tB, f)];
                    case 14:
                      return v.sent(), [3, 16];
                    case 15:
                      return (
                        v.sent(),
                        console.log(r + ": " + "main.js not found"),
                        [3, 16]
                      );
                    case 16:
                      return (
                        v.trys.push([16, 19, , 20]),
                        (g = ZN(e, t, nB)),
                        [4, this.ajaxCorsBypass(g)]
                      );
                    case 17:
                      return (m = v.sent()), [4, p.write(h + "/" + nB, m)];
                    case 18:
                      return v.sent(), [3, 20];
                    case 19:
                      return (
                        v.sent(),
                        console.log(r + ": " + nB + " not found"),
                        [3, 20]
                      );
                    case 20:
                      return (
                        delete this.updates[i],
                        new lw(
                          cB("msg-successfully-installed-plugin", { name: r })
                        ),
                        [4, this.loadManifests()]
                      );
                    case 21:
                      return (
                        v.sent(),
                        this.plugins.hasOwnProperty(i)
                          ? [4, this.disablePlugin(i)]
                          : [3, 24]
                      );
                    case 22:
                      return v.sent(), [4, this.enablePlugin(i)];
                    case 23:
                      v.sent(), (v.label = 24);
                    case 24:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.checkForUpdates = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r, o, s, a, l, c, u, h, p, d, f, g;
                return D(this, function (m) {
                  switch (m.label) {
                    case 0:
                      (this.updates = {}), (e = this.updates), (m.label = 1);
                    case 1:
                      return m.trys.push([1, 3, , 4]), [4, hB()];
                    case 2:
                      return (t = m.sent()), [3, 4];
                    case 3:
                      return (
                        (n = m.sent()),
                        console.error(n),
                        new lw(cB("msg-failed-load-plugins")),
                        [2]
                      );
                    case 4:
                      (i = 0), (r = t), (m.label = 5);
                    case 5:
                      if (!(i < r.length)) return [3, 12];
                      if (
                        ((o = r[i]),
                        (s = o.id),
                        !this.manifests.hasOwnProperty(s))
                      )
                        return [3, 11];
                      if (((a = this.manifests[s]), !(l = a.version)))
                        return [3, 11];
                      (c = o.repo), (u = QN(c, eB)), (h = null), (m.label = 6);
                    case 6:
                      return (
                        m.trys.push([6, 8, , 9]),
                        (d = (p = JSON).parse),
                        [4, ajaxPromise({ url: u })]
                      );
                    case 7:
                      return (h = d.apply(p, [m.sent()])) && h.id && h.id === s
                        ? [3, 9]
                        : [3, 11];
                    case 8:
                      return m.sent(), [3, 11];
                    case 9:
                      return [4, this.getLatestVersion(c, h)];
                    case 10:
                      (f = m.sent()) &&
                        GF(l, f) &&
                        (e[s] = { repo: c, version: f, manifest: h }),
                        (m.label = 11);
                    case 11:
                      return i++, [3, 5];
                    case 12:
                      return (
                        (g = Object.keys(e).length),
                        new lw(
                          0 === g
                            ? cB("msg-no-updates-found")
                            : cB("msg-updates-found", { count: g })
                        ),
                        [2]
                      );
                  }
                });
              });
            }),
            e
          );
        })(),
        lB = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            n.containerEl.addClass("mod-confirmation"),
              n.titleEl.setText(cB("option-safe-mode")),
              n.contentEl.createEl("p", {
                cls: "mod-warning",
                text: cB("label-third-party-plugin-warning"),
              }),
              n.contentEl.createEl("p", {
                text: cB("label-disable-safe-mode-confirmation"),
              });
            var i = n.modalEl.createDiv("modal-button-container"),
              r = i.createEl("button", {
                cls: "mod-cta",
                text: cB("button-keep-safe-mode"),
              });
            return (
              i
                .createEl("button", {
                  cls: "mod-warning",
                  text: cB("button-disable-safe-mode"),
                })
                .addEventListener("click", function () {
                  return A(n, void 0, void 0, function () {
                    return D(this, function (e) {
                      switch (e.label) {
                        case 0:
                          return (
                            this.close(), [4, this.app.plugins.setEnable(!0)]
                          );
                        case 1:
                          return (
                            e.sent(),
                            this.app.setting.open(),
                            this.app.setting.openTabById("community-plugins"),
                            [2]
                          );
                      }
                    });
                  });
                }),
              r.addEventListener("click", function () {
                return A(n, void 0, void 0, function () {
                  return D(this, function (e) {
                    switch (e.label) {
                      case 0:
                        return (
                          this.close(), [4, this.app.plugins.setEnable(!1)]
                        );
                      case 1:
                        return (
                          e.sent(),
                          this.app.setting.open(),
                          this.app.setting.openTabById("community-plugins"),
                          [2]
                        );
                    }
                  });
                });
              }),
              n
            );
          }
          return M(t, e), t;
        })(vD),
        cB = At("setting.third-party-plugin"),
        uB = QN("obsidianmd/obsidian-releases", "community-plugins.json"),
        hB = Wh(
          function () {
            return A(void 0, void 0, Promise, function () {
              var e, t;
              return D(this, function (n) {
                switch (n.label) {
                  case 0:
                    return [4, ajaxPromise({ url: uB })];
                  case 1:
                    if (
                      ((e = n.sent()), (t = JSON.parse(e)), !Array.isArray(t))
                    )
                      throw new Error("Failed to parse community plugins.");
                    return [2, t];
                }
              });
            });
          },
          3e5,
          6e4
        ),
        pB = QN("obsidianmd/obsidian-releases", "community-plugin-stats.json"),
        dB = Wh(
          function () {
            return A(void 0, void 0, Promise, function () {
              var e, t;
              return D(this, function (n) {
                switch (n.label) {
                  case 0:
                    return (
                      (t = (e = JSON).parse), [4, ajaxPromise({ url: pB })]
                    );
                  case 1:
                    return [2, t.apply(e, [n.sent()])];
                }
              });
            });
          },
          3e5,
          6e4
        ),
        fB = QN(
          "obsidianmd/obsidian-releases",
          "community-plugin-deprecation.json"
        ),
        gB = {},
        mB = [
          ["download", "downloadReverse"],
          ["release", "releaseReverse"],
          ["alphabetical", "alphabeticalReverse"],
        ],
        vB = {
          download: "label-sort-downloads-high-to-low",
          downloadReverse: "label-sort-downloads-low-to-high",
          release: "label-sort-release-date-new-to-old",
          releaseReverse: "label-sort-release-date-old-to-new",
          alphabetical: "label-sort-name-alphabetical",
          alphabeticalReverse: "label-sort-name-alphabetical-reverse",
        },
        yB = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t) || this;
            (r.autoload = n),
              (r.returnToSettings = i),
              (r.sortOrder = t.vault.getConfig("communityPluginSortOrder"));
            var o = r.contentEl;
            r.modalEl.addClass("mod-community-plugin"),
              o.addClass("community-plugin");
            var s = (r.searchContainerEl = o.createDiv(
                "community-plugin-search"
              )),
              a = (r.pluginContentEl = o.createDiv(
                "community-plugin-details",
                function (e) {
                  e.createDiv(
                    "community-plugin-details-empty-state",
                    function (e) {
                      e.createEl("p", { text: cB("label-select-a-plugin") });
                    }
                  );
                }
              ));
            return (
              eb.isMobile && a.detach(),
              new ZD(s)
                .addSearch(function (e) {
                  return e
                    .setPlaceholder(cB("placeholder-community-plugins"))
                    .onChange(r.updateSearch.bind(r))
                    .then(function (e) {
                      r.searchEl = e.inputEl;
                    });
                })
                .addButton(function (e) {
                  return e
                    .onClick(function (e) {
                      r.showSortMenu(e);
                    })
                    .then(function (e) {
                      if (eb.isMobile)
                        e.setButtonText(
                          Lt("plugins.file-explorer.action-change-sort")
                        );
                      else {
                        var t = e.buttonEl;
                        Xy(t, $m),
                          nn(t, Lt("plugins.file-explorer.action-change-sort")),
                          t.addClass("clickable-icon");
                      }
                    });
                }),
              (r.searchSummaryEl = s.createDiv(
                "community-plugin-search-summary u-muted"
              )),
              (r.searchResultEl = s.createDiv(
                "community-plugin-search-results"
              )),
              r.updateSearch(""),
              r
            );
          }
          return (
            M(t, e),
            (t.prototype.updateSearch = function (e) {
              return A(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g,
                  m,
                  v,
                  y,
                  b,
                  w,
                  k,
                  C,
                  x,
                  S,
                  E,
                  M,
                  L,
                  A,
                  T,
                  P,
                  O,
                  F,
                  I = this;
                return D(this, function (D) {
                  switch (D.label) {
                    case 0:
                      (n = (t = this).app),
                        (i = t.searchResultEl),
                        (r = t.sortOrder),
                        i.empty(),
                        i.addClass("is-loading"),
                        (D.label = 1);
                    case 1:
                      return D.trys.push([1, 3, , 4]), [4, hB()];
                    case 2:
                      return (o = D.sent()), [3, 4];
                    case 3:
                      return (s = D.sent()), console.error(s), [3, 4];
                    case 4:
                      if (!o)
                        return (
                          new lw(cB("msg-failed-load-plugins")),
                          i.removeClass("is-loading"),
                          [2]
                        );
                      (a = {}), (D.label = 5);
                    case 5:
                      return D.trys.push([5, 7, , 8]), [4, dB()];
                    case 6:
                      return (a = D.sent()), [3, 8];
                    case 7:
                      return D.sent(), [3, 8];
                    case 8:
                      for (
                        (l = this.autoload) && (this.autoload = null),
                          c = null,
                          u = 0,
                          h = o;
                        u < h.length;
                        u++
                      )
                        (F = h[u]).id === l && (c = F);
                      if (
                        (l &&
                          !c &&
                          ((e = l.split("-").join(" ")),
                          setTimeout(function () {
                            return (I.searchEl.value = e);
                          }, 0)),
                        (e = e.trim().toLowerCase()),
                        (p = e.split(" ")),
                        (d = []),
                        "" === e)
                      )
                        for (d = o.slice(), f = 0, g = o; f < g.length; f++)
                          ((F = g[f]).matches = null), (F.score = 0);
                      else
                        for (m = 0, v = o; m < v.length; m++)
                          (F = v[m]),
                            (y = F.name),
                            (b = F.repo),
                            (w = F.author),
                            (k = F.description),
                            y &&
                              b &&
                              ((w = w || ""),
                              (k = k || ""),
                              (C =
                                y.toLowerCase() +
                                w.toLowerCase() +
                                k.toLowerCase()),
                              (F.matches = oP(p, C)),
                              F.matches &&
                                ((F.score = eP(
                                  F.matches,
                                  C.length,
                                  e.length,
                                  0
                                )),
                                d.push(F)));
                      for (
                        x = n.plugins.manifests, S = [], E = 0, M = d;
                        E < M.length;
                        E++
                      )
                        (F = M[E]).id &&
                          F.name &&
                          F.repo &&
                          ((F.downloads = 0),
                          a.hasOwnProperty(F.id) &&
                            (F.downloads = a[F.id].downloads),
                          S.push(F));
                      for (
                        "release" === r
                          ? S.reverse()
                          : "releaseReverse" !== r &&
                            ((L = null),
                            "download" === r
                              ? (L = function (e, t) {
                                  return t.downloads - e.downloads;
                                })
                              : "downloadReverse" === r
                              ? (L = function (e, t) {
                                  return e.downloads - t.downloads;
                                })
                              : "alphabetical" === r
                              ? (L = function (e, t) {
                                  return YN(e.name, t.name);
                                })
                              : "alphabeticalReverse" === r &&
                                (L = function (e, t) {
                                  return -YN(e.name, t.name);
                                }),
                            S.sort(L)),
                          A = Lt("nouns.plugin-with-count", {
                            count: S.length,
                          }),
                          this.searchSummaryEl.setText(
                            cB("label-search-summary", { pluginCount: A })
                          ),
                          T = function (e) {
                            var t = e.id,
                              n = e.name,
                              r = e.author,
                              o = e.description,
                              s = e.matches;
                            (r = r || ""), (o = o || "");
                            var a = i.createDiv("community-plugin-item"),
                              l = a.createDiv("community-plugin-name");
                            (lP(l, n, s),
                            x.hasOwnProperty(t) &&
                              l.createSpan({
                                cls: "flair mod-pop",
                                text: cB("label-installed"),
                              }),
                            e.downloads &&
                              a.createDiv(
                                "community-plugin-downloads",
                                function (t) {
                                  t.createSpan({}, function (e) {
                                    Xy(e, gv, 12);
                                  }),
                                    t.createSpan({
                                      cls: "community-plugin-downloads-text",
                                      text: e.downloads.toLocaleString(),
                                    });
                                }
                              ),
                            r) &&
                              lP(
                                a.createDiv({
                                  cls: "community-plugin-author",
                                  text: cB("label-by-author"),
                                }),
                                r,
                                s,
                                -n.length
                              );
                            o &&
                              lP(
                                a.createDiv({ cls: "community-plugin-desc" }),
                                jF(o, 200),
                                s,
                                -(n.length + r.length)
                              );
                            a.addEventListener("click", function () {
                              I.showPlugin(e);
                            });
                          },
                          P = 0,
                          O = S;
                        P < O.length;
                        P++
                      )
                        (F = O[P]), T(F);
                      return (
                        i.firstChild ||
                          i.createDiv({
                            cls: "community-plugin-item",
                            text: cB("label-no-results-found"),
                          }),
                        i.removeClass("is-loading"),
                        c && this.showPlugin(c),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.showPlugin = function (e) {
              return A(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g,
                  m,
                  v,
                  y,
                  b,
                  w,
                  k,
                  C,
                  x,
                  S,
                  E,
                  M,
                  L,
                  T,
                  P,
                  O,
                  F = this;
                return D(this, function (I) {
                  switch (I.label) {
                    case 0:
                      (n = (t = this).app),
                        (i = t.pluginContentEl).addClass("is-loading"),
                        i.empty(),
                        (r = e.id),
                        (o = e.name),
                        (s = e.description),
                        (a = e.repo),
                        (l = QN(a, eB)),
                        (c = QN(a, "README.md")),
                        (u = null),
                        (I.label = 1);
                    case 1:
                      return (
                        I.trys.push([1, 3, , 4]),
                        (p = (h = JSON).parse),
                        [4, ajaxPromise({ url: l })]
                      );
                    case 2:
                      return (u = p.apply(h, [I.sent()])).id && u.id === r
                        ? [3, 4]
                        : (new lw("Plugin ID mismatch."),
                          i.removeClass("is-loading"),
                          [2]);
                    case 3:
                      return (
                        (d = I.sent()),
                        console.error(d),
                        new lw(cB("msg-failed-to-load-manifest")),
                        i.removeClass("is-loading"),
                        [2]
                      );
                    case 4:
                      i.empty(),
                        eb.isMobile &&
                          ((f = i.createDiv(
                            { cls: "modal-setting-back-button" },
                            function (e) {
                              e.addEventListener("click", function () {
                                Gb(F.contentEl, F.searchContainerEl, "left");
                              });
                            }
                          )).createSpan(
                            "modal-setting-back-button-icon",
                            function (e) {
                              Xy(e, Nm, 20);
                            }
                          ),
                          f.createSpan({
                            text: Lt("interface.start-screen.button-back"),
                          }),
                          Gb(this.contentEl, i, "right")),
                        (g = n.plugins.manifests[r]),
                        (m = i.createDiv("community-plugin-info")),
                        (v = m.createDiv({
                          cls: "community-plugin-name",
                          text: o,
                        })),
                        g &&
                          v.createSpan({
                            cls: "flair mod-pop",
                            text: cB("label-installed"),
                          }),
                        e.downloads &&
                          m.createDiv(
                            "community-plugin-downloads",
                            function (t) {
                              t.createSpan({}, function (e) {
                                Xy(e, gv, 12);
                              }),
                                t.createSpan({
                                  cls: "community-plugin-downloads-text",
                                  text: e.downloads.toLocaleString(),
                                }),
                                nn(
                                  t,
                                  cB("tooltip-downloaded-times", {
                                    count: e.downloads,
                                  })
                                );
                            }
                          ),
                        u.version &&
                          ((y = m.createDiv({
                            cls: "community-plugin-version",
                            text: cB("label-version", { version: u.version }),
                          })),
                          g &&
                            g.version &&
                            y.appendText(
                              cB("label-currently-installed-version", {
                                version: g.version,
                              })
                            )),
                        (b = e.author || u.author) &&
                          ((w = m.createDiv({
                            cls: "community-plugin-author",
                            text: cB("label-by-author"),
                          })),
                          u.authorUrl
                            ? w.createEl("a", { href: u.authorUrl, text: b })
                            : w.appendText(b)),
                        (k = m.createDiv({
                          cls: "community-plugin-author",
                          text: cB("label-repository"),
                        })),
                        (C = XN(a)),
                        k.createEl("a", { href: C, text: C }),
                        s &&
                          m.createDiv({
                            cls: "community-plugin-desc",
                            text: s,
                          }),
                        (x = !eb.isDesktopApp && u.isDesktopOnly) &&
                          m.createDiv({
                            cls: "mod-warning",
                            text: cB("label-unsupported"),
                          }),
                        (S = m.createEl("p")),
                        (E = S.createEl("button", {
                          cls: "mod-cta",
                          text: cB("button-install"),
                        })).addEventListener("click", function () {
                          return A(F, void 0, void 0, function () {
                            var t, n;
                            return D(this, function (i) {
                              switch (i.label) {
                                case 0:
                                  return x
                                    ? (new lw(cB("label-unsupported")), [2])
                                    : [
                                        4,
                                        (t = this.app.plugins).getLatestVersion(
                                          a,
                                          u
                                        ),
                                      ];
                                case 1:
                                  return (n = i.sent())
                                    ? [4, t.installPlugin(a, n, u)]
                                    : (new lw("No appropriate version found."),
                                      [2]);
                                case 2:
                                  return i.sent(), [4, this.showPlugin(e)];
                                case 3:
                                  return i.sent(), [2];
                              }
                            });
                          });
                        }),
                        g &&
                          (GF(g.version, u.version)
                            ? E.setText(cB("button-update"))
                            : E.detach(),
                          (M = n.plugins.getPlugin(r)) &&
                            ((L = this.app.setting),
                            n.setting.pluginTabs.some(function (e) {
                              return e.id === r;
                            }) &&
                              S.createEl("button", {
                                text: Lt("setting.options"),
                              }).addEventListener("click", function () {
                                F.close(), L.open(), L.openTabById(u.id);
                              }),
                            Object.keys(n.commands.commands).some(function (e) {
                              return e.startsWith(r + ":");
                            }) &&
                              S.createEl("button", {
                                text: Lt("setting.hotkeys.name"),
                              }).addEventListener("click", function () {
                                F.close(), L.open();
                                var e = L.openTabById("hotkeys");
                                e instanceof JN && e.setQuery(u.id);
                              })),
                          S.createEl("button", {
                            text: cB(M ? "button-disable" : "button-enable"),
                          }).addEventListener("click", function () {
                            return A(F, void 0, void 0, function () {
                              return D(this, function (t) {
                                switch (t.label) {
                                  case 0:
                                    return M
                                      ? [4, n.plugins.disablePluginAndSave(r)]
                                      : [3, 2];
                                  case 1:
                                    return t.sent(), [3, 4];
                                  case 2:
                                    return [
                                      4,
                                      n.plugins.enablePluginAndSave(r),
                                    ];
                                  case 3:
                                    t.sent(), (t.label = 4);
                                  case 4:
                                    return [4, this.showPlugin(e)];
                                  case 5:
                                    return t.sent(), [2];
                                }
                              });
                            });
                          }),
                          S.createEl("button", {
                            text: cB("label-uninstall"),
                          }).addEventListener("click", function () {
                            return A(F, void 0, void 0, function () {
                              return D(this, function (t) {
                                switch (t.label) {
                                  case 0:
                                    return [4, n.plugins.uninstallPlugin(r)];
                                  case 1:
                                    return t.sent(), [4, this.showPlugin(e)];
                                  case 2:
                                    return t.sent(), [2];
                                }
                              });
                            });
                          })),
                        S.createEl("button", {
                          text: cB("button-copy-share-link"),
                        }).addEventListener("click", function () {
                          return A(F, void 0, void 0, function () {
                            return D(this, function (e) {
                              switch (e.label) {
                                case 0:
                                  return [
                                    4,
                                    navigator.clipboard.writeText(
                                      "obsidian://show-plugin?id=" +
                                        encodeURIComponent(r)
                                    ),
                                  ];
                                case 1:
                                  return (
                                    e.sent(),
                                    new lw(Lt("interface.copied")),
                                    [2]
                                  );
                              }
                            });
                          });
                        }),
                        (I.label = 5);
                    case 5:
                      return (
                        I.trys.push([5, 7, , 8]), [4, ajaxPromise({ url: c })]
                      );
                    case 6:
                      return (T = I.sent()), [3, 8];
                    case 7:
                      return I.sent(), (T = cB("label-no-readme")), [3, 8];
                    case 8:
                      return (
                        m.createEl("hr"),
                        (P = m.createDiv(
                          "community-plugin-readme markdown-preview-view"
                        )),
                        (O = Ug(qg(T))),
                        P.appendChild(tm(O)),
                        i.removeClass("is-loading"),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.onClose = function () {
              this.returnToSettings &&
                (this.app.setting.open(),
                this.app.setting.openTabById("community-plugins"));
            }),
            (t.prototype.showSortMenu = function (e) {
              var t = this;
              e.preventDefault();
              for (
                var n = new rw(this.app), i = this.sortOrder, r = 0, o = mB;
                r < o.length;
                r++
              ) {
                for (
                  var s = function (e) {
                      var r = cB(vB[e]);
                      n.addItem(function (n) {
                        return n
                          .setTitle(r)
                          .setActive(e === i)
                          .onClick(function () {
                            (t.sortOrder = e),
                              t.app.vault.setConfig(
                                "communityPluginSortOrder",
                                e
                              ),
                              t.updateSearch(t.searchEl.value);
                          });
                      });
                    },
                    a = 0,
                    l = o[r];
                  a < l.length;
                  a++
                ) {
                  s(l[a]);
                }
                n.addSeparator();
              }
              n.showAtMouseEvent(e);
            }),
            t
          );
        })(vD),
        bB = (function (e) {
          function t(t, n, i) {
            var r = e.call(this) || this;
            return (
              (r.manager = null),
              (r.instance = null),
              (r.enabled = !1),
              (r.commands = []),
              (r.ribbonActions = []),
              (r.mobileFileInfo = []),
              (r.hasStatusBarItem = !1),
              (r.statusBarEl = null),
              (r.addedButtonEls = []),
              (r.views = {}),
              (r.app = t),
              (r.instance = n),
              (r.manager = i),
              r
            );
          }
          return (
            M(t, e),
            (t.prototype.init = function () {
              var e = this.instance;
              e.init && e.init(this.app, this);
            }),
            (t.prototype.enable = function (e) {
              if (!this.enabled) {
                this.enabled = !0;
                for (
                  var t = this,
                    n = t.instance,
                    i = t.views,
                    r = t.app,
                    o = 0,
                    s = this.commands;
                  o < s.length;
                  o++
                ) {
                  var a = s[o];
                  r.commands.addCommand(a);
                }
                for (var l = 0, c = this.ribbonActions; l < c.length; l++) {
                  var u = c[l],
                    h = r.workspace.leftRibbon.addRibbonActionButton(
                      u.icon,
                      u.title,
                      u.callback
                    );
                  this.addedButtonEls.push(h);
                }
                if (eb.isMobile)
                  for (var p = 0, d = this.mobileFileInfo; p < d.length; p++) {
                    var f = d[p];
                    r.workspace.addMobileFileInfo(f);
                  }
                for (var g in (this.hasStatusBarItem &&
                  ((this.statusBarEl = r.statusBar.registerStatusBarItem()),
                  this.statusBarEl.addClass(
                    "plugin-" +
                      this.instance.id
                        .toLowerCase()
                        .replace(/[^_a-zA-Z0-9-]/, "-")
                  )),
                i))
                  i.hasOwnProperty(g) &&
                    this.app.viewRegistry.registerView(g, i[g]);
                n.onEnable && n.onEnable(r, this),
                  e && n.onUserEnable && n.onUserEnable(r),
                  this.load(),
                  this.manager.requestSaveConfig(),
                  this.manager.trigger("change", this);
              }
            }),
            (t.prototype.disable = function (e) {
              if (this.enabled) {
                this.enabled = !1;
                var t = this,
                  n = t.instance,
                  i = t.views,
                  r = t.app;
                n.onDisable && n.onDisable(r, this),
                  e && n.onUserDisable && n.onUserDisable(r);
                for (var o = 0, s = this.commands; o < s.length; o++) {
                  var a = s[o];
                  r.commands.removeCommand(a.id);
                }
                for (var l = 0, c = this.addedButtonEls; l < c.length; l++) {
                  c[l].detach();
                }
                for (var u in (this.statusBarEl && this.statusBarEl.detach(),
                i))
                  i.hasOwnProperty(u) &&
                    (this.app.viewRegistry.unregisterView(u),
                    e && r.workspace.detachLeavesOfType(u));
                this.unload(),
                  this.manager.requestSaveConfig(),
                  this.manager.trigger("change", this);
              }
            }),
            (t.prototype.loadData = function () {
              return A(this, void 0, Promise, function () {
                var e;
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return (
                        (e = this.instance.id),
                        [4, this.manager.app.vault.readConfigJson(e)]
                      );
                    case 1:
                      return [2, t.sent()];
                  }
                });
              });
            }),
            (t.prototype.saveData = function (e) {
              return A(this, void 0, Promise, function () {
                var t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (t = this.instance.id),
                        [4, this.manager.app.vault.writeConfigJson(t, e)]
                      );
                    case 1:
                      return n.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.deleteData = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [
                        4,
                        this.manager.app.vault.deleteConfigJson(
                          this.instance.id
                        ),
                      ];
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.registerViewType = function (e, t) {
              this.views[e] = t;
            }),
            (t.prototype.registerGlobalCommand = function (e) {
              (e.name = this.instance.name + ": " + e.name),
                this.commands.push(e);
            }),
            (t.prototype.registerRibbonAction = function (e, t, n) {
              this.ribbonActions.push({ title: e, icon: t, callback: n });
            }),
            (t.prototype.registerStatusBarItem = function () {
              this.hasStatusBarItem = !0;
            }),
            (t.prototype.registerMobileFileInfo = function (e) {
              this.mobileFileInfo.push({ renderCallback: e });
            }),
            (t.prototype.addSettingTab = function (e) {
              var t = this;
              this.app.setting.addSettingTab(e),
                this.register(function () {
                  return t.app.setting.removeSettingTab(e);
                });
            }),
            t
          );
        })(nm),
        wB = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (
              (n.plugins = {}),
              (n.requestSaveConfig = Tt(n.saveConfig.bind(n), 500)),
              (n.app = t),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.getPluginById = function (e) {
              var t = this.plugins;
              return t.hasOwnProperty(e) ? t[e] : null;
            }),
            (t.prototype.loadPlugin = function (e) {
              var t = this.app,
                n = this.plugins;
              if (n.hasOwnProperty(e.id))
                throw new Error(
                  "Plugin " + e.name + " has already been loaded"
                );
              var i = new bB(t, e, this);
              return i.init(), (n[e.id] = i), e;
            }),
            (t.prototype.getEnabledPlugins = function () {
              var e = this.plugins,
                t = [];
              for (var n in e)
                if (e.hasOwnProperty(n)) {
                  var i = e[n];
                  i.enabled && t.push(i);
                }
              return t;
            }),
            (t.prototype.enable = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return (
                        (t = (e = this).app),
                        (n = e.plugins),
                        [4, t.vault.readConfigJson("core-plugins")]
                      );
                    case 1:
                      if (!(i = s.sent())) {
                        for (o in ((i = []), n))
                          n.hasOwnProperty(o) &&
                            n[o].instance.defaultOn &&
                            i.push(o);
                        this.requestSaveConfig();
                      }
                      for (o in (Array.isArray(i) || (i = []),
                      (r = new Set(i)),
                      n))
                        n.hasOwnProperty(o) && r.has(o) && n[o].enable(!1);
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.saveConfig = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      for (r in ((t = (e = this).app),
                      (n = e.plugins),
                      (i = []),
                      n))
                        n.hasOwnProperty(r) && n[r].enabled && i.push(r);
                      return [4, t.vault.writeConfigJson("core-plugins", i)];
                    case 1:
                      return o.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.trigger = function (t) {
              for (var n = [], i = 1; i < arguments.length; i++)
                n[i - 1] = arguments[i];
              e.prototype.trigger.apply(this, P([t], n));
            }),
            (t.prototype.on = function (t, n, i) {
              return e.prototype.on.call(this, t, n, i);
            }),
            t
          );
        })(Sb),
        kB = [
          ["alphabetical", "alphabeticalReverse"],
          ["byModifiedTime", "byModifiedTimeReverse"],
          ["byCreatedTime", "byCreatedTimeReverse"],
        ],
        CB = {
          alphabetical: "plugins.file-explorer.label-sort-a-to-z",
          alphabeticalReverse: "plugins.file-explorer.label-sort-z-to-a",
          byModifiedTime: "plugins.file-explorer.label-sort-new-to-old",
          byModifiedTimeReverse: "plugins.file-explorer.label-sort-old-to-new",
          byCreatedTime: "plugins.file-explorer.label-sort-created-new-to-old",
          byCreatedTimeReverse:
            "plugins.file-explorer.label-sort-created-old-to-new",
        },
        xB = {
          alphabetical: function (e, t) {
            return YN(e.basename, t.basename);
          },
          alphabeticalReverse: function (e, t) {
            return -xB.alphabetical(e, t);
          },
          byModifiedTime: function (e, t) {
            return t.stat.mtime - e.stat.mtime;
          },
          byModifiedTimeReverse: function (e, t) {
            return -xB.byModifiedTime(e, t);
          },
          byCreatedTime: function (e, t) {
            return t.stat.ctime - e.stat.ctime;
          },
          byCreatedTimeReverse: function (e, t) {
            return -xB.byCreatedTime(e, t);
          },
        };
      function SB(e) {
        return "children" in e && "childrenEl" in e;
      }
      function EB() {
        var e = createDiv();
        return (
          (e.style.width = "1px"),
          (e.style.height = "0.1px"),
          (e.style.marginBottom = "0"),
          e
        );
      }
      var MB = function (e, t) {
          if ((t(e), SB(e))) {
            var n = e.children;
            if (e.childrenEl.parentNode)
              for (var i = 0, r = n; i < r.length; i++) {
                var o = r[i];
                MB(o, t);
              }
          }
        },
        LB = (function () {
          function e(e) {
            var t = this;
            (this.width = 0),
              (this.height = 0),
              (this.lastScroll = 0),
              (this.queued = null),
              (this.scrollEl = e);
            var n = getComputedStyle(e).overflowX;
            (this.setWidth = "auto" === n || "scroll" === n),
              (e.style.position = "relative"),
              e.addEventListener("scroll", this.onScroll.bind(this), Ch),
              e.onNodeInserted(function () {
                return t.queueCompute();
              });
          }
          return (
            (e.prototype.invalidate = function (e, t) {
              t
                ? MB(e, function (e) {
                    return (e.info.computed = !1);
                  })
                : (e.info.computed = !1),
                this.queueCompute();
            }),
            (e.prototype.invalidateAll = function () {
              this.rootEl &&
                (MB(this.rootEl, function (e) {
                  return (e.info.computed = !1);
                }),
                this.queueCompute());
            }),
            (e.prototype.onScroll = function () {
              var e = this,
                t = e.scrollEl,
                n = e.lastScroll,
                i = e.height,
                r = t.scrollTop;
              Math.abs(n - r) > Math.max(i, 300) / 2 &&
                this.updateVirtualDisplay(r);
            }),
            (e.prototype.onResize = function () {
              var e = this.scrollEl;
              if (null !== e.offsetParent) {
                this.height = e.clientHeight;
                var t = e.clientWidth;
                t !== this.width
                  ? ((this.width = t), this.invalidateAll())
                  : this.updateVirtualDisplay();
              }
            }),
            (e.prototype.queueCompute = function () {
              this.queued || (this.queued = Bt(this.compute.bind(this), 50));
            }),
            (e.prototype.computeSync = function () {
              for (var e = 0; e < 10 && !this.rootEl.info.computed; e++)
                this.compute();
            }),
            (e.prototype.compute = function () {
              this.queued && (this.queued.cancel(), (this.queued = null));
              var e = this.scrollEl,
                t = this.rootEl;
              if (t) {
                var n = e.scrollTop;
                if (null !== e.offsetParent) {
                  this._precompute(t), this._layout(t), this._measure(t);
                  var i = !0;
                  if (t.children)
                    for (var r = 0, o = t.children; r < o.length; r++) {
                      if (!o[r].info.computed) {
                        i = !1;
                        break;
                      }
                    }
                  (t.info.computed = i),
                    this.updateVirtualDisplay(n),
                    i || this.queueCompute();
                }
              }
            }),
            (e.prototype._precompute = function (e) {
              if (SB(e)) {
                var t = e.children,
                  n = e.childrenEl;
                if (t && n.parentNode)
                  for (var i = 0, r = t; i < r.length; i++) {
                    var o = r[i];
                    this._precompute(o) || (e.info.computed = !1);
                  }
              }
              return (e.info.queued = !1), e.info.computed;
            }),
            (e.prototype._layout = function (e) {
              var t = e.info;
              if (!t.computed) {
                var n = !0;
                if (SB(e)) {
                  var i = e.children,
                    r = e.childrenEl,
                    o = e.pusherEl;
                  if (r.parentNode) {
                    o.style.marginBottom = "0";
                    for (var s = [o], a = 0, l = 0, c = i; l < c.length; l++) {
                      var u = c[l];
                      this._layout(u),
                        u.info.computed
                          ? (MB(u, function (e) {
                              return (a += e.info.height);
                            }),
                            u.el.parentNode === r && s.push(u.el))
                          : ((n = !1), s.push(u.el));
                    }
                    r.setChildrenInPlace(s), (r.style.minHeight = a + "px");
                  }
                }
                n && (t.queued = !0);
              }
            }),
            (e.prototype._measure = function (e) {
              if (!e.info.computed && SB(e)) {
                var t = e.children;
                if (e.childrenEl.parentNode)
                  for (var n = 0, i = t; n < i.length; n++) {
                    var r = i[n];
                    this._measure(r),
                      r.info.queued &&
                        (this.measure(e, r), (r.info.computed = !0));
                  }
              }
            }),
            (e.prototype.measure = function (e, t) {
              var n = t.el,
                i = t.info;
              if (n.offsetParent) {
                i.hidden = !1;
                var r = t === e.children[0],
                  o = n.nextSibling,
                  s = r ? e.childrenEl.offsetTop : n.offsetTop,
                  a = o ? o.offsetTop : n.offsetTop + n.offsetHeight,
                  l = 0;
                SB(t) && (l = t.childrenEl.offsetHeight),
                  (i.height = a - s - l),
                  0 === i.height && 0 === l && (i.hidden = !0),
                  this.setWidth &&
                    (i.width = Math.max(n.scrollWidth, n.offsetWidth)),
                  SB(t) && (i.childTop = t.childrenEl.offsetTop - s);
              } else i.hidden = !0;
            }),
            (e.prototype.updateVirtualDisplay = function (e) {
              var t = this.scrollEl,
                n = this.rootEl,
                i = t.scrollTop;
              "number" == typeof e && (i = e), (this.lastScroll = i);
              var r = t.clientHeight,
                o = i + r,
                s = Math.min(i, t.scrollTop),
                a = Math.max(r, 300),
                l = s - a,
                c = o + a,
                u = 0,
                h = 0;
              MB(n, function (e) {
                var t = e.info.height;
                t > 0 && ((u += t), h++);
              }),
                (u /= h),
                this.update(n, this.getRootTop(), l, c, u),
                t.scrollTop !== i && (t.scrollTop = i);
            }),
            (e.prototype.update = function (e, t, n, i, r) {
              if (SB(e)) {
                var o = e.children,
                  s = e.childrenEl,
                  a = e.info,
                  l = e.pusherEl;
                if (s.parentNode) {
                  if (a.hidden) return;
                  var c = this.setWidth,
                    u = 0,
                    h = 0,
                    p = [l],
                    d = !1,
                    f = 0;
                  t += a.height;
                  for (
                    var g = function (e) {
                        var o = 0;
                        MB(e, function (e) {
                          return (o += e.info.hidden ? 0 : e.info.height || r);
                        }),
                          (h += o);
                        var s = t + o;
                        c && (f = Math.max(f, e.info.width)),
                          (d = !1),
                          s < n
                            ? (u += o)
                            : t > i ||
                              (p.push(e.el), m.update(e, t, n, i, r), (d = !0)),
                          (t = s);
                      },
                      m = this,
                      v = 0,
                      y = o;
                    v < y.length;
                    v++
                  ) {
                    g((k = y[v]));
                  }
                  s.setChildrenInPlace(p),
                    (l.style.marginBottom = u + "px"),
                    c && ((f = Math.max(1, f)), (l.style.width = f + "px")),
                    (s.style.minHeight = d ? "" : h + "px");
                } else {
                  p = [];
                  for (var b = 0, w = o; b < w.length; b++) {
                    var k = w[b];
                    p.push(k.el);
                  }
                  s.setChildrenInPlace(p), (s.style.minHeight = "");
                }
              }
            }),
            (e.prototype.scrollIntoView = function (e) {
              var t = this.findElementTop(e, this.rootEl, this.getRootTop());
              if (null !== t) {
                var n = 0;
                MB(e, function (e) {
                  return (n += e.info.height);
                });
                var i = t + n,
                  r = this.scrollEl,
                  o = r.scrollTop,
                  s = o + r.clientHeight;
                t < o
                  ? (r.scrollTop = t)
                  : i > s && (r.scrollTop = i - r.clientHeight),
                  this.updateVirtualDisplay();
              }
            }),
            (e.prototype.findElementTop = function (e, t, n) {
              if (e === t) return n;
              if (SB(t)) {
                var i = t.children,
                  r = t.childrenEl,
                  o = t.info;
                if (r.parentNode) {
                  n += o.height;
                  for (
                    var s = function (t) {
                        var i = a.findElementTop(e, t, n);
                        if (null !== i) return { value: i };
                        var r = 0;
                        MB(t, function (e) {
                          return (r += e.info.height);
                        }),
                          r,
                          (n += r);
                      },
                      a = this,
                      l = 0,
                      c = i;
                    l < c.length;
                    l++
                  ) {
                    var u = s(c[l]);
                    if ("object" == typeof u) return u.value;
                  }
                }
              }
              return null;
            }),
            (e.prototype.getRootTop = function () {
              for (
                var e = this.scrollEl, t = this.rootEl.childrenEl, n = 0;
                t && t !== e;

              )
                (n += t.offsetTop), (t = t.offsetParent);
              return n;
            }),
            e
          );
        })(),
        AB =
          ((function () {
            function e(e, t) {
              (this.elements = []),
                (this.lastScroll = 0),
                (this.viewportHeight = 0),
                (this.renderedWidth = 0),
                (this.showAll = !1),
                (this.nodeInfos = _t()),
                (this.containerEl = e),
                (this.scrollEl = t = t || e),
                (t.style.position = "relative"),
                (this.sizerEl = e.createDiv());
              var n = (this.pusherEl = createDiv());
              (n.style.width = "1px"),
                (n.style.height = "0.1px"),
                t.addEventListener("scroll", this.onScroll.bind(this)),
                (this.requestRerender = Tt(this.rerender.bind(this), 100)),
                this.onResize();
            }
            (e.prototype.append = function (e) {
              this.elements.push(e), this.requestRerender();
            }),
              (e.prototype.clear = function () {
                (this.elements = []), this.requestRerender();
              }),
              (e.prototype.invalidate = function (e) {
                var t = this.nodeInfos.get(e);
                t && ((t.valid = !1), this.requestRerender());
              }),
              (e.prototype.invalidateAll = function () {
                for (
                  var e = this.elements, t = this.nodeInfos, n = 0, i = e;
                  n < i.length;
                  n++
                ) {
                  var r = i[n],
                    o = t.get(r);
                  o && (o.valid = !1);
                }
                this.requestRerender();
              }),
              (e.prototype.onResize = function () {
                var e = this.scrollEl,
                  t = this.containerEl;
                this.viewportHeight = e.clientHeight;
                var n = t.offsetWidth;
                n !== this.renderedWidth
                  ? ((this.renderedWidth = n), this.invalidateAll())
                  : this.updateVirtualDisplay();
              }),
              (e.prototype.onScroll = function () {
                var e = this,
                  t = e.scrollEl,
                  n = e.lastScroll,
                  i = e.viewportHeight,
                  r = t.scrollTop;
                Math.abs(n - r) > i / 8 && this.updateVirtualDisplay();
              }),
              (e.prototype.updateVirtualDisplay = function () {
                var e = this,
                  t = e.showAll,
                  n = e.scrollEl,
                  i = e.containerEl,
                  r = e.sizerEl,
                  o = e.pusherEl,
                  s = e.elements,
                  a = e.nodeInfos;
                if (t) {
                  var l = [];
                  l.push(o);
                  for (var c = 0, u = s; c < u.length; c++) {
                    var h = u[c];
                    l.push(h);
                  }
                  return (
                    r.setChildrenInPlace(l),
                    (r.style.minHeight = ""),
                    void (o.style.marginBottom = "0")
                  );
                }
                var p = n.scrollTop;
                (this.lastScroll = p), n !== i && (p -= i.offsetTop);
                var d = n.clientHeight,
                  f = d / 4,
                  g = p - f,
                  m = p + d + f,
                  v = 0,
                  y = 0,
                  b = 1,
                  w = [];
                w.push(o);
                for (var k = 0, C = s; k < C.length; k++) {
                  h = C[k];
                  var x = a.get(h);
                  if (!x) break;
                  var S = x.height,
                    E = x.width,
                    M = y + S;
                  (b = Math.max(b, E)),
                    M < g
                      ? (h.parentNode === r && h.detach(), (v = M))
                      : y > m
                      ? h.parentNode === r && h.detach()
                      : w.push(h),
                    (y = M);
                }
                r.setChildrenInPlace(w),
                  (r.style.minHeight = y + "px"),
                  (o.style.marginBottom = v + "px");
              }),
              (e.prototype.rerender = function () {
                for (
                  var e = this,
                    t = e.scrollEl,
                    n = e.sizerEl,
                    i = e.pusherEl,
                    r = e.elements,
                    o = e.nodeInfos,
                    s = t.scrollTop,
                    a = [],
                    l = !1,
                    c = [i],
                    u = 0,
                    h = r;
                  u < h.length;
                  u++
                ) {
                  var p = (m = h[u]).parentElement === n,
                    d = o.get(m);
                  d && d.valid
                    ? l && ((p = !0), (l = !1))
                    : ((p = !0), a.push(m), (l = !0)),
                    p && c.push(m);
                }
                (i.style.marginBottom = "0"), n.setChildrenInPlace(c);
                for (var f = 0, g = a; f < g.length; f++) {
                  var m,
                    v = (m = g[f]).nextSibling,
                    y =
                      (v ? v.offsetTop : m.offsetTop + m.offsetHeight) -
                      m.offsetTop;
                  o.set(m, { height: y, width: m.scrollWidth, valid: !0 });
                }
                (t.scrollTop = s), this.updateVirtualDisplay();
              });
          })(),
          /\r?\n\r?\n/y);
      function DB(e, t, n, i, r) {
        !(function (e, t, n, i) {
          for (var r = e, o = 0; o < n.length; o++) {
            var s = n[o],
              a = s[0];
            if (a >= t) break;
            var l = s[1];
            l < e ||
              (a < e && (a = e),
              l > t && (l = t),
              a > r && i(!1, r, a),
              i(!0, a, l),
              (r = l));
          }
          r < t && i(!1, r, t);
        })(n, i, r, function (n, i, r) {
          var o = t.substring(i, r);
          n
            ? e.createSpan({ cls: "search-result-file-matched-text", text: o })
            : e.createSpan({ text: o });
        });
      }
      var TB = (function () {
          function e(e, t, n, i, r, o) {
            var s = this;
            void 0 === o && (o = !0),
              (this.collapsible = !0),
              (this.collapsed = !1),
              (this.extraContext = !0),
              (this.separateMatches = !1),
              (this.showTitle = !0),
              (this.onMatchRender = null),
              (this.info = {
                height: 0,
                width: 0,
                childTop: 0,
                computed: !1,
                queued: !1,
                hidden: !1,
              }),
              (this.children = []),
              (this.pusherEl = EB()),
              (this.app = e),
              (this.parent = t),
              (this.file = n),
              (this.result = i),
              (this.content = r),
              (this.showTitle = o);
            var a =
              (this.el =
              this.containerEl =
                createDiv("tree-item search-result"));
            if (o) {
              var l = a.createDiv(
                  "tree-item-self search-result-file-title is-clickable"
                ),
                c = (this.collapseEl = l.createDiv(
                  "tree-item-icon collapse-icon"
                ));
              Xy(c, pm, 8),
                (c.style.visibility = "hidden"),
                zt(l),
                l.onClickEvent(this.onResultClick.bind(this)),
                l.addEventListener("mouseover", function (e) {
                  return s.onResultMouseover(e, l);
                }),
                l.addEventListener(
                  "contextmenu",
                  this.onResultContextMenu.bind(this)
                ),
                c.addEventListener("click", this.onCollapseClick.bind(this));
              var u = l.createDiv("tree-item-inner");
              if (i.filename || i.filepath) {
                var h = void 0,
                  p = void 0;
                if (i.filepath) {
                  if (((h = n.path), (p = i.filepath), i.filename))
                    for (
                      var d = n.path.length - n.name.length,
                        f = 0,
                        g = i.filename;
                      f < g.length;
                      f++
                    ) {
                      var m = g[f];
                      p.push([m[0] + d, m[1] + d]);
                    }
                } else
                  (h = n.name),
                    (p = i.filename),
                    "md" === n.extension &&
                      (0 === p.length || p.last()[1] <= n.basename.length) &&
                      (h = n.basename);
                DB(u, h, 0, h.length, p);
              } else u.setText("md" === n.extension ? n.basename : n.name);
              i.content &&
                i.content.length > 0 &&
                l
                  .createDiv("tree-item-flair-outer")
                  .createSpan("tree-item-flair")
                  .setText(String(i.content.length));
            }
            this.childrenEl = a.createDiv("search-result-file-matches");
            var v = this.app.dragManager;
            v.handleDrag(a, function (e) {
              return v.dragFile(e, s.file);
            });
          }
          return (
            (e.prototype.renderContentMatches = function () {
              var e = this,
                t = this,
                n = t.file,
                i = t.result,
                r = t.content,
                o = t.collapsible,
                s = t.extraContext,
                a = t.separateMatches,
                l = t.collapseEl;
              (this.children = []),
                this.showTitle && (l.style.visibility = "hidden");
              var c = i.content;
              if (c && 0 !== c.length) {
                this.showTitle && o && (l.style.visibility = "");
                var u = 0,
                  h = function (t, n, i, r) {
                    var o = u + 1;
                    if (!a)
                      for (; o < c.length; ) {
                        var s = c[o];
                        if (s[0] >= n) break;
                        if (s[1] > n) {
                          (n = s[1]), o++;
                          break;
                        }
                        o++;
                      }
                    var l = c.slice(u, o),
                      h = new PB(e, t, n, l);
                    (h.onMatchRender = e.onMatchRender),
                      h.render(i, r),
                      e.children.push(h),
                      (u = o);
                  };
                if (s)
                  for (
                    var p = this.app.metadataCache.getFileCache(n) || {},
                      d = p.listItems,
                      f = p.sections;
                    u < c.length;

                  ) {
                    m = c[u];
                    var g = this.getMatchExtraPositions(r, m, d, f);
                    h(g[0], g[1]);
                  }
                else
                  for (; u < c.length; ) {
                    var m = c[u],
                      v = this.getMatchMinimalPositions(r, m);
                    h(v[0], v[1], v[2], v[3]);
                  }
                this.invalidate();
              }
            }),
            (e.prototype.getMatchMinimalPositions = function (e, t) {
              for (var n = 100, i = t[0] - 1, r = 0; r < n && i >= 0; ) {
                if ("\n" === e.charAt(i)) break;
                i--, r++;
              }
              i++;
              for (var o = r === n, s = t[1], a = 0; a < n && s < e.length; ) {
                if ("\n" === e.charAt(s)) break;
                s++, a++;
              }
              return [i, s, o, a === n];
            }),
            (e.prototype.getMatchExtraPositions = function (e, t, n, i) {
              if (n) {
                var r = n[(c = CD(n, t[0]))];
                if (
                  r &&
                  t[0] >= r.position.start.offset &&
                  t[1] <= r.position.end.offset
                ) {
                  var o = r,
                    s = c + 1,
                    a = new Set();
                  for (a.add(o.position.start.line); s < n.length; ) {
                    var l = n[s];
                    if (!a.has(l.parent)) break;
                    a.add(l.position.start.line), s++, (o = l);
                  }
                  return [
                    r.position.start.offset - r.position.start.col,
                    o.position.end.offset,
                  ];
                }
              }
              if (i) {
                var c,
                  u = i[(c = CD(i, t[0]))];
                if (
                  u &&
                  t[0] >= u.position.start.offset &&
                  t[1] <= u.position.end.offset
                )
                  return [u.position.start.offset, u.position.end.offset];
              }
              for (
                var h = t[0], p = h - 1e3;
                h > 0 && h > p && 10 !== e.charCodeAt(h - 1);

              )
                h--;
              for (
                var d = t[0], f = d + 1e3;
                d < e.length && d < f && 10 !== e.charCodeAt(d);

              )
                d++;
              var g = e.substring(h, d).match(ph);
              if (g && g[2]) {
                for (var m = d; m < e.length; ) {
                  var v = e.indexOf("\n", m + 1);
                  -1 === v && (v = e.length);
                  var y = e.substring(m + 1, v).match(ph);
                  if (y && y[1].length <= g[1].length) break;
                  m = v;
                }
                return [h, m];
              }
              for (
                var b = h;
                b > 0 && b > p && ((AB.lastIndex = b), !AB.test(e));

              )
                b--;
              for (; 10 === e.charCodeAt(b) && b < h; ) b++;
              for (
                var w = d;
                w < e.length && w < f && ((AB.lastIndex = w), !AB.test(e));

              )
                w++;
              return [b, w];
            }),
            (e.prototype.getPrevPos = function (e) {
              var t = this.app.metadataCache.getFileCache(this.file) || {},
                n = t.listItems,
                i = t.sections;
              if (n) {
                var r = n[CD(n, e, !0)];
                if (r) {
                  var o = r.position,
                    s = o.start,
                    a = o.end;
                  if (s.offset - s.col <= e && a.offset >= e)
                    return s.offset - s.col;
                }
              }
              if (i) {
                var l = i[CD(i, e, !0)];
                if (l && "list" !== l.type) {
                  var c = l.position;
                  (s = c.start), (a = c.end);
                  if (s.offset - s.col <= e && a.offset >= e)
                    return s.offset - s.col;
                }
              }
              for (
                var u = this.content, h = e;
                h > 0 && 10 !== u.charCodeAt(h - 1);

              )
                h--;
              return h;
            }),
            (e.prototype.getNextPos = function (e) {
              var t = this.app.metadataCache.getFileCache(this.file) || {},
                n = t.listItems,
                i = t.sections;
              if (n) {
                var r = n[(p = CD(n, e, !0))];
                if (r) {
                  var o = r.position,
                    s = o.start,
                    a = o.end;
                  if (s.offset - s.col <= e && a.offset >= e) {
                    var l = r,
                      c = p + 1,
                      u = new Set();
                    for (u.add(l.position.start.line); c < n.length; ) {
                      var h = n[c];
                      if (!u.has(h.parent)) break;
                      u.add(h.position.start.line), c++, (l = h);
                    }
                    return l.position.end.offset;
                  }
                }
              }
              if (i) {
                var p,
                  d = i[(p = CD(i, e, !0))];
                if (d && "list" !== d.type) {
                  var f = d.position;
                  (s = f.start), (a = f.end);
                  if (s.offset - s.col <= e && a.offset >= e) return a.offset;
                }
              }
              for (
                var g = this.content, m = e;
                m < g.length && 10 !== g.charCodeAt(m);

              )
                m++;
              return m;
            }),
            (e.prototype.onCollapseClick = function (e) {
              e.preventDefault(), this.setCollapse(!this.collapsed, !0);
            }),
            (e.prototype.onResultClick = function (e, t) {
              if ((0 === e.button || 1 === e.button) && !e.defaultPrevented) {
                e.preventDefault();
                var n = {
                  match: {
                    content: this.content,
                    matches: t || this.result.content || [],
                  },
                };
                this.app.workspace
                  .getLeaf(nw.isModEvent(e))
                  .openFile(this.file, { active: !0, eState: n });
              }
            }),
            (e.prototype.onResultMouseover = function (e, t, n) {
              if (!e.defaultPrevented && Rt(e, t)) {
                e.preventDefault();
                var i = this.file.path,
                  r = null;
                if (n && n.length > 0)
                  r = { scroll: Fe(this.content, n[0][0]) };
                this.app.workspace.trigger("hover-link", {
                  event: e,
                  source: "search",
                  hoverParent: this.parent,
                  targetEl: t,
                  linktext: i,
                  state: r,
                });
              }
            }),
            (e.prototype.onResultContextMenu = function (e) {
              var t = new rw(this.app);
              this.app.workspace.handleLinkContextMenu(t, this.file.path, "") &&
                (e.preventDefault(), t.showAtMouseEvent(e));
            }),
            (e.prototype.setCollapse = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return (
                        (this.collapsed = e),
                        (i = (n = this).containerEl),
                        (r = n.childrenEl),
                        i.toggleClass("is-collapsed", e),
                        [4, Wb(r, i, e, t)]
                      );
                    case 1:
                      return o.sent(), this.invalidate(), [2];
                  }
                });
              });
            }),
            (e.prototype.setCollapsible = function (e) {
              this.collapsible !== e &&
                ((this.collapsible = e),
                (this.collapseEl.style.visibility = e ? "" : "hidden"));
            }),
            (e.prototype.setExtraContext = function (e) {
              this.extraContext !== e &&
                ((this.extraContext = e), this.renderContentMatches());
            }),
            (e.prototype.invalidate = function () {
              this.parent.infinityScroll.invalidate(this, !0);
            }),
            e
          );
        })(),
        PB = (function () {
          function e(e, t, n, i) {
            var r = this;
            (this.info = {
              height: 0,
              width: 0,
              childTop: 0,
              computed: !1,
              queued: !1,
              hidden: !1,
            }),
              (this.onMatchRender = null),
              (this.parent = e),
              (this.start = t),
              (this.end = n),
              (this.matches = i);
            var o = (this.el = createDiv("search-result-file-match"));
            zt(o),
              o.onClickEvent(function (t) {
                return e.onResultClick(t, i);
              });
            var s = null,
              a = null,
              l = e.content.length;
            o.addEventListener("mouseover", function (t) {
              Rt(t, o) &&
                (e.onResultMouseover(t, o, i),
                s && s.detach(),
                a && a.detach(),
                r.start > 0 &&
                  (Xy(
                    (s = o.createDiv("search-result-hover-button mod-top")),
                    Vv
                  ),
                  nn(s, Lt("plugins.search.label-more-context"), {
                    placement: "top",
                  }),
                  s.addEventListener("click", function (e) {
                    e.preventDefault();
                    for (var t = r.start; t > 0; ) {
                      t--;
                      var n = r.parent.getPrevPos(t);
                      if (n < t) {
                        t = n;
                        break;
                      }
                    }
                    (r.start = t), r.render();
                  })),
                r.end < l &&
                  (Xy(
                    (a = o.createDiv("search-result-hover-button mod-bottom")),
                    qv
                  ),
                  nn(a, Lt("plugins.search.label-more-context"), {
                    placement: "bottom",
                  }),
                  a.addEventListener("click", function (e) {
                    e.preventDefault();
                    for (var t = r.end; t < l; ) {
                      t++;
                      var n = r.parent.getNextPos(t);
                      if (n > t) {
                        t = n;
                        break;
                      }
                    }
                    (r.end = t), r.render();
                  })));
            }),
              o.addEventListener("mouseout", function (e) {
                Rt(e, o) && (s && s.detach(), a && a.detach());
              }),
              o.addEventListener("contextmenu", function (t) {
                return e.onResultContextMenu(t);
              });
          }
          return (
            (e.prototype.render = function (e, t) {
              var n = this,
                i = n.el,
                r = n.parent,
                o = n.matches,
                s = n.onMatchRender;
              i.empty(),
                e && i.appendText("..."),
                DB(i, r.content, this.start, this.end, o),
                t && i.appendText("..."),
                s && s(o[0], i),
                r.parent.infinityScroll.invalidate(this);
            }),
            e
          );
        })(),
        OB = (function () {
          function e(e, t, n, i) {
            (this.emptyStateEl = null),
              (this.working = !1),
              (this.showingEmptyState = !1),
              (this.collapseAll = !1),
              (this.extraContext = !1),
              (this.cleared = !1),
              (this.infinityScroll = null),
              (this.children = []),
              (this.resultDomLookup = new Map()),
              (this.sortOrder = "alphabetical"),
              (this.changed = Tt(this.onChange.bind(this), 0)),
              (this.info = {
                height: 0,
                width: 0,
                childTop: 0,
                computed: !1,
                queued: !1,
                hidden: !1,
              }),
              (this.pusherEl = EB()),
              (this.app = e),
              (this.el = t),
              (this.emptyStateEl = createDiv({
                cls: "search-empty-state",
                text: n,
              })),
              (this.childrenEl = this.el.createDiv("search-results-children")),
              ((this.infinityScroll = new LB(i || this.el)).rootEl = this);
          }
          return (
            (e.prototype.startLoader = function () {
              (this.working = !0),
                this.el.addClass("is-loading"),
                this.onChange();
            }),
            (e.prototype.stopLoader = function () {
              (this.cleared = !1),
                (this.working = !1),
                this.el.removeClass("is-loading"),
                this.onChange();
            }),
            (e.prototype.onChange = function () {
              var e = this,
                t = e.sortOrder,
                n = e.children,
                i = e.emptyStateEl,
                r = e.infinityScroll,
                o = xB[t];
              n.sort(function (e, t) {
                return o(e.file, t.file);
              }),
                0 !== n.length || this.cleared
                  ? r.queueCompute()
                  : this.childrenEl.setChildrenInPlace([i]);
            }),
            (e.prototype.emptyResults = function () {
              (this.children = []),
                this.resultDomLookup.clear(),
                (this.cleared = !0),
                this.changed();
            }),
            (e.prototype.getResult = function (e) {
              return this.resultDomLookup.get(e);
            }),
            (e.prototype.removeResult = function (e) {
              var t = this.children,
                n = this.resultDomLookup,
                i = n.get(e);
              return i && (t.remove(i), n.delete(e), this.changed()), i;
            }),
            (e.prototype.addResult = function (e, t, n, i) {
              if ((void 0 === i && (i = !0), e)) {
                var r = this.children,
                  o = this.resultDomLookup,
                  s = this.removeResult(e),
                  a = new TB(this.app, this, e, t, n, i);
                return (
                  s
                    ? a.setCollapse(s.collapsed, !1)
                    : a.setCollapse(this.collapseAll, !1),
                  (a.extraContext = this.extraContext),
                  r.push(a),
                  o.set(e, a),
                  this.changed(),
                  a
                );
              }
            }),
            (e.prototype.toggle = function (e, t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [4, Ub(this.el, e, t)];
                    case 1:
                      return (
                        n.sent(), e || this.infinityScroll.invalidateAll(), [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.setCollapseAll = function (e) {
              this.collapseAll = e;
              for (var t = 0, n = this.children; t < n.length; t++) {
                n[t].setCollapse(e, !1);
              }
              this.infinityScroll.invalidateAll();
            }),
            (e.prototype.setExtraContext = function (e) {
              this.extraContext = e;
              for (var t = 0, n = this.children; t < n.length; t++) {
                n[t].setExtraContext(e);
              }
              this.infinityScroll.invalidateAll();
            }),
            (e.prototype.onResize = function () {
              this.infinityScroll.onResize();
            }),
            (e.prototype.getFiles = function () {
              return this.children.map(function (e) {
                return e.file;
              });
            }),
            (e.prototype.getMatchCount = function () {
              for (var e = 0, t = 0, n = this.children; t < n.length; t++) {
                e += n[t].children.length;
              }
              return e;
            }),
            e
          );
        })(),
        FB = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            return (i.queue = null), (i.app = t), (i.dom = n), i;
          }
          return (
            M(t, e),
            (t.prototype.onload = function () {
              var e = this.app.vault;
              this.registerEvent(e.on("rename", this.onFileChanged, this)),
                this.registerEvent(e.on("delete", this.onFileDeleted, this)),
                this.registerEvent(
                  this.app.metadataCache.on("changed", this.onFileChanged, this)
                );
            }),
            (t.prototype.onunload = function () {
              this.stop();
            }),
            (t.prototype.stop = function () {
              var e = this.queue;
              e && (e.cancel(), (this.queue = null));
            }),
            (t.prototype.start = function () {
              var e = this,
                t = this.app,
                n = this.dom,
                i = (this.queue = new Gh({
                  onStart: function () {
                    n.startLoader();
                  },
                  onStop: function () {
                    n.stopLoader();
                  },
                  onCancel: function () {
                    e.queue = null;
                  },
                })),
                r = t.vault.getFiles();
              return r.sort(xB[this.dom.sortOrder]), i.addList(r), i;
            }),
            (t.prototype.onFileChanged = function (e) {
              var t = this.queue;
              t && t.add(e);
            }),
            (t.prototype.onFileDeleted = function (e) {
              var t = this.queue;
              t && t.remove(e), this.dom.removeResult(e);
            }),
            t
          );
        })(nm),
        IB =
          (At("plugins.file-explorer"),
          (function () {
            function e(e, t) {
              (this.navHeaderEl = null),
                (this.navButtonsEl = null),
                (this.app = e);
              var n = (this.navHeaderEl = t.createDiv("nav-header"));
              this.navButtonsEl = n.createDiv("nav-buttons-container");
            }
            return (
              (e.prototype.addNavButton = function (e, t, n, i) {
                var r = this.navButtonsEl.createDiv("nav-action-button");
                return (
                  i && r.addClass(i),
                  r.addEventListener("click", n),
                  eb.isMobile ? Xy(r, e, 24) : Xy(r, e, 20),
                  nn(r, t),
                  r
                );
              }),
              (e.prototype.addSortButton = function (e, t) {
                var n = this;
                return this.addNavButton(
                  $m,
                  Lt("plugins.file-explorer.action-change-sort"),
                  function (i) {
                    i.preventDefault();
                    for (
                      var r = new rw(n.app), o = t(), s = 0, a = kB;
                      s < a.length;
                      s++
                    ) {
                      for (
                        var l = function (t) {
                            var n = Lt(CB[t]);
                            r.addItem(function (i) {
                              return i
                                .setTitle(n)
                                .setActive(t === o)
                                .onClick(function () {
                                  e(t);
                                });
                            });
                          },
                          c = 0,
                          u = a[s];
                        c < u.length;
                        c++
                      ) {
                        l(u[c]);
                      }
                      r.addSeparator();
                    }
                    r.showAtMouseEvent(i);
                  }
                );
              }),
              e
            );
          })()),
        NB = "backlink",
        BB = (function () {
          function e() {
            (this.id = "backlink"),
              (this.name = Lt("plugins.backlinks.name")),
              (this.description = Lt("plugins.backlinks.desc")),
              (this.defaultOn = !0);
          }
          return (
            (e.prototype.init = function (e, t) {
              var n = this;
              (this.app = e),
                (this.plugin = t),
                t.registerStatusBarItem(),
                t.registerViewType(NB, function (e) {
                  return new RB(e);
                }),
                t.registerGlobalCommand({
                  id: "backlink:open",
                  name: Lt("plugins.backlinks.action-show"),
                  icon: Iv,
                  callback: function () {
                    n.app.workspace.ensureSideLeaf(NB, "right", !1);
                  },
                }),
                t.registerGlobalCommand({
                  id: "backlink:open-backlinks",
                  name: Lt("plugins.backlinks.action-open-for-current"),
                  icon: Iv,
                  checkCallback: this.openBacklinksForActiveFile.bind(this),
                }),
                t.registerGlobalCommand({
                  id: "backlink:toggle-backlinks-in-document",
                  name: Lt(
                    "plugins.backlinks.action-toggle-backlinks-in-document"
                  ),
                  icon: Iv,
                  checkCallback: this.toggleBacklinksInDocument.bind(this),
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n, i, r, o, s;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        t.registerEvent(
                          e.workspace.on("file-open", this.onFileOpen, this)
                        ),
                        t.registerEvent(
                          e.workspace.on("layout-ready", this.initLeaf, this)
                        ),
                        t.registerEvent(
                          e.workspace.on("file-menu", this.onFileMenu, this)
                        ),
                        t.registerEvent(
                          e.metadataCache.on(
                            "resolved",
                            this.updateBacklinks,
                            this
                          )
                        ),
                        (n = this.plugin.statusBarEl) &&
                          (n.addClass("mod-clickable"),
                          n.addEventListener("click", function () {
                            var t = e.workspace,
                              n = t.getLeavesOfType(NB);
                            n.length > 0 && t.revealLeaf(n[0]);
                          })),
                        (i = this),
                        (o = (r = Object).assign),
                        (s = [{}]),
                        [4, t.loadData()]
                      );
                    case 1:
                      return (
                        (i.options = o.apply(r, s.concat([a.sent()]))),
                        (this.app.workspace.backlinkInDocument =
                          this.options.backlinkInDocument),
                        t.addSettingTab(new HB(e, t, this)),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.onUserEnable = function () {
              this.initLeaf();
            }),
            (e.prototype.onUserDisable = function (e) {
              for (
                var t = 0, n = e.workspace.getLeavesOfType(NB);
                t < n.length;
                t++
              ) {
                n[t].detach();
              }
              e.workspace.iterateAllLeaves(function (e) {
                var t = e.view;
                t instanceof IR && t.showBacklinks && t.toggleBacklinks();
              });
            }),
            (e.prototype.initLeaf = function () {
              this.app.workspace.ensureSideLeaf(NB, "right", !1, !1);
            }),
            (e.prototype.onFileMenu = function (e, t, n, i) {
              var r = this;
              !eb.isMobile &&
                t instanceof Ab &&
                i &&
                "sidebar-context-menu" !== n &&
                e.addItem(function (e) {
                  return e
                    .setTitle(Lt("plugins.backlinks.action-open"))
                    .setIcon(py)
                    .onClick(function () {
                      return A(r, void 0, void 0, function () {
                        return D(this, function (e) {
                          switch (e.label) {
                            case 0:
                              return [
                                4,
                                this.app.workspace
                                  .splitLeafOrActive(i, "horizontal")
                                  .setViewState({
                                    type: NB,
                                    active: !0,
                                    group: i,
                                    state: { file: t.path },
                                  }),
                              ];
                            case 1:
                              return e.sent(), [2];
                          }
                        });
                      });
                    });
                }),
                t instanceof Ab &&
                  i &&
                  i.view instanceof IR &&
                  i.view.canToggleBacklinks() &&
                  e.addItem(function (e) {
                    return e
                      .setTitle(
                        Lt(
                          "plugins.backlinks.action-toggle-backlinks-in-document"
                        )
                      )
                      .setIcon(py)
                      .onClick(function () {
                        var e = i.view;
                        e instanceof IR && e.toggleBacklinks();
                      });
                  });
            }),
            (e.prototype.onFileOpen = function (e) {
              (this.file = e instanceof Ab ? e : null), this.updateBacklinks();
            }),
            (e.prototype.updateBacklinks = function () {
              var e = this.file,
                t = 0;
              if (e) {
                var n = e.path,
                  i = this.app.metadataCache.resolvedLinks;
                for (var r in i)
                  r !== n &&
                    i.hasOwnProperty(r) &&
                    i[r].hasOwnProperty(n) &&
                    (t += i[r][n]);
              }
              var o = this.plugin.statusBarEl;
              if (o) {
                var s = Lt("nouns.backlink-with-count", { count: t });
                o.setText(s);
              }
            }),
            (e.prototype.openBacklinksForActiveFile = function (e) {
              var t = this.app.workspace,
                n = t.getActiveFile();
              if (n) {
                if (!e)
                  t.splitActiveLeaf("vertical").setViewState({
                    type: NB,
                    active: !0,
                    group: t.activeLeaf,
                    state: { file: n.path },
                  });
                return !0;
              }
            }),
            (e.prototype.toggleBacklinksInDocument = function (e) {
              var t = this.app.workspace.getActiveViewOfType(IR);
              if (t && t.canToggleBacklinks())
                return e || t.toggleBacklinks(), !0;
            }),
            e
          );
        })(),
        RB = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            n.icon = py;
            var i = n.contentEl;
            return (
              (n.backlink = n.addChild(new zB(n.app, i))), n.requestUpdate(), n
            );
          }
          return (
            M(t, e),
            (t.prototype.getDisplayText = function () {
              return this.file
                ? Lt("plugins.backlinks.tab-title", {
                    displayText: e.prototype.getDisplayText.call(this),
                  })
                : Lt("plugins.backlinks.name");
            }),
            (t.prototype.getViewType = function () {
              return NB;
            }),
            (t.prototype.canAcceptExtension = function (e) {
              return !0;
            }),
            (t.prototype.getState = function () {
              var t = e.prototype.getState.call(this);
              return (
                (t.collapseAll = this.backlink.collapseAll),
                (t.extraContext = this.backlink.extraContext),
                (t.sortOrder = this.backlink.sortOrder),
                (t.showSearch = this.backlink.showSearch),
                (t.searchQuery = this.backlink.searchComponent.getValue()),
                (t.backlinkCollapsed = this.backlink.backlinkCollapsed),
                (t.unlinkedCollapsed = this.backlink.unlinkedCollapsed),
                t
              );
            }),
            (t.prototype.setState = function (t, n) {
              return A(this, void 0, Promise, function () {
                var i, r, o, s, a, l, c;
                return D(this, function (u) {
                  switch (u.label) {
                    case 0:
                      return [4, e.prototype.setState.call(this, t, n)];
                    case 1:
                      return (
                        u.sent(),
                        (i = t.collapseAll),
                        (r = t.extraContext),
                        (o = t.sortOrder),
                        (s = t.showSearch),
                        (a = t.searchQuery),
                        (l = t.backlinkCollapsed),
                        (c = t.unlinkedCollapsed),
                        isBoolean(i) && this.backlink.setCollapseAll(i),
                        isBoolean(r) && this.backlink.setExtraContext(r),
                        isBoolean(s) && this.backlink.setShowSearch(s),
                        String.isString(o) &&
                          xB.hasOwnProperty(o) &&
                          this.backlink.setSortOrder(o),
                        isBoolean(l)
                          ? [4, this.backlink.setBacklinkCollapsed(l, !1)]
                          : [3, 3]
                      );
                    case 2:
                      u.sent(), (u.label = 3);
                    case 3:
                      return isBoolean(c)
                        ? [4, this.backlink.setUnlinkedCollapsed(c, !1)]
                        : [3, 5];
                    case 4:
                      u.sent(), (u.label = 5);
                    case 5:
                      return (
                        String.isString(a) &&
                          (this.backlink.searchComponent.setValue(a),
                          this.backlink.updateSearch()),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.onResize = function () {
              this.backlink.onResize();
            }),
            (t.prototype.update = function () {
              this.leaf.updateHeader();
              var e = this.backlink;
              (e.file = this.file),
                (e.tooltipPlacement = this.getSideTooltipPlacement()),
                e.update();
            }),
            t
          );
        })(nN),
        zB = (function (e) {
          function t(t, n, i) {
            var r = e.call(this) || this;
            (r.collapseAll = !1),
              (r.extraContext = !1),
              (r.sortOrder = "alphabetical"),
              (r.showSearch = !1),
              (r.searchQuery = null),
              (r.backlinkFile = null),
              (r.backlinkCollapsed = !1),
              (r.backlinkHeaderEl = null),
              (r.backlinkCountEl = null),
              (r.backlinkQueue = null),
              (r.unlinkedFile = null),
              (r.unlinkedCollapsed = !1),
              (r.unlinkedHeaderEl = null),
              (r.unlinkedCountEl = null),
              (r.unlinkedAliases = ""),
              (r.unlinkedQueue = null),
              (r.app = t);
            var o = (r.headerDom = new IB(r.app, n));
            (r.collapseAllButtonEl = o.addNavButton(
              lv,
              Lt("plugins.search.label-collapse-results"),
              r.onToggleCollapseClick.bind(r)
            )),
              (r.extraContextButtonEl = o.addNavButton(
                hv,
                Lt("plugins.search.label-more-context"),
                r.onToggleMoreContextClick.bind(r)
              )),
              o.addSortButton(
                function (e) {
                  return r.setSortOrder(e);
                },
                function () {
                  return r.sortOrder;
                }
              ),
              (r.showSearchButtonEl = o.addNavButton(
                jm,
                Lt("plugins.backlinks.label-show-search"),
                r.onToggleShowSearchClick.bind(r)
              )),
              (r.searchComponent = new aT(n)
                .setPlaceholder(Lt("plugins.search.prompt-start-search"))
                .onChange(Tt(r.updateSearch.bind(r), 400, !0))
                .then(function (e) {
                  nn(
                    e.clearButtonEl,
                    Lt("plugins.search.tooltip-clear-search")
                  ),
                    e.inputEl.addEventListener("keypress", function (e) {
                      e.isComposing ||
                        "Enter" !== e.key ||
                        (eb.isMobile && bh(), r.updateSearch());
                    }),
                    e.containerEl.hide();
                }));
            var s = n.createDiv("backlink-pane");
            i = i || s;
            var a = (r.backlinkHeaderEl = s.createDiv(
              "tree-item-self is-clickable"
            ));
            a.createSpan("tree-item-icon collapse-icon", function (e) {
              Xy(e, pm, 8);
            }),
              a.createDiv({
                cls: "tree-item-inner",
                text: Lt("plugins.backlinks.label-linked-mentions"),
              }),
              a.addEventListener("click", r.toggleBacklinkCollapsed.bind(r)),
              (r.backlinkCountEl = a
                .createDiv("tree-item-flair-outer")
                .createSpan("tree-item-flair")),
              (r.backlinkDom = new OB(
                r.app,
                s.createDiv("search-result-container"),
                Lt("plugins.backlinks.label-no-backlinks"),
                i
              ));
            var l = (r.unlinkedHeaderEl = s.createDiv(
              "tree-item-self is-clickable"
            ));
            return (
              l.createSpan("tree-item-icon collapse-icon", function (e) {
                Xy(e, pm, 8);
              }),
              l.createDiv({
                cls: "tree-item-inner",
                text: Lt("plugins.backlinks.label-unlinked-mentions"),
              }),
              l.addEventListener("click", r.toggleUnlinkedCollapsed.bind(r)),
              (r.unlinkedCountEl = l
                .createDiv("tree-item-flair-outer")
                .createSpan("tree-item-flair")),
              (r.unlinkedDom = new OB(
                r.app,
                s.createDiv("search-result-container"),
                Lt("plugins.backlinks.label-no-unlinked-mentions"),
                i
              )),
              r.setUnlinkedCollapsed(!0, !1),
              r
            );
          }
          return (
            M(t, e),
            (t.prototype.onload = function () {
              var e = this.app,
                t = e.vault;
              this.registerEvent(
                e.metadataCache.on("resolve", this.onMetadataChanged, this)
              ),
                this.registerEvent(t.on("create", this.onFileChanged, this)),
                this.registerEvent(t.on("modify", this.onFileChanged, this)),
                this.registerEvent(t.on("rename", this.onFileRename, this)),
                this.registerEvent(t.on("delete", this.onFileDeleted, this));
            }),
            (t.prototype.onToggleCollapseClick = function () {
              this.setCollapseAll(!this.collapseAll);
            }),
            (t.prototype.setCollapseAll = function (e) {
              e !== this.collapseAll &&
                ((this.collapseAll = e),
                this.backlinkDom.setCollapseAll(e),
                this.unlinkedDom.setCollapseAll(e),
                this.collapseAllButtonEl.toggleClass("is-active", e),
                this.app.workspace.requestSaveLayout());
            }),
            (t.prototype.onToggleMoreContextClick = function () {
              this.setExtraContext(!this.extraContext);
            }),
            (t.prototype.setExtraContext = function (e) {
              e !== this.extraContext &&
                ((this.extraContext = e),
                this.backlinkDom.setExtraContext(e),
                this.unlinkedDom.setExtraContext(e),
                this.extraContextButtonEl.toggleClass("is-active", e),
                this.app.workspace.requestSaveLayout());
            }),
            (t.prototype.onToggleShowSearchClick = function () {
              this.setShowSearch(!this.showSearch),
                this.showSearch && this.searchComponent.inputEl.focus();
            }),
            (t.prototype.setShowSearch = function (e) {
              e !== this.showSearch &&
                ((this.showSearch = e),
                this.searchComponent.containerEl.toggle(e),
                this.showSearchButtonEl.toggleClass("is-active", e),
                e || (this.searchComponent.setValue(""), this.updateSearch()),
                this.app.workspace.requestSaveLayout());
            }),
            (t.prototype.setSortOrder = function (e) {
              e !== this.sortOrder &&
                ((this.sortOrder = e),
                (this.backlinkDom.sortOrder = e),
                this.backlinkDom.changed(),
                (this.unlinkedDom.sortOrder = e),
                this.unlinkedDom.changed(),
                this.app.workspace.requestSaveLayout());
            }),
            (t.prototype.onResize = function () {
              this.backlinkDom.onResize(), this.unlinkedDom.onResize();
            }),
            (t.prototype.updateSearch = function () {
              var e = this.searchComponent.getValue(),
                t = this.searchQuery;
              if (!((!t && !e) || (t && t.query === e)))
                try {
                  if (e) {
                    var n = new KP(e, !1);
                    n.matcher
                      ? (this.searchQuery = n)
                      : (this.searchQuery = null);
                  } else this.searchQuery = null;
                  (this.backlinkFile = null),
                    (this.unlinkedFile = null),
                    this.update();
                } catch (e) {
                  new lw(e.message), console.log(e);
                }
            }),
            (t.prototype.toggleBacklinkCollapsed = function () {
              this.setBacklinkCollapsed(!this.backlinkCollapsed, !0);
            }),
            (t.prototype.setBacklinkCollapsed = function (e, t) {
              return A(this, void 0, void 0, function () {
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return e === this.backlinkCollapsed
                        ? [2]
                        : ((this.backlinkCollapsed = e),
                          [
                            4,
                            this.setSectionCollapsed(
                              this.backlinkHeaderEl,
                              this.backlinkDom,
                              e,
                              t
                            ),
                          ]);
                    case 1:
                      return (
                        n.sent(),
                        this.app.workspace.requestSaveLayout(),
                        this.backlinkDom.infinityScroll.updateVirtualDisplay(),
                        this.unlinkedDom.infinityScroll.updateVirtualDisplay(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.toggleUnlinkedCollapsed = function () {
              this.setUnlinkedCollapsed(!this.unlinkedCollapsed, !0);
            }),
            (t.prototype.setUnlinkedCollapsed = function (e, t) {
              return A(this, void 0, void 0, function () {
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return e === this.unlinkedCollapsed
                        ? [2]
                        : ((this.unlinkedCollapsed = e),
                          [
                            4,
                            this.setSectionCollapsed(
                              this.unlinkedHeaderEl,
                              this.unlinkedDom,
                              e,
                              t
                            ),
                          ]);
                    case 1:
                      return (
                        n.sent(),
                        this.app.workspace.requestSaveLayout(),
                        this.backlinkDom.infinityScroll.updateVirtualDisplay(),
                        this.unlinkedDom.infinityScroll.updateVirtualDisplay(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.updateHeaderTooltip = function (e, t) {
              e.toggleClass("is-collapsed", t),
                nn(
                  e,
                  Lt(
                    t
                      ? "interface.tooltip.click-to-expand"
                      : "interface.tooltip.click-to-collapse"
                  ),
                  { placement: this.tooltipPlacement }
                );
            }),
            (t.prototype.setSectionCollapsed = function (e, t, n, i) {
              return A(this, void 0, void 0, function () {
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return (
                        this.updateHeaderTooltip(e, n), [4, t.toggle(n, i)]
                      );
                    case 1:
                      return r.sent(), this.update(), [2];
                  }
                });
              });
            }),
            (t.prototype.onMetadataChanged = function (e) {
              var t = this.backlinkQueue;
              if (
                (t && t.add(e), this.onFileChanged(e), e === this.unlinkedFile)
              ) {
                var n = "",
                  i = this.app.metadataCache.getFileCache(e);
                if (i) {
                  var r = Kg(i.frontmatter);
                  r && (n = JSON.stringify(r));
                }
                this.unlinkedAliases !== n && this.recomputeUnlinked(e);
              }
            }),
            (t.prototype.onFileChanged = function (e) {
              var t = this.unlinkedQueue;
              t && t.add(e);
            }),
            (t.prototype.onFileRename = function (e) {
              if (e === this.unlinkedFile)
                this.recomputeBacklink(e), this.recomputeUnlinked(e);
              else {
                this.onFileChanged(e);
                var t = this.backlinkQueue;
                t && t.add(e);
              }
            }),
            (t.prototype.onFileDeleted = function (e) {
              var t = this.unlinkedQueue;
              t && t.remove(e);
              var n = this.backlinkQueue;
              n && n.remove(e),
                this.backlinkDom.removeResult(e),
                this.unlinkedDom.removeResult(e);
            }),
            (t.prototype.update = function () {
              var e = this.file;
              this.backlinkFile !== e && this.recomputeBacklink(e),
                this.unlinkedFile !== e && this.recomputeUnlinked(e),
                this.updateHeaderTooltip(
                  this.backlinkHeaderEl,
                  this.backlinkCollapsed
                ),
                this.updateHeaderTooltip(
                  this.unlinkedHeaderEl,
                  this.unlinkedCollapsed
                );
            }),
            (t.prototype.passSearchFilter = function (e, t, n, i) {
              return A(this, void 0, void 0, function () {
                var i;
                return D(this, function (r) {
                  return (i = this.searchQuery) && !i.match(e, t, n)
                    ? [2, !1]
                    : [2, !0];
                });
              });
            }),
            (t.prototype.recomputeBacklink = function (e) {
              var t = this;
              this.stopBacklinkSearch();
              var n = this.backlinkCollapsed,
                i = this.backlinkCountEl;
              if (n) i.hide();
              else {
                this.backlinkFile = e;
                var r = this.app,
                  o = this.backlinkDom;
                if ((i.show(), i.setText("0"), o.emptyResults(), e)) {
                  var s = this.app.metadataCache,
                    a = (this.backlinkQueue = new Gh({
                      onStart: function () {
                        o.startLoader();
                      },
                      onStop: function () {
                        o.stopLoader();
                      },
                      onCancel: function () {
                        t.backlinkQueue = null;
                      },
                    }));
                  o.emptyResults();
                  var l = r.vault.getMarkdownFiles();
                  l.sort(xB[o.sortOrder]), a.addList(l);
                  var c = function (t) {
                      var n = t.path,
                        i = s.resolvedLinks;
                      return i.hasOwnProperty(n) && i[n].hasOwnProperty(e.path);
                    },
                    u = function () {
                      i.setText(String(o.getMatchCount()));
                    },
                    h = (function () {
                      return F(this, arguments, function () {
                        var e, t, n, i, r, s;
                        return D(this, function (l) {
                          switch (l.label) {
                            case 0:
                              l.trys.push([0, 8, 9, 14]),
                                (e = I(a.generator())),
                                (l.label = 1);
                            case 1:
                              return [4, O(e.next())];
                            case 2:
                              return (t = l.sent()).done
                                ? [3, 7]
                                : ((n = t.value), c(n) ? [4, O(n)] : [3, 5]);
                            case 3:
                              return [4, l.sent()];
                            case 4:
                              return l.sent(), [3, 6];
                            case 5:
                              o.removeResult(n), u(), (l.label = 6);
                            case 6:
                              return [3, 1];
                            case 7:
                              return [3, 14];
                            case 8:
                              return (
                                (i = l.sent()), (r = { error: i }), [3, 14]
                              );
                            case 9:
                              return (
                                l.trys.push([9, , 12, 13]),
                                t && !t.done && (s = e.return)
                                  ? [4, O(s.call(e))]
                                  : [3, 11]
                              );
                            case 10:
                              l.sent(), (l.label = 11);
                            case 11:
                              return [3, 13];
                            case 12:
                              if (r) throw r.error;
                              return [7];
                            case 13:
                              return [7];
                            case 14:
                              return [2];
                          }
                        });
                      });
                    })(),
                    p = $h(r.vault.generateFiles(h, !0), { batchSize: 2 });
                  A(t, void 0, void 0, function () {
                    var t, n, i, r, l, c, h, d, f, g, m, v, y, b, w;
                    return D(this, function (k) {
                      switch (k.label) {
                        case 0:
                          k.trys.push([0, 6, 7, 12]), (t = I(p)), (k.label = 1);
                        case 1:
                          return [4, t.next()];
                        case 2:
                          return (n = k.sent()).done
                            ? [3, 5]
                            : ((i = n.value),
                              (r = i.file),
                              (l = i.content),
                              e === r
                                ? [3, 4]
                                : ((c = !1),
                                  (h = {}),
                                  (d = s.getFileCache(r))
                                    ? [
                                        4,
                                        this.passSearchFilter(
                                          r,
                                          l,
                                          d,
                                          a.runnable
                                        ),
                                      ]
                                    : (o.removeResult(r), u(), [3, 4])));
                        case 3:
                          if (!k.sent()) return [3, 4];
                          for (
                            f = [],
                              ED(d, function (t) {
                                (function (t, n) {
                                  var i = xD(n.link),
                                    r = s.getFirstLinkpathDest(i, t);
                                  return r && r === e;
                                })(r.path, t) && f.push(t);
                              }),
                              h.content = [],
                              g = 0,
                              m = f;
                            g < m.length;
                            g++
                          )
                            (v = m[g]),
                              h.content.push([
                                v.position.start.offset,
                                v.position.end.offset,
                              ]),
                              (c = !0);
                          c
                            ? o.addResult(r, h, l).renderContentMatches()
                            : o.removeResult(r),
                            u(),
                            (k.label = 4);
                        case 4:
                          return [3, 1];
                        case 5:
                          return [3, 12];
                        case 6:
                          return (y = k.sent()), (b = { error: y }), [3, 12];
                        case 7:
                          return (
                            k.trys.push([7, , 10, 11]),
                            n && !n.done && (w = t.return)
                              ? [4, w.call(t)]
                              : [3, 9]
                          );
                        case 8:
                          k.sent(), (k.label = 9);
                        case 9:
                          return [3, 11];
                        case 10:
                          if (b) throw b.error;
                          return [7];
                        case 11:
                          return [7];
                        case 12:
                          return [2];
                      }
                    });
                  });
                }
              }
            }),
            (t.prototype.stopBacklinkSearch = function () {
              var e = this.backlinkQueue;
              e &&
                !e.runnable.isCancelled() &&
                (e.runnable.cancel(), (this.backlinkFile = null)),
                (this.backlinkQueue = null);
            }),
            (t.prototype.recomputeUnlinked = function (e) {
              var t = this;
              this.stopUnlinkedSearch();
              var n = this.unlinkedCollapsed,
                i = this.unlinkedCountEl;
              if (n) i.hide();
              else {
                (this.unlinkedFile = e), (this.unlinkedAliases = "");
                var r = this.app,
                  o = this.unlinkedDom;
                if ((i.show(), i.setText("0"), o.emptyResults(), e)) {
                  var s = [new RegExp(dP(e.basename), "gi")],
                    a = this.app.metadataCache.getFileCache(e);
                  if (a) {
                    var l = Kg(a.frontmatter);
                    if (l) {
                      for (var c = 0, u = l; c < u.length; c++) {
                        var h = u[c];
                        h && s.push(new RegExp(dP(h), "gi"));
                      }
                      this.unlinkedAliases = JSON.stringify(l);
                    }
                  }
                  var p = (this.unlinkedQueue = new Gh({
                    onStart: function () {
                      o.startLoader();
                    },
                    onStop: function () {
                      o.stopLoader();
                    },
                    onCancel: function () {
                      t.unlinkedQueue = null;
                    },
                  }));
                  o.emptyResults();
                  var d = r.vault.getMarkdownFiles();
                  d.sort(xB[o.sortOrder]), p.addList(d);
                  var f = p.generator(),
                    g = $h(r.vault.generateFiles(f, !0));
                  A(t, void 0, void 0, function () {
                    var t,
                      n,
                      a,
                      l,
                      c,
                      u,
                      h,
                      d,
                      f,
                      m,
                      v,
                      y,
                      b,
                      w,
                      k,
                      C,
                      x,
                      S,
                      E,
                      M,
                      L,
                      A,
                      T;
                    return D(this, function (D) {
                      switch (D.label) {
                        case 0:
                          D.trys.push([0, 6, 7, 12]), (t = I(g)), (D.label = 1);
                        case 1:
                          return [4, t.next()];
                        case 2:
                          return (n = D.sent()).done
                            ? [3, 5]
                            : ((a = n.value),
                              (l = a.file),
                              (c = a.content),
                              e === l
                                ? [3, 4]
                                : ((u = r.metadataCache.getFileCache(l)),
                                  [
                                    4,
                                    this.passSearchFilter(l, c, u, p.runnable),
                                  ]));
                        case 3:
                          if (!D.sent()) return [3, 4];
                          for (h = !1, d = [], f = 0, m = s; f < m.length; f++)
                            for ((v = m[f]).lastIndex = 0, y = v.exec(c); y; )
                              (b = v.lastIndex),
                                (w = b - y[1].length),
                                d.push([w, b]),
                                (y = v.exec(c));
                          for (
                            (k = {}).content = [],
                              C = function (e) {
                                var t = ED(u, function (t) {
                                  return (
                                    t.position.start.offset <= e[0] &&
                                    t.position.end.offset >= e[1]
                                  );
                                });
                                if (u && u.frontmatter) {
                                  var n = u.frontmatter.position;
                                  n &&
                                    n.start.offset <= e[0] &&
                                    n.end.offset >= e[1] &&
                                    (t = !0);
                                }
                                t || ((h = !0), k.content.push(e));
                              },
                              x = 0,
                              S = d;
                            x < S.length;
                            x++
                          )
                            (E = S[x]), C(E);
                          h
                            ? ((M = o.addResult(l, k, c)),
                              this.addLinkFunction(M, e, l),
                              (M.separateMatches = !0),
                              M.renderContentMatches())
                            : o.removeResult(l),
                            i.setText(String(o.getMatchCount())),
                            (D.label = 4);
                        case 4:
                          return [3, 1];
                        case 5:
                          return [3, 12];
                        case 6:
                          return (L = D.sent()), (A = { error: L }), [3, 12];
                        case 7:
                          return (
                            D.trys.push([7, , 10, 11]),
                            n && !n.done && (T = t.return)
                              ? [4, T.call(t)]
                              : [3, 9]
                          );
                        case 8:
                          D.sent(), (D.label = 9);
                        case 9:
                          return [3, 11];
                        case 10:
                          if (A) throw A.error;
                          return [7];
                        case 11:
                          return [7];
                        case 12:
                          return [2];
                      }
                    });
                  });
                }
              }
            }),
            (t.prototype.stopUnlinkedSearch = function () {
              var e = this.unlinkedQueue;
              e &&
                !e.runnable.isCancelled() &&
                (e.runnable.cancel(), (this.unlinkedFile = null)),
                (this.unlinkedQueue = null);
            }),
            (t.prototype.addLinkFunction = function (e, t, n) {
              var i = this;
              e.onMatchRender = function (r, o) {
                o.createEl("button", {
                  cls: "search-result-file-match-replace-button",
                  text: Lt("plugins.backlinks.label-link-button-text"),
                }).addEventListener("click", function (s) {
                  return A(i, void 0, void 0, function () {
                    var i, a, l, c, u, h;
                    return D(this, function (p) {
                      switch (p.label) {
                        case 0:
                          return (
                            s.preventDefault(),
                            o.detach(),
                            e.invalidate(),
                            (i = this.app.vault),
                            (a = r[0]),
                            (l = r[1]),
                            [4, i.read(n)]
                          );
                        case 1:
                          return (
                            (c = p.sent()),
                            (u = c.slice(a, l)),
                            (h = this.app.fileManager.generateMarkdownLink(
                              t,
                              n.path,
                              "",
                              u
                            )),
                            (c = c.slice(0, a) + h + c.slice(l)),
                            [4, i.modify(n, c)]
                          );
                        case 2:
                          return p.sent(), [2];
                      }
                    });
                  });
                });
              };
            }),
            t
          );
        })(nm),
        HB = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t, n) || this;
            return (r.instance = i), r;
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              var e = this,
                t = this.containerEl;
              t.empty();
              var n = this.instance.options;
              new ZD(t)
                .setName(Lt("plugins.backlinks.option-backlink-in-document"))
                .setDesc(
                  Lt("plugins.backlinks.option-backlink-in-document-desc")
                )
                .addToggle(function (t) {
                  return t
                    .setValue(n.backlinkInDocument)
                    .onChange(function (t) {
                      (n.backlinkInDocument = t),
                        (e.app.workspace.backlinkInDocument = t),
                        e.plugin.saveData(n);
                    });
                });
            }),
            t
          );
        })(sB),
        VB = (function () {
          function e(e, t, n) {
            (this.app = e), (this.hoverParent = t), (this.getFile = n);
          }
          return (
            (e.prototype.onInternalLinkDrag = function (e, t, n) {
              this.app.dragManager.onDragStart(
                e,
                this.app.dragManager.dragLink(e, n, this.getFile().path)
              );
            }),
            (e.prototype.onInternalLinkClick = function (e, t, n) {
              e.preventDefault(),
                this.app.workspace.openLinkText(
                  n,
                  this.getFile().path,
                  nw.isModEvent(e),
                  { active: !0 }
                );
            }),
            (e.prototype.onInternalLinkRightClick = function (e, t, n) {
              var i = new rw(this.app);
              this.app.workspace.handleLinkContextMenu(
                i,
                n,
                this.getFile().path
              ) && (e.preventDefault(), i.showAtMouseEvent(e));
            }),
            (e.prototype.onExternalLinkClick = function (e, t, n) {
              e.preventDefault(), window.open(n);
            }),
            (e.prototype.onInternalLinkMouseover = function (e, t, n) {
              this.app.workspace.trigger("hover-link", {
                event: e,
                source: "preview",
                hoverParent: this.hoverParent,
                targetEl: t,
                linktext: n,
                sourcePath: this.getFile().path,
              });
            }),
            (e.prototype.onTagClick = function (e, t, n) {
              var i = this.app.internalPlugins.getPluginById("global-search");
              i && i.instance.openGlobalSearch("tag:" + n);
            }),
            e
          );
        })(),
        qB = (function (e) {
          function t(t, n) {
            var i = e.call(this, n) || this;
            (i.docId = Oe(16)),
              (i.nesting = $B),
              (i.hoverPopover = null),
              (i.app = t);
            var r = new VB(t, i, i.getFile.bind(i));
            return (i.renderer = new cb(i, r, n, "worker.js")), i;
          }
          return (
            M(t, e),
            (t.prototype.onload = function () {
              var e = this.app;
              this.registerEvent(e.vault.on("modify", this.onFileChange, this)),
                this.registerEvent(
                  e.vault.on("delete", this.onFileChange, this)
                ),
                this.registerEvent(
                  e.metadataCache.on("changed", this.onFileChange, this)
                );
            }),
            (t.prototype.onCheckboxClick = function (e, t, n) {
              e.preventDefault();
              for (var i = this.renderer.text, r = 0, o = 0; r < n; ) {
                if (-1 === (o = i.indexOf("\n", o) + 1)) return;
                r++;
              }
              var s = i.indexOf("\n", o);
              -1 === s && (s = i.length);
              var a = i.slice(o, s).search(/\[.\]/);
              if (-1 !== a) {
                var l = o + a + 1,
                  c = " " === i.charAt(l) ? "x" : " ",
                  u = i.slice(0, l) + c + i.slice(l + 1);
                this.edit(u);
              }
            }),
            (t.prototype.postProcess = function (e, t, n) {
              var i = this,
                r = _B.postProcess(this.app, {
                  docId: this.docId,
                  sourcePath: this.getFile().path,
                  frontmatter: n,
                  promises: t,
                  addChild: function (e) {
                    return i.addChild(e);
                  },
                  getSectionInfo: function (e) {
                    return i.renderer.getSectionInfo(e);
                  },
                  containerEl: this.renderer.sizerEl,
                  el: e.el,
                  remainingNestLevel: this.nesting,
                });
              (e.usesFrontMatter = !!r.usesFrontMatter),
                this.resolveLinks(e.el);
            }),
            (t.prototype.onScroll = function () {}),
            (t.prototype.onFoldChange = function () {}),
            (t.prototype.onRenderComplete = function () {}),
            (t.prototype.onFileChange = function (e) {
              for (var t = 0, n = this.renderer.sections; t < n.length; t++) {
                var i = n[t];
                i.rendered && this.resolveLinks(i.el);
              }
            }),
            (t.prototype.resolveLinks = function (e) {
              for (
                var t = this.app,
                  n = this.renderer,
                  i = 0,
                  r = e.findAll("a.internal-link");
                i < r.length;
                i++
              ) {
                var o = r[i],
                  s = n.getInternalLinkHref(o);
                if (s) {
                  var a = xD(s),
                    l = t.metadataCache.getFirstLinkpathDest(
                      a,
                      this.getFile().path
                    );
                  o.toggleClass("is-unresolved", !l);
                }
              }
            }),
            (t.postProcess = function (e, t) {
              for (
                var n = t.sourcePath,
                  i = t.promises,
                  r = t.el,
                  o = t.displayMode,
                  s = t.remainingNestLevel,
                  a = void 0 === s ? $B : s,
                  l = 0,
                  c = r.findAll("code.language-query");
                l < c.length;
                l++
              ) {
                var u = c[l],
                  h = fb(u).trim(),
                  p = u.parentElement;
                t.addChild(jB(e, h, p, n));
              }
              for (var d = 0, f = cb.postProcessors; d < f.length; d++) {
                var g = (0, f[d])(r, t);
                g && g.then && i.push(g);
              }
              var m = r.findAll(".internal-embed:not(.is-loaded)");
              if (m.length > 0)
                for (var v = 0, y = m; v < y.length; v++) {
                  var b = y[v],
                    w = b.getAttribute("src"),
                    k = QB.load({
                      app: e,
                      linktext: w,
                      sourcePath: n,
                      containerEl: b,
                      displayMode: o,
                      showTitle: !0,
                      remainingNestLevel: a,
                    });
                  k && (t.addChild(k), i.push(k.loadFile()));
                }
              return t;
            }),
            (t.loadEmbed = function (e, t, n) {
              var i = e.app,
                r = e.linktext,
                o = e.showTitle,
                s = e.sourcePath,
                a = e.displayMode,
                l = e.remainingNestLevel,
                c = void 0 === l ? $B : l,
                u = e.state,
                h = SD(r).subpath,
                p = n.createDiv("markdown-embed");
              o &&
                !h &&
                p.createDiv({ cls: "markdown-embed-title", text: t.basename });
              var d = p.createDiv("markdown-embed-content");
              return a
                ? new UB(i, d, t, h, c - 1)
                : (p.createDiv("markdown-embed-link", function (e) {
                    Xy(e, Pm, 20),
                      nn(e, "Open link"),
                      zt(e),
                      e.onClickEvent(function (e) {
                        (0 !== e.button && 1 !== e.button) ||
                          (e.preventDefault(),
                          i.workspace.openLinkText(r, s, nw.isModEvent(e)));
                      });
                  }),
                  new WB(i, d, t, h, c - 1, u));
            }),
            (t.renderMarkdown = function (e, t, n, i) {
              return A(this, void 0, void 0, function () {
                var r, o, s, a, l, c, u, h, p, d;
                return D(this, function (f) {
                  switch (f.label) {
                    case 0:
                      for (
                        r = qg(e),
                          o = jg(r),
                          s = Ug(r),
                          a = tm(s),
                          t.appendChild(a),
                          l = [],
                          c = {
                            docId: Oe(16),
                            sourcePath: n,
                            frontmatter: o,
                            promises: l,
                            addChild: function (e) {
                              return i && i.addChild(e);
                            },
                            getSectionInfo: function () {
                              return null;
                            },
                            containerEl: t,
                            el: t,
                            displayMode: !0,
                          },
                          u = 0,
                          h = cb.postProcessors;
                        u < h.length;
                        u++
                      )
                        (p = h[u]), (d = p(t, c)) && d.then && l.push(d);
                      return l.length > 0 ? [4, Promise.all(l)] : [3, 2];
                    case 1:
                      f.sent(), (f.label = 2);
                    case 2:
                      return [2];
                  }
                });
              });
            }),
            t
          );
        })(rb);
      function jB(e, t, n, i) {
        var r = createDiv("internal-query");
        n.replaceWith(r),
          r.createDiv("internal-query-header", function (e) {
            e.createSpan("internal-query-header-icon", function (e) {
              return Xy(e, hm);
            }),
              e.createSpan({ cls: "internal-query-header-title", text: t });
          });
        var o = r.createDiv("search-result-container");
        return new KB(e, o, t, i);
      }
      var UB = (function (e) {
          function t(t, n, i, r, o) {
            var s = e.call(this) || this;
            return (
              (s.nesting = $B),
              (s.app = t),
              (s.containerEl = n),
              (s.file = i),
              (s.subpath = r),
              (s.nesting = o),
              s
            );
          }
          return (
            M(t, e),
            (t.prototype.loadFile = function () {
              return A(this, void 0, Promise, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d = this;
                return D(this, function (f) {
                  switch (f.label) {
                    case 0:
                      return (
                        (t = (e = this).app),
                        (n = e.file),
                        (i = e.subpath),
                        (r = t.metadataCache.getFileCache(n)),
                        (o = DD(r, i)),
                        [4, t.vault.cachedRead(n)]
                      );
                    case 1:
                      return (
                        (s = f.sent()),
                        o && (s = TD(s, r, o).content),
                        (a = qg(s)),
                        (l = jg(a)),
                        (c = Ug(a)),
                        (u = tm(c)),
                        (h = this.containerEl.createDiv(
                          "markdown-preview-view"
                        )).toggleClass("rtl", t.vault.getConfig("rightToLeft")),
                        h.appendChild(u),
                        (p = []),
                        _B.postProcess(this.app, {
                          docId: Oe(16),
                          sourcePath: n.path,
                          frontmatter: l,
                          promises: p,
                          addChild: function (e) {
                            return d.addChild(e);
                          },
                          getSectionInfo: function () {
                            return null;
                          },
                          containerEl: h,
                          el: h,
                          displayMode: !0,
                        }),
                        p.length > 0 ? [4, Promise.all(p)] : [3, 3]
                      );
                    case 2:
                      f.sent(), (f.label = 3);
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            t
          );
        })(nm),
        WB = (function (e) {
          function t(t, n, i, r, o, s) {
            var a = e.call(this, t, n) || this;
            return (
              (a.before = ""),
              (a.after = ""),
              (a.indent = ""),
              (a.file = i),
              (a.subpath = r),
              (a.nesting = o),
              (a.state = s),
              a.renderer.previewEl.onNodeInserted(function () {
                return a.renderer.onResize();
              }),
              a
            );
          }
          return (
            M(t, e),
            (t.prototype.loadFile = function () {
              return A(this, void 0, Promise, function () {
                var e, t, n, i, r, o, s, a, l, c, u, h;
                return D(this, function (p) {
                  switch (p.label) {
                    case 0:
                      return (
                        (t = (e = this).app),
                        (n = e.file),
                        (i = e.subpath),
                        (r = e.state),
                        (o = t.metadataCache.getFileCache(n)),
                        (s = DD(o, i)),
                        i && !s
                          ? (this.renderer.set(
                              "### Unable to find section " +
                                i +
                                " in " +
                                n.basename
                            ),
                            [2])
                          : [4, t.vault.cachedRead(n)]
                      );
                    case 1:
                      return (
                        (a = p.sent()),
                        (l = ""),
                        (c = ""),
                        (u = ""),
                        s
                          ? ((h = TD(a, o, s)),
                            (l = h.before),
                            (c = h.after),
                            (u = h.indent),
                            (a = h.content),
                            "heading" === s.type
                              ? this.containerEl.addClass(
                                  "markdown-embed-heading"
                                )
                              : "block" === s.type &&
                                this.containerEl.addClass(
                                  "markdown-embed-block"
                                ))
                          : this.containerEl.addClass("markdown-embed-page"),
                        (this.before = l),
                        (this.after = c),
                        (this.indent = u),
                        this.renderer.set(a),
                        this.renderer.previewEl.toggleClass(
                          "rtl",
                          t.vault.getConfig("rightToLeft")
                        ),
                        r &&
                          r.hasOwnProperty("scroll") &&
                          this.renderer.applyScrollDelayed(r.scroll, {
                            highlight: !0,
                            center: !0,
                          }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.edit = function (e) {
              var t = this;
              this.renderer.set(e);
              var n = this.indent;
              n &&
                (e = e
                  .split("\n")
                  .map(function (e) {
                    return n + e;
                  })
                  .join("\n"));
              var i = this.before + e + this.after;
              A(t, void 0, void 0, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.app.vault.modify(this.file, i)];
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.onFileChange = function (t) {
              e.prototype.onFileChange.call(this, t),
                t === this.file && this.loadFile();
            }),
            (t.prototype.getFile = function () {
              return this.file;
            }),
            t
          );
        })(qB),
        _B = (function (e) {
          function t(t) {
            var n = this,
              i = t.contentEl.createDiv("markdown-reading-view");
            return (
              (i.style.width = "100%"),
              (i.style.height = "100%"),
              ((n = e.call(this, t.app, i) || this).type = "preview"),
              (n.view = t),
              (n.search = new GB(n, i)),
              (n.backlinks = null),
              (n.renderer.addBottomPadding = !0),
              n.updateOptions(),
              n.onResize(),
              (n.onFoldChange = Tt(function () {
                return n.view.onMarkdownFold();
              }, 500)),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.show = function () {
              this.containerEl.show();
            }),
            (t.prototype.hide = function () {
              this.containerEl.hide();
            }),
            (t.prototype.get = function () {
              return this.renderer.text;
            }),
            (t.prototype.set = function (e, t) {
              t && this.clear(), this.renderer.set(e), this.updateBacklinks();
            }),
            (t.prototype.clear = function () {
              this.renderer.clear();
            }),
            (t.prototype.beforeUnload = function () {}),
            (t.prototype.rerender = function (e) {
              this.renderer.rerender(e);
            }),
            (t.prototype.getEphemeralState = function (e) {}),
            (t.prototype.setEphemeralState = function (e) {
              var t = this;
              if (e.focus) {
                var n = this.renderer.previewEl;
                (n.tabIndex = -1), n.focus();
              }
              e.hasOwnProperty("scroll") &&
                this.renderer.applyScrollDelayed(e.scroll);
              var i = function () {
                return A(t, void 0, void 0, function () {
                  var e;
                  return D(this, function (t) {
                    switch (t.label) {
                      case 0:
                        (e = 0), (t.label = 1);
                      case 1:
                        return e < 5
                          ? [4, this.view.onMarkdownScroll()]
                          : [3, 5];
                      case 2:
                        return t.sent() ? [2] : [4, qh(100 * (e + 1))];
                      case 3:
                        t.sent(), (t.label = 4);
                      case 4:
                        return e++, [3, 1];
                      case 5:
                        return [2];
                    }
                  });
                });
              };
              if (
                (void 0 !== e.line &&
                  e.line >= 0 &&
                  this.renderer.applyScrollDelayed(
                    e.line,
                    { highlight: !0 },
                    i
                  ),
                void 0 !== e.match)
              ) {
                var r = e.match,
                  o = r.content,
                  s = r.matches;
                if (s.length > 0) {
                  var a = Fe(o, s[0][0]);
                  this.renderer.applyScrollDelayed(a, { highlight: !0 }, i);
                }
              }
            }),
            (t.prototype.getScroll = function () {
              return this.renderer.getScroll();
            }),
            (t.prototype.applyScroll = function (e) {
              this.renderer.applyScroll(e);
            }),
            (t.prototype.getFoldInfo = function () {
              return this.renderer.getFoldInfo();
            }),
            (t.prototype.applyFoldInfo = function (e) {
              this.renderer.applyFoldInfo(e);
            }),
            (t.prototype.onResize = function () {
              this.renderer.onResize(),
                null !== this.view.scroll &&
                  this.renderer.applyScrollDelayed(this.view.scroll);
            }),
            (t.prototype.showSearch = function () {
              this.search.show();
            }),
            (t.prototype.updateOptions = function () {
              var e = this.app,
                t = this.renderer,
                n = e.vault,
                i = t.previewEl,
                r = n.getConfig("readableLineLength");
              i.toggleClass("is-readable-line-width", r);
              var o = n.getConfig("foldHeading");
              i.toggleClass("allow-fold-headings", o);
              var s = n.getConfig("foldIndent");
              i.toggleClass("allow-fold-lists", s),
                i.toggleClass("rtl", n.getConfig("rightToLeft")),
                o || t.unfoldAllHeadings(),
                s || t.unfoldAllLists(),
                i.toggleClass(
                  "show-frontmatter",
                  n.getConfig("showFrontmatter")
                );
              var a = n.getConfig("tabSize");
              (i.style.tabSize = String(a)),
                (Rg.globalOptions.breaks = !n.getConfig("strictLineBreaks")),
                this.rerender();
            }),
            (t.prototype.edit = function (e) {
              var t = this;
              this.renderer.set(e),
                this.view.triggerQuickPreview(),
                A(t, void 0, void 0, function () {
                  return D(this, function (e) {
                    switch (e.label) {
                      case 0:
                        return [4, this.view.save()];
                      case 1:
                        return e.sent(), [2];
                    }
                  });
                });
            }),
            (t.prototype.onScroll = function () {
              Date.now() - this.renderer.lastRender < 100 ||
                this.view.onMarkdownScroll();
            }),
            (t.prototype.getFile = function () {
              return this.view.file;
            }),
            (t.prototype.onRenderComplete = function () {
              e.prototype.onRenderComplete.call(this),
                null === this.search.highlightRanges &&
                  this.search.isActive &&
                  this.search.updateQuery();
            }),
            (t.prototype.foldAll = function () {
              var e = this.app.vault,
                t = e.getConfig("foldHeading"),
                n = e.getConfig("foldIndent");
              t && this.renderer.foldAllHeadings(),
                n && this.renderer.foldAllLists();
            }),
            (t.prototype.unfoldAll = function () {
              var e = this.app.vault,
                t = e.getConfig("foldHeading"),
                n = e.getConfig("foldIndent");
              t && this.renderer.unfoldAllHeadings(),
                n && this.renderer.unfoldAllLists();
            }),
            (t.prototype.getSelection = function () {
              return window.getSelection().toString();
            }),
            (t.prototype.setShowBacklinks = function (e) {
              var t = this,
                n = t.app,
                i = t.renderer,
                r = t.backlinks;
              e && !r
                ? (i.addFooter(),
                  i.footer.el.addClass("embedded-backlinks"),
                  (this.backlinks = this.addChild(
                    new zB(n, i.footer.el, i.previewEl)
                  )),
                  this.updateBacklinks())
                : !e &&
                  r &&
                  (i.removeFooter(),
                  this.removeChild(r),
                  (this.backlinks = null));
            }),
            (t.prototype.updateBacklinks = function () {
              var e = this.backlinks;
              if (e) {
                var t = null;
                this.view.currentMode === this && (t = this.getFile()),
                  (e.file = t),
                  e.update();
              }
            }),
            t
          );
        })(qB),
        GB = (function () {
          function e(e, t) {
            var n = this;
            (this.scope = null),
              (this.parentContainer = null),
              (this.searchContainer = null),
              (this.searchInputEl = null),
              (this.isActive = !1),
              (this.lastQuery = null),
              (this.highlightRanges = null),
              (this.selectedRange = -1),
              (this.lastText = null),
              (this.view = e);
            var i = (this.scope = new ew(e.app.scope));
            this.parentContainer = t;
            var r = (this.searchContainer = t.createDiv(
                "document-search-container"
              )),
              o = this.searchContainer.createDiv("document-search");
            (this.searchInputEl = o.createEl("input", {
              cls: "document-search-input",
              type: "text",
            })),
              this.searchInputEl.setAttribute(
                "placeholder",
                Lt("editor.search.placeholder-find")
              );
            var s = o.createDiv({
              cls: "document-search-buttons",
              type: "text",
            });
            s.createEl(
              "button",
              {
                cls: "document-search-button",
                text: Lt("editor.search.label-previous"),
              },
              function (e) {
                nn(e, "Shift + F3", { placement: "top" }),
                  e.addEventListener("click", function (e) {
                    e.preventDefault(), n.findPrevious();
                  });
              }
            ),
              s.createEl(
                "button",
                {
                  cls: "document-search-button",
                  text: Lt("editor.search.label-next"),
                },
                function (e) {
                  nn(e, "Enter or F3", { placement: "top" }),
                    e.addEventListener("click", function (e) {
                      e.preventDefault(), n.findNext();
                    });
                }
              ),
              s.createSpan("document-search-close-button", function (e) {
                nn(e, Lt("editor.search.label-exit-search"), {
                  placement: "top",
                }),
                  e.addEventListener("click", function (e) {
                    e.preventDefault(), n.hide();
                  });
              }),
              this.searchInputEl.addEventListener(
                "input",
                Tt(this.onSearchInput.bind(this), 150, !0)
              ),
              r.hide(),
              i.register([], "F3", this.findNext.bind(this)),
              i.register(["Mod"], "G", this.findNext.bind(this)),
              i.register(["Shift"], "F3", this.findPrevious.bind(this)),
              i.register(["Mod", "Shift"], "G", this.findPrevious.bind(this)),
              i.register([], "Enter", this.onEnter.bind(this)),
              i.register([], "Escape", this.hide.bind(this));
          }
          return (
            (e.prototype.show = function () {
              this.isActive = !0;
              var e = this,
                t = e.view,
                n = e.parentContainer,
                i = e.searchContainer,
                r = e.searchInputEl;
              i.show();
              var o = window.getSelection().toString();
              o && (r.value = o),
                r.focus(),
                r.select(),
                this.updateQuery(),
                t.app.keymap.pushScope(this.scope),
                n.addClass("is-searching");
            }),
            (e.prototype.hide = function () {
              this.isActive = !1;
              var e = this,
                t = e.view,
                n = e.parentContainer,
                i = e.searchContainer,
                r = e.searchInputEl;
              i.hide(),
                (r.value = ""),
                r.removeClass("mod-no-match"),
                n.removeClass("is-searching"),
                t.app.keymap.popScope(this.scope),
                this.updateQuery();
            }),
            (e.prototype.updateQuery = function () {
              var e = this.getQuery().toLowerCase(),
                t = this.view,
                n = this.searchInputEl,
                i = t.renderer,
                r = i.lastText;
              e || (r = null);
              var o = this.lastText !== r,
                s = this.lastQuery !== e;
              if (
                (o && (this.lastText = r),
                s && ((this.lastQuery = e), (this.selectedRange = -1)),
                o || s)
              ) {
                n.removeClass("mod-no-match");
                for (var a = 0, l = i.sections; a < l.length; a++) {
                  (p = l[a]).highlightRanges = null;
                }
                if ((i.queueRender(), e)) {
                  for (var c = [], u = 0, h = i.sections; u < h.length; u++) {
                    var p,
                      d = [];
                    Ah((p = h[u]).el, d);
                    for (
                      var f = d
                          .map(function (e) {
                            return e.textContent;
                          })
                          .join("")
                          .toLowerCase(),
                        g = [],
                        m = 0;
                      -1 !== (m = f.indexOf(e, m));

                    ) {
                      var v = m + e.length,
                        y = { section: p, start: m, end: v, active: !1 };
                      g.push(y), c.push(y), (m = v);
                    }
                    g.length > 0 && (p.highlightRanges = g);
                  }
                  (this.highlightRanges = c),
                    n.toggleClass("mod-no-match", 0 === c.length);
                } else this.highlightRanges = null;
              }
            }),
            (e.prototype.onSearchInput = function () {
              this.updateQuery(), this.selectRange(0);
            }),
            (e.prototype.findNext = function () {
              this.selectRange(this.selectedRange + 1);
            }),
            (e.prototype.findPrevious = function () {
              this.selectRange(this.selectedRange - 1);
            }),
            (e.prototype.selectRange = function (e) {
              var t = this.highlightRanges;
              if (t && 0 !== t.length) {
                e > t.length - 1 && (e = 0), e < 0 && (e = t.length - 1);
                var n = t[this.selectedRange];
                n && (n.active = !1), (this.selectedRange = e);
                var i = t[this.selectedRange];
                (i.active = !0), this.view.renderer.selectRange(i);
              }
            }),
            (e.prototype.getQuery = function () {
              return this.searchInputEl.value;
            }),
            (e.prototype.onEnter = function (e) {
              e.isComposing ||
                this.searchInputEl !== document.activeElement ||
                this.findNext();
            }),
            e
          );
        })(),
        KB = (function (e) {
          function t(t, n, i, r) {
            var o = e.call(this, n) || this;
            return (
              (o.searchQuery = null),
              (o.app = t),
              (o.query = i),
              (o.sourcePath = r),
              (o.dom = new OB(t, n, Lt("plugins.search.label-no-matches"))),
              (o.queue = new FB(t, o.dom)),
              o.addChild(o.queue),
              o
            );
          }
          return (
            M(t, e),
            (t.prototype.onload = function () {
              var e = this,
                t = e.app,
                n = e.dom,
                i = e.sourcePath;
              n.emptyResults();
              try {
                var r = new KP(this.query, !1);
                if (!r.matcher) return;
                this.searchQuery = r;
                var o = this.queue.start();
                $P(t, r.requiredInputs, o, function (e, t, o) {
                  e.path === i &&
                    (t = t.replace(/```query([\s\S]*?)(```|$)/g, function (e) {
                      return e.replace(/./g, " ");
                    }));
                  var s = r.match(e, t, o);
                  s
                    ? n.addResult(e, s, t).renderContentMatches()
                    : n.removeResult(e);
                });
              } catch (e) {
                console.log(e);
              }
            }),
            (t.prototype.onResize = function () {
              this.dom.onResize();
            }),
            t
          );
        })(rb),
        $B = 5,
        YB = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (i.loadFile = n), i;
          }
          return (
            M(t, e),
            (t.prototype.loadFile = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  return [2];
                });
              });
            }),
            t
          );
        })(rb),
        JB = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (
              (i.onClick = function (e) {
                var t = i.ctx,
                  n = t.app,
                  r = t.linktext,
                  o = t.sourcePath;
                n.workspace.openLinkText(r, o, nw.isModEvent(e));
              }),
              (i.reload = Tt(
                function () {
                  if (i._loaded && !(i._children.length > 0)) {
                    var e = i.ctx,
                      t = e.app,
                      n = e.linktext,
                      r = e.sourcePath,
                      o = SD(n).path;
                    if (t.metadataCache.getFirstLinkpathDest(o, r)) {
                      i.containerEl.removeClass("file-embed", "mod-empty"),
                        i.containerEl.removeEventListener("click", i.onClick);
                      var s = QB.load(i.ctx);
                      s && (i.addChild(s), s.loadFile());
                    }
                  }
                },
                500,
                !0
              )),
              (i.ctx = n),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.loadFile = function () {
              return A(this, void 0, Promise, function () {
                var e, t, n, i;
                return D(this, function (r) {
                  return (
                    (t = (e = this).containerEl),
                    (n = e.ctx),
                    (i = n.linktext),
                    t.appendText(
                      Lt("plugins.page-preview.label-empty-note", {
                        linktext: i,
                      })
                    ),
                    t.addClass("file-embed", "mod-empty"),
                    t.addEventListener("click", this.onClick),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.onload = function () {
              var e = this.ctx.app;
              this.registerEvent(e.vault.on("create", this.reload)),
                this.registerEvent(e.vault.on("rename", this.reload));
            }),
            t
          );
        })(rb),
        QB = (function () {
          function e() {}
          return (
            (e.load = function (e) {
              var t = this,
                n = e.app,
                i = e.linktext,
                r = e.sourcePath,
                o = e.containerEl,
                s = e.remainingNestLevel,
                a = void 0 === s ? $B : s,
                l = SD(i),
                c = l.path,
                u = l.subpath,
                h = n.metadataCache.getFirstLinkpathDest(c, r);
              o.empty();
              var p = null;
              if (h) {
                var d = h.extension;
                je.contains(d)
                  ? (o.addClass("image-embed"),
                    (p = new YB(o, function () {
                      return fw.displayInEl(h, n, o);
                    })))
                  : Ue.contains(d)
                  ? (o.addClass("media-embed"),
                    (p = new YB(o, function () {
                      return pw.displayInEl(h, n, o);
                    })))
                  : We.contains(d)
                  ? (o.addClass("media-embed"),
                    (p = new YB(o, function () {
                      return hI.displayInEl(h, n, o);
                    })))
                  : _e.contains(d)
                  ? (o.addClass("pdf-embed"), (p = new cI(n, o, h, u)))
                  : Ge.contains(d) && a > 0
                  ? (p = _B.loadEmbed(e, h, o))
                  : (o.addClass("file-embed"),
                    o.createDiv({ cls: "file-embed-title" }, function (e) {
                      e.createSpan({ cls: "file-embed-icon" }, function (e) {
                        Xy(e, dm, 22);
                      }),
                        e.appendText(" " + h.name);
                    }),
                    (p = new YB(o, function () {
                      return A(t, void 0, void 0, function () {
                        return D(this, function (e) {
                          return [2];
                        });
                      });
                    })),
                    o.addEventListener("click", function () {
                      n.openWithDefaultApp(h.path);
                    }),
                    nn(o, Lt("interface.embed-open-in-default-app-tooltip")));
              } else p = new JB(o, e);
              return o.addClass("is-loaded"), p;
            }),
            e
          );
        })(),
        XB = window.ResizeObserver,
        ZB = Or.define(),
        eR = new Set([
          "em",
          "strong",
          "inline-code",
          "strikethrough",
          "highlight",
          "link",
          "image",
          "hmd-internal-link",
          "hmd-embed",
          "formatting-link",
          "footref",
        ]),
        tR = /^\s*(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/;
      var nR = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.start = -1), (t.end = -1), t;
          }
          return (
            M(t, e),
            (t.prototype.setPos = function (e, t) {
              (this.start = e), (this.end = t);
            }),
            (t.prototype.hookClickHandler = function (e, t) {
              var n = this;
              t.addEventListener("click", function (i) {
                i.defaultPrevented ||
                  (n.selectElement(e, t), i.preventDefault());
              });
            }),
            (t.prototype.addEditButton = function (e, t) {
              var n = this,
                i = t.createDiv("edit-block-button");
              Xy(i, Ov),
                nn(i, "Edit this block"),
                i.addEventListener("click", function () {
                  n.selectElement(e, t);
                });
            }),
            (t.prototype.selectElement = function (e, t) {
              var n = this.start,
                i = this.end;
              if (n < 0 || i < 0)
                !(function (e, t) {
                  try {
                    var n = t.posAtDOM(e);
                    t.dispatch({ selection: { head: n, anchor: n } }),
                      t.focus();
                  } catch (e) {}
                })(t, e);
              else {
                eb.isMobile && (i = n);
                try {
                  e.dispatch({ selection: { head: n, anchor: i } }), e.focus();
                } catch (e) {}
              }
            }),
            (t.prototype.resizeWidget = function (e, t) {
              XB &&
                new XB(function () {
                  return e.requestMeasure();
                }).observe(t, { box: "border-box" });
            }),
            t
          );
        })(ks),
        iR = xs.replace({}),
        rR = xs.replace({}),
        oR = xs.mark({ class: "cm-underline" }),
        sR = xs.mark({ class: "cm-transparent" }),
        aR = xs.mark({ class: "is-unresolved" }),
        lR = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.toDOM = function (e) {
              return createSpan({
                cls: "cm-blockquote-border cm-transparent",
                text: ">",
              });
            }),
            t
          );
        })(ks),
        cR = xs.replace({ widget: new lR() }),
        uR = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return e instanceof t;
            }),
            (t.prototype.toDOM = function (e) {
              var t = createDiv("hr cm-line");
              return (
                t.createEl("br"),
                t.addEventListener("click", function () {
                  var n = e.posAtDOM(t),
                    i = e.state.doc.lineAt(n);
                  e.dispatch({ selection: { head: i.from, anchor: i.to } });
                }),
                t.createEl("hr"),
                t
              );
            }),
            Object.defineProperty(t.prototype, "estimatedHeight", {
              get: function () {
                return 20;
              },
              enumerable: !1,
              configurable: !0,
            }),
            t
          );
        })(ks),
        hR = xs.replace({ widget: new uR(), block: !0 }),
        pR = xs.mark({ class: "list-bullet" }),
        dR = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (n.content = t), n;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return e instanceof t && e.content === this.content;
            }),
            (t.prototype.updateDOM = function (e) {
              return (
                e instanceof HTMLInputElement &&
                (e.setAttribute("data-task", this.content),
                (e.checked = " " !== this.content),
                !0)
              );
            }),
            (t.prototype.toDOM = function (e) {
              var t = createEl("input", {
                cls: "task-list-item-checkbox",
                type: "checkbox",
              });
              return (
                t.setAttribute("data-task", this.content),
                (t.checked = " " !== this.content),
                t.addEventListener("mousedown", function (e) {
                  e.preventDefault();
                }),
                t.addEventListener("input", function () {
                  var n = e.posAtDOM(t),
                    i = e.state.doc.lineAt(n),
                    r = i.text.search(/\[.\]/);
                  if (-1 !== r) {
                    var o = i.text.charAt(r + 1),
                      s = i.from + r + 1;
                    e.dispatch({
                      changes: [
                        { from: s, to: s + 1, insert: " " === o ? "x" : " " },
                      ],
                    });
                  }
                }),
                t
              );
            }),
            t
          );
        })(ks),
        fR = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return e instanceof t;
            }),
            (t.prototype.toDOM = function (e) {
              return createSpan("external-link");
            }),
            (t.prototype.ignoreEvent = function (e) {
              return !1;
            }),
            t
          );
        })(ks),
        gR = xs.widget({ widget: new fR() }),
        mR = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            return (i.url = t), (i.title = n), i;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return (
                e instanceof t && this.url === e.url && this.title === e.title
              );
            }),
            (t.prototype.updateDOM = function (e) {
              return (
                e instanceof HTMLImageElement &&
                (e.src !== this.url && (e.src = this.url),
                this.applyTitle(e, this.title),
                !0)
              );
            }),
            (t.prototype.toDOM = function (e) {
              var t = createEl("img");
              return (
                (t.src = this.url),
                this.applyTitle(t, this.title),
                this.hookClickHandler(e, t),
                this.resizeWidget(e, t),
                t
              );
            }),
            (t.prototype.applyTitle = function (e, t) {
              var n = 0,
                i = 0;
              if (t) {
                var r = function (e) {
                    var t = Sg(e);
                    return !!t && ((n = t.x), (i = t.y), !0);
                  },
                  o = t.lastIndexOf("|");
                -1 !== o
                  ? r(t.substr(o + 1)) && (t = t.substr(0, o))
                  : r(t) && (t = "");
              }
              n > 0 && (e.width = n),
                i > 0 && (e.height = i),
                e.setAttr("alt", t);
            }),
            Object.defineProperty(t.prototype, "estimatedHeight", {
              get: function () {
                return 30;
              },
              enumerable: !1,
              configurable: !0,
            }),
            t
          );
        })(nR),
        vR = (function () {
          function e(e) {
            (this.tree = Zc(e.state)), (this.decorations = this.buildDeco(e));
          }
          return (
            (e.prototype.update = function (e) {
              var t = Zc(e.state);
              t.length < e.view.viewport.to ||
              e.view.composing ||
              LR.has(e.view)
                ? (this.decorations = this.decorations.map(e.changes))
                : (t != this.tree ||
                    e.viewportChanged ||
                    e.selectionSet ||
                    ah(e.transactions, ZB) ||
                    ah(e.transactions, Qu) ||
                    ah(e.transactions, Xu)) &&
                  ((this.tree = t),
                  (this.decorations = this.buildDeco(e.view)));
            }),
            e
          );
        })(),
        yR = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.update = function (t) {
              var n = t.state,
                i = t.view;
              if (!t.docChanged && t.selectionSet && !LR.has(i)) {
                var r = n.selection,
                  o = this.decorations,
                  s = !1,
                  a = function (e, t, n, i) {
                    return (
                      t <= e &&
                        e <= n &&
                        (i === iR
                          ? (e = Math.min(t, e))
                          : i === rR && (e = Math.max(n, e))),
                      e
                    );
                  },
                  l = r.ranges.map(function (e) {
                    for (
                      var t = e.anchor,
                        n = e.head,
                        i = t,
                        r = n,
                        l = !1,
                        c = function (e, t, n) {
                          var o = a(i, e, t, n),
                            s = a(r, e, t, n);
                          (o === i && s === r) || ((i = o), (r = s), (l = !0));
                        },
                        u = 0;
                      u < 10 &&
                      ((l = !1),
                      o.between(i, i, c),
                      i !== r && o.between(r, r, c),
                      l);
                      u++
                    );
                    return i !== t || r !== n ? ((s = !0), Zi.range(i, r)) : e;
                  });
                s &&
                  window.setTimeout(function () {
                    r === n.selection &&
                      i.dispatch({ selection: Zi.create(l, r.mainIndex) });
                  });
              }
              e.prototype.update.call(this, t);
            }),
            (t.prototype.buildDeco = function (e) {
              if (!this.tree.length) return xs.none;
              for (
                var t = e.state,
                  n = e.hasFocus ? t.selection.ranges : [],
                  i = t.field(eh),
                  r = function (e, t) {
                    return rh(n, e, t) || oh(i, e, t);
                  },
                  o = new io(),
                  s = 0,
                  a = function (e, n) {
                    var i = e,
                      a = e,
                      c = null,
                      u = function (e) {
                        c || (c = []), c.push(e);
                      },
                      h = function (e) {
                        if (c) {
                          if (r(i, a))
                            for (var t = 0, n = c; t < n.length; t++) {
                              (h = n[t]).always && o.add(h.from, h.to, h.deco);
                            }
                          else {
                            if (c.length > 1) {
                              var s = c.last();
                              s.deco === iR && (s.deco = rR);
                            }
                            for (var l = 0, u = c; l < u.length; l++) {
                              var h = u[l];
                              o.add(h.from, h.to, h.deco);
                            }
                          }
                          c = null;
                        }
                        (i = e), (a = e);
                      },
                      p = "",
                      d = !1;
                    l.tree.iterate({
                      from: e,
                      to: n,
                      enter: function (e, n, i) {
                        var l = e.prop(Gu),
                          c = function () {
                            return t.doc.sliceString(n, i);
                          };
                        if (((n === a && l) || h(n), l)) {
                          if (n < s) return;
                          s = i;
                          var f = l.split(" "),
                            g = new Set(f);
                          if (g.has("hmd-codeblock")) return;
                          if (g.has("formatting-header")) {
                            var m = t.doc.lineAt(n);
                            return void (
                              r(m.from, m.to) ||
                              m.text.trim() === c().trim() ||
                              o.add(n, i, iR)
                            );
                          }
                          if (g.has("formatting-quote"))
                            return void (
                              (function (e) {
                                var n = t.doc.lineAt(e);
                                return r(n.from, n.to);
                              })(n) ||
                              (g.has("quote-1")
                                ? o.add(n, n + 1, sR)
                                : o.add(n, n + 1, cR))
                            );
                          var v = f.some(function (e) {
                              return eR.has(e);
                            }),
                            y = g.has("formatting"),
                            b = g.has("string") && g.has("url"),
                            w = g.has("link") && !g.has("url") && !y,
                            k =
                              g.has("hmd-internal-link") &&
                              !g.has("link-has-alias") &&
                              !g.has("link-alias-pipe") &&
                              !g.has("hmd-embed"),
                            C = w || k,
                            x = g.has("image"),
                            S =
                              g.has("formatting-link") ||
                              g.has("link-has-alias") ||
                              g.has("link-alias-pipe"),
                            E = g.has("formatting-task"),
                            M = g.has("formatting-link-end") || b,
                            L = g.has("formatting-list-ul"),
                            A = g.has("url") && !g.has("string");
                          if (
                            (x ? (d = !0) : d && !g.has("url") && (d = !1),
                            g.has("formatting-link-start") &&
                              t.doc.length >= i + 2 &&
                              "]]" === t.doc.sliceString(i, i + 2))
                          )
                            return;
                          if (
                            g.has("formatting-link-end") &&
                            n >= 2 &&
                            "[[" === t.doc.sliceString(n - 2, n)
                          )
                            return;
                          var D = S || b || C || E || L || A;
                          if (
                            (g.has("hmd-barelink") &&
                              !g.has("footref") &&
                              (y = D = !1),
                            S && g.has("link") && g.has("url"))
                          )
                            return (
                              r(n, i) || u({ from: n, to: i, deco: oR }),
                              i + 1 < t.doc.length &&
                                ">" === t.doc.sliceString(i, i + 1) &&
                                u({ from: i, to: i + 1, deco: rR }),
                              void (a = i + 1)
                            );
                          if (
                            (((S && g.has("link") && "]" === c()) ||
                              (y && b && "(" === c())) &&
                              (M = !0),
                            (v || D) && ((a = i), y || D))
                          ) {
                            var T = { from: n, to: i, deco: M ? rR : iR };
                            if (E) {
                              var P = t.doc.sliceString(n + 1, n + 2);
                              T.deco = xs.widget({ widget: new dR(P) });
                            } else if (L) {
                              var O = (m = t.doc.lineAt(n)).text.match(ph);
                              (O && O[6]) ||
                                ((T.deco = pR), (T.to = a = n + 1));
                            } else if (C) {
                              var F = c();
                              k &&
                                F.length > 1 &&
                                F.startsWith("#") &&
                                (u({ from: n, to: n + 1, deco: iR }), T.from++),
                                (T.deco = oR);
                            } else A && (T.deco = oR);
                            u(T);
                          }
                          g.has("url") && !y
                            ? (p = c())
                            : g.has("url") && y && p && ")" === c() && !d
                            ? (fg(p) ||
                                u({ from: i, to: i, always: !0, deco: gR }),
                              (p = ""))
                            : (p = "");
                        }
                      },
                    }),
                      h(0);
                  },
                  l = this,
                  c = 0,
                  u = e.visibleRanges;
                c < u.length;
                c++
              ) {
                var h = u[c];
                a(h.from, h.to);
              }
              return o.finish();
            }),
            t
          );
        })(vR),
        bR = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.buildDeco = function (e) {
              if (!this.tree.length) return xs.none;
              for (
                var t = e.state, n = new io(), i = 0, r = e.visibleRanges;
                i < r.length;
                i++
              ) {
                var o = r[i],
                  s = o.from,
                  a = o.to;
                this.tree.iterate({
                  from: s,
                  to: a,
                  enter: function (e, i, r) {
                    var o = e.prop(Ku);
                    if (o && o.contains("HyperMD-task-line")) {
                      var s = t.doc.lineAt(i).text.match(ph);
                      s &&
                        s[6] &&
                        n.add(
                          i,
                          i,
                          xs.line({ attributes: { "data-task": s[6] } })
                        );
                    }
                  },
                });
              }
              return n.finish();
            }),
            t
          );
        })(vR),
        wR = (function (e) {
          function t(t, n, i, r) {
            var o = e.call(this) || this;
            (o.sourcePath = n), (o.href = i);
            var s = (o.containerEl = createDiv("internal-embed"));
            (s.tabIndex = -1), s.setAttr("src", i), o.applyTitle(r);
            var a = QB.load({
              app: t,
              linktext: i,
              sourcePath: n,
              containerEl: s,
              displayMode: !1,
              showTitle: !0,
              remainingNestLevel: 5,
            });
            return a && ((o.child = a), a.loadFile()), o;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return e === this;
            }),
            (t.prototype.updateDOM = function (e) {
              return !1;
            }),
            (t.prototype.toDOM = function (e) {
              var t = this.containerEl;
              return (
                this.hookClickHandler(e, t),
                this.resizeWidget(e, t),
                t.addEventListener("mousedown", function (t) {
                  0 === t.button && e.hasFocus && t.preventDefault();
                }),
                t
              );
            }),
            (t.prototype.applyTitle = function (e) {
              var t = this.containerEl;
              this.title = e;
              var n = 0,
                i = 0;
              if (e) {
                var r = function (e) {
                    var t = Sg(e);
                    return !!t && ((n = t.x), (i = t.y), !0);
                  },
                  o = e.lastIndexOf("|");
                -1 !== o
                  ? r(e.substr(o + 1)) && (e = e.substr(0, o))
                  : r(e) && (e = "");
              }
              t.setAttr("alt", e),
                t.setAttr("width", 0 === n ? "" : String(n)),
                t.setAttr("height", 0 === i ? "" : String(i));
              var s = t.firstChild;
              s &&
                s instanceof HTMLImageElement &&
                (s.setAttr("alt", e),
                s.setAttr("width", 0 === n ? "" : String(n)),
                s.setAttr("height", 0 === i ? "" : String(i)));
            }),
            Object.defineProperty(t.prototype, "estimatedHeight", {
              get: function () {
                return 100;
              },
              enumerable: !1,
              configurable: !0,
            }),
            t
          );
        })(nR),
        kR = (function (e) {
          function t(t, n, i, r) {
            var o = e.call(this) || this;
            (o.children = []),
              (o.installed = !1),
              (o.app = t),
              (o.view = n),
              (o.lang = i),
              (o.code = r);
            var s = (o.containerEl = createDiv(
              "cm-preview-code-block cm-embed-block"
            ));
            s.tabIndex = -1;
            var a = s.createEl("pre"),
              l = a.createEl("code", "language-" + i);
            if ((db.set(l, r), "mermaid" === i)) ub(n.contentEl, [l]);
            else if ("query" === i) o.addChild(jB(t, r, a, n.file.path));
            else if (cb.codeBlockPostProcessors.hasOwnProperty(i)) {
              s.empty();
              var c = s.createDiv("block-language-" + i);
              (0, cb.codeBlockPostProcessors[i])(r, c, {
                docId: Oe(16),
                sourcePath: n.file.path,
                frontmatter: {},
                promises: [],
                addChild: function (e) {
                  return o.addChild(e);
                },
                getSectionInfo: function (e) {
                  return o.containerEl.contains(e)
                    ? {
                        lineStart: o.lineStart,
                        lineEnd: o.lineEnd,
                        text: o.view.editor.getValue(),
                      }
                    : null;
                },
                containerEl: n.contentEl,
                el: c,
              });
              var u = s.findAll(".internal-embed:not(.is-loaded)");
              if (u.length > 0)
                for (var h = 0, p = u; h < p.length; h++) {
                  var d = p[h],
                    f = d.getAttribute("src"),
                    g = QB.load({
                      app: t,
                      linktext: f,
                      sourcePath: n.file.path,
                      containerEl: d,
                      displayMode: !0,
                      showTitle: !0,
                      remainingNestLevel: $B,
                    });
                  g && (o.addChild(g), g.loadFile());
                }
            } else l.setText(r);
            return o;
          }
          return (
            M(t, e),
            (t.canRenderLang = function (e) {
              return (
                "mermaid" === e ||
                "query" === e ||
                cb.codeBlockPostProcessors.hasOwnProperty(e)
              );
            }),
            (t.prototype.eq = function (e) {
              return (
                e instanceof t && this.lang === e.lang && this.code === e.code
              );
            }),
            (t.prototype.updateDOM = function (e) {
              return !1;
            }),
            (t.prototype.toDOM = function (e) {
              var t = this.containerEl;
              return this.addEditButton(e, t), this.resizeWidget(e, t), t;
            }),
            (t.prototype.addChild = function (e) {
              this.view.addChild(e), this.children.push(e);
            }),
            t
          );
        })(nR),
        CR = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            return (i.math = t), (i.block = n), i;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return (
                e instanceof t && this.math === e.math && this.block === e.block
              );
            }),
            (t.prototype.updateDOM = function (e) {
              var t = this.block;
              return (
                ((t && e instanceof HTMLDivElement) ||
                  (!t && e instanceof HTMLSpanElement)) &&
                (this.render(e), !0)
              );
            }),
            (t.prototype.toDOM = function (e) {
              var t = createEl(this.block ? "div" : "span", "math");
              return (
                this.block &&
                  (t.createEl("br"),
                  t.createEl("br"),
                  this.addEditButton(e, t)),
                this.hookClickHandler(e, t),
                this.resizeWidget(e, t),
                this.render(t),
                t
              );
            }),
            (t.prototype.render = function (e) {
              var t = this;
              ip.then(function () {
                var n = t,
                  i = n.math,
                  r = n.block;
                e.toggleClass("math-block", r),
                  e.toggleClass("cm-embed-block", r);
                var o = e.find(".edit-block-button");
                e.empty();
                try {
                  var s = op(i, r);
                  e.appendChild(s);
                } catch (t) {
                  e.appendText(i);
                }
                o && e.appendChild(o), up();
              });
            }),
            Object.defineProperty(t.prototype, "estimatedHeight", {
              get: function () {
                return 50;
              },
              enumerable: !1,
              configurable: !0,
            }),
            t
          );
        })(nR),
        xR = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            return (i.lang = t), (i.code = n), i;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return !1;
            }),
            (t.prototype.toDOM = function (e) {
              var t = this,
                n = createSpan({ cls: "code-block-flair", text: this.lang });
              return (
                nn(n, Lt("interface.menu.copy")),
                n.addEventListener("click", function () {
                  return A(t, void 0, void 0, function () {
                    var e;
                    return D(this, function (t) {
                      switch (t.label) {
                        case 0:
                          return (
                            (e = this.code).endsWith("\n") &&
                              (e = e.substr(0, e.length - 1)),
                            [4, navigator.clipboard.writeText(e)]
                          );
                        case 1:
                          return (
                            t.sent(),
                            new lw(Lt("interface.copied", { item: "" })),
                            [2]
                          );
                      }
                    });
                  });
                }),
                n
              );
            }),
            t
          );
        })(ks),
        SR = ["script", "style", "link", "meta", "object", "embed", "webview"],
        ER = (function (e) {
          function t(t, n, i) {
            var r = e.call(this) || this;
            return (r.app = t), (r.html = n), (r.block = i), r;
          }
          return (
            M(t, e),
            (t.prototype.eq = function (e) {
              return (
                e instanceof t && this.html === e.html && this.block === e.block
              );
            }),
            (t.prototype.toDOM = function (e) {
              var t = this.block,
                n = this.html,
                i = createEl(
                  t ? "div" : "span",
                  "cm-html-embed" + (t ? " cm-embed-block" : "")
                );
              return (
                (i.tabIndex = -1),
                this.hookClickHandler(e, i),
                i.appendChild(tm(n)),
                t && this.addEditButton(e, i),
                this.app.fixFileLinks(i),
                this.resizeWidget(e, i),
                i
              );
            }),
            Object.defineProperty(t.prototype, "estimatedHeight", {
              get: function () {
                return 40;
              },
              enumerable: !1,
              configurable: !0,
            }),
            t
          );
        })(nR);
      function MR(e, t) {
        var n = e.app,
          i = [],
          r = [];
        return lr.define({
          create: function () {
            return xs.none;
          },
          update: function (o, s) {
            var a = s.state,
              l = !0;
            (t.composing || LR.has(t)) && (l = !1);
            var c = eu(a, t.viewport.to, 20);
            if (
              (c || (l = !1),
              (ah([s], ZB) || ah([s], Qu) || ah([s], Xu)) && (l = !0),
              !l)
            )
              return o.map(s.changes);
            c || (c = Zc(a));
            var u = a.doc,
              h = t.hasFocus ? a.selection.ranges : [],
              p = a.field(eh),
              d = function (e, t) {
                return rh(h, e, t) || oh(p, e, t);
              },
              f = e.file ? e.file.path : "",
              g = [],
              m = i;
            i = [];
            var v = r;
            r = [];
            var y = !1,
              b = -1,
              w = -1,
              k = -1,
              C = "",
              x = !1,
              S = "",
              E = "",
              M = -1,
              L = -1,
              A = -1,
              D = -1,
              T = -1,
              P = !1,
              O = -1,
              F = "",
              I = -1,
              N = "",
              B = function (t, r, o) {
                for (
                  var s = xg(t),
                    a = s.href,
                    l = s.title,
                    c = null,
                    u = 0,
                    h = m;
                  u < h.length;
                  u++
                ) {
                  var p = h[u];
                  if (p.sourcePath === f && p.href === a) {
                    (c = p), m.remove(p);
                    break;
                  }
                }
                return (
                  c
                    ? c.title !== l && c.applyTitle(l)
                    : (c = new wR(n, f, a, l)).child && e.addChild(c.child), // load dom node
                  c.setPos(r, o),
                  i.push(c),
                  c
                );
              },
              R = function (e, t, n) {
                var i = u.lineAt(t),
                  r = i.from,
                  o = i.to,
                  s = i.text,
                  a =
                    "" === s.substr(0, t - r).trim() &&
                    "" === s.substr(n - r).trim();
                a
                  ? d(r, o)
                    ? g.push(
                        xs.widget({ widget: e, block: a, side: 1 }).range(o)
                      )
                    : g.push(
                        xs.replace({ widget: e, block: a, side: 1 }).range(r, o)
                      )
                  : d(t, n)
                  ? g.push(xs.widget({ widget: e, side: 1 }).range(n))
                  : g.push(xs.replace({ widget: e, side: 1 }).range(t, n));
              };
            c.iterate({
              enter: function (t, i, o) {
                var s = t.prop(Gu);
                if (s)
                  if ((_ = new Set(s.split(" "))).has("hmd-codeblock"));
                  else if (_.has("formatting-math-begin"))
                    (D = i), (T = o), (P = _.has("math-block"));
                  else if (-1 !== D) {
                    if (_.has("formatting-math-end")) {
                      var a = i,
                        l = o,
                        c = P,
                        h = u.sliceString(T, a);
                      (p = new CR(h, c)).setPos(
                        c && h.startsWith("\n") ? T + 1 : T,
                        c && h.endsWith("\n") ? a - 1 : a
                      ),
                        (c =
                          c &&
                          (function (e, t) {
                            var n = u.lineAt(e),
                              i = n.from,
                              r = n.text,
                              o = u.lineAt(t),
                              s = o.from,
                              a = o.text;
                            return (
                              "" === r.substr(0, e - i).trim() &&
                              "" === a.substr(t - s).trim()
                            );
                          })(D, l)),
                        d(D, l)
                          ? P &&
                            g.push(
                              xs
                                .widget({ widget: p, block: c, side: 1 })
                                .range(l)
                            )
                          : g.push(
                              xs
                                .replace({ widget: p, block: c, side: 1 })
                                .range(D, l)
                            ),
                        (D = -1),
                        (T = -1);
                    }
                  } else if (_.has("formatting-link-start"))
                    (y = _.has("formatting-embed")), (b = i), (w = o);
                  else if (b > -1)
                    if (_.has("hmd-internal-link"))
                      (C += u.sliceString(i, o)), (k = o);
                    else {
                      if (_.has("formatting-link-end") && C)
                        if (y) {
                          var p = B(C, w, k);
                          R(p, b, o);
                        } else {
                          var m = SD((H = xg(C).href)).path;
                          n.metadataCache.getFirstLinkpathDest(m, f) ||
                            g.push(aR.range(w, k));
                        }
                      (C = ""), (b = -1);
                    }
                  else if (_.has("image-marker")) (x = !0), (M = i);
                  else if (_.has("image-alt-text") && !_.has("formatting"))
                    S = u.sliceString(i, o);
                  else if (x && _.has("url") && !_.has("formatting"))
                    (E = u.sliceString(i, o)), (L = i), (A = o);
                  else if (x && E && _.has("formatting")) {
                    p = void 0;
                    if (fg((E = mg(E)))) {
                      var z = void 0;
                      try {
                        z = decodeURI(E);
                      } catch (e) {
                        return;
                      }
                      var H = yg(z).trim();
                      p = B(H + "|" + S, M, o);
                    } else
                      (E = gg(E)),
                        eb.isDesktopApp &&
                          E.startsWith("file:///") &&
                          (E = "app://local/" + E.substr("file:///".length)),
                        (p = new mR(E, S)).setPos(L, A);
                    R(p, M, o),
                      (x = !1),
                      (E = ""),
                      (S = ""),
                      (M = -1),
                      (L = -1),
                      (A = -1);
                  } else if (_.has("hmd-html-begin")) I = i;
                  else if (I > -1 && !N && _.has("tag"))
                    N = u.sliceString(i, o);
                  else if (_.has("hmd-html-end") && N && !SR.contains(N)) {
                    var V = o,
                      q = u.sliceString(I, V),
                      j = u.lineAt(I),
                      U = u.lineAt(V);
                    c = !(function (e) {
                      if (!e || !Vh.test(e)) return !1;
                      if (Ih.has(e)) return Ih.get(e);
                      var t, n;
                      try {
                        (t = document.createElement(e)),
                          document.body.appendChild(t),
                          (n = getComputedStyle(t).display);
                      } catch (e) {}
                      t && document.body.removeChild(t);
                      var i = n && n.startsWith("inline");
                      return Ih.set(e, i), i;
                    })(N);
                    if (
                      (u.sliceString(j.from, I).trim() ||
                        u.sliceString(V, U.to).trim() ||
                        ((I = j.from), (V = U.to)),
                      !d(I, V))
                    )
                      (p = new ER(n, q, c)).setPos(I, V),
                        g.push(
                          xs
                            .replace({ widget: p, block: c, side: 1 })
                            .range(I, V)
                        );
                    (I = -1), (N = "");
                  } else _.has("hr") && (d(i, o) || g.push(hR.range(i, o)));
                var W = t.prop(Ku);
                if (W) {
                  var _;
                  if (
                    (_ = new Set(W.split(" "))).has("HyperMD-codeblock-begin")
                  ) {
                    var G = u.lineAt(i).text.match(tR);
                    (F = ""), G && (F = G[2]), (O = i);
                  }
                  if (_.has("HyperMD-codeblock-end") && -1 !== O) {
                    var K = O;
                    if (((O = -1), d(K, o))) return;
                    if ((U = u.lineAt(i)).number <= 1) return;
                    if ((j = u.lineAt(K)).number >= u.lines) return;
                    var $ = u.line(j.number + 1).from,
                      Y = u.line(U.number - 1).to,
                      J = u.sliceString($, Y);
                    if (kR.canRenderLang(F)) {
                      for (var Q = null, X = 0, Z = v; X < Z.length; X++) {
                        var ee = Z[X];
                        if (ee.lang === F && ee.code === J) {
                          (Q = ee), v.remove(Q);
                          break;
                        }
                      }
                      Q || (Q = new kR(n, e, F, J)),
                        Q.setPos($, Y),
                        (Q.lineStart = j.number - 1),
                        (Q.lineEnd = U.number - 1),
                        r.push(Q),
                        g.push(
                          xs
                            .replace({ widget: Q, block: !0, side: 0 })
                            .range(K, o)
                        );
                    } else {
                      var te = F;
                      try {
                        var ne = CodeMirror.findModeByName(te);
                        ne && "null" !== ne.name && (te = ne.name);
                      } catch (e) {}
                      g.push(iR.range(j.from, j.to)),
                        g.push(
                          xs.widget({ widget: new xR(te, J) }).range(j.to)
                        ),
                        g.push(rR.range(U.from, U.to));
                    }
                  }
                }
              },
            });
            for (var z = 0, H = m; z < H.length; z++) {
              var V = H[z];
              V.child && e.removeChild(V.child);
            }
            for (var q = 0, j = v; q < j.length; q++)
              for (var U = 0, W = j[q].children; U < W.length; U++) {
                var _ = W[U];
                e.removeChild(_);
              }
            return xs.set(g, !0);
          },
          provide: function (e) {
            return Zl.decorations.from(e);
          },
        });
      }
      var LR = new WeakSet(),
        AR = Zl.domEventHandlers({
          mousedown: function (e, t) {
            LR.add(t);
            var n = { capture: !0 },
              i = function () {
                window.removeEventListener("mouseup", i, n),
                  LR.delete(t),
                  setTimeout(function () {
                    t.dispatch({ selection: t.state.selection });
                  }, 50);
              };
            window.addEventListener("mouseup", i, n);
          },
          focus: function (e, t) {
            return t.dispatch({ effects: ZB.of() });
          },
          blur: function (e, t) {
            return t.dispatch({ effects: ZB.of() });
          },
        }),
        DR = Qs.define(
          function (e) {
            return new yR(e);
          },
          {
            decorations: function (e) {
              return e.decorations;
            },
          }
        ),
        TR = Qs.define(
          function (e) {
            return new bR(e);
          },
          {
            decorations: function (e) {
              return e.decorations;
            },
          }
        );
      function PR(e, t) {
        var n = MR(e, t);
        function i(e, t, i) {
          var r = e.state,
            o = r.selection,
            s = e.state.field(n),
            a = function (n) {
              if (!t && !n.empty) return Zi.cursor(i ? n.to : n.from);
              var o = e.moveVertically(n, i),
                a = o.head != n.head ? o : e.moveToLineBoundary(n, i),
                l = (function (e, t, n, i) {
                  var r = e.doc.lineAt(n.head),
                    o = r.number + (i ? 1 : -1);
                  if (o < 1 || o > e.doc.lines) return null;
                  var s = e.doc.line(o),
                    a = !0,
                    l = null;
                  if (
                    (t.between(s.from, s.to, function (e, t, n) {
                      if (l || e > s.from || t < s.to) return (a = !1), !1;
                      l || (l = n);
                    }),
                    !a || !l)
                  )
                    return null;
                  if (!l.spec.block) return null;
                  var c = n.head - r.from;
                  return Zi.cursor(s.from + Math.min(s.length, c), n.assoc);
                })(r, s, n, i);
              return l && Math.abs(o.head - n.head) > Math.abs(l.head - n.head)
                ? l
                : a;
            },
            l = Zi.create(
              o.ranges.map(function (e) {
                var n = a(e);
                return t && (n = Zi.range(e.anchor, n.head, n.goalColumn)), n;
              }),
              o.mainIndex
            );
          return (
            l.eq(r.selection) ||
              e.dispatch(
                r.update({
                  selection: l,
                  scrollIntoView: !0,
                  userEvent: "select",
                })
              ),
            !0
          );
        }
        var r = gr.high(
          lc.of([
            {
              key: "ArrowUp",
              run: function (e) {
                return i(e, !1, !1);
              },
              shift: function (e) {
                return i(e, !0, !1);
              },
            },
            {
              key: "ArrowDown",
              run: function (e) {
                return i(e, !1, !0);
              },
              shift: function (e) {
                return i(e, !0, !0);
              },
            },
          ])
        );
        return [DR, TR, n, r, AR];
      }
      var OR = { enable: !1 },
        FR = "markdown",
        IR = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            (n.icon = dm),
              (n.modeButtonEl = null),
              (n.modes = {}),
              (n.currentMode = null),
              (n.scroll = null),
              (n.showBacklinks = !1),
              OR.enable || eb.isMobile
                ? ((n.editMode = n.registerMode(new bF(n))),
                  (n.editor = n.editMode.editor),
                  (n.sourceMode = { cmEditor: n.editor }))
                : ((n.sourceMode = n.registerMode(new tO(n))),
                  (n.editor = n.sourceMode.editor)),
              (n.previewMode = n.registerMode(new _B(n))),
              (n.modeButtonEl = n.addAction($y, "", n.onSwitchView.bind(n)));
            var i = n.modes;
            for (var r in i) i.hasOwnProperty(r) && i[r].hide();
            var o = n.app.vault.getConfig("defaultViewMode");
            (o && i.hasOwnProperty(o)) || (o = "source"),
              (n.currentMode = i[o]),
              n.containerEl.setAttribute("data-mode", n.getMode()),
              n.currentMode.show(),
              n.updateButtons(),
              (n.showBacklinks = n.app.workspace.backlinkInDocument),
              n.updateShowBacklinks(),
              n.addChild(n.previewMode);
            var s = 0;
            return (
              n.containerEl.addEventListener(
                "wheel",
                function (e) {
                  if (n.app.vault.getConfig("baseFontSizeAction")) {
                    var t = e.ctrlKey,
                      i = Date.now();
                    if (t && !(s > i - 500)) {
                      if (t && 0 !== e.deltaY) {
                        if (fe && Number.isInteger(e.deltaY)) return;
                        var r = n.app.vault.getConfig("baseFontSize");
                        e.deltaY < 0 ? r++ : r--, n.app.changeBaseFontSize(r);
                      }
                    } else s = i;
                  }
                },
                { passive: !0 }
              ),
              n.titleEl.addEventListener("keydown", n.onTitleKeydown.bind(n)),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.onload = function () {
              e.prototype.onload.call(this);
              var t = this.leaf;
              this.registerEvent(
                t.workspace.on("quick-preview", this.onQuickPreview, this)
              ),
                this.registerEvent(
                  t.workspace.on("click", this.onDocumentClick, this)
                ),
                this.registerEvent(
                  t.workspace.on("resize", this.onResize, this)
                ),
                this.registerEvent(
                  t.workspace.on("css-change", this.onCssChange, this)
                ),
                this.registerEvent(
                  this.app.metadataCache.on(
                    "changed",
                    this.onMetadataChanged,
                    this
                  )
                ),
                this.onResize();
            }),
            (t.prototype.onClose = function () {
              return A(this, void 0, void 0, function () {
                var t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [4, e.prototype.onClose.call(this)];
                    case 1:
                      return n.sent(), (t = this.editMode) && t.destroy(), [2];
                  }
                });
              });
            }),
            (t.prototype.getViewType = function () {
              return FR;
            }),
            (t.prototype.canAcceptExtension = function (e) {
              return Ge.contains(e);
            }),
            (t.prototype.getState = function () {
              var t = e.prototype.getState.call(this);
              return (
                (t.mode = this.getMode()),
                (t.backlinks = this.showBacklinks),
                this.editMode &&
                  (t.source = this.editMode && this.editMode.sourceMode),
                t
              );
            }),
            (t.prototype.setState = function (t, n) {
              return A(this, void 0, Promise, function () {
                var i, r, o, s, a, l;
                return D(this, function (c) {
                  switch (c.label) {
                    case 0:
                      return (
                        (i = !1),
                        (r = t.mode),
                        (o = t.backlinks),
                        (s = t.source),
                        r
                          ? (a = this.modes).hasOwnProperty(r)
                            ? [4, this.setMode(a[r])]
                            : [3, 2]
                          : [3, 2]
                      );
                    case 1:
                      (i = c.sent()), (c.label = 2);
                    case 2:
                      return (
                        (l = this.editMode) &&
                          "boolean" == typeof s &&
                          l.sourceMode !== s &&
                          (l.toggleSource(), (i = !0)),
                        "boolean" == typeof o &&
                          ((this.showBacklinks = o),
                          this.updateShowBacklinks()),
                        i && (n.layout = !0),
                        [4, e.prototype.setState.call(this, t, n)]
                      );
                    case 3:
                      return c.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.getEphemeralState = function () {
              var t = e.prototype.getEphemeralState.call(this);
              return (
                this.currentMode.getEphemeralState(t),
                null !== this.scroll && (t.scroll = this.scroll),
                t
              );
            }),
            (t.prototype.setEphemeralState = function (t) {
              e.prototype.setEphemeralState.call(this, t);
              var n = t.subpath;
              if (n) {
                var i = DD(this.app.metadataCache.getFileCache(this.file), n);
                i &&
                  ((t.line = i.start.line),
                  (t.startLoc = i.start),
                  (t.endLoc = i.end || null));
              }
              this.currentMode.setEphemeralState(t),
                t.hasOwnProperty("scroll") && (this.scroll = t.scroll);
            }),
            (t.prototype.onUnloadFile = function (t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (n) {
                  return (
                    this.onMarkdownFold(),
                    this.currentMode.beforeUnload(),
                    [2, e.prototype.onUnloadFile.call(this, t)]
                  );
                });
              });
            }),
            (t.prototype.registerMode = function (e) {
              return (this.modes[e.type] = e), e;
            }),
            (t.prototype.getMode = function () {
              return this.currentMode.type;
            }),
            (t.prototype.updateButtons = function () {
              var e = this.currentMode,
                t = this.modeButtonEl,
                n = Lt("interface.menu.mod-click-open-new-pane", {
                  key: Xb.Mod,
                });
              "source" === e.type
                ? (Xy(t, $y, eb.isMobile ? 23 : 17),
                  nn(
                    t,
                    Lt("interface.menu.edit-view") +
                      "\n" +
                      Lt("interface.menu.switch-to-read-view") +
                      "\n" +
                      n
                  ))
                : (Xy(t, gm, eb.isMobile ? 23 : 17),
                  nn(
                    t,
                    Lt("interface.menu.read-view") +
                      "\n" +
                      Lt("interface.menu.switch-to-edit-view") +
                      "\n" +
                      n
                  ));
            }),
            (t.prototype.getSyncViewState = function () {
              var t = e.prototype.getSyncViewState.call(this);
              return delete t.state.mode, delete t.eState.cursor, t;
            }),
            (t.prototype.setMode = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return e && this.currentMode !== e
                        ? ((n = (t = this).currentMode),
                          (i = t.scroll),
                          "source" !== n.type ? [3, 2] : [4, this.save()])
                        : [2, !1];
                    case 1:
                      o.sent(), (o.label = 2);
                    case 2:
                      return (
                        (r = n.getFoldInfo()),
                        this.app.foldManager.save(this.file, r),
                        n.hide(),
                        (this.currentMode = e),
                        e.show(),
                        null !== this.data && e.set(this.data, !1),
                        e.onResize(),
                        null !== i && e.setEphemeralState({ scroll: i }),
                        e.applyFoldInfo(r),
                        this.updateButtons(),
                        this.containerEl.setAttribute(
                          "data-mode",
                          this.getMode()
                        ),
                        [2, !0]
                      );
                  }
                });
              });
            }),
            (t.prototype.getViewData = function () {
              return this.currentMode.get();
            }),
            (t.prototype.clear = function () {
              var e = this,
                t = e.currentMode,
                n = e.sourceMode,
                i = e.editMode,
                r = e.modes;
              for (var o in ((t !== n && t !== i) || this.onMarkdownFold(),
              (this.scroll = null),
              r))
                r.hasOwnProperty(o) && r[o].clear();
            }),
            (t.prototype.onSwitchView = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return (
                        e.preventDefault(),
                        (t = this.leaf),
                        ((n = this.getState()).mode =
                          "preview" === this.getMode() ? "source" : "preview"),
                        (i = { type: FR, state: n }),
                        nw.isModEvent(e) &&
                          ((r = this.app.workspace),
                          (t = r.createLeafBySplit(this.leaf)),
                          (i.active = !0),
                          (i.group = this.leaf)),
                        [4, t.setViewState(i)]
                      );
                    case 1:
                      return o.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.canToggleBacklinks = function () {
              return (
                "preview" === this.getMode() || this.editMode instanceof bF
              );
            }),
            (t.prototype.toggleBacklinks = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        (e = this.leaf),
                        ((t = this.getState()).backlinks = !t.backlinks),
                        (n = { type: FR, state: t }),
                        [4, e.setViewState(n)]
                      );
                    case 1:
                      return (
                        i.sent(), this.app.workspace.requestSaveLayout(), [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.updateShowBacklinks = function () {
              var e = this,
                t = e.showBacklinks,
                n = e.editMode,
                i = e.previewMode;
              n && n.setShowBacklinks(t), i.setShowBacklinks(t);
            }),
            (t.prototype.onLoadFile = function (t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [4, e.prototype.onLoadFile.call(this, t)];
                    case 1:
                      return (
                        n.sent(),
                        this.updateFrontmatter(
                          this.app.metadataCache.getFileCache(t)
                        ),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.onMarkdownScroll = function () {
              var e = this.currentMode.getScroll();
              return null !== e && (this.scroll = e), this.syncState(!1);
            }),
            (t.prototype.onMarkdownFold = function () {
              this.app.foldManager.save(
                this.file,
                this.currentMode.getFoldInfo()
              );
            }),
            (t.prototype.onMoreOptionsMenu = function (t) {
              var n = this;
              e.prototype.onMoreOptionsMenu.call(this, t),
                t.addItem(function (e) {
                  return e
                    .setTitle(Lt("interface.menu.find"))
                    .setIcon(jm)
                    .onClick(function () {
                      return n.showSearch();
                    });
                }),
                "source" === this.getMode() &&
                  t.addItem(function (e) {
                    return e
                      .setTitle(Lt("interface.menu.replace"))
                      .setIcon(jm)
                      .onClick(function () {
                        return n.showSearch(!0);
                      });
                  }),
                eb.isDesktopApp &&
                  t.addItem(function (e) {
                    return e
                      .setTitle(Lt("commands.export-pdf"))
                      .setIcon(dm)
                      .onClick(function (e) {
                        return n.app.commands.executeCommandById(
                          "workspace:export-pdf",
                          e
                        );
                      });
                  }),
                this.editMode === this.currentMode &&
                  t.addItem(function (e) {
                    return e
                      .setTitle(Lt("commands.toggle-source-mode"))
                      .setIcon(Ov)
                      .onClick(function () {
                        var e = n.getState();
                        (e.source = !e.source),
                          n.leaf.setViewState({ type: FR, state: e });
                      });
                  });
            }),
            (t.prototype.onHeaderMenu = function (t) {
              var n = this;
              e.prototype.onHeaderMenu.call(this, t);
              var i = this.getMode();
              "preview" === i
                ? t.addItem(function (e) {
                    return e
                      .setTitle(Lt("interface.menu.edit"))
                      .setIcon(gm)
                      .onClick(n.onSwitchView.bind(n));
                  })
                : "source" === i &&
                  t.addItem(function (e) {
                    return e
                      .setTitle(Lt("interface.menu.preview"))
                      .setIcon($y)
                      .onClick(n.onSwitchView.bind(n));
                  });
            }),
            (t.prototype.onResize = function () {
              this.currentMode.onResize();
            }),
            (t.prototype.onCssChange = function () {
              this.editMode && this.editMode.onCssChange(),
                this.sourceMode &&
                  this.sourceMode instanceof tO &&
                  this.sourceMode.onCssChange();
            }),
            (t.prototype.onMetadataChanged = function (e, t, n) {
              this.file === e && this.updateFrontmatter(n);
            }),
            (t.prototype.updateFrontmatter = function (e) {
              if (this.editMode) {
                var t = e && e.frontmatter,
                  n = JSON.stringify(t);
                this.lastFrontmatter !== n &&
                  ((this.lastFrontmatter = n),
                  this.editMode.setCssClass(Yg(t)));
              }
            }),
            (t.prototype.onTitleKeydown = function (e) {
              e.isComposing ||
                ("Enter" !== e.key && "Tab" !== e.key) ||
                (e.preventDefault(), this.setEphemeralState({ focus: !0 }));
            }),
            (t.prototype.triggerQuickPreview = function () {
              var e = this.currentMode.get();
              this.data !== e &&
                ((this.data = e),
                this.leaf.workspace.onQuickPreview(this.file, this.data));
            }),
            (t.prototype.onQuickPreview = function (e, t) {
              e === this.file && this.setData(t, !1);
            }),
            (t.prototype.setViewData = function (e, t) {
              var n = this.currentMode,
                i = this.modes;
              if (t) {
                for (var r in ((this.scroll = null), i))
                  i.hasOwnProperty(r) && i[r].set(e, !0);
                var o = this.app.foldManager.load(this.file);
                o && n.applyFoldInfo(o);
              } else n.set(e, !1);
            }),
            (t.prototype.onDocumentClick = function (e) {
              var t = this,
                n = t.currentMode,
                i = t.sourceMode,
                r = t.editMode;
              n === i && i.onDocumentClick(e), n === r && r.onDocumentClick(e);
            }),
            (t.prototype.updateOptions = function () {
              var e = this.modes;
              for (var t in e) e.hasOwnProperty(t) && e[t].updateOptions();
            }),
            (t.prototype.showSearch = function (e) {
              void 0 === e && (e = !1), this.currentMode.showSearch(e);
            }),
            (t.prototype.getSelection = function () {
              return this.currentMode.getSelection();
            }),
            (t.prototype.printToPdf = function () {
              new BR(this.app, this.file).open();
            }),
            (t.prototype.triggerClickableToken = function (e, t) {
              var n = this;
              if ("internal-link" === e.type)
                setTimeout(function () {
                  n.app.workspace.openLinkText(e.text, n.file.path, t);
                }, 100);
              else if ("external-link" === e.type) window.open(e.text);
              else if ("tag" === e.type) {
                var i = e.text;
                i.startsWith("#") || (i = "#" + i);
                var r = this.app.internalPlugins.getPluginById("global-search");
                r && r.instance.openGlobalSearch("tag:" + i);
              }
            }),
            (t.prototype.followLinkUnderCursor = function (e) {
              var t = this.editor.getClickableTokenAt(this.editor.getCursor());
              t && this.triggerClickableToken(t, e);
            }),
            (t.VIEW_TYPE = FR),
            t
          );
        })(PF),
        NR = At("editor.print-modal"),
        BR = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            (i.file = n),
              i.modalEl.addClass("mod-narrow"),
              i.titleEl.setText(NR("title"));
            var r = i.contentEl;
            r.createEl("p", {
              cls: "u-muted",
              text: NR("caption", { filename: n.basename }),
            });
            var o = t.vault.getConfig("pdfExportSettings");
            return (
              new ZD(r)
                .setName(NR("setting-page-size"))
                .addDropdown(function (e) {
                  return e
                    .addOption("A3", NR("setting-page-size-a3"))
                    .addOption("A4", NR("setting-page-size-a4"))
                    .addOption("A5", NR("setting-page-size-a5"))
                    .addOption("Legal", NR("setting-page-size-legal"))
                    .addOption("Letter", NR("setting-page-size-letter"))
                    .addOption("Tabloid", NR("setting-page-size-tabloid"))
                    .setValue(o.pageSize)
                    .then(function (e) {
                      return (i.pageSize = e);
                    });
                }),
              new ZD(r)
                .setName(NR("setting-landscape"))
                .addToggle(function (e) {
                  return e.setValue(o.landscape).then(function (e) {
                    return (i.landscape = e);
                  });
                }),
              new ZD(r).setName(NR("setting-margin")).addDropdown(function (e) {
                return e
                  .addOption("0", NR("setting-margin-default"))
                  .addOption("2", NR("setting-margin-minimal"))
                  .addOption("1", NR("setting-margin-none"))
                  .setValue(o.margin)
                  .then(function (e) {
                    return (i.marginsType = e);
                  });
              }),
              new ZD(r)
                .setName(NR("setting-downscale-percent"))
                .addSlider(function (e) {
                  return e
                    .setLimits(1, 100, 1)
                    .setDynamicTooltip()
                    .setValue(o.downscalePercent)
                    .then(function (e) {
                      return (i.scaleFactor = e);
                    });
                }),
              r.createDiv("modal-button-container", function (e) {
                e.createEl(
                  "button",
                  { cls: "mod-cta", text: NR("button-export-to-pdf") },
                  function (e) {
                    e.addEventListener("click", function () {
                      return A(i, void 0, void 0, function () {
                        var e, n, i, r;
                        return D(this, function (o) {
                          switch (o.label) {
                            case 0:
                              return (
                                (e = {
                                  pageSize: this.pageSize.getValue(),
                                  landscape: this.landscape.getValue(),
                                  margin: this.marginsType.getValue(),
                                  downscalePercent: this.scaleFactor.getValue(),
                                }),
                                t.vault.setConfig("pdfExportSettings", e),
                                ((n = {}).pageSize = e.pageSize),
                                (n.landscape = e.landscape),
                                (n.marginsType = parseInt(e.margin)),
                                (n.scaleFactor = e.downscalePercent),
                                (n.open = !0),
                                (i = this.file),
                                [
                                  4,
                                  ct("electron").remote.dialog.showSaveDialog({
                                    defaultPath: i.basename + ".pdf",
                                    filters: [
                                      {
                                        name: "PDF Files",
                                        extensions: ["pdf"],
                                      },
                                      { name: "All Files", extensions: ["*"] },
                                    ],
                                    properties: ["showOverwriteConfirmation"],
                                  }),
                                ]
                              );
                            case 1:
                              return (r = o.sent()).cancelled || !r.filePath
                                ? [2]
                                : ((n.filepath = r.filePath),
                                  this.close(),
                                  [4, this.printToPdf(n)]);
                            case 2:
                              return o.sent(), [2];
                          }
                        });
                      });
                    });
                  }
                );
              }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.printToPdf = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      (t = this.app.loadProgress).setMessage(
                        Lt("dialogue.preparing-pdf")
                      ),
                        t.show(),
                        (n = document.body.createDiv("print")),
                        (i = new nm()).load(),
                        (r = function () {
                          n.detach(), i.unload(), t.hide();
                        }),
                        n.addEventListener("click", r),
                        (s.label = 1);
                    case 1:
                      return s.trys.push([1, 5, 6, 7]), [4, this.print(n, i)];
                    case 2:
                      return s.sent(), [4, qh(200)];
                    case 3:
                      return (
                        s.sent(),
                        [
                          4,
                          ((a = e),
                          new Promise(function (e) {
                            var t = ct("electron").ipcRenderer;
                            t.once("print-to-pdf", e),
                              t.send("print-to-pdf", a);
                          })),
                        ]
                      );
                    case 4:
                      return (
                        s.sent(), new lw("PDF Saved to " + e.filepath), [3, 7]
                      );
                    case 5:
                      return (
                        (o = s.sent()),
                        console.error(o),
                        new lw("Failed to save PDF."),
                        [3, 7]
                      );
                    case 6:
                      return r(), [7];
                    case 7:
                      return [2];
                  }
                  var a;
                });
              });
            }),
            (t.prototype.testPrint = function () {
              return A(this, void 0, void 0, function () {
                var e, t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (e = document.body.createDiv("print")).addEventListener(
                          "click",
                          function () {
                            e.detach(), t.unload();
                          }
                        ),
                        (t = new nm()).load(),
                        [4, this.print(e, t)]
                      );
                    case 1:
                      return n.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.print = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i, r, o, s, a, l, c, u, h, p, d, f;
                return D(this, function (g) {
                  switch (g.label) {
                    case 0:
                      return (
                        (n = e.createDiv("markdown-preview-view")),
                        (r = (i = this).app),
                        (o = i.file),
                        [4, this.app.vault.cachedRead(o)]
                      );
                    case 1:
                      return (
                        (s = g.sent()),
                        (a = qg(s)),
                        (l = jg(a)),
                        (c = Ug(a)),
                        (u = tm(c)),
                        n.appendChild(u),
                        n.toggleClass(
                          "show-frontmatter",
                          r.vault.getConfig("showFrontmatter")
                        ),
                        (h = []),
                        _B.postProcess(r, {
                          docId: Oe(16),
                          sourcePath: o.path,
                          frontmatter: l,
                          promises: h,
                          addChild: function (e) {
                            return t.addChild(e);
                          },
                          getSectionInfo: function () {
                            return null;
                          },
                          containerEl: n,
                          el: n,
                          displayMode: !0,
                        }),
                        h.length > 0 ? [4, Promise.all(h)] : [3, 3]
                      );
                    case 2:
                      g.sent(), (g.label = 3);
                    case 3:
                      for (
                        p = n.findAll("a.internal-link"), d = 0, f = p;
                        d < f.length;
                        d++
                      )
                        f[d].removeAttribute("href");
                      return [2, n];
                  }
                });
              });
            }),
            t
          );
        })(vD),
        RR = (function (e) {
          function t(t, n, i, r, o) {
            var s = e.call(this, t) || this;
            return (
              (s.headingLine = n),
              (s.file = o),
              (s.editor = r),
              (s.oldHeading = i),
              (s.inputEl = createEl("input", { type: "text", value: i })),
              s.inputEl.addEventListener("keypress", function (e) {
                "Enter" === e.key && (s.submit(), s.close());
              }),
              s
                .setTitle(Lt("dialogue.label-rename-heading"))
                .setContent(
                  createFragment(function (e) {
                    e.createEl("label", {
                      cls: "input-label",
                      text: Lt("dialogue.label-new-name"),
                    }),
                      e.appendChild(s.inputEl);
                  })
                )
                .addButton("mod-cta", Lt("dialogue.button-done"), function () {
                  s.submit();
                })
                .addCancelButton(),
              s
            );
          }
          return (
            M(t, e),
            (t.prototype.submit = function () {
              return A(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g,
                  m,
                  v,
                  y,
                  b,
                  w,
                  k,
                  C;
                return D(this, function (x) {
                  switch (x.label) {
                    case 0:
                      if (
                        ((e = this.editor),
                        (t = this.headingLine),
                        (n = this.inputEl.value),
                        (i = e.getLine(t)),
                        "" === n)
                      )
                        return (
                          new lw(
                            Lt("plugins.file-explorer.msg-empty-file-name")
                          ),
                          [2]
                        );
                      for (
                        r = this.replaceHeadingText(i, n),
                          o = AD(n),
                          s = this.app.fileManager,
                          a = s.getAllLinkResolutions(!1),
                          l = new Pe(),
                          c = AD(this.oldHeading).toLowerCase(),
                          u = 0,
                          h = a;
                        u < h.length;
                        u++
                      )
                        (p = h[u]).resolvedFile === this.file &&
                          ((d = SD(p.reference.link)),
                          (f = d.path),
                          (g = d.subpath),
                          (m = g.substring(1)),
                          AD(m).toLowerCase() === c &&
                            l.add(p.sourceFile.path, {
                              reference: p.reference,
                              newLinktext: f + "#" + o,
                            }));
                      return 0 !== (v = l.count())
                        ? [3, 1]
                        : (e.setLine(t, r), [3, 7]);
                    case 1:
                      return (
                        (y = Lt("nouns.link-with-count", { count: v })),
                        (b = Lt("nouns.file-with-count", {
                          count: Object.keys(l.data).length,
                        })),
                        (w = Lt("dialogue.msg-updated-links", {
                          links: y,
                          files: b,
                        })),
                        (k = l.get(this.file.path)) && k.length > 0
                          ? (l.removeKey(this.file.path),
                            [4, this.app.vault.read(this.file)])
                          : [3, 4]
                      );
                    case 2:
                      return (
                        (C = x.sent()),
                        (C = (C = s.updateInternalLinksForFile(C, k)).replace(
                          new RegExp("^" + Le(i) + "$", "gm"),
                          r
                        )),
                        [4, this.app.vault.modify(this.file, C)]
                      );
                    case 3:
                      return x.sent(), [3, 5];
                    case 4:
                      e.setLine(t, r), (x.label = 5);
                    case 5:
                      return [4, s.updateInternalLinks(l)];
                    case 6:
                      x.sent(), new lw(w), (x.label = 7);
                    case 7:
                      return this.close(), [2];
                  }
                });
              });
            }),
            (t.prototype.onOpen = function () {
              e.prototype.onOpen.call(this),
                this.inputEl.select(),
                this.inputEl.focus();
            }),
            (t.prototype.replaceHeadingText = function (e, t) {
              return e.replace(/^(#{1,6} ).*/m, function (e, n) {
                return n + t;
              });
            }),
            t
          );
        })(yD);
      function zR(e) {
        e.checkCallback
          ? e.checkCallback(!1)
          : e.callback
          ? e.callback()
          : console.error("Command " + e + " did not provide a callback");
      }
      var HR = (function () {
          function e(e) {
            (this.commands = {}), (this.editorCommands = {}), (this.app = e);
          }
          return (
            (e.prototype.addCommand = function (e) {
              var t = this;
              (e.mobileOnly && !eb.isMobile) ||
                ((e.editorCallback || e.editorCheckCallback) &&
                  ((e.checkCallback = function (n) {
                    var i = t.app.workspace.getActiveViewOfType(IR);
                    if (i && (e.allowPreview || "source" === i.getMode())) {
                      if (e.editorCheckCallback)
                        return e.editorCheckCallback(n, i.editor, i);
                      if (e.editorCallback)
                        return n || e.editorCallback(i.editor, i), !0;
                    }
                  }),
                  (this.editorCommands[e.id] = e)),
                (this.commands[e.id] = e),
                e.hotkeys &&
                  this.app.hotkeyManager.addDefaultHotkeys(e.id, e.hotkeys));
            }),
            (e.prototype.removeCommand = function (e) {
              this.commands.hasOwnProperty(e) &&
                this.app.hotkeyManager.removeDefaultHotkeys(e),
                delete this.commands[e],
                delete this.editorCommands[e];
            }),
            (e.prototype.findCommand = function (e) {
              return this.commands[e];
            }),
            (e.prototype.listCommands = function () {
              return Object.values(this.commands).filter(function (e) {
                if (!e.checkCallback) return !0;
                try {
                  return e.checkCallback(!0);
                } catch (t) {
                  return (
                    console.log("Command failed to execute: ", e.id),
                    console.error(t),
                    !1
                  );
                }
              });
            }),
            (e.prototype.executeCommandById = function (e, t) {
              this.app.lastEvent = t || null;
              var n = this.findCommand(e);
              if (!n) return !1;
              try {
                zR(n);
              } catch (e) {
                return (
                  console.log("Command failed to execute: ", n.id),
                  console.error(e),
                  !1
                );
              }
              return !0;
            }),
            e
          );
        })(),
        VR = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (
              (n.app = null),
              (n.styleEl = null),
              (n.themes = []),
              (n.snippets = []),
              (n.enabledSnippets = new Set()),
              (n.csscache = new Map()),
              (n.theme = ""),
              (n.useObsidianCss = !1),
              (n.queue = new jh()),
              (n.app = t),
              (n.boundFileUpdated = n.onFileUpdated.bind(n)),
              (n.boundRaw = n.onRaw.bind(n)),
              (n.requestReloadCss = Tt(n.applyCss.bind(n), 100)),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.onload = function () {
              return A(this, void 0, void 0, function () {
                var t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        e.prototype.onload.call(this),
                        (t = this.app),
                        this.loadData(),
                        [4, this.readCssFolders()]
                      );
                    case 1:
                      return (
                        i.sent(),
                        (n = this.styleEl =
                          createEl("style", { type: "text/css" })),
                        this.registerEvent(
                          t.vault.on("create", this.boundFileUpdated)
                        ),
                        this.registerEvent(
                          t.vault.on("modify", this.boundFileUpdated)
                        ),
                        this.registerEvent(
                          t.vault.on("delete", this.boundFileUpdated)
                        ),
                        this.registerEvent(t.vault.on("raw", this.boundRaw)),
                        document.head.appendChild(n),
                        this.applyCss(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.loadData = function () {
              var e = this.app.vault,
                t = e.getConfig("enabledCssSnippets");
              t && (this.enabledSnippets = new Set(t));
              var n = e.getConfig("cssTheme");
              n && (this.theme = n),
                e.getConfig("translucency") && this.enableTranslucency();
            }),
            (t.prototype.readCssFolders = function () {
              var e = this;
              return this.queue.queue(function () {
                return e._readCssFolders();
              });
            }),
            (t.prototype._readCssFolders = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r, o, s, a, l, c, u, h, p, d;
                return D(this, function (f) {
                  switch (f.label) {
                    case 0:
                      return (
                        (e = this.app),
                        (t = this.app.vault.adapter),
                        (n = []),
                        (i = this.getThemeFolder()),
                        [4, e.vault.exists(i)]
                      );
                    case 1:
                      return f.sent() ? [4, e.vault.adapter.list(i)] : [3, 3];
                    case 2:
                      for (r = f.sent(), o = 0, s = r.files; o < s.length; o++)
                        (p = s[o]),
                          (d = Ye(p)).startsWith(".") ||
                            "css" !== et(d) ||
                            n.push(Xe(d));
                      f.label = 3;
                    case 3:
                      return (
                        (this.themes = n),
                        (a = []),
                        (l = this.getSnippetsFolder()),
                        [4, e.vault.exists(l)]
                      );
                    case 4:
                      return f.sent() ? [4, t.list(l)] : [3, 6];
                    case 5:
                      for (c = f.sent(), u = 0, h = c.files; u < h.length; u++)
                        (p = h[u]),
                          (d = Ye(p)).startsWith(".") ||
                            "css" !== et(d) ||
                            a.push(Xe(d));
                      f.label = 6;
                    case 6:
                      return (
                        a.sort(YN),
                        (this.snippets = a),
                        this.requestReloadCss(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.onFileUpdated = function (e) {
              this.onRaw(e.path);
            }),
            (t.prototype.onRaw = function (e) {
              (e.startsWith(this.getThemeFolder()) ||
                e.startsWith(this.getThemeFolder())) &&
                this.readCssFolders(),
                this.csscache.has(e) &&
                  (this.csscache.delete(e), this.requestReloadCss());
            }),
            (t.prototype.applyCss = function (e) {
              var t = this;
              return this.queue.queue(function () {
                return t._applyCss(e);
              });
            }),
            (t.prototype._applyCss = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i, r, o, s, a, l, c, u, h, p;
                return D(this, function (d) {
                  switch (d.label) {
                    case 0:
                      return (
                        (n = (t = this).theme),
                        (i = t.enabledSnippets),
                        (r = t.snippets),
                        (o = []),
                        e ? (o.push(e), [3, 3]) : [3, 1]
                      );
                    case 1:
                      return n
                        ? ((a = (s = o).push),
                          [4, this.loadCss(this.getThemePath(n))])
                        : [3, 3];
                    case 2:
                      a.apply(s, [d.sent()]), (d.label = 3);
                    case 3:
                      (l = 0), (c = r), (d.label = 4);
                    case 4:
                      return l < c.length
                        ? ((u = c[l]),
                          i.has(u)
                            ? ((p = (h = o).push),
                              [4, this.loadCss(this.getSnippetPath(u))])
                            : [3, 6])
                        : [3, 7];
                    case 5:
                      p.apply(h, [d.sent()]), (d.label = 6);
                    case 6:
                      return l++, [3, 4];
                    case 7:
                      return (
                        (this.styleEl.textContent = o
                          .filter(function (e) {
                            return e;
                          })
                          .join("\n")),
                        this.app.workspace.trigger("css-change"),
                        this.app.workspace.trigger("resize"),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.loadCss = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return (t = this.csscache).has(e)
                        ? [2, t.get(e)]
                        : [4, (n = this.app.vault.adapter).exists(e)];
                    case 1:
                      return r.sent() ? [4, n.read(e)] : [3, 3];
                    case 2:
                      return (i = r.sent()), t.set(e, i), [2, i];
                    case 3:
                      return [2, null];
                  }
                });
              });
            }),
            (t.prototype.setCssEnabledStatus = function (e, t) {
              var n = this.enabledSnippets;
              t ? n.add(e) : n.delete(e),
                this.app.vault.setConfig("enabledCssSnippets", Array.from(n)),
                this.requestReloadCss();
            }),
            (t.prototype.setTheme = function (e) {
              (this.theme = e),
                this.app.vault.setConfig("cssTheme", e),
                this.requestReloadCss();
            }),
            (t.prototype.setTranslucency = function (e) {
              this.app.vault.setConfig("translucency", e),
                e ? this.enableTranslucency() : this.disableTranslucency();
            }),
            (t.prototype.enableTranslucency = function () {
              ut(function (e) {
                try {
                  var t = e.remote.getCurrentWindow();
                  if ("Windows" === pe) {
                    t.setBackgroundColor("#00000000");
                    var n = window.require("vibrancy-win");
                    n.setAcrylic(t, 343932960) || n.setBlurBehind(t, 0);
                  } else {
                    if ("MacOS" !== pe) return;
                    t.setBackgroundColor("#00000000"),
                      t.setVibrancy("fullscreen-ui");
                  }
                  document.body.addClass("is-translucent");
                } catch (e) {
                  new lw(Lt("interface.msg-upgrade-installer"));
                }
              });
            }),
            (t.prototype.disableTranslucency = function () {
              ut(function (e) {
                document.body.removeClass("is-translucent");
                try {
                  var t = e.remote.getCurrentWindow();
                  if ("Windows" === pe) {
                    window.require("vibrancy-win").disable(t);
                  } else {
                    if ("MacOS" !== pe) return;
                    t.setVibrancy(null);
                  }
                } catch (e) {}
              });
            }),
            (t.prototype.getThemeFolder = function () {
              return this.app.vault.configDir + "/themes";
            }),
            (t.prototype.getSnippetsFolder = function () {
              return this.app.vault.configDir + "/snippets";
            }),
            (t.prototype.getThemePath = function (e) {
              return this.getThemeFolder() + "/" + e + ".css";
            }),
            (t.prototype.getSnippetPath = function (e) {
              return this.getSnippetsFolder() + "/" + e + ".css";
            }),
            t
          );
        })(nm);
      function qR(e) {
        return A(this, void 0, Promise, function () {
          var t, n;
          return D(this, function (i) {
            switch (i.label) {
              case 0:
                return i.trys.push([0, 2, , 3]), [4, e];
              case 1:
                return [2, i.sent()];
              case 2:
                throw (
                  ((t = i.sent()),
                  (n = t.message) &&
                    (n.contains("does not exist") ||
                      n.contains("there is no such file")) &&
                    (t.code = "ENOENT"),
                  t)
                );
              case 3:
                return [2];
            }
          });
        });
      }
      var jR = 5242880;
      function UR(e) {
        if (
          ("NSFileTypeRegular" === e.type
            ? (e.type = "file")
            : "NSFileTypeDirectory" === e.type && (e.type = "directory"),
          null === e.ctime && (e.ctime = 0),
          "children" in e && e.children)
        )
          for (var t = 0, n = e.children; t < n.length; t++) {
            UR(n[t]);
          }
      }
      var WR = (function () {
        function e(e) {
          (this.uri = ""), (this.dir = e);
        }
        return (
          (e.prototype.init = function () {
            return A(this, void 0, Promise, function () {
              var e;
              return D(this, function (t) {
                switch (t.label) {
                  case 0:
                    return (
                      (e = this),
                      [4, yI.getUri({ directory: this.dir, path: "" })]
                    );
                  case 1:
                    return (e.uri = t.sent().uri), [2];
                }
              });
            });
          }),
          (e.prototype.watch = function (e) {
            return A(this, void 0, void 0, function () {
              return D(this, function (t) {
                switch (t.label) {
                  case 0:
                    return [4, yI.startWatch({ directory: this.dir, path: e })];
                  case 1:
                    return t.sent(), [2];
                }
              });
            });
          }),
          (e.prototype.verifyIcloud = function (e) {
            return A(this, void 0, void 0, function () {
              return D(this, function (t) {
                switch (t.label) {
                  case 0:
                    return [4, yI.verifyIcloud({ path: e })];
                  case 1:
                    return t.sent(), [2];
                }
              });
            });
          }),
          (e.prototype.read = function (e) {
            return A(this, void 0, Promise, function () {
              return D(this, function (t) {
                switch (t.label) {
                  case 0:
                    return [
                      4,
                      qR(
                        yI.readFile({
                          directory: this.dir,
                          path: e,
                          encoding: aI.UTF8,
                        })
                      ),
                    ];
                  case 1:
                    return [2, t.sent().data];
                }
              });
            });
          }),
          (e.prototype.readBinary = function (e) {
            return A(this, void 0, Promise, function () {
              return D(this, function (t) {
                switch (t.label) {
                  case 0:
                    return [4, qR(this.stat(e))];
                  case 1:
                    return t.sent().size < jR
                      ? [4, qR(yI.readFile({ directory: this.dir, path: e }))]
                      : [3, 3];
                  case 2:
                    return [2, Y(t.sent().data)];
                  case 3:
                    return [4, fetch(this.getUri(e))];
                  case 4:
                    return [2, t.sent().arrayBuffer()];
                }
              });
            });
          }),
          (e.prototype.write = function (e, t) {
            return A(this, void 0, Promise, function () {
              return D(this, function (n) {
                switch (n.label) {
                  case 0:
                    return [
                      4,
                      qR(
                        yI.writeFile({
                          directory: this.dir,
                          path: e,
                          data: t,
                          encoding: aI.UTF8,
                        })
                      ),
                    ];
                  case 1:
                    return n.sent(), [2];
                }
              });
            });
          }),
          (e.prototype.writeBinary = function (e, t) {
            return A(this, void 0, Promise, function () {
              return D(this, function (n) {
                switch (n.label) {
                  case 0:
                    return [4, qR(this.writeBinaryInternal(e, t))];
                  case 1:
                    return n.sent(), [2];
                }
              });
            });
          }),
          (e.prototype.writeBinaryInternal = function (e, t) {
            return A(this, void 0, Promise, function () {
              var n, i, r, o;
              return D(this, function (s) {
                switch (s.label) {
                  case 0:
                    return t.byteLength < jR
                      ? [
                          4,
                          yI.writeFile({
                            directory: this.dir,
                            path: e,
                            data: J(t),
                          }),
                        ]
                      : [3, 2];
                  case 1:
                    return s.sent(), [2];
                  case 2:
                    return [
                      4,
                      yI.writeFile({ directory: this.dir, path: e, data: "" }),
                    ];
                  case 3:
                    s.sent(), (n = 0), (s.label = 4);
                  case 4:
                    return n < t.byteLength
                      ? ((i = Math.min(1048576, t.byteLength - n)),
                        (r = new Uint8Array(t, n, i)),
                        (o = Q(r)),
                        [
                          4,
                          yI.appendFile({
                            directory: this.dir,
                            path: e,
                            data: o,
                          }),
                        ])
                      : [3, 6];
                  case 5:
                    return s.sent(), (n += i), [3, 4];
                  case 6:
                    return [2];
                }
              });
            });
          }),
          (e.prototype.append = function (e, t) {
            return A(this, void 0, Promise, function () {
              return D(this, function (n) {
                switch (n.label) {
                  case 0:
                    return [
                      4,
                      qR(
                        yI.appendFile({
                          directory: this.dir,
                          path: e,
                          data: t,
                          encoding: aI.UTF8,
                        })
                      ),
                    ];
                  case 1:
                    return n.sent(), [2];
                }
              });
            });
          }),
          (e.prototype.mkdir = function (e) {
            return A(this, void 0, Promise, function () {
              return D(this, function (t) {
                switch (t.label) {
                  case 0:
                    return [
                      4,
                      qR(
                        yI.mkdir({
                          directory: this.dir,
                          path: e,
                          recursive: !0,
                        })
                      ),
                    ];
                  case 1:
                    return t.sent(), [2];
                }
              });
            });
          }),
          (e.prototype.readdir = function (e) {
            return A(this, void 0, Promise, function () {
              return D(this, function (t) {
                switch (t.label) {
                  case 0:
                    return [
                      4,
                      qR(yI.readdir({ directory: this.dir, path: e })),
                    ];
                  case 1:
                    return [2, t.sent().files];
                }
              });
            });
          }),
          (e.prototype.stat = function (e) {
            return A(this, void 0, Promise, function () {
              var t;
              return D(this, function (n) {
                switch (n.label) {
                  case 0:
                    return [4, qR(yI.stat({ directory: this.dir, path: e }))];
                  case 1:
                    return UR((t = n.sent())), [2, t];
                }
              });
            });
          }),
          (e.prototype.statAll = function (e) {
            return A(this, void 0, Promise, function () {
              var t, n;
              return D(this, function (i) {
                switch (i.label) {
                  case 0:
                    return [
                      4,
                      qR(yI.statAll({ directory: this.dir, path: e })),
                    ];
                  case 1:
                    return (
                      (t = i.sent()),
                      UR(
                        (n = t.hasOwnProperty("result")
                          ? JSON.parse(t.result)
                          : t)
                      ),
                      [2, n]
                    );
                }
              });
            });
          }),
          (e.prototype.exists = function (e) {
            return A(this, void 0, Promise, function () {
              return D(this, function (t) {
                switch (t.label) {
                  case 0:
                    return t.trys.push([0, 2, , 3]), [4, this.stat(e)];
                  case 1:
                    return t.sent(), [2, !0];
                  case 2:
                    return t.sent(), [2, !1];
                  case 3:
                    return [2];
                }
              });
            });
          }),
          (e.prototype.setTimes = function (e, t, n) {
            return A(this, void 0, Promise, function () {
              return D(this, function (i) {
                switch (i.label) {
                  case 0:
                    return [
                      4,
                      qR(
                        yI.setTimes({
                          directory: this.dir,
                          path: e,
                          ctime: t,
                          mtime: n,
                        })
                      ),
                    ];
                  case 1:
                    return i.sent(), [2];
                }
              });
            });
          }),
          (e.prototype.rmdir = function (e) {
            return A(this, void 0, Promise, function () {
              return D(this, function (t) {
                switch (t.label) {
                  case 0:
                    return [
                      4,
                      qR(
                        yI.rmdir({
                          directory: this.dir,
                          path: e,
                          recursive: !0,
                        })
                      ),
                    ];
                  case 1:
                    return t.sent(), [2];
                }
              });
            });
          }),
          (e.prototype.delete = function (e) {
            return A(this, void 0, Promise, function () {
              return D(this, function (t) {
                switch (t.label) {
                  case 0:
                    return [
                      4,
                      qR(yI.deleteFile({ directory: this.dir, path: e })),
                    ];
                  case 1:
                    return t.sent(), [2];
                }
              });
            });
          }),
          (e.prototype.rename = function (e, t) {
            return A(this, void 0, Promise, function () {
              return D(this, function (n) {
                switch (n.label) {
                  case 0:
                    return [
                      4,
                      qR(yI.rename({ directory: this.dir, from: e, to: t })),
                    ];
                  case 1:
                    return n.sent(), [2];
                }
              });
            });
          }),
          (e.prototype.copy = function (e, t) {
            return A(this, void 0, Promise, function () {
              return D(this, function (n) {
                switch (n.label) {
                  case 0:
                    return [
                      4,
                      qR(yI.copy({ directory: this.dir, from: e, to: t })),
                    ];
                  case 1:
                    return n.sent(), [2];
                }
              });
            });
          }),
          (e.prototype.open = function (e) {
            return A(this, void 0, Promise, function () {
              return D(this, function (t) {
                switch (t.label) {
                  case 0:
                    return [4, qR(yI.open({ directory: this.dir, path: e }))];
                  case 1:
                    return t.sent(), [2];
                }
              });
            });
          }),
          (e.prototype.trash = function (e) {
            return A(this, void 0, Promise, function () {
              return D(this, function (t) {
                switch (t.label) {
                  case 0:
                    return [4, qR(yI.trash({ directory: this.dir, path: e }))];
                  case 1:
                    return t.sent(), [2];
                }
              });
            });
          }),
          (e.prototype.getNativeUri = function (e) {
            e = ot(e);
            var t = this.uri;
            return "/" === e
              ? t
              : (t.endsWith("/") || (t += "/"),
                t +
                  e
                    .split("/")
                    .map(function (e) {
                      return encodeURIComponent(e);
                    })
                    .join("/"));
          }),
          (e.prototype.getUri = function (e) {
            var t = this.getNativeUri(e);
            return t.startsWith("file://") && (t = un.convertFileSrc(t)), t;
          }),
          e
        );
      })();
      function _R(e) {
        return {
          ctime: Math.round(e.ctime),
          mtime: Math.round(e.mtime),
          size: e.size,
        };
      }
      window.FS = WR;
      var GR = (function () {
          function e(e, t) {
            var n = this;
            (this.fs = t),
              (this.basePath = e),
              (this.files = {}),
              (this.promise = Promise.resolve()),
              (this.handler = null),
              (this.insensitive = !1),
              A(n, void 0, void 0, function () {
                return D(this, function (e) {
                  try {
                    this.testInsensitive();
                  } catch (e) {
                    console.error(e);
                  }
                  return [2];
                });
              });
          }
          return (
            (e.prototype.testInsensitive = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  return [2];
                });
              });
            }),
            (e.prototype.getName = function () {
              return Ye(this.basePath);
            }),
            (e.prototype.listAll = function () {
              return A(this, void 0, Promise, function () {
                var e, t, n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      (this.files["/"] = { type: "folder", realpath: "/" }),
                        (o.label = 1);
                    case 1:
                      return (
                        o.trys.push([1, 3, , 5]),
                        [4, this.fs.statAll(this.getFullRealPath(""))]
                      );
                    case 2:
                      if ((e = o.sent()).children)
                        for (t = 0, n = e.children; t < n.length; t++)
                          (i = n[t]), this.quickListRecursive("", i);
                      return [3, 5];
                    case 3:
                      return (
                        (r = o.sent()),
                        console.error("Failed to run quick list", r),
                        [4, this.listRecursive("")]
                      );
                    case 4:
                      return o.sent(), [3, 5];
                    case 5:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.quickListRecursive = function (e, t) {
              var n = t.name,
                i = ot("" === e ? n : e + "/" + n),
                r = rt(i);
              if ((this.trigger("raw", r), !Qe(r)))
                if ("file" === t.type) this.reconcileFileChanged(i, r, t);
                else if (
                  "directory" === t.type &&
                  (this.files.hasOwnProperty(r)
                    ? (this.files[r].realpath = i)
                    : ((this.files[r] = { type: "folder", realpath: i }),
                      this.trigger("folder-created", r)),
                  t.children)
                )
                  for (var o = 0, s = t.children; o < s.length; o++) {
                    var a = s[o];
                    this.quickListRecursive(i, a);
                  }
            }),
            (e.prototype.listRecursive = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i, r, o, s;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (t = this.getFullRealPath(e)), [4, this.fs.readdir(t)]
                      );
                    case 1:
                      for (
                        n = a.sent(), i = [], r = 0, o = n;
                        r < o.length;
                        r++
                      )
                        (s = o[r]), i.push(this.listRecursiveChild(e, s));
                      return [4, Promise.all(i)];
                    case 2:
                      return a.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.listRecursiveChild = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return (
                        (n = ot("" === e ? t : e + "/" + t)),
                        (i = rt(n)),
                        this.trigger("raw", i),
                        Qe(i) ? [4, this.reconcileDeletion(n, i)] : [3, 2]
                      );
                    case 1:
                      return [2, o.sent()];
                    case 2:
                      return [4, this.fs.stat(this.getFullRealPath(n))];
                    case 3:
                      return "file" !== (r = o.sent()).type
                        ? [3, 4]
                        : (this.reconcileFileChanged(n, i, r), [3, 6]);
                    case 4:
                      return "directory" !== r.type
                        ? [3, 6]
                        : [4, this.reconcileFolderCreation(n, i)];
                    case 5:
                      o.sent(), (o.label = 6);
                    case 6:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.mkdir = function (e) {
              var t = this;
              return this.queue(function () {
                return A(t, void 0, void 0, function () {
                  var t, n;
                  return D(this, function (i) {
                    switch (i.label) {
                      case 0:
                        (t = this.getFullPath(e)), (i.label = 1);
                      case 1:
                        return i.trys.push([1, 3, , 4]), [4, this.fs.mkdir(t)];
                      case 2:
                        return i.sent(), [3, 4];
                      case 3:
                        if ("Directory exists" !== (n = i.sent()).message)
                          throw n;
                        return [3, 4];
                      case 4:
                        return [4, this.reconcileInternalFile(e)];
                      case 5:
                        return i.sent(), [2];
                    }
                  });
                });
              });
            }),
            (e.prototype.trashSystem = function (e) {
              var t = this;
              return this.queue(function () {
                return A(t, void 0, void 0, function () {
                  var t;
                  return D(this, function (n) {
                    switch (n.label) {
                      case 0:
                        (t = this.getFullPath(e)), (n.label = 1);
                      case 1:
                        return n.trys.push([1, 3, , 4]), [4, this.fs.trash(t)];
                      case 2:
                        return n.sent(), [3, 4];
                      case 3:
                        return n.sent(), [2, !1];
                      case 4:
                        return [4, this.reconcileInternalFile(e)];
                      case 5:
                        return n.sent(), [2, !0];
                    }
                  });
                });
              });
            }),
            (e.prototype.trashLocal = function (e) {
              var t = this;
              return this.queue(function () {
                return A(t, void 0, void 0, function () {
                  var t, n, i, r, o, s, a, l;
                  return D(this, function (c) {
                    switch (c.label) {
                      case 0:
                        (t = this.getFullPath(e)),
                          (n = this.getFullPath(".trash")),
                          (c.label = 1);
                      case 1:
                        return c.trys.push([1, 3, , 4]), [4, this.fs.mkdir(n)];
                      case 2:
                        return c.sent(), [3, 4];
                      case 3:
                        if ("Directory exists" !== (i = c.sent()).message)
                          throw i;
                        return [3, 4];
                      case 4:
                        (r = Ye(t)),
                          (o = Ze(r)),
                          (s = et(r)),
                          (a = n + "/" + o + "." + s),
                          (l = 1),
                          (c.label = 5);
                      case 5:
                        return [4, this._exists(a)];
                      case 6:
                        return c.sent()
                          ? (l++, (a = n + "/" + o + " " + l + "." + s), [3, 5])
                          : [3, 7];
                      case 7:
                        return [4, this.fs.rename(t, a)];
                      case 8:
                        return c.sent(), [4, this.reconcileInternalFile(e)];
                      case 9:
                        return c.sent(), [2];
                    }
                  });
                });
              });
            }),
            (e.prototype.rmdir = function (e, t) {
              var n = this;
              return this.queue(function () {
                return A(n, void 0, void 0, function () {
                  var t;
                  return D(this, function (n) {
                    switch (n.label) {
                      case 0:
                        return (t = this.getFullPath(e)), [4, this.fs.rmdir(t)];
                      case 1:
                        return n.sent(), [4, this.reconcileInternalFile(e)];
                      case 2:
                        return n.sent(), [2];
                    }
                  });
                });
              });
            }),
            (e.prototype.read = function (e) {
              var t = this;
              return this.queue(function () {
                var n = t.getFullPath(e);
                return t.fs.read(n);
              });
            }),
            (e.prototype.readBinary = function (e) {
              var t = this;
              return this.queue(function () {
                var n = t.getFullPath(e);
                return t.fs.readBinary(n);
              });
            }),
            (e.prototype.write = function (e, t, n) {
              var i = this;
              return this.queue(function () {
                return A(i, void 0, void 0, function () {
                  var i;
                  return D(this, function (r) {
                    switch (r.label) {
                      case 0:
                        return (
                          (i = this.getFullPath(e)), [4, this.fs.write(i, t)]
                        );
                      case 1:
                        return (
                          r.sent(),
                          n
                            ? n.ctime || n.mtime
                              ? [4, this.fs.setTimes(i, n.ctime, n.mtime)]
                              : [3, 3]
                            : [3, 4]
                        );
                      case 2:
                        r.sent(), (r.label = 3);
                      case 3:
                        n.immediate && n.immediate(), (r.label = 4);
                      case 4:
                        return [4, this.reconcileInternalFile(e)];
                      case 5:
                        return r.sent(), [2];
                    }
                  });
                });
              });
            }),
            (e.prototype.writeBinary = function (e, t, n) {
              var i = this;
              return this.queue(function () {
                return A(i, void 0, void 0, function () {
                  var i;
                  return D(this, function (r) {
                    switch (r.label) {
                      case 0:
                        return (
                          (i = this.getFullPath(e)),
                          [4, this.fs.writeBinary(i, t)]
                        );
                      case 1:
                        return (
                          r.sent(),
                          n
                            ? n.ctime || n.mtime
                              ? [4, this.fs.setTimes(i, n.ctime, n.mtime)]
                              : [3, 3]
                            : [3, 4]
                        );
                      case 2:
                        r.sent(), (r.label = 3);
                      case 3:
                        n.immediate && n.immediate(), (r.label = 4);
                      case 4:
                        return [4, this.reconcileInternalFile(e)];
                      case 5:
                        return r.sent(), [2];
                    }
                  });
                });
              });
            }),
            (e.prototype.append = function (e, t, n) {
              var i = this;
              return this.queue(function () {
                return A(i, void 0, void 0, function () {
                  var i;
                  return D(this, function (r) {
                    switch (r.label) {
                      case 0:
                        return (
                          (i = this.getFullPath(e)), [4, this.fs.append(i, t)]
                        );
                      case 1:
                        return (
                          r.sent(),
                          n
                            ? n.ctime || n.mtime
                              ? [4, this.fs.setTimes(i, n.ctime, n.mtime)]
                              : [3, 3]
                            : [3, 4]
                        );
                      case 2:
                        r.sent(), (r.label = 3);
                      case 3:
                        n.immediate && n.immediate(), (r.label = 4);
                      case 4:
                        return [4, this.reconcileInternalFile(e)];
                      case 5:
                        return r.sent(), [2];
                    }
                  });
                });
              });
            }),
            (e.prototype.getResourcePath = function (e) {
              var t = this.getFullPath(e);
              return this.fs.getUri(t);
            }),
            (e.prototype.getNativePath = function (e) {
              var t = this.getFullPath(e);
              return this.fs.getNativeUri(t);
            }),
            (e.prototype.open = function (e) {
              return A(this, void 0, Promise, function () {
                var t;
                return D(this, function (n) {
                  return (t = this.getFullPath(e)), [2, this.fs.open(t)];
                });
              });
            }),
            (e.prototype.remove = function (e) {
              var t = this;
              return this.queue(function () {
                return A(t, void 0, void 0, function () {
                  var t;
                  return D(this, function (n) {
                    switch (n.label) {
                      case 0:
                        return (
                          (t = this.getFullPath(e)), [4, this.fs.delete(t)]
                        );
                      case 1:
                        return n.sent(), [4, this.reconcileInternalFile(e)];
                      case 2:
                        return n.sent(), [2];
                    }
                  });
                });
              });
            }),
            (e.prototype.update = function (e) {
              var t = this;
              return this.queue(function () {
                return A(t, void 0, void 0, function () {
                  return D(this, function (t) {
                    switch (t.label) {
                      case 0:
                        return [4, this.reconcileInternalFile(e)];
                      case 1:
                        return t.sent(), [2];
                    }
                  });
                });
              });
            }),
            (e.prototype.rename = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n = this;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return e === t
                        ? [2]
                        : [
                            4,
                            this.queue(function () {
                              return A(n, void 0, void 0, function () {
                                var n, i, r, o, s, a, l, c, u, h;
                                return D(this, function (p) {
                                  switch (p.label) {
                                    case 0:
                                      return (
                                        (n = this.getFullPath(e)),
                                        (i = this.getFullPath(t)),
                                        [4, this._exists(i, !1)]
                                      );
                                    case 1:
                                      if (
                                        p.sent() &&
                                        (!this.insensitive ||
                                          e.toLowerCase() !== t.toLowerCase())
                                      )
                                        throw new Error(
                                          "Destination file already exists!"
                                        );
                                      return (
                                        (r = this.files[e]),
                                        (o = r ? r.realpath : null),
                                        [4, this.fs.rename(n, i)]
                                      );
                                    case 2:
                                      if ((p.sent(), !r)) return [2];
                                      if (
                                        (delete this.files[e],
                                        (s = this.getRealPath(t)),
                                        (r.realpath = s),
                                        (this.files[t] = r),
                                        this.trigger("renamed", t, e),
                                        "folder" === r.type)
                                      )
                                        for (a in this.files)
                                          this.files.hasOwnProperty(a) &&
                                            a.startsWith(e + "/") &&
                                            ((l = a.slice(e.length)),
                                            (c = t + l),
                                            (u = this.files[a]),
                                            delete this.files[a],
                                            (h = u.realpath.slice(o.length)),
                                            (u.realpath = s + h),
                                            (this.files[c] = u),
                                            this.trigger("renamed", c, a));
                                      return [2];
                                  }
                                });
                              });
                            }),
                          ];
                    case 1:
                      return i.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.copy = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n = this;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return [
                        4,
                        this.queue(function () {
                          return A(n, void 0, void 0, function () {
                            var n, i;
                            return D(this, function (r) {
                              switch (r.label) {
                                case 0:
                                  return (
                                    (n = this.getFullPath(e)),
                                    (i = this.getFullPath(t)),
                                    [4, this.fs.copy(n, i)]
                                  );
                                case 1:
                                  return (
                                    r.sent(), [4, this.reconcileInternalFile(t)]
                                  );
                                case 2:
                                  return r.sent(), [2];
                              }
                            });
                          });
                        }),
                      ];
                    case 1:
                      return i.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.exists = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n = this;
                return D(this, function (i) {
                  return [
                    2,
                    this.queue(function () {
                      var i = n.getFullPath(e);
                      return n._exists(i, t);
                    }),
                  ];
                });
              });
            }),
            (e.prototype._exists = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return r.trys.push([0, 2, , 3]), [4, this.fs.stat(e)];
                    case 1:
                      return r.sent(), [3, 3];
                    case 2:
                      return r.sent(), [2, !1];
                    case 3:
                      return t && this.insensitive
                        ? ((n = Je(e)), (i = Ye(e)), [4, this.fs.readdir(n)])
                        : [3, 5];
                    case 4:
                      if (-1 === r.sent().indexOf(i)) return [2, !1];
                      r.label = 5;
                    case 5:
                      return [2, !0];
                  }
                });
              });
            }),
            (e.prototype.stat = function (e) {
              return A(this, void 0, Promise, function () {
                var t = this;
                return D(this, function (n) {
                  return [
                    2,
                    this.queue(function () {
                      return A(t, void 0, void 0, function () {
                        var t, n, i;
                        return D(this, function (r) {
                          switch (r.label) {
                            case 0:
                              (t = this.getFullPath(e)), (r.label = 1);
                            case 1:
                              return (
                                r.trys.push([1, 3, , 4]), [4, this.fs.stat(t)]
                              );
                            case 2:
                              return "file" === (n = r.sent()).type
                                ? [2, L({ type: "file" }, _R(n))]
                                : "directory" === n.type
                                ? [2, L({ type: "folder" }, _R(n))]
                                : [3, 4];
                            case 3:
                              if ("ENOENT" !== (i = r.sent()).code) throw i;
                              return [3, 4];
                            case 4:
                              return [2, null];
                          }
                        });
                      });
                    }),
                  ];
                });
              });
            }),
            (e.prototype.list = function (e) {
              return A(this, void 0, Promise, function () {
                var t = this;
                return D(this, function (n) {
                  return [
                    2,
                    this.queue(function () {
                      return A(t, void 0, void 0, function () {
                        var t, n, i, r, o, s, a, l, c;
                        return D(this, function (u) {
                          switch (u.label) {
                            case 0:
                              return (
                                (t = this.getFullPath(e)),
                                [4, this.fs.readdir(t)]
                              );
                            case 1:
                              (n = u.sent()),
                                (i = { folders: [], files: [] }),
                                (r = 0),
                                (o = n),
                                (u.label = 2);
                            case 2:
                              return r < o.length
                                ? ((s = o[r]),
                                  (a = ot("" === e ? s : e + "/" + s)),
                                  (l = rt(a)),
                                  [4, this.fs.stat(this.getFullRealPath(a))])
                                : [3, 5];
                            case 3:
                              "file" === (c = u.sent()).type && i.files.push(l),
                                "directory" === c.type && i.folders.push(l),
                                (u.label = 4);
                            case 4:
                              return r++, [3, 2];
                            case 5:
                              return [2, i];
                          }
                        });
                      });
                    }),
                  ];
                });
              });
            }),
            (e.prototype.watch = function (e) {
              return A(this, void 0, Promise, function () {
                var t = this;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        this.stopWatch(),
                        (this.handler = e),
                        [
                          4,
                          yI.addListener("change", function (e) {
                            var n = ot(e.path),
                              i = ot(n.substr(t.basePath.length));
                            t.onFileChange(i);
                          }),
                        ]
                      );
                    case 1:
                      return (
                        n.sent(),
                        [
                          2,
                          this.queue(function () {
                            return t.listAll();
                          }),
                        ]
                      );
                  }
                });
              });
            }),
            (e.prototype.stopWatch = function () {
              try {
                yI.removeAllListeners();
              } catch (e) {}
              this.handler = null;
            }),
            (e.prototype.onFileChange = function (e) {
              var t = this;
              e &&
                ((e = ot(e)),
                setTimeout(function () {
                  var n = rt(e);
                  t.queue(function () {
                    return t.reconcileFile(e, n, !1);
                  });
                }, 0));
            }),
            (e.prototype.reconcileInternalFile = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  return [2, this.reconcileFile(this.getRealPath(e), e)];
                });
              });
            }),
            (e.prototype.reconcileFile = function (e, t, n) {
              return (
                void 0 === n && (n = !0),
                A(this, void 0, Promise, function () {
                  var i, r, o, s, a;
                  return D(this, function (l) {
                    switch (l.label) {
                      case 0:
                        return (
                          this.trigger("raw", t),
                          Qe(t) ? [4, this.reconcileDeletion(e, t, n)] : [3, 2]
                        );
                      case 1:
                        return [2, l.sent()];
                      case 2:
                        return (
                          l.trys.push([2, 10, , 14]),
                          (i = this.getFullRealPath(e)),
                          this.insensitive
                            ? ((r = Je(i)),
                              (o = Ye(t)),
                              [4, this.fs.readdir(r)])
                            : [3, 5]
                        );
                      case 3:
                        return -1 !==
                          l
                            .sent()
                            .map(function (e) {
                              return WF(e).normalize("NFC");
                            })
                            .indexOf(o)
                          ? [3, 5]
                          : [4, this.reconcileDeletion(e, t, n)];
                      case 4:
                        return [2, l.sent()];
                      case 5:
                        return [4, this.fs.stat(i)];
                      case 6:
                        return "file" !== (s = l.sent()).type
                          ? [3, 7]
                          : (this.reconcileFileChanged(e, t, s), [3, 9]);
                      case 7:
                        return "directory" !== s.type
                          ? [3, 9]
                          : [4, this.reconcileFolderCreation(e, t)];
                      case 8:
                        l.sent(), (l.label = 9);
                      case 9:
                        return [3, 14];
                      case 10:
                        return "ENOENT" !== (a = l.sent()).code
                          ? [3, 12]
                          : [4, this.reconcileDeletion(e, t, n)];
                      case 11:
                        return l.sent(), [3, 13];
                      case 12:
                        console.error(a), (l.label = 13);
                      case 13:
                        return [3, 14];
                      case 14:
                        return [2];
                    }
                  });
                })
              );
            }),
            (e.prototype.reconcileFileChanged = function (e, t, n) {
              var i = this.files[t];
              if (i) {
                if (
                  ((i.realpath = e),
                  "file" === i.type &&
                    (i.mtime !== Math.round(n.mtime) || i.size !== n.size))
                ) {
                  (i.mtime = Math.round(n.mtime)), (i.size = n.size);
                  var r = _R(n);
                  this.trigger("modified", t, t, r);
                }
              } else this.reconcileFileCreation(e, t, n);
            }),
            (e.prototype.reconcileFileCreation = function (e, t, n) {
              var i = _R(n);
              this.files[t] ||
                ((this.files[t] = (function (e, t) {
                  return "file" === t.type
                    ? {
                        type: "file",
                        realpath: e,
                        ctime: Math.round(t.ctime),
                        mtime: Math.round(t.mtime),
                        size: t.size,
                      }
                    : "directory" === t.type
                    ? { type: "folder", realpath: e }
                    : void 0;
                })(e, n)),
                this.trigger("file-created", t, t, i));
            }),
            (e.prototype.reconcileFolderCreation = function (e, t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return this.files.hasOwnProperty(t)
                        ? [3, 2]
                        : ((this.files[t] = { type: "folder", realpath: e }),
                          this.trigger("folder-created", t),
                          [4, this.listRecursive(e)]);
                    case 1:
                      return n.sent(), [3, 3];
                    case 2:
                      (this.files[t].realpath = e), (n.label = 3);
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.reconcileDeletion = function (e, t, n) {
              return (
                void 0 === n && (n = !0),
                A(this, void 0, Promise, function () {
                  var i,
                    r,
                    o = this;
                  return D(this, function (s) {
                    if ("/" === t) return this.trigger("closed", t), [2];
                    if (!(i = this.files[t])) return [2];
                    if (!n)
                      return (
                        setTimeout(function () {
                          o.queue(function () {
                            return o.reconcileFile(e, t);
                          });
                        }, 100),
                        [2]
                      );
                    if ("folder" === i.type)
                      for (r in this.files)
                        this.files.hasOwnProperty(r) &&
                          r.startsWith(t + "/") &&
                          this.removeFile(r);
                    return this.removeFile(t), [2];
                  });
                })
              );
            }),
            (e.prototype.trigger = function (e, t, n, i) {
              this.handler && this.handler(e, t, n, i);
            }),
            (e.prototype.getRealPath = function (e) {
              for (var t = e; t; ) {
                if (this.files.hasOwnProperty(t)) {
                  var n = e.substr(t.length);
                  return this.files[t].realpath + n;
                }
                t = Je(t);
              }
              return e;
            }),
            (e.prototype.getFullPath = function (e) {
              var t = this.getRealPath(e);
              return this.getFullRealPath(t);
            }),
            (e.prototype.getFullRealPath = function (e) {
              return this.basePath + "/" + e;
            }),
            (e.prototype.queue = function (e) {
              var t = this.promise.then(e, e);
              return (this.promise = t), t;
            }),
            (e.prototype.removeFile = function (e) {
              var t = this.files[e];
              delete this.files[e],
                t &&
                  ("file" === t.type
                    ? this.trigger("file-removed", e)
                    : "folder" === t.type && this.trigger("folder-removed", e));
            }),
            e
          );
        })(),
        KR = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t, n) || this;
            return (
              (r.editor = i),
              r.suggestEl.on("mousedown", ".suggestion-item", function (e) {
                return e.preventDefault();
              }),
              r
            );
          }
          return (
            M(t, e),
            (t.prototype.getSuggestions = function (e) {
              return [0, 1, 2, 3, 4, 5, 6];
            }),
            (t.prototype.renderSuggestion = function (e, t) {
              0 === e ? t.setText("No heading") : t.setText("Heading " + e);
            }),
            (t.prototype.selectSuggestion = function (e, t) {
              this.close(), this.editor.setHeading(e);
            }),
            (t.prototype.open = function () {
              this.suggestions.setSuggestions(this.getSuggestions("")),
                eb.isMobile ||
                  this.reposition(
                    this.editor.coordsAtPos(this.editor.getCursor())
                  ),
                e.prototype.open.call(this);
            }),
            t
          );
        })(XI);
      var $R = (function () {
          function e(e) {
            this.app = e;
          }
          return (
            (e.prototype.cleanup = function () {
              var e = this.app,
                t = this.app.appId + "-note-fold-";
              for (var n in localStorage)
                if (n.startsWith(t)) {
                  var i = n.substr(t.length);
                  e.vault.getAbstractFileByPath(i) ||
                    localStorage.removeItem(n);
                }
            }),
            (e.prototype.load = function (e) {
              return e
                ? this.app.loadLocalStorage("note-fold-" + e.path)
                : null;
            }),
            (e.prototype.save = function (e, t) {
              if (e) return this.app.saveLocalStorage("note-fold-" + e.path, t);
            }),
            e
          );
        })(),
        YR = (function () {
          function e(e) {
            (this.isOpen = !1),
              (this.app = e),
              (this.containerEl = createDiv("mobile-toolbar")),
              (this.optionsContainerEl = this.containerEl.createDiv(
                "mobile-toolbar-options-container"
              ));
          }
          return (
            (e.prototype.open = function () {
              var e = this,
                t = this.app,
                n = this.optionsContainerEl;
              n.empty();
              var i = t.vault.getConfig("mobileToolbarCommands");
              if (0 !== i.length) {
                for (
                  var r,
                    o = t.commands,
                    s = function (e) {
                      var t = o.findCommand(e);
                      if (!t) return "continue";
                      n.createDiv("mobile-toolbar-option", function (n) {
                        var i = t.icon;
                        i || (i = Ly),
                          Xy(n, i, 22),
                          n.addEventListener("click", function (t) {
                            o.executeCommandById(e, t), t.preventDefault();
                          }),
                          n.addEventListener("mousedown", function (e) {
                            e.preventDefault();
                          });
                      });
                    },
                    a = 0,
                    l = i;
                  a < l.length;
                  a++
                ) {
                  s(l[a]);
                }
                this.isOpen = !0;
                var c = function () {
                  if (
                    (clearTimeout(r),
                    window.removeEventListener("resize", c),
                    e.isOpen)
                  ) {
                    var t = e.containerEl;
                    e.app.dom.appContainerEl.appendChild(t);
                    var n = t.offsetHeight - 1;
                    Vb(
                      t,
                      new Nb({ duration: 250 }).addProp(
                        "transform",
                        "translateY(" + n + "px)",
                        ""
                      )
                    );
                  }
                };
                window.addEventListener("resize", c),
                  (r = window.setTimeout(c, 500));
              }
            }),
            (e.prototype.close = function () {
              this.isOpen = !1;
              var e = this.containerEl;
              zb(e), e.detach();
            }),
            e
          );
        })();
      function JR(e) {
        return "md" === e.extension ? Ze(e.path) : e.path;
      }
      var QR = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.shouldShowUnresolved = !1),
              (n.shouldShowAlias = !0),
              (n.shouldShowAttachments = !0),
              (n.shouldShowAllTypes = !1),
              (n.limit = 10),
              n.scope.register(null, "Tab", function () {
                return !1;
              }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.onNoSuggestion = function () {
              this.chooser.setSuggestions([null]),
                this.chooser.addMessage(this.emptyStateText);
            }),
            (t.prototype.getSuggestions = function (e) {
              var t = this;
              e = e.trim();
              var n = this.app,
                i = n.workspace,
                r = n.vault,
                o = n.metadataCache,
                s = n.viewRegistry,
                a = [],
                l = !this.shouldShowAttachments,
                c = function (e) {
                  return s.isExtensionRegistered(e.extension)
                    ? !l || "md" === e.extension
                    : t.shouldShowAllTypes;
                };
              if (!e) {
                for (var u = 0, h = i.getLastOpenFiles(); u < h.length; u++) {
                  var p = h[u];
                  (v = r.getAbstractFileByPath(p)) instanceof Ab &&
                    c(v) &&
                    a.push({ type: "file", file: v, match: null });
                }
                return a;
              }
              var d,
                f = r.getFiles().filter(function (e) {
                  return c(e);
                });
              d = f.length < 1e4 ? ZT(e) : sP(e);
              for (var g = 0, m = f; g < m.length; g++) {
                var v;
                if (
                  ((P = EN(d, JR((v = m[g])))) &&
                    a.push({ type: "file", file: v, match: P }),
                  this.shouldShowAlias)
                ) {
                  var y = o.getFileCache(v);
                  if (y) {
                    var b = Kg(y.frontmatter);
                    if (b)
                      for (var w = 0, k = b; w < k.length; w++) {
                        var C = k[w],
                          x = d(C);
                        x &&
                          a.push({
                            type: "alias",
                            alias: C,
                            file: v,
                            match: x,
                          });
                      }
                  }
                }
              }
              if (this.shouldShowUnresolved) {
                var S = o.unresolvedLinks,
                  E = [];
                for (var M in S)
                  if (S.hasOwnProperty(M)) {
                    var L = S[M];
                    for (var A in L) L.hasOwnProperty(A) && E.push(A);
                  }
                for (
                  var D = 0, T = (E = Array.from(new Set(E)));
                  D < T.length;
                  D++
                ) {
                  var P,
                    O = T[D];
                  (P = d(O)) &&
                    a.push({ type: "unresolved", linktext: O, match: P });
                }
              }
              return iP(a), a;
            }),
            (t.prototype.renderSuggestion = function (e, t) {
              if (!e) {
                var n = this.inputEl.value;
                return (
                  t.setText(n),
                  t.createEl("kbd", {
                    cls: "suggestion-hotkey",
                    text: Lt("interface.label-enter-to-create"),
                  }),
                  void t.createSpan({ cls: "suggestion-flair", prepend: !0 })
                );
              }
              if ("file" === e.type)
                aP(t, JR(e.file), e.match),
                  t.createSpan({ cls: "suggestion-flair", prepend: !0 });
              else if ("alias" === e.type) {
                aP(t, e.alias, e.match),
                  t.createSpan(
                    { cls: "suggestion-flair", prepend: !0 },
                    function (e) {
                      Xy(e, kv, 16), nn(e, Lt("interface.tooltip.alias"));
                    }
                  ),
                  t.createDiv("suggestion-note").appendText(JR(e.file));
              } else
                "unresolved" === e.type &&
                  (t.createSpan(
                    { cls: "suggestion-flair", prepend: !0, text: "+" },
                    function (e) {
                      Xy(e, dy, 16),
                        nn(e, Lt("interface.tooltip.not-created-yet"));
                    }
                  ),
                  aP(t, e.linktext, e.match));
            }),
            t
          );
        })(NN),
        XR = (function () {
          function e(e) {
            this.app = e;
          }
          return (
            (e.prototype.setupNative = function () {
              var e = this;
              gI &&
                mI.addListener("appShareIntent", function (t) {
                  return A(e, void 0, void 0, function () {
                    return D(this, function (e) {
                      switch (e.label) {
                        case 0:
                          return (
                            bh(),
                            "text" !== t.type
                              ? [3, 2]
                              : [4, this.handleShareText(t.text)]
                          );
                        case 1:
                          e.sent(), (e.label = 2);
                        case 2:
                          return "file" !== t.type
                            ? [3, 4]
                            : [4, this.handleShareFiles([t])];
                        case 3:
                          e.sent(), (e.label = 4);
                        case 4:
                          return "files" !== t.type
                            ? [3, 6]
                            : [4, this.handleShareFiles(t.files)];
                        case 5:
                          e.sent(), (e.label = 6);
                        case 6:
                          return [2];
                      }
                    });
                  });
                });
            }),
            (e.prototype.setupWorkspace = function () {
              var e = this.app,
                t = e.workspace;
              t.on("receive-text-menu", function (n, i) {
                var r = t.getActiveViewOfType(IR);
                r &&
                  n.addItem(function (e) {
                    return e
                      .setTitle(
                        Lt("interface.mobile.action-insert-text-into-file", {
                          filename: r.file.basename,
                        })
                      )
                      .setIcon(dm)
                      .onClick(function () {
                        return r.editor.insertText("\n" + i + "\n");
                      });
                  }),
                  n.addItem(function (t) {
                    return t
                      .setTitle(
                        Lt("interface.mobile.action-choose-file-to-insert")
                      )
                      .setIcon(dm)
                      .onClick(function () {
                        new ZR(e, i).open();
                      });
                  });
              }),
                t.on("receive-files-menu", function (n, i) {
                  var r = t.getActiveViewOfType(IR);
                  r &&
                    n.addItem(function (t) {
                      return t
                        .setTitle(
                          Lt("interface.mobile.action-insert-link-into-file", {
                            filename: r.file.basename,
                          })
                        )
                        .setIcon(dm)
                        .onClick(function () {
                          var t = i.map(function (t) {
                            return e.fileManager.generateMarkdownLink(
                              t,
                              r.file.path
                            );
                          });
                          r.editor.insertText("\n" + t.join("\n") + "\n");
                        });
                    });
                });
            }),
            (e.prototype.handleShareText = function (e) {
              return A(this, void 0, void 0, function () {
                var t;
                return D(this, function (n) {
                  return (
                    (t = new rw(this.app)
                      .addItem(function (t) {
                        return t
                          .setTitle(jF(e, 300))
                          .removeIcon()
                          .setIsLabel(!0)
                          .titleEl.addClass("u-muted", "u-small");
                      })
                      .addSeparator()),
                    this.app.workspace.trigger("receive-text-menu", t, e),
                    t
                      .addItem(function (e) {
                        return e
                          .setTitle(Lt("dialogue.button-cancel"))
                          .setIcon(Jm)
                          .onClick(function () {
                            return null;
                          });
                      })
                      .showAtPosition({ x: 0, y: 0 }),
                    [2]
                  );
                });
              });
            }),
            (e.prototype.handleShareFiles = function (e) {
              return A(this, void 0, void 0, function () {
                var t = this;
                return D(this, function (n) {
                  return (
                    new rw(this.app)
                      .addItem(function (t) {
                        return t
                          .setTitle(
                            createFragment(function (t) {
                              for (var n = 0, i = e; n < i.length; n++) {
                                var r = i[n];
                                t.createDiv({ text: r.name });
                              }
                            })
                          )
                          .removeIcon()
                          .setIsLabel(!0)
                          .titleEl.addClass("u-muted", "u-small");
                      })
                      .addSeparator()
                      .addItem(function (n) {
                        return n
                          .setTitle(Lt("interface.mobile.action-import"))
                          .setIcon(Sm)
                          .onClick(function () {
                            return t.importFiles(e);
                          });
                      })
                      .addItem(function (e) {
                        return e
                          .setTitle(Lt("dialogue.button-cancel"))
                          .setIcon(Jm)
                          .onClick(function () {
                            return null;
                          });
                      })
                      .showAtPosition({ x: 0, y: 0 }),
                    [2]
                  );
                });
              });
            }),
            (e.prototype.importFiles = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i, r, o, s, a, l, c, u, h, p, d, f, g;
                return D(this, function (m) {
                  switch (m.label) {
                    case 0:
                      (t = []),
                        (n = new lw(Lt("interface.mobile.msg-importing"), 0)),
                        (i = 0),
                        (r = this.app.vault),
                        (o = 0),
                        (s = e),
                        (m.label = 1);
                    case 1:
                      if (!(o < s.length)) return [3, 12];
                      (a = s[o]), (m.label = 2);
                    case 2:
                      return (
                        m.trys.push([2, 10, , 11]),
                        e.length > 1 &&
                          n.setMessage(
                            Lt("interface.mobile.msg-importing") +
                              " (" +
                              i +
                              "/" +
                              e.length +
                              ")"
                          ),
                        [4, fetch(un.convertFileSrc(a.uri))]
                      );
                    case 3:
                      return [4, m.sent().arrayBuffer()];
                    case 4:
                      return (
                        (l = m.sent()),
                        (c = a.name || Ye(a.uri)),
                        (u = Xe(c)),
                        (h = et(c)),
                        (p = void 0),
                        "md" === h
                          ? [3, 6]
                          : [4, r.getAvailablePathForAttachments(u, h)]
                      );
                    case 5:
                      return (p = m.sent()), [3, 8];
                    case 6:
                      return [4, r.getAvailablePath(u, h)];
                    case 7:
                      (p = m.sent()), (m.label = 8);
                    case 8:
                      return [4, r.createBinary(p, l)];
                    case 9:
                      return (d = m.sent()), t.push(d), i++, [3, 11];
                    case 10:
                      return (
                        (f = m.sent()),
                        n.hide(),
                        new lw(
                          Lt("interface.mobile.msg-failed-to-import-file", {
                            filename: a.name,
                          })
                        ),
                        new lw(f.toString()),
                        [2]
                      );
                    case 11:
                      return o++, [3, 1];
                    case 12:
                      return (
                        n.hide(),
                        (g = new rw(this.app)
                          .addItem(function (e) {
                            return e
                              .setTitle(
                                Lt("interface.mobile.msg-import-success")
                              )
                              .removeIcon()
                              .setIsLabel(!0);
                          })
                          .addSeparator()).addItem(function (e) {
                          return e
                            .setTitle(Lt("dialogue.button-done"))
                            .setIcon(Fm)
                            .onClick(function () {
                              return null;
                            });
                        }),
                        this.app.workspace.trigger("receive-files-menu", g, t),
                        g.showAtPosition({ x: 0, y: 0 }),
                        [2]
                      );
                  }
                });
              });
            }),
            e
          );
        })(),
        ZR = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (
              (i.emptyStateText = Lt(
                "plugins.quick-switcher.label-no-note-create-new"
              )),
              (i.text = n),
              (i.shouldShowUnresolved = !0),
              (i.shouldShowAttachments = !1),
              (i.shouldShowAllTypes = !1),
              i.setPlaceholder("Choose file to insert"),
              i.setInstructions([
                { command: "↑↓", purpose: "to navigate" },
                { command: "↵", purpose: "to select" },
                { command: "esc", purpose: "to dismiss" },
              ]),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.onChooseSuggestion = function (e, t) {
              return A(this, void 0, Promise, function () {
                var t, n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      (t = null), (n = this.app), (r.label = 1);
                    case 1:
                      return (
                        r.trys.push([1, 7, , 8]),
                        e
                          ? [3, 3]
                          : [
                              4,
                              n.fileManager.createNewMarkdownFileFromLinktext(
                                this.inputEl.value,
                                ""
                              ),
                            ]
                      );
                    case 2:
                      return (t = r.sent()), [3, 6];
                    case 3:
                      return "unresolved" !== e.type
                        ? [3, 5]
                        : [
                            4,
                            n.fileManager.createNewMarkdownFileFromLinktext(
                              e.linktext,
                              ""
                            ),
                          ];
                    case 4:
                      return (t = r.sent()), [3, 6];
                    case 5:
                      ("file" !== e.type && "alias" !== e.type) || (t = e.file),
                        (r.label = 6);
                    case 6:
                      return [3, 8];
                    case 7:
                      return (i = r.sent()), new lw(i.toString()), [2];
                    case 8:
                      return t
                        ? [
                            4,
                            this.app.fileManager.insertTextIntoFile(
                              t,
                              this.text,
                              "",
                              "",
                              !1
                            ),
                          ]
                        : [3, 11];
                    case 9:
                      return (
                        r.sent(), [4, this.app.workspace.getLeaf().openFile(t)]
                      );
                    case 10:
                      r.sent(), (r.label = 11);
                    case 11:
                      return [2];
                  }
                });
              });
            }),
            t
          );
        })(QR),
        ez = "audio/mp4",
        tz = (function () {
          function e() {
            (this.id = "audio-recorder"),
              (this.name = Lt("plugins.audio-recorder.name")),
              (this.description = Lt("plugins.audio-recorder.desc")),
              (this.app = null),
              (this.plugin = null),
              (this.recording = !1),
              (this.recorder = null),
              (this.extension = "");
          }
          return (
            (e.prototype.init = function (e, t) {
              var n = this;
              (this.app = e),
                (this.plugin = t),
                t.registerRibbonAction(
                  Lt("plugins.audio-recorder.action-toggle"),
                  Dm,
                  this.onRecordAudio.bind(this)
                ),
                t.registerGlobalCommand({
                  id: "audio-recorder:start",
                  name: Lt("plugins.audio-recorder.action-start"),
                  icon: Py,
                  checkCallback: function (e) {
                    return !n.recording && (e || n.onStartRecording(), !0);
                  },
                }),
                t.registerGlobalCommand({
                  id: "audio-recorder:stop",
                  name: Lt("plugins.audio-recorder.action-stop"),
                  icon: Oy,
                  checkCallback: function (e) {
                    return !!n.recording && (e || n.onStopRecording(), !0);
                  },
                });
            }),
            (e.prototype.checkPermission = function () {
              return A(this, void 0, Promise, function () {
                var e, t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return eb.isDesktopApp && "MacOS" === pe
                        ? (e = ct("electron"))
                          ? ((t = e.remote.systemPreferences),
                            (n = t.getMediaAccessStatus("microphone")),
                            ["denied", "restricted", "unknown"].contains(n)
                              ? (this.showRecordingMessage(
                                  Lt(
                                    "plugins.audio-recorder.msg-access-denied"
                                  ),
                                  !0
                                ),
                                [2, !1])
                              : [3, 1])
                          : (this.showRecordingMessage(
                              Lt("plugins.audio-recorder.msg-access-denied"),
                              !0
                            ),
                            [2, !1])
                        : [3, 5];
                    case 1:
                      return "not-determined" !== n
                        ? [3, 3]
                        : (this.showRecordingMessage(
                            Lt("plugins.audio-recorder.msg-pending-grant"),
                            !1
                          ),
                          [4, t.askForMediaAccess("microphone")]);
                    case 2:
                      return [2, i.sent()];
                    case 3:
                      if ("granted" === n) return [2, !0];
                      i.label = 4;
                    case 4:
                      return [2, !1];
                    case 5:
                      return [2, !0];
                  }
                });
              });
            }),
            (e.prototype.onRecordAudio = function () {
              return A(this, void 0, void 0, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.checkPermission()];
                    case 1:
                      return e.sent()
                        ? this.recording
                          ? [3, 3]
                          : [4, this.onStartRecording()]
                        : [2];
                    case 2:
                      return e.sent(), [3, 4];
                    case 3:
                      this.onStopRecording(), (e.label = 4);
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.onStartRecording = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      if (fI && !navigator.mediaDevices)
                        return (
                          new lw("This functionality requires iOS 14.5."), [2]
                        );
                      i.label = 1;
                    case 1:
                      return (
                        i.trys.push([1, 4, , 5]),
                        [
                          4,
                          navigator.mediaDevices.getUserMedia({
                            audio: !0,
                            video: !1,
                          }),
                        ]
                      );
                    case 2:
                      return (e = i.sent()), [4, this.startRecording(e)];
                    case 3:
                      return i.sent(), [3, 5];
                    case 4:
                      return (
                        (t = i.sent()).message.contains(
                          "Requested device not found"
                        ) && this.plugin.addedButtonEls.length > 0
                          ? ((n = Lt(
                              "plugins.audio-recorder.msg-no-microphone"
                            )),
                            this.showRecordingMessage(n, !0))
                          : (t.message.contains("denied") && new lw(t.message),
                            console.error(t)),
                        [2]
                      );
                    case 5:
                      return (
                        (this.recording = !0),
                        this.plugin.addedButtonEls.forEach(function (e) {
                          Xy(e, Tm, 18), e.addClass("is-active");
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.onStopRecording = function () {
              (this.recording = !1),
                this.recorder.stop(),
                this.plugin.addedButtonEls.forEach(function (e) {
                  Xy(e, Dm, 18), e.removeClass("is-active");
                });
            }),
            (e.prototype.startRecording = function (e) {
              var t = this,
                n = [],
                i = 'audio/webm;codecs="opus"';
              (this.extension = "webm"),
                MediaRecorder.isTypeSupported(ez) &&
                  ((i = ez), (this.extension = "m4a")),
                (this.recorder = new MediaRecorder(e, { mimeType: i })),
                this.recorder.addEventListener("dataavailable", function (e) {
                  e.data.size > 0 && n.push(e.data);
                }),
                this.recorder.addEventListener("stop", function () {
                  return A(t, void 0, void 0, function () {
                    var t,
                      i = this;
                    return D(this, function (r) {
                      return (
                        (this.recorder = null),
                        e.getTracks().forEach(function (e) {
                          e.stop();
                        }),
                        (t = new FileReader()).addEventListener(
                          "loadend",
                          function () {
                            return A(i, void 0, void 0, function () {
                              return D(this, function (e) {
                                switch (e.label) {
                                  case 0:
                                    return [4, this.saveRecording(t.result)];
                                  case 1:
                                    return e.sent(), [2];
                                }
                              });
                            });
                          }
                        ),
                        t.readAsArrayBuffer(n[0]),
                        A(i, void 0, void 0, function () {
                          var e;
                          return D(this, function (t) {
                            switch (t.label) {
                              case 0:
                                return (
                                  t.trys.push([0, 3, , 4]),
                                  dI ? [4, CI.allowSleep()] : [3, 2]
                                );
                              case 1:
                                t.sent(), (t.label = 2);
                              case 2:
                                return [3, 4];
                              case 3:
                                return (e = t.sent()), console.error(e), [3, 4];
                              case 4:
                                return [2];
                            }
                          });
                        }).then(),
                        [2]
                      );
                    });
                  });
                }),
                this.recorder.start(),
                A(t, void 0, void 0, function () {
                  var e;
                  return D(this, function (t) {
                    switch (t.label) {
                      case 0:
                        return (
                          t.trys.push([0, 3, , 4]),
                          dI ? [4, CI.keepAwake()] : [3, 2]
                        );
                      case 1:
                        t.sent(), (t.label = 2);
                      case 2:
                        return [3, 4];
                      case 3:
                        return (e = t.sent()), console.error(e), [3, 4];
                      case 4:
                        return [2];
                    }
                  });
                }).then();
            }),
            (e.prototype.saveRecording = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i, r, o, s, a, l, c, u;
                return D(this, function (h) {
                  switch (h.label) {
                    case 0:
                      return (
                        (t = this.app),
                        (n = t.workspace),
                        (i =
                          "Recording " +
                          window.moment().format("YYYYMMDDHHmmss")),
                        (r = null),
                        (o = n.getActiveViewOfType(IR)) && (r = o.file),
                        [
                          4,
                          t.vault.getAvailablePathForAttachments(
                            i,
                            this.extension,
                            r
                          ),
                        ]
                      );
                    case 1:
                      return (s = h.sent()), [4, t.vault.createBinary(s, e)];
                    case 2:
                      return (
                        (a = h.sent()),
                        o
                          ? ((l = o.file),
                            (c = this.app.fileManager.generateMarkdownLink(
                              a,
                              l.path
                            )),
                            [4, t.vault.read(l)])
                          : [3, 5]
                      );
                    case 3:
                      return (
                        (u = h.sent()),
                        (u += "\n" + c + "\n"),
                        [4, t.vault.modify(l, u)]
                      );
                    case 4:
                      return h.sent(), [2];
                    case 5:
                      return [
                        4,
                        n.getUnpinnedLeaf().openFile(a, { active: !0 }),
                      ];
                    case 6:
                      return h.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.showRecordingMessage = function (e, t) {
              this.plugin.addedButtonEls.length > 0 &&
                Zt(this.plugin.addedButtonEls[0], e, {
                  placement: "right",
                  classes: t ? ["mod-error"] : [],
                });
            }),
            e
          );
        })(),
        nz = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (
              (i.textInputEl = null),
              (i.textInputEl = n),
              n.addEventListener("input", i.onInputChange.bind(i)),
              n.addEventListener("focus", i.onInputChange.bind(i)),
              n.addEventListener("blur", i.close.bind(i)),
              i.suggestEl.on("mousedown", ".suggestion-item", function (e) {
                e.preventDefault();
              }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.onInputChange = function () {
              var e = this.textInputEl,
                t = e.value,
                n = this.getSuggestions(t);
              n.length > 0
                ? (this.suggestions.setSuggestions(n),
                  this.open(),
                  this.setAutoDestroy(e),
                  eb.isMobile || this.reposition(Mh(e)))
                : this.close();
            }),
            t
          );
        })(XI),
        iz = (function (e) {
          function t(t, n, i, r) {
            var o = e.call(this, t, n) || this;
            return (o.commands = i), (o.cb = r), o;
          }
          return (
            M(t, e),
            (t.prototype.renderSuggestion = function (e, t) {
              lP(t, e.command.name, e.matches.matches);
            }),
            (t.prototype.getSuggestions = function (e) {
              var t = sP(e);
              return this.commands
                .map(function (e) {
                  return { command: e, matches: t(e.name) };
                })
                .filter(function (e) {
                  return !!e.matches;
                })
                .sort(function (e, t) {
                  return t.matches.score - e.matches.score;
                })
                .slice(0, 100);
            }),
            (t.prototype.selectSuggestion = function (e) {
              this.cb(e.command), this.close();
            }),
            t
          );
        })(nz),
        rz = (function () {
          function e() {
            (this.id = "command-palette"),
              (this.name = Lt("plugins.command-palette.name")),
              (this.description = Lt("plugins.command-palette.desc")),
              (this.defaultOn = !0),
              (this.modal = null),
              (this.options = {});
          }
          return (
            (e.prototype.init = function (e, t) {
              (this.app = e),
                (this.openCallback = this.onOpen.bind(this)),
                t.registerRibbonAction(
                  Lt("plugins.command-palette.action-open"),
                  ry,
                  this.openCallback
                ),
                t.registerGlobalCommand({
                  id: "command-palette:open",
                  name: Lt("plugins.command-palette.action-open"),
                  icon: vy,
                  callback: this.openCallback,
                  hotkeys: [vT(["Mod"], "P")],
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return (
                        (this.modal = new oz(e, this)),
                        (n = this),
                        (r = (i = Object).assign),
                        (o = [{}]),
                        [4, t.loadData()]
                      );
                    case 1:
                      return (
                        (n.options = r.apply(i, o.concat([s.sent()]))),
                        t.addSettingTab(new sz(e, t, this)),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.onDisable = function (e, t) {
              this.modal = null;
            }),
            (e.prototype.saveSettings = function (e) {
              e.saveData(this.options);
            }),
            (e.prototype.onOpen = function () {
              return this.modal && this.modal.open(), !1;
            }),
            (e.prototype.getCommands = function () {
              var e = this.app.commands.listCommands(),
                t = this.options.pinned;
              return (
                t &&
                  e.sort(function (e, n) {
                    var i = t.indexOf(e.id),
                      r = t.indexOf(n.id);
                    return i === r
                      ? YN(e.name, n.name)
                      : -1 === i
                      ? 1
                      : -1 === r
                      ? -1
                      : i - r;
                  }),
                e
              );
            }),
            e
          );
        })(),
        oz = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (
              (i.emptyStateText = Lt(
                "plugins.command-palette.label-no-commands"
              )),
              (i.commands = null),
              (i.plugin = n),
              i.setInstructions([
                {
                  command: "↑↓",
                  purpose: Lt("plugins.command-palette.instruction-navigate"),
                },
                {
                  command: "↵",
                  purpose: Lt("plugins.command-palette.instruction-use"),
                },
                {
                  command: "esc",
                  purpose: Lt("plugins.command-palette.instruction-dismiss"),
                },
              ]),
              i.setPlaceholder(
                Lt("plugins.command-palette.prompt-type-command")
              ),
              i.scope.register(null, "Tab", function () {
                return !1;
              }),
              i.scope.register(null, "Enter", function (e) {
                if (!e.isComposing) return i.chooser.useSelectedItem(e), !1;
              }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.onOpen = function () {
              (this.commands = null), e.prototype.onOpen.call(this);
            }),
            (t.prototype.onClose = function () {
              (this.commands = null), e.prototype.onClose.call(this);
            }),
            (t.prototype.getItems = function () {
              var e = this.commands;
              return e || (e = this.commands = this.plugin.getCommands()), e;
            }),
            (t.prototype.getItemText = function (e) {
              return e.name;
            }),
            (t.prototype.renderSuggestion = function (e, t) {
              var n = t.createSpan("suggestion-prefix"),
                i = t.createSpan("suggestion-content"),
                r = e.item,
                o = this.plugin.options.pinned;
              o &&
                o.contains(r.id) &&
                t.createSpan({ cls: "suggestion-flair" }, function (e) {
                  Xy(e, nv, 13);
                });
              var s = r.name,
                a = s.indexOf(": ");
              if (-1 !== a) {
                var l = s.slice(0, a),
                  c = s.slice(a + 2);
                aP(n, l, e.match), aP(i, c, e.match, -(a + 2));
              } else aP(i, s, e.match), n.remove();
              var u = this.app,
                h = u.hotkeyManager.getHotkeys(r.id),
                p = u.hotkeyManager.getDefaultHotkeys(r.id);
              if (h)
                for (var d = 0, f = h; d < f.length; d++) {
                  var g = f[d];
                  t.createEl("kbd", { cls: "suggestion-hotkey", text: bT(g) });
                }
              else if (p)
                for (var m = 0, v = p; m < v.length; m++) {
                  var y = v[m];
                  t.createEl("kbd", { cls: "suggestion-hotkey", text: bT(y) });
                }
            }),
            (t.prototype.onChooseItem = function (e, t) {
              (this.app.lastEvent = t), zR(e);
            }),
            t
          );
        })(BN),
        sz = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t, n) || this;
            return (r.instance = i), r;
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              var e = this,
                t = this.containerEl;
              t.empty(),
                new ZD(t)
                  .setHeading()
                  .setName(Lt("plugins.command-palette.label-pinned-commands"));
              var n = [],
                i = function () {
                  var t = n.map(function (e) {
                    return e.id;
                  });
                  0 === t.length && (t = null),
                    (e.instance.options.pinned = t),
                    e.instance.saveSettings(e.plugin),
                    e.display();
                },
                r = this.instance.options.pinned;
              if (r)
                for (var o = 0, s = r; o < s.length; o++) {
                  var a = s[o];
                  (g = this.app.commands.commands[a]) && n.push(g);
                }
              for (
                var l = t.createDiv(),
                  c = function (e) {
                    l.createDiv("mobile-option-setting-item", function (t) {
                      t.createSpan({
                        cls: "mobile-option-setting-item-name",
                        text: e.name,
                      }),
                        t.createSpan("", function (t) {
                          Xy(t, Jm),
                            nn(t, Lt("interface.delete-action-short-name")),
                            t.addEventListener("click", function () {
                              n.remove(e), i();
                            });
                        }),
                        t.createSpan(
                          "mobile-option-setting-drag-icon",
                          function (r) {
                            Xy(r, ym),
                              nn(r, Lt("interface.drag-to-rearrange")),
                              qt(
                                r,
                                t,
                                l,
                                0,
                                function () {
                                  return null;
                                },
                                function (t) {
                                  n.remove(e), n.splice(t, 0, e), i();
                                }
                              );
                          }
                        );
                    });
                  },
                  u = 0,
                  h = n;
                u < h.length;
                u++
              ) {
                c((g = h[u]));
              }
              0 === n.length &&
                l.createDiv({
                  cls: "mobile-option-setting-item",
                  text: Lt("plugins.command-palette.label-no-commands"),
                });
              var p = this.app.commands.commands,
                d = [];
              for (var f in p) {
                var g = p[f];
                n.contains(g) || d.push(g);
              }
              new ZD(t)
                .setName(Lt("plugins.command-palette.option-add-new-pin"))
                .setDesc(
                  Lt("plugins.command-palette.option-add-new-pin-description")
                )
                .addText(function (t) {
                  return t
                    .setPlaceholder(
                      Lt("plugins.command-palette.prompt-type-command")
                    )
                    .then(function () {
                      new iz(e.app, t.inputEl, d, function (e) {
                        n.push(e), i();
                      });
                    });
                });
            }),
            t
          );
        })(sB),
        az = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.renderSuggestion = function (e, t) {
              t.setText(Ze(e.path));
            }),
            (t.prototype.getSuggestions = function (e) {
              e = e.toLowerCase();
              for (
                var t = [], n = 0, i = this.app.vault.getAllLoadedFiles();
                n < i.length;
                n++
              ) {
                var r = i[n];
                r instanceof Ab &&
                  r.path.toLowerCase().contains(e) &&
                  t.push(r);
              }
              return t.slice(0, 100);
            }),
            (t.prototype.selectSuggestion = function (e) {
              var t = this.textInputEl;
              (t.value = Ze(e.path)), t.trigger("input"), this.close();
            }),
            t
          );
        })(nz),
        lz = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.getSuggestions = function (t) {
              var n = e.prototype.getSuggestions.call(this, t);
              return (n = n.filter(function (e) {
                return "md" === e.extension;
              }));
            }),
            t
          );
        })(az),
        cz = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.renderSuggestion = function (e, t) {
              t.setText(e.path);
            }),
            (t.prototype.getSuggestions = function (e) {
              e = e.toLowerCase();
              for (
                var t = [], n = 0, i = this.app.vault.getAllLoadedFiles();
                n < i.length;
                n++
              ) {
                var r = i[n];
                r instanceof Db &&
                  r.path.toLowerCase().contains(e) &&
                  t.push(r);
              }
              return t.slice(0, 100);
            }),
            (t.prototype.selectSuggestion = function (e) {
              var t = this.textInputEl;
              (t.value = e.path), t.trigger("input"), this.close();
            }),
            t
          );
        })(nz),
        uz = "YYYY-MM-DD",
        hz = At("plugins.daily-notes"),
        pz = (function () {
          function e() {
            (this.id = "daily-notes"),
              (this.name = hz("name")),
              (this.description = hz("desc")),
              (this.app = null),
              (this.plugin = null),
              (this.options = {});
          }
          return (
            (e.prototype.init = function (e, t) {
              var n = this;
              (this.app = e),
                (this.plugin = t),
                t.registerRibbonAction(
                  hz("action-open"),
                  Gm,
                  this.onOpenDailyNote.bind(this)
                ),
                t.registerGlobalCommand({
                  id: "daily-notes",
                  name: hz("action-open"),
                  icon: my,
                  callback: this.onOpenDailyNote.bind(this),
                }),
                t.registerGlobalCommand({
                  id: "daily-notes:goto-prev",
                  name: hz("action-open-previous"),
                  icon: By,
                  checkCallback: function (e) {
                    var t = n.getCurrentFileDateTimestamp();
                    return !!t && (e || n.gotoPreviousExisting(t), !0);
                  },
                }),
                t.registerGlobalCommand({
                  id: "daily-notes:goto-next",
                  name: hz("action-open-next"),
                  icon: Fy,
                  checkCallback: function (e) {
                    var t = n.getCurrentFileDateTimestamp();
                    return !!t && (e || n.gotoNextExisting(t), !0);
                  },
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n,
                  i = this;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return (n = this), [4, t.loadData()];
                    case 1:
                      return (
                        (n.options = r.sent() || {}),
                        t.addSettingTab(new dz(e, t, this)),
                        this.app.workspace.onLayoutReady(function () {
                          i.options.autorun && i.onOpenDailyNote();
                        }),
                        t.registerEvent(
                          this.app.workspace.on(
                            "receive-text-menu",
                            function (e, t) {
                              e.addItem(function (e) {
                                return e
                                  .setTitle(hz("action-insert-text"))
                                  .setIcon(Gm)
                                  .onClick(function () {
                                    return A(i, void 0, void 0, function () {
                                      var e;
                                      return D(this, function (n) {
                                        switch (n.label) {
                                          case 0:
                                            return [4, this.getDailyNote()];
                                          case 1:
                                            return (
                                              (e = n.sent()),
                                              [
                                                4,
                                                this.app.fileManager.insertTextIntoFile(
                                                  e,
                                                  t,
                                                  "",
                                                  "",
                                                  !1
                                                ),
                                              ]
                                            );
                                          case 2:
                                            return (
                                              n.sent(),
                                              [
                                                4,
                                                this.app.workspace
                                                  .getLeaf()
                                                  .openFile(e, {
                                                    active: !0,
                                                    state: { mode: "source" },
                                                  }),
                                              ]
                                            );
                                          case 3:
                                            return n.sent(), [2];
                                        }
                                      });
                                    });
                                  });
                              });
                            }
                          )
                        ),
                        t.registerEvent(
                          this.app.workspace.on(
                            "receive-files-menu",
                            function (e, t) {
                              e.addItem(function (e) {
                                return e
                                  .setTitle(hz("action-insert-link"))
                                  .setIcon(Gm)
                                  .onClick(function () {
                                    return A(i, void 0, void 0, function () {
                                      var e,
                                        n,
                                        i = this;
                                      return D(this, function (r) {
                                        switch (r.label) {
                                          case 0:
                                            return [4, this.getDailyNote()];
                                          case 1:
                                            return (
                                              (e = r.sent()),
                                              (n = t.map(function (t) {
                                                return i.app.fileManager.generateMarkdownLink(
                                                  t,
                                                  e.path
                                                );
                                              })),
                                              [
                                                4,
                                                this.app.fileManager.insertTextIntoFile(
                                                  e,
                                                  n.join("\n"),
                                                  "",
                                                  "",
                                                  !1
                                                ),
                                              ]
                                            );
                                          case 2:
                                            return (
                                              r.sent(),
                                              [
                                                4,
                                                this.app.workspace
                                                  .getLeaf()
                                                  .openFile(e, {
                                                    active: !0,
                                                    state: { mode: "source" },
                                                  }),
                                              ]
                                            );
                                          case 3:
                                            return r.sent(), [2];
                                        }
                                      });
                                    });
                                  });
                              });
                            }
                          )
                        ),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.getDailyNote = function () {
              return A(this, void 0, Promise, function () {
                var e, t, n, i, r, o, s, a, l, c, u, h, p, d, f, g;
                return D(this, function (m) {
                  switch (m.label) {
                    case 0:
                      (t = (e = this).app),
                        (n = e.options),
                        (i = null),
                        (r = this.getFormat());
                      try {
                        i = window.moment().format(r);
                      } catch (e) {
                        return (
                          new lw(hz("msg-fail-format", { format: r })),
                          console.error(e),
                          [2]
                        );
                      }
                      if (
                        (i && (i = i.trim()),
                        (s = n.folder) && String.isString(s))
                      ) {
                        if (
                          ((a = rt(s)),
                          !(
                            (l = t.vault.getAbstractFileByPath(a)) instanceof Db
                          ))
                        )
                          return (
                            new lw(hz("msg-fail-folder", { folderOption: s })),
                            [2, null]
                          );
                        o = l;
                      } else o = t.fileManager.getNewFileParent("");
                      return (
                        (c = o.getParentPrefix() + i + ".md"),
                        !(u = t.vault.getAbstractFileByPathInsensitive(c)) ||
                        u instanceof Ab
                          ? (h = u)
                            ? [3, 6]
                            : (p = n.template)
                            ? (d = t.metadataCache.getFirstLinkpathDest(p, ""))
                              ? [4, t.vault.cachedRead(d)]
                              : (new lw(
                                  hz("msg-fail-template-file", { template: p })
                                ),
                                [2])
                            : [3, 4]
                          : [2, null]
                      );
                    case 1:
                      return (
                        (f = m.sent()),
                        (g = HN(f, { title: i }, {})),
                        [4, t.fileManager.createNewMarkdownFile(o, i)]
                      );
                    case 2:
                      return (h = m.sent()), [4, t.vault.modify(h, g)];
                    case 3:
                      return m.sent(), [3, 6];
                    case 4:
                      return [4, t.fileManager.createNewMarkdownFile(o, i)];
                    case 5:
                      (h = m.sent()), (m.label = 6);
                    case 6:
                      return [2, h];
                  }
                });
              });
            }),
            (e.prototype.onOpenDailyNote = function (e) {
              return A(this, void 0, void 0, function () {
                var t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [4, this.getDailyNote()];
                    case 1:
                      return (t = n.sent())
                        ? [
                            4,
                            this.app.workspace
                              .getLeaf(nw.isModEvent(e || this.app.lastEvent))
                              .openFile(t, {
                                active: !0,
                                state: { mode: "source" },
                              }),
                          ]
                        : [3, 3];
                    case 2:
                      n.sent(), (n.label = 3);
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.gotoPreviousExisting = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        (t = Number.NEGATIVE_INFINITY),
                        (n = null),
                        this.iterateDailyNotes(function (i, r) {
                          r < e && r > t && ((n = i), (t = r));
                        }),
                        n
                          ? [
                              4,
                              this.app.workspace
                                .getLeaf()
                                .openFile(n, { active: !0 }),
                            ]
                          : (new lw(hz("msg-no-previous")), [2])
                      );
                    case 1:
                      return i.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.gotoNextExisting = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        (t = Number.POSITIVE_INFINITY),
                        (n = null),
                        this.iterateDailyNotes(function (i, r) {
                          r > e && r < t && ((n = i), (t = r));
                        }),
                        n
                          ? [
                              4,
                              this.app.workspace
                                .getLeaf()
                                .openFile(n, { active: !0 }),
                            ]
                          : (new lw(hz("msg-no-next")), [2])
                      );
                    case 1:
                      return i.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.iterateDailyNotes = function (e) {
              var t = this.app.vault.getAllLoadedFiles(),
                n = this.getFormat();
              t.forEach(function (t) {
                if (t instanceof Ab) {
                  var i = window.moment(t.basename, n, !0);
                  i.isValid() && e(t, i.valueOf());
                }
              });
            }),
            (e.prototype.getCurrentFileDateTimestamp = function () {
              var e = this.app.workspace.getActiveViewOfType(IR);
              if (e) {
                var t = e.file.basename,
                  n = this.getFormat(),
                  i = window.moment(t, n, !0);
                if (i.isValid()) return i.valueOf();
              }
              return null;
            }),
            (e.prototype.getFormat = function () {
              var e = this.options.format;
              return e && String.isString(e) ? e : uz;
            }),
            e
          );
        })(),
        dz = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t, n) || this;
            return (r.instance = i), r;
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              var e = this,
                t = this.containerEl;
              t.empty();
              var n = this.instance.options,
                i = document.createDocumentFragment();
              i.appendText(hz("label-refer-to-syntax")),
                i.createEl("a", {
                  text: hz("label-syntax-link"),
                  attr: {
                    href: "https://momentjs.com/docs/#/displaying/format/",
                    target: "_blank",
                  },
                }),
                i.createEl("br"),
                i.appendText(hz("label-syntax-live-preview"));
              var r = i.createEl("b", "u-pop");
              new ZD(t)
                .setName(hz("option-date-format"))
                .setDesc(i)
                .addMomentFormat(function (t) {
                  return t
                    .setSampleEl(r)
                    .setDefaultFormat(uz)
                    .setValue(n.format)
                    .onChange(function (t) {
                      (n.format = t.trim()), e.plugin.saveData(n);
                    });
                }),
                new ZD(t)
                  .setName(hz("option-new-file-location"))
                  .setDesc(hz("option-new-file-location-description"))
                  .addText(function (t) {
                    t
                      .setPlaceholder(
                        Lt("setting.folder-path-example-placeholder")
                      )
                      .setValue(n.folder)
                      .onChange(function (t) {
                        (n.folder = t.trim()), e.plugin.saveData(n);
                      }),
                      new cz(e.app, t.inputEl);
                  }),
                new ZD(t)
                  .setName(hz("option-template"))
                  .setDesc(hz("option-template-description"))
                  .addText(function (t) {
                    t
                      .setPlaceholder(
                        Lt("setting.file-path-example-placeholder")
                      )
                      .setValue(n.template)
                      .onChange(function (t) {
                        (n.template = t.trim()), e.plugin.saveData(n);
                      }),
                      new lz(e.app, t.inputEl);
                  }),
                new ZD(t)
                  .setName(hz("option-open-on-start"))
                  .setDesc(hz("option-open-on-start-description"))
                  .addToggle(function (t) {
                    return t.setValue(n.autorun).onChange(function (t) {
                      (n.autorun = t), e.plugin.saveData(n);
                    });
                  });
            }),
            t
          );
        })(sB);
      function fz() {
        return Lt(
          eb.isMobileApp
            ? "plugins.open-with-default-app.action-open-file-mobile"
            : "plugins.open-with-default-app.action-open-file"
        );
      }
      var gz = (function () {
          function e() {
            (this.id = "open-with-default-app"),
              (this.name = Lt("plugins.open-with-default-app.name")),
              (this.description = Lt("plugins.open-with-default-app.desc")),
              (this.defaultOn = !0),
              (this.app = null);
          }
          return (
            (e.prototype.init = function (e, t) {
              var n = this;
              (this.app = e),
                t.registerGlobalCommand({
                  id: "open-with-default-app:open",
                  name: fz(),
                  icon: xy,
                  checkCallback: function (e) {
                    var t = n.app.workspace.getActiveFile();
                    if (t) return e || n.app.openWithDefaultApp(t.path), !0;
                  },
                }),
                eb.isDesktopApp &&
                  t.registerGlobalCommand({
                    id: "open-with-default-app:show",
                    name: Lt(
                      "plugins.open-with-default-app.action-show-in-folder"
                    ),
                    icon: by,
                    checkCallback: function (e) {
                      var t = n.app.workspace.getActiveFile();
                      if (t) return e || n.app.showInFolder(t.path), !0;
                    },
                  });
            }),
            (e.prototype.onEnable = function (e, t) {
              t.registerEvent(
                e.workspace.on("file-menu", this.onFileMenu, this)
              );
            }),
            (e.prototype.onFileMenu = function (e, t) {
              var n = this;
              t instanceof Ab &&
                e.addItem(function (e) {
                  return e
                    .setTitle(fz())
                    .setIcon(Om)
                    .onClick(function () {
                      return n.app.openWithDefaultApp(t.path);
                    });
                }),
                eb.isDesktopApp &&
                  e.addItem(function (e) {
                    return e
                      .setTitle(
                        Lt(
                          "plugins.open-with-default-app.action-show-in-folder"
                        )
                      )
                      .setIcon(Om)
                      .onClick(function () {
                        return n.app.showInFolder(t.path);
                      });
                  });
            }),
            e
          );
        })(),
        mz = (function () {
          function e() {
            (this.id = "editor-status"),
              (this.name = Lt("plugins.editor-status.name")),
              (this.description = Lt("plugins.editor-status.desc")),
              (this.defaultOn = !0);
          }
          return (
            (e.prototype.init = function (e, t) {
              (this.app = e), (this.plugin = t), t.registerStatusBarItem();
            }),
            (e.prototype.onEnable = function (e, t) {
              t.registerEvent(
                e.workspace.on("file-open", this.updateStatus, this)
              ),
                t.registerEvent(
                  e.workspace.on("layout-change", this.updateStatus, this)
                ),
                t.statusBarEl.addEventListener(
                  "click",
                  this.onClick.bind(this)
                ),
                t.statusBarEl.addEventListener(
                  "contextmenu",
                  this.onClick.bind(this)
                ),
                t.statusBarEl.addClass("mod-clickable"),
                this.updateStatus();
            }),
            (e.prototype.onDisable = function () {}),
            (e.prototype.getStatus = function () {
              var e = this.app.workspace.getActiveViewOfType(IR);
              return e
                ? "preview" === e.getMode()
                  ? "read"
                  : e.editMode
                  ? e.editMode.sourceMode
                    ? "source"
                    : "live-preview"
                  : "source"
                : "";
            }),
            (e.prototype.setStatus = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      if (!(t = this.app.workspace.getActiveViewOfType(IR)))
                        return [2];
                      switch (((n = t.getState()), e)) {
                        case "read":
                          n.mode = "preview";
                          break;
                        case "source":
                          (n.mode = "source"), (n.source = !0);
                          break;
                        case "live-preview":
                          (n.mode = "source"), (n.source = !1);
                      }
                      return [4, t.leaf.setViewState({ type: FR, state: n })];
                    case 1:
                      return i.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.updateStatus = function () {
              var e = this.plugin.statusBarEl;
              switch ((e.empty(), this.getStatus())) {
                case "":
                  return;
                case "read":
                  e.setText(Lt("plugins.editor-status.read"));
                  break;
                case "source":
                  e.setText(Lt("plugins.editor-status.edit-source"));
                  break;
                case "live-preview":
                  e.setText(Lt("plugins.editor-status.edit-live-preview"));
              }
            }),
            (e.prototype.onClick = function (e) {
              var t = this,
                n = this.app.workspace.getActiveViewOfType(IR);
              if (n) {
                var i = new rw(this.app),
                  r = this.getStatus(),
                  o = function (e, n) {
                    i.addItem(function (i) {
                      return i
                        .setTitle(n)
                        .setIcon(r === e ? Fm : null)
                        .onClick(function () {
                          return t.setStatus(e);
                        });
                    });
                  };
                o("read", Lt("plugins.editor-status.read")),
                  o("source", Lt("plugins.editor-status.edit-source")),
                  n.editMode &&
                    o(
                      "live-preview",
                      Lt("plugins.editor-status.edit-live-preview")
                    ),
                  i.showAtMouseEvent(e);
              }
            }),
            e
          );
        })(),
        vz = At("plugins.file-explorer"),
        yz = (function () {
          function e() {
            (this.id = "file-explorer"),
              (this.name = vz("name")),
              (this.description = vz("desc")),
              (this.defaultOn = !0),
              (this.moveFileModal = null);
          }
          return (
            (e.prototype.init = function (e, t) {
              var n = this;
              (this.app = e),
                (this.plugin = t),
                (this.moveFileModal = new Ez(e)),
                t.registerGlobalCommand({
                  id: "file-explorer:open",
                  name: vz("action-show"),
                  icon: by,
                  callback: function () {
                    n.app.workspace.ensureSideLeaf(xz, "left", !1);
                  },
                }),
                t.registerGlobalCommand({
                  id: "file-explorer:reveal-active-file",
                  name: vz("action-reveal-active-file"),
                  icon: Cy,
                  checkCallback: function (e) {
                    var t = n.app.workspace.getActiveFile();
                    if (t) return e || n.revealInFolder(t), !0;
                  },
                }),
                t.registerGlobalCommand({
                  id: "file-explorer:move-file",
                  name: vz("command-move-file"),
                  icon: My,
                  checkCallback: function (e) {
                    var t = n.app.workspace.getActiveFile();
                    if (t)
                      return (
                        e ||
                          (n.moveFileModal.setCurrentFile(t),
                          n.moveFileModal.open()),
                        !0
                      );
                  },
                }),
                t.registerViewType(xz, function (e) {
                  return new Sz(e);
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              t.registerEvent(
                e.workspace.on("layout-ready", this.initLeaf, this)
              ),
                t.registerEvent(
                  e.workspace.on("file-menu", this.onFileMenu, this)
                ),
                e.workspace.registerHoverLinkSource("file-explorer", {
                  display: this.name,
                  defaultMod: !0,
                });
            }),
            (e.prototype.onDisable = function (e) {
              e.workspace.unregisterHoverLinkSource("file-explorer");
            }),
            (e.prototype.onUserEnable = function () {
              this.initLeaf();
            }),
            (e.prototype.onFileMenu = function (e, t, n) {
              var i = this;
              !eb.isMobile &&
                t instanceof Ab &&
                "file-explorer-context-menu" !== n &&
                e.addItem(function (e) {
                  return e
                    .setTitle(vz("action-reveal-file"))
                    .setIcon(fm)
                    .onClick(function () {
                      return i.revealInFolder(t);
                    });
                }),
                "link-context-menu" !== n &&
                  e.addItem(function (e) {
                    return e
                      .setTitle(
                        vz(
                          t instanceof Ab
                            ? "action-move-file"
                            : "action-move-folder"
                        )
                      )
                      .setIcon(av)
                      .onClick(function () {
                        i.moveFileModal.setCurrentFile(t),
                          i.moveFileModal.open();
                      });
                  });
            }),
            (e.prototype.initLeaf = function () {
              this.app.workspace.ensureSideLeaf(xz, "left", !1, !1);
            }),
            (e.prototype.revealInFolder = function (e) {
              var t,
                n = this.app,
                i = n.workspace.getLeavesOfType("file-explorer");
              0 === i.length
                ? (t = n.workspace.getLeftLeaf(!0)).setViewState({
                    type: "file-explorer",
                  })
                : (t = i[0]),
                n.workspace.revealLeaf(t),
                t.view.revealInFolder(e);
            }),
            e
          );
        })(),
        bz = (function () {
          function e() {
            this.info = {
              height: 0,
              width: 0,
              childTop: 0,
              computed: !1,
              queued: !1,
              hidden: !1,
            };
          }
          return (
            (e.prototype.updateTitle = function () {
              this.titleInnerEl.setText(this.getTitle()),
                this.titleEl.setAttr("data-path", this.file.path);
            }),
            (e.prototype.isFullTitleShown = function () {
              var e = this.titleEl,
                t = this.titleInnerEl,
                n = e.offsetParent,
                i = parseInt(getComputedStyle(e).paddingLeft) + e.offsetLeft,
                r = n.clientWidth;
              return i + t.scrollWidth <= r + n.scrollLeft;
            }),
            (e.prototype.startRename = function () {
              var e = this.titleInnerEl;
              e.addClass("is-being-renamed"),
                e.setAttribute("contenteditable", "true"),
                yh(e);
            }),
            (e.prototype.stopRename = function () {
              var e = this.titleInnerEl;
              e.removeClass("is-being-renamed"),
                e.removeAttribute("contenteditable");
              var t = e.parentElement.find(".tooltip");
              t && t.remove();
            }),
            e
          );
        })(),
        wz = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            (i.tagEl = null), (i.fileExplorer = t), (i.file = n);
            var r = (i.el = createDiv("nav-file")),
              o = (i.titleEl = r.createDiv("nav-file-title"));
            return (
              (i.titleInnerEl = o.createDiv("nav-file-title-content")),
              i.updateTitle(),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.getTitle = function () {
              return this.file.basename;
            }),
            (t.prototype.updateTitle = function () {
              e.prototype.updateTitle.call(this);
              var t = this.titleEl,
                n = this.tagEl;
              t.toggleClass("is-unsupported", !this.isSupported());
              var i = this.file.extension;
              Ge.contains(i)
                ? n && (n.detach(), (this.tagEl = null))
                : (n ||
                    (n = this.tagEl =
                      t.createDiv({ cls: "nav-file-tag", prepend: !0 })),
                  n.setText(i));
            }),
            (t.prototype.isSupported = function () {
              return this.fileExplorer.app.viewRegistry.isExtensionRegistered(
                this.file.extension
              );
            }),
            t
          );
        })(bz),
        kz = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            (i.pusherEl = EB()), (i.fileExplorer = t), (i.file = n);
            var r = n.isRoot(),
              o = (i.el = createDiv("nav-folder"));
            r && o.addClass("mod-root");
            var s = (i.titleEl = o.createDiv("nav-folder-title"));
            return (
              (i.collapseIndicatorEl = s.createDiv(
                "nav-folder-collapse-indicator collapse-icon"
              )),
              (i.titleInnerEl = s.createDiv("nav-folder-title-content")),
              (i.childrenEl = o.createDiv("nav-folder-children")),
              r ||
                (Xy(i.collapseIndicatorEl, pm, 8),
                s.addEventListener("click", i.onTitleElClick.bind(i))),
              i.updateTitle(),
              i.setCollapsed(!r, !1),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.getTitle = function () {
              var e = this.file,
                t = e.name;
              return e.isRoot() && (t = e.vault.getName()), t;
            }),
            (t.prototype.onTitleElClick = function (e) {
              0 === e.button &&
                this.fileExplorer.fileBeingRenamed !== this.file &&
                (this.fileExplorer.handleFileClick(e, this) ||
                  this.toggleCollapsed(!0));
            }),
            (t.prototype.toggleCollapsed = function (e) {
              this.setCollapsed(!this.collapsed, e);
            }),
            (t.prototype.setCollapsed = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return this.collapsed === e
                        ? [2]
                        : ((this.collapsed = e),
                          (i = (n = this).el),
                          (r = n.fileExplorer),
                          (o = n.childrenEl),
                          i.toggleClass("is-collapsed", e),
                          (o.style.minHeight = ""),
                          r.requestSaveFold(),
                          [4, Wb(o, i, e, t)]);
                    case 1:
                      return (
                        s.sent(), r.dom.infinityScroll.invalidate(this, !0), [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.sort = function () {
              var e = this.file,
                t = this.fileExplorer,
                n = xB[t.sortOrder],
                i = e.children.slice();
              i.sort(function (e, t) {
                var i = e instanceof Db,
                  r = t instanceof Db;
                return i || r
                  ? i && !r
                    ? -1
                    : r && !i
                    ? 1
                    : YN(e.name, t.name)
                  : n(e, t);
              });
              for (var r = [], o = 0, s = i; o < s.length; o++) {
                var a = s[o],
                  l = t.fileItems[a.path];
                l && r.push(l);
              }
              this.children = r;
            }),
            t
          );
        })(bz),
        Cz = function (e) {
          (this.navFileContainerEl = null),
            (this.navFileContainerEl = e.createDiv("nav-files-container")),
            (this.infinityScroll = new LB(this.navFileContainerEl)),
            (this.infinityScroll.setWidth = !0);
        },
        xz = "file-explorer",
        Sz = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            (n.icon = fm),
              (n.dom = null),
              (n.currentHoverFile = null),
              (n.sortOrder = "alphabetical"),
              (n.fileBeingRenamed = null),
              (n.fileRenameScope = null),
              (n.requestSaveFold = Tt(n.saveFold.bind(n), 2e3)),
              (n.ready = !1),
              (n.activeDom = null),
              (n.selectedDoms = []);
            var i = n.containerEl,
              r = (n.headerDom = new IB(n.app, i));
            return (
              r.addNavButton(
                dm,
                vz("action-new-note"),
                n.onCreateNewNoteClick.bind(n)
              ),
              r.addNavButton(
                fm,
                vz("action-new-folder"),
                n.onCreateNewFolderClick.bind(n)
              ),
              r.addSortButton(
                function (e) {
                  return n.setSortOrder(e);
                },
                function () {
                  return n.sortOrder;
                }
              ),
              (n.fileItems = {}),
              (n.files = _t()),
              (n.fileRenameScope = new ew(n.app.scope)),
              (n.sortOrder = n.app.vault.getConfig("fileSortOrder")),
              n.fileRenameScope.register(
                [],
                "Enter",
                n.onKeyEnterInRename.bind(n)
              ),
              n.fileRenameScope.register(
                [],
                "Escape",
                n.onKeyEscInRename.bind(n)
              ),
              (n.requestSort = n.app.nextFrameOnceCallback(n.sort.bind(n))),
              (n.dom = new Cz(i)),
              i.on("click", ".nav-file", n.onFileClick.bind(n)),
              zt(i),
              i.on("auxclick", ".nav-file", n.onFileClick.bind(n)),
              i.on(
                "mouseover",
                ".nav-file-title, .nav-folder-title",
                n.onFileMouseover.bind(n)
              ),
              i.on(
                "mouseout",
                ".nav-file-title, .nav-folder-title",
                n.onFileMouseout.bind(n)
              ),
              i.on(
                "contextmenu",
                ".nav-file-title, .nav-folder-title",
                n.openFileContextMenu.bind(n)
              ),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.getDisplayText = function () {
              return vz("name");
            }),
            (t.prototype.getViewType = function () {
              return xz;
            }),
            (t.prototype.load = function () {
              var t = this;
              e.prototype.load.call(this);
              var n = this.app,
                i = n.vault;
              this.registerEvent(i.on("create", this.onCreate, this)),
                this.registerEvent(i.on("delete", this.onDelete, this)),
                this.registerEvent(i.on("rename", this.onRename, this)),
                this.registerEvent(i.on("modify", this.onModify, this)),
                this.registerEvent(
                  i.on("config-changed", this.updateConfig, this)
                ),
                this.registerEvent(
                  n.workspace.on("file-open", this.onFileOpen, this)
                ),
                this.registerEvent(
                  n.viewRegistry.on(
                    "extensions-updated",
                    this.onExtensionsUpdated,
                    this
                  )
                ),
                (this.ready = !1);
              for (
                var r = 0, o = n.vault.getAllLoadedFiles();
                r < o.length;
                r++
              ) {
                var s = o[r];
                this.onCreate(s);
              }
              this.updateConfig(),
                this.app.workspace.onLayoutReady(function () {
                  (t.ready = !0), t.requestSort(), t.loadFold();
                });
            }),
            (t.prototype.onCreate = function (e) {
              var t = e.path,
                n = this.fileItems[t];
              n ||
                (e instanceof Ab
                  ? (n = this.createItemDom(e))
                  : e instanceof Db && (n = this.createFolderDom(e)),
                (this.fileItems[t] = n),
                this.files.set(n.el, e)),
                this.requestSort();
            }),
            (t.prototype.onDelete = function (e) {
              var t = e.path,
                n = this.fileItems[t];
              n &&
                (this.files.delete(n.el),
                delete this.fileItems[t],
                this.activeDom === n && (this.activeDom = null),
                this.selectedDoms.remove(n)),
                this.requestSort();
            }),
            (t.prototype.onRename = function (e, t) {
              var n = e.path,
                i = this.fileItems[t];
              i &&
                (i.updateTitle(),
                delete this.fileItems[t],
                (this.fileItems[n] = i),
                this.files.set(i.el, e),
                i instanceof kz && this.requestSaveFold(),
                this.dom.infinityScroll.invalidate(i)),
                this.requestSort();
            }),
            (t.prototype.onModify = function () {
              ("byModifiedTime" !== this.sortOrder &&
                "byModifiedTimeReverse" !== this.sortOrder) ||
                this.requestSort();
            }),
            (t.prototype.updateConfig = function () {
              var e = this.app.vault;
              this.dom.navFileContainerEl.toggleClass(
                "show-unsupported",
                e.getConfig("showUnsupportedFiles")
              ),
                this.dom.infinityScroll.invalidateAll();
            }),
            (t.prototype.openFileContextMenu = function (e, t) {
              var n = this;
              e.preventDefault();
              var i = this.files.get(t.parentElement);
              if (!(i instanceof Db && i.isRoot())) {
                var r = new rw(this.app);
                if (
                  (eb.isMobile &&
                    r
                      .addItem(function (e) {
                        return e
                          .setIcon(i instanceof Db ? fm : dm)
                          .setTitle(i.name)
                          .setIsLabel(!0);
                      })
                      .addSeparator(),
                  i instanceof Db)
                ) {
                  var o = i;
                  r
                    .addItem(function (e) {
                      return e
                        .setTitle(vz("menu-opt-new-note"))
                        .setIcon(cm)
                        .onClick(function (e) {
                          var t = nw.isModifier(e, "Mod");
                          n.createAbstractFile("file", o, t);
                        });
                    })
                    .addItem(function (e) {
                      return e
                        .setTitle(vz("menu-opt-new-folder"))
                        .setIcon(fm)
                        .onClick(function (e) {
                          var t = nw.isModifier(e, "Mod");
                          n.createAbstractFile("folder", o, t);
                        });
                    })
                    .addItem(function (e) {
                      return e
                        .setTitle(vz("menu-opt-set-attachment-folder"))
                        .setIcon(km)
                        .onClick(function () {
                          n.app.setAttachmentFolder(o);
                        });
                    }),
                    r.addSeparator();
                }
                r.addItem(function (e) {
                  return e
                    .setTitle(vz("menu-opt-rename"))
                    .setIcon(gm)
                    .onClick(function () {
                      return n.startRenameFile(i);
                    });
                }),
                  r.addItem(function (e) {
                    return e
                      .setTitle(vz("menu-opt-delete"))
                      .setIcon(um)
                      .onClick(function () {
                        return A(n, void 0, void 0, function () {
                          return D(this, function (e) {
                            return (
                              i instanceof Db
                                ? this.app.fileManager.promptForFolderDeletion(
                                    i
                                  )
                                : i instanceof Ab &&
                                  this.app.fileManager.promptForFileDeletion(i),
                              [2]
                            );
                          });
                        });
                      });
                  }),
                  r.addItem(function (e) {
                    return e
                      .setTitle(Lt("interface.menu.open-in-new-pane"))
                      .setIcon(_m)
                      .onClick(function () {
                        return A(n, void 0, void 0, function () {
                          return D(this, function (e) {
                            return (
                              i instanceof Ab &&
                                this.app.workspace.openLinkText(i.path, "", !0),
                              [2]
                            );
                          });
                        });
                      });
                  }),
                  this.app.workspace.trigger(
                    "file-menu",
                    r,
                    i,
                    "file-explorer-context-menu",
                    null
                  ),
                  i instanceof Ab &&
                    r.addItem(function (e) {
                      return e
                        .setTitle(vz("menu-opt-make-copy"))
                        .setIcon(Sm)
                        .onClick(function (e) {
                          return A(n, void 0, void 0, function () {
                            var t, n, r;
                            return D(this, function (o) {
                              switch (o.label) {
                                case 0:
                                  return i instanceof Ab
                                    ? ((t = nw.isModifier(e, "Mod")),
                                      (n = this.app.vault.getAvailablePath(
                                        Ze(i.path),
                                        i.extension
                                      )),
                                      [4, this.app.vault.copy(i, n)])
                                    : [3, 2];
                                case 1:
                                  (r = o.sent()),
                                    this.afterCreate(r, t),
                                    (o.label = 2);
                                case 2:
                                  return [2];
                              }
                            });
                          });
                        });
                    }),
                  r.showAtMouseEvent(e);
                var s = this.fileItems[i.path];
                s &&
                  (s.titleEl.addClass("is-being-dragged"),
                  r.onHide(function () {
                    s.titleEl.removeClass("is-being-dragged");
                  }));
              }
            }),
            (t.prototype.setSortOrder = function (e) {
              (this.sortOrder = e),
                this.app.vault.setConfig("fileSortOrder", e),
                this.sort();
            }),
            (t.prototype.onCreateNewFolderClick = function (e) {
              return A(this, void 0, void 0, function () {
                return D(this, function (t) {
                  return (
                    e.preventDefault(),
                    this.createAbstractFile("folder", null, !1),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.onCreateNewNoteClick = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i, r, o;
                return D(this, function (s) {
                  return (
                    e.preventDefault(),
                    (t = nw.isModifier(e, "Mod")),
                    (n = this.app.workspace),
                    (i = ""),
                    (r = n.getActiveFile()) && (i = r.path),
                    (o = this.app.fileManager.getNewFileParent(i)),
                    this.createAbstractFile("file", o, t),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.createAbstractFile = function (e, t, n) {
              return A(this, void 0, void 0, function () {
                var i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return (
                        (i = this.app),
                        (r = null),
                        "file" !== e
                          ? [3, 2]
                          : [4, i.fileManager.createNewMarkdownFile(t)]
                      );
                    case 1:
                      return (r = o.sent()), [3, 4];
                    case 2:
                      return "folder" !== e
                        ? [3, 4]
                        : [4, i.fileManager.createNewFolder(t)];
                    case 3:
                      (r = o.sent()), (o.label = 4);
                    case 4:
                      return this.afterCreate(r, n), [2];
                  }
                });
              });
            }),
            (t.prototype.afterCreate = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n,
                  i,
                  r = this;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return e
                        ? ((n = this.app),
                          e instanceof Ab
                            ? ((i = n.workspace),
                              [
                                4,
                                i
                                  .getLeaf(t)
                                  .openFile(e, {
                                    active: !0,
                                    state: { mode: "source" },
                                    eState: { rename: "all" },
                                  }),
                              ])
                            : [3, 2])
                        : [2];
                    case 1:
                      return o.sent(), [3, 3];
                    case 2:
                      n.nextFrame(function () {
                        return A(r, void 0, void 0, function () {
                          var t;
                          return D(this, function (n) {
                            return (
                              this.sort(),
                              this.startRenameFile(e),
                              (t = this.fileItems[e.path]) &&
                                t.titleEl.scrollIntoView(!1),
                              [2]
                            );
                          });
                        });
                      }),
                        (o.label = 3);
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.onFileClick = function (e, t) {
              if (0 === e.button || 1 === e.button) {
                e.preventDefault();
                var n = this.files.get(t);
                if (this.fileBeingRenamed !== n && n && n instanceof Ab) {
                  var i = this.fileItems[n.path];
                  if (this.handleFileClick(e, i)) return;
                  this.app.workspace
                    .getLeaf(nw.isModEvent(e))
                    .openFile(n, { active: !0 });
                }
              }
            }),
            (t.prototype.handleFileClick = function (e, t) {
              var n = this.selectedDoms,
                i = this.activeDom;
              if (e.altKey)
                return (
                  n.contains(t)
                    ? (n.remove(t), t.titleEl.removeClass("is-active"))
                    : (n.push(t), t.titleEl.addClass("is-active")),
                  !0
                );
              if (e.shiftKey) {
                if (i === t || !i) return !0;
                var r = this.fileItems["/"],
                  o = i,
                  s = t,
                  a = this.getItemDomAncestorTree(r, o),
                  l = this.getItemDomAncestorTree(r, s);
                if (!a || !l) return !0;
                for (
                  var c = r;
                  a.length > 0 && l.length > 0 && a.last() === l.last();

                )
                  (c = a.last()), a.pop(), l.pop();
                var u = c.children.indexOf(a.last() || o),
                  h = c.children.indexOf(l.last() || s);
                if (-1 === u || -1 === h) return !0;
                if (h < u) {
                  var p = o;
                  (o = s), (s = p);
                  var d = a;
                  (a = l), (l = d);
                  var f = u;
                  (u = h), (h = f);
                }
                var g = [];
                g.push(o);
                for (var m = o, v = 0, y = a; v < y.length; v++) {
                  for (
                    var b = y[v], w = b.children.indexOf(m) + 1;
                    w < b.children.length;
                    w++
                  )
                    g.push(b.children[w]);
                  m = b;
                }
                for (w = u + 1; w < h; w++) g.push(c.children[w]);
                l.reverse();
                for (w = 0; w < l.length; w++) {
                  var k = l[w],
                    C = w === l.length - 1 ? s : l[w + 1];
                  g.push(k);
                  for (var x = k.children.indexOf(C), S = 0; S < x; S++)
                    g.push(k.children[S]);
                }
                g.push(s), (g = De(g));
                for (
                  var E = this.app.vault.getConfig("showUnsupportedFiles"),
                    M = 0,
                    L = g;
                  M < L.length;
                  M++
                ) {
                  var A = L[M];
                  (!E && A instanceof wz && !A.isSupported()) ||
                    n.contains(A) ||
                    (n.push(A), A.titleEl.addClass("is-active"));
                }
                return !0;
              }
            }),
            (t.prototype.getItemDomAncestorTree = function (e, t) {
              for (var n = 0, i = e.children; n < i.length; n++) {
                var r = i[n];
                if (r === t) return [e];
                if (r instanceof kz) {
                  var o = this.getItemDomAncestorTree(r, t);
                  if (o) return o.push(e), o;
                }
              }
              return null;
            }),
            (t.prototype.onFileMouseover = function (e, t) {
              if (Rt(e, t) && !Vt(e)) {
                var n = this.files.get(t.parentElement);
                if (n) {
                  this.currentHoverFile = n;
                  var i = "",
                    r = "";
                  n instanceof Ab &&
                    ((i = vz("tooltip-modified-time", {
                      time: window
                        .moment(n.stat.mtime)
                        .format("YYYY-MM-DD HH:mm"),
                    })),
                    (r = vz("tooltip-created-time", {
                      time: window
                        .moment(n.stat.ctime)
                        .format("YYYY-MM-DD HH:mm"),
                    })));
                  var o = this.fileItems[n.path],
                    s = "";
                  if (
                    (o && !o.isFullTitleShown() && (s += o.getTitle()),
                    n instanceof Ab)
                  )
                    "" !== s && (s += "\n\n"), (s += i + "\n" + r);
                  else if (n instanceof Db) {
                    var a = Lt("nouns.file-with-count", {
                        count: n.getFileCount(),
                      }),
                      l = Lt("nouns.folder-with-count", {
                        count: n.getFolderCount(),
                      });
                    "" !== s && (s += "\n\n"),
                      (s += vz("tooltip-folders-files-count", {
                        fileCount: a,
                        folderCount: l,
                      }));
                  }
                  "" !== s &&
                    Zt(t, s, {
                      placement: this.getSideTooltipPlacement(),
                      gap: 24,
                      horizontalParent: this.containerEl,
                      delay: 100,
                    }),
                    n instanceof Ab &&
                      this.app.workspace.trigger("hover-link", {
                        event: e,
                        source: "file-explorer",
                        hoverParent: this,
                        targetEl: t,
                        linktext: n.path,
                      });
                }
              }
            }),
            (t.prototype.onFileMouseout = function (e, t) {
              Rt(e, t) && ((this.currentHoverFile = null), this.clearTooltip());
            }),
            (t.prototype.onFileOpen = function (e) {
              var t = e ? this.fileItems[e.path] : null;
              if (t !== this.activeDom) {
                var n = this.activeDom,
                  i = this.selectedDoms;
                n && n.titleEl.removeClass("is-active");
                for (var r = 0, o = i; r < o.length; r++) {
                  o[r].titleEl.removeClass("is-active");
                }
                (this.selectedDoms = []),
                  (this.activeDom = t),
                  t &&
                    (this.selectedDoms.push(t),
                    t.titleEl.addClass("is-active"));
              }
            }),
            (t.prototype.onResize = function () {
              this.dom.infinityScroll.onResize();
            }),
            (t.prototype.revealInFolder = function (e) {
              for (var t = this, n = e.parent; n && null !== n.path; ) {
                var i = this.fileItems[n.path];
                i && i instanceof kz && i.collapsed && i.toggleCollapsed(!1),
                  (n = n.parent);
              }
              this.app.nextFrame(function () {
                var n = t.fileItems[e.path],
                  i = t.dom.infinityScroll;
                i.computeSync(), i.scrollIntoView(n);
                var r = n.el;
                r.addClass("is-flashing"),
                  setTimeout(function () {
                    r.removeClass("is-flashing");
                  }, 2e3);
              });
            }),
            (t.prototype.sort = function () {
              if (this.ready) {
                var e = this.fileItems,
                  t = [];
                for (var n in e) e.hasOwnProperty(n) && t.push(e[n]);
                for (
                  var i = this.dom.navFileContainerEl,
                    r = i.scrollTop,
                    o = 0,
                    s = t;
                  o < s.length;
                  o++
                ) {
                  var a = s[o];
                  a instanceof kz &&
                    (a.sort(),
                    a.file.isRoot() &&
                      ((this.dom.infinityScroll.rootEl = a),
                      this.dom.navFileContainerEl.setChildrenInPlace([a.el])));
                }
                (i.scrollTop = r), this.dom.infinityScroll.compute();
              }
            }),
            (t.prototype.loadFold = function () {
              var e = this.fileItems,
                t = this.app.loadLocalStorage("file-explorer-unfold");
              if (t && Array.isArray(t))
                for (var n = 0, i = t; n < i.length; n++) {
                  var r = e[i[n]];
                  r && r instanceof kz && r.collapsed && r.toggleCollapsed(!1);
                }
            }),
            (t.prototype.saveFold = function () {
              if (this.ready) {
                var e = this.fileItems,
                  t = [];
                for (var n in e)
                  if (e.hasOwnProperty(n)) {
                    var i = e[n];
                    i && i instanceof kz && !i.collapsed && t.push(i.file.path);
                  }
                this.app.saveLocalStorage("file-explorer-unfold", t);
              }
            }),
            (t.prototype.attachFileEvents = function (e) {
              e.titleInnerEl.addEventListener(
                "blur",
                this.onTitleBlur.bind(this)
              ),
                e.titleInnerEl.addEventListener(
                  "input",
                  this.onFileRenameInput.bind(this)
                );
            }),
            (t.prototype.dragFiles = function (e, t) {
              var n = this.selectedDoms;
              if (0 === n.length || (1 === n.length && n[0] === t)) return null;
              if (!n.contains(t)) return null;
              for (var i = [], r = [], o = 0, s = n; o < s.length; o++) {
                var a = s[o];
                r.push(a.file), i.push(a.titleEl);
              }
              var l = this.app.dragManager;
              return l.updateSource(i, "is-being-dragged"), l.dragFiles(e, r);
            }),
            (t.prototype.createItemDom = function (e) {
              var t = this,
                n = new wz(this, e),
                i = n.titleEl,
                r = this.app.dragManager;
              return (
                r.handleDrag(i, function (o) {
                  var s = t.dragFiles(o, n);
                  return (
                    s ||
                    (r.updateSource([i], "is-being-dragged"), r.dragFile(o, e))
                  );
                }),
                this.attachFileEvents(n),
                n
              );
            }),
            (t.prototype.canMoveFileToFolder = function (e, t) {
              if (e === t) return !1;
              if (e instanceof Db && e.isRoot()) return !1;
              if (e instanceof Db && t.path.startsWith(e.path)) return !1;
              var n = e.name;
              return "/" !== t.path && (n = t.path + "/" + n), e.path !== n;
            }),
            (t.prototype.createFolderDom = function (e) {
              var t = this,
                n = new kz(this, e),
                i = n.titleEl,
                r = this.app.dragManager;
              return (
                n.file.isRoot() ||
                  r.handleDrag(i, function (o) {
                    var s = t.dragFiles(o, n);
                    return (
                      s ||
                      (r.updateSource([i], "is-being-dragged"),
                      r.dragFolder(o, e))
                    );
                  }),
                r.handleDrop(
                  i,
                  function (n, r, o) {
                    var s = e.name || t.app.vault.getName();
                    if (!r) {
                      if ((f = n.dataTransfer.files).length > 0 && !o) {
                        for (var a = [], l = 0; l < f.length; l++) {
                          var c = (u = f[l]).path;
                          c && a.push(c);
                        }
                        A(t, void 0, void 0, function () {
                          var t, n, i, r, o, s, l, c;
                          return D(this, function (u) {
                            switch (u.label) {
                              case 0:
                                (t = this.app.vault), (n = 0), (u.label = 1);
                              case 1:
                                return n < a.length
                                  ? [4, ht((i = a[n]))]
                                  : [3, 5];
                              case 2:
                                return (r = u.sent())
                                  ? ((o = Ye(rt(i))),
                                    (s = et(o)),
                                    (l = Xe(o)),
                                    (c = t.getAvailablePath(
                                      e.getParentPrefix() + l,
                                      s
                                    )),
                                    [4, t.createBinary(c, r)])
                                  : [3, 4];
                              case 3:
                                u.sent(), (u.label = 4);
                              case 4:
                                return n++, [3, 1];
                              case 5:
                                return [2];
                            }
                          });
                        });
                      }
                      return {
                        dropEffect: "copy",
                        hoverEl: i,
                        hoverClass: "is-being-dragged-over",
                      };
                    }
                    if ("file" === r.type || "folder" === r.type) {
                      var u = r.file;
                      if (!t.canMoveFileToFolder(u, e)) return;
                      var h = u.name;
                      if (("/" !== e.path && (h = e.path + "/" + h), !o)) {
                        if (t.app.vault.getAbstractFileByPath(h)) {
                          var p = Ze(h),
                            d = et(Ye(h));
                          h = t.app.vault.getAvailablePath(p, d);
                        }
                        t.app.fileManager.renameFile(u, h);
                      }
                      return {
                        action: Lt("interface.drag-and-drop.move-into-folder", {
                          folder: s,
                        }),
                        dropEffect: "move",
                        hoverEl: i,
                        hoverClass: "is-being-dragged-over",
                      };
                    }
                    if ("files" === r.type) {
                      for (
                        var f, g = [], m = 0, v = (f = r.files);
                        m < v.length;
                        m++
                      ) {
                        u = v[m];
                        t.canMoveFileToFolder(u, e) && g.push(u);
                      }
                      for (var y = [], b = 0, w = g; b < w.length; b++) {
                        u = w[b];
                        for (var k = !0, C = 0, x = g; C < x.length; C++) {
                          var S = x[C];
                          if (S instanceof Db && u.path.startsWith(S.path)) {
                            k = !1;
                            break;
                          }
                        }
                        k && y.push(u);
                      }
                      if (0 === y.length) return;
                      return (
                        o ||
                          A(t, void 0, void 0, function () {
                            var t, n, i, r, o, s;
                            return D(this, function (a) {
                              switch (a.label) {
                                case 0:
                                  (t = 0), (n = y), (a.label = 1);
                                case 1:
                                  return t < n.length
                                    ? ((i = n[t]),
                                      (r = i.name),
                                      "/" !== e.path && (r = e.path + "/" + r),
                                      this.app.vault.getAbstractFileByPath(r) &&
                                        (i instanceof Ab
                                          ? ((o = Ze(r)),
                                            (s = et(Ye(r))),
                                            (r =
                                              this.app.vault.getAvailablePath(
                                                o,
                                                s
                                              )))
                                          : i instanceof Db &&
                                            (r =
                                              this.app.vault.getAvailablePath(
                                                r
                                              ))),
                                      [
                                        4,
                                        this.app.fileManager.renameFile(i, r),
                                      ])
                                    : [3, 4];
                                case 2:
                                  a.sent(), (a.label = 3);
                                case 3:
                                  return t++, [3, 1];
                                case 4:
                                  return [2];
                              }
                            });
                          }),
                        {
                          action: Lt(
                            "interface.drag-and-drop.move-into-folder",
                            { folder: s }
                          ),
                          dropEffect: "move",
                          hoverEl: i,
                          hoverClass: "is-being-dragged-over",
                        }
                      );
                    }
                  },
                  !0
                ),
                this.attachFileEvents(n),
                n
              );
            }),
            (t.prototype.onTitleBlur = function () {
              return A(this, void 0, void 0, function () {
                return D(this, function (e) {
                  return this.finishRename(), [2];
                });
              });
            }),
            (t.prototype.onFileRenameInput = function (e) {
              var t = e.currentTarget,
                n = this.files.get(t.parentElement.parentElement),
                i = t.getText();
              ((1 === t.childNodes.length &&
                t.firstChild.nodeType === Node.TEXT_NODE) ||
                (t.setText(i), yh(t, !1)),
              (i = i.trim()),
              this.clearTooltip(),
              ze.test(i))
                ? Zt(t.parentElement, vz("msg-invalid-characters") + Be, {
                    classes: ["mod-error"],
                  })
                : this.app.vault.checkForDuplicate(n, i)
                ? Zt(t.parentElement, vz("msg-file-already-exists"), {
                    classes: ["mod-error"],
                  })
                : He.test(i) &&
                  Zt(t.parentElement, vz("msg-unsafe-characters") + Re, {
                    classes: ["mod-error"],
                  });
            }),
            (t.prototype.startRenameFile = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return e instanceof Db && e.isRoot()
                        ? [2]
                        : [4, this.finishRename()];
                    case 1:
                      for (
                        i.sent(), this.fileBeingRenamed = e, t = e.parent;
                        t && null !== t.path;

                      )
                        (n = this.fileItems[t.path]) &&
                          n instanceof kz &&
                          n.collapsed &&
                          n.toggleCollapsed(!1),
                          (t = t.parent);
                      return (
                        this.app.keymap.pushScope(this.fileRenameScope),
                        this.fileItems[e.path].startRename(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.finishRename = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r, o, s;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (!(e = this.fileBeingRenamed)) return [2];
                      if (
                        (this.exitRename(),
                        (t = this.fileItems[e.path]),
                        (n = t.titleInnerEl),
                        "" === (i = n.getText().trim()))
                      )
                        return (
                          t.updateTitle(),
                          this.displayError(vz("msg-empty-file-name"), t),
                          [2]
                        );
                      if (((r = e.getNewPathAfterRename(i)), e.path === r))
                        return [2];
                      a.label = 1;
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        [4, this.app.fileManager.renameFile(e, r)]
                      );
                    case 2:
                      return a.sent(), [3, 4];
                    case 3:
                      return (
                        (o = a.sent()) &&
                          (console.error(o),
                          (s = o.message || o.code || o.toString()),
                          this.displayError(s, t)),
                        [3, 4]
                      );
                    case 4:
                      return t.updateTitle(), [2];
                  }
                });
              });
            }),
            (t.prototype.displayError = function (e, t) {
              Zt(t.titleEl, e, { placement: "bottom", classes: ["mod-error"] }),
                setTimeout(this.clearTooltip.bind(this), 2e3);
            }),
            (t.prototype.exitRename = function () {
              var e = this.fileBeingRenamed;
              (this.fileBeingRenamed = null),
                this.fileItems[e.path].stopRename(),
                this.app.keymap.popScope(this.fileRenameScope);
            }),
            (t.prototype.onKeyEnterInRename = function (e) {
              e.isComposing || (e.preventDefault(), this.finishRename());
            }),
            (t.prototype.onKeyEscInRename = function () {
              var e = this.fileBeingRenamed;
              e && (this.fileItems[e.path].updateTitle(), this.exitRename());
            }),
            (t.prototype.onRenameWithShortcut = function () {
              return A(this, void 0, void 0, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return this.currentHoverFile
                        ? [4, this.startRenameFile(this.currentHoverFile)]
                        : [3, 2];
                    case 1:
                      e.sent(), (e.label = 2);
                    case 2:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.onExtensionsUpdated = function () {
              var e = this.fileItems;
              for (var t in e) e.hasOwnProperty(t) && e[t].updateTitle();
            }),
            (t.prototype.clearTooltip = function () {
              en();
            }),
            t
          );
        })(ow),
        Ez = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.currentFile = null),
              (n.emptyStateText = vz("label-no-folders")),
              n.setInstructions([
                { command: "↑↓", purpose: vz("instruction-navigate") },
                { command: "↵", purpose: vz("instruction-move") },
                { command: "esc", purpose: vz("instruction-dismiss") },
              ]),
              n.inputEl.setAttribute("placeholder", vz("prompt-type-folder")),
              n.scope.register(null, "Tab", function () {
                return !1;
              }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.setCurrentFile = function (e) {
              this.currentFile = e;
            }),
            (t.prototype.getItems = function () {
              for (
                var e = [], t = 0, n = this.app.vault.getAllLoadedFiles();
                t < n.length;
                t++
              ) {
                var i = n[t];
                i instanceof Db && e.push(i);
              }
              return e;
            }),
            (t.prototype.getItemText = function (e) {
              return e.isRoot() ? "/" : e.path;
            }),
            (t.prototype.onChooseItem = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return (
                        (t = this.app),
                        (n = this.currentFile)
                          ? n === e
                            ? [2]
                            : ((i = n.name),
                              "/" !== e.path && (i = e.path + "/" + i),
                              n.path === i
                                ? [2]
                                : (t.vault.getAbstractFileByPath(i) &&
                                    ((r = Ze(i)),
                                    (o = et(Ye(i))),
                                    (i = t.vault.getAvailablePath(r, o))),
                                  [4, t.fileManager.renameFile(n, i)]))
                          : [2]
                      );
                    case 1:
                      return s.sent(), [2];
                  }
                });
              });
            }),
            t
          );
        })(BN),
        Mz = { intervalMinutes: 5, keepDays: 7 },
        Lz = At("plugins.file-recovery"),
        Az = (function () {
          function e() {
            (this.id = "file-recovery"),
              (this.name = Lz("name")),
              (this.description = Lz("desc")),
              (this.defaultOn = !0),
              (this.app = null),
              (this.pluginInstance = null),
              (this.db = null),
              (this.tsCache = {}),
              (this.pendingFiles = new Set());
          }
          return (
            (e.prototype.init = function (e, t) {
              (this.app = e),
                (this.pluginInstance = t),
                t.registerGlobalCommand({
                  id: "file-recovery:open",
                  name: Lz("action-open"),
                  icon: Ay,
                  callback: this.openModal.bind(this),
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n,
                  i,
                  r,
                  o,
                  s,
                  a = this;
                return D(this, function (l) {
                  switch (l.label) {
                    case 0:
                      return (
                        (n = this),
                        (r = (i = Object).assign),
                        (o = [{}, Mz]),
                        [4, t.loadData()]
                      );
                    case 1:
                      return (
                        (n.options = r.apply(i, o.concat([l.sent()]))),
                        t.addSettingTab(new Dz(e, t, this)),
                        t.registerEvent(
                          e.vault.on("modify", this.onFileChanged, this)
                        ),
                        t.registerEvent(
                          e.workspace.on("file-open", this.onFileChanged, this)
                        ),
                        t.registerInterval(
                          window.setInterval(this.resave.bind(this), 6e4)
                        ),
                        t.registerInterval(
                          window.setInterval(this.cleanup.bind(this), 36e5)
                        ),
                        e.workspace.onLayoutReady(function () {
                          t.registerEvent(
                            e.vault.on("create", a.onFileChanged, a)
                          );
                        }),
                        (s = this),
                        [
                          4,
                          UD(this.app.appId + "-backup", 1, {
                            upgrade: function (e, t, n, i) {
                              e.objectStoreNames.contains("backups") &&
                                e.deleteObjectStore("backups");
                              var r = e.createObjectStore("backups", {
                                autoIncrement: !0,
                              });
                              r.createIndex("path", "path"),
                                r.createIndex("ts", "ts");
                            },
                          }),
                        ]
                      );
                    case 2:
                      return (s.db = l.sent()), this.cleanup(), [2];
                  }
                });
              });
            }),
            (e.prototype.onDisable = function () {
              this.db && (this.db.close(), (this.db = null));
            }),
            (e.prototype.onFileChanged = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i, r, o, s, a, l, c, u;
                return D(this, function (h) {
                  switch (h.label) {
                    case 0:
                      return e && e instanceof Ab && "md" === e.extension
                        ? ((n = (t = this).db),
                          (i = t.tsCache),
                          n
                            ? ((r = e.path),
                              (o = i[r]),
                              (s = null),
                              i.hasOwnProperty(r)
                                ? [3, 2]
                                : [4, this.getLastVersionByPath(r)])
                            : [2])
                        : [2];
                    case 1:
                      (s = h.sent()),
                        (o = s ? s.ts : 0),
                        (i[r] = o),
                        (h.label = 2);
                    case 2:
                      return (
                        (a = Date.now()),
                        (l = a - o),
                        (c = this.options.intervalMinutes),
                        (isNaN(c) || c < 0) && (c = 5),
                        l < 60 * c * 1e3
                          ? (this.pendingFiles.add(r), [2])
                          : [4, this.app.vault.cachedRead(e)]
                      );
                    case 3:
                      return (
                        (u = h.sent()),
                        s ? [3, 5] : [4, this.getLastVersionByPath(r)]
                      );
                    case 4:
                      (s = h.sent()), (h.label = 5);
                    case 5:
                      return s && s.data === u
                        ? [2]
                        : [4, n.add("backups", { path: r, ts: a, data: u })];
                    case 6:
                      return h.sent(), (i[r] = a), [2];
                  }
                });
              });
            }),
            (e.prototype.resave = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      (e = this.pendingFiles),
                        (t = Array.from(e)),
                        (n = this.app.vault),
                        (i = 0),
                        (r = t),
                        (s.label = 1);
                    case 1:
                      return i < r.length
                        ? ((o = r[i]),
                          e.delete(o),
                          [4, this.onFileChanged(n.getAbstractFileByPath(o))])
                        : [3, 4];
                    case 2:
                      s.sent(), (s.label = 3);
                    case 3:
                      return i++, [3, 1];
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.cleanup = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return (e = this.db)
                        ? ((t = e.transaction("backups", "readwrite")),
                          (n = t.store.index("ts")),
                          (i = this.options.keepDays),
                          (isNaN(i) || i < 1) && (i = 7),
                          [
                            4,
                            n.openCursor(
                              IDBKeyRange.upperBound(
                                Date.now() - 24 * i * 60 * 60 * 1e3
                              )
                            ),
                          ])
                        : [2];
                    case 1:
                      (r = o.sent()), (o.label = 2);
                    case 2:
                      return r ? [4, r.delete()] : [3, 5];
                    case 3:
                      return o.sent(), [4, r.continue()];
                    case 4:
                      return (r = o.sent()), [3, 2];
                    case 5:
                      return [4, t.done];
                    case 6:
                      return o.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.openModal = function () {
              new Pz(this.app, this).open();
            }),
            (e.prototype.clearData = function () {
              this.db.clear("backups"), (this.tsCache = {});
            }),
            (e.prototype.getLastVersionByPath = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        (t = this.db.transaction("backups", "readonly")),
                        [4, t.store.index("path").openCursor(e, "prev")]
                      );
                    case 1:
                      return [2, (n = i.sent()) ? n.value : null];
                  }
                });
              });
            }),
            e
          );
        })(),
        Dz = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t, n) || this;
            return (r.instance = i), r;
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              var e = this,
                t = this.containerEl;
              t.empty();
              var n = this.instance.options;
              new ZD(t)
                .setName(Lz("option-interval"))
                .setDesc(Lz("option-interval-description"))
                .addText(function (t) {
                  return t
                    .setValue(String(n.intervalMinutes))
                    .onChange(function (t) {
                      var i = parseFloat(t);
                      !isNaN(i) &&
                        i >= 0 &&
                        ((n.intervalMinutes = i), e.plugin.saveData(n));
                    });
                }),
                new ZD(t)
                  .setName(Lz("option-keep"))
                  .setDesc(Lz("option-keep-description"))
                  .addText(function (t) {
                    return t
                      .setValue(String(n.keepDays))
                      .onChange(function (t) {
                        var i = parseFloat(t);
                        !isNaN(i) &&
                          i >= 1 &&
                          ((n.keepDays = i), e.plugin.saveData(n));
                      });
                  }),
                new ZD(t)
                  .setName(Lz("option-open-history"))
                  .setDesc(Lz("option-open-history-description"))
                  .addButton(function (t) {
                    return t
                      .setButtonText(Lz("button-view-snapshots"))
                      .setCta()
                      .onClick(function () {
                        e.instance.openModal();
                      });
                  }),
                new ZD(t)
                  .setName(Lz("option-clear"))
                  .setDesc(Lz("option-clear-description"))
                  .addButton(function (t) {
                    return t
                      .setButtonText(Lz("button-clear-history"))
                      .setWarning()
                      .onClick(function () {
                        new yD(e.app)
                          .setTitle(Lz("option-clear"))
                          .setContent(
                            createFragment(function (e) {
                              e.createEl("p", {
                                cls: "mod-warning",
                                text: Lz("label-clear-warning"),
                              });
                            })
                          )
                          .addButton(
                            "mod-warning",
                            Lz("button-clear-history"),
                            function () {
                              e.instance.clearData(),
                                new lw(Lz("msg-clear-complete"));
                            }
                          )
                          .addCancelButton()
                          .open();
                      });
                  });
            }),
            t
          );
        })(sB),
        Tz = (function (e) {
          function t(t, n, i, r) {
            var o = e.call(this, t, n) || this;
            return (
              (o.paths = []), (o.modal = null), (o.paths = i), (o.modal = r), o
            );
          }
          return (
            M(t, e),
            (t.prototype.renderSuggestion = function (e, t) {
              t.setText(Ze(e));
            }),
            (t.prototype.getSuggestions = function (e) {
              e = e.toLowerCase();
              for (var t = [], n = 0, i = this.paths; n < i.length; n++) {
                var r = i[n];
                r.toLowerCase().contains(e) && t.push(r);
              }
              return t.slice(0, 100);
            }),
            (t.prototype.selectSuggestion = function (e) {
              var t = this.textInputEl;
              (t.value = Ze(e)),
                this.modal.switchToPath(e),
                t.trigger("input"),
                this.close();
            }),
            t
          );
        })(nz),
        Pz = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (
              (i.plugin = null),
              (i.historyListEl = null),
              (i.versionListEl = null),
              (i.fileContentEl = null),
              (i.dataEl = null),
              (i.plugin = n),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.switchToPath = function (e) {
              return A(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d = this;
                return D(this, function (f) {
                  switch (f.label) {
                    case 0:
                      return (
                        (n = (t = this).versionListEl),
                        (i = t.dataEl),
                        (r = t.fileContentEl),
                        n.empty(),
                        (o = this.plugin.db),
                        (s = o.transaction("backups", "readonly")),
                        [4, s.store.index("path").getAll(e)]
                      );
                    case 1:
                      for (
                        (a = f.sent()).sort(function (e, t) {
                          return t.ts - e.ts;
                        }),
                          l = null,
                          c = function (e) {
                            var t = n.createDiv({
                              cls: "sync-history-list-item",
                              text: window.moment(e.ts).format("LLLL"),
                            });
                            t.createDiv("u-small u-muted").setText(
                              ce(e.data.length)
                            );
                            var o = function () {
                              l && l.removeClass("is-active"),
                                (l = t).addClass("is-active"),
                                r.removeClass("mod-empty"),
                                (i.value = e.data),
                                eb.isMobile &&
                                  Gb(d.contentEl, d.fileContentEl, "right");
                            };
                            t.addEventListener("click", o),
                              null !== l || eb.isMobile || o();
                          },
                          u = 0,
                          h = a;
                        u < h.length;
                        u++
                      )
                        (p = h[u]), c(p);
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.onOpen = function () {
              return A(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u = this;
                return D(this, function (h) {
                  switch (h.label) {
                    case 0:
                      return (
                        (t = (e = this).modalEl),
                        (n = e.contentEl),
                        (i = this.plugin.db),
                        (r = i.transaction("backups", "readonly")),
                        [
                          4,
                          r.store.index("path").openCursor(null, "nextunique"),
                        ]
                      );
                    case 1:
                      (o = h.sent()), (s = []), (h.label = 2);
                    case 2:
                      return o
                        ? (s.push(o.value.path), [4, o.continue()])
                        : [3, 4];
                    case 3:
                      return (o = h.sent()), [3, 2];
                    case 4:
                      return (
                        s.sort(YN),
                        0 === s.length
                          ? (this.titleEl.setText(Lz("name")),
                            n.createEl("p", {
                              text: Lz("label-no-history-found"),
                            }),
                            [2])
                          : (t.addClass("mod-sync-history"),
                            (a = this.historyListEl =
                              n.createDiv("sync-history-list")),
                            new ZD(a).addSearch(function (e) {
                              var t = e.inputEl;
                              t.setAttribute(
                                "placeholder",
                                Lz("placeholder-choose-file")
                              ),
                                new Tz(u.app, t, s, u);
                            }),
                            (this.versionListEl = a.createDiv(
                              "sync-history-list-item-container"
                            )),
                            (l = this.fileContentEl =
                              n.createDiv(
                                "sync-history-content-container mod-empty"
                              )),
                            eb.isMobile &&
                              (l.detach(),
                              (c = l.createDiv(
                                { cls: "modal-setting-back-button" },
                                function (e) {
                                  e.addEventListener("click", function () {
                                    Gb(u.contentEl, u.historyListEl, "left");
                                  });
                                }
                              )).createSpan(
                                "modal-setting-back-button-icon",
                                function (e) {
                                  Xy(e, Nm, 20);
                                }
                              ),
                              c.createSpan({
                                text: Lt("interface.start-screen.button-back"),
                              })),
                            l.createEl("p", {
                              cls: "sync-history-content-empty",
                              text: Lz("label-select-file"),
                            }),
                            (this.dataEl = l.createEl(
                              "textarea",
                              "sync-history-content"
                            )),
                            l.createEl(
                              "p",
                              "sync-history-content-buttons u-center-text",
                              function (e) {
                                e.createEl(
                                  "button",
                                  {
                                    cls: "mod-cta",
                                    text: Lt("interface.label-copy"),
                                  },
                                  function (e) {
                                    e.addEventListener("click", function () {
                                      return A(u, void 0, void 0, function () {
                                        return D(this, function (e) {
                                          return (
                                            Pt(this.dataEl.value),
                                            new lw(
                                              Lt("interface.copied", {
                                                item: "",
                                              })
                                            ),
                                            [2]
                                          );
                                        });
                                      });
                                    });
                                  }
                                );
                              }
                            ),
                            [2])
                      );
                  }
                });
              });
            }),
            t
          );
        })(vD),
        Oz = At("plugins.search"),
        Fz = (function () {
          function e() {
            (this.id = "global-search"),
              (this.name = Oz("name")),
              (this.description = Oz("desc")),
              (this.defaultOn = !0),
              (this.app = null),
              (this.options = {});
          }
          return (
            (e.prototype.init = function (e, t) {
              var n = this;
              (this.app = e),
                t.registerGlobalCommand({
                  id: "global-search:open",
                  name: Oz("action-open-search"),
                  icon: Dy,
                  callback: function () {
                    var t = window.getSelection().toString(),
                      i = e.workspace.getActiveViewOfType(IR);
                    if (i) {
                      var r = i.getSelection();
                      r && (t = r);
                    }
                    t
                      ? t.contains(" ") &&
                        (t =
                          '"' +
                          t.replace(/\\/, "\\\\").replace(/"/, '\\"') +
                          '"')
                      : (t = null),
                      n.openGlobalSearch(t);
                  },
                  hotkeys: [vT(["Mod", "Shift"], "F")],
                }),
                t.registerViewType(Iz, function (e) {
                  return new Nz(e);
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        t.registerEvent(
                          e.workspace.on("layout-ready", this.initLeaf, this)
                        ),
                        t.registerEvent(
                          e.workspace.on("editor-menu", this.onEditorMenu, this)
                        ),
                        (n = this),
                        [4, t.loadData()]
                      );
                    case 1:
                      return (n.options = i.sent() || {}), [2];
                  }
                });
              });
            }),
            (e.prototype.onUserEnable = function () {
              this.initLeaf();
            }),
            (e.prototype.initLeaf = function () {
              this.app.workspace.ensureSideLeaf(Iz, "left", !1, !1);
            }),
            (e.prototype.onEditorMenu = function (e, t, n) {
              var i = this,
                r = t.getSelection();
              r &&
                e.addItem(function (e) {
                  return e
                    .setTitle(Oz("menu-opt-search-for", { keyword: jF(r, 40) }))
                    .setIcon(hm)
                    .onClick(function () {
                      r.contains(" ") &&
                        (r =
                          '"' +
                          r.replace(/\\/, "\\\\").replace(/"/, '\\"') +
                          '"'),
                        i.openGlobalSearch(r);
                    });
                });
            }),
            (e.prototype.openGlobalSearch = function (e) {
              this.app.workspace.ensureSideLeaf(Iz, "left", !1, !0, {
                query: e,
              });
            }),
            (e.prototype.getGlobalSearchQuery = function () {
              var e,
                t = this.app.workspace.getLeavesOfType(Iz);
              if (0 === t.length) return "";
              var n = t[0].getViewState();
              return (
                null === (e = null == n ? void 0 : n.state) || void 0 === e
                  ? void 0
                  : e.query
              )
                ? n.state.query
                : "";
            }),
            e
          );
        })(),
        Iz = "search",
        Nz = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            (n.icon = hm),
              (n.searchInfoEl = null),
              (n.matchingCase = !1),
              (n.explainSearch = !1),
              (n.searchQuery = null),
              (n.recentSearches = []),
              (n.requestSaveSearch = Tt(n.saveSearch.bind(n), 5e3, !0));
            var i = n.containerEl,
              r = (n.headerDom = new IB(n.app, i));
            return (
              (n.matchingCaseButtonEl = r.addNavButton(
                cv,
                Oz("label-match-case"),
                function () {
                  return n.setMatchingCase(!n.matchingCase);
                }
              )),
              (n.explainSearchButtonEl = r.addNavButton(
                rv,
                Oz("label-explain-search-term"),
                function () {
                  return n.setExplainSearch(!n.explainSearch);
                }
              )),
              (n.collapseAllButtonEl = r.addNavButton(
                lv,
                Oz("label-collapse-results"),
                function () {
                  return n.setCollapseAll(!n.dom.collapseAll);
                }
              )),
              (n.extraContextButtonEl = r.addNavButton(
                hv,
                Oz("label-more-context"),
                function () {
                  return n.setExtraContext(!n.dom.extraContext);
                }
              )),
              r.addSortButton(
                function (e) {
                  return n.setSortOrder(e);
                },
                function () {
                  return n.dom.sortOrder;
                }
              ),
              r.addNavButton(
                Sm,
                Oz("label-copy-search-results"),
                n.onCopyResultsClick.bind(n)
              ),
              new aT(i)
                .setPlaceholder(Oz("prompt-start-search"))
                .onChange(Tt(n.startSearch.bind(n), 250, !0))
                .then(function (e) {
                  nn(e.clearButtonEl, Oz("tooltip-clear-search")),
                    (n.searchComponent = e),
                    n.searchComponent.inputEl.addEventListener(
                      "keypress",
                      function (e) {
                        e.isComposing ||
                          "Enter" !== e.key ||
                          (eb.isMobile && bh(), n.startSearch());
                      }
                    ),
                    eb.isMobile &&
                      e.containerEl.createDiv(
                        "search-input-suggest-button",
                        function (t) {
                          Xy(t, pm, 10),
                            t.addEventListener("click", function () {
                              tN.showOnce(n.app, e.inputEl, !0);
                            });
                        }
                      );
                }),
              (n.searchInfoEl = i.createDiv({ cls: "search-info-container" })),
              n.searchInfoEl.hide(),
              (n.dom = new OB(
                n.app,
                i.createDiv("search-result-container mod-global-search"),
                Oz("label-no-matches")
              )),
              (n.queue = new FB(n.app, n.dom)),
              n.addChild(n.queue),
              eb.isMobile || tN.attach(n.app, n.searchComponent.inputEl, !0),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.onOpen = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  return (
                    this.registerDomEvent(
                      this.leaf.tabHeaderEl,
                      "click",
                      this.onTabHeaderClick.bind(this)
                    ),
                    [2, e.prototype.onOpen.call(this)]
                  );
                });
              });
            }),
            (t.prototype.saveSearch = function () {
              var e = this.searchComponent.getValue();
              if (e) {
                var t = this.app.loadLocalStorage("recent-searches");
                (t && Array.isArray(t)) || (t = []),
                  t.remove(e),
                  t.unshift(e),
                  t.length > 20 && (t = t.slice(0, 20)),
                  this.app.saveLocalStorage("recent-searches", t);
              }
            }),
            (t.prototype.getDisplayText = function () {
              return Oz("name");
            }),
            (t.prototype.getViewType = function () {
              return Iz;
            }),
            (t.prototype.getState = function () {
              var t = e.prototype.getState.call(this);
              return (
                (t.query = this.getQuery()),
                (t.matchingCase = this.matchingCase),
                (t.explainSearch = this.explainSearch),
                (t.collapseAll = this.dom.collapseAll),
                (t.extraContext = this.dom.extraContext),
                (t.sortOrder = this.dom.sortOrder),
                t
              );
            }),
            (t.prototype.setState = function (t, n) {
              return A(this, void 0, Promise, function () {
                var i, r, o, s, a, l;
                return D(this, function (c) {
                  switch (c.label) {
                    case 0:
                      return [4, e.prototype.setState.call(this, t, n)];
                    case 1:
                      return (
                        c.sent(),
                        (i = t.query),
                        (r = t.matchingCase),
                        (o = t.explainSearch),
                        (s = t.collapseAll),
                        (a = t.extraContext),
                        (l = t.sortOrder),
                        (String.isString(i) || null === i) && this.setQuery(i),
                        isBoolean(r) && this.setMatchingCase(r),
                        isBoolean(o) && this.setExplainSearch(o),
                        isBoolean(s) && this.setCollapseAll(s),
                        isBoolean(a) && this.setExtraContext(a),
                        String.isString(l) &&
                          xB.hasOwnProperty(l) &&
                          this.setSortOrder(l),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.setMatchingCase = function (e) {
              e !== this.matchingCase &&
                ((this.matchingCase = e),
                this.matchingCaseButtonEl.toggleClass("is-active", e),
                this.app.workspace.requestSaveLayout(),
                "" !== this.searchComponent.getValue() && this.startSearch());
            }),
            (t.prototype.setExplainSearch = function (e) {
              e !== this.explainSearch &&
                ((this.explainSearch = e),
                this.searchInfoEl.toggle(e),
                this.explainSearchButtonEl.toggleClass("is-active", e),
                this.app.workspace.requestSaveLayout());
            }),
            (t.prototype.setCollapseAll = function (e) {
              e !== this.dom.collapseAll &&
                (this.dom.setCollapseAll(e),
                this.collapseAllButtonEl.toggleClass("is-active", e),
                this.app.workspace.requestSaveLayout());
            }),
            (t.prototype.setExtraContext = function (e) {
              e !== this.dom.extraContext &&
                (this.dom.setExtraContext(e),
                this.extraContextButtonEl.toggleClass("is-active", e),
                this.app.workspace.requestSaveLayout());
            }),
            (t.prototype.onCopyResultsClick = function (e) {
              e.preventDefault(), new Bz(this.app, this.dom).open();
            }),
            (t.prototype.setSortOrder = function (e) {
              var t = this.dom;
              (t.sortOrder = e), t.changed();
            }),
            (t.prototype.onResize = function () {
              this.dom.onResize();
            }),
            (t.prototype.startSearch = function () {
              var e = this;
              this.stopSearch();
              var t = this,
                n = t.app,
                i = t.dom,
                r = t.searchInfoEl;
              i.emptyResults();
              try {
                var o = this.searchComponent.getValue(),
                  s = new KP(o, this.matchingCase);
                if (!s.matcher) return;
                (this.searchQuery = s), this.renderSearchInfo(s.matcher, r);
                var a = this.queue.start();
                $P(n, s.requiredInputs, a, function (t, n, r) {
                  return A(e, void 0, void 0, function () {
                    var e;
                    return D(this, function (o) {
                      switch (o.label) {
                        case 0:
                          return (
                            (e = s.match(t, n, r))
                              ? i.addResult(t, e, n).renderContentMatches()
                              : i.removeResult(t),
                            i.el.offsetParent
                              ? [3, 2]
                              : [
                                  4,
                                  new Promise(function (e) {
                                    return i.el.onNodeInserted(e, !0);
                                  }),
                                ]
                          );
                        case 1:
                          o.sent(), (o.label = 2);
                        case 2:
                          return [2];
                      }
                    });
                  });
                });
              } catch (e) {
                r.createDiv({ cls: "search-info", text: e.message }),
                  console.log(e);
              }
              this.app.workspace.requestSaveLayout(), this.requestSaveSearch();
            }),
            (t.prototype.stopSearch = function () {
              this.queue.stop(), this.searchInfoEl.empty();
            }),
            (t.prototype.renderSearchInfo = function (e, t) {
              if ((t.createDiv({ text: e.getInfo() }), e instanceof MP))
                for (
                  var n = t.createDiv("search-info-children"),
                    i = 0,
                    r = e.matchers;
                  i < r.length;
                  i++
                ) {
                  var o = r[i];
                  this.renderSearchInfo(o, n);
                }
              else if (e instanceof DP) {
                n = t.createDiv("search-info-children");
                this.renderSearchInfo(e.matcher, n);
              }
            }),
            (t.prototype.setQuery = function (e) {
              var t = this.searchComponent,
                n = t.inputEl;
              String.isString(e)
                ? ((n.value = e), t.setValue(e), n.focus(), this.startSearch())
                : n.select();
            }),
            (t.prototype.getQuery = function () {
              return this.searchComponent.getValue();
            }),
            (t.prototype.onTabHeaderClick = function () {
              var e = this;
              setTimeout(function () {
                e.searchComponent.inputEl.select();
              }, 0);
            }),
            t
          );
        })(ow),
        Bz = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (
              (i.dom = n), i.titleEl.setText(Oz("label-copy-search-results")), i
            );
          }
          return (
            M(t, e),
            (t.prototype.onOpen = function () {
              var e = this,
                t = this.contentEl,
                n = this.dom,
                i = {},
                r = this.app.internalPlugins.getPluginById("global-search");
              r && (i = r.instance.options), t.empty();
              var o,
                s,
                a,
                l = t.createDiv("copy-search-result-container"),
                c = l.createEl("textarea", "copy-search-result-textarea"),
                u = function () {
                  var e = n.getFiles();
                  (c.value = e
                    .map(function (e, t) {
                      var n = o.getValue() ? e.path : e.basename,
                        l = s.getValue();
                      "wikilink" === l
                        ? (n = "[[" + n + "]]")
                        : "markdown" === l &&
                          (n = "[" + e.basename + "](" + n + ")");
                      var c = a.getValue();
                      return (
                        "-" === c
                          ? (n = "- " + n)
                          : "*" === c
                          ? (n = "* " + n)
                          : "num" === c && (n = t + 1 + ". " + n),
                        (i.showFullPath = o.getValue()),
                        (i.linkStyle = s.getValue()),
                        (i.listStyle = a.getValue()),
                        r.saveData(i),
                        n
                      );
                    })
                    .join("\n")),
                    c.select();
                };
              new ZD(l)
                .setName(Oz("option-show-path"))
                .setDesc(Oz("option-show-path-description"))
                .addToggle(function (e) {
                  e.setValue(!!i.showFullPath).onChange(u), (o = e);
                }),
                new ZD(l)
                  .setName(Oz("option-link-style"))
                  .setDesc(Oz("option-link-style-description"))
                  .addDropdown(function (e) {
                    e
                      .addOption("none", Oz("option-choice-link-style-none"))
                      .addOption(
                        "wikilink",
                        Oz("option-choice-link-style-wikilink")
                      )
                      .addOption(
                        "markdown",
                        Oz("option-choice-link-style-markdown-link")
                      )
                      .setValue(i.linkStyle || "none")
                      .onChange(u),
                      (s = e);
                  }),
                new ZD(l)
                  .setName(Oz("option-list-prefix"))
                  .setDesc(Oz("option-list-prefix-description"))
                  .addDropdown(function (e) {
                    e
                      .addOption("none", Oz("option-choice-list-style-none"))
                      .addOption("-", Oz("option-choice-list-style-dash"))
                      .addOption("*", Oz("option-choice-list-style-asterisk"))
                      .addOption("num", Oz("option-choice-list-style-numbered"))
                      .setValue(i.listStyle || "none")
                      .onChange(u),
                      (a = e);
                  }),
                t.createDiv("modal-button-container", function (t) {
                  t
                    .createEl("button", {
                      text: Oz("button-copy-results"),
                      cls: "mod-cta",
                    })
                    .addEventListener("click", function () {
                      Pt(c.value), new lw(Oz("msg-successfully-copied"));
                    }),
                    t
                      .createEl("button", { text: Lt("dialogue.button-done") })
                      .addEventListener("click", function () {
                        return e.close();
                      });
                }),
                u();
            }),
            (t.prototype.onClose = function () {
              this.contentEl.empty();
            }),
            t
          );
        })(vD),
        Rz = (function () {
          function e() {
            (this.id = "markdown-importer"),
              (this.name = Lt("plugins.markdown-format-importer.name")),
              (this.description = Lt("plugins.markdown-format-importer.desc")),
              (this.defaultOn = !0);
          }
          return (
            (e.prototype.init = function (e, t) {
              (this.app = e),
                t.registerRibbonAction(
                  Lt("plugins.markdown-format-importer.action-open"),
                  Em,
                  this.onOpen.bind(this)
                ),
                t.registerGlobalCommand({
                  id: "markdown-importer:open",
                  name: Lt("plugins.markdown-format-importer.action-open"),
                  icon: ky,
                  callback: this.onOpen.bind(this),
                });
            }),
            (e.prototype.onOpen = function () {
              return new Wz(this.app).open(), !1;
            }),
            e
          );
        })(),
        zz = /\^\^(\S(.*?\S)?)\^\^/g,
        Hz = /::(\S(.*?\S)?)::/g,
        Vz = /\[\[(\d+?)\]\]/g,
        qz =
          /(^|\s)\#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/g,
        jz = /\B\#(\[\[[\w \t]*?\]\])/g,
        Uz = /\{\{\[\[(TODO|DONE)\]\]\}\}/g,
        Wz = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            n.converters = [];
            var i = n.contentEl,
              r = n.converters;
            n.titleEl.setText(Lt("plugins.markdown-format-importer.name"));
            for (
              var o = (n.conversionsEl = i.createDiv()),
                s = [
                  {
                    name: Lt(
                      "plugins.markdown-format-importer.option-roam-tag-fixer"
                    ),
                    description: Lt(
                      "plugins.markdown-format-importer.option-roam-tag-fixer-description"
                    ),
                    convert: function (e, t, n, i) {
                      return (n = n.replace(qz, function (e, t, n) {
                        for (var r = !0, o = 0; o < n.length; o++) {
                          var s = n.charCodeAt(o);
                          if (s < 48 || s > 57) {
                            r = !1;
                            break;
                          }
                        }
                        return r ? e : (i.replaced++, t + "[[" + n + "]]");
                      })).replace(jz, function (e, t) {
                        return i.replaced++, t;
                      });
                    },
                  },
                  {
                    name: Lt(
                      "plugins.markdown-format-importer.option-roam-highlight-fixer"
                    ),
                    description: Lt(
                      "plugins.markdown-format-importer.option-roam-highlight-fixer-description"
                    ),
                    convert: function (e, t, n, i) {
                      return n.replace(zz, function (e, t) {
                        return i.replaced++, "==" + t + "==";
                      });
                    },
                  },
                  {
                    name: Lt(
                      "plugins.markdown-format-importer.option-roam-todo-converter"
                    ),
                    description: Lt(
                      "plugins.markdown-format-importer.option-roam-todo-converter-description",
                      bt
                    ),
                    convert: function (e, t, n, i) {
                      return n.replace(Uz, function (e, t) {
                        return i.replaced++, "TODO" === t ? "[ ]" : "[x]";
                      });
                    },
                  },
                  {
                    name: Lt(
                      "plugins.markdown-format-importer.option-bear-highlight-fixer"
                    ),
                    description: Lt(
                      "plugins.markdown-format-importer.option-bear-highlight-fixer-description"
                    ),
                    convert: function (e, t, n, i) {
                      return n.replace(Hz, function (e, t) {
                        return i.replaced++, "==" + t + "==";
                      });
                    },
                  },
                  {
                    name: Lt(
                      "plugins.markdown-format-importer.zettelkasten-link-fixer"
                    ),
                    description: Lt(
                      "plugins.markdown-format-importer.zettelkasten-link-fixer-description"
                    ),
                    convert: function (e, t, n, i) {
                      return n.replace(Vz, function (n, r) {
                        for (
                          var o = 0, s = e.vault.getAllLoadedFiles();
                          o < s.length;
                          o++
                        ) {
                          var a = s[o];
                          if (a instanceof Ab && a.basename.contains(r))
                            return (
                              i.replaced++,
                              "[[" +
                                e.metadataCache.fileToLinktext(a, t.path) +
                                "]]"
                            );
                        }
                        return n;
                      });
                    },
                  },
                  {
                    name: Lt(
                      "plugins.markdown-format-importer.zettelkasten-link-beautifier"
                    ),
                    description: Lt(
                      "plugins.markdown-format-importer.zettelkasten-link-beautifier-description"
                    ),
                    convert: function (e, t, n, i) {
                      return n.replace(Vz, function (n, r) {
                        for (
                          var o = 0, s = e.vault.getAllLoadedFiles();
                          o < s.length;
                          o++
                        ) {
                          var a = s[o];
                          if (a instanceof Ab && a.basename.contains(r))
                            return (
                              i.replaced++,
                              "[[" +
                                e.metadataCache.fileToLinktext(a, t.path) +
                                "|" +
                                a.basename.replace(r, "").trim() +
                                "]]"
                            );
                        }
                        return n;
                      });
                    },
                  },
                ],
                a = function (e) {
                  new ZD(o)
                    .setName(e.name)
                    .setDesc(e.description)
                    .addToggle(function (t) {
                      t.setValue(!1), r.push({ toggle: t, conversion: e });
                    });
                },
                l = 0,
                c = s;
              l < c.length;
              l++
            ) {
              a(c[l]);
            }
            o.createEl("p", {
              cls: "setting-message mod-warning",
              text: Lt(
                "plugins.markdown-format-importer.msg-all-files-warning"
              ),
            }),
              o.createEl("p", {
                cls: "setting-message mod-warning",
                text: Lt(
                  "plugins.markdown-format-importer.msg-override-files-warning"
                ),
              }),
              o
                .createDiv("modal-button-container")
                .createEl("button", {
                  cls: "mod-cta",
                  text: Lt(
                    "plugins.markdown-format-importer.label-start-conversion"
                  ),
                })
                .addEventListener("click", n.onProcess.bind(n));
            var u = (n.resultEl = createDiv());
            (n.statusEl = u.createEl("p", "u-center-text")),
              (n.processedEl = u.createDiv("changelog-item mod-success")),
              (n.modifiedEl = u.createDiv("changelog-item mod-highlighted")),
              (n.replacedEl = u.createDiv("changelog-item mod-highlighted")),
              n.renderStats({ processed: 0, modified: 0, replaced: 0 });
            var h = u.createDiv("modal-button-container");
            return (
              (n.cancelEl = h.createEl("button", {
                cls: "mod-warning",
                text: Lt("plugins.markdown-format-importer.label-stop"),
              })).addEventListener("click", n.onCancel.bind(n)),
              (n.goBackEl = h.createEl("button", {
                cls: "",
                text: Lt("plugins.markdown-format-importer.label-go-back"),
              })).addEventListener("click", n.onGoBack.bind(n)),
              (n.doneEl = h.createEl("button", {
                cls: "mod-cta",
                text: Lt("plugins.markdown-format-importer.label-done"),
              })).addEventListener("click", n.close.bind(n)),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.onProcess = function () {
              for (
                var e = this, t = [], n = 0, i = this.converters;
                n < i.length;
                n++
              ) {
                var r = i[n];
                r.toggle.getValue() && t.push(r.conversion);
              }
              0 !== t.length &&
                ((this.runnable = new _h({
                  onCancel: function () {
                    e.cancelEl.hide(),
                      e.statusEl.setText(
                        Lt("plugins.markdown-format-importer.label-cancelling")
                      );
                  },
                })),
                this.conversionsEl.detach(),
                this.contentEl.append(this.resultEl),
                this.cancelEl.show(),
                this.goBackEl.hide(),
                this.doneEl.hide(),
                this.statusEl.setText(
                  Lt("plugins.markdown-format-importer.label-processing")
                ),
                this.process(t));
            }),
            (t.prototype.onCancel = function () {
              var e = this.runnable;
              e && e.cancel();
            }),
            (t.prototype.onGoBack = function () {
              this.resultEl.detach(), this.contentEl.append(this.conversionsEl);
              for (var e = 0, t = this.converters; e < t.length; e++) {
                t[e].toggle.setValue(!1);
              }
            }),
            (t.prototype.onFinish = function (e) {
              this.renderStats(e),
                this.cancelEl.hide(),
                this.goBackEl.show(),
                this.statusEl.setText(
                  Lt("plugins.markdown-format-importer.label-finished")
                ),
                this.doneEl.show();
            }),
            (t.prototype.renderStats = function (e) {
              this.processedEl.setText(
                Lt("plugins.markdown-format-importer.label-processed-files")
              ),
                this.processedEl.setAttribute(
                  "data-label",
                  e.processed.toString()
                ),
                this.modifiedEl.setText(
                  Lt("plugins.markdown-format-importer.label-modified-files")
                ),
                this.modifiedEl.setAttribute(
                  "data-label",
                  e.modified.toString()
                ),
                this.replacedEl.setText(
                  Lt(
                    "plugins.markdown-format-importer.label-total-replacements"
                  )
                ),
                this.replacedEl.setAttribute(
                  "data-label",
                  e.replaced.toString()
                );
            }),
            (t.prototype.onClose = function () {
              this.onCancel(), this.onGoBack();
            }),
            (t.prototype.process = function (e) {
              var t, n;
              return A(this, void 0, void 0, function () {
                var i, r, o, s, a, l, c, u, h, p, d, f, g, m, v;
                return D(this, function (y) {
                  switch (y.label) {
                    case 0:
                      (r = (i = this).app),
                        (o = i.runnable),
                        (s = { processed: 0, modified: 0, replaced: 0 }),
                        (a = r.vault.getMarkdownFiles()),
                        (y.label = 1);
                    case 1:
                      y.trys.push([1, 9, 10, 15]),
                        (l = I(r.vault.iterateFiles(a))),
                        (y.label = 2);
                    case 2:
                      return [4, l.next()];
                    case 3:
                      if ((c = y.sent()).done) return [3, 8];
                      if (
                        ((u = c.value),
                        (h = u.file),
                        (p = u.content),
                        o.isCancelled())
                      )
                        return this.onFinish(s), [3, 8];
                      for (d = p, f = 0, g = e; f < g.length; f++)
                        (m = g[f]), (d = m.convert(r, h, d, s));
                      return d === p
                        ? [3, 5]
                        : (s.modified++, [4, r.vault.modify(h, d)]);
                    case 4:
                      y.sent(), (y.label = 5);
                    case 5:
                      return (
                        s.processed++,
                        o.isCancelled()
                          ? (this.onFinish(s), [3, 8])
                          : (this.renderStats(s),
                            s.processed % 10 != 0
                              ? [3, 7]
                              : [4, r.nextFramePromise()])
                      );
                    case 6:
                      y.sent(), (y.label = 7);
                    case 7:
                      return [3, 2];
                    case 8:
                      return [3, 15];
                    case 9:
                      return (v = y.sent()), (t = { error: v }), [3, 15];
                    case 10:
                      return (
                        y.trys.push([10, , 13, 14]),
                        c && !c.done && (n = l.return)
                          ? [4, n.call(l)]
                          : [3, 12]
                      );
                    case 11:
                      y.sent(), (y.label = 12);
                    case 12:
                      return [3, 14];
                    case 13:
                      if (t) throw t.error;
                      return [7];
                    case 14:
                      return [7];
                    case 15:
                      return this.onFinish(s), [2];
                  }
                });
              });
            }),
            t
          );
        })(vD),
        _z = At("plugins.note-composer"),
        Gz = (function () {
          function e() {
            (this.id = "note-composer"),
              (this.name = _z("name")),
              (this.description = _z("desc")),
              (this.defaultOn = !0),
              (this.options = {}),
              (this.app = null),
              (this.pluginInstance = null);
          }
          return (
            (e.prototype.init = function (e, t) {
              var n = this;
              (this.app = e),
                (this.pluginInstance = t),
                t.registerGlobalCommand({
                  id: "note-composer:merge-file",
                  name: _z("command-merge-file"),
                  icon: zy,
                  checkCallback: function (e) {
                    var t = n.app.workspace.getActiveFile();
                    if (t) {
                      if (!e) {
                        var i = new Kz(n.app, n);
                        i.setCurrentFile(t), i.open();
                      }
                      return !0;
                    }
                  },
                }),
                t.registerGlobalCommand({
                  id: "note-composer:split-file",
                  name: _z("command-split-file"),
                  icon: ay,
                  editorCheckCallback: function (e, t, i) {
                    if (t.somethingSelected()) {
                      if (!e) {
                        var r = new $z(n.app, t, n);
                        r.setCurrentFile(i.file), r.open();
                      }
                      return !0;
                    }
                  },
                }),
                t.registerGlobalCommand({
                  id: "note-composer:extract-heading",
                  name: _z("command-extract-heading"),
                  icon: Wy,
                  editorCheckCallback: function (e, t, i) {
                    var r = t.getCursor().line;
                    if (null !== kg(t.getLine(r)))
                      return e || n.extractHeading(i.file, t), !0;
                  },
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (n = this), [4, t.loadData()];
                    case 1:
                      return (
                        (n.options = i.sent() || { askBeforeMerging: !0 }),
                        t.registerEvent(
                          e.workspace.on("file-menu", this.onFileMenu, this)
                        ),
                        t.registerEvent(
                          e.workspace.on("editor-menu", this.onEditorMenu, this)
                        ),
                        t.addSettingTab(new Yz(e, t, this)),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.onFileMenu = function (e, t, n) {
              var i = this;
              "link-context-menu" !== n &&
                t instanceof Ab &&
                e.addItem(function (e) {
                  return e
                    .setTitle(_z("action-merge-file"))
                    .setIcon(Hy)
                    .onClick(function () {
                      var e = new Kz(i.app, i);
                      e.setCurrentFile(t), e.open();
                    });
                });
            }),
            (e.prototype.onEditorMenu = function (e, t, n) {
              var i = this;
              t.getSelection() &&
                e.addItem(function (e) {
                  return e
                    .setTitle(_z("command-split-file"))
                    .setIcon(Wy)
                    .onClick(function () {
                      var e = new $z(i.app, t, i);
                      e.setCurrentFile(n.file), e.open();
                    });
                });
              var r = t.getCursor().line;
              null !== kg(t.getLine(r)) &&
                e.addItem(function (e) {
                  return e
                    .setTitle(_z("command-extract-heading"))
                    .setIcon(Wy)
                    .onClick(function () {
                      return i.extractHeading(n.file, t);
                    });
                });
            }),
            (e.prototype.extractHeading = function (e, t) {
              var n = t.getCursor().line,
                i = this.getSelectionUnderHeading(e, t, n);
              if (i) {
                var r = i.heading,
                  o = i.start,
                  s = i.end;
                t.setSelection(o, s);
                var a = new $z(this.app, t, this, r);
                a.setCurrentFile(e), a.open();
              } else new lw(_z("msg-fail-to-find-heading"));
            }),
            (e.prototype.getSelectionUnderHeading = function (e, t, n) {
              var i = this.app.metadataCache.getFileCache(e);
              if (!i) return null;
              var r = i.headings;
              if (!r || 0 === r.length) return null;
              for (
                var o, s = 0, a = null, l = null, c = 0, u = r;
                c < u.length;
                c++
              ) {
                var h = u[c];
                if (a && h.level <= s) {
                  l = h;
                  break;
                }
                a || h.position.start.line !== n || ((s = h.level), (a = h));
              }
              if (!a) return null;
              if (l)
                for (
                  o = l.position.start.line - 1;
                  "" === t.getLine(o).trim() && o > n;

                )
                  o--;
              else o = t.lineCount() - 1;
              return {
                heading: a.heading.trim(),
                start: lh(n, 0),
                end: lh(o, t.getLine(o).length),
              };
            }),
            (e.prototype.getTemplateText = function () {
              return A(this, void 0, Promise, function () {
                var e, t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        (e = this.app),
                        (t = ""),
                        this.options.template
                          ? (n = e.metadataCache.getFirstLinkpathDest(
                              this.options.template,
                              ""
                            ))
                            ? [4, e.vault.cachedRead(n)]
                            : (new lw(
                                _z("msg-fail-to-fetch-template", {
                                  template: this.options.template,
                                })
                              ),
                              [2])
                          : [3, 2]
                      );
                    case 1:
                      return (
                        "" === (t = i.sent()) ||
                          t.contains("{{content}}") ||
                          (t += "\n\n{{content}}"),
                        [2, t]
                      );
                    case 2:
                      return [2];
                  }
                });
              });
            }),
            e
          );
        })(),
        Kz = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (
              (i.currentFile = null),
              (i.emptyStateText = _z("label-no-files")),
              (i.noteComposer = n),
              (i.shouldShowAttachments = !1),
              i.setPlaceholder(_z("prompt-select-file-to-merge")),
              i.setInstructions([
                { command: "↑↓", purpose: _z("instruction-navigate") },
                { command: "↵", purpose: _z("instruction-merge") },
                {
                  command: fe ? "cmd ↵" : "ctrl ↵",
                  purpose: _z("instruction-create-new"),
                },
                { command: "shift ↵", purpose: _z("instruction-merge-at-top") },
                { command: "esc", purpose: _z("instruction-dismiss") },
              ]),
              i.scope.register(["Shift"], "Enter", function (e) {
                return i.chooser.useSelectedItem(e), !1;
              }),
              i.scope.register(["Mod"], "Enter", function (e) {
                return i.chooser.useSelectedItem(e), !1;
              }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.setCurrentFile = function (e) {
              this.currentFile = e;
            }),
            (t.prototype.onChooseSuggestion = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p = this;
                return D(this, function (d) {
                  switch (d.label) {
                    case 0:
                      return (
                        (n = this.app),
                        (i = this.inputEl.value),
                        !nw.isModifier(t, "Mod") && e && "unresolved" !== e.type
                          ? [3, 2]
                          : ((o = i),
                            e && "unresolved" === e.type && (o = e.linktext),
                            (s = n.fileManager.getNewFileParent(o)),
                            [4, n.fileManager.createNewMarkdownFile(s, o)])
                      );
                    case 1:
                      return (r = d.sent()), [3, 3];
                    case 2:
                      (r = e.file), (d.label = 3);
                    case 3:
                      return (
                        r === this.currentFile ||
                          ((a = this.currentFile),
                          (l = t.shiftKey),
                          (c = this.noteComposer),
                          (u = function () {
                            return A(p, void 0, void 0, function () {
                              var e;
                              return D(this, function (t) {
                                switch (t.label) {
                                  case 0:
                                    return [4, c.getTemplateText()];
                                  case 1:
                                    return (
                                      (e = t.sent()),
                                      [4, n.fileManager.mergeFile(r, a, e, l)]
                                    );
                                  case 2:
                                    return t.sent(), [2];
                                }
                              });
                            });
                          }),
                          c.options.askBeforeMerging
                            ? ((h = document.createDocumentFragment()).createEl(
                                "p",
                                {
                                  text: _z("label-confirm-file-merge", {
                                    file: a.basename,
                                    destination: r.basename,
                                  }),
                                }
                              ),
                              new yD(n)
                                .setTitle(_z("label-merge-file"))
                                .setContent(h)
                                .addButton(
                                  "mod-warning",
                                  _z("button-merge-do-not-ask-again"),
                                  function () {
                                    (c.options.askBeforeMerging = !1),
                                      c.pluginInstance.saveData(c.options),
                                      u();
                                  }
                                )
                                .addButton(
                                  "mod-warning",
                                  _z("button-merge"),
                                  function () {
                                    u();
                                  }
                                )
                                .addCancelButton()
                                .open())
                            : u()),
                        [2]
                      );
                  }
                });
              });
            }),
            t
          );
        })(QR),
        $z = (function (e) {
          function t(t, n, i, r) {
            var o = e.call(this, t) || this;
            if (
              ((o.defaultValue = ""),
              (o.editor = n),
              (o.composer = i),
              (o.shouldShowUnresolved = !0),
              (o.shouldShowAttachments = !1),
              !r)
            ) {
              var s = n.getSelection().split("\n");
              if (s.length > 0) r = kg(s[0]);
            }
            return (
              r || (r = ""),
              (o.defaultValue = r),
              o.setPlaceholder(_z("prompt-select-file-to-merge")),
              o.setInstructions([
                { command: "↑↓", purpose: _z("instruction-navigate") },
                { command: "↵", purpose: _z("instruction-append") },
                {
                  command: fe ? "cmd ↵" : "ctrl ↵",
                  purpose: _z("instruction-create-new"),
                },
                { command: "shift ↵", purpose: _z("instruction-prepend") },
                { command: "esc", purpose: _z("instruction-dismiss") },
              ]),
              o.scope.register(["Shift"], "Enter", function (e) {
                return o.chooser.useSelectedItem(e), !1;
              }),
              o.scope.register(["Mod"], "Enter", function (e) {
                return o.chooser.useSelectedItem(e), !1;
              }),
              o
            );
          }
          return (
            M(t, e),
            (t.prototype.onOpen = function () {
              e.prototype.onOpen.call(this),
                (this.inputEl.value = this.defaultValue),
                this.updateSuggestions();
            }),
            (t.prototype.setCurrentFile = function (e) {
              this.currentFile = e;
            }),
            (t.prototype.onChooseSuggestion = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n, i, r, o, s, a, l, c, u, h;
                return D(this, function (p) {
                  switch (p.label) {
                    case 0:
                      (n = this.app),
                        (i = this.editor.getSelection()),
                        (r = t.shiftKey),
                        (o = nw.isModifier(t, "Mod")),
                        (a = this.currentFile),
                        (p.label = 1);
                    case 1:
                      return (
                        p.trys.push([1, 7, , 8]),
                        !o && e
                          ? [3, 3]
                          : [
                              4,
                              n.fileManager.createNewMarkdownFileFromLinktext(
                                this.inputEl.value,
                                a.path
                              ),
                            ]
                      );
                    case 2:
                      return (s = p.sent()), [3, 6];
                    case 3:
                      return "unresolved" !== e.type
                        ? [3, 5]
                        : [
                            4,
                            n.fileManager.createNewMarkdownFileFromLinktext(
                              e.linktext,
                              a.path
                            ),
                          ];
                    case 4:
                      return (s = p.sent()), [3, 6];
                    case 5:
                      ("file" !== e.type && "alias" !== e.type) || (s = e.file),
                        (p.label = 6);
                    case 6:
                      return [3, 8];
                    case 7:
                      return (l = p.sent()), new lw(l.toString()), [2];
                    case 8:
                      return [4, this.composer.getTemplateText()];
                    case 9:
                      return (
                        (c = p.sent()),
                        [
                          4,
                          n.fileManager.insertTextIntoFile(
                            s,
                            i,
                            a.basename,
                            c,
                            r
                          ),
                        ]
                      );
                    case 10:
                      return (
                        p.sent(),
                        (u = n.fileManager.generateMarkdownLink(s, a.path)),
                        "embed" === (h = this.composer.options.replacementText)
                          ? this.editor.replaceSelection("!" + u)
                          : "none" === h
                          ? this.editor.replaceSelection("")
                          : this.editor.replaceSelection(u),
                        [2]
                      );
                  }
                });
              });
            }),
            t
          );
        })(QR),
        Yz = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t, n) || this;
            return (r.instance = i), r;
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              var e = this,
                t = this.containerEl;
              t.empty();
              var n = this.instance.options;
              new ZD(t)
                .setName(_z("option-split-replacement-text"))
                .setDesc(_z("option-split-replacement-text-description"))
                .addDropdown(function (t) {
                  return t
                    .addOption(
                      "link",
                      _z("option-choice-split-replacement-text-link")
                    )
                    .addOption(
                      "embed",
                      _z("option-choice-split-replacement-text-embed")
                    )
                    .addOption(
                      "none",
                      _z("option-choice-split-replacement-text-none")
                    )
                    .setValue(n.replacementText || "link")
                    .onChange(function (t) {
                      (n.replacementText = t), e.plugin.saveData(n);
                    });
                }),
                new ZD(t)
                  .setName(_z("option-template-file"))
                  .setDesc(_z("option-template-file-description", bt))
                  .addText(function (t) {
                    t
                      .setPlaceholder(
                        Lt("setting.file-path-example-placeholder")
                      )
                      .setValue(n.template)
                      .onChange(function (t) {
                        (n.template = t.trim()), e.plugin.saveData(n);
                      }),
                      new lz(e.app, t.inputEl);
                  }),
                new ZD(t)
                  .setName(_z("option-confirm-file-merge"))
                  .setDesc(_z("option-confirm-file-merge-description"))
                  .addToggle(function (t) {
                    return t
                      .setValue(n.askBeforeMerging)
                      .onChange(function (t) {
                        (n.askBeforeMerging = t), e.plugin.saveData(n);
                      });
                  });
            }),
            t
          );
        })(sB),
        Jz = "outgoing-link",
        Qz = At("plugins.outgoing-links"),
        Xz = (function () {
          function e() {
            (this.id = "outgoing-link"),
              (this.name = Qz("name")),
              (this.description = Qz("desc")),
              (this.defaultOn = !1);
          }
          return (
            (e.prototype.init = function (e, t) {
              var n = this;
              (this.app = e),
                (this.plugin = t),
                t.registerViewType(Jz, function (e) {
                  return new Zz(e);
                }),
                t.registerGlobalCommand({
                  id: "outgoing-links:open",
                  name: Qz("action-show"),
                  icon: Iv,
                  callback: function () {
                    n.app.workspace.ensureSideLeaf(Jz, "right", !1);
                  },
                }),
                t.registerGlobalCommand({
                  id: "outgoing-links:open-for-current",
                  name: Qz("action-open-for-current"),
                  icon: Iv,
                  checkCallback: this.openForCurrentFile.bind(this),
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              t.registerEvent(
                e.workspace.on("layout-ready", this.initLeaf, this)
              ),
                t.registerEvent(
                  e.workspace.on("file-menu", this.onFileMenu, this)
                );
            }),
            (e.prototype.onUserEnable = function () {
              this.initLeaf();
            }),
            (e.prototype.onUserDisable = function (e) {
              for (
                var t = 0, n = e.workspace.getLeavesOfType(Jz);
                t < n.length;
                t++
              ) {
                n[t].detach();
              }
            }),
            (e.prototype.initLeaf = function () {
              this.app.workspace.ensureSideLeaf(Jz, "right", !1, !1);
            }),
            (e.prototype.onFileMenu = function (e, t, n, i) {
              var r = this;
              !eb.isMobile &&
                t instanceof Ab &&
                i &&
                "sidebar-context-menu" !== n &&
                e.addItem(function (e) {
                  return e
                    .setTitle(Qz("action-open"))
                    .setIcon(hy)
                    .onClick(function () {
                      return A(r, void 0, void 0, function () {
                        return D(this, function (e) {
                          switch (e.label) {
                            case 0:
                              return [
                                4,
                                this.app.workspace
                                  .splitLeafOrActive(i, "horizontal")
                                  .setViewState({
                                    type: Jz,
                                    active: !0,
                                    group: i,
                                    state: { file: t.path },
                                  }),
                              ];
                            case 1:
                              return e.sent(), [2];
                          }
                        });
                      });
                    });
                });
            }),
            (e.prototype.openForCurrentFile = function (e) {
              var t = this.app.workspace,
                n = t.getActiveFile();
              if (n) {
                if (!e)
                  t.splitActiveLeaf("vertical").setViewState({
                    type: Jz,
                    active: !0,
                    group: t.activeLeaf,
                    state: { file: n.path },
                  });
                return !0;
              }
            }),
            e
          );
        })(),
        Zz = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            n.icon = hy;
            var i = n.contentEl.createDiv("outgoing-link-pane");
            return (
              (n.outgoingLink = n.addChild(new eH(n.app, i))),
              n.requestUpdate(),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.getDisplayText = function () {
              return this.file
                ? Qz("tab-title", {
                    displayText: e.prototype.getDisplayText.call(this),
                  })
                : Qz("name");
            }),
            (t.prototype.getViewType = function () {
              return Jz;
            }),
            (t.prototype.canAcceptExtension = function (e) {
              return !0;
            }),
            (t.prototype.getState = function () {
              var t = e.prototype.getState.call(this);
              return (
                (t.linksCollapsed = this.outgoingLink.linksCollapsed),
                (t.unlinkedCollapsed = this.outgoingLink.unlinkedCollapsed),
                t
              );
            }),
            (t.prototype.setState = function (t, n) {
              return A(this, void 0, Promise, function () {
                var i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return [4, e.prototype.setState.call(this, t, n)];
                    case 1:
                      return (
                        o.sent(),
                        (i = t.linksCollapsed),
                        (r = t.unlinkedCollapsed),
                        isBoolean(i)
                          ? [4, this.outgoingLink.setLinksCollapsed(i, !1)]
                          : [3, 3]
                      );
                    case 2:
                      o.sent(), (o.label = 3);
                    case 3:
                      return isBoolean(r)
                        ? [4, this.outgoingLink.setUnlinkedCollapsed(r, !1)]
                        : [3, 5];
                    case 4:
                      o.sent(), (o.label = 5);
                    case 5:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.onResize = function () {
              this.outgoingLink.onResize();
            }),
            (t.prototype.update = function () {
              this.leaf.updateHeader();
              var e = this.outgoingLink;
              (e.file = this.file),
                (e.tooltipPlacement = this.getSideTooltipPlacement()),
                e.update();
            }),
            t
          );
        })(nN),
        eH = (function (e) {
          function t(t, n, i) {
            var r = e.call(this) || this;
            (r.showSearch = !1),
              (r.outgoingFile = null),
              (r.linksCollapsed = !1),
              (r.linksHeaderEl = null),
              (r.linksCountEl = null),
              (r.linksQueue = null),
              (r.unlinkedFile = null),
              (r.unlinkedCollapsed = !1),
              (r.unlinkedHeaderEl = null),
              (r.unlinkedCountEl = null),
              (r.unlinksQueue = null),
              (r.unlinkedDomInfo = new WeakMap()),
              (r.requestUpdate = Tt(r.update.bind(r), 50)),
              (r.app = t),
              (i = i || n);
            var o = (r.linksHeaderEl = n.createDiv(
              "tree-item-self is-clickable"
            ));
            o.createSpan("tree-item-icon collapse-icon", function (e) {
              Xy(e, pm, 8);
            }),
              o.createDiv({ cls: "tree-item-inner", text: Qz("label-links") }),
              o.addEventListener("click", r.toggleLinksCollapsed.bind(r)),
              (r.linksCountEl = o
                .createDiv("tree-item-flair-outer")
                .createSpan("tree-item-flair")),
              (r.outgoingLinkDom = new tH(
                n.createDiv("search-result-container")
              )),
              (r.outgoingLinkInfinityScroller = new LB(i)),
              (r.outgoingLinkInfinityScroller.rootEl = r.outgoingLinkDom);
            var s = (r.unlinkedHeaderEl = n.createDiv(
              "tree-item-self is-clickable"
            ));
            return (
              s.createSpan("tree-item-icon collapse-icon", function (e) {
                Xy(e, pm, 8);
              }),
              s.createDiv({
                cls: "tree-item-inner",
                text: Qz("label-unlinked-mentions"),
              }),
              s.addEventListener("click", r.toggleUnlinkedCollapsed.bind(r)),
              (r.unlinkedCountEl = s
                .createDiv("tree-item-flair-outer")
                .createSpan("tree-item-flair")),
              (r.unlinkedDom = new OB(
                t,
                n.createDiv("search-result-container"),
                Qz("label-unlinked-mentions"),
                i
              )),
              r.setUnlinkedCollapsed(!0, !1),
              r
            );
          }
          return (
            M(t, e),
            (t.prototype.onload = function () {
              var e = this.app,
                t = e.vault;
              this.registerEvent(
                e.metadataCache.on("resolve", this.onFileResolved, this)
              ),
                this.registerEvent(t.on("delete", this.onFileDeleted, this));
            }),
            (t.prototype.onResize = function () {
              this.outgoingLinkInfinityScroller.onResize(),
                this.unlinkedDom.onResize();
            }),
            (t.prototype.toggleLinksCollapsed = function () {
              this.setLinksCollapsed(!this.linksCollapsed, !0);
            }),
            (t.prototype.setLinksCollapsed = function (e, t) {
              return A(this, void 0, void 0, function () {
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return e === this.linksCollapsed
                        ? [2]
                        : ((this.linksCollapsed = e),
                          this.updateHeaderTooltip(this.linksHeaderEl, e),
                          [4, Ub(this.outgoingLinkDom.el, e, t)]);
                    case 1:
                      return (
                        n.sent(),
                        e || this.outgoingLinkInfinityScroller.invalidateAll(),
                        this.update(),
                        this.app.workspace.requestSaveLayout(),
                        this.outgoingLinkInfinityScroller.updateVirtualDisplay(),
                        this.unlinkedDom.infinityScroll.updateVirtualDisplay(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.toggleUnlinkedCollapsed = function () {
              this.setUnlinkedCollapsed(!this.unlinkedCollapsed, !0);
            }),
            (t.prototype.setUnlinkedCollapsed = function (e, t) {
              return A(this, void 0, void 0, function () {
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return e === this.unlinkedCollapsed
                        ? [2]
                        : ((this.unlinkedCollapsed = e),
                          [
                            4,
                            this.setSectionCollapsed(
                              this.unlinkedHeaderEl,
                              this.unlinkedDom,
                              e,
                              t
                            ),
                          ]);
                    case 1:
                      return (
                        n.sent(),
                        this.app.workspace.requestSaveLayout(),
                        this.outgoingLinkInfinityScroller.updateVirtualDisplay(),
                        this.unlinkedDom.infinityScroll.updateVirtualDisplay(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.updateHeaderTooltip = function (e, t) {
              e.toggleClass("is-collapsed", t),
                nn(
                  e,
                  Lt(
                    t
                      ? "interface.tooltip.click-to-expand"
                      : "interface.tooltip.click-to-collapse"
                  ),
                  { placement: this.tooltipPlacement }
                );
            }),
            (t.prototype.setSectionCollapsed = function (e, t, n, i) {
              return A(this, void 0, void 0, function () {
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return (
                        this.updateHeaderTooltip(e, n), [4, t.toggle(n, i)]
                      );
                    case 1:
                      return r.sent(), this.update(), [2];
                  }
                });
              });
            }),
            (t.prototype.onFileResolved = function (e) {
              e === this.file &&
                ((this.outgoingFile = null),
                (this.unlinkedFile = null),
                this.update());
            }),
            (t.prototype.onFileDeleted = function () {
              (this.unlinkedFile = null), this.requestUpdate();
            }),
            (t.prototype.update = function () {
              var e = this.file;
              this.outgoingFile !== e && this.recomputeLinks(),
                this.unlinkedFile !== e && this.recomputeUnlinked(),
                this.updateHeaderTooltip(
                  this.linksHeaderEl,
                  this.linksCollapsed
                ),
                this.updateHeaderTooltip(
                  this.unlinkedHeaderEl,
                  this.unlinkedCollapsed
                );
            }),
            (t.prototype.recomputeLinks = function () {
              var e = this,
                t = this.linksQueue;
              t &&
                !t.runnable.isCancelled() &&
                (t.runnable.cancel(), (this.outgoingFile = null)),
                (this.linksQueue = null);
              var n = this.linksCollapsed,
                i = this.linksCountEl;
              if (n) i.hide();
              else {
                var r = this.file;
                this.outgoingFile = r;
                var o = this.outgoingLinkDom,
                  s = this.outgoingLinkInfinityScroller;
                if (
                  (s.queueCompute(),
                  i.show(),
                  i.setText("0"),
                  r && "md" === r.extension)
                ) {
                  var a = this.app.metadataCache,
                    l = a.getFileCache(r);
                  if (l) {
                    var c = [];
                    if (
                      (ED(l, function (e) {
                        var t = e.link;
                        c.push({ linktext: t, pos: e.position.start.offset });
                      }),
                      c.sort(function (e, t) {
                        return e.pos - t.pos;
                      }),
                      0 !== c.length)
                    ) {
                      for (
                        var u = r.path, h = 0, p = 0, d = o.children;
                        p < d.length;
                        p++
                      ) {
                        d[p].invalidated = !0;
                      }
                      o.children.filter(function (e) {
                        return e.sourcePath === u;
                      });
                      var f = function () {
                        var e = o.children;
                        e.sort(function (e, t) {
                          return e.pos - t.pos;
                        });
                        for (var t = 0; t < e.length; t++) {
                          var n = e[t];
                          if (-1 !== h && n.pos > h) break;
                          n.invalidated && (e.splice(t, 1), t--);
                        }
                        s.queueCompute(), i.setText(String(e.length));
                      };
                      t = this.linksQueue = new Gh({
                        onStart: function () {},
                        onStop: function () {
                          (h = -1), f();
                        },
                        onCancel: function () {
                          e.linksQueue = null;
                        },
                      });
                      var g = new Set();
                      t.addList(c);
                      var m = $h(t.generator(), {
                        batchSize: 20,
                        beforePause: function () {
                          f();
                        },
                      });
                      A(e, void 0, void 0, function () {
                        var e, t, n, i, r, s, l, c, p, d, f, v, y, b;
                        return D(this, function (w) {
                          switch (w.label) {
                            case 0:
                              w.trys.push([0, 5, 6, 11]),
                                (e = I(m)),
                                (w.label = 1);
                            case 1:
                              return [4, e.next()];
                            case 2:
                              if ((t = w.sent()).done) return [3, 4];
                              if (
                                ((n = t.value),
                                (i = n.linktext),
                                (r = n.pos),
                                (s = SD(i)),
                                (l = s.path),
                                (c = s.subpath),
                                (p = a.getFirstLinkpathDest(l, u)) ||
                                  (l = YD(l)),
                                (d = (p ? p.path : l) + c),
                                g.has(d))
                              )
                                return [3, 3];
                              g.add(d),
                                ((f = new nH(this, i, l, c, u, p)).pos = r),
                                (h = r),
                                o.children.push(f),
                                (w.label = 3);
                            case 3:
                              return [3, 1];
                            case 4:
                              return [3, 11];
                            case 5:
                              return (
                                (v = w.sent()), (y = { error: v }), [3, 11]
                              );
                            case 6:
                              return (
                                w.trys.push([6, , 9, 10]),
                                t && !t.done && (b = e.return)
                                  ? [4, b.call(e)]
                                  : [3, 8]
                              );
                            case 7:
                              w.sent(), (w.label = 8);
                            case 8:
                              return [3, 10];
                            case 9:
                              if (y) throw y.error;
                              return [7];
                            case 10:
                              return [7];
                            case 11:
                              return [2];
                          }
                        });
                      });
                    } else o.children = [];
                  } else o.children = [];
                } else o.children = [];
              }
            }),
            (t.prototype.recomputeUnlinked = function () {
              return A(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g,
                  m,
                  v,
                  y,
                  b,
                  w,
                  k,
                  C,
                  x,
                  S,
                  E,
                  M,
                  L,
                  T,
                  P,
                  O,
                  F,
                  N,
                  B = this;
                return D(this, function (R) {
                  switch (R.label) {
                    case 0:
                      return (
                        (e = this.unlinksQueue) &&
                          !e.runnable.isCancelled() &&
                          (e.runnable.cancel(), (this.unlinkedFile = null)),
                        (this.unlinksQueue = null),
                        (n = (t = this).unlinkedCollapsed),
                        (i = t.unlinkedCountEl),
                        n
                          ? (i.hide(), [2])
                          : ((r = this.file),
                            (o = this.unlinkedDom),
                            (a = (s = this).app),
                            (l = s.unlinkedDomInfo),
                            (this.unlinkedFile = r),
                            i.show(),
                            i.setText("0"),
                            r && "md" === r.extension
                              ? ((c = new Map()),
                                (u = function (e, t) {
                                  e = e.toLowerCase();
                                  var n = c.get(e) || { text: e, files: [] };
                                  c.set(e, n),
                                    n.files.contains(t) || n.files.push(t);
                                }),
                                (h = a.metadataCache.getFileCache(r)),
                                [4, a.vault.cachedRead(r)])
                              : (o.emptyResults(), [2]))
                      );
                    case 1:
                      for (
                        p = R.sent(),
                          d = a.vault.getMarkdownFiles(),
                          f = 0,
                          g = d;
                        f < g.length;
                        f++
                      )
                        if (
                          (m = g[f]) !== r &&
                          (u(m.basename, m),
                          (v = a.metadataCache.getFileCache(m)) &&
                            (y = Kg(v.frontmatter)))
                        )
                          for (b = 0, w = y; b < w.length; b++)
                            (k = w[b]) && u(k, m);
                      if (
                        ((C = Array.from(c.values()).sort(function (e, t) {
                          return YN(e.text, t.text);
                        })),
                        (x = o.getResult(r)))
                      ) {
                        for (S = x.children, E = 0; E < S.length; E++)
                          (M = S[E]),
                            ((L = l.get(M)) && c.has(L.text)) ||
                              (S.splice(E, 1), E--);
                        x.content = p;
                      } else o.emptyResults(), (x = o.addResult(r, { content: [] }, p, !1));
                      return (
                        (x.separateMatches = !0),
                        (T = function () {
                          x.children.sort(function (e, t) {
                            return e.matches[0][0] - t.matches[0][0];
                          }),
                            o.infinityScroll.queueCompute(),
                            i.setText(String(o.getMatchCount()));
                        }),
                        (e = this.unlinksQueue =
                          new Gh({
                            onStart: function () {},
                            onStop: function () {
                              T();
                            },
                            onCancel: function () {
                              B.linksQueue = null;
                            },
                          })),
                        (P = 0),
                        (O = h && h.frontmatter && h.frontmatter.position) &&
                          (P = O.end.offset),
                        (F = p.toLowerCase()),
                        e.addList(C),
                        (N = $h(e.generator(), {
                          beforePause: function () {
                            T();
                          },
                        })),
                        A(B, void 0, void 0, function () {
                          var e,
                            t,
                            n,
                            i,
                            o,
                            s,
                            c,
                            u,
                            d,
                            f,
                            g,
                            m,
                            v,
                            y,
                            b,
                            w,
                            k,
                            C = this;
                          return D(this, function (S) {
                            switch (S.label) {
                              case 0:
                                S.trys.push([0, 5, 6, 11]),
                                  (e = I(N)),
                                  (S.label = 1);
                              case 1:
                                return [4, e.next()];
                              case 2:
                                if ((t = S.sent()).done) return [3, 4];
                                for (
                                  n = t.value,
                                    i = n.files,
                                    o = n.text,
                                    s = x.children,
                                    c = 0;
                                  c < s.length;
                                  c++
                                )
                                  (u = s[c]),
                                    ((d = l.get(u)) && d.text !== o) ||
                                      (s.splice(c, 1), c--);
                                for (
                                  f = dP(o),
                                    g = new RegExp(f, "giy"),
                                    m = f.startsWith("(?:") ? -1 : 0,
                                    v = F.indexOf(o, P),
                                    y = function () {
                                      g.lastIndex = v + m;
                                      var e = v,
                                        t = v + o.length;
                                      if (((v = F.indexOf(o, t)), !g.test(p)))
                                        return "continue";
                                      if (
                                        ED(h, function (n) {
                                          return (
                                            n.position.start.offset <= e &&
                                            n.position.end.offset >= t
                                          );
                                        })
                                      )
                                        return "continue";
                                      var c = [e, t],
                                        u = x.getMatchMinimalPositions(p, c),
                                        d = u[0],
                                        f = u[1],
                                        y = u[2],
                                        b = u[3],
                                        w = new PB(x, d, f, [c]);
                                      l.set(w, n);
                                      var k = i;
                                      (w.onMatchRender = function (e, t) {
                                        for (
                                          var n = t.createDiv({
                                              cls: "search-result-file-match-destination-file-container",
                                            }),
                                            i = function (e) {
                                              var i = n.createDiv({
                                                cls: "search-result-file-match-destination-file",
                                              });
                                              i.createSpan(
                                                {
                                                  cls: "search-result-file-match-destination-file-icon",
                                                },
                                                function (e) {
                                                  Xy(e, Iv, 14);
                                                }
                                              ),
                                                i.createSpan({
                                                  cls: "search-result-file-match-destination-file-name",
                                                  text: e.basename,
                                                });
                                              var o = "/" !== e.parent.path,
                                                s = Qz("tooltip-link-file");
                                              o &&
                                                (s = Ze(e.path) + "\n\n" + s),
                                                nn(i, s),
                                                i.addEventListener(
                                                  "click",
                                                  function (n) {
                                                    return A(
                                                      C,
                                                      void 0,
                                                      void 0,
                                                      function () {
                                                        var i, o, s, l, u, h;
                                                        return D(
                                                          this,
                                                          function (p) {
                                                            switch (p.label) {
                                                              case 0:
                                                                return (
                                                                  n.preventDefault(),
                                                                  t.detach(),
                                                                  x.invalidate(),
                                                                  (i =
                                                                    this.app
                                                                      .vault),
                                                                  (o = c[0]),
                                                                  (s = c[1]),
                                                                  e
                                                                    ? [
                                                                        4,
                                                                        i.read(
                                                                          r
                                                                        ),
                                                                      ]
                                                                    : [2]
                                                                );
                                                              case 1:
                                                                return (
                                                                  (l =
                                                                    p.sent()),
                                                                  (u = l.slice(
                                                                    o,
                                                                    s
                                                                  )),
                                                                  (h =
                                                                    a.fileManager.generateMarkdownLink(
                                                                      e,
                                                                      r.path,
                                                                      "",
                                                                      u
                                                                    )),
                                                                  (l =
                                                                    l.slice(
                                                                      0,
                                                                      o
                                                                    ) +
                                                                    h +
                                                                    l.slice(s)),
                                                                  [
                                                                    4,
                                                                    i.modify(
                                                                      r,
                                                                      l
                                                                    ),
                                                                  ]
                                                                );
                                                              case 2:
                                                                return (
                                                                  p.sent(), [2]
                                                                );
                                                            }
                                                          }
                                                        );
                                                      }
                                                    );
                                                  }
                                                );
                                            },
                                            o = 0,
                                            s = k;
                                          o < s.length;
                                          o++
                                        )
                                          i(s[o]);
                                      }),
                                        w.render(y, b),
                                        s.push(w);
                                    };
                                  -1 !== v;

                                )
                                  y();
                                S.label = 3;
                              case 3:
                                return [3, 1];
                              case 4:
                                return [3, 11];
                              case 5:
                                return (
                                  (b = S.sent()), (w = { error: b }), [3, 11]
                                );
                              case 6:
                                return (
                                  S.trys.push([6, , 9, 10]),
                                  t && !t.done && (k = e.return)
                                    ? [4, k.call(e)]
                                    : [3, 8]
                                );
                              case 7:
                                S.sent(), (S.label = 8);
                              case 8:
                                return [3, 10];
                              case 9:
                                if (w) throw w.error;
                                return [7];
                              case 10:
                                return [7];
                              case 11:
                                return [2];
                            }
                          });
                        }).then(),
                        [2]
                      );
                  }
                });
              });
            }),
            t
          );
        })(nm),
        tH = function (e) {
          (this.info = {
            height: 0,
            width: 0,
            childTop: 0,
            computed: !1,
            queued: !1,
            hidden: !1,
          }),
            (this.children = []),
            (this.pusherEl = EB()),
            (this.el = e),
            (this.childrenEl = e);
        },
        nH = function (e, t, n, i, r, o) {
          (this.info = {
            height: 0,
            width: 0,
            childTop: 0,
            computed: !1,
            queued: !1,
            hidden: !1,
          }),
            (this.invalidated = !1),
            (this.sourcePath = r);
          var s = e.app,
            a = (this.el = createDiv(
              "tree-item-self is-clickable outgoing-link-item"
            )),
            l = a.createSpan("tree-item-icon"),
            c = Iv,
            u = n,
            h = "";
          if (o) {
            var p = DD(s.metadataCache.getFileCache(o), i);
            p
              ? "heading" === p.type
                ? ((c = Lv), (u = p.current.heading), (h = n))
                : "block" === p.type && ((c = Em), (u = p.block.id), (h = n))
              : ((c = Iv), "/" !== o.parent.path && (h = Je(o.path)));
          } else (c = dy), nn(a, Qz("tooltip-not-created"));
          Xy(l, c);
          var d = a.createDiv({ cls: "tree-item-inner", text: u });
          if (
            (h && d.createDiv({ cls: "tree-item-inner-subtext", text: h }),
            a.onClickEvent(function (e) {
              s.workspace.openLinkText(t, r, nw.isModEvent(e));
            }),
            a.addEventListener("mouseover", function (n) {
              !n.defaultPrevented &&
                Rt(n, a) &&
                (n.preventDefault(),
                s.workspace.trigger("hover-link", {
                  event: n,
                  source: "search",
                  hoverParent: e,
                  targetEl: a,
                  linktext: t,
                  sourcePath: r,
                }));
            }),
            o)
          ) {
            var f = s.dragManager;
            f.handleDrag(a, function (e) {
              return f.dragFile(e, o);
            });
          }
        },
        iH = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.children = null), t;
          }
          return (
            M(t, e),
            (t.prototype.render = function () {
              var e = this.childrenEl,
                t = this.children;
              if (null !== t) {
                e.setChildrenInPlace(
                  t.map(function (e) {
                    return e.el;
                  })
                );
                for (var n = 0, i = t; n < i.length; n++) {
                  i[n].render();
                }
              } else e.empty();
            }),
            t
          );
        })(iN),
        rH = (function () {
          function e(e) {
            (this.children = []), (this.childrenEl = e);
          }
          return (
            (e.prototype.render = function () {
              var e = this.childrenEl,
                t = this.children;
              e.setChildrenInPlace(
                t.map(function (e) {
                  return e.el;
                })
              );
              for (var n = 0, i = t; n < i.length; n++) {
                i[n].render();
              }
            }),
            (e.prototype.addRoot = function (e) {
              this.children.push(e);
            }),
            (e.prototype.clear = function () {
              (this.children = []), this.render();
            }),
            e
          );
        })();
      var oH = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            return (
              (i.owner = t), (i.heading = n), i.innerEl.setText(n.heading), i
            );
          }
          return (
            M(t, e),
            (t.prototype.onSelfClick = function (e) {
              if (!e.defaultPrevented) {
                var t = this.owner;
                t.onItemClick && t.onItemClick(this.heading);
              }
            }),
            (t.prototype.render = function () {
              e.prototype.render.call(this);
              var t = this.owner,
                n = this.children;
              this.setCollapsible(t.collapsible && n && n.length > 0),
                this.setClickable(!!t.onItemClick);
            }),
            (t.prototype.setActive = function (e) {
              this.selfEl.toggleClass("mod-active", e);
            }),
            t
          );
        })(iH),
        sH = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (
              (i.collapsible = !0),
              (i.highlighted = null),
              (i.allItems = []),
              (i.onItemClick = n),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.renderOutline = function (e) {
              for (
                var t = [], n = (this.allItems = []), i = 0, r = e;
                i < r.length;
                i++
              ) {
                for (
                  var o = r[i], s = o.level, a = new oH(this, o), l = t.last();
                  l && l.heading.level >= s;

                )
                  t.pop(), (l = t.last());
                t.push(a),
                  l
                    ? ((l.children = l.children || []), l.children.push(a))
                    : this.addRoot(a),
                  n.push(a);
              }
              (this.highlighted = null), this.render();
            }),
            (t.prototype.highlightLine = function (e) {
              for (
                var t = this.highlighted, n = null, i = 0, r = this.allItems;
                i < r.length;
                i++
              ) {
                var o = r[i];
                if (!(o.heading.position.start.line <= e)) break;
                n = o;
              }
              n !== t &&
                (t && t.setActive(!1),
                (this.highlighted = n),
                n && n.setActive(!0));
            }),
            t
          );
        })(rH),
        aH = "outline";
      function lH(e) {
        var t = "\n" === e.charAt(e.length - 1),
          n = "\n" === e.charAt(e.length - 2);
        return t ? (n ? e : e + "\n") : e + "\n\n";
      }
      var cH,
        uH = (function () {
          function e() {
            (this.id = "outline"),
              (this.name = Lt("plugins.outline.name")),
              (this.description = Lt("plugins.outline.desc"));
          }
          return (
            (e.prototype.init = function (e, t) {
              var n = this;
              (this.app = e),
                (this.plugin = t),
                t.registerViewType(aH, function (e) {
                  return new hH(e);
                }),
                t.registerGlobalCommand({
                  id: "outline:open",
                  name: Lt("plugins.outline.action-show"),
                  icon: Sy,
                  callback: function () {
                    n.app.workspace.ensureSideLeaf(aH, "right", !1);
                  },
                }),
                t.registerGlobalCommand({
                  id: "outline:open-for-current",
                  name: Lt("plugins.outline.action-open-for-current"),
                  icon: Sy,
                  checkCallback: this.openTocForActiveFile.bind(this),
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              t.registerEvent(
                e.workspace.on("file-open", this.onFileOpen, this)
              ),
                t.registerEvent(
                  e.workspace.on("layout-ready", this.initLeaf, this)
                ),
                t.registerEvent(
                  e.workspace.on("file-menu", this.onFileMenu, this)
                );
            }),
            (e.prototype.onFileOpen = function (e) {
              this.file = e instanceof Ab ? e : null;
            }),
            (e.prototype.onUserEnable = function () {
              this.initLeaf();
            }),
            (e.prototype.initLeaf = function () {
              this.app.workspace.ensureSideLeaf(aH, "right", !1, !1);
            }),
            (e.prototype.onFileMenu = function (e, t, n, i) {
              var r = this;
              !eb.isMobile &&
                t instanceof Ab &&
                i &&
                "sidebar-context-menu" !== n &&
                e.addItem(function (e) {
                  return e
                    .setTitle(Lt("plugins.outline.action-open"))
                    .setIcon(lv)
                    .onClick(function () {
                      return A(r, void 0, void 0, function () {
                        return D(this, function (e) {
                          switch (e.label) {
                            case 0:
                              return [
                                4,
                                this.app.workspace
                                  .splitLeafOrActive(i, "vertical")
                                  .setViewState({
                                    type: aH,
                                    active: !0,
                                    group: i,
                                    state: { file: t.path },
                                  }),
                              ];
                            case 1:
                              return e.sent(), [2];
                          }
                        });
                      });
                    });
                });
            }),
            (e.prototype.openTocForActiveFile = function (e) {
              var t = this.app.workspace,
                n = t.getActiveFile();
              if (n) {
                if (!e)
                  t.splitActiveLeaf("vertical").setViewState({
                    type: aH,
                    active: !0,
                    group: t.activeLeaf,
                    state: { file: n.path },
                  });
                return !0;
              }
            }),
            e
          );
        })(),
        hH = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            (n.icon = lv), (n.paneEl = null);
            var i = n.contentEl,
              r = (n.paneEl = i.createDiv("outline"));
            (r.style.position = "relative"),
              (n.treeView = new sH(r, n.onItemClick.bind(n)));
            var o = createDiv("drop-indicator"),
              s = Tt(function (e) {
                return (o.style.top = e + "px");
              }, 0);
            return (
              n.app.dragManager.handleDrop(i, function (e, t, i) {
                if (
                  "outline" === t.source &&
                  "heading" === t.type &&
                  t.file === n.file
                ) {
                  var a = n.treeView.allItems;
                  if (0 === a.length) return;
                  for (
                    var l = e.target, c = null, u = 0, h = a;
                    u < h.length;
                    u++
                  ) {
                    var p = (y = h[u]).selfEl;
                    if (p === l || p.contains(l)) {
                      var d = p.getBoundingClientRect(),
                        f = d.y + d.height / 2,
                        g = void 0,
                        m = void 0;
                      if (e.clientY < f) (g = p.offsetTop), (m = "before");
                      else {
                        var v = p.nextSibling;
                        (g = v ? v.offsetTop : p.offsetTop + p.offsetHeight),
                          (m = "after");
                      }
                      c = { item: y, position: m, y: g };
                    }
                  }
                  if (!c) {
                    var y,
                      b = a[a.length - 1];
                    m = b.selfEl.getBoundingClientRect();
                    if (e.clientY > m.y)
                      c = {
                        item: b,
                        position: "after",
                        y: b.selfEl.offsetTop + b.selfEl.offsetHeight,
                      };
                    else
                      c = {
                        item: (y = a[0]),
                        position: "before",
                        y: y.selfEl.offsetTop,
                      };
                  }
                  o.parentNode !== r && r.prepend(o), s(Math.max(0, c.y - 2));
                  var w = n.app.metadataCache.getFileCache(n.file);
                  if (!w || !w.headings) return;
                  var k = w.headings,
                    C = t.heading,
                    x = k.indexOf(C),
                    S = c.item.heading,
                    E = k.indexOf(S);
                  if (-1 === x || -1 === E) return;
                  if (("after" === c.position && (S = k[++E]), x === E)) return;
                  for (
                    var M = x + 1;
                    M < k.length && !(k[M].level <= C.level);
                    M++
                  );
                  var L = C.position.start.offset,
                    T = M < k.length ? k[M].position.start.offset : -1,
                    P = S ? S.position.start.offset : -1,
                    O = Math.max(L, T, P) + 1,
                    F = -1 === P ? O : P;
                  if (F >= L && F <= (-1 === T ? O : T)) return;
                  return (
                    i ||
                      A(n, void 0, void 0, function () {
                        var e, t;
                        return D(this, function (n) {
                          switch (n.label) {
                            case 0:
                              return [4, this.app.vault.read(this.file)];
                            case 1:
                              return (
                                (e = n.sent()),
                                -1 === T && (T = e.length),
                                -1 === P && (P = e.length),
                                (t = lH(e.substring(L, T))),
                                (e =
                                  P < L
                                    ? lH(e.substring(0, P)) +
                                      t +
                                      e.substring(P, L) +
                                      e.substring(T)
                                    : e.substring(0, L) +
                                      lH(e.substring(T, P)) +
                                      t +
                                      e.substring(P)),
                                [4, this.app.vault.modify(this.file, e)]
                              );
                            case 2:
                              return n.sent(), [2];
                          }
                        });
                      }),
                    { dropEffect: "move", hoverEl: o, hoverClass: "is-active" }
                  );
                }
              }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.getDisplayText = function () {
              return this.file
                ? Lt("plugins.outline.tab-title", {
                    displayText: e.prototype.getDisplayText.call(this),
                  })
                : Lt("plugins.outline.name");
            }),
            (t.prototype.getViewType = function () {
              return aH;
            }),
            (t.prototype.canAcceptExtension = function (e) {
              return !0;
            }),
            (t.prototype.load = function () {
              e.prototype.load.call(this);
              var t = this.app;
              this.registerEvent(
                t.metadataCache.on("changed", this.onFileChanged, this)
              ),
                this.requestUpdate();
            }),
            (t.prototype.onFileChanged = function (e) {
              e === this.file && this.requestUpdate();
            }),
            (t.prototype.update = function () {
              var e = this,
                t = this.paneEl,
                n = this.treeView;
              t.empty(), n.clear();
              var i = this.getHeadings();
              if (i) {
                n.renderOutline(i);
                for (
                  var r = this.app.dragManager,
                    o = function (t) {
                      r.handleDrag(t.selfEl, function (n) {
                        return (
                          r.updateSource([t.selfEl], "is-being-dragged"),
                          Ph(n.dataTransfer, t.heading.heading),
                          {
                            source: "outline",
                            type: "heading",
                            icon: Lv,
                            title: t.heading.heading,
                            heading: t.heading,
                            file: e.file,
                          }
                        );
                      });
                    },
                    s = 0,
                    a = n.allItems;
                  s < a.length;
                  s++
                ) {
                  o(a[s]);
                }
              } else
                t.createDiv({
                  cls: "pane-empty",
                  text: Lt("plugins.outline.label-no-headings"),
                });
            }),
            (t.prototype.onItemClick = function (e) {
              var t = this;
              setTimeout(function () {
                var n = t.leaf;
                OI.collapseFor(n);
                var i,
                  r = n.workspace;
                i = n.group ? r.getGroupLeaves(n.group) : r.getLeavesOfType(FR);
                for (
                  var o = e.position.start.line, s = !1, a = 0, l = i;
                  a < l.length;
                  a++
                ) {
                  var c;
                  (c = l[a]) &&
                    c.view instanceof IR &&
                    c.view.file === t.file &&
                    (c.view.setEphemeralState({ line: o }), (s = !0));
                }
                s ||
                  (c = r.getLeaf()).openFile(t.file, { eState: { line: o } });
              }, 10);
            }),
            (t.prototype.getHeadings = function () {
              var e = this.file;
              if (!e || "md" !== e.extension) return null;
              var t = this.app.metadataCache.getFileCache(e);
              if (!t) return null;
              var n = t.headings;
              return n && 0 !== n.length ? n : null;
            }),
            t
          );
        })(nN),
        pH = (function () {
          function e() {
            (this.id = "page-preview"),
              (this.name = Lt("plugins.page-preview.name")),
              (this.description = Lt("plugins.page-preview.desc")),
              (this.defaultOn = !0),
              (this.overrides = {});
          }
          return (
            (e.prototype.init = function (e, t) {
              this.app = e;
            }),
            (e.prototype.onEnable = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return (
                        t.registerEvent(
                          e.workspace.on("link-hover", this.onLinkHover, this)
                        ),
                        t.registerEvent(
                          e.workspace.on("hover-link", this.onHoverLink, this)
                        ),
                        (n = this),
                        (r = (i = Object).assign),
                        (o = [{}]),
                        [4, t.loadData()]
                      );
                    case 1:
                      return (
                        (n.overrides = r.apply(i, o.concat([s.sent()]))),
                        t.addSettingTab(new dH(e, t, this)),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.onHoverLink = function (e) {
              var t = this,
                n = e.source,
                i = e.hoverParent,
                r = e.targetEl,
                o = e.linktext,
                s = e.sourcePath,
                a = void 0 === s ? "" : s,
                l = e.state;
              if (!Vt(e.event)) {
                var c = !0;
                if (
                  (this.overrides.hasOwnProperty(n)
                    ? (c = this.overrides[n])
                    : this.app.workspace.hoverLinkSources.hasOwnProperty(n) &&
                      (c = this.app.workspace.hoverLinkSources[n].defaultMod),
                  zF(e.event),
                  c && !nw.isModifier(e.event, "Mod"))
                ) {
                  if (!r) return;
                  var u = !1,
                    h = function () {
                      (u = !0),
                        document.removeEventListener("keydown", p),
                        document.removeEventListener("mouseover", d);
                    },
                    p = function (e) {
                      u ||
                        (document.body.contains(r)
                          ? nw.isModifier(e, "Mod") &&
                            (h(), t.onLinkHover(i, r, o, a, l))
                          : h());
                    },
                    d = function (e) {
                      u || r === e.target || r.contains(e.target) || h();
                    };
                  return (
                    document.addEventListener("keydown", p),
                    void document.addEventListener("mouseover", d)
                  );
                }
                this.onLinkHover(i, r, o, a, l);
              }
            }),
            (e.prototype.onLinkHover = function (e, t, n, i, r) {
              var o = this,
                s = e.hoverPopover;
              (s && s.state !== TF.Hidden && s.targetEl === t) ||
                ((s = new qF(e, t)),
                setTimeout(function () {
                  return A(o, void 0, void 0, function () {
                    var e, t;
                    return D(this, function (o) {
                      switch (o.label) {
                        case 0:
                          return s.state === TF.Hidden
                            ? [2]
                            : ((e = s.hoverEl),
                              (t = QB.load({
                                app: this.app,
                                linktext: n,
                                sourcePath: i,
                                containerEl: e,
                                state: r,
                              }))
                                ? (s.addChild(t), [4, t.loadFile()])
                                : [3, 2]);
                        case 1:
                          o.sent(), (o.label = 2);
                        case 2:
                          return s.state === TF.Shown && s.position(), [2];
                      }
                    });
                  });
                }, 100));
            }),
            e
          );
        })(),
        dH = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t, n) || this;
            return (r.instance = i), r;
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              var e = this,
                t = this.containerEl;
              t.empty(),
                new ZD(t)
                  .setHeading()
                  .setName(
                    Lt("plugins.page-preview.label-require-mod", {
                      key: Xb.Mod,
                    })
                  );
              var n = this.instance.overrides,
                i = this.app.workspace.hoverLinkSources,
                r = function (r) {
                  var o = i[r],
                    s = n[r];
                  n.hasOwnProperty(r) || (s = o.defaultMod),
                    new ZD(t).setName(o.display).addToggle(function (t) {
                      return t.setValue(s).onChange(function (t) {
                        t === o.defaultMod ? delete n[r] : (n[r] = t),
                          e.plugin.saveData(n);
                      });
                    });
                };
              for (var o in i) r(o);
            }),
            t
          );
        })(sB),
        fH = "indexFile",
        gH = "siteName",
        mH = "logo",
        vH = "noindex",
        yH = "defaultTheme",
        bH = "showNavigation",
        wH = "showGraph",
        kH = "showOutline",
        CH = "showSearch",
        xH = "googleAnalytics",
        SH = "hideTitle",
        EH = "readableLineLength",
        MH = "strictLineBreaks",
        LH = "showHoverPreview",
        AH = "showBacklinks",
        DH = "slidingWindowMode",
        TH =
          (((cH = {})[fH] = ""),
          (cH[mH] = ""),
          (cH[gH] = ""),
          (cH[vH] = !1),
          (cH[yH] = "light"),
          (cH[bH] = !0),
          (cH[wH] = !0),
          (cH[kH] = !1),
          (cH[CH] = !1),
          (cH[xH] = ""),
          (cH[SH] = !1),
          (cH[EH] = !0),
          (cH[MH] = !1),
          (cH[LH] = !1),
          (cH[AH] = !1),
          (cH[DH] = !1),
          cH),
        PH = At("plugins.publish"),
        OH = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (
              (i.offlineSection = null),
              (i.noAccountSection = null),
              (i.noSubscriptionSection = null),
              (i.manageSitesSection = null),
              (i.siteOptionsSection = null),
              (i.reviewChangesSection = null),
              (i.uploadProgressSection = null),
              (i.editSiteSlugSection = null),
              (i.listPasswordSection = null),
              (i.addPasswordSection = null),
              (i.configureCustomDomainSection = null),
              (i.errorMessageEl = null),
              (i.loaderEl = null),
              (i.currentSection = null),
              (i.plugin = n),
              i.modalEl.addClass("mod-publish"),
              i.setTitleText(PH("action-publish-changes")),
              i.contentEl.createDiv("message-container", function (e) {
                (i.errorMessageEl = e.createDiv("message mod-error")),
                  i.errorMessageEl.hide();
              }),
              (i.offlineSection = new NH(i)),
              (i.loaderEl = i.contentEl.createDiv("loader-cube", function (e) {
                for (var t = 1; t <= 9; t++)
                  e.createDiv({ cls: "sk-cube sk-cube" + t });
              })),
              i.loaderEl.hide(),
              (i.noAccountSection = new BH(i)),
              (i.noSubscriptionSection = new RH(i)),
              (i.manageSitesSection = new zH(i)),
              (i.siteOptionsSection = new HH(i)),
              (i.reviewChangesSection = new _H(i)),
              (i.uploadProgressSection = new GH(i)),
              (i.editSiteSlugSection = new KH(i)),
              (i.listPasswordSection = new $H(i)),
              (i.addPasswordSection = new YH(i)),
              (i.configureCustomDomainSection = new JH(i)),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.handleError = function (e) {
              console.error(e),
                this.loaderEl.hide(),
                e instanceof XH
                  ? "AUTHFAIL" === e.code
                    ? (this.openSection(this.manageSitesSection),
                      this.showError(
                        PH("msg-no-permission-to-publish-to-site")
                      ))
                    : "NET" === e.code
                    ? this.showError(PH("msg-network-error") + e.message)
                    : this.showError(e.message)
                  : this.showError(PH("msg-something-went-wrong"));
            }),
            (t.prototype.showError = function (e) {
              this.errorMessageEl.setText(e), this.errorMessageEl.show();
            }),
            (t.prototype.hideError = function () {
              this.errorMessageEl.hide();
            }),
            (t.prototype.onOpen = function () {
              return A(this, void 0, void 0, function () {
                var e;
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      if (
                        ((e = this.app.account),
                        this.closeSection(),
                        this.loaderEl.show(),
                        e.token)
                      )
                        return [3, 5];
                      t.label = 1;
                    case 1:
                      return t.trys.push([1, 3, , 4]), [4, e.getUserInfo()];
                    case 2:
                      return t.sent(), [3, 4];
                    case 3:
                      return (
                        t.sent(), [2, this.openSection(this.offlineSection)]
                      );
                    case 4:
                      if (!e.token)
                        return [2, this.openSection(this.noAccountSection)];
                      t.label = 5;
                    case 5:
                      return this.plugin.siteId
                        ? [2, this.openReviewChanges()]
                        : [2, this.openSection(this.manageSitesSection)];
                  }
                });
              });
            }),
            (t.prototype.getCurrentSlug = function () {
              return A(this, void 0, Promise, function () {
                var e;
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      (e = this.plugin.siteId), (t.label = 1);
                    case 1:
                      return (
                        t.trys.push([1, 3, , 4]),
                        [4, this.plugin.apiGetSlugs([e])]
                      );
                    case 2:
                      return [2, t.sent()[e]];
                    case 3:
                      return t.sent(), [2, e];
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.onClose = function () {}),
            (t.prototype.deleteSite = function (e) {
              return A(this, void 0, void 0, function () {
                var t = this;
                return D(this, function (n) {
                  return (
                    this.app.account.deleteSite(e, function () {
                      return A(t, void 0, void 0, function () {
                        return D(this, function (t) {
                          switch (t.label) {
                            case 0:
                              return this.plugin.siteId !== e
                                ? [3, 2]
                                : [4, this.plugin.setup(null, null)];
                            case 1:
                              t.sent(), (t.label = 2);
                            case 2:
                              return [
                                4,
                                this.openSection(this.manageSitesSection),
                              ];
                            case 3:
                              return t.sent(), [2];
                          }
                        });
                      });
                    }),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.openReviewChanges = function () {
              return A(this, void 0, void 0, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.openSection(this.reviewChangesSection)];
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.editSlug = function (e, t) {
              return A(this, void 0, void 0, function () {
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        this.editSiteSlugSection.setSiteInfo(e),
                        this.editSiteSlugSection.setExistingSlug(t),
                        [4, this.openSection(this.editSiteSlugSection)]
                      );
                    case 1:
                      return n.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.uploadChanges = function (e) {
              return A(this, void 0, void 0, function () {
                return D(this, function (t) {
                  return (
                    this.uploadProgressSection.addChanges(e),
                    this.openSection(this.uploadProgressSection),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.showPasswords = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      (e = this.listPasswordSection), (i.label = 1);
                    case 1:
                      return (
                        i.trys.push([1, 4, , 5]),
                        this.currentSection.hide(),
                        this.loaderEl.show(),
                        [4, this.plugin.apiGetPassword()]
                      );
                    case 2:
                      return (
                        (t = i.sent().pass),
                        e.setPasswords(t),
                        e.updateDisplay(),
                        [4, this.openSection(e)]
                      );
                    case 3:
                      return i.sent(), [3, 5];
                    case 4:
                      return (n = i.sent()), this.handleError(n), [2];
                    case 5:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.openAddPassword = function () {
              return A(this, void 0, void 0, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.openSection(this.addPasswordSection)];
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.setTitleText = function (e) {
              this.titleEl.setText(e);
            }),
            (t.prototype.closeSection = function () {
              this.errorMessageEl.hide(),
                this.currentSection && this.currentSection.hide(),
                (this.currentSection = null);
            }),
            (t.prototype.openSection = function (e) {
              return A(this, void 0, void 0, function () {
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return (
                        this.closeSection(),
                        e.title && this.setTitleText(e.title),
                        this.loaderEl.show(),
                        [4, e.show()]
                      );
                    case 1:
                      return (
                        t.sent(),
                        this.loaderEl.hide(),
                        (this.currentSection = e),
                        [2]
                      );
                  }
                });
              });
            }),
            t
          );
        })(vD),
        FH = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.selectSuggestion = function (e) {
              var t = this.textInputEl;
              (t.value = e.path), t.trigger("input"), this.close();
            }),
            (t.prototype.getSuggestions = function (t) {
              var n = e.prototype.getSuggestions.call(this, t);
              return (n = n.filter(function (e) {
                return je.contains(e.extension);
              }));
            }),
            t
          );
        })(az),
        IH = (function () {
          function e(e) {
            (this.title = null),
              (this.el = null),
              (this.parentModal = null),
              (this.parentModal = e),
              (this.el = e.contentEl.createDiv()),
              this.hide();
          }
          return (
            (e.prototype.show = function () {
              return A(this, void 0, void 0, function () {
                return D(this, function (e) {
                  return this.el.show(), [2];
                });
              });
            }),
            (e.prototype.hide = function () {
              this.el.hide();
            }),
            e
          );
        })(),
        NH = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              n.el.createEl("p", { text: PH("label-no-internet-access") }), n
            );
          }
          return M(t, e), t;
        })(IH),
        BH = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              n.el.createEl("p", {
                text: PH("label-publish-service-description"),
              }),
              n.el.createEl("p", { text: PH("label-please-login") }),
              n.el.createDiv("modal-button-container", function (e) {
                e.createEl(
                  "button",
                  {
                    cls: "mod-cta",
                    text: Lt("setting.account.link-sign-up-now"),
                  },
                  function (e) {
                    e.addEventListener("click", function () {
                      window.open("http://obsidian.md/account", "_blank");
                    });
                  }
                ),
                  e.createEl(
                    "button",
                    { text: Lt("setting.account.button-login") },
                    function (e) {
                      e.addEventListener("click", function () {
                        var e = n.parentModal.app;
                        n.parentModal.close(),
                          e.setting.openTabById("account"),
                          e.setting.open();
                      });
                    }
                  );
              }),
              n
            );
          }
          return M(t, e), t;
        })(IH),
        RH = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              n.el.createEl("p", { text: PH("label-no-publish-subscription") }),
              n.el.createDiv("modal-button-container", function (e) {
                e.createEl(
                  "button",
                  { cls: "mod-cta", text: PH("button-purchase") },
                  function (e) {
                    e.addEventListener("click", function () {
                      window.open("http://obsidian.md/pricing", "_blank");
                    });
                  }
                );
              }),
              n
            );
          }
          return M(t, e), t;
        })(IH),
        zH = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.title = PH("label-manage-sites")), (n.slugInputEl = null), n
            );
          }
          return (
            M(t, e),
            (t.prototype.show = function () {
              return A(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g,
                  m,
                  v,
                  y,
                  b = this;
                return D(this, function (w) {
                  switch (w.label) {
                    case 0:
                      (t = this.parentModal),
                        (n = this.el),
                        (i = t.plugin),
                        (r = t.app),
                        (o = r.account),
                        n.empty(),
                        (w.label = 1);
                    case 1:
                      return w.trys.push([1, 3, , 4]), [4, o.getSites()];
                    case 2:
                      return (s = w.sent()), [3, 4];
                    case 3:
                      return (a = w.sent()), t.handleError(a), [2];
                    case 4:
                      return (
                        (l = s.sites),
                        0 !== (c = s.limit)
                          ? [3, 6]
                          : [4, t.openSection(t.noSubscriptionSection)]
                      );
                    case 5:
                      return w.sent(), [2];
                    case 6:
                      0 === l.length &&
                        n.createDiv(
                          "site-empty-state u-center-text",
                          function (e) {
                            e.createEl("p", { text: PH("label-no-sites") });
                          }
                        ),
                        (u = n.createDiv()),
                        (h = l.map(function (e) {
                          return e.id;
                        })),
                        (p = {}),
                        (w.label = 7);
                    case 7:
                      return w.trys.push([7, 9, , 10]), [4, i.apiGetSlugs(h)];
                    case 8:
                      return (p = w.sent()), [3, 10];
                    case 9:
                      return (d = w.sent()), console.error(d), [3, 10];
                    case 10:
                      for (
                        f = function (e) {
                          u.createDiv("site-list-item list-item", function (n) {
                            var o = p[e.id] || e.id;
                            n.createDiv({
                              cls: "list-item-part mod-extended",
                              text: o,
                            }),
                              n.createEl(
                                "button",
                                { text: PH("button-choose") },
                                function (n) {
                                  n.addEventListener("click", function () {
                                    return A(b, void 0, void 0, function () {
                                      return D(this, function (n) {
                                        switch (n.label) {
                                          case 0:
                                            return [4, i.setup(e.id, e.host)];
                                          case 1:
                                            return (
                                              n.sent(),
                                              [4, t.openReviewChanges()]
                                            );
                                          case 2:
                                            return n.sent(), [2];
                                        }
                                      });
                                    });
                                  });
                                }
                              ),
                              n.createDiv(
                                { cls: "clickable-icon" },
                                function (t) {
                                  Xy(t, gm),
                                    nn(t, PH("tooltip-edit-site-id")),
                                    t.addEventListener("click", function () {
                                      b.parentModal.editSlug(e, p[e.id] || "");
                                    });
                                }
                              ),
                              n.createDiv("clickable-icon", function (t) {
                                Xy(t, Jm),
                                  nn(t, PH("tooltip-delete-site")),
                                  t.addEventListener("click", function () {
                                    var t = document.createDocumentFragment();
                                    t.createEl("p", {
                                      text: PH(
                                        "label-delete-site-confirmation"
                                      ),
                                    }),
                                      t.createEl("p", {
                                        cls: "setting-message mod-warning",
                                        text: PH("label-delete-site-details"),
                                      }),
                                      new yD(r)
                                        .setTitle(
                                          PH("label-confirm-delete-site", {
                                            site: o,
                                          })
                                        )
                                        .setContent(t)
                                        .addButton(
                                          "mod-warning",
                                          Lt("dialogue.button-delete"),
                                          function () {
                                            b.parentModal.deleteSite(e.id);
                                          }
                                        )
                                        .addCancelButton()
                                        .open();
                                  });
                              });
                          });
                        },
                          g = 0,
                          m = l;
                        g < m.length;
                        g++
                      )
                        (v = m[g]), f(v);
                      return (
                        l.length < c
                          ? (new ZD(this.el)
                              .setName(PH("option-site-id"))
                              .setDesc(PH("option-site-id-description"))
                              .addText(function (e) {
                                e.setPlaceholder(
                                  PH("option-site-id-placeholder")
                                ),
                                  e.inputEl.addEventListener(
                                    "keydown",
                                    function (e) {
                                      e.isComposing ||
                                        "Enter" !== e.key ||
                                        b.createSite();
                                    }
                                  ),
                                  (b.slugInputEl = e.inputEl);
                              })
                              .setClass("site-list-site-id-setting"),
                            this.el.createDiv("u-center-text", function (e) {
                              e.createEl(
                                "button",
                                { text: PH("button-create"), cls: "mod-cta" },
                                function (e) {
                                  e.addEventListener(
                                    "click",
                                    b.createSite.bind(b)
                                  );
                                }
                              );
                            }))
                          : ((y = Lt("nouns.site-with-count", { count: c })),
                            new ZD(n)
                              .setName(
                                PH("label-site-usage", {
                                  site: l.length.toString(),
                                  limit: y,
                                })
                              )
                              .addButton(function (e) {
                                return e
                                  .setButtonText(PH("button-add-more-sites"))
                                  .setCta()
                                  .onClick(function () {
                                    window.open(
                                      "http://obsidian.md/account",
                                      "_blank"
                                    );
                                  });
                              })),
                        e.prototype.show.call(this),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.createSite = function () {
              return A(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a = this;
                return D(this, function (l) {
                  switch (l.label) {
                    case 0:
                      if (
                        ((t = (e = this).parentModal),
                        (n = e.slugInputEl),
                        (i = t.app.account),
                        (r = t.plugin),
                        t.hideError(),
                        (o = n.value.toLowerCase()),
                        !/^[a-z0-9\-]+$/.test(o))
                      )
                        return t.showError(PH("msg-invalid-site-id")), [2];
                      l.label = 1;
                    case 1:
                      return l.trys.push([1, 3, , 4]), [4, r.apiCheckSlug(o)];
                    case 2:
                      return (
                        l.sent(), t.showError(PH("msg-site-id-in-use")), [3, 4]
                      );
                    case 3:
                      return (
                        (s = l.sent()) instanceof XH && "NOTFOUND" === s.code
                          ? i.createSite(function (e) {
                              return A(a, void 0, void 0, function () {
                                var n;
                                return D(this, function (i) {
                                  switch (i.label) {
                                    case 0:
                                      if (!e.id) return [3, 7];
                                      i.label = 1;
                                    case 1:
                                      return (
                                        i.trys.push([1, 3, , 4]),
                                        [4, r.apiSetSlug(e.id, e.host, o)]
                                      );
                                    case 2:
                                      return i.sent(), [3, 4];
                                    case 3:
                                      return (
                                        (n = i.sent()),
                                        this.parentModal.handleError(n),
                                        [2]
                                      );
                                    case 4:
                                      return [4, r.setup(e.id, e.host)];
                                    case 5:
                                      return (
                                        i.sent(), [4, t.openReviewChanges()]
                                      );
                                    case 6:
                                      return i.sent(), [3, 8];
                                    case 7:
                                      this.parentModal.showError(
                                        PH("msg-create-site-issue")
                                      ),
                                        (i.label = 8);
                                    case 8:
                                      return [2];
                                  }
                                });
                              });
                            })
                          : t.handleError(s),
                        [3, 4]
                      );
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            t
          );
        })(IH),
        HH = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.title = PH("label-site-options")), t;
          }
          return (
            M(t, e),
            (t.prototype.show = function () {
              return A(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a = this;
                return D(this, function (l) {
                  switch (l.label) {
                    case 0:
                      (t = this.parentModal.plugin),
                        this.el.empty(),
                        (l.label = 1);
                    case 1:
                      return l.trys.push([1, 3, , 4]), [4, t.apiOptions()];
                    case 2:
                      return (n = l.sent()), [3, 4];
                    case 3:
                      return (
                        (i = l.sent()), this.parentModal.handleError(i), [2]
                      );
                    case 4:
                      return (
                        (r = {}),
                        (o = function (e) {
                          return n.hasOwnProperty(e) ? n[e] : TH[e];
                        }),
                        (s = this.el.createDiv(
                          "publish-site-settings-container"
                        )),
                        new ZD(s)
                          .setName(PH("option-site-metadata"))
                          .setHeading(),
                        new ZD(s)
                          .setName(PH("option-site-name"))
                          .setDesc(PH("option-site-name-description"))
                          .addText(function (e) {
                            return e
                              .setPlaceholder(
                                PH("option-site-name-placeholder")
                              )
                              .setValue(o(gH))
                              .onChange(function (e) {
                                return (r[gH] = e);
                              });
                          }),
                        new ZD(s)
                          .setName(PH("option-home-page-file"))
                          .setDesc(PH("option-home-page-file-description"))
                          .addText(function (e) {
                            e
                              .setPlaceholder(
                                PH("option-home-page-file-placeholder")
                              )
                              .setValue(o(fH))
                              .onChange(function (e) {
                                return (r[fH] = e);
                              }),
                              new lz(a.parentModal.app, e.inputEl);
                          }),
                        new ZD(s)
                          .setName(PH("option-logo"))
                          .setDesc(PH("option-logo-description"))
                          .addText(function (e) {
                            e
                              .setPlaceholder(PH("option-logo-placeholder"))
                              .setValue(o(mH))
                              .onChange(function (e) {
                                return (r[mH] = e);
                              }),
                              new FH(a.parentModal.app, e.inputEl);
                          }),
                        new ZD(s)
                          .setName(PH("option-custom-domain"))
                          .setDesc(PH("option-custom-domain-desc"))
                          .addButton(function (e) {
                            return e
                              .setButtonText(PH("button-configure"))
                              .onClick(function () {
                                return A(a, void 0, void 0, function () {
                                  var e;
                                  return D(this, function (t) {
                                    switch (t.label) {
                                      case 0:
                                        return [
                                          4,
                                          (e = this.parentModal).openSection(
                                            e.configureCustomDomainSection
                                          ),
                                        ];
                                      case 1:
                                        return t.sent(), [2];
                                    }
                                  });
                                });
                              });
                          }),
                        new ZD(s)
                          .setName(PH("option-noindex"))
                          .setDesc(PH("option-noindex-desc"))
                          .addToggle(function (e) {
                            return e.setValue(o(vH)).onChange(function (e) {
                              return (r[vH] = e);
                            });
                          }),
                        new ZD(s)
                          .setName(PH("option-site-appearance"))
                          .setHeading(),
                        new ZD(s)
                          .setName(PH("option-theme"))
                          .setDesc(PH("option-theme-description"))
                          .addDropdown(function (e) {
                            return e
                              .addOption(
                                "light",
                                Lt("setting.appearance.light-theme")
                              )
                              .addOption(
                                "dark",
                                Lt("setting.appearance.dark-theme")
                              )
                              .setValue(o(yH))
                              .onChange(function (e) {
                                return (r[yH] = e);
                              });
                          }),
                        new ZD(s)
                          .setName(PH("option-site-reading-experience"))
                          .setHeading(),
                        new ZD(s)
                          .setName(PH("option-hover-preview-file"))
                          .setDesc(PH("option-hover-preview-file-description"))
                          .addToggle(function (e) {
                            return e.setValue(o(LH)).onChange(function (e) {
                              return (r[LH] = e);
                            });
                          }),
                        new ZD(s)
                          .setName(PH("option-hide-title"))
                          .setDesc(PH("option-hide-title-description"))
                          .addToggle(function (e) {
                            return e.setValue(o(SH)).onChange(function (e) {
                              return (r[SH] = e);
                            });
                          }),
                        new ZD(s)
                          .setName(PH("option-readable-line-length"))
                          .setDesc(
                            PH("option-readable-line-length-description")
                          )
                          .addToggle(function (e) {
                            return e.setValue(o(EH)).onChange(function (e) {
                              return (r[EH] = e);
                            });
                          }),
                        new ZD(s)
                          .setName(
                            Lt("setting.editor.option-strict-line-break")
                          )
                          .setDesc(
                            Lt(
                              "setting.editor.option-strict-line-break-description"
                            )
                          )
                          .addToggle(function (e) {
                            return e.setValue(o(MH)).onChange(function (e) {
                              return (r[MH] = e);
                            });
                          }),
                        new ZD(s)
                          .setName(PH("option-sliding-window-mode"))
                          .setDesc(PH("option-sliding-window-mode-description"))
                          .addToggle(function (e) {
                            return e.setValue(o(DH)).onChange(function (e) {
                              return (r[DH] = e);
                            });
                          }),
                        new ZD(s)
                          .setName(PH("option-site-components"))
                          .setHeading(),
                        new ZD(s)
                          .setName(PH("option-show-navigation"))
                          .setDesc(PH("option-show-navigation-description"))
                          .addToggle(function (e) {
                            return e.setValue(o(bH)).onChange(function (e) {
                              r[bH] = e;
                            });
                          }),
                        new ZD(s)
                          .setName(PH("option-show-search"))
                          .setDesc(PH("option-show-search-description"))
                          .addToggle(function (e) {
                            return e.setValue(o(CH)).onChange(function (e) {
                              return (r[CH] = e);
                            });
                          }),
                        new ZD(s)
                          .setName(PH("option-show-graph"))
                          .setDesc(PH("option-show-graph-description"))
                          .addToggle(function (e) {
                            return e.setValue(o(wH)).onChange(function (e) {
                              return (r[wH] = e);
                            });
                          }),
                        new ZD(s)
                          .setName(PH("option-show-outline"))
                          .setDesc(PH("option-show-outline-description"))
                          .addToggle(function (e) {
                            return e.setValue(o(kH)).onChange(function (e) {
                              return (r[kH] = e);
                            });
                          }),
                        new ZD(s)
                          .setName(PH("option-show-backlinks"))
                          .setDesc(PH("option-show-backlinks-description"))
                          .addToggle(function (e) {
                            return e.setValue(o(AH)).onChange(function (e) {
                              return (r[AH] = e);
                            });
                          }),
                        new ZD(s).setName(PH("option-site-misc")).setHeading(),
                        new ZD(s)
                          .setName(PH("option-site-password"))
                          .setDesc(PH("option-site-password-description"))
                          .addButton(function (e) {
                            return e
                              .setButtonText(PH("button-manage-passwords"))
                              .onClick(function () {
                                return A(a, void 0, void 0, function () {
                                  return D(this, function (e) {
                                    switch (e.label) {
                                      case 0:
                                        return [
                                          4,
                                          this.parentModal.showPasswords(),
                                        ];
                                      case 1:
                                        return e.sent(), [2];
                                    }
                                  });
                                });
                              });
                          }),
                        new ZD(s)
                          .setName(PH("option-google-analytics"))
                          .setDesc(PH("option-google-analytics-description"))
                          .addSearch(function (e) {
                            return (e
                              .setPlaceholder("UA-XXXXX-Y")
                              .setValue(o(xH))
                              .onChange(function (e) {
                                return (r[xH] = e);
                              }).inputEl.style.width = "150px");
                          }),
                        this.el.createDiv(
                          "button-container u-center-text",
                          function (e) {
                            e.createEl(
                              "button",
                              {
                                text: PH("button-save-site-settings"),
                                cls: "mod-cta",
                              },
                              function (e) {
                                e.addEventListener("click", function () {
                                  return A(a, void 0, void 0, function () {
                                    var e;
                                    return D(this, function (n) {
                                      switch (n.label) {
                                        case 0:
                                          return (
                                            n.trys.push([0, 2, , 3]),
                                            [4, t.apiOptions(r)]
                                          );
                                        case 1:
                                          return n.sent(), [3, 3];
                                        case 2:
                                          return (
                                            (e = n.sent()),
                                            this.parentModal.handleError(e),
                                            [2]
                                          );
                                        case 3:
                                          return (
                                            new lw(PH("msg-updated-options")),
                                            [
                                              4,
                                              this.parentModal.openReviewChanges(),
                                            ]
                                          );
                                        case 4:
                                          return n.sent(), [2];
                                      }
                                    });
                                  });
                                });
                              }
                            ),
                              e.createEl(
                                "button",
                                { text: PH("button-go-back") },
                                function (e) {
                                  e.addEventListener("click", function () {
                                    return A(a, void 0, void 0, function () {
                                      return D(this, function (e) {
                                        switch (e.label) {
                                          case 0:
                                            return [
                                              4,
                                              this.parentModal.openReviewChanges(),
                                            ];
                                          case 1:
                                            return e.sent(), [2];
                                        }
                                      });
                                    });
                                  });
                                }
                              );
                          }
                        ),
                        e.prototype.show.call(this),
                        [2]
                      );
                  }
                });
              });
            }),
            t
          );
        })(IH),
        VH = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (
              (n.visible = !0),
              (n.section = t),
              n.innerEl.addClass("file-tree-item"),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.setChecked = function (e) {}),
            (t.prototype.setVisible = function (e) {
              (this.visible = e), this.el.toggle(e);
            }),
            (t.prototype.applyQuery = function (e) {}),
            (t.prototype.updateCheckedRecursive = function () {
              for (var e = this.parent; e; ) e.updateChecked(), (e = e.parent);
              this.section.updateChecked();
            }),
            t
          );
        })(iH),
        qH = function (e, t) {
          var n = e instanceof UH,
            i = t instanceof UH;
          if (n || i) {
            if (n && !i) return -1;
            if (i && !n) return 1;
          }
          return YN(e.name, t.name);
        },
        jH = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            (i.diff = n), (i.path = n.path);
            var r = Ye(n.path);
            "md" === et(r) && (r = Xe(r)), (i.name = r);
            var o = i,
              s = o.selfEl,
              a = o.innerEl;
            return (
              s.addClass("mod-file", "mod-" + n.type),
              (i.checkboxEl = a.createEl("input", {
                cls: "file-tree-item-checkbox",
                type: "checkbox",
              })).addEventListener("change", i.updateChecked.bind(i)),
              Xy(a.createDiv("file-tree-item-icon"), dm, 20),
              a.createDiv({ cls: "file-tree-item-title", text: r }),
              i.updateChecked(),
              a
                .createDiv("tree-item-flair-outer")
                .createSpan({
                  cls: "tree-item-flair",
                  text: "to-delete" === n.type ? "To delete" : n.type,
                }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.onSelfClick = function (e) {
              this.setChecked(!this.diff.checked),
                this.updateCheckedRecursive();
            }),
            (t.prototype.setChecked = function (e) {
              this.diff.checked !== e &&
                ((this.diff.checked = e), this.updateChecked());
            }),
            (t.prototype.updateChecked = function () {
              var e = this.diff.checked;
              (this.checkboxEl.checked = e),
                this.selfEl.toggleClass("is-selected", e);
            }),
            (t.prototype.applyQuery = function (e) {
              this.setVisible(
                this.diff.checked || this.path.toLowerCase().contains(e)
              );
            }),
            (t.prototype.render = function () {
              e.prototype.render.call(this),
                this.setCollapsible(!1),
                this.setClickable(!0);
            }),
            t
          );
        })(VH),
        UH = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            (i.children = []), (i.path = n), (i.name = Ye(n));
            var r = i.innerEl;
            return (
              i.selfEl.addClass("mod-folder"),
              (i.checkboxEl = r.createEl("input", {
                cls: "file-tree-item-checkbox",
                type: "checkbox",
              })).addEventListener("change", i.updateChecked.bind(i)),
              Xy(r.createDiv("file-tree-item-icon"), fm, 20),
              r.createDiv({ cls: "file-tree-item-title", text: i.name }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.getChecked = function () {
              for (
                var e = 0, n = 0, i = 0, r = this.children;
                i < r.length;
                i++
              ) {
                var o = r[i];
                if (o instanceof jH) e++, o.diff.checked && n++;
                else if (o instanceof t) {
                  var s = o.getChecked();
                  (e += s.count), (n += s.checked);
                }
              }
              return { count: e, checked: n };
            }),
            (t.prototype.onSelfClick = function (e) {
              var t = this.getChecked(),
                n = t.count,
                i = t.checked;
              if (0 !== n) {
                for (
                  var r = i < n, o = 0, s = this.children;
                  o < s.length;
                  o++
                ) {
                  s[o].setChecked(r);
                }
                this.updateChecked(), this.updateCheckedRecursive();
              }
            }),
            (t.prototype.setChecked = function (e) {
              for (var t = 0, n = this.children; t < n.length; t++) {
                n[t].setChecked(e);
              }
              this.updateChecked();
            }),
            (t.prototype.updateChecked = function () {
              var e = this.getChecked(),
                t = e.count,
                n = e.checked,
                i = this.checkboxEl,
                r = t > 0 && n === t;
              (i.checked = r),
                (i.indeterminate = !r && n > 0),
                this.selfEl.toggleClass("is-selected", r);
            }),
            (t.prototype.applyQuery = function (e) {
              for (var t = !1, n = 0, i = this.children; n < i.length; n++) {
                var r = i[n];
                r.applyQuery(e), (t = t || r.visible);
              }
              this.setVisible(t);
            }),
            (t.prototype.render = function () {
              this.children.sort(qH),
                e.prototype.render.call(this),
                this.setCollapsible(!0),
                this.setClickable(!0);
            }),
            t
          );
        })(VH),
        WH = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            (i.children = []),
              (i.collapsed = !1),
              (i.folders = {}),
              (i.files = {});
            var r = t.createDiv("file-tree publish-section"),
              o = r.createDiv("publish-section-header");
            return (
              (i.childrenEl = r.createDiv("publish-change-list")),
              (i.sectionEl = r),
              (i.headerEl = o),
              o.createDiv(
                "publish-section-header-toggle-collapsed-button collapse-icon",
                function (e) {
                  Xy(e, pm, 8),
                    e.addEventListener("click", function () {
                      return i.toggleCollapsed(!0);
                    });
                }
              ),
              o.createDiv(
                { cls: "publish-section-header-text", text: n },
                function (e) {
                  e.addEventListener("click", function () {
                    return i.toggleCollapsed(!0);
                  });
                }
              ),
              (i.selectedEl = o.createDiv(
                "publish-section-header-selected",
                function (e) {
                  (i.selectedCountEl = e.createSpan({
                    cls: "publish-section-header-selected-count",
                    text: "0",
                  })),
                    e.createSpan({ text: PH("label-file-selected") });
                }
              )),
              o
                .createDiv({
                  cls: "publish-section-header-action button",
                  text: PH("button-select-all-files"),
                })
                .addEventListener("click", i.checkAll.bind(i)),
              o
                .createDiv({
                  cls: "publish-section-header-action",
                  text: PH("button-deselect-all-files"),
                })
                .addEventListener("click", i.uncheckAll.bind(i)),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.toggleCollapsed = function (e) {
              return A(this, void 0, void 0, function () {
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return [4, this.setCollapsed(!this.collapsed, e)];
                    case 1:
                      return t.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.setCollapsed = function (e, t) {
              return A(this, void 0, void 0, function () {
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return this.collapsed === e
                        ? [2]
                        : ((this.collapsed = e),
                          this.sectionEl.toggleClass("is-collapsed", e),
                          [4, Ub(this.childrenEl, e, t)]);
                    case 1:
                      return n.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.checkAll = function () {
              for (var e = 0, t = this.children; e < t.length; e++) {
                t[e].setChecked(!0);
              }
              this.updateChecked();
            }),
            (t.prototype.uncheckAll = function () {
              for (var e = 0, t = this.children; e < t.length; e++) {
                t[e].setChecked(!1);
              }
              this.updateChecked();
            }),
            (t.prototype.updateChecked = function () {
              var e = this,
                t = e.files,
                n = e.selectedEl,
                i = e.selectedCountEl,
                r = 0;
              for (var o in t) t.hasOwnProperty(o) && t[o].diff.checked && r++;
              i.setText(String(r)), n.toggleClass("u-pop", r > 0);
            }),
            (t.prototype.addChild = function (e) {
              var t = Je(e.path);
              if (t) {
                var n = this.folders,
                  i = n[t];
                i || ((i = n[t] = new UH(this, t)), this.addChild(i)),
                  i.children.push(e),
                  (e.parent = i);
              } else this.addRoot(e);
            }),
            (t.prototype.createItem = function (e) {
              var t = new jH(this, e);
              (this.files[e.path] = t), this.addChild(t);
            }),
            (t.prototype.render = function () {
              e.prototype.render.call(this), this.updateChecked();
            }),
            (t.prototype.applyQuery = function (e) {
              for (var t = 0, n = this.children; t < n.length; t++) {
                n[t].applyQuery(e);
              }
            }),
            (t.prototype.clear = function () {
              e.prototype.clear.call(this),
                (this.folders = {}),
                (this.files = {}),
                this.updateChecked();
            }),
            t
          );
        })(rH),
        _H = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            (n.title = PH("action-publish-changes")),
              (n.noChangesEl = null),
              (n.pathToDiffMap = {}),
              (n.currentlyPublishedToSiteNameEl = null),
              (n.filterComponent = null),
              (n.app = t.app),
              n.el.createDiv({ cls: "publish-changes-info" }, function (e) {
                e.createDiv({
                  cls: "publish-changes-info-publishing-to",
                  text: PH("label-publishing-to"),
                }),
                  (n.currentlyPublishedToSiteNameEl = e.createEl(
                    "a",
                    "publish-changes-current-site-name"
                  )).setAttribute("target", "_blank"),
                  e.createDiv("publish-changes-switch-site", function (e) {
                    e.createSpan("clickable-icon", function (e) {
                      Xy(e, dv),
                        nn(e, PH("tooltip-switch-site")),
                        e.addEventListener("click", function () {
                          return A(n, void 0, void 0, function () {
                            var e;
                            return D(this, function (t) {
                              switch (t.label) {
                                case 0:
                                  return [
                                    4,
                                    (e = this.parentModal).openSection(
                                      e.manageSitesSection
                                    ),
                                  ];
                                case 1:
                                  return t.sent(), [2];
                              }
                            });
                          });
                        });
                    }),
                      e.createSpan("clickable-icon", function (e) {
                        Xy(e, xm),
                          nn(e, PH("tooltip-open-site-options")),
                          e.addEventListener("click", function () {
                            var e = n.parentModal;
                            e.openSection(e.siteOptionsSection);
                          });
                      });
                  }),
                  (n.filterComponent = new aT(e).setPlaceholder(
                    Lt("setting.hotkeys.prompt-filter")
                  )),
                  e.createEl(
                    "button",
                    {
                      cls: "publish-changes-add-linked-btn",
                      text: PH("button-add-linked"),
                    },
                    function (e) {
                      nn(e, PH("tooltip-add-linked")),
                        e.addEventListener("click", function () {
                          return A(n, void 0, void 0, function () {
                            var e, t, n, i, r, o, s, a, l, c, u, h, p;
                            return D(this, function (d) {
                              for (u in ((e = this.app.metadataCache),
                              (n = (t = this).pathToDiffMap),
                              (i = t.untrackedFiles),
                              (r = []),
                              n))
                                n.hasOwnProperty(u) &&
                                  (h = n[u]).checked &&
                                  "deleted" !== h.type &&
                                  r.push(u);
                              for (
                                o = new Set(),
                                  s = function (t) {
                                    ED(e.getCache(t), function (n) {
                                      var i = e.getFirstLinkpathDest(n.link, t);
                                      i && o.add(i.path);
                                    });
                                  },
                                  a = 0,
                                  l = r;
                                a < l.length;
                                a++
                              )
                                (u = l[a]), s(u);
                              for (u in ((c = 0), n))
                                n.hasOwnProperty(u) &&
                                  o.has(u) &&
                                  ((h = n[u]).checked ||
                                    "new" !== h.type ||
                                    ((p = i.files[u]) &&
                                      (p.setChecked(!0),
                                      p.updateCheckedRecursive(),
                                      (c += 1))));
                              return (
                                new lw(
                                  PH("msg-added-linked-files", { count: c })
                                ),
                                [2]
                              );
                            });
                          });
                        });
                    }
                  );
              }),
              (n.noChangesEl = n.el.createEl("p", {
                text: PH("label-no-changes-detected"),
              }));
            var i = n.el.createDiv("publish-sections-container");
            (n.trackedChangedFiles = new WH(
              i,
              PH("label-changed-files-to-be-published")
            )),
              (n.trackedUnchangedFiles = new WH(
                i,
                PH("label-unchanged-files-already-published")
              )),
              (n.untrackedFiles = new WH(
                i,
                PH("label-new-files-to-be-published")
              ));
            var r = n.el.createDiv("modal-button-container");
            return (
              r.createEl(
                "button",
                { cls: "mod-cta", text: PH("button-publish") },
                function (e) {
                  e.addEventListener("click", n.uploadChanges.bind(n));
                }
              ),
              r.createEl(
                "button",
                { text: Lt("dialogue.button-cancel") },
                function (e) {
                  e.addEventListener(
                    "click",
                    n.parentModal.close.bind(n.parentModal)
                  );
                }
              ),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.setCurrentSiteName = function (e) {
              this.currentlyPublishedToSiteNameEl.setText(e),
                this.currentlyPublishedToSiteNameEl.setAttribute(
                  "href",
                  QH + "/" + e
                );
            }),
            (t.prototype.show = function () {
              return A(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f = this;
                return D(this, function (g) {
                  switch (g.label) {
                    case 0:
                      (t = this.parentModal),
                        (this.pathToDiffMap = {}),
                        t.getCurrentSlug().then(function (e) {
                          return f.setCurrentSiteName(e);
                        }),
                        (n = []),
                        (g.label = 1);
                    case 1:
                      return (
                        g.trys.push([1, 3, , 4]), [4, t.plugin.scanForChanges()]
                      );
                    case 2:
                      return (
                        (n = g.sent()),
                        this.noChangesEl.toggle(0 === n.length),
                        [3, 4]
                      );
                    case 3:
                      return (i = g.sent()), t.handleError(i), [2];
                    case 4:
                      for (
                        o = (r = this).trackedChangedFiles,
                          s = r.trackedUnchangedFiles,
                          a = r.untrackedFiles,
                          o.clear(),
                          s.clear(),
                          a.clear(),
                          l = 0,
                          c = n;
                        l < c.length;
                        l++
                      )
                        (u = c[l]),
                          (this.pathToDiffMap[u.path] = u),
                          "changed" === (h = u.type) || "deleted" === h
                            ? o.createItem(u)
                            : "new" === h
                            ? a.createItem(u)
                            : "to-delete" === h && s.createItem(u);
                      if (
                        (o.render(),
                        s.render(),
                        a.render(),
                        this.filterComponent.onChange(function (e) {
                          (e = e.trim().toLowerCase()),
                            o.applyQuery(e),
                            s.applyQuery(e),
                            a.applyQuery(e);
                        }),
                        o.children.length > 0)
                      ) {
                        for (d in (s.setCollapsed(!0, !1),
                        a.setCollapsed(!0, !1),
                        o.files))
                          o.files.hasOwnProperty(d) &&
                            "deleted" !== (p = o.files[d]).diff.type &&
                            p.setChecked(!0);
                        for (d in o.folders)
                          o.folders.hasOwnProperty(d) &&
                            o.folders[d].updateChecked();
                      }
                      return [2, e.prototype.show.call(this)];
                  }
                });
              });
            }),
            (t.prototype.uploadChanges = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      for (n in ((e = this.pathToDiffMap), (t = []), e))
                        e.hasOwnProperty(n) && (i = e[n]).checked && t.push(i);
                      return 0 === t.length
                        ? (new lw(PH("msg-select-at-least-one-file")), [2])
                        : [4, this.parentModal.uploadChanges(t)];
                    case 1:
                      return r.sent(), [2];
                  }
                });
              });
            }),
            t
          );
        })(IH),
        GH = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.title = PH("label-upload-changes")),
              (n.changesContainer = null),
              (n.doneButton = null),
              (n.successMessageEl = null),
              (n.siteLinkEl = null),
              (n.runnable = null),
              (n.changes = []),
              (n.pathToEl = {}),
              (n.changesContainer = n.el.createDiv(
                "list-item-parent upload-progress-container"
              )),
              (n.successMessageEl = n.el.createDiv({}, function (e) {
                e.createEl("p", { text: PH("label-clear-cache") }),
                  e.createEl(
                    "p",
                    { text: PH("label-visit-site") },
                    function (e) {
                      return A(n, void 0, void 0, function () {
                        return D(this, function (t) {
                          return (
                            (this.siteLinkEl = e.createEl("a")),
                            this.siteLinkEl.setAttribute("target", "_blank"),
                            [2]
                          );
                        });
                      });
                    }
                  );
              })),
              n.successMessageEl.hide(),
              n.el.createDiv("modal-button-container", function (e) {
                (n.doneButton = e.createEl(
                  "button",
                  { cls: "mod-cta", text: PH("button-done") },
                  function (e) {
                    e.addEventListener("click", function () {
                      n.runnable
                        ? (n.runnable.cancel(), (n.runnable = null))
                        : n.parentModal.close();
                    });
                  }
                )),
                  e.createEl(
                    "button",
                    { text: PH("button-go-back") },
                    function (e) {
                      e.addEventListener("click", function () {
                        n.runnable && n.runnable.cancel(),
                          n.parentModal.openReviewChanges();
                      });
                    }
                  );
              }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.addChanges = function (e) {
              this.changes = e;
            }),
            (t.prototype.show = function () {
              return A(this, void 0, void 0, function () {
                var t, n, i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return (
                        this.runnable && this.runnable.cancel(),
                        [4, e.prototype.show.call(this)]
                      );
                    case 1:
                      for (
                        s.sent(),
                          this.successMessageEl.hide(),
                          this.changesContainer.removeClass("is-finished"),
                          this.doneButton.addClass("mod-warning"),
                          this.doneButton.setText(PH("button-stop")),
                          this.changesContainer.empty(),
                          this.pathToEl = {},
                          t = function (e) {
                            n.pathToEl[e.path] = n.changesContainer.createDiv(
                              "publish-upload-item list-item",
                              function (t) {
                                t.createDiv("list-item-part", function (e) {
                                  Xy(e, dm);
                                }),
                                  t.createDiv({
                                    cls: "list-item-part mod-extended publish-upload-item-title",
                                    text: Ze(e.path),
                                  }),
                                  t.createDiv("list-item-part", function (t) {
                                    var n = t.createSpan("flair");
                                    "new" === e.type || "changed" === e.type
                                      ? n.setText(PH("label-status-to-publish"))
                                      : "deleted" === e.type &&
                                        n.setText(PH("label-status-to-delete"));
                                  });
                              }
                            );
                          },
                          n = this,
                          i = 0,
                          r = this.changes;
                        i < r.length;
                        i++
                      )
                        (o = r[i]), t(o);
                      return this.startUpload(), [2];
                  }
                });
              });
            }),
            (t.prototype.startUpload = function () {
              return A(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h = this;
                return D(this, function (p) {
                  switch (p.label) {
                    case 0:
                      (e = this.parentModal),
                        (t = e.app),
                        (n = e.plugin),
                        (i = this.runnable =
                          new _h({
                            onStop: function () {
                              return A(h, void 0, void 0, function () {
                                var e, t;
                                return D(this, function (n) {
                                  switch (n.label) {
                                    case 0:
                                      return (
                                        this.doneButton.removeClass(
                                          "mod-warning"
                                        ),
                                        this.doneButton.setText(
                                          PH("button-done")
                                        ),
                                        (t = QH + "/"),
                                        [4, this.parentModal.getCurrentSlug()]
                                      );
                                    case 1:
                                      return (
                                        (e = t + n.sent()),
                                        this.siteLinkEl.setText(e),
                                        this.siteLinkEl.setAttribute("href", e),
                                        this.successMessageEl.show(),
                                        this.changesContainer.addClass(
                                          "is-finished"
                                        ),
                                        this.runnable === i &&
                                          (this.runnable = null),
                                        [2]
                                      );
                                  }
                                });
                              });
                            },
                          })).start(),
                        (r = 0),
                        (o = this.changes),
                        (p.label = 1);
                    case 1:
                      if (!(r < o.length)) return [3, 10];
                      if (
                        ((s = o[r]),
                        (a = this.pathToEl[s.path]),
                        (l = a.find(".flair")),
                        i.isCancelled())
                      )
                        return (
                          l.setText(PH("label-status-cancelled")),
                          a.addClass("mod-failed", "mod-completed"),
                          [3, 9]
                        );
                      p.label = 2;
                    case 2:
                      return (
                        p.trys.push([2, 7, , 8]),
                        l.setText(PH("label-status-uploading")),
                        "deleted" !== s.type && "to-delete" !== s.type
                          ? [3, 4]
                          : [4, n.apiRemoveFile(s.path)]
                      );
                    case 3:
                      return (
                        p.sent(), l.setText(PH("label-status-deleted")), [3, 6]
                      );
                    case 4:
                      return (c = t.vault.getAbstractFileByPath(s.path)) &&
                        c instanceof Ab
                        ? [4, n.apiUploadFile(c)]
                        : [3, 6];
                    case 5:
                      p.sent(),
                        l.setText(PH("label-status-published")),
                        (p.label = 6);
                    case 6:
                      return (
                        a.scrollIntoView({
                          behavior: "smooth",
                          block: "center",
                        }),
                        [3, 8]
                      );
                    case 7:
                      return (
                        (u = p.sent()),
                        this.parentModal.handleError(u),
                        l.setText(PH("label-status-failed")),
                        a.addClass("mod-failed"),
                        [3, 8]
                      );
                    case 8:
                      a.addClass("mod-completed"), (p.label = 9);
                    case 9:
                      return r++, [3, 1];
                    case 10:
                      return i.stop(), [2];
                  }
                });
              });
            }),
            t
          );
        })(IH),
        KH = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.title = PH("tooltip-edit-site-id")),
              (n.newSlug = null),
              (n.site = null),
              (n.slugInputEl = null),
              new ZD(n.el)
                .setName(PH("option-site-id"))
                .setDesc(PH("option-site-id-description"))
                .addText(function (e) {
                  e
                    .setPlaceholder(PH("option-site-id-placeholder"))
                    .onChange(function (e) {
                      return (n.newSlug = e.toLowerCase());
                    }),
                    (n.slugInputEl = e.inputEl);
                })
                .setClass("site-list-site-id-setting"),
              n.el.createEl(
                "p",
                "button-container u-center-text",
                function (e) {
                  e.createEl(
                    "button",
                    { cls: "mod-cta", text: PH("button-change") },
                    function (e) {
                      return A(n, void 0, void 0, function () {
                        var n = this;
                        return D(this, function (i) {
                          return (
                            e.addEventListener("click", function () {
                              return A(n, void 0, void 0, function () {
                                var e, n;
                                return D(this, function (i) {
                                  switch (i.label) {
                                    case 0:
                                      (e = t.plugin), (i.label = 1);
                                    case 1:
                                      return (
                                        i.trys.push([1, 3, , 4]),
                                        [
                                          4,
                                          e.apiSetSlug(
                                            this.site.id,
                                            this.site.host,
                                            this.newSlug
                                          ),
                                        ]
                                      );
                                    case 2:
                                      return i.sent(), [3, 4];
                                    case 3:
                                      return (
                                        (n = i.sent()), t.handleError(n), [2]
                                      );
                                    case 4:
                                      return [
                                        4,
                                        t.openSection(t.siteOptionsSection),
                                      ];
                                    case 5:
                                      return i.sent(), [2];
                                  }
                                });
                              });
                            }),
                            [2]
                          );
                        });
                      });
                    }
                  ),
                    e.createEl(
                      "button",
                      { text: Lt("dialogue.button-cancel") },
                      function (e) {
                        return A(n, void 0, void 0, function () {
                          var n = this;
                          return D(this, function (i) {
                            return (
                              e.addEventListener("click", function () {
                                return A(n, void 0, void 0, function () {
                                  return D(this, function (e) {
                                    switch (e.label) {
                                      case 0:
                                        return [
                                          4,
                                          t.openSection(t.manageSitesSection),
                                        ];
                                      case 1:
                                        return e.sent(), [2];
                                    }
                                  });
                                });
                              }),
                              [2]
                            );
                          });
                        });
                      }
                    );
                }
              ),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.setSiteInfo = function (e) {
              this.site = e;
            }),
            (t.prototype.setExistingSlug = function (e) {
              this.slugInputEl.value = e;
            }),
            t
          );
        })(IH),
        $H = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.title = PH("label-manage-passwords")),
              (n.passwords = null),
              n.updateDisplay(),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.setPasswords = function (e) {
              this.passwords = e;
            }),
            (t.prototype.updateDisplay = function () {
              var e = this,
                t = this.el;
              if ((t.empty(), null === this.passwords))
                t.createEl("p", {
                  cls: "u-muted",
                  text: PH("label-no-password"),
                });
              else {
                var n = 0;
                t.createEl("p", {
                  cls: "u-muted",
                  text: PH("label-have-password"),
                }),
                  t.createEl("hr");
                for (
                  var i = t.createDiv("passwords-container"),
                    r = function (t) {
                      i.createDiv("list-item password-item", function (i) {
                        i.createDiv({
                          cls: "list-item-part",
                          text: t.name || PH("label-untitled-password"),
                        }),
                          i.createDiv({
                            cls: "u-muted u-small list-item-part mod-extended",
                            text: PH("label-password-created-time", {
                              time: window.moment(t.ts).fromNow(),
                            }),
                          }),
                          i.createDiv(
                            "list-item-part clickable-icon",
                            function (t) {
                              Xy(t, Jm), nn(t, Lt("dialogue.button-delete"));
                              var i = n;
                              t.addEventListener("click", function () {
                                return A(e, void 0, void 0, function () {
                                  return D(this, function (e) {
                                    switch (e.label) {
                                      case 0:
                                        return [
                                          4,
                                          this.parentModal.plugin.apiDelPassword(
                                            i
                                          ),
                                        ];
                                      case 1:
                                        return (
                                          e.sent(),
                                          [4, this.parentModal.showPasswords()]
                                        );
                                      case 2:
                                        return e.sent(), [2];
                                    }
                                  });
                                });
                              }),
                                (n += 1);
                            }
                          );
                      });
                    },
                    o = 0,
                    s = this.passwords;
                  o < s.length;
                  o++
                ) {
                  r(s[o]);
                }
              }
              t.createDiv("button-container u-center-text", function (t) {
                t.createEl(
                  "button",
                  { cls: "mod-cta", text: PH("action-new-password") },
                  function (t) {
                    t.addEventListener("click", function () {
                      e.parentModal.openAddPassword();
                    });
                  }
                ),
                  t.createEl(
                    "button",
                    { text: PH("button-go-back") },
                    function (t) {
                      t.addEventListener("click", function () {
                        var t = e.parentModal;
                        t.openSection(t.siteOptionsSection);
                      });
                    }
                  );
              });
            }),
            t
          );
        })(IH),
        YH = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.title = PH("label-add-password")),
              (n.passwordFieldEl = null),
              (n.nicknameFieldEl = null),
              new ZD(n.el)
                .setName(PH("option-password-name"))
                .setDesc(PH("option-password-desc"))
                .addText(function (e) {
                  return e
                    .setPlaceholder(PH("option-password-placeholder"))
                    .then(function (e) {
                      e.inputEl.setAttribute("type", "password"),
                        (n.passwordFieldEl = e.inputEl);
                    });
                }),
              new ZD(n.el)
                .setName(PH("option-nickname-name"))
                .setDesc(PH("option-nickname-desc"))
                .addText(function (e) {
                  return (n.nicknameFieldEl = e.inputEl);
                }),
              n.el.createDiv("button-container u-center-text", function (e) {
                e.createEl(
                  "button",
                  { text: PH("action-add-password"), cls: "mod-cta" },
                  function (e) {
                    e.addEventListener("click", function () {
                      return A(n, void 0, void 0, function () {
                        var e, t, n;
                        return D(this, function (i) {
                          switch (i.label) {
                            case 0:
                              return (
                                i.trys.push([0, 2, , 3]),
                                (e = this.passwordFieldEl.value),
                                (t = this.nicknameFieldEl.value),
                                [
                                  4,
                                  this.parentModal.plugin.apiAddPassword(t, e),
                                ]
                              );
                            case 1:
                              return i.sent(), [3, 3];
                            case 2:
                              return (
                                (n = i.sent()),
                                this.parentModal.handleError(n),
                                [2]
                              );
                            case 3:
                              return (
                                new lw(PH("msg-added-new-password")),
                                [4, this.parentModal.showPasswords()]
                              );
                            case 4:
                              return i.sent(), [2];
                          }
                        });
                      });
                    });
                  }
                ),
                  e.createEl(
                    "button",
                    { text: PH("button-go-back") },
                    function (e) {
                      e.addEventListener("click", function () {
                        return A(n, void 0, void 0, function () {
                          return D(this, function (e) {
                            switch (e.label) {
                              case 0:
                                return [4, this.parentModal.showPasswords()];
                              case 1:
                                return e.sent(), [2];
                            }
                          });
                        });
                      });
                    }
                  );
              }),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.show = function () {
              return A(this, void 0, void 0, function () {
                return D(this, function (t) {
                  return (
                    (this.passwordFieldEl.value = ""),
                    (this.nicknameFieldEl.value = ""),
                    e.prototype.show.call(this),
                    [2]
                  );
                });
              });
            }),
            t
          );
        })(IH),
        JH = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.title = PH("label-configure-custom-domain")), t;
          }
          return (
            M(t, e),
            (t.prototype.show = function () {
              return A(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  r,
                  o,
                  s = this;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (t = this.el).empty(), [4, e.prototype.show.call(this)]
                      );
                    case 1:
                      return (
                        a.sent(), [4, this.parentModal.plugin.apiCustomUrl()]
                      );
                    case 2:
                      return (
                        (n = a.sent()),
                        new ZD(t)
                          .setName(PH("option-custom-url-name"))
                          .setDesc(PH("option-custom-url-desc"))
                          .addText(function (e) {
                            return (i = e
                              .setPlaceholder(
                                PH("option-custom-url-placeholder")
                              )
                              .setValue(n.url || ""));
                          }),
                        new ZD(t)
                          .setName(PH("option-custom-url-redirect"))
                          .setDesc(PH("option-custom-url-redirect-desc"))
                          .addToggle(function (e) {
                            return (r = e.setValue(n.redirect));
                          }),
                        (o = PH("label-custom-domain-instructions", {
                          link:
                            '<a href="https://help.obsidian.md/Obsidian+Publish/Set+up+a+custom+domain" target="_blank">' +
                            PH("label-custom-domain-link-name") +
                            "</a>",
                        })),
                        this.el.createEl("p", { cls: "u-muted" }, function (e) {
                          e.innerHTML = o;
                        }),
                        this.el.createDiv(
                          "button-container u-center-text",
                          function (e) {
                            e.createEl(
                              "button",
                              {
                                text: PH("button-update-custom-domain"),
                                cls: "mod-cta",
                              },
                              function (e) {
                                e.addEventListener("click", function () {
                                  return A(s, void 0, void 0, function () {
                                    var e, t, n, o;
                                    return D(this, function (s) {
                                      switch (s.label) {
                                        case 0:
                                          return (
                                            s.trys.push([0, 2, , 3]),
                                            (e = i.getValue()),
                                            (t = r.getValue()),
                                            [
                                              4,
                                              this.parentModal.plugin.apiCustomUrl(
                                                e,
                                                t
                                              ),
                                            ]
                                          );
                                        case 1:
                                          return s.sent(), [3, 3];
                                        case 2:
                                          return (
                                            (n = s.sent()),
                                            this.parentModal.handleError(n),
                                            [2]
                                          );
                                        case 3:
                                          return (
                                            (o = this.parentModal).openSection(
                                              o.siteOptionsSection
                                            ),
                                            [2]
                                          );
                                      }
                                    });
                                  });
                                });
                              }
                            ),
                              e.createEl(
                                "button",
                                { text: PH("button-go-back") },
                                function (e) {
                                  e.addEventListener("click", function () {
                                    return A(s, void 0, void 0, function () {
                                      var e;
                                      return D(this, function (t) {
                                        return (
                                          (e = this.parentModal).openSection(
                                            e.siteOptionsSection
                                          ),
                                          [2]
                                        );
                                      });
                                    });
                                  });
                                }
                              );
                          }
                        ),
                        [2]
                      );
                  }
                });
              });
            }),
            t
          );
        })(IH),
        QH = "https://publish.obsidian.md";
      ft && (QH = "http://127.0.0.1:3001");
      var XH = (function (e) {
          function t(n, i) {
            var r = e.call(this, i) || this;
            return (
              (r.name = "RequestError"),
              (r.code = n),
              Object.setPrototypeOf(r, t.prototype),
              r
            );
          }
          return M(t, e), t;
        })(Error),
        ZH = At("plugins.publish"),
        eV = (function () {
          function e() {
            (this.id = "publish"),
              (this.name = ZH("name")),
              (this.description = ZH("desc")),
              (this.app = null),
              (this.vault = null),
              (this.plugin = null),
              (this.siteId = null),
              (this.host = null),
              (this.modal = null),
              (this.requestSaveData = Tt(this.saveData.bind(this), 2e3));
          }
          return (
            (e.prototype.init = function (e, t) {
              (this.app = e),
                (this.vault = e.vault),
                (this.plugin = t),
                t.registerRibbonAction(
                  ZH("action-publish-changes"),
                  av,
                  this.openPublishChanges.bind(this)
                ),
                t.registerGlobalCommand({
                  id: "publish:view-changes",
                  name: ZH("action-publish-changes"),
                  icon: My,
                  callback: this.openPublishChanges.bind(this),
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              return A(this, void 0, void 0, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.loadData()];
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.onDisable = function (e, t) {
              this.modal = null;
            }),
            (e.prototype.loadData = function () {
              return A(this, void 0, void 0, function () {
                var e;
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return [4, this.plugin.loadData()];
                    case 1:
                      if (!(e = t.sent())) return [2];
                      try {
                        (this.siteId = e.siteId), (this.host = e.host);
                      } catch (e) {
                        console.error(e);
                      }
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.saveData = function () {
              return A(this, void 0, void 0, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [
                        4,
                        this.plugin.saveData({
                          siteId: this.siteId,
                          host: this.host,
                        }),
                      ];
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.setup = function (e, t) {
              return A(this, void 0, void 0, function () {
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (this.siteId = e), (this.host = t), [4, this.saveData()]
                      );
                    case 1:
                      return n.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.getHost = function () {
              var e = this.host || "127.0.0.1:3002";
              return e.startsWith("127.0.0.1") || e.startsWith("localhost")
                ? "http://" + e
                : "https://" + e;
            }),
            (e.prototype.scanForChanges = function () {
              return A(this, void 0, Promise, function () {
                var e, t, n, i, r, o, s, a, l, c, u, h, p, d, f, g;
                return D(this, function (m) {
                  switch (m.label) {
                    case 0:
                      return (e = this.vault), (t = []), [4, this.apiList()];
                    case 1:
                      (n = m.sent()), (i = {}), (r = 0), (o = n), (m.label = 2);
                    case 2:
                      return r < o.length
                        ? ((s = o[r]),
                          (a = s.path),
                          (i[a] = s),
                          (l = e.getAbstractFileByPath(a)) && l instanceof Ab
                            ? !1 === (g = this.getPublishFlag(l))
                              ? [3, 4]
                              : [4, this.getHash(l)]
                            : [3, 4])
                        : [3, 6];
                    case 3:
                      return (
                        m.sent() !== s.hash
                          ? t.push({
                              path: a,
                              ctime: s.ctime,
                              mtime: s.mtime,
                              size: s.size,
                              type: "changed",
                              checked: !0 === g,
                            })
                          : t.push({
                              path: a,
                              ctime: s.ctime,
                              mtime: s.mtime,
                              size: s.size,
                              type: "to-delete",
                              checked: !1,
                            }),
                        [3, 5]
                      );
                    case 4:
                      t.push({
                        path: a,
                        ctime: s.ctime,
                        mtime: s.mtime,
                        size: s.size,
                        type: "deleted",
                        checked: !1,
                      }),
                        (m.label = 5);
                    case 5:
                      return r++, [3, 2];
                    case 6:
                      for (c = e.getRoot(), u = [c]; u.length; )
                        if ((h = u.pop()) instanceof Db)
                          for (p = 0, d = h.children; p < d.length; p++)
                            (f = d[p]), u.push(f);
                        else if (
                          h instanceof Ab &&
                          (it(h.extension) ||
                            "obsidian.css" === h.name ||
                            "publish.css" === h.name ||
                            "favicon.ico" === h.name ||
                            "publish.js" === h.name) &&
                          !i.hasOwnProperty(h.path)
                        ) {
                          if (!1 === (g = this.getPublishFlag(h))) continue;
                          t.push({
                            path: h.path,
                            ctime: 0,
                            mtime: 0,
                            size: 0,
                            type: "new",
                            checked: !0 === g,
                          });
                        }
                      return [2, t];
                  }
                });
              });
            }),
            (e.prototype.apiRequest = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return r.trys.push([0, 2, , 3]), [4, ajaxPromise(e)];
                    case 1:
                      return (t = r.sent()), [3, 3];
                    case 2:
                      if ((n = r.sent()) instanceof XMLHttpRequest)
                        throw new XH("NET", "Network unavailable.");
                      if (n instanceof Error) throw new XH("NET", n.message);
                      throw new XH("NET", "Unknown");
                    case 3:
                      if ((i = JSON.parse(t)).code && i.message)
                        throw new XH(i.code, i.message);
                      return [2, i];
                  }
                });
              });
            }),
            (e.prototype.apiPostFrontend = function (e, t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (n) {
                  return (
                    (t.token = this.app.account.token),
                    [
                      2,
                      this.apiRequest({
                        method: "POST",
                        url: QH + "/" + e,
                        data: t,
                      }),
                    ]
                  );
                });
              });
            }),
            (e.prototype.apiPostBackend = function (e, t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (n) {
                  return (
                    (t.id = this.siteId),
                    (t.token = this.app.account.token),
                    [
                      2,
                      this.apiRequest({
                        method: "POST",
                        url: this.getHost() + "/" + e,
                        data: t,
                      }),
                    ]
                  );
                });
              });
            }),
            (e.prototype.apiSetSlug = function (e, t, n) {
              return A(this, void 0, Promise, function () {
                return D(this, function (i) {
                  return [
                    2,
                    this.apiPostFrontend("api/slug", {
                      id: e,
                      host: t,
                      slug: n,
                    }),
                  ];
                });
              });
            }),
            (e.prototype.apiGetSlugs = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  return [2, this.apiPostFrontend("api/slugs", { ids: e })];
                });
              });
            }),
            (e.prototype.apiCheckSlug = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  return [2, this.apiPostFrontend("api/site", { slug: e })];
                });
              });
            }),
            (e.prototype.apiCustomUrl = function (e, t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (n) {
                  return [
                    2,
                    this.apiPostFrontend("api/customurl", {
                      id: this.siteId,
                      host: this.host,
                      url: e,
                      redirect: t,
                    }),
                  ];
                });
              });
            }),
            (e.prototype.apiList = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  return [2, this.apiPostBackend("api/list", {})];
                });
              });
            }),
            (e.prototype.apiOptions = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  return [
                    2,
                    this.apiPostBackend("api/options", { options: e }),
                  ];
                });
              });
            }),
            (e.prototype.apiGetPassword = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  return [2, this.apiPostBackend("api/password", {})];
                });
              });
            }),
            (e.prototype.apiAddPassword = function (e, t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (n) {
                  return [
                    2,
                    this.apiPostBackend("api/password", { name: e, pw: t }),
                  ];
                });
              });
            }),
            (e.prototype.apiDelPassword = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  return [2, this.apiPostBackend("api/password", { del: e })];
                });
              });
            }),
            (e.prototype.apiRemoveFile = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  return [2, this.apiPostBackend("api/remove", { path: e })];
                });
              });
            }),
            (e.prototype.apiUploadFile = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      if (e.stat.size > 52428800)
                        throw new XH(
                          "TOOLARGE",
                          "Failed to upload file over limit of 50mb."
                        );
                      return [4, this.getHash(e)];
                    case 1:
                      return (t = r.sent()), [4, this.vault.readBinary(e)];
                    case 2:
                      return (
                        (n = r.sent()),
                        (i = {
                          "obs-token": this.app.account.token,
                          "obs-id": this.siteId,
                          "obs-path": encodeURIComponent(e.path),
                          "obs-hash": t,
                        }),
                        [
                          2,
                          this.apiRequest({
                            method: "POST",
                            url: this.getHost() + "/api/upload",
                            headers: i,
                            data: n,
                          }),
                        ]
                      );
                  }
                });
              });
            }),
            (e.prototype.getHash = function (e) {
              return A(this, void 0, Promise, function () {
                var t;
                return D(this, function (n) {
                  return (t = this.getHashFromMetadataCache(e))
                    ? [2, t]
                    : [2, this.computeHash(e)];
                });
              });
            }),
            (e.prototype.getPublishFlag = function (e) {
              var t = this.app.metadataCache.getFileCache(e);
              if (!t) return null;
              var n = _g(t.frontmatter, "publish");
              return (
                n &&
                  String.isString(n) &&
                  (n =
                    "false" !== (n = n.toLowerCase()) &&
                    "no" !== n &&
                    ("true" === n || "yes" === n || null)),
                n
              );
            }),
            (e.prototype.getHashFromMetadataCache = function (e) {
              var t = this.app.metadataCache.getFileInfo(e.path);
              return t && t.mtime === e.stat.mtime && t.size === e.stat.size
                ? t.hash
                : null;
            }),
            (e.prototype.computeHash = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return [4, this.vault.readBinary(e)];
                    case 1:
                      return [4, X(t.sent())];
                    case 2:
                      return [2, t.sent()];
                  }
                });
              });
            }),
            (e.prototype.openPublishChanges = function () {
              this.modal || (this.modal = new OH(this.app, this)),
                this.modal.open();
            }),
            e
          );
        })(),
        tV = At("plugins.quick-switcher"),
        nV = (function () {
          function e() {
            (this.id = "switcher"),
              (this.name = tV("name")),
              (this.description = tV("desc")),
              (this.defaultOn = !0),
              (this.options = {}),
              (this.QuickSwitcherModal = iV);
          }
          return (
            (e.prototype.init = function (e, t) {
              (this.app = e),
                t.registerRibbonAction(
                  tV("action-open"),
                  Mm,
                  this.onOpen.bind(this)
                ),
                t.registerGlobalCommand({
                  id: "switcher:open",
                  name: tV("action-open"),
                  icon: Cy,
                  callback: this.onOpen.bind(this),
                  hotkeys: [vT(["Mod"], "O")],
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        t.addSettingTab(new rV(e, t, this)),
                        (n = this),
                        [4, t.loadData()]
                      );
                    case 1:
                      return (
                        (n.options = i.sent() || {
                          showExistingOnly: !1,
                          showAttachments: !0,
                          showAllFileTypes: !1,
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.onOpen = function () {
              new iV(this.app, this.options).open();
            }),
            e
          );
        })(),
        iV = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            (i.emptyStateText = tV("label-no-note-create-new")),
              (i.shouldShowUnresolved = !n.showExistingOnly),
              (i.shouldShowAttachments = n.showAttachments),
              (i.shouldShowAllTypes = n.showAllFileTypes),
              i.setPlaceholder(tV("prompt-type-file-name")),
              i.setInstructions([
                { command: "↑↓", purpose: tV("instruction-navigate") },
                { command: "↵", purpose: tV("instruction-open") },
                {
                  command: fe ? "cmd ↵" : "ctrl ↵",
                  purpose: tV("instruction-open-in-new-pane"),
                },
                { command: "shift ↵", purpose: tV("instruction-create") },
                { command: "esc", purpose: tV("instruction-dismiss") },
              ]);
            var r = i.scope;
            return (
              r.register(["Mod"], "Enter", function (e) {
                return i.chooser.useSelectedItem(e), !1;
              }),
              r.register(["Shift"], "Enter", function (e) {
                return i.selectSuggestion(null, e), !1;
              }),
              r.register(["Mod", "Shift"], "Enter", function (e) {
                return i.selectSuggestion(null, e), !1;
              }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.onChooseSuggestion = function (e, t) {
              var n,
                i = nw.isModifier(t, "Mod");
              if (!e) {
                var r = this.inputEl.value,
                  o = "",
                  s = this.app.workspace.getActiveViewOfType(cw);
                return (
                  s &&
                    (o =
                      (null === (n = s.file) || void 0 === n
                        ? void 0
                        : n.path) || ""),
                  void this.app.workspace.openLinkText(r, o, i, { active: !0 })
                );
              }
              if ("file" === e.type || "alias" === e.type)
                this.app.workspace.getLeaf(i).openFile(e.file, { active: !0 });
              else if ("unresolved" === e.type) {
                this.app.workspace
                  .getLeaf(i)
                  .openLinkText(e.linktext, "", { active: !0 });
              }
            }),
            t
          );
        })(QR),
        rV = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t, n) || this;
            return (r.instance = i), r;
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              var e = this,
                t = this.containerEl;
              t.empty();
              var n = this.instance.options;
              new ZD(t)
                .setName(tV("option-show-existing-only"))
                .setDesc(tV("option-show-existing-only-description"))
                .addToggle(function (t) {
                  return t.setValue(n.showExistingOnly).onChange(function (t) {
                    (n.showExistingOnly = t), e.plugin.saveData(n);
                  });
                }),
                new ZD(t)
                  .setName(tV("option-show-attachments"))
                  .setDesc(tV("option-show-attachments-desc"))
                  .addToggle(function (t) {
                    return t.setValue(n.showAttachments).onChange(function (t) {
                      (n.showAttachments = t), e.plugin.saveData(n);
                    });
                  }),
                this.app.vault.getConfig("showUnsupportedFiles") &&
                  new ZD(t)
                    .setName(tV("option-show-all-file-types"))
                    .setDesc(tV("option-show-all-file-types-desc"))
                    .addToggle(function (t) {
                      return t
                        .setValue(n.showAllFileTypes)
                        .onChange(function (t) {
                          (n.showAllFileTypes = t), e.plugin.saveData(n);
                        });
                    });
            }),
            t
          );
        })(sB),
        oV = (function () {
          function e() {
            (this.id = "random-note"),
              (this.name = Lt("plugins.random-note.name")),
              (this.description = Lt("plugins.random-note.desc")),
              (this.app = null),
              (this.pluginInstance = null);
          }
          return (
            (e.prototype.init = function (e, t) {
              (this.app = e),
                (this.pluginInstance = t),
                t.registerRibbonAction(
                  Lt("plugins.random-note.action-open"),
                  tv,
                  this.onRandomNote.bind(this)
                ),
                t.registerGlobalCommand({
                  id: "random-note",
                  name: Lt("plugins.random-note.action-open"),
                  icon: yy,
                  callback: this.onRandomNote.bind(this),
                });
            }),
            (e.prototype.onRandomNote = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      for (
                        e = [], t = 0, n = this.app.vault.getAllLoadedFiles();
                        t < n.length;
                        t++
                      )
                        (i = n[t]) instanceof Ab &&
                          "md" === i.extension &&
                          e.push(i);
                      return (
                        (r = e[Math.floor(Math.random() * e.length)]),
                        [
                          4,
                          this.app.workspace
                            .getLeaf()
                            .openFile(r, { active: !0 }),
                        ]
                      );
                    case 1:
                      return o.sent(), [2];
                  }
                });
              });
            }),
            e
          );
        })(),
        sV = Lh("/lib/reveal/reveal.js"),
        aV = (function () {
          function e() {
            (this.id = "slides"),
              (this.name = Lt("plugins.slides.name")),
              (this.description = Lt("plugins.slides.desc"));
          }
          return (
            (e.prototype.init = function (e, t) {
              var n = this;
              (this.app = e),
                t.registerGlobalCommand({
                  id: "slides:start",
                  name: Lt("plugins.slides.action-start"),
                  icon: Ey,
                  checkCallback: function (e) {
                    var t = n.app.workspace.getActiveFile();
                    if (t && "md" === t.extension)
                      return e || new lV(n.app).openFile(t), !0;
                  },
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              t.registerEvent(
                e.workspace.on("file-menu", this.onFileMenu, this)
              );
            }),
            (e.prototype.onFileMenu = function (e, t) {
              var n = this;
              t instanceof Ab &&
                "md" === t.extension &&
                e.addItem(function (e) {
                  return e
                    .setTitle(Lt("plugins.slides.action-start"))
                    .setIcon(Lm)
                    .onClick(function () {
                      return new lV(n.app).openFile(t);
                    });
                });
            }),
            e
          );
        })(),
        lV = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            return (
              (n.containerEl = null),
              (n.revealCssEl = null),
              (n.themeCssEl = null),
              (n.app = t),
              (n.scope = new ew()),
              n.scope.register([], "Escape", n.close.bind(n)),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.openFile = function (e) {
              return A(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g,
                  m,
                  v,
                  y,
                  b = this;
                return D(this, function (w) {
                  switch (w.label) {
                    case 0:
                      return (
                        this.app.keymap.pushScope(this.scope),
                        [4, this.app.vault.read(e)]
                      );
                    case 1:
                      (t = w.sent()), (w.label = 2);
                    case 2:
                      for (
                        w.trys.push([2, 6, , 7]),
                          this.containerEl && this.containerEl.detach(),
                          n = sV.promise,
                          i = "moonstone" === this.app.vault.getConfig("theme"),
                          r = this.containerEl =
                            document.body.createDiv("slides-container"),
                          (o = this.themeCssEl =
                            document.head.createEl("link", {
                              prepend: !0,
                            })).setAttribute("rel", "stylesheet"),
                          i
                            ? o.setAttribute("href", "/lib/reveal/white.css")
                            : o.setAttribute("href", "/lib/reveal/black.css"),
                          (s = this.revealCssEl =
                            document.head.createEl("link", {
                              prepend: !0,
                            })).setAttribute("rel", "stylesheet"),
                          s.setAttribute("href", "/lib/reveal/reveal.css"),
                          a = r.createDiv("reveal"),
                          l = a.createDiv("slides"),
                          a.createDiv("slides-close-btn", function (e) {
                            Xy(e, Am, 30),
                              e.addEventListener("click", b.close.bind(b));
                          }),
                          c = qg(t),
                          u = jg(c),
                          h = { definitions: Jg(c) },
                          p = c.children,
                          d = [[]],
                          m = 0;
                        m < p.length;
                        m++
                      )
                        "thematicBreak" === (f = p[m]).type
                          ? d.push([])
                          : d.last().push(f);
                      for (
                        g = function (e) {
                          var t = d[e];
                          if (0 === t.length) return "continue";
                          c.children = t;
                          var n = Ug(c, h);
                          l.createEl("section", {}, function (e) {
                            var t = tm(n);
                            e.appendChild(t);
                          });
                        },
                          m = 0;
                        m < d.length;
                        m++
                      )
                        g(m);
                      return (
                        (v = []),
                        _B.postProcess(this.app, {
                          docId: Oe(16),
                          sourcePath: e.path,
                          frontmatter: u,
                          promises: v,
                          addChild: function (e) {
                            return b.addChild(e);
                          },
                          getSectionInfo: function () {
                            return null;
                          },
                          containerEl: l,
                          el: l,
                        }),
                        v.length > 0 ? [4, Promise.all(v)] : [3, 4]
                      );
                    case 3:
                      w.sent(), (w.label = 4);
                    case 4:
                      return [4, n];
                    case 5:
                      return (
                        w.sent(),
                        new Reveal(a, {
                          embedded: !0,
                          keyboardCondition: "focused",
                          controlsTutorial: !1,
                          overview: !1,
                        }).initialize(),
                        setTimeout(function () {
                          a.dispatchEvent(new PointerEvent("pointerdown"));
                        }, 0),
                        [3, 7]
                      );
                    case 6:
                      return (
                        (y = w.sent()), console.error(y), this.close(), [3, 7]
                      );
                    case 7:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.close = function () {
              this.app.keymap.popScope(this.scope);
              var e = this,
                t = e.containerEl,
                n = e.revealCssEl,
                i = e.themeCssEl;
              t && (t.detach(), (this.containerEl = null)),
                n && (n.detach(), (this.revealCssEl = null)),
                i && (i.detach(), (this.themeCssEl = null));
            }),
            t
          );
        })(nm),
        cV = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.id = "starred"),
              (t.name = Lt("plugins.starred.name")),
              (t.description = Lt("plugins.starred.desc")),
              (t.app = null),
              (t.plugin = null),
              (t.items = []),
              t
            );
          }
          return (
            M(t, e),
            (t.prototype.init = function (e, t) {
              var n = this;
              (this.app = e),
                (this.plugin = t),
                t.registerGlobalCommand({
                  id: "starred:open",
                  name: Lt("plugins.starred.action-show"),
                  icon: Ty,
                  callback: function () {
                    n.app.workspace.ensureSideLeaf(uV, "left", !1);
                  },
                }),
                t.registerGlobalCommand({
                  id: "starred:star-current-file",
                  name: Lt("plugins.starred.action-toggle"),
                  icon: Ty,
                  callback: function () {
                    var t = e.workspace.getActiveFile();
                    t && n.toggleFile(t);
                  },
                }),
                t.registerViewType(uV, function (e) {
                  return new hV(e, n);
                });
            }),
            (t.prototype.onEnable = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        t.registerEvent(
                          e.workspace.on("layout-ready", this.initLeaf, this)
                        ),
                        t.registerEvent(
                          e.vault.on("rename", this.onRename, this)
                        ),
                        t.registerEvent(
                          e.workspace.on("file-menu", this.onFileMenu, this)
                        ),
                        [4, t.loadData()]
                      );
                    case 1:
                      return (
                        (n = i.sent()) &&
                          n.items &&
                          Array.isArray(n.items) &&
                          ((this.items = n.items), this.onItemsChanged(!1)),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.onUserEnable = function () {
              this.initLeaf();
            }),
            (t.prototype.initLeaf = function () {
              this.app.workspace.ensureSideLeaf(uV, "left", !1, !1);
            }),
            (t.prototype.toggleFile = function (e) {
              var t = this.findStarredFile(e);
              t ? this.removeItem(t) : this.addStarredFile(e);
            }),
            (t.prototype.onRename = function (e, t) {
              for (var n = !1, i = 0, r = this.items; i < r.length; i++) {
                var o = r[i];
                "file" === o.type &&
                  o.path === t &&
                  ((o.path = e.path), (n = !0));
              }
              n && this.onItemsChanged(!0);
            }),
            (t.prototype.onFileMenu = function (e, t) {
              var n = this;
              if (t instanceof Ab) {
                var i = this.findStarredFile(t);
                i
                  ? e.addItem(function (e) {
                      return e
                        .setTitle(Lt("plugins.starred.action-unstar"))
                        .setIcon(ev)
                        .onClick(function () {
                          return n.removeItem(i);
                        });
                    })
                  : e.addItem(function (e) {
                      return e
                        .setTitle(Lt("plugins.starred.action-star"))
                        .setIcon(Zm)
                        .onClick(function () {
                          return n.addStarredFile(t);
                        });
                    });
              }
            }),
            (t.prototype.findStarredFile = function (e) {
              var t = this.items.filter(function (t) {
                return "file" === t.type && t.path === e.path;
              });
              return t.length > 0 ? t[0] : null;
            }),
            (t.prototype.addStarredFile = function (e) {
              this.findStarredFile(e) ||
                this.addItem({ type: "file", title: e.basename, path: e.path });
            }),
            (t.prototype.findStarredSearch = function (e) {
              var t = this.items.filter(function (t) {
                return "search" === t.type && t.query === e;
              });
              return t.length > 0 ? t[0] : null;
            }),
            (t.prototype.addStarredSearch = function (e) {
              this.findStarredSearch(e) ||
                this.addItem({ type: "search", title: e, query: e });
            }),
            (t.prototype.toggleFileStar = function (e) {
              var t = this.findStarredFile(e);
              t ? this.removeItem(t) : this.addStarredFile(e);
            }),
            (t.prototype.addFilesStar = function (e) {
              for (var t = 0, n = 0, i = e; n < i.length; n++) {
                var r = i[n];
                this.findStarredFile(r) ||
                  (this.items.push({
                    type: "file",
                    title: r.basename,
                    path: r.path,
                  }),
                  t++);
              }
              0 !== t &&
                (new lw(
                  Lt("plugins.starred.msg-successfully-starred", {
                    type: "file",
                    title: t + " files",
                  })
                ),
                this.onItemsChanged(!0));
            }),
            (t.prototype.addItem = function (e) {
              if (e) {
                this.items.push(e);
                var t = e.type,
                  n = this.getItemText(e);
                new lw(
                  Lt("plugins.starred.msg-successfully-starred", {
                    type: t,
                    title: n,
                  })
                ),
                  this.onItemsChanged(!0);
              }
            }),
            (t.prototype.removeItem = function (e) {
              if (e) {
                this.items.remove(e);
                var t = e.type,
                  n = this.getItemText(e);
                new lw(
                  Lt("plugins.starred.msg-removed-starred", {
                    type: t,
                    title: n,
                  })
                ),
                  this.onItemsChanged(!0);
              }
            }),
            (t.prototype.getItemText = function (e) {
              return "file" === e.type
                ? e.title
                : "search" === e.type
                ? e.query
                : "";
            }),
            (t.prototype.onItemsChanged = function (e) {
              this.trigger("changed"),
                e && this.plugin.saveData({ items: this.items });
            }),
            (t.prototype.trigger = function (t) {
              for (var n = [], i = 1; i < arguments.length; i++)
                n[i - 1] = arguments[i];
              e.prototype.trigger.apply(this, P([t], n));
            }),
            (t.prototype.on = function (t, n, i) {
              return e.prototype.on.call(this, t, n, i);
            }),
            t
          );
        })(Sb),
        uV = "starred",
        hV = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            (i.icon = Zm), (i.plugin = n), (i.itemLookup = _t());
            var r = i.containerEl,
              o = (i.headerDom = new IB(i.app, r));
            o.addNavButton(
              Zm,
              Lt("plugins.starred.action-toggle"),
              i.onStar.bind(i)
            ),
              o.addNavButton(
                uv,
                Lt("plugins.starred.action-toggle-search"),
                i.onStarSearch.bind(i)
              );
            var s = (i.listEl = r.createDiv("item-list"));
            (s.style.position = "relative"),
              s.on("contextmenu", ".nav-file-title", i.openContextMenu.bind(i));
            var a = createDiv("drop-indicator"),
              l = Tt(function (e) {
                return (a.style.top = e + "px");
              }, 0);
            return (
              i.app.dragManager.handleDrop(r, function (e, t, r) {
                if ("starred" === t.source) {
                  var o = null;
                  if (
                    ("file" === t.type && (o = n.findStarredFile(t.file)),
                    "search" === t.type && (o = n.findStarredSearch(t.query)),
                    !o)
                  )
                    return;
                  var c = n.items,
                    u = c.indexOf(o),
                    h = e.target,
                    p = null;
                  if (s.contains(h)) {
                    for (var d = h; d && d.parentNode !== s; ) d = d.parentNode;
                    if (d && d.parentNode === s) {
                      var f = i.itemLookup.get(d);
                      if (f) {
                        var g = d.getBoundingClientRect(),
                          m = g.y + g.height / 2,
                          v = void 0,
                          y = c.indexOf(f);
                        if (e.clientY < m) v = d.offsetTop;
                        else {
                          var b = d.nextSibling;
                          (v = b ? b.offsetTop : d.offsetTop + d.offsetHeight),
                            y++;
                        }
                        p = { index: y, y: v };
                      }
                    }
                    if (!p) {
                      var w = s.lastChild;
                      p = { index: c.length, y: w.offsetTop + w.offsetHeight };
                    }
                  }
                  if (
                    (p || (p = { index: 0, y: 0 }),
                    p.index > u && p.index--,
                    p.index === u)
                  )
                    return;
                  return (
                    a.parentNode !== s && s.prepend(a),
                    l(Math.max(0, p.y - 2)),
                    r ||
                      (c.remove(o),
                      c.splice(p.index, 0, o),
                      n.onItemsChanged(!0)),
                    { dropEffect: "move", hoverEl: a, hoverClass: "is-active" }
                  );
                }
                if ("file" === t.type)
                  return (
                    r || n.addStarredFile(t.file),
                    {
                      action: Lt("interface.drag-and-drop.star-this-file"),
                      dropEffect: "copy",
                    }
                  );
                if ("files" === t.type) {
                  if (!r) {
                    for (var k = [], C = 0, x = t.files; C < x.length; C++) {
                      var S = x[C];
                      S instanceof Ab && k.push(S);
                    }
                    n.addFilesStar(k);
                  }
                  return {
                    action: Lt("interface.drag-and-drop.star-these-files"),
                    dropEffect: "copy",
                  };
                }
              }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.getDisplayText = function () {
              return Lt("plugins.starred.name");
            }),
            (t.prototype.getViewType = function () {
              return uV;
            }),
            (t.prototype.load = function () {
              e.prototype.load.call(this),
                this.registerEvent(
                  this.plugin.on("changed", this.renderItems, this)
                ),
                this.renderItems();
            }),
            (t.prototype.renderItems = function () {
              var e = this;
              this.listEl.empty();
              for (
                var t = this.app.dragManager,
                  n = function (n) {
                    if ("file" !== n.type && "search" !== n.type)
                      return "continue";
                    var r = createDiv("nav-file"),
                      o = r.createDiv("nav-file-title"),
                      s = o.createDiv("nav-file-icon");
                    if ("file" === n.type) {
                      var a = i.app.vault.getAbstractFileByPath(n.path);
                      if (!(a instanceof Ab)) return "continue";
                      Xy(s, dm),
                        o.createDiv({
                          cls: "nav-file-title-content",
                          text: a.basename,
                        });
                      var l = a;
                      t.handleDrag(r, function (e) {
                        return (
                          t.updateSource([o], "is-being-dragged"),
                          t.dragFile(e, l, "starred")
                        );
                      });
                    } else if ("search" === n.type) {
                      var c = n.query;
                      Xy(s, hm),
                        o.createDiv({ cls: "nav-file-title-content", text: c }),
                        t.handleDrag(r, function (e) {
                          return (
                            Ph(e.dataTransfer, c),
                            t.updateSource([o], "is-being-dragged"),
                            {
                              source: "starred",
                              type: "search",
                              icon: jm,
                              title: c,
                              query: c,
                            }
                          );
                        });
                    }
                    i.listEl.appendChild(r),
                      i.itemLookup.set(r, n),
                      zt(r),
                      r.onClickEvent(function (t) {
                        (0 !== t.button && 1 !== t.button) ||
                          e.triggerStarredItem(n, nw.isModEvent(t));
                      });
                  },
                  i = this,
                  r = 0,
                  o = this.plugin.items;
                r < o.length;
                r++
              ) {
                n(o[r]);
              }
            }),
            (t.prototype.triggerStarredItem = function (e, t) {
              var n = this.app;
              if ("file" === e.type) {
                var i = n.vault.getAbstractFileByPath(e.path);
                if (!(i instanceof Ab))
                  return void new lw(
                    Lt("plugins.starred.msg-cannot-find-path", { path: e.path })
                  );
                this.app.workspace.getLeaf(t).openFile(i, { active: !0 });
              } else if ("search" === e.type) {
                var r = this.app.internalPlugins.getPluginById("global-search");
                r && r.instance.openGlobalSearch(e.query);
              }
            }),
            (t.prototype.onStar = function () {
              var e = this.app.workspace.getActiveFile();
              e && this.plugin.toggleFileStar(e);
            }),
            (t.prototype.onStarSearch = function () {
              var e = this.app.workspace.getLeavesOfType("search");
              if (0 !== e.length) {
                var t = e[0];
                if (t.view instanceof Nz) {
                  var n = t.view.getQuery();
                  if (n) {
                    var i = this.plugin.findStarredSearch(n);
                    i
                      ? this.plugin.removeItem(i)
                      : this.plugin.addStarredSearch(n);
                  }
                }
              }
            }),
            (t.prototype.openContextMenu = function (e, t) {
              var n = this;
              e.preventDefault();
              var i = this.itemLookup.get(t.parentElement);
              new rw(this.app)
                .addItem(function (e) {
                  return e
                    .setTitle(Lt("plugins.starred.menu-opt-remove"))
                    .setIcon(Zm)
                    .onClick(function () {
                      return n.plugin.removeItem(i);
                    });
                })
                .showAtMouseEvent(e);
            }),
            t
          );
        })(ow),
        pV = (function () {
          function e(e, t, n, i) {
            (this.min = e || 0),
              (this.max = t || Number.MAX_VALUE),
              (this.base = n || 1e3),
              (this.jitter = i || !0),
              (this.count = 0),
              (this.nextTs = Date.now());
          }
          return (
            (e.prototype.success = function () {
              (this.count = 0), (this.nextTs = Date.now() + this.getTimeout());
            }),
            (e.prototype.fail = function () {
              this.count++, (this.nextTs = Date.now() + this.getTimeout());
            }),
            (e.prototype.getTimeout = function () {
              if (0 === this.count) return this.min;
              var e = this.count - 1,
                t = this.base * Math.pow(2, e);
              if (this.jitter) {
                t *= 0.5 + 0.5 * Math.random();
              }
              return (t = Math.floor(Math.min(this.max, this.min + t)));
            }),
            (e.prototype.getNextTs = function () {
              return this.nextTs;
            }),
            (e.prototype.isReady = function () {
              return Date.now() > this.nextTs;
            }),
            e
          );
        })(),
        dV = {
          1e3: "Normal Closure",
          1001: "Going Away",
          1002: "Protocol Error",
          1003: "Unsupported Data",
          1004: "(For future)",
          1005: "No Status Received",
          1006: "Abnormal Closure",
          1007: "Invalid frame payload data",
          1008: "Policy Violation",
          1009: "Message too big",
          1010: "Missing Extension",
          1011: "Internal Error",
          1012: "Service Restart",
          1013: "Try Again Later",
          1014: "Bad Gateway",
          1015: "TLS Handshake",
        },
        fV = window.WebSocket;
      var gV = window.process && window.process.platform,
        mV = dI || (gV && "win32" !== gV && "darwin" !== gV),
        vV = dI ? 500 : 2e3,
        yV = ["image"],
        bV = At("plugins.sync"),
        wV = "";
      function kV(e) {
        return A(this, void 0, void 0, function () {
          return D(this, function (t) {
            return [
              2,
              UD(e + "-sync", 1, {
                upgrade: function (e, t, n, i) {
                  e.objectStoreNames.contains("data") ||
                    e.createObjectStore("data");
                },
              }),
            ];
          });
        });
      }
      dI &&
        A(void 0, void 0, void 0, function () {
          var e;
          return D(this, function (t) {
            switch (t.label) {
              case 0:
                return [4, kI.getInfo()];
              case 1:
                return (e = t.sent()), (wV = e.name), [2];
            }
          });
        });
      var CV = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.id = "sync"),
              (t.name = bV("name")),
              (t.description = bV("desc")),
              (t.app = null),
              (t.vault = null),
              (t.plugin = null),
              (t.db = null),
              (t.vaultId = null),
              (t.vaultName = null),
              (t.key = null),
              (t.host = null),
              (t.deviceName = ""),
              (t.version = 0),
              (t.initial = !0),
              (t.localFiles = {}),
              (t.scanSpecialFiles = !1),
              (t.scanSpecialFileQueue = []),
              (t.serverFiles = {}),
              (t.fileRetry = {}),
              (t.newServerFiles = []),
              (t.allowTypes = new Set(yV)),
              (t.allowSpecialFiles = new Set()),
              (t.ignoreFolders = []),
              (t.dirty = !1),
              (t.requestSaveData = Tt(t.saveData.bind(t), 2e3)),
              (t.boundOnFileAdd = t.onFileAdd.bind(t)),
              (t.boundOnFileRemove = t.onFileRemove.bind(t)),
              (t.boundOnFileRename = t.onFileRename.bind(t)),
              (t.boundOnRaw = t.onRaw.bind(t)),
              (t.pause = !1),
              (t.syncing = !1),
              (t.error = !1),
              (t.ready = !1),
              (t.server = null),
              (t.syncLog = []),
              (t.timer = 0),
              (t.backoff = new pV(0, 3e5, 5e3, !0)),
              (t.statusIconEl = null),
              (t.iconSize = 18),
              (t.syncingPath = ""),
              (t.syncStatus = ""),
              t
            );
          }
          return (
            M(t, e),
            (t.prototype.getRemoteVaultId = function () {
              return this.vaultId;
            }),
            (t.prototype.getRemoteVaultName = function () {
              return this.vaultName;
            }),
            (t.prototype.init = function (e, t) {
              (this.app = e),
                (this.vault = e.vault),
                (this.plugin = t),
                (this.settingTab = new DV(e, t, this)),
                t.registerStatusBarItem(),
                this.setStatus("Uninitialized");
            }),
            (t.prototype.openChooseRemoteVaultModal = function () {
              new LV(this.app, this, this.settingTab).open();
            }),
            (t.prototype.onEnable = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n,
                  i,
                  r,
                  o = this;
                return D(this, function (s) {
                  return (
                    (n = e.workspace),
                    this.registerEvents(),
                    t.addSettingTab(this.settingTab),
                    t.registerEvent(
                      e.workspace.on("file-menu", this.onFileMenu, this)
                    ),
                    n.onLayoutReady(function () {
                      return A(o, void 0, void 0, function () {
                        return D(this, function (e) {
                          switch (e.label) {
                            case 0:
                              return [4, this.loadData()];
                            case 1:
                              return (
                                e.sent(),
                                this.scanFiles(),
                                this.requestSync(),
                                [2]
                              );
                          }
                        });
                      });
                    }),
                    (this.timer = window.setInterval(
                      this.requestSync.bind(this),
                      3e4
                    )),
                    this.on("status-change", function () {
                      o.updateStatusBar();
                    }),
                    eb.isMobile
                      ? ((this.iconSize = 28),
                        n.onLayoutReady(function () {
                          var e = n.rightSplit;
                          (o.statusIconEl = e.addHeaderButton(
                            yv,
                            o.showSyncLog.bind(o)
                          )),
                            o.statusIconEl.addClass("sync-status-icon");
                        }))
                      : (i = t.statusBarEl) &&
                        ((r = i.createDiv("status-bar-item-segment")),
                        (this.statusIconEl = r.createSpan(
                          "status-bar-item-icon sync-status-icon"
                        )),
                        this.statusIconEl.addEventListener(
                          "click",
                          this.showSyncLog.bind(this)
                        )),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.onDisable = function (e, t) {
              this.server && (this.server.disconnect(), (this.server = null)),
                this.timer && (clearInterval(this.timer), (this.timer = 0)),
                this.statusIconEl && this.statusIconEl.detach(),
                this.unregisterEvents();
            }),
            (t.prototype.onFileMenu = function (e, t, n) {
              var i = this;
              t instanceof Ab &&
                ("pane-more-options" === n ||
                  "file-explorer-context-menu" === n) &&
                e.addItem(function (e) {
                  return e
                    .setTitle(bV("action-view-version-history"))
                    .setIcon(Xm)
                    .onClick(function () {
                      return i.showVersionHistory(t.path);
                    });
                });
            }),
            (t.prototype.loadData = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      (e = null), (r.label = 1);
                    case 1:
                      return (
                        r.trys.push([1, 4, , 5]),
                        (t = this),
                        [
                          4,
                          UD(this.app.appId + "-sync", 1, {
                            upgrade: function (e, t, n, i) {
                              e.objectStoreNames.contains("data") ||
                                e.createObjectStore("data");
                            },
                          }),
                        ]
                      );
                    case 2:
                      return [4, (t.db = r.sent()).get("data", "data")];
                    case 3:
                      return (e = r.sent()), [3, 5];
                    case 4:
                      return (
                        (n = r.sent()),
                        console.error("Failed to load sync data", n),
                        [3, 5]
                      );
                    case 5:
                      return e ? [3, 9] : [4, this.plugin.loadData()];
                    case 6:
                      return (e = r.sent())
                        ? [4, this.db.put("data", e, "data")]
                        : [3, 9];
                    case 7:
                      return r.sent(), [4, this.plugin.deleteData()];
                    case 8:
                      r.sent(), (r.label = 9);
                    case 9:
                      if (!e) return [2];
                      try {
                        (this.vaultId = e.vaultId),
                          (this.vaultName = e.vaultName),
                          (this.key = Y(e.key)),
                          (this.host = e.host),
                          (this.deviceName = e.deviceName || ""),
                          (this.pause = !!e.pause),
                          (this.version = e.version || 0),
                          (this.initial = void 0 === e.initial || !!e.initial),
                          (this.localFiles = e.local || {}),
                          (this.serverFiles = e.remote || {}),
                          (this.newServerFiles = e.pending || []),
                          (i = e.appId) &&
                            i !== this.app.appId &&
                            ((this.pause = !0),
                            (this.version = 0),
                            (this.initial = !0),
                            (this.localFiles = {}),
                            (this.serverFiles = {}),
                            (this.newServerFiles = [])),
                          (this.fileRetry = {}),
                          (this.allowTypes = new Set(e.allowTypes || yV)),
                          (this.allowSpecialFiles = new Set(
                            e.allowSpecialFiles || []
                          )),
                          (this.ignoreFolders = e.ignoreFolders || []);
                      } catch (e) {
                        console.error(e);
                      }
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.saveData = function () {
              return A(this, void 0, void 0, function () {
                var e;
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return this.dirty
                        ? ((this.dirty = !1),
                          ((e = {}).appId = this.app.appId),
                          (e.vaultId = this.vaultId),
                          (e.vaultName = this.vaultName),
                          (e.key = J(this.key)),
                          (e.host = this.host),
                          (e.deviceName = this.deviceName),
                          (e.pause = this.pause),
                          (e.version = this.version),
                          (e.initial = this.initial),
                          (e.local = this.localFiles),
                          (e.remote = this.serverFiles),
                          (e.pending = this.newServerFiles),
                          (e.allowTypes = Array.from(this.allowTypes)),
                          (e.allowSpecialFiles = Array.from(
                            this.allowSpecialFiles
                          )),
                          (e.ignoreFolders = this.ignoreFolders),
                          [4, this.db.put("data", e, "data")])
                        : [2];
                    case 1:
                      return t.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.getDefaultDeviceName = function () {
              return eb.isDesktopApp ? ct("os").hostname() : wV || "Unknown";
            }),
            (t.prototype.setup = function (e, t, n, i, r) {
              return A(this, void 0, void 0, function () {
                var o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return (
                        (this.vaultId = e),
                        (this.vaultName = t),
                        (o = this),
                        [4, le(n, i)]
                      );
                    case 1:
                      return (
                        (o.key = s.sent()),
                        (this.host = r),
                        this.clear(),
                        this.scanFiles(),
                        [4, this.saveData()]
                      );
                    case 2:
                      return s.sent(), this.requestSync(), [2];
                  }
                });
              });
            }),
            (t.prototype.unsetup = function () {
              return A(this, void 0, void 0, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (
                        (this.vaultId = null),
                        (this.vaultName = null),
                        (this.key = null),
                        (this.host = null),
                        this.clear(),
                        this.setStatus("Uninitialized"),
                        [4, this.saveData()]
                      );
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.clear = function () {
              (this.dirty = !0),
                (this.version = 0),
                (this.initial = !0),
                (this.serverFiles = {}),
                (this.newServerFiles = []),
                (this.fileRetry = {}),
                (this.allowTypes = new Set(yV));
              var e = this.server;
              e && (e.disconnect(), (this.server = null)),
                (this.gettingServer = null),
                this.backoff.success();
            }),
            (t.prototype.setPause = function (e) {
              (this.pause = e),
                e
                  ? (this.setStatus("Paused"), this.log("Paused"))
                  : (this.setStatus("Resumed"), this.log("Resumed")),
                (this.dirty = !0),
                this.saveData(),
                this.requestSync();
            }),
            (t.prototype.getPause = function () {
              return this.pause;
            }),
            (t.prototype.changeFilter = function (e) {
              var t = this.serverFiles,
                n = this.newServerFiles,
                i = this.app.vault.configDir + "/",
                r = [];
              for (var o in t)
                if (t.hasOwnProperty(o)) {
                  var s = t[o];
                  this.allowSyncFile(s.path, s.folder, i) || r.push(s);
                }
              e();
              for (var a = [], l = 0, c = r; l < c.length; l++) {
                s = c[l];
                this.allowSyncFile(s.path, s.folder, i) && a.push(s);
              }
              a.sort(function (e, t) {
                return e.path.length - t.path.length;
              }),
                n.unshift.apply(n, a);
            }),
            (t.prototype.makeKeyHash = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return [4, le(e, t)];
                    case 1:
                      return (n = r.sent()), (i = te), [4, Z(n)];
                    case 2:
                      return [2, i.apply(void 0, [r.sent()])];
                  }
                });
              });
            }),
            (t.prototype.getSalt = function () {
              return (function (e) {
                for (var t = [], n = 0, i = ue.length; n < e; n++)
                  t.push(ue.charAt(Math.floor(Math.random() * i)));
                return t.join("");
              })(20);
            }),
            (t.prototype.verifyPassword = function (e, t, n, i) {
              return A(this, void 0, void 0, function () {
                var r, o, s, a;
                return D(this, function (l) {
                  switch (l.label) {
                    case 0:
                      return [4, this.makeKeyHash(t, n)];
                    case 1:
                      return (
                        (r = l.sent()),
                        (a = (s = JSON).parse),
                        [4, this.app.account.verifyVaultKey(e, r, i)]
                      );
                    case 2:
                      if ((o = a.apply(s, [l.sent()])).error)
                        throw new Error(o.error);
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.log = function (e, t, n) {
              void 0 === n && (n = !1);
              var i = this.syncLog;
              if ("Fully synced" === e && i.last().info === e) return;
              i.push({ file: t, info: e, ts: Date.now(), error: n }),
                i.length > vV && i.splice(0, 100),
                this.trigger("new-log");
            }),
            (t.prototype.scanFiles = function () {
              for (
                var e = this.vault, t = this.localFiles, n = [e.getRoot()];
                n.length;

              ) {
                var i = n.pop();
                if ((this.onFileAdd(i), i instanceof Db))
                  for (var r = 0, o = i.children; r < o.length; r++) {
                    var s = o[r];
                    n.push(s);
                  }
              }
              for (var a in t) {
                if (t.hasOwnProperty(a) && !a.startsWith("."))
                  e.getAbstractFileByPath(a) || delete t[a];
              }
              this.scanSpecialFiles = !0;
            }),
            (t.prototype.setIgnoreFolders = function (e) {
              var t = this;
              this.changeFilter(function () {
                t.ignoreFolders = e;
              }),
                this.forceSaveData(),
                this.requestSync();
            }),
            (t.prototype.setSyncType = function (e, t) {
              var n = this;
              this.allowTypes.has(e) !== t &&
                (this.changeFilter(function () {
                  t ? n.allowTypes.add(e) : n.allowTypes.delete(e);
                }),
                this.forceSaveData(),
                this.requestSync());
            }),
            (t.prototype.setAllowSpecialFile = function (e, t) {
              var n = this;
              this.allowSpecialFiles.has(e) !== t &&
                (this.changeFilter(function () {
                  t
                    ? n.allowSpecialFiles.add(e)
                    : n.allowSpecialFiles.delete(e);
                }),
                this.forceSaveData(),
                this.requestSync());
            }),
            (t.prototype.registerEvents = function () {
              this.vault.on("create", this.boundOnFileAdd),
                this.vault.on("modify", this.boundOnFileAdd),
                this.vault.on("delete", this.boundOnFileRemove),
                this.vault.on("rename", this.boundOnFileRename),
                this.vault.on("raw", this.boundOnRaw);
            }),
            (t.prototype.unregisterEvents = function () {
              this.vault.off("create", this.boundOnFileAdd),
                this.vault.off("modify", this.boundOnFileAdd),
                this.vault.off("delete", this.boundOnFileRemove),
                this.vault.off("rename", this.boundOnFileRename),
                this.vault.off("raw", this.boundOnRaw);
            }),
            (t.prototype.onFileAdd = function (e) {
              var t = e.path;
              if ("/" !== t) {
                var n = this.localFiles,
                  i = n[t];
                if (
                  (i ||
                    (n[t] = i =
                      {
                        path: t,
                        folder: !1,
                        ctime: 0,
                        mtime: 0,
                        size: 0,
                        hash: "",
                        synctime: 0,
                        synchash: "",
                      }),
                  (i.path = t),
                  e instanceof Db)
                )
                  (i.folder = !0),
                    (i.ctime = 0),
                    (i.mtime = 0),
                    (i.size = 0),
                    (i.hash = "");
                else if (e instanceof Ab) {
                  i.folder = !1;
                  var r = e.stat,
                    o = Math.ceil(r.mtime),
                    s = Math.ceil(r.ctime),
                    a = r.size;
                  (i.mtime && i.mtime === o && i.size === r.size) ||
                    (i.hash = ""),
                    (i.mtime = o),
                    (i.ctime = s),
                    (i.size = a);
                }
                this.requestSync();
              }
            }),
            (t.prototype.onFileRemove = function (e) {
              delete this.localFiles[e.path], this.requestSync();
            }),
            (t.prototype.onFileRename = function (e, t) {
              var n = this.localFiles,
                i = n[t];
              (n[e.path] = i),
                delete n[t],
                (i.path = e.path),
                (i.synctime = 0),
                this.onFileAdd(e),
                this.requestSync();
            }),
            (t.prototype.onRaw = function (e) {
              if (e.startsWith(this.vault.configDir + "/")) {
                var t = this.scanSpecialFileQueue;
                if (t.contains(e)) return;
                t.push(e), this.requestSync();
              }
            }),
            (t.prototype.onPushedFile = function (e) {
              if (((this.version = e.uid), !this.initial || !e.deleted)) {
                var t = e.path,
                  n = {
                    path: e.path,
                    size: e.size,
                    hash: e.hash,
                    ctime: e.ctime,
                    mtime: e.mtime,
                    folder: e.folder,
                    deleted: e.deleted,
                    uid: e.uid,
                  };
                this.initial && (n.initial = !0);
                var i = this.localFiles[t],
                  r = !1;
                n.deleted !== !i
                  ? (r = !0)
                  : !i ||
                    (n.folder === i.folder &&
                      n.size === i.size &&
                      n.hash === i.hash) ||
                    (r = !0),
                  (n.device = e.device),
                  r &&
                    this.log(
                      "Server pushed" +
                        (e.folder ? " (folder)" : "") +
                        (e.deleted ? " (deleted or renamed)" : "") +
                        (e.device ? " [" + e.device + "]" : ""),
                      e.path
                    ),
                  this.newServerFiles.push(n),
                  this.requestSync();
              }
            }),
            (t.prototype.allowSyncFile = function (e, t, n) {
              for (var i = 0, r = this.ignoreFolders; i < r.length; i++) {
                var o = r[i];
                if ((t && e === o) || e.startsWith(o + "/")) return !1;
              }
              if (!t && e.startsWith(n)) {
                var s = e.substr(n.length);
                if (s.startsWith(".") || s.contains("/.")) return !1;
                var a = null;
                return (
                  "app.json" === s
                    ? (a = "app")
                    : "appearance.json" === s
                    ? (a = "appearance")
                    : "hotkeys.json" === s
                    ? (a = "hotkey")
                    : "core-plugins.json" === s
                    ? (a = "core-plugin")
                    : "community-plugins.json" === s
                    ? (a = "community-plugin")
                    : s.startsWith("themes/") || s.startsWith("snippets/")
                    ? (a = "appearance-data")
                    : !s.contains("/") && s.endsWith(".json")
                    ? (a = "core-plugin-data")
                    : s.startsWith("plugins/") &&
                      !s.substr("plugins/".length).startsWith(".") &&
                      (a = "community-plugin-data"),
                  a && this.allowSpecialFiles.has(a)
                );
              }
              if (e.startsWith(".")) return !1;
              if (t) return !0;
              if (e.startsWith(".")) return !1;
              var l = et(Ye(e));
              if ("md" === l) return !0;
              var c = this.allowTypes;
              return je.contains(l)
                ? c.has("image")
                : Ue.contains(l)
                ? c.has("audio")
                : We.contains(l)
                ? c.has("video")
                : _e.contains(l)
                ? c.has("pdf")
                : !!c.has("unsupported");
            }),
            (t.prototype.canSyncPath = function (e, t) {
              var n = this.fileRetry;
              for (var i in n)
                if (n.hasOwnProperty(i) && n[i].ts > e && t.startsWith(i))
                  return !1;
              return !0;
            }),
            (t.prototype.canSyncLocalFile = function (e, t) {
              if (!t.synctime) return !0;
              var n = t.size,
                i = n > 10240 ? (n > 102400 ? 30 : 20) : 10;
              return e - t.synctime > 1e3 * i;
            }),
            (t.prototype.getHost = function () {
              var e = this.host || "127.0.0.1:3003";
              return e.startsWith("127.0.0.1") || e.startsWith("localhost")
                ? "ws://" + e
                : "wss://" + e;
            }),
            (t.prototype.setStatus = function (e) {
              (this.syncStatus = e), this.trigger("status-change");
            }),
            (t.prototype.getStatus = function () {
              return this.vaultId
                ? this.error || Object.keys(this.fileRetry).length > 0
                  ? "error"
                  : this.pause
                  ? "paused"
                  : this.syncing
                  ? "syncing"
                  : "synced"
                : "paused";
            }),
            (t.prototype.failedSync = function (e) {
              var t = this.syncingPath;
              if ((this.log(e, t, !0), t)) {
                var n = this.fileRetry,
                  i = Date.now(),
                  r = n[t];
                r || (r = n[t] = { count: 0, error: "", ts: 0 }), (r.error = e);
                var o = (r.count = r.count + 1),
                  s = 5 * Math.pow(2, o) * 1e3;
                (s = Math.min(s, 3e5)), (r.ts = i + s);
              }
            }),
            (t.prototype.requestSync = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return this.syncing
                        ? [2]
                        : ((this.syncing = !0),
                          (this.error = !1),
                          this.trigger("status-change"),
                          [4, qh(50)]);
                    case 1:
                      i.sent(), (e = !0), (i.label = 2);
                    case 2:
                      if (
                        !e ||
                        !this.plugin.enabled ||
                        this.pause ||
                        !this.vaultId
                      )
                        return [3, 9];
                      i.label = 3;
                    case 3:
                      return (
                        i.trys.push([3, 5, , 6]),
                        (this.error = !1),
                        (this.syncingPath = null),
                        [4, this._sync()]
                      );
                    case 4:
                      return (
                        (e = i.sent()),
                        (t = this.syncingPath) && delete this.fileRetry[t],
                        [3, 6]
                      );
                    case 5:
                      return (
                        (n = i.sent()),
                        console.log("Sync Error!"),
                        console.error(n),
                        (this.error = !0),
                        this.failedSync(n.message),
                        (e = !1),
                        this.trigger("status-change"),
                        [3, 6]
                      );
                    case 6:
                      return (
                        this.dirty && this.requestSaveData(),
                        e ? [4, qh(100)] : [3, 8]
                      );
                    case 7:
                      i.sent(), (i.label = 8);
                    case 8:
                      return [3, 2];
                    case 9:
                      return (
                        (this.syncing = !1), this.trigger("status-change"), [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.getServer = function () {
              var e = this,
                t = this.gettingServer;
              if (!t) {
                this.gettingServer = t = this.asyncGetServer();
                var n = function () {
                  e.gettingServer = null;
                };
                t.then(n, n);
              }
              return t;
            }),
            (t.prototype.asyncGetServer = function () {
              return A(this, void 0, Promise, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s = this;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        !(e = this.server) ||
                          e.isConnected() ||
                          e.isConnecting() ||
                          (e.disconnect(),
                          (e = this.server = null),
                          this.backoff.fail()),
                        e
                          ? [3, 4]
                          : this.host &&
                            this.app.account.token &&
                            this.vaultId &&
                            this.key
                          ? [4, ie(this.key)]
                          : [3, 3]
                      );
                    case 1:
                      return (t = a.sent()), (i = te), [4, Z(this.key)];
                    case 2:
                      return (
                        (n = i.apply(void 0, [a.sent()])),
                        (e = this.server = new TV(t, n)),
                        [3, 4]
                      );
                    case 3:
                      return [2, null];
                    case 4:
                      if (e.hasConnection()) return [3, 8];
                      this.setStatus("Connecting to server"),
                        this.log("Connecting to server"),
                        (this.ready = !1),
                        (a.label = 5);
                    case 5:
                      return (
                        a.trys.push([5, 7, , 8]),
                        (r = this.deviceName || this.getDefaultDeviceName()),
                        [
                          4,
                          e.connect(
                            this.getHost(),
                            this.app.account.token,
                            this.vaultId,
                            this.version,
                            this.initial,
                            r,
                            function (e) {
                              s.log(
                                "Connection successful. Detecting changes..."
                              ),
                                (s.ready = !0),
                                s.initial && (s.initial = !1),
                                s.version < e && (s.version = e),
                                (s.dirty = !0),
                                s.requestSaveData(),
                                s.requestSync();
                            },
                            this.onPushedFile.bind(this)
                          ),
                        ]
                      );
                    case 6:
                      return a.sent(), this.backoff.success(), [3, 8];
                    case 7:
                      return (
                        (o = a.sent()).message &&
                          o.message.contains(
                            "Your subscription to Obsidian Sync has expired"
                          ) &&
                          new lw(o.message),
                        console.error(o),
                        this.log(o.message, null, !0),
                        e.disconnect(),
                        (e = this.server = null),
                        (this.error = !0),
                        this.backoff.fail(),
                        [2, null]
                      );
                    case 8:
                      return [2, e];
                  }
                });
              });
            }),
            (t.prototype._sync = function () {
              return A(this, void 0, Promise, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g,
                  m,
                  v,
                  y,
                  b,
                  w,
                  k,
                  C,
                  x,
                  S,
                  E,
                  M,
                  L,
                  A,
                  T,
                  P,
                  O,
                  F,
                  I,
                  N,
                  B,
                  R,
                  z,
                  H,
                  V,
                  q,
                  j,
                  U,
                  W,
                  _,
                  G,
                  K,
                  Y,
                  J,
                  Q,
                  Z,
                  ee,
                  te = this;
                return D(this, function (ne) {
                  switch (ne.label) {
                    case 0:
                      return this.pause
                        ? [2, !1]
                        : this.backoff.isReady()
                        ? [4, this.getServer()]
                        : (this.log("Waiting to connect to server"), [2, !1]);
                    case 1:
                      if (!(e = ne.sent())) return [2, !1];
                      if (this.pause || !this.vaultId) return [2, !1];
                      (t = this.localFiles),
                        (n = this.serverFiles),
                        (i = this.newServerFiles),
                        (r = this.vault),
                        (o = r.adapter),
                        (s = Date.now()),
                        (a = 0),
                        this.setStatus("Indexing..."),
                        (l = r.configDir),
                        (c = l + "/"),
                        (ne.label = 2);
                    case 2:
                      if (
                        (ne.trys.push([2, 21, , 22]),
                        (u = {}),
                        (h = this.scanSpecialFileQueue),
                        !this.scanSpecialFiles)
                      )
                        return [3, 17];
                      for (j in ((this.scanSpecialFiles = !1),
                      this.setStatus("Initializing..."),
                      (h = this.scanSpecialFileQueue = []),
                      t))
                        t.hasOwnProperty(j) &&
                          j.startsWith(".") &&
                          ((u[j] = t[j]), delete t[j]);
                      return [4, o.exists(l)];
                    case 3:
                      return ne.sent()
                        ? (h.push(c + "config"), [4, o.list(l)])
                        : [3, 17];
                    case 4:
                      for (p = ne.sent(), d = 0, f = p.files; d < f.length; d++)
                        "json" === et((A = f[d])) && h.push(A);
                      return [4, o.exists(c + "themes")];
                    case 5:
                      return ne.sent() ? [4, o.list(c + "themes")] : [3, 7];
                    case 6:
                      for (g = ne.sent(), m = 0, v = g.files; m < v.length; m++)
                        "css" === et((A = v[m])) && h.push(A);
                      ne.label = 7;
                    case 7:
                      return [4, o.exists(c + "snippets")];
                    case 8:
                      return ne.sent() ? [4, o.list(c + "snippets")] : [3, 10];
                    case 9:
                      for (y = ne.sent(), b = 0, w = y.files; b < w.length; b++)
                        "css" === et((A = w[b])) && h.push(A);
                      ne.label = 10;
                    case 10:
                      return [4, o.exists(c + "plugins")];
                    case 11:
                      return ne.sent() ? [4, o.list(c + "plugins")] : [3, 16];
                    case 12:
                      (k = ne.sent()),
                        (C = 0),
                        (x = k.folders),
                        (ne.label = 13);
                    case 13:
                      return C < x.length
                        ? ((S = x[C]), [4, o.list(S)])
                        : [3, 16];
                    case 14:
                      for (E = ne.sent(), M = 0, L = E.files; M < L.length; M++)
                        (A = L[M]),
                          ("manifest.json" !== (T = Ye(A)) &&
                            "main.js" !== T &&
                            "styles.css" !== T &&
                            "data.json" !== T) ||
                            h.push(A);
                      ne.label = 15;
                    case 15:
                      return C++, [3, 13];
                    case 16:
                      this.forceSaveData(), (ne.label = 17);
                    case 17:
                      return h.length > 0
                        ? ((j = h.pop()), [4, o.exists(j)])
                        : [3, 20];
                    case 18:
                      return ne.sent()
                        ? [4, o.stat(j)]
                        : (delete t[j], [3, 17]);
                    case 19:
                      return "file" !== (P = ne.sent()).type
                        ? (delete t[j], [3, 17])
                        : ((q = t[j]) ||
                            (q = u.hasOwnProperty(j)
                              ? (t[j] = u[j])
                              : (t[j] = {
                                  path: j,
                                  ctime: 0,
                                  mtime: 0,
                                  size: 0,
                                  folder: !1,
                                  hash: "",
                                  synchash: "",
                                  synctime: 0,
                                })),
                          (Y = Math.ceil(P.mtime)),
                          (K = Math.ceil(P.ctime)),
                          (O = P.size),
                          (q.mtime && q.mtime === Y && q.size === P.size) ||
                            (q.hash = ""),
                          (q.mtime = Y),
                          (q.ctime = K),
                          (q.size = O),
                          [3, 17]);
                    case 20:
                      return [3, 22];
                    case 21:
                      return (
                        (F = ne.sent()),
                        console.error("Failed to scan config files", F),
                        [3, 22]
                      );
                    case 22:
                      if (!(i.length > 0)) return [3, 26];
                      (I = function (l) {
                        var u,
                          h,
                          p,
                          d,
                          f,
                          g,
                          m,
                          v,
                          y,
                          b,
                          w,
                          k,
                          C,
                          x,
                          S,
                          E,
                          M,
                          L,
                          A,
                          T,
                          P,
                          O,
                          F,
                          I,
                          B,
                          R,
                          z,
                          H,
                          V,
                          q,
                          j;
                        return D(this, function (D) {
                          switch (D.label) {
                            case 0:
                              if (
                                ((u = i[l]),
                                (h = u.path),
                                (p = n[h]),
                                (d = t[h]),
                                (f = function (e, t) {
                                  return (
                                    e || te.log("Accepted", h),
                                    d && (d.synctime = Date.now()),
                                    t || (n[h] = u),
                                    i.splice(l, 1),
                                    te.setDirty(),
                                    !0
                                  );
                                }),
                                !N.allowSyncFile(h, u.folder, c))
                              )
                                return [2, { value: f(!0) }];
                              if (
                                !Ve(h) ||
                                (eb.isAndroidApp && /[?<>]/.test(h))
                              )
                                return (
                                  N.log(
                                    "Ignoring remote file name with illegal characters",
                                    h,
                                    !0
                                  ),
                                  new lw(
                                    'Sync: Unable to download file with illegal name "' +
                                      h +
                                      '"'
                                  ),
                                  [2, { value: f(!0, !0) }]
                                );
                              if (!N.canSyncPath(s, h))
                                return a++, [2, "continue"];
                              for (
                                N.syncingPath = h, g = l + 1;
                                g < i.length;
                                g++
                              )
                                if (i[g].path === h)
                                  return (
                                    N.log("Skipped", h),
                                    [2, { value: f(!0, !0) }]
                                  );
                              return d
                                ? [3, 2]
                                : u.deleted
                                ? [2, { value: f(!0) }]
                                : (N.setStatus("Downloading " + h),
                                  [4, N.syncFileDown(e, u)]);
                            case 1:
                              return D.sent(), [2, { value: f() }];
                            case 2:
                              return d.folder || d.hash
                                ? [3, 4]
                                : (N.getHashFromMetadataCache(d),
                                  d.hash
                                    ? [3, 4]
                                    : (N.setStatus("Computing hash " + h),
                                      [4, N.updateHash(d)]));
                            case 3:
                              D.sent(), (D.label = 4);
                            case 4:
                              if (!d.folder || !u.folder) return [3, 9];
                              if (!u.deleted) return [3, 8];
                              if (!(C = r.getAbstractFileByPath(h)))
                                return [3, 8];
                              if (C instanceof Db && C.children.length > 0)
                                return [2, { value: f(!0) }];
                              N.setStatus("Deleting " + h),
                                N.log("Deleting", h),
                                (D.label = 5);
                            case 5:
                              return (
                                D.trys.push([5, 7, , 8]), [4, r.delete(C, !0)]
                              );
                            case 6:
                              return D.sent(), [3, 8];
                            case 7:
                              return (
                                (m = D.sent()),
                                (v =
                                  (m ? m.message : "") ||
                                  "Failed to delete folder"),
                                N.log(v, h, !0),
                                [3, 8]
                              );
                            case 8:
                              return [2, { value: f(!0) }];
                            case 9:
                              return d.folder || u.folder || d.hash !== u.hash
                                ? p &&
                                  ((d.folder && p.folder) || d.hash === p.hash)
                                  ? u.deleted
                                    ? (N.setStatus("Deleting " + h),
                                      (C = r.getAbstractFileByPath(h))
                                        ? (N.log("Deleting", h),
                                          [4, r.delete(C)])
                                        : [3, 11])
                                    : [3, 14]
                                  : [3, 16]
                                : [2, { value: f(!0) }];
                            case 10:
                              return D.sent(), [3, 13];
                            case 11:
                              return N.log("Deleting", h), [4, o.remove(h)];
                            case 12:
                              D.sent(), (D.label = 13);
                            case 13:
                              return [2, { value: f() }];
                            case 14:
                              return (
                                N.setStatus("Downloading " + h),
                                [4, N.syncFileDown(e, u)]
                              );
                            case 15:
                              return D.sent(), [2, { value: f() }];
                            case 16:
                              return d.folder || !u.folder
                                ? [3, 18]
                                : (C = r.getAbstractFileByPath(h)) instanceof Ab
                                ? ((y = C.extension),
                                  (b = y
                                    ? h.substr(h.length - y.length - 1)
                                    : ""),
                                  (w = h.substr(0, h.length - b.length)),
                                  (k = w + " (Conflicted copy)" + b),
                                  N.setStatus("Renaming conflicted file " + h),
                                  N.log("Renaming conflicted file", h),
                                  [4, r.rename(C, k)])
                                : [3, 18];
                            case 17:
                              return D.sent(), N.setDirty(), [2, { value: !0 }];
                            case 18:
                              return u.initial && u.mtime > d.mtime
                                ? (N.setStatus("Downloading " + h),
                                  [4, N.syncFileDown(e, u)])
                                : [3, 20];
                            case 19:
                              return D.sent(), [2, { value: f() }];
                            case 20:
                              if (
                                u.initial ||
                                d.folder ||
                                u.folder ||
                                u.deleted ||
                                "md" !== et(h) ||
                                u.hash === d.synchash
                              )
                                return [3, 41];
                              if (
                                (N.setStatus("Merging " + h),
                                N.log("Merging conflicted file", h),
                                !(
                                  (C = r.getAbstractFileByPath(h)) instanceof Ab
                                ))
                              )
                                return (
                                  N.log("Merge failed.", h, !0),
                                  [2, { value: f(!0) }]
                                );
                              (x = void 0), (D.label = 21);
                            case 21:
                              return (
                                D.trys.push([21, 23, , 24]), [4, r.read(C)]
                              );
                            case 22:
                              return (x = D.sent()), [3, 24];
                            case 23:
                              return (
                                (S = D.sent()),
                                N.log("Merge failed. " + S.toString(), h, !0),
                                [2, { value: f(!0) }]
                              );
                            case 24:
                              return x ? [3, 26] : [4, N.syncFileDown(e, u)];
                            case 25:
                              return D.sent(), [2, { value: f() }];
                            case 26:
                              if (((E = ""), !p || p.deleted)) return [3, 30];
                              D.label = 27;
                            case 27:
                              return (
                                D.trys.push([27, 29, , 30]),
                                (M = $),
                                [4, e.pull(p.uid)]
                              );
                            case 28:
                              return (E = M.apply(void 0, [D.sent()])), [3, 30];
                            case 29:
                              return (
                                (L = D.sent()),
                                N.log("Merge failed. " + L.toString(), h, !0),
                                [2, { value: f(!0) }]
                              );
                            case 30:
                              (A = void 0), (D.label = 31);
                            case 31:
                              return (
                                D.trys.push([31, 33, , 34]),
                                (T = $),
                                [4, e.pull(u.uid)]
                              );
                            case 32:
                              return (A = T.apply(void 0, [D.sent()])), [3, 34];
                            case 33:
                              return (
                                (P = D.sent()),
                                N.log("Merge failed. " + P.toString(), h, !0),
                                [2, { value: f(!0) }]
                              );
                            case 34:
                              return E === A || x === A
                                ? [2, { value: f() }]
                                : A
                                ? E
                                  ? [3, 39]
                                  : Math.abs(Date.now() - d.ctime) < 18e4
                                  ? (N.setStatus("Downloading " + h),
                                    [4, r.modify(C, A)])
                                  : [3, 36]
                                : [2, { value: f() }];
                            case 35:
                              return D.sent(), [2, { value: f() }];
                            case 36:
                              return u.mtime > d.mtime
                                ? (N.setStatus("Downloading " + h),
                                  [4, r.modify(C, A)])
                                : [3, 38];
                            case 37:
                              return D.sent(), [2, { value: f() }];
                            case 38:
                              return [2, { value: f() }];
                            case 39:
                              return (O = DF(E, x, A)), [4, r.modify(C, O)];
                            case 40:
                              return (
                                D.sent(),
                                N.log("Merge successful", h),
                                [2, { value: f() }]
                              );
                            case 41:
                              if (u.folder || u.deleted || !h.startsWith(c))
                                return [3, 50];
                              if ("json" !== et(h)) return [3, 48];
                              D.label = 42;
                            case 42:
                              return (
                                D.trys.push([42, 47, , 48]),
                                N.setStatus("Merging " + h),
                                N.log("Merging conflicted file", h),
                                (B = (I = JSON).parse),
                                [4, o.read(h)]
                              );
                            case 43:
                              return !(F = B.apply(I, [D.sent()])) ||
                                Array.isArray(F) ||
                                "object" != typeof F
                                ? [3, 46]
                                : ((H = (z = JSON).parse),
                                  (V = $),
                                  [4, e.pull(u.uid)]);
                            case 44:
                              if (
                                !(R = H.apply(z, [V.apply(void 0, [D.sent()])]))
                              )
                                return [3, 46];
                              for (q in R) R.hasOwnProperty(q) && (F[q] = R[q]);
                              return [
                                4,
                                o.write(h, JSON.stringify(F, void 0, 2)),
                              ];
                            case 45:
                              return (
                                D.sent(),
                                N.log("Merge successful", h),
                                [2, { value: f(!0) }]
                              );
                            case 46:
                              return [3, 48];
                            case 47:
                              return (
                                (j = D.sent()),
                                N.log("Merge failed. " + j.toString(), h, !0),
                                [3, 48]
                              );
                            case 48:
                              return [4, N.syncFileDown(e, u)];
                            case 49:
                              return D.sent(), [2, { value: f() }];
                            case 50:
                              return (
                                N.log("Rejected server change", h),
                                [2, { value: f(!0) }]
                              );
                          }
                        });
                      }),
                        (N = this),
                        (Z = 0),
                        (ne.label = 23);
                    case 23:
                      return Z < i.length ? [5, I(Z)] : [3, 26];
                    case 24:
                      if ("object" == typeof (B = ne.sent()))
                        return [2, B.value];
                      ne.label = 25;
                    case 25:
                      return Z++, [3, 23];
                    case 26:
                      if (!this.ready) return [2, !1];
                      for (j in ((R = null), (z = null), n))
                        if (
                          n.hasOwnProperty(j) &&
                          ((U = n[j]), !t.hasOwnProperty(j))
                        ) {
                          if (U.deleted) {
                            delete n[j];
                            continue;
                          }
                          if (!this.allowSyncFile(j, U.folder, c)) continue;
                          U.folder
                            ? (!z || U.path.length > z.path.length) && (z = U)
                            : (!R || U.path.length > R.path.length) && (R = U);
                        }
                      return R
                        ? ((j = R.path),
                          this.setStatus("Deleting remote file " + j),
                          this.log("Deleting remote file", j),
                          (this.syncingPath = j),
                          [4, e.push(j, !1, !0, 0, 0, "", null)])
                        : [3, 28];
                    case 27:
                      return (
                        ne.sent(), (R.deleted = !0), this.setDirty(), [2, !0]
                      );
                    case 28:
                      return z
                        ? ((j = z.path),
                          this.setStatus("Deleting remote folder " + j),
                          this.log("Deleting remote folder", j),
                          (this.syncingPath = j),
                          [4, e.push(j, !0, !0, 0, 0, "", null)])
                        : [3, 30];
                    case 29:
                      return (
                        ne.sent(), (z.deleted = !0), this.setDirty(), [2, !0]
                      );
                    case 30:
                      for (j in ((H = null), (V = null), t))
                        if (
                          t.hasOwnProperty(j) &&
                          ((q = t[j]), this.allowSyncFile(j, q.folder, c))
                        )
                          if (this.canSyncPath(s, j)) {
                            if (
                              ((U = n[j]),
                              mV &&
                                !q.folder &&
                                U &&
                                U.ctime &&
                                (0 === q.ctime || q.ctime > U.ctime) &&
                                !U.folder &&
                                !U.deleted &&
                                (q.ctime = U.ctime),
                              q.folder || !(q.size > 103809024))
                            )
                              if (U && !U.deleted) {
                                if (!H)
                                  if (q.folder) {
                                    if (!this.canSyncLocalFile(s, q)) {
                                      a++;
                                      continue;
                                    }
                                    U.folder ||
                                      ((!H || q.path.length < H.path.length) &&
                                        (H = q));
                                  } else if (U.folder) {
                                    if (!this.canSyncLocalFile(s, q)) {
                                      a++;
                                      continue;
                                    }
                                    z = U;
                                  } else if (
                                    (q.hash || this.getHashFromMetadataCache(q),
                                    !q.hash || q.hash !== U.hash)
                                  ) {
                                    if (!this.canSyncLocalFile(s, q)) {
                                      a++;
                                      continue;
                                    }
                                    (!V || q.size < V.size) && (V = q);
                                  }
                              } else {
                                if (!this.canSyncLocalFile(s, q)) {
                                  a++;
                                  continue;
                                }
                                q.folder
                                  ? (!H || q.path.length < H.path.length) &&
                                    (H = q)
                                  : (!V || q.size < V.size) && (V = q);
                              }
                          } else a++;
                      return H
                        ? ((j = H.path),
                          (this.syncingPath = j),
                          this.setStatus("Uploading " + j),
                          this.log("Uploading", j),
                          (G = this.version),
                          [4, e.push(j, !0, !1, 0, 0, "", null)])
                        : [3, 32];
                    case 31:
                      return (
                        ne.sent(),
                        (n[j] = {
                          uid: G,
                          path: j,
                          folder: !0,
                          deleted: !1,
                          ctime: 0,
                          mtime: 0,
                          size: 0,
                          hash: "",
                        }),
                        this.setDirty(),
                        (H.synctime = Date.now()),
                        [2, !0]
                      );
                    case 32:
                      return V
                        ? ((j = V.path),
                          (this.syncingPath = j),
                          this.setStatus("Uploading " + j),
                          (U = n[j]),
                          !V.hash &&
                          (this.getHashFromMetadataCache(V),
                          U && U.hash === V.hash)
                            ? (this.setDirty(), [2, !0])
                            : [4, o.readBinary(j)])
                        : [3, 36];
                    case 33:
                      return (W = ne.sent()), (_ = V), [4, X(W)];
                    case 34:
                      return (
                        (_.hash = ne.sent()),
                        U && U.hash === V.hash
                          ? (this.setDirty(), [2, !0])
                          : (this.log("Uploading file", j),
                            (G = this.version),
                            (K = V.ctime),
                            (Y = V.mtime),
                            (J = V.hash),
                            [4, e.push(j, !1, !1, K, Y, J, W)])
                      );
                    case 35:
                      for (
                        ne.sent(),
                          V.synchash = J,
                          this.log("Upload complete", j),
                          Q = !1,
                          Z = i.length - 1;
                        Z >= 0;
                        Z--
                      )
                        (ee = i[Z]).path === j &&
                          (ee.mtime !== Y || ee.hash !== J || Q
                            ? Q && i.splice(Z, 1)
                            : ((Q = !0), i.splice(Z, 1), (n[j] = ee)));
                      return (
                        Q ||
                          (n[j] = {
                            uid: G,
                            path: j,
                            folder: !1,
                            deleted: !1,
                            ctime: K,
                            mtime: Y,
                            size: W.byteLength,
                            hash: J,
                          }),
                        (V.synctime = Date.now()),
                        this.setDirty(),
                        [2, !0]
                      );
                    case 36:
                      return 0 === a
                        ? (this.log("Fully synced"),
                          this.setStatus("Fully synced"),
                          [2, !1])
                        : (this.setStatus("Indexing..."), [2, !0]);
                  }
                });
              });
            }),
            (t.prototype.setDirty = function () {
              (this.dirty = !0), this.trigger("status-change");
            }),
            (t.prototype.forceSaveData = function () {
              this.setDirty(), this.requestSaveData();
            }),
            (t.prototype.getHashFromMetadataCache = function (e) {
              var t = this.app.metadataCache.getFileInfo(e.path);
              t &&
                Math.ceil(t.mtime) === e.mtime &&
                t.size === e.size &&
                (e.hash = t.hash);
            }),
            (t.prototype.syncFileDown = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n, i, r, o, s, a, l, c, u, h, p, d;
                return D(this, function (f) {
                  switch (f.label) {
                    case 0:
                      return (
                        (n = t.path), [4, (i = this.vault.adapter).stat(n)]
                      );
                    case 1:
                      return (
                        (r = f.sent()),
                        t.folder
                          ? r && "folder" === r.type
                            ? [2]
                            : r && "file" === r.type
                            ? (this.log("Deleting local file", n),
                              [4, i.remove(n)])
                            : [3, 3]
                          : [3, 5]
                      );
                    case 2:
                      f.sent(), (f.label = 3);
                    case 3:
                      return (
                        this.log("Creating local folder", n), [4, i.mkdir(n)]
                      );
                    case 4:
                      return f.sent(), [2];
                    case 5:
                      return r && "folder" === r.type
                        ? [4, i.list(n)]
                        : [3, 10];
                    case 6:
                      return 0 !== (o = f.sent()).files.length ||
                        0 !== o.folders.length
                        ? [3, 8]
                        : (this.log("Deleting local folder", n),
                          [4, i.rmdir(n, !0)]);
                    case 7:
                      return f.sent(), [2];
                    case 8:
                      return (
                        this.log("Renaming conflicted file", n),
                        [4, i.rename(n, n + " (Conflicted copy)")]
                      );
                    case 9:
                      return f.sent(), [2];
                    case 10:
                      return (
                        this.log("Downloading file", n), [4, e.pull(t.uid)]
                      );
                    case 11:
                      if (!(s = f.sent()))
                        throw new Error("Failed to download file, no data.");
                      return [4, X(s)];
                    case 12:
                      return (a = f.sent()), [4, i.promise];
                    case 13:
                      return f.sent(), [4, i.stat(n)];
                    case 14:
                      if (
                        (l = f.sent()) &&
                        (!r || l.mtime !== r.mtime || l.size !== r.size)
                      )
                        throw new Error(
                          "Download cancelled because file was changed locally. Will try again soon."
                        );
                      return r
                        ? ((c = void 0),
                          t.ctime &&
                            (0 === r.ctime || t.ctime < r.ctime) &&
                            (c = t.ctime),
                          (u = this.vault.getAbstractFileByPath(n)) instanceof
                          Ab
                            ? u.saving
                              ? [4, i.promise]
                              : [3, 16]
                            : [3, 18])
                        : [3, 21];
                    case 15:
                      f.sent(), (f.label = 16);
                    case 16:
                      return [
                        4,
                        this.vault.modifyBinary(u, s, {
                          ctime: c,
                          mtime: t.mtime,
                        }),
                      ];
                    case 17:
                      return f.sent(), [3, 20];
                    case 18:
                      return [
                        4,
                        i.writeBinary(n, s, { ctime: c, mtime: t.mtime }),
                      ];
                    case 19:
                      f.sent(), (f.label = 20);
                    case 20:
                      return [3, 27];
                    case 21:
                      return (
                        (h = Je(n)),
                        (p = "/" !== h && "" !== h) ? [4, i.exists(h)] : [3, 23]
                      );
                    case 22:
                      (p = !f.sent()), (f.label = 23);
                    case 23:
                      return p ? [4, i.mkdir(h)] : [3, 25];
                    case 24:
                      f.sent(), (f.label = 25);
                    case 25:
                      return [
                        4,
                        i.writeBinary(n, s, { ctime: t.ctime, mtime: t.mtime }),
                      ];
                    case 26:
                      f.sent(), (f.label = 27);
                    case 27:
                      (d = this.localFiles[n]) &&
                        ((d.hash = a), (d.synchash = a)),
                        this.log("Downloading complete", n),
                        (f.label = 28);
                    case 28:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.updateHash = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return e.folder || e.hash
                        ? [2, null]
                        : [4, this.vault.adapter.readBinary(e.path)];
                    case 1:
                      return (t = i.sent()), (n = e), [4, X(t)];
                    case 2:
                      return (n.hash = i.sent()), [2, t];
                  }
                });
              });
            }),
            (t.prototype.updateStatusBar = function () {
              var e = this.getStatus(),
                t = this.statusIconEl;
              t &&
                (nn(t, this.syncStatus, { placement: "top" }),
                t.removeClass("mod-success", "mod-working", "mod-error"),
                "paused" === e
                  ? (Xy(t, wv, this.iconSize), t.addClass("mod-working"))
                  : "synced" === e
                  ? (Xy(t, bv, this.iconSize), t.addClass("mod-success"))
                  : "syncing" === e
                  ? (Xy(t, yv, this.iconSize), t.addClass("mod-working"))
                  : "error" === e &&
                    (Xy(t, yv, this.iconSize), t.addClass("mod-error")));
            }),
            (t.prototype.showVersionHistory = function (e) {
              return A(this, void 0, void 0, function () {
                return D(this, function (t) {
                  return new xV(this.app, this, e).open(), [2];
                });
              });
            }),
            (t.prototype.getHistory = function (e, t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [4, this.getServer()];
                    case 1:
                      return [4, n.sent().listHistory(e, t)];
                    case 2:
                      return [2, n.sent()];
                  }
                });
              });
            }),
            (t.prototype.getContentForVersion = function (e) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return [4, this.getServer()];
                    case 1:
                      return [2, t.sent().pull(e)];
                  }
                });
              });
            }),
            (t.prototype.restoreVersion = function (e) {
              return A(this, void 0, void 0, function () {
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return [4, this.getServer()];
                    case 1:
                      return [4, t.sent().restore(e)];
                    case 2:
                      return t.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.showDeletedFiles = function (e) {
              return A(this, void 0, void 0, function () {
                var t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [4, this.getServer()];
                    case 1:
                      return [4, n.sent().listDeleted()];
                    case 2:
                      return (
                        (t = n.sent()).reverse(),
                        e
                          ? new EV(
                              this.app,
                              this,
                              bV("label-deleted-files"),
                              t
                            ).open()
                          : new SV(
                              this.app,
                              this,
                              bV("label-deleted-files"),
                              t
                            ).open(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.showConfigFiles = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r;
                return D(this, function (o) {
                  for (i in ((e = []),
                  (t = this.serverFiles),
                  (n = this.app.vault.configDir + "/"),
                  t))
                    t.hasOwnProperty(i) &&
                      !(r = t[i]).folder &&
                      r.path.startsWith(n) &&
                      e.push({
                        uid: r.uid,
                        ts: r.mtime,
                        folder: r.folder,
                        path: r.path,
                        size: r.size,
                        deleted: r.deleted,
                        device: r.device,
                      });
                  return (
                    e.sort(function (e, t) {
                      return t.ts - e.ts;
                    }),
                    new SV(this.app, this, bV("label-setting-files"), e).open(),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.purge = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.getServer()];
                    case 1:
                      return [4, e.sent().purge()];
                    case 2:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.size = function () {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.getServer()];
                    case 1:
                      return [4, e.sent().size()];
                    case 2:
                      return [2, e.sent()];
                  }
                });
              });
            }),
            (t.prototype.openSettings = function () {
              var e = this.app.setting;
              e.open(),
                e.activeTab !== this.settingTab && e.openTabById(this.id);
            }),
            (t.prototype.showSyncLog = function () {
              this.vaultId && !this.pause
                ? new AV(this.app, this).open()
                : this.openSettings();
            }),
            (t.prototype.trigger = function (t) {
              for (var n = [], i = 1; i < arguments.length; i++)
                n[i - 1] = arguments[i];
              e.prototype.trigger.apply(this, P([t], n));
            }),
            (t.prototype.on = function (t, n, i) {
              return e.prototype.on.call(this, t, n, i);
            }),
            t
          );
        })(Sb),
        xV = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t) || this;
            return (
              (r.plugin = null),
              (r.history = null),
              (r.filepath = null),
              (r.historyListContainerEl = null),
              (r.historyListEl = null),
              (r.historyContentTextareaEl = null),
              (r.historyContentOtherEl = null),
              (r.historyContentCopyButtonEl = null),
              (r.historyContentContainerEl = null),
              (r.activeHistoryItemEl = null),
              (r.loadMoreButtonEl = null),
              (r.activeHistory = null),
              (r.plugin = n),
              (r.filepath = i),
              r
            );
          }
          return (
            M(t, e),
            (t.prototype.onOpen = function () {
              return A(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s = this;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (t = (e = this).modalEl),
                        (n = e.contentEl),
                        t.addClass("mod-sync-history"),
                        (i = this.historyListContainerEl =
                          n.createDiv("sync-history-list-container")),
                        (this.historyListEl = i.createDiv("sync-history-list")),
                        (this.loadMoreButtonEl = i.createDiv(
                          {
                            cls: "sync-history-load-more-button",
                            text: bV("label-load-more"),
                          },
                          function (e) {
                            e.addEventListener("click", s.fetchMore.bind(s));
                          }
                        )),
                        (r = this.historyContentContainerEl =
                          n.createDiv("sync-history-content-container")),
                        eb.isMobile &&
                          (r.detach(),
                          (o = r.createDiv(
                            { cls: "modal-setting-back-button" },
                            function (e) {
                              e.addEventListener("click", function () {
                                Gb(
                                  s.contentEl,
                                  s.historyListContainerEl,
                                  "left"
                                );
                              });
                            }
                          )).createSpan(
                            "modal-setting-back-button-icon",
                            function (e) {
                              Xy(e, Nm, 20);
                            }
                          ),
                          o.createSpan({
                            text: Lt("interface.start-screen.button-back"),
                          })),
                        (this.historyContentTextareaEl = r.createEl(
                          "textarea",
                          "sync-history-content"
                        )),
                        (this.historyContentOtherEl = r.createDiv(
                          "sync-history-content-other"
                        )),
                        r.createDiv(
                          "modal-button-container u-center-text",
                          function (e) {
                            (s.historyContentCopyButtonEl = e.createEl(
                              "button",
                              {
                                cls: "mod-cta",
                                text: Lt("interface.label-copy"),
                              },
                              function (e) {
                                e.addEventListener("click", function () {
                                  return A(s, void 0, void 0, function () {
                                    return D(this, function (e) {
                                      return (
                                        Pt(this.historyContentTextareaEl.value),
                                        new lw(
                                          Lt("interface.copied", { item: "" })
                                        ),
                                        [2]
                                      );
                                    });
                                  });
                                });
                              }
                            )),
                              e.createEl(
                                "button",
                                {
                                  cls: "mod-cta",
                                  text: bV("label-restore-this-version"),
                                },
                                function (e) {
                                  e.addEventListener("click", function () {
                                    return A(s, void 0, void 0, function () {
                                      return D(this, function (e) {
                                        switch (e.label) {
                                          case 0:
                                            return this.activeHistory ===
                                              this.history.items[0]
                                              ? (new lw(
                                                  bV(
                                                    "msg-already-latest-version"
                                                  )
                                                ),
                                                [2])
                                              : [
                                                  4,
                                                  this.plugin.restoreVersion(
                                                    this.activeHistory.uid
                                                  ),
                                                ];
                                          case 1:
                                            return (
                                              e.sent(),
                                              new lw(
                                                bV("msg-restored-version", {
                                                  time: window
                                                    .moment(
                                                      this.activeHistory.ts
                                                    )
                                                    .fromNow(),
                                                })
                                              ),
                                              this.close(),
                                              [2]
                                            );
                                        }
                                      });
                                    });
                                  });
                                }
                              );
                          }
                        ),
                        [4, this.fetchMore()]
                      );
                    case 1:
                      return a.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.openHistory = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i, r, o, s, a, l, c, u;
                return D(this, function (h) {
                  switch (h.label) {
                    case 0:
                      return (
                        (n = (t = this).historyContentContainerEl),
                        (i = t.historyContentTextareaEl),
                        (r = t.historyContentOtherEl),
                        (o = t.historyContentCopyButtonEl),
                        r.empty(),
                        e.deleted
                          ? ((i.value = bV("label-file-deleted")),
                            i.show(),
                            o.hide(),
                            r.hide(),
                            [3, 10])
                          : [3, 1]
                      );
                    case 1:
                      n.addClass("is-loading"), (h.label = 2);
                    case 2:
                      return (
                        h.trys.push([2, , 9, 10]),
                        (s = et(Ye(this.filepath))),
                        Ge.contains(s) || Ke.contains(s)
                          ? ((a = i),
                            (l = $),
                            [4, this.plugin.getContentForVersion(e.uid)])
                          : [3, 4]
                      );
                    case 3:
                      return (
                        (a.value = l.apply(void 0, [h.sent()])),
                        i.show(),
                        o.show(),
                        r.hide(),
                        [3, 8]
                      );
                    case 4:
                      return je.contains(s)
                        ? [4, this.plugin.getContentForVersion(e.uid)]
                        : [3, 6];
                    case 5:
                      return (
                        (c = h.sent()),
                        (u = URL.createObjectURL(
                          new Blob([c], { type: "image/" + s })
                        )),
                        Ot(r, u),
                        [3, 7]
                      );
                    case 6:
                      r.setText("Unable to preview " + s + " files"),
                        (h.label = 7);
                    case 7:
                      i.hide(), o.hide(), r.show(), (h.label = 8);
                    case 8:
                      return [3, 10];
                    case 9:
                      return n.removeClass("is-loading"), [7];
                    case 10:
                      return (
                        eb.isMobile &&
                          Gb(
                            this.contentEl,
                            this.historyContentContainerEl,
                            "right"
                          ),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.setActiveHistoryItem = function (e, t) {
              this.activeHistoryItemEl &&
                this.activeHistoryItemEl.removeClass("is-active"),
                (this.activeHistoryItemEl = e),
                e.addClass("is-active"),
                (this.activeHistory = t);
            }),
            (t.prototype.fetchMore = function () {
              return A(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g = this;
                return D(this, function (m) {
                  switch (m.label) {
                    case 0:
                      return (
                        (t = (e = this).contentEl),
                        (n = e.titleEl),
                        (i = e.modalEl),
                        (r = e.historyListEl),
                        (o = e.loadMoreButtonEl),
                        (s = null),
                        (a = !this.history),
                        this.history && (s = this.history.items.last().uid),
                        (l = this),
                        [4, this.plugin.getHistory(this.filepath, s)]
                      );
                    case 1:
                      return (
                        (l.history = m.sent()),
                        (c = this.history.items),
                        a
                          ? ((this.activeHistoryItemEl = null),
                            0 === c.length
                              ? (t.empty(),
                                n.setText("Version history"),
                                i.removeClass("mod-sync-history"),
                                t.createEl("p", {
                                  cls: "u-center-text",
                                  text: bV("label-no-earlier-version"),
                                }),
                                [2])
                              : eb.isMobile
                              ? [3, 3]
                              : [4, this.openHistory(c[0])])
                          : [3, 3]
                      );
                    case 2:
                      m.sent(), (m.label = 3);
                    case 3:
                      for (
                        u = function (e) {
                          if (e.folder) return "continue";
                          var t = r.createDiv({
                              cls: "sync-history-list-item",
                              text: window.moment(e.ts).format("LLLL"),
                            }),
                            n = t.createDiv("u-small u-muted");
                          e.deleted
                            ? n.setText(bV("label-file-deleted"))
                            : 0 === e.size
                            ? n.setText(bV("label-empty-file"))
                            : n.setText(ce(e.size)),
                            e.device && n.appendText(" [" + e.device + "]"),
                            t.addEventListener("click", function () {
                              return A(g, void 0, void 0, function () {
                                return D(this, function (n) {
                                  switch (n.label) {
                                    case 0:
                                      return [4, this.openHistory(e)];
                                    case 1:
                                      return (
                                        n.sent(),
                                        eb.isMobile ||
                                          this.setActiveHistoryItem(t, e),
                                        (this.activeHistory = e),
                                        [2]
                                      );
                                  }
                                });
                              });
                            }),
                            !a ||
                              h.activeHistoryItemEl ||
                              eb.isMobile ||
                              h.setActiveHistoryItem(t, e);
                        },
                          h = this,
                          p = 0,
                          d = c;
                        p < d.length;
                        p++
                      )
                        (f = d[p]), u(f);
                      return this.history.more || o.hide(), [2];
                  }
                });
              });
            }),
            t
          );
        })(vD),
        SV = (function (e) {
          function t(t, n, i, r) {
            var o = e.call(this, t) || this;
            return (
              (o.plugin = null),
              (o.history = []),
              (o.plugin = n),
              (o.title = i),
              (o.history = r),
              o
            );
          }
          return (
            M(t, e),
            (t.prototype.onOpen = function () {
              var e = this,
                t = this.titleEl,
                n = this.contentEl;
              t.setText(this.title),
                n.createEl("p", {
                  cls: "u-center-text",
                  text: bV("label-click-to-see-history"),
                });
              for (
                var i = n.createDiv("sync-file-tree-container"),
                  r = function (t) {
                    if (t.folder) return "continue";
                    var n = i.createDiv({ cls: "list-item deleted-file-item" });
                    n.createDiv({
                      cls: "list-item-part mod-extended",
                      text: at(t.path),
                    });
                    var r = window.moment(t.ts).fromNow();
                    t.device && (r = "[" + t.device + "] " + r),
                      n.createDiv({
                        cls: "u-muted u-small list-item-part",
                        text: r,
                      }),
                      n.addEventListener("click", function () {
                        e.plugin.showVersionHistory(t.path);
                      });
                  },
                  o = 0,
                  s = this.history;
                o < s.length;
                o++
              ) {
                r(s[o]);
              }
            }),
            t
          );
        })(vD),
        EV = (function (e) {
          function t(t, n, i, r) {
            var o = e.call(this, t) || this;
            return (
              (o.plugin = null),
              (o.history = []),
              (o.plugin = n),
              (o.title = i),
              (o.history = r),
              o
            );
          }
          return (
            M(t, e),
            (t.prototype.onOpen = function () {
              var e = this,
                t = this.titleEl,
                n = this.contentEl;
              t.setText(this.title);
              var i = n.createDiv("sync-file-tree-container"),
                r = [],
                o = n
                  .createEl("p", { cls: "u-center-text" })
                  .createEl("button", {
                    text: bV("button-restore-selected-files"),
                  });
              o.addEventListener("click", function () {
                return A(e, void 0, void 0, function () {
                  var e, t, n, i, o, s, a, l, c, u, h, p;
                  return D(this, function (d) {
                    switch (d.label) {
                      case 0:
                        (e = r
                          .filter(function (e) {
                            return e.checkboxEl.checked;
                          })
                          .map(function (e) {
                            return e.historyItem;
                          })),
                          (t = new lw(
                            bV("msg-restoring") + " (0/" + e.length + ")",
                            0
                          )),
                          (n = 0),
                          (i = 0),
                          (o = 0),
                          (s = e),
                          (d.label = 1);
                      case 1:
                        if (!(o < s.length)) return [3, 11];
                        (a = s[o]), (d.label = 2);
                      case 2:
                        return (
                          d.trys.push([2, 8, , 9]),
                          [4, this.plugin.getHistory(a.path, null)]
                        );
                      case 3:
                        (l = d.sent()), (c = 0), (u = l.items), (d.label = 4);
                      case 4:
                        return c < u.length
                          ? (h = u[c]).deleted
                            ? [3, 6]
                            : [4, this.plugin.restoreVersion(h.uid)]
                          : [3, 7];
                      case 5:
                        return d.sent(), n++, [3, 7];
                      case 6:
                        return c++, [3, 4];
                      case 7:
                        return i++, [3, 9];
                      case 8:
                        return (p = d.sent()), console.error(p), [3, 9];
                      case 9:
                        t.setMessage(
                          bV("msg-restoring-count") +
                            " (" +
                            i +
                            "/" +
                            e.length +
                            ")"
                        ),
                          (d.label = 10);
                      case 10:
                        return o++, [3, 1];
                      case 11:
                        return (
                          setTimeout(function () {
                            return t.hide();
                          }, 4e3),
                          new lw(
                            bV("msg-restoring-complete", {
                              succeeded: n,
                              failed: e.length - n,
                            })
                          ),
                          [2]
                        );
                    }
                  });
                });
              });
              for (
                var s = 0,
                  a = function (e) {
                    if (e.folder) return "continue";
                    var t = i.createDiv({ cls: "list-item deleted-file-item" }),
                      n = t.createEl("input", { type: "checkbox" }),
                      a = { checkboxEl: n, historyItem: e };
                    t.createDiv({
                      cls: "list-item-part mod-extended",
                      text: at(e.path),
                    });
                    var l = window.moment(e.ts).fromNow();
                    e.device && (l = "[" + e.device + "] " + l),
                      t.createDiv({
                        cls: "u-muted u-small list-item-part",
                        text: l,
                      }),
                      t.addEventListener("click", function (e) {
                        var t = r.indexOf(a),
                          i = !n.checked;
                        if (e.shiftKey)
                          for (
                            var l = Math.min(s, t), c = Math.max(s, t), u = l;
                            u <= c;
                            u++
                          )
                            r[u].checkboxEl.checked = i;
                        (s = t),
                          e.target !== n && (n.checked = i),
                          setTimeout(function () {
                            var e = r.filter(function (e) {
                              return e.checkboxEl.checked;
                            }).length;
                            o.setText(
                              bV("button-restore-selected-files") +
                                " (" +
                                e +
                                ")"
                            ),
                              o.toggleClass("mod-cta", e > 0);
                          }, 5);
                      }),
                      r.push(a);
                  },
                  l = 0,
                  c = this.history;
                l < c.length;
                l++
              ) {
                a(c[l]);
              }
            }),
            t
          );
        })(vD),
        MV = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (
              (i.plugin = null),
              (i.vaultName = ""),
              (i.useOwnKey = !0),
              (i.key = ""),
              (i.errorEl = null),
              (i.plugin = n),
              i
                .setTitle(bV("label-create-remote-vault"))
                .addButton("mod-cta", "Create", i.onCreateVault.bind(i))
                .addCancelButton(),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.onCreateVault = function () {
              return A(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u = this;
                return D(this, function (h) {
                  switch (h.label) {
                    case 0:
                      return (
                        (t = (e = this).app),
                        (n = e.vaultName),
                        (i = e.useOwnKey),
                        (r = e.key),
                        (o = e.errorEl),
                        (s = e.plugin),
                        o.hide(),
                        (a = ""),
                        !0 === i &&
                          "" === r &&
                          (a = bV("msg-please-enter-password")),
                        "" === n && (a = bV("msg-vault-name-cannot-be-empty")),
                        a
                          ? (o.setText(a), o.show(), [2, !0])
                          : ((c = null),
                            i
                              ? ((l = s.getSalt()), [4, s.makeKeyHash(r, l)])
                              : [3, 2])
                      );
                    case 1:
                      (c = h.sent()), (h.label = 2);
                    case 2:
                      return (
                        t.account.createVault(n, c, l, function (e) {
                          if (e.error) return o.setText(e.error), void o.show();
                          t.account.getVaults(function () {
                            u.close(),
                              new lw(
                                bV("msg-successfully-created-vault", {
                                  name: n,
                                })
                              ),
                              u.plugin.openChooseRemoteVaultModal();
                          });
                        }),
                        [2, !0]
                      );
                  }
                });
              });
            }),
            (t.prototype.onOpen = function () {
              var e = this;
              (this.vaultName = ""), (this.useOwnKey = !0), (this.key = "");
              var t = this.contentEl;
              t.empty(),
                t.createDiv("message-container", function (t) {
                  (e.errorEl = t.createDiv("message mod-error")),
                    e.errorEl.hide();
                }),
                t.createEl("p", { text: bV("label-remote-vault-explanation") }),
                new ZD(t)
                  .setName(bV("option-vault-name"))
                  .setDesc(bV("option-vault-name-desc"))
                  .addText(function (t) {
                    return t
                      .setPlaceholder(bV("option-vault-name-placeholder"))
                      .onChange(function (t) {
                        return (e.vaultName = t);
                      });
                  });
              var n = null;
              new ZD(t)
                .setName(bV("option-use-custom-encryption-password"))
                .setDesc(
                  createFragment(function (e) {
                    e.createDiv({
                      text: bV("option-use-custom-encryption-password-desc"),
                    }),
                      e.createDiv({
                        cls: "mod-warning",
                        text: bV(
                          "option-use-custom-encryption-password-desc-warning"
                        ),
                      });
                  })
                )
                .addToggle(function (t) {
                  return t.setValue(!0).onChange(function (t) {
                    n.settingEl.toggle(t), (e.useOwnKey = t);
                  });
                }),
                (n = new ZD(t)
                  .setName(bV("option-encryption-password"))
                  .setDesc(
                    createFragment(function (e) {
                      e.createDiv({
                        text: bV("option-encryption-password-desc"),
                      }),
                        e.createDiv({
                          cls: "mod-warning",
                          text: bV("option-encryption-password-desc-warning"),
                        }),
                        e.createDiv({
                          text: bV("option-encryption-password-desc-2"),
                        });
                    })
                  )
                  .addText(function (t) {
                    (t.inputEl.type = "password"),
                      t
                        .setPlaceholder(
                          bV("option-encryption-password-placeholder")
                        )
                        .onChange(function (t) {
                          return (e.key = t);
                        });
                  }));
            }),
            t
          );
        })(yD),
        LV = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t) || this;
            (r.plugin = null),
              (r.promptKeyModal = null),
              (r.settingTab = null),
              (r.keyInputEl = null),
              (r.currentVaultInfo = null),
              (r.errorEl = null),
              (r.settingTab = i);
            var o = document.createDocumentFragment(),
              s = o.createDiv("loader-cube", function (e) {
                for (var t = 1; t <= 9; t++)
                  e.createDiv({ cls: "sk-cube sk-cube" + t });
              });
            s.hide();
            var a = o.createDiv({}, function (e) {
              e.createDiv("message-container", function (e) {
                r.errorEl = e.createDiv("message mod-error");
              }),
                r.errorEl.hide(),
                e.createEl("p", "u-center-text", function (e) {
                  e.createEl("label", {
                    cls: "input-label",
                    text: bV("option-encryption-password"),
                  }),
                    (r.keyInputEl = e.createEl(
                      "input",
                      { type: "password" },
                      function (e) {
                        e.setAttribute(
                          "placeholder",
                          bV("option-encryption-password-placeholder")
                        );
                      }
                    ));
                });
            });
            return (
              (r.plugin = n),
              (r.promptKeyModal = new yD(t)
                .setTitle(bV("label-enter-encryption-password"))
                .setContent(o)
                .addButton("mod-cta", bV("button-unlock-vault"), function () {
                  return A(r, void 0, void 0, function () {
                    var e, n, i;
                    return D(this, function (r) {
                      switch (r.label) {
                        case 0:
                          s.show(),
                            a.hide(),
                            this.errorEl.hide(),
                            (e = this.keyInputEl.value),
                            (r.label = 1);
                        case 1:
                          return (
                            r.trys.push([1, 5, , 6]),
                            (n = this.currentVaultInfo),
                            [
                              4,
                              this.plugin.verifyPassword(
                                n.id,
                                e,
                                n.salt,
                                n.host
                              ),
                            ]
                          );
                        case 2:
                          return (
                            r.sent(),
                            new lw(bV("msg-verified-password")),
                            [
                              4,
                              this.plugin.setup(
                                n.id,
                                n.name,
                                e,
                                n.salt,
                                n.host
                              ),
                            ]
                          );
                        case 3:
                          return r.sent(), [4, this.plugin.setPause(!0)];
                        case 4:
                          return (
                            r.sent(),
                            new BV(
                              t,
                              this.plugin,
                              this.settingTab,
                              n.name
                            ).open(),
                            this.promptKeyModal.close(),
                            this.onOpen(),
                            [3, 6]
                          );
                        case 5:
                          return (
                            (i = r.sent()),
                            console.error(i),
                            i instanceof XMLHttpRequest
                              ? this.errorEl.setText(
                                  Lt("plugins.publish.msg-network-error")
                                )
                              : this.errorEl.setText(i.message),
                            this.errorEl.show(),
                            [3, 6]
                          );
                        case 6:
                          return a.show(), s.hide(), [2, !0];
                      }
                    });
                  });
                })
                .addCancelButton()),
              r
            );
          }
          return (
            M(t, e),
            (t.prototype.onOpen = function () {
              var e = this,
                t = this.contentEl;
              t.empty();
              var n = t.createDiv(),
                i = this.plugin.getRemoteVaultId();
              this.titleEl.setText(bV("label-remote-vaults"));
              var r = t.createDiv("loader-cube", function (e) {
                for (var t = 1; t <= 9; t++)
                  e.createDiv({ cls: "sk-cube sk-cube" + t });
              });
              this.app.account.getVaults(function (t) {
                n.empty();
                for (
                  var o = n.createDiv("vault-list"),
                    s = function (t) {
                      var s = i === t.id;
                      o.createDiv("vault-list-item list-item", function (o) {
                        o.toggleClass("is-connected", s),
                          o.createDiv(
                            "vault-list-item-icon list-item-part",
                            function (e) {
                              Xy(e, s ? sv : ov, 16);
                            }
                          ),
                          o.createDiv({
                            cls: "vault-list-item-title list-item-part",
                            text: t.name,
                          }),
                          o.createDiv({
                            cls: "vault-list-item-creation-time list-item-part mod-extended",
                            text: bV("label-vault-created-time", {
                              time: window.moment(t.created).fromNow(),
                            }),
                          }),
                          s ||
                            o.createDiv(
                              "list-item-part clickable-icon",
                              function (i) {
                                Xy(i, um),
                                  nn(i, bV("tooltip-delete-remote-vault")),
                                  i.addEventListener("click", function () {
                                    var i = document.createDocumentFragment();
                                    i.createEl("p", {
                                      text: bV(
                                        "label-confirm-delete-remote-vault-question"
                                      ),
                                    }),
                                      i.createEl("p", {
                                        text: bV(
                                          "label-confirm-delete-remote-vault-result"
                                        ),
                                      }),
                                      i.createEl("p", {
                                        cls: "mod-warning",
                                        text: bV(
                                          "label-confirm-delete-remote-vault-warning"
                                        ),
                                      }),
                                      new yD(e.app)
                                        .setTitle(
                                          bV(
                                            "label-confirm-delete-remote-vault"
                                          )
                                        )
                                        .setContent(i)
                                        .addButton(
                                          "mod-warning",
                                          "Delete",
                                          function () {
                                            n.hide(),
                                              r.show(),
                                              e.app.account.deleteVault(
                                                t.id,
                                                function () {
                                                  new lw(
                                                    bV(
                                                      "msg-remote-vault-deleted",
                                                      { name: t.name }
                                                    )
                                                  ),
                                                    e.open();
                                                }
                                              );
                                          }
                                        )
                                        .addCancelButton()
                                        .open();
                                  });
                              }
                            ),
                          s
                            ? o
                                .createEl("button", {
                                  cls: "list-item-part vault-list-item-button",
                                  text: bV(
                                    "button-disconnect-from-remote-vault"
                                  ),
                                })
                                .addEventListener("click", function () {
                                  return A(e, void 0, void 0, function () {
                                    return D(this, function (e) {
                                      switch (e.label) {
                                        case 0:
                                          return (
                                            n.hide(),
                                            r.show(),
                                            [4, this.plugin.unsetup()]
                                          );
                                        case 1:
                                          return e.sent(), this.open(), [2];
                                      }
                                    });
                                  });
                                })
                            : i ||
                              o.createEl(
                                "button",
                                {
                                  cls: "list-item-part vault-list-item-button",
                                  text: bV("button-connect-to-remote-vault"),
                                },
                                function (i) {
                                  i.addClass("mod-cta"),
                                    i.addEventListener("click", function () {
                                      var i = function () {
                                          return A(
                                            e,
                                            void 0,
                                            void 0,
                                            function () {
                                              return D(this, function (e) {
                                                switch (e.label) {
                                                  case 0:
                                                    return t.password
                                                      ? [3, 1]
                                                      : ((this.currentVaultInfo =
                                                          t),
                                                        (this.keyInputEl.value =
                                                          ""),
                                                        this.promptKeyModal.open(),
                                                        [3, 4]);
                                                  case 1:
                                                    return (
                                                      n.hide(),
                                                      r.show(),
                                                      [
                                                        4,
                                                        this.plugin.setup(
                                                          t.id,
                                                          t.name,
                                                          t.password,
                                                          t.salt,
                                                          t.host
                                                        ),
                                                      ]
                                                    );
                                                  case 2:
                                                    return (
                                                      e.sent(),
                                                      [
                                                        4,
                                                        this.plugin.setPause(
                                                          !0
                                                        ),
                                                      ]
                                                    );
                                                  case 3:
                                                    e.sent(),
                                                      this.close(),
                                                      new BV(
                                                        o,
                                                        this.plugin,
                                                        this.settingTab,
                                                        t.name
                                                      ).open(),
                                                      (e.label = 4);
                                                  case 4:
                                                    return [2];
                                                }
                                              });
                                            }
                                          );
                                        },
                                        o = e.app;
                                      o.vault.getFiles().length > 0
                                        ? new yD(o)
                                            .setTitle(
                                              bV("label-confirm-merge-vault")
                                            )
                                            .setContent(
                                              createFragment(function (e) {
                                                e.createEl("p", {
                                                  text: bV(
                                                    "msg-vault-has-notes"
                                                  ),
                                                }),
                                                  e.createEl("p", {
                                                    text: bV(
                                                      "msg-merge-warning",
                                                      { name: t.name }
                                                    ),
                                                  });
                                              })
                                            )
                                            .addButton(
                                              "mod-cta",
                                              Lt("dialogue.button-continue"),
                                              i
                                            )
                                            .addCancelButton()
                                            .open()
                                        : i();
                                    });
                                }
                              );
                      });
                    },
                    a = 0,
                    l = t;
                  a < l.length;
                  a++
                ) {
                  s(l[a]);
                }
                0 === t.length &&
                  n.createDiv("vault-empty-state", function (e) {
                    e.createEl("p", { text: bV("label-not-remote-vaults") });
                  }),
                  t.length < 5 &&
                    n.createDiv("button-container u-center-text", function (t) {
                      t.createEl(
                        "button",
                        {
                          cls: "mod-cta js-create-vault",
                          text: bV("button-create-new-remote-vault"),
                        },
                        function (t) {
                          t.addEventListener("click", function () {
                            new MV(e.app, e.plugin).open();
                          });
                        }
                      );
                    }),
                  r.hide();
              });
            }),
            (t.prototype.onClose = function () {
              e.prototype.onClose.call(this), this.settingTab.display();
            }),
            t
          );
        })(vD),
        AV = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            (i.plugin = null),
              (i.syncLog = []),
              (i.syncLogContainerEl = null),
              (i.errorOnly = !1),
              (i.updateSyncLog = function () {
                for (
                  var e = i.syncLogContainerEl,
                    t = (i.syncLog = i.plugin.syncLog),
                    n = function (e) {
                      if (e.el) return "continue";
                      (e.el = createDiv("list-item", function (t) {
                        var n,
                          i =
                            window.moment(e.ts).format("YYYY-MM-DD HH:mm") +
                            " - " +
                            e.info +
                            " " +
                            (null !== (n = e.file) && void 0 !== n ? n : "");
                        t.createSpan({ text: i });
                      })),
                        e.error && e.el.addClass("mod-error");
                    },
                    r = 0,
                    o = t;
                  r < o.length;
                  r++
                ) {
                  n(o[r]);
                }
                i.errorOnly &&
                  (t = t.filter(function (e) {
                    return e.error;
                  })),
                  e.setChildrenInPlace(
                    t.map(function (e) {
                      return e.el;
                    })
                  ),
                  (e.scrollTop = e.scrollHeight);
              }),
              (i.plugin = n);
            var r = i,
              o = r.titleEl,
              s = r.contentEl;
            return (
              r.modalEl.addClass("mod-sync-log"),
              o.setText(bV("label-sync-log")),
              new ZD(s)
                .setName(bV("options-only-show-errors"))
                .setDesc(bV("options-only-show-errors-desc"))
                .addToggle(function (e) {
                  return e.onChange(function (e) {
                    (i.errorOnly = e), i.updateSyncLog();
                  });
                }),
              (i.syncLogContainerEl = s.createDiv("sync-log-container")),
              s.createDiv("modal-button-container", function (e) {
                e
                  .createEl("button", {
                    text: bV("button-copy-sync-log"),
                    cls: "mod-cta",
                  })
                  .addEventListener("click", i.onCopyResults.bind(i)),
                  e
                    .createEl("button", { text: Lt("dialogue.button-done") })
                    .addEventListener("click", function () {
                      return i.close();
                    });
              }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.onOpen = function () {
              e.prototype.onOpen.call(this),
                this.updateSyncLog(),
                this.plugin.on("new-log", this.updateSyncLog);
            }),
            (t.prototype.onClose = function () {
              this.plugin.off("new-log", this.updateSyncLog),
                e.prototype.onClose.call(this);
            }),
            (t.prototype.onCopyResults = function () {
              for (var e = "", t = 0, n = this.syncLog; t < n.length; t++) {
                var i = n[t];
                (e += "" + window.moment(i.ts).format("YYYY-MM-DD HH:mm")),
                  (e += " - " + i.info),
                  i.file && (e += " " + i.file),
                  (e += "\n");
              }
              Pt(e), new lw(bV("msg-successfully-copied-sync-log"));
            }),
            t
          );
        })(vD),
        DV = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t, n) || this;
            return (
              (r.vaults = []),
              (r.manageExcludedFoldersModal = null),
              (r.sync = i),
              (r.manageExcludedFoldersModal = new IV(t, i, r)),
              r
            );
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              return A(this, void 0, Promise, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g = this;
                return D(this, function (m) {
                  switch (m.label) {
                    case 0:
                      if (
                        ((t = (e = this).app),
                        (n = e.sync),
                        (i = e.containerEl),
                        (r = t.account),
                        i.empty(),
                        (o = n.getRemoteVaultId()),
                        (s = n.getRemoteVaultName()),
                        !r.email)
                      )
                        return this.displayRequireLogin(), [2];
                      if (o) return [3, 7];
                      if (
                        ((a = i.createDiv("loader-cube", function (e) {
                          for (var t = 1; t <= 9; t++)
                            e.createDiv({ cls: "sk-cube sk-cube" + t });
                        })),
                        r.email)
                      )
                        return [3, 5];
                      m.label = 1;
                    case 1:
                      return m.trys.push([1, 3, , 4]), [4, r.getUserInfo()];
                    case 2:
                      return m.sent(), [3, 4];
                    case 3:
                      return (
                        m.sent(),
                        a.hide(),
                        i.createEl("p", {
                          text: Lt("plugins.publish.msg-network-error"),
                        }),
                        i.createDiv("modal-button-container", function (e) {
                          e.createEl(
                            "button",
                            { cls: "mod-cta", text: bV("button-retry") },
                            function (e) {
                              e.addEventListener("click", function () {
                                g.display();
                              });
                            }
                          );
                        }),
                        [2]
                      );
                    case 4:
                      if (!r.email) return this.displayRequireLogin(), [2];
                      m.label = 5;
                    case 5:
                      return [4, r.getSubscriptions()];
                    case 6:
                      if (((l = m.sent()), a.hide(), !l.sync))
                        return (
                          i.createEl("p", {
                            cls: "u-center-text",
                            text: bV("label-no-sync-subscription"),
                          }),
                          i.createDiv("modal-button-container", function (e) {
                            e.createEl(
                              "button",
                              {
                                cls: "mod-cta",
                                text: bV("button-purchase-subscription"),
                              },
                              function (e) {
                                e.addEventListener("click", function () {
                                  window.open(
                                    "http://obsidian.md/pricing",
                                    "_blank"
                                  );
                                });
                              }
                            );
                          }),
                          [2]
                        );
                      m.label = 7;
                    case 7:
                      return (
                        i.empty(),
                        (c = new ZD(i).setName(bV("option-pick-remote-vault"))),
                        s
                          ? (c.setDesc(
                              bV("option-pick-remote-vault-desc-connected", {
                                name: s,
                              })
                            ),
                            c.addExtraButton(function (e) {
                              return e
                                .setIcon(Jm)
                                .setTooltip(
                                  bV("button-disconnect-from-remote-vault")
                                )
                                .onClick(function () {
                                  return A(g, void 0, void 0, function () {
                                    return D(this, function (e) {
                                      switch (e.label) {
                                        case 0:
                                          return [4, this.sync.unsetup()];
                                        case 1:
                                          return e.sent(), [4, this.display()];
                                        case 2:
                                          return e.sent(), [2];
                                      }
                                    });
                                  });
                                });
                            }))
                          : c.setDesc(
                              bV("option-pick-remote-vault-desc-not-connected")
                            ),
                        c.addButton(function (e) {
                          return e.setButtonText("Choose").onClick(function () {
                            n.openChooseRemoteVaultModal();
                          });
                        }),
                        o &&
                          (n.getPause()
                            ? new ZD(i)
                                .setName(bV("option-sync-status"))
                                .setDesc(bV("option-sync-status-desc-paused"))
                                .addButton(function (e) {
                                  return e
                                    .setButtonText(bV("button-resume"))
                                    .setCta()
                                    .onClick(function () {
                                      n.setPause(!1),
                                        n.requestSync(),
                                        g.display();
                                    });
                                })
                            : new ZD(i)
                                .setName(bV("option-sync-status"))
                                .setDesc(bV("option-sync-status-desc-running"))
                                .addButton(function (e) {
                                  return e
                                    .setButtonText(bV("button-pause"))
                                    .onClick(function () {
                                      n.setPause(!0), g.display();
                                    });
                                }),
                          new ZD(i)
                            .setName(bV("option-device-name"))
                            .setDesc(bV("option-device-name-desc"))
                            .addText(function (e) {
                              return e
                                .setPlaceholder(n.getDefaultDeviceName())
                                .setValue(n.deviceName)
                                .onChange(function (e) {
                                  (n.deviceName = e), n.forceSaveData();
                                });
                            }),
                          new ZD(i)
                            .setName(bV("option-view-deleted-files"))
                            .setDesc(bV("option-view-deleted-files-desc"))
                            .addButton(function (e) {
                              return e
                                .setButtonText(bV("button-view"))
                                .onClick(function () {
                                  return n.showDeletedFiles();
                                });
                            })
                            .addButton(function (e) {
                              return e
                                .setButtonText(bV("button-bulk-restore"))
                                .onClick(function () {
                                  return n.showDeletedFiles(!0);
                                });
                            }),
                          new ZD(i)
                            .setName(bV("option-sync-log"))
                            .setDesc(bV("option-sync-log-desc"))
                            .addButton(function (e) {
                              return e
                                .setButtonText(bV("button-view"))
                                .onClick(function () {
                                  return n.showSyncLog();
                                });
                            }),
                          (h = function () {
                            return A(g, void 0, void 0, function () {
                              var e, t, i, r;
                              return D(this, function (o) {
                                switch (o.label) {
                                  case 0:
                                    return [4, n.size()];
                                  case 1:
                                    return (
                                      (e = o.sent()),
                                      (t = e.size > e.limit),
                                      p.settingEl.toggle(t),
                                      (i = e.size < 0 ? "Unknown" : ce(e.size)),
                                      (r =
                                        e.limit < 0 ? "Unknown" : ce(e.limit)),
                                      u.setText(
                                        bV("option-over-size-desc", {
                                          size: i,
                                          limit: r,
                                        })
                                      ),
                                      [2]
                                    );
                                }
                              });
                            });
                          }),
                          (p = new ZD(i)
                            .setName(bV("option-over-size"))
                            .setDesc(
                              createFragment(function (e) {
                                u = e.createSpan({ text: "" });
                              })
                            )
                            .addButton(function (e) {
                              return e
                                .setButtonText(bV("msg-largest-files"))
                                .onClick(function () {
                                  new NV(t, n).open();
                                });
                            })
                            .addButton(function (e) {
                              return e
                                .setWarning()
                                .setButtonText(bV("button-purge-remote"))
                                .setTooltip(bV("tooltip-purge-remote"))
                                .onClick(function () {
                                  return A(g, void 0, void 0, function () {
                                    return D(this, function (e) {
                                      switch (e.label) {
                                        case 0:
                                          return [4, n.purge()];
                                        case 1:
                                          return (
                                            e.sent(),
                                            new lw(bV("msg-purge-complete")),
                                            [4, h()]
                                          );
                                        case 2:
                                          return e.sent(), [2];
                                      }
                                    });
                                  });
                                });
                            })).settingEl.hide(),
                          h(),
                          new ZD(i)
                            .setHeading()
                            .setName(bV("option-selective-sync")),
                          new ZD(i)
                            .setName(bV("option-excluded-folders"))
                            .setDesc(
                              createFragment(function (e) {
                                var t = g.sync.ignoreFolders;
                                if (
                                  (e.appendText(
                                    bV("option-excluded-folder-desc")
                                  ),
                                  t.length > 0)
                                ) {
                                  e.appendText(
                                    bV("option-currently-excluded-folders")
                                  );
                                  for (
                                    var n = e.createEl("ul"), i = 0, r = t;
                                    i < r.length;
                                    i++
                                  ) {
                                    var o = r[i];
                                    n.createEl("li", { text: o });
                                  }
                                }
                              })
                            )
                            .addButton(function (e) {
                              return e
                                .setButtonText(
                                  bV("button-manage-excluded-folders")
                                )
                                .onClick(function () {
                                  g.manageExcludedFoldersModal.open();
                                });
                            }),
                          (d = function (e, t) {
                            new ZD(i)
                              .setName(bV("option-sync-" + e))
                              .setDesc(bV("option-sync-" + e + "-desc", t))
                              .addToggle(function (t) {
                                return t
                                  .setValue(n.allowTypes.has(e))
                                  .onChange(function (t) {
                                    return n.setSyncType(e, t);
                                  });
                              });
                          })("image", { extensions: je.join(", ") }),
                          d("audio", { extensions: Ue.join(", ") }),
                          d("video", { extensions: We.join(", ") }),
                          d("pdf"),
                          d("unsupported"),
                          (f = function (e) {
                            new ZD(i)
                              .setName(bV("option-sync-" + e))
                              .setDesc(bV("option-sync-" + e + "-desc"))
                              .addToggle(function (t) {
                                return t
                                  .setValue(n.allowSpecialFiles.has(e))
                                  .onChange(function (t) {
                                    return n.setAllowSpecialFile(e, t);
                                  });
                              });
                          }),
                          new ZD(i)
                            .setHeading()
                            .setName(bV("option-vault-config-sync")),
                          new ZD(i)
                            .setName(bV("option-view-config-files"))
                            .setDesc(bV("option-view-config-files-desc"))
                            .addButton(function (e) {
                              return e
                                .setButtonText(bV("button-view"))
                                .onClick(function () {
                                  return n.showConfigFiles();
                                });
                            }),
                          f("app"),
                          f("appearance"),
                          f("appearance-data"),
                          f("hotkey"),
                          f("core-plugin"),
                          f("core-plugin-data"),
                          f("community-plugin"),
                          f("community-plugin-data")),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.displayRequireLogin = function () {
              var e = this,
                t = this.containerEl;
              t.createEl("p", {
                text: "Obsidian Sync is Obsidian's add-on sync service with end-to-end encryption and version history.",
              }),
                t.createEl("p", {
                  text: "To start syncing, please log in or create a new Obsidian account.",
                }),
                t.createDiv("modal-button-container", function (t) {
                  t.createEl(
                    "button",
                    { cls: "mod-cta", text: bV("button-sign-up") },
                    function (e) {
                      e.addEventListener("click", function () {
                        window.open("http://obsidian.md/account", "_blank");
                      });
                    }
                  ),
                    t.createEl(
                      "button",
                      { text: bV("button-log-in") },
                      function (t) {
                        t.addEventListener("click", function () {
                          e.setting.openTabById("account");
                        });
                      }
                    );
                });
            }),
            t
          );
        })(sB),
        TV = (function () {
          function e(e, t) {
            (this.socket = null),
              (this.queue = new jh()),
              (this.cryptoKey = null),
              (this.keyhash = null),
              (this.cryptoKey = e),
              (this.keyhash = t);
          }
          return (
            (e.prototype.isConnecting = function () {
              var e = this.socket;
              return e && e.readyState === fV.CONNECTING;
            }),
            (e.prototype.isConnected = function () {
              var e = this.socket;
              return e && e.readyState === fV.OPEN;
            }),
            (e.prototype.hasConnection = function () {
              return !!this.socket;
            }),
            (e.prototype.connect = function (e, t, n, i, r, o, s, a) {
              return A(this, void 0, Promise, function () {
                var l = this;
                return D(this, function (c) {
                  return this.hasConnection()
                    ? [2]
                    : ((this.onReady = s),
                      (this.onPush = a),
                      [
                        2,
                        new Promise(function (s, a) {
                          var c = !1,
                            u = function (e) {
                              c || ((c = !0), l.disconnect(), a(e));
                            },
                            h = (l.socket = new fV(e));
                          (h.binaryType = "arraybuffer"),
                            (h.onclose = function (e) {
                              u(
                                new Error(
                                  "Disconnected. Code: " +
                                    e.code +
                                    " " +
                                    (function (e) {
                                      if (e >= 0 && e <= 999) return "(Unused)";
                                      if (e >= 1016) {
                                        if (e <= 1999)
                                          return "(For WebSocket standard)";
                                        if (e <= 2999)
                                          return "(For WebSocket extensions)";
                                        if (e <= 3999)
                                          return "(For libraries and frameworks)";
                                        if (e <= 4999)
                                          return "(For applications)";
                                      }
                                      return dV.hasOwnProperty(e)
                                        ? dV[e]
                                        : "(Unknown)";
                                    })(e.code)
                                )
                              );
                            }),
                            (h.onopen = function () {
                              (l.lastMessageTs = Date.now()),
                                (l.heartbeat = window.setInterval(function () {
                                  var e = Date.now() - l.lastMessageTs;
                                  e > 12e4
                                    ? l.disconnect()
                                    : e > 1e4 && l.send({ op: "ping" });
                                }, 2e4)),
                                l.send({
                                  op: "init",
                                  token: t,
                                  id: n,
                                  keyhash: l.keyhash,
                                  version: i,
                                  initial: r,
                                  device: o,
                                });
                            }),
                            (h.onmessage = function (e) {
                              var t,
                                n = e.data;
                              if ("string" != typeof n)
                                return u(new Error("Server returned binary"));
                              try {
                                t = JSON.parse(n);
                              } catch (e) {
                                return (
                                  console.error(e),
                                  u(
                                    new Error(
                                      "Server JSON failed to parse: " + n
                                    )
                                  )
                                );
                              }
                              return "err" === t.status
                                ? u(
                                    new Error(
                                      "Failed to authenticated: " + t.msg
                                    )
                                  )
                                : "ok" !== t.res
                                ? u(
                                    new Error(
                                      "Did not respond to login request: " + n
                                    )
                                  )
                                : (s(),
                                  (c = !0),
                                  (h.onmessage = l.onMessage.bind(l)),
                                  (h.onclose = l.disconnect.bind(l)),
                                  void (h.onerror = l.disconnect.bind(l)));
                            });
                        }),
                      ]);
                });
              });
            }),
            (e.prototype.disconnect = function () {
              this.socket && this.socket.close(),
                (this.socket = null),
                clearInterval(this.heartbeat),
                (this.heartbeat = null);
              var e = new Error("Disconnected");
              this.responsePromise &&
                (this.responsePromise.reject(e), (this.responsePromise = null)),
                this.dataPromise &&
                  (this.dataPromise.reject(e), (this.dataPromise = null));
            }),
            (e.prototype.pull = function (e) {
              return A(this, void 0, Promise, function () {
                var t = this;
                return D(this, function (n) {
                  return [
                    2,
                    this.queue.queue(function () {
                      return A(t, void 0, void 0, function () {
                        var t, n, i, r, o, s, a;
                        return D(this, function (l) {
                          switch (l.label) {
                            case 0:
                              return [4, this.request({ op: "pull", uid: e })];
                            case 1:
                              if ((t = l.sent()).deleted) return [3, 8];
                              (n = t.size),
                                (i = t.pieces),
                                (r = new ArrayBuffer(n)),
                                (o = 0),
                                (s = 0),
                                (l.label = 2);
                            case 2:
                              return s < i ? [4, this.dataResponse()] : [3, 5];
                            case 3:
                              (a = l.sent()),
                                new Uint8Array(r, o, a.byteLength).set(
                                  new Uint8Array(a)
                                ),
                                (o += a.byteLength),
                                (l.label = 4);
                            case 4:
                              return s++, [3, 2];
                            case 5:
                              return r.byteLength > 0
                                ? [4, oe(r, this.cryptoKey)]
                                : [3, 7];
                            case 6:
                              (r = l.sent()), (l.label = 7);
                            case 7:
                              return [2, r];
                            case 8:
                              return [2, null];
                          }
                        });
                      });
                    }),
                  ];
                });
              });
            }),
            (e.prototype.push = function (e, t, n, i, r, o, s) {
              return A(this, void 0, Promise, function () {
                var a = this;
                return D(this, function (l) {
                  return [
                    2,
                    this.queue.queue(function () {
                      return A(a, void 0, void 0, function () {
                        var a, l, c, u, h, p, d, f;
                        return D(this, function (g) {
                          switch (g.label) {
                            case 0:
                              return [4, this.encodeStr(e)];
                            case 1:
                              return (
                                (a = g.sent()),
                                (l = t ? "" : et(Ye(e))),
                                t || n
                                  ? [
                                      4,
                                      this.request({
                                        op: "push",
                                        path: a,
                                        extension: l,
                                        hash: "",
                                        ctime: 0,
                                        mtime: 0,
                                        folder: t,
                                        deleted: n,
                                      }),
                                    ]
                                  : [3, 3]
                              );
                            case 2:
                              return g.sent(), [2];
                            case 3:
                              return s.byteLength > 0
                                ? [4, re(s, this.cryptoKey)]
                                : [3, 5];
                            case 4:
                              (s = g.sent()), (g.label = 5);
                            case 5:
                              return o ? [4, this.encodeStr(o)] : [3, 7];
                            case 6:
                              (o = g.sent()), (g.label = 7);
                            case 7:
                              return (
                                (c = s.byteLength),
                                (u = 2097152),
                                (h = Math.ceil(c / u)),
                                [
                                  4,
                                  this.request({
                                    op: "push",
                                    path: a,
                                    extension: l,
                                    hash: o,
                                    ctime: i,
                                    mtime: r,
                                    folder: t,
                                    deleted: n,
                                    size: c,
                                    pieces: h,
                                  }),
                                ]
                              );
                            case 8:
                              if ("ok" === g.sent().res) return [2];
                              (p = 0), (g.label = 9);
                            case 9:
                              return p < h
                                ? ((d = p * u),
                                  (f = Math.min(u, c - d)),
                                  this.sendBinary(new Uint8Array(s, d, f)),
                                  [4, this.response()])
                                : [3, 12];
                            case 10:
                              g.sent(), (g.label = 11);
                            case 11:
                              return p++, [3, 9];
                            case 12:
                              return [2];
                          }
                        });
                      });
                    }),
                  ];
                });
              });
            }),
            (e.prototype.listDeleted = function () {
              return A(this, void 0, Promise, function () {
                var e = this;
                return D(this, function (t) {
                  return [
                    2,
                    this.queue.queue(function () {
                      return A(e, void 0, void 0, function () {
                        var e, t, n, i, r, o;
                        return D(this, function (s) {
                          switch (s.label) {
                            case 0:
                              return [4, this.request({ op: "deleted" })];
                            case 1:
                              (e = s.sent()),
                                (t = e.items),
                                (n = 0),
                                (i = t),
                                (s.label = 2);
                            case 2:
                              return n < i.length
                                ? ((r = i[n]),
                                  (o = r),
                                  [4, this.decodeStr(r.path)])
                                : [3, 5];
                            case 3:
                              (o.path = s.sent()), (s.label = 4);
                            case 4:
                              return n++, [3, 2];
                            case 5:
                              return [2, t];
                          }
                        });
                      });
                    }),
                  ];
                });
              });
            }),
            (e.prototype.listHistory = function (e, t) {
              return A(this, void 0, Promise, function () {
                var n = this;
                return D(this, function (i) {
                  return [
                    2,
                    this.queue.queue(function () {
                      return A(n, void 0, void 0, function () {
                        var n, i, r, o, s, a, l;
                        return D(this, function (c) {
                          switch (c.label) {
                            case 0:
                              return [4, this.encodeStr(e)];
                            case 1:
                              return (
                                (n = c.sent()),
                                [
                                  4,
                                  this.request({
                                    op: "history",
                                    path: n,
                                    last: t,
                                  }),
                                ]
                              );
                            case 2:
                              (i = c.sent()),
                                (r = i.items),
                                (o = 0),
                                (s = r),
                                (c.label = 3);
                            case 3:
                              return o < s.length
                                ? ((a = s[o]),
                                  (l = a),
                                  [4, this.decodeStr(a.path)])
                                : [3, 6];
                            case 4:
                              (l.path = c.sent()), (c.label = 5);
                            case 5:
                              return o++, [3, 3];
                            case 6:
                              return [2, i];
                          }
                        });
                      });
                    }),
                  ];
                });
              });
            }),
            (e.prototype.restore = function (e) {
              return A(this, void 0, Promise, function () {
                var t = this;
                return D(this, function (n) {
                  return [
                    2,
                    this.queue.queue(function () {
                      return A(t, void 0, void 0, function () {
                        return D(this, function (t) {
                          return [2, this.request({ op: "restore", uid: e })];
                        });
                      });
                    }),
                  ];
                });
              });
            }),
            (e.prototype.purge = function () {
              return A(this, void 0, Promise, function () {
                var e = this;
                return D(this, function (t) {
                  return [
                    2,
                    this.queue.queue(function () {
                      return e.request({ op: "purge" });
                    }),
                  ];
                });
              });
            }),
            (e.prototype.size = function () {
              return A(this, void 0, Promise, function () {
                var e = this;
                return D(this, function (t) {
                  return [
                    2,
                    this.queue.queue(function () {
                      return e.request({ op: "size" });
                    }),
                  ];
                });
              });
            }),
            (e.prototype.onServerPush = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (t = e), [4, this.decodeStr(e.path)];
                    case 1:
                      return (
                        (t.path = i.sent()),
                        e.hash ? ((n = e), [4, this.decodeStr(e.hash)]) : [3, 3]
                      );
                    case 2:
                      (n.hash = i.sent()), (i.label = 3);
                    case 3:
                      return this.onPush(e), [2];
                  }
                });
              });
            }),
            (e.prototype.response = function () {
              return (this.responsePromise = Uh()).promise;
            }),
            (e.prototype.dataResponse = function () {
              return (this.dataPromise = Uh()).promise;
            }),
            (e.prototype.request = function (e, t) {
              return (
                void 0 === t && (t = 6e4),
                A(this, void 0, Promise, function () {
                  var n, i, r, o, s;
                  return D(this, function (a) {
                    switch (a.label) {
                      case 0:
                        (n = this.responsePromise = Uh()),
                          this.send(e),
                          (i = new Error("Timeout")),
                          (r = window.setTimeout(function () {
                            return n.reject(i);
                          }, t)),
                          (a.label = 1);
                      case 1:
                        return a.trys.push([1, 3, , 4]), [4, n.promise];
                      case 2:
                        return (o = a.sent()), clearTimeout(r), [3, 4];
                      case 3:
                        throw ((s = a.sent()) === i && this.disconnect(), s);
                      case 4:
                        if (o.err) throw new Error(o.err);
                        return [2, o];
                    }
                  });
                })
              );
            }),
            (e.prototype.onMessage = function (e) {
              if (
                ((this.lastMessageTs = Date.now()), "string" == typeof e.data)
              ) {
                var t = void 0;
                try {
                  t = JSON.parse(e.data);
                } catch (t) {
                  return console.log(e.data), void this.disconnect();
                }
                var n = t.op;
                if ("pong" === n) return;
                if ("ready" === n) return void this.onReady(t.version);
                if ("push" === n) return void this.onServerPush(t);
                var i = this.responsePromise;
                i && ((this.responsePromise = null), i.resolve(t));
              } else {
                var r = this.dataPromise;
                r && ((this.dataPromise = null), r.resolve(e.data));
              }
            }),
            (e.prototype.send = function (e) {
              this.socket.send(JSON.stringify(e));
            }),
            (e.prototype.sendBinary = function (e) {
              this.socket.send(e);
            }),
            (e.prototype.encodeStr = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return [4, Z((t = K(e)))];
                    case 1:
                      return (
                        (n = o.sent()),
                        (i = new Uint8Array(n, 0, 12)),
                        (r = te),
                        [4, re(t, this.cryptoKey, i)]
                      );
                    case 2:
                      return [2, r.apply(void 0, [o.sent()])];
                  }
                });
              });
            }),
            (e.prototype.decodeStr = function (e) {
              return A(this, void 0, Promise, function () {
                var t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (t = $), [4, oe(ee(e), this.cryptoKey)];
                    case 1:
                      return [2, t.apply(void 0, [n.sent()])];
                  }
                });
              });
            }),
            e
          );
        })(),
        PV = function (e, t) {
          return YN(e.folder.name, t.folder.name);
        },
        OV = (function (e) {
          function t(t, n) {
            var i = e.call(this) || this;
            (i.checked = !0), (i.children = []), (i.owner = t), (i.folder = n);
            var r = i.innerEl;
            i.selfEl.addClass("mod-folder");
            var o = (i.checkboxEl = r.createEl("input", {
              cls: "file-tree-item-checkbox",
              type: "checkbox",
            }));
            return (
              (o.checked = !0),
              o.addEventListener("change", i.updateChecked.bind(i)),
              Xy(r.createDiv("file-tree-item-icon"), fm, 20),
              r.createDiv({ cls: "file-tree-item-title", text: n.name }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.onSelfClick = function (e) {
              this.checkboxEl.disabled ||
                (this.setChecked(!this.checked), this.owner.updateStatus());
            }),
            (t.prototype.setChecked = function (e) {
              !this.checked === e &&
                ((this.checked = e),
                this.updateChecked(),
                this.updateDisabledRecursive());
            }),
            (t.prototype.updateChecked = function () {
              var e = this.checked;
              (this.checkboxEl.checked = e),
                this.selfEl.toggleClass("is-selected", e);
            }),
            (t.prototype.setDisabled = function (e) {
              this.checkboxEl.disabled !== e &&
                ((this.checkboxEl.disabled = e),
                (this.checked = e),
                this.updateChecked());
            }),
            (t.prototype.updateDisabledRecursive = function () {
              for (
                var e = this.checkboxEl.disabled || this.checked,
                  t = 0,
                  n = this.children;
                t < n.length;
                t++
              ) {
                var i = n[t];
                i.setDisabled(e), i.updateDisabledRecursive();
              }
            }),
            (t.prototype.sort = function () {
              for (var e = 0, t = this.children; e < t.length; e++) {
                t[e].sort();
              }
              this.children.sort(PV);
            }),
            (t.prototype.render = function () {
              e.prototype.render.call(this),
                this.setCollapsible(this.children.length > 0);
            }),
            (t.prototype.getExcludedFolders = function () {
              var e = this.checkboxEl,
                t = [];
              if (
                (!e.disabled && e.checked && t.push(this.folder.path),
                !e.disabled)
              )
                for (var n = 0, i = this.children; n < i.length; n++) {
                  var r = i[n];
                  t = t.concat(r.getExcludedFolders());
                }
              return t;
            }),
            (t.prototype.setStatusFromIgnoreFolders = function (e) {
              var t = e.contains(this.folder.path);
              if (!t)
                for (var n = 0, i = this.children; n < i.length; n++) {
                  i[n].setStatusFromIgnoreFolders(e);
                }
              this.setChecked(t);
            }),
            t
          );
        })(iH),
        FV = (function (e) {
          function t(t, n) {
            var i = e.call(this, n) || this;
            return (
              (i.folders = {}),
              (i.children = []),
              (i.owner = t),
              n.addClass("file-tree"),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.addFolderRecursive = function (e, t) {
              var n = new OV(this.owner, e);
              (this.folders[e.path] = n),
                t ? t.children.push(n) : this.addRoot(n);
              for (var i = 0, r = e.children; i < r.length; i++) {
                var o = r[i];
                o instanceof Db && this.addFolderRecursive(o, n);
              }
            }),
            (t.prototype.sort = function () {
              for (var e = 0, t = this.children; e < t.length; e++) {
                t[e].sort();
              }
              this.children.sort(PV);
            }),
            (t.prototype.clear = function () {
              e.prototype.clear.call(this), (this.folders = {});
            }),
            t
          );
        })(rH),
        IV = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t) || this;
            (r.sync = null),
              (r.settingTab = null),
              (r.excludedFolderCountEl = null),
              (r.fileTreeContainerEl = null),
              (r.sync = n),
              (r.settingTab = i);
            var o = r,
              s = o.contentEl;
            return (
              o.titleEl.setText(bV("label-manage-excluded-folders")),
              (r.excludedFolderCountEl = s.createEl("p")),
              (r.fileTreeContainerEl = s.createDiv("sync-file-tree-container")),
              (r.tree = new FV(r, r.fileTreeContainerEl)),
              s
                .createDiv("modal-button-container")
                .createEl(
                  "button",
                  { cls: "mod-cta", text: Lt("dialogue.button-done") },
                  function (e) {
                    e.addEventListener("click", r.close.bind(r));
                  }
                ),
              r
            );
          }
          return (
            M(t, e),
            (t.prototype.onOpen = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r, o, s, a;
                return D(this, function (l) {
                  for (
                    (e = this.tree).clear(),
                      t = this.app.vault.getRoot(),
                      n = 0,
                      i = t.children;
                    n < i.length;
                    n++
                  )
                    (a = i[n]) instanceof Db && e.addFolderRecursive(a);
                  for (
                    e.sort(),
                      e.render(),
                      r = this.sync.ignoreFolders,
                      o = 0,
                      s = e.children;
                    o < s.length;
                    o++
                  )
                    (a = s[o]).setStatusFromIgnoreFolders(r);
                  return this.updateExcludedFolderCount(), [2];
                });
              });
            }),
            (t.prototype.onClose = function () {
              this.settingTab.display();
            }),
            (t.prototype.updateExcludedFolderCount = function () {
              var e = this.sync.ignoreFolders.length,
                t = Lt("nouns.folder-with-count", { count: e });
              this.excludedFolderCountEl.setText(
                bV("label-number-of-folders-excluded", { folders: t })
              );
            }),
            (t.prototype.updateStatus = function () {
              for (
                var e = [], t = 0, n = this.tree.children;
                t < n.length;
                t++
              ) {
                var i = n[t];
                e = e.concat(i.getExcludedFolders());
              }
              this.sync.setIgnoreFolders(e), this.updateExcludedFolderCount();
            }),
            t
          );
        })(vD),
        NV = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (
              (i.sync = n),
              i.titleEl.setText(bV("msg-largest-files")),
              i.contentEl.createDiv({ text: bV("msg-largest-files-desc") }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.onOpen = function () {
              return A(this, void 0, void 0, function () {
                var e, t, n, i, r, o, s;
                return D(this, function (a) {
                  for (n in ((e = this.sync.serverFiles), (t = []), e))
                    e.hasOwnProperty(n) && (s = e[n]).size > 0 && t.push(s);
                  for (
                    t = t
                      .sort(function (e, t) {
                        return t.size - e.size;
                      })
                      .slice(0, 20),
                      i = this.contentEl,
                      r = 0,
                      o = t;
                    r < o.length;
                    r++
                  )
                    (s = o[r]),
                      i.createDiv({
                        cls: "u-small u-muted",
                        text: s.path + " (" + ce(s.size) + ")",
                      });
                  return [2];
                });
              });
            }),
            t
          );
        })(vD),
        BV = (function (e) {
          function t(t, n, i, r) {
            var o = e.call(this, t) || this;
            (o.sync = null),
              (o.settingTab = null),
              (o.sync = n),
              (o.settingTab = i);
            var s = o,
              a = s.contentEl;
            s.titleEl.setText(bV("label-setup-connection")),
              a.createEl("p", {
                text: bV("label-now-connected-to-vault", { name: r }),
              });
            var l = a.createDiv("modal-button-container");
            return (
              l.createEl(
                "button",
                { text: bV("button-start-syncing") },
                function (e) {
                  e.addEventListener("click", function () {
                    return A(o, void 0, void 0, function () {
                      return D(this, function (e) {
                        switch (e.label) {
                          case 0:
                            return (
                              this.sync.setPause(!1),
                              [4, this.settingTab.display()]
                            );
                          case 1:
                            return e.sent(), this.close(), [2];
                        }
                      });
                    });
                  });
                }
              ),
              l.createEl(
                "button",
                { text: bV("label-manage-excluded-folders") },
                function (e) {
                  e.addEventListener("click", function () {
                    o.settingTab.manageExcludedFoldersModal.open();
                  });
                }
              ),
              o
            );
          }
          return M(t, e), t;
        })(vD),
        RV = (function () {
          function e() {
            (this.id = "tag-pane"),
              (this.name = Lt("plugins.tag-pane.name")),
              (this.description = Lt("plugins.tag-pane.desc"));
          }
          return (
            (e.prototype.init = function (e, t) {
              var n = this;
              (this.app = e),
                (this.plugin = t),
                t.registerGlobalCommand({
                  id: "tag-pane:open",
                  name: Lt("plugins.tag-pane.action-show"),
                  icon: Mv,
                  callback: function () {
                    n.app.workspace.ensureSideLeaf(zV, "right", !1);
                  },
                }),
                t.registerViewType(zV, function (e) {
                  return new WV(e);
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              t.registerEvent(
                e.workspace.on("layout-ready", this.initLeaf, this)
              );
            }),
            (e.prototype.onUserEnable = function () {
              this.initLeaf();
            }),
            (e.prototype.initLeaf = function () {
              var e = "right";
              eb.isMobile && (e = "left"),
                this.app.workspace.ensureSideLeaf(zV, e, !1, !1);
            }),
            e
          );
        })(),
        zV = "tag",
        HV = [
          ["alphabetical", "alphabeticalReverse"],
          ["frequency", "frequencyReverse"],
        ],
        VV = {
          alphabetical: "plugins.tag-pane.label-sort-by-name-a-to-z",
          alphabeticalReverse: "plugins.tag-pane.label-sort-by-name-z-to-a",
          frequency: "plugins.tag-pane.label-sort-by-frequency-high-to-low",
          frequencyReverse:
            "plugins.tag-pane.label-sort-by-frequency-low-to-high",
        },
        qV = function () {
          (this.info = {
            height: 0,
            width: 0,
            childTop: 0,
            computed: !1,
            queued: !1,
            hidden: !1,
          }),
            (this.el = createDiv({
              cls: "pane-empty tag-pane-empty",
              text: Lt("plugins.tag-pane.label-no-tags"),
            }));
        },
        jV = (function (e) {
          function t(t) {
            var n = e.call(this) || this;
            (n.info = {
              height: 0,
              width: 0,
              childTop: 0,
              computed: !1,
              queued: !1,
              hidden: !1,
            }),
              (n.tag = ""),
              (n.count = -1),
              (n.children = []),
              (n.pusherEl = EB()),
              (n.tagView = t);
            var i = n,
              r = i.selfEl,
              o = i.innerEl;
            return (
              r.addClass("tag-pane-tag"),
              (n.tagTextEl = o.createDiv("tag-pane-tag-text")),
              (n.tagCountEl = r
                .createDiv("tree-item-flair-outer")
                .createSpan("tag-pane-tag-count tree-item-flair")),
              n.setCollapsible(!0),
              n.setClickable(!0),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.onSelfClick = function (e) {
              var t = "tag:" + this.tag,
                n =
                  this.tagView.app.internalPlugins.getPluginById(
                    "global-search"
                  );
              if (n) {
                var i = n.instance;
                if (i) {
                  var r = i.getGlobalSearchQuery();
                  if (!nw.isModifier(e, "Mod") || "" === r)
                    return void i.openGlobalSearch(t);
                  r.contains(t)
                    ? i.openGlobalSearch(r.replace(t, "").trim())
                    : i.openGlobalSearch(r.trim() + " " + t);
                }
              }
            }),
            (t.prototype.setTag = function (e) {
              if (this.tag !== e) {
                this.tag = e;
                var t = this.tagTextEl;
                e.startsWith("#") && (e = e.substr(1));
                var n = e.split("/").last(),
                  i = e.substr(0, e.length - n.length);
                t.empty(),
                  t.createSpan({ cls: "tag-pane-tag-parent", text: i }),
                  t.createSpan({ cls: "tag-pane-tag-self", text: n });
              }
              return this;
            }),
            (t.prototype.setCount = function (e) {
              this.count !== e &&
                ((this.count = e), this.tagCountEl.setText(String(e)));
              return this;
            }),
            (t.prototype.updateCollapsed = function (t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [4, e.prototype.updateCollapsed.call(this, t)];
                    case 1:
                      return (
                        n.sent(),
                        this.tagView.infinityScroll.invalidate(this),
                        this.tagView.requestSaveFold(),
                        [2]
                      );
                  }
                });
              });
            }),
            t
          );
        })(iN),
        UV = function (e) {
          (this.children = []),
            (this.info = {
              height: 0,
              width: 0,
              childTop: 0,
              computed: !1,
              queued: !1,
              hidden: !1,
            }),
            (this.pusherEl = EB()),
            (this.el = e),
            (this.childrenEl = e.createDiv());
        },
        WV = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            (n.icon = Im),
              (n.tagPaneEl = null),
              (n.sortOrder = "frequency"),
              (n.useHierarchy = !1),
              (n.tagDoms = {}),
              (n.requestSaveFold = Tt(n.saveFold.bind(n), 500));
            var i = n.containerEl,
              r = new IB(n.app, i);
            r.addNavButton(
              $m,
              Lt("plugins.file-explorer.action-change-sort"),
              function (e) {
                e.preventDefault();
                for (
                  var t = new rw(n.app), i = n.sortOrder, r = 0, o = HV;
                  r < o.length;
                  r++
                ) {
                  for (
                    var s = function (e) {
                        var r = Lt(VV[e]);
                        t.addItem(function (t) {
                          return t
                            .setTitle(r)
                            .setActive(e === i)
                            .onClick(function () {
                              (n.sortOrder = e),
                                n.requestUpdateTags(),
                                n.app.workspace.requestSaveLayout();
                            });
                        });
                      },
                      a = 0,
                      l = o[r];
                    a < l.length;
                    a++
                  ) {
                    s(l[a]);
                  }
                  t.addSeparator();
                }
                t.showAtMouseEvent(e);
              }
            ),
              (n.useHierarchyEl = r.addNavButton(
                Cv,
                Lt("plugins.tag-pane.action-show-nested-tags"),
                function () {
                  return n.setUseHierarchy(!n.useHierarchy);
                }
              ));
            var o = (n.tagPaneEl = i.createDiv("tag-container"));
            return (
              (n.infinityScroll = new LB(o)),
              (n.root = new UV(o)),
              (n.infinityScroll.rootEl = n.root),
              (n.requestUpdateTags = Tt(n.updateTags.bind(n), 10)),
              n.setUseHierarchy(!0),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.getDisplayText = function () {
              return Lt("plugins.tag-pane.name");
            }),
            (t.prototype.getViewType = function () {
              return zV;
            }),
            (t.prototype.getState = function () {
              var t = e.prototype.getState.call(this);
              return (
                (t.sortOrder = this.sortOrder),
                (t.useHierarchy = this.useHierarchy),
                t
              );
            }),
            (t.prototype.setState = function (t, n) {
              return A(this, void 0, Promise, function () {
                var i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return [4, e.prototype.setState.call(this, t, n)];
                    case 1:
                      return (
                        o.sent(),
                        (i = t.sortOrder),
                        (r = t.useHierarchy),
                        String.isString(i) &&
                          VV.hasOwnProperty(i) &&
                          (this.sortOrder = i),
                        isBoolean(r) && this.setUseHierarchy(r),
                        this.requestUpdateTags(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.load = function () {
              e.prototype.load.call(this);
              var t = this.app;
              this.registerEvent(
                t.metadataCache.on("finished", this.requestUpdateTags, this)
              ),
                this.requestUpdateTags();
            }),
            (t.prototype.onResize = function () {
              this.infinityScroll.onResize();
            }),
            (t.prototype.setUseHierarchy = function (e) {
              this.useHierarchy !== e &&
                ((this.useHierarchy = e),
                this.useHierarchyEl.toggleClass("is-active", e),
                this.requestUpdateTags(),
                this.app.workspace.requestSaveLayout());
            }),
            (t.prototype.saveFold = function () {
              if (this.app.workspace.layoutReady) {
                var e = this.tagDoms,
                  t = [];
                for (var n in e)
                  if (e.hasOwnProperty(n)) {
                    var i = e[n];
                    i && i.collapsed && t.push(n);
                  }
                this.app.saveLocalStorage("tag-pane-fold", t);
              }
            }),
            (t.prototype.updateTags = function () {
              var e = this,
                t = this.app,
                n = this.tagDoms,
                i = t.metadataCache.getTags(),
                r = Object.keys(i),
                o = (this.tagDoms = {}),
                s = this.app.loadLocalStorage("tag-pane-fold"),
                a = new Set(s || null);
              if (r.length > 0) {
                var l = [],
                  c = this.sortOrder,
                  u = null;
                if ("alphabetical" === c)
                  u = function (e, t) {
                    return YN(e.tag, t.tag);
                  };
                else if ("alphabeticalReverse" === c)
                  u = function (e, t) {
                    return -YN(e.tag, t.tag);
                  };
                else {
                  var h = "frequencyReverse" === c ? -1 : 1;
                  u = function (e, t) {
                    var n = e.tag,
                      r = t.tag,
                      o = i[n],
                      s = i[r];
                    return o === s ? YN(n, r) : h * (s - o);
                  };
                }
                var p = this.useHierarchy,
                  d = function (t, n) {
                    var i = t.split("/").last();
                    if (p && i !== t) {
                      var r = t.substr(0, t.length - i.length - 1),
                        s = r.toLowerCase(),
                        a = o[s];
                      a || ((a = new jV(e)).setTag(r), (o[s] = a)),
                        a.children.contains(n) || a.children.push(n),
                        d(r, a);
                    } else l.contains(n) || l.push(n);
                  };
                for (var f in n) n.hasOwnProperty(f) && (n[f].children = []);
                for (var g = 0, m = r; g < m.length; g++) {
                  (w = n[(f = (b = m[g]).toLowerCase())]) || (w = new jV(this)),
                    w.setTag(b),
                    (o[f] = w);
                }
                for (var v = 0, y = r; v < y.length; v++) {
                  var b;
                  f = (b = y[v]).toLowerCase();
                  d(b, o[f]);
                }
                for (var f in o)
                  if (o.hasOwnProperty(f)) {
                    var w,
                      k = (w = o[f]).children.length > 0;
                    w.setCollapsible(k),
                      w.setCount(i[w.tag] || 0),
                      k &&
                        w.collapsed !== a.has(f) &&
                        w.setCollapsed(a.has(f), !1);
                  }
                var C = function (e) {
                  e.sort(u);
                  for (var t = 0, n = e; t < n.length; t++) {
                    var i = n[t];
                    C(i.children);
                  }
                };
                C(l), (this.root.children = l);
              } else this.root.children = [new qV()];
              this.infinityScroll.queueCompute();
            }),
            t
          );
        })(ow),
        _V = (function () {
          function e() {
            (this.id = "templates"),
              (this.name = Lt("plugins.templates.name")),
              (this.description = Lt("plugins.templates.desc")),
              (this.app = null),
              (this.plugin = null),
              (this.options = {}),
              (this.templateFiles = []);
          }
          return (
            (e.prototype.init = function (e, t) {
              (this.app = e),
                (this.plugin = t),
                t.registerRibbonAction(
                  Lt("plugins.templates.action-insert"),
                  Sm,
                  this.onInsertTemplate.bind(this)
                ),
                t.registerGlobalCommand({
                  id: "insert-template",
                  name: Lt("plugins.templates.action-insert"),
                  icon: fy,
                  callback: this.onInsertTemplate.bind(this),
                }),
                t.registerGlobalCommand({
                  id: "insert-current-date",
                  name: Lt("plugins.templates.action-insert-current-date"),
                  icon: my,
                  editorCallback: this.insertCurrentDate.bind(this),
                }),
                t.registerGlobalCommand({
                  id: "insert-current-time",
                  name: Lt("plugins.templates.action-insert-current-time"),
                  icon: gy,
                  editorCallback: this.insertCurrentTime.bind(this),
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (n = this), [4, t.loadData()];
                    case 1:
                      return (
                        (n.options = i.sent() || {}),
                        t.addSettingTab(new KV(e, t, this)),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.insertTemplate = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i, r, o, s, a;
                return D(this, function (l) {
                  switch (l.label) {
                    case 0:
                      return (
                        (n = (t = this).app),
                        (i = t.options),
                        (r = n.workspace.getActiveViewOfType(IR))
                          ? ((o = r.file), [4, this.app.vault.cachedRead(e)])
                          : [3, 2]
                      );
                    case 1:
                      (s = l.sent()),
                        (a = r.editor).replaceSelection(
                          HN(
                            s,
                            { title: o.basename },
                            {
                              dateFormat: i.dateFormat,
                              timeFormat: i.timeFormat,
                            }
                          )
                        ),
                        a.focus(),
                        (l.label = 2);
                    case 2:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.onInsertTemplate = function () {
              return A(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a = this;
                return D(this, function (l) {
                  return (
                    (t = (e = this).app),
                    (n = e.options),
                    (i = n.folder) && String.isString(i)
                      ? ((r = rt(WF(i).normalize("NFC"))),
                        (o = t.vault.getAbstractFileByPath(r)) &&
                        o instanceof Db
                          ? ((this.templateFiles = []),
                            (s = function (e) {
                              for (
                                var t = 0, n = e.children;
                                t < n.length;
                                t++
                              ) {
                                var i = n[t];
                                i instanceof Ab && "md" === i.extension
                                  ? a.templateFiles.push(i)
                                  : i instanceof Db && s(i);
                              }
                            })(o),
                            1 === this.templateFiles.length
                              ? (this.insertTemplate(this.templateFiles[0]),
                                [2])
                              : (new GV(t, this).open(), [2]))
                          : (new lw(
                              Lt(
                                "plugins.templates.msg-fail-folder-not-found",
                                { folderOption: i }
                              )
                            ),
                            [2]))
                      : [2]
                  );
                });
              });
            }),
            (e.prototype.insertCurrentDate = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i;
                return D(this, function (r) {
                  return (
                    (t = this.options),
                    (n = t.dateFormat || RN),
                    (i = window.moment().format(n)),
                    e.insertText(i),
                    [2]
                  );
                });
              });
            }),
            (e.prototype.insertCurrentTime = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i;
                return D(this, function (r) {
                  return (
                    (t = this.options),
                    (n = t.timeFormat || zN),
                    (i = window.moment().format(n)),
                    e.insertText(i),
                    [2]
                  );
                });
              });
            }),
            e
          );
        })(),
        GV = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (
              (i.emptyStateText = Lt(
                "plugins.templates.msg-no-templates-found"
              )),
              (i.templatePlugin = null),
              (i.templatePlugin = n),
              i.setInstructions([
                {
                  command: "↑↓",
                  purpose: Lt("plugins.templates.instruction-navigate"),
                },
                {
                  command: "↵",
                  purpose: Lt("plugins.templates.instruction-insert"),
                },
                {
                  command: "esc",
                  purpose: Lt("plugins.templates.instruction-dismiss"),
                },
              ]),
              i.setPlaceholder(Lt("plugins.templates.prompt-type-template")),
              i.scope.register(null, "Tab", function () {
                return !1;
              }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.getItems = function () {
              return this.templatePlugin.templateFiles;
            }),
            (t.prototype.onChooseItem = function (e) {
              this.templatePlugin.insertTemplate(e);
            }),
            (t.prototype.getItemText = function (e) {
              return e.basename;
            }),
            t
          );
        })(BN),
        KV = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t, n) || this;
            return (r.instance = i), r;
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              var e = this,
                t = this.containerEl;
              t.empty();
              var n = this.instance.options;
              new ZD(t)
                .setName(
                  Lt("plugins.templates.option-template-folder-location")
                )
                .setDesc(
                  Lt(
                    "plugins.templates.option-template-folder-location-description"
                  )
                )
                .addText(function (t) {
                  t
                    .setPlaceholder(
                      Lt("setting.folder-path-example-placeholder")
                    )
                    .setValue(n.folder)
                    .onChange(function (t) {
                      (n.folder = t.trim()), e.plugin.saveData(n);
                    }),
                    new cz(e.app, t.inputEl);
                });
              var i = document.createDocumentFragment();
              i.appendText(
                Lt(
                  "plugins.templates.option-template-date-format-description",
                  bt
                )
              ),
                i.createEl("br"),
                i.appendText(
                  Lt(
                    "plugins.templates.option-template-date-format-description2",
                    bt
                  )
                ),
                i.createEl("br"),
                i.appendText(Lt("plugins.daily-notes.label-refer-to-syntax")),
                i.createEl("a", {
                  text: Lt("plugins.daily-notes.label-syntax-link"),
                  attr: {
                    href: "https://momentjs.com/docs/#/displaying/format/",
                    target: "_blank",
                  },
                }),
                i.createEl("br"),
                i.appendText(
                  Lt("plugins.daily-notes.label-syntax-live-preview")
                );
              var r = i.createEl("b", "u-pop");
              new ZD(t)
                .setName(Lt("plugins.templates.option-template-date-format"))
                .setDesc(i)
                .addMomentFormat(function (t) {
                  return t
                    .setSampleEl(r)
                    .setDefaultFormat(RN)
                    .setValue(n.dateFormat)
                    .onChange(function (t) {
                      (n.dateFormat = t.trim()), e.plugin.saveData(n);
                    });
                });
              var o = document.createDocumentFragment();
              o.appendText(
                Lt(
                  "plugins.templates.option-template-time-format-description",
                  bt
                )
              ),
                o.createEl("br"),
                o.appendText(
                  Lt(
                    "plugins.templates.option-template-time-format-description2",
                    bt
                  )
                ),
                o.createEl("br"),
                o.appendText(Lt("plugins.daily-notes.label-refer-to-syntax")),
                o.createEl("a", {
                  text: Lt("plugins.daily-notes.label-syntax-link"),
                  attr: {
                    href: "https://momentjs.com/docs/#/displaying/format/",
                    target: "_blank",
                  },
                }),
                o.createEl("br"),
                o.appendText(
                  Lt("plugins.daily-notes.label-syntax-live-preview")
                );
              var s = o.createEl("b", "u-pop");
              new ZD(t)
                .setName(Lt("plugins.templates.option-template-time-format"))
                .setDesc(o)
                .addMomentFormat(function (t) {
                  return t
                    .setSampleEl(s)
                    .setDefaultFormat(zN)
                    .setValue(n.timeFormat)
                    .onChange(function (t) {
                      (n.timeFormat = t.trim()), e.plugin.saveData(n);
                    });
                });
            }),
            t
          );
        })(sB);
      var $V =
          "\nlet pattern = /(?:[0-9]+(?:(?:,|\\.)[0-9]+)*|[\\-'’" +
          cP.source +
          "஀-௿가-힣ꥠ-ꥼힰ-ퟆ])+|[" +
          uP.source +
          "]/g;\nfunction countWords(str) {\n\tpattern.lastIndex = 0;\n\tlet m = str.match(pattern);\n\treturn m ? m.length : 0;\n}\n\nself.onmessage = function (e) {\n\ttry {\n\t\tself.postMessage(countWords(e.data));\n\t} catch (e) {\n\t\tconsole.error('WordCount', e);\n\t}\n};\n",
        YV = (function () {
          function e() {
            (this.id = "word-count"),
              (this.name = Lt("plugins.word-count.name")),
              (this.description = Lt("plugins.word-count.desc")),
              (this.defaultOn = !0),
              (this.worker = null),
              (this.wordEl = null),
              (this.charEl = null),
              (this.mobileInfoEl = null),
              (this.wordCount = 0),
              (this.charCount = 0),
              (this.requestUpdate = Tt(this.update.bind(this), 500));
          }
          return (
            (e.prototype.init = function (e, t) {
              (this.app = e),
                (this.plugin = t),
                t.registerStatusBarItem(),
                t.registerMobileFileInfo(this.updateMobileFileInfo.bind(this));
            }),
            (e.prototype.onEnable = function (e, t) {
              var n, i;
              t.registerEvent(
                e.workspace.on("file-open", this.onFileOpen, this)
              ),
                t.registerEvent(
                  e.workspace.on("quick-preview", this.onQuickPreview, this)
                ),
                (this.worker =
                  ((n = $V),
                  new Worker(
                    URL.createObjectURL(
                      new Blob([n], { type: "text/javascript" })
                    ),
                    i
                  ))),
                (this.worker.onmessage = this.onMessage.bind(this));
              var r = t.statusBarEl;
              r &&
                (r.empty(),
                (this.wordEl = r.createSpan({
                  cls: "status-bar-item-segment",
                  text: "",
                })),
                (this.charEl = r.createSpan({
                  cls: "status-bar-item-segment",
                  text: "",
                })));
              var o = e.workspace.getActiveFile();
              o ? this.onFileOpen(o) : this.onFileOpen(null);
            }),
            (e.prototype.onDisable = function () {
              this.worker.terminate(),
                (this.worker = null),
                (this.wordEl = null),
                (this.charEl = null);
            }),
            (e.prototype.onFileOpen = function (e) {
              return A(this, void 0, void 0, function () {
                var t;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return e instanceof Ab && "md" === e.extension
                        ? [4, this.app.vault.cachedRead(e)]
                        : [3, 2];
                    case 1:
                      return (
                        (t = n.sent()),
                        this.updateCharCount(t.length),
                        this.requestUpdate(t),
                        [3, 3]
                      );
                    case 2:
                      this.updateCharCount(0),
                        this.requestUpdate(""),
                        (n.label = 3);
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.onQuickPreview = function (e, t) {
              this.app.workspace.getActiveFile() === e &&
                (this.updateCharCount(t.length), this.requestUpdate(t));
            }),
            (e.prototype.update = function (e) {
              e
                ? this.worker.postMessage(e)
                : (this.updateWordCount(0), this.updateMobileFileInfo());
            }),
            (e.prototype.onMessage = function (e) {
              this.updateWordCount(e.data), this.updateMobileFileInfo();
            }),
            (e.prototype.updateWordCount = function (e) {
              this.wordCount = e;
              var t = this.wordEl;
              t && t.setText(Lt("nouns.word-with-count", { count: e }));
            }),
            (e.prototype.updateCharCount = function (e) {
              this.charCount = e;
              var t = this.charEl;
              t && t.setText(Lt("nouns.character-with-count", { count: e }));
            }),
            (e.prototype.updateMobileFileInfo = function (e) {
              if ((e ? (this.mobileInfoEl = e) : (e = this.mobileInfoEl), e)) {
                var t = Lt("nouns.word-with-count", { count: this.wordCount }),
                  n = Lt("nouns.character-with-count", {
                    count: this.charCount,
                  }),
                  i = Lt("plugins.file-explorer.tooltip-folders-files-count", {
                    fileCount: t,
                    folderCount: n,
                  });
                e.setText(i);
              }
            }),
            e
          );
        })(),
        JV = (function () {
          function e() {
            (this.id = "workspaces"),
              (this.name = Lt("plugins.workspaces.name")),
              (this.description = Lt("plugins.workspaces.desc")),
              (this.workspaces = {}),
              (this.activeWorkspace = "");
          }
          return (
            (e.prototype.init = function (e, t) {
              (this.app = e),
                (this.plugin = t),
                t.registerGlobalCommand({
                  id: "workspaces:load",
                  name: Lt("plugins.workspaces.action-load"),
                  icon: Ny,
                  callback: this.onLoad.bind(this),
                }),
                t.registerGlobalCommand({
                  id: "workspaces:save-and-load",
                  name: Lt("plugins.workspaces.action-save-and-load"),
                  icon: Ny,
                  callback: this.onSaveAndLoad.bind(this),
                }),
                t.registerRibbonAction(
                  Lt("plugins.workspaces.action-manage-workspaces"),
                  fv,
                  this.onOpenModal.bind(this)
                ),
                t.registerGlobalCommand({
                  id: "workspaces:open-modal",
                  name: Lt("plugins.workspaces.action-manage-workspaces"),
                  icon: Ny,
                  callback: this.onOpenModal.bind(this),
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              return A(this, void 0, Promise, function () {
                var e;
                return D(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [4, t.loadData()];
                    case 1:
                      return (
                        (e = n.sent()) && e.workspaces
                          ? ((this.workspaces = e.workspaces || {}),
                            (this.activeWorkspace = e.active || ""))
                          : (this.workspaces = e || {}),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.onDisable = function (e, t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, t.saveData(this.workspaces)];
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.onOpenModal = function () {
              new QV(this.app, this).open();
            }),
            (e.prototype.onLoad = function () {
              return new XV(this.app, this, !1).open(), !1;
            }),
            (e.prototype.onSaveAndLoad = function () {
              return new XV(this.app, this, !0).open(), !1;
            }),
            (e.prototype.saveWorkspace = function (e) {
              (this.workspaces[e] = this.app.workspace.getLayout()),
                this.saveData();
            }),
            (e.prototype.setActiveWorkspace = function (e) {
              (this.activeWorkspace = e), this.saveData();
            }),
            (e.prototype.loadWorkspace = function (e) {
              var t = this.workspaces[e];
              t &&
                ((this.activeWorkspace = e),
                this.app.workspace.changeLayout(t),
                this.saveData());
            }),
            (e.prototype.deleteWorkspace = function (e) {
              return A(this, void 0, void 0, function () {
                return D(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return delete this.workspaces[e], [4, this.saveData()];
                    case 1:
                      return t.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.saveData = function () {
              return A(this, void 0, void 0, function () {
                return D(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [
                        4,
                        this.plugin.saveData({
                          workspaces: this.workspaces,
                          active: this.activeWorkspace,
                        }),
                      ];
                    case 1:
                      return e.sent(), [2];
                  }
                });
              });
            }),
            e
          );
        })(),
        QV = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (
              (i.plugin = n),
              i.titleEl.setText(
                Lt("plugins.workspaces.action-manage-workspaces")
              ),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.onOpen = function () {
              var e = this,
                t = this.contentEl,
                n = this.plugin;
              t.empty(),
                t.createDiv("list-item", function (t) {
                  var n = (e.nameEl = t.createEl("input", {
                    cls: "list-item-part mod-extended",
                    type: "text",
                  }));
                  (n.placeholder = Lt(
                    "plugins.workspaces.placeholder-save-current-workspace-as"
                  )),
                    n.addEventListener("keypress", function (t) {
                      t.isComposing || "Enter" !== t.key || e.onFinish();
                    }),
                    t
                      .createEl("button", {
                        cls: "list-item-part",
                        text: Lt("plugins.workspaces.button-save"),
                      })
                      .addEventListener("click", e.onFinish.bind(e));
                });
              var i = this.plugin.workspaces;
              Object.keys(i).length > 0 && t.createEl("hr"),
                t.createDiv({}, function (t) {
                  var r = function (r) {
                    i.hasOwnProperty(r) &&
                      t.createDiv("list-item", function (t) {
                        t.createDiv({
                          cls: "list-item-part mod-extended",
                          text: r,
                        }),
                          t.createEl(
                            "button",
                            {
                              cls: "list-item-part",
                              text: Lt("plugins.workspaces.button-load"),
                            },
                            function (t) {
                              t.addEventListener("click", function () {
                                n.loadWorkspace(r), e.close();
                              });
                            }
                          ),
                          t.createDiv(
                            "list-item-part clickable-icon",
                            function (t) {
                              Xy(t, Jm, 14),
                                nn(
                                  t,
                                  Lt(
                                    "plugins.workspaces.tooltip-delete-workspace"
                                  )
                                ),
                                t.addEventListener("click", function () {
                                  return A(e, void 0, void 0, function () {
                                    return D(this, function (e) {
                                      switch (e.label) {
                                        case 0:
                                          return [4, n.deleteWorkspace(r)];
                                        case 1:
                                          return (
                                            e.sent(),
                                            new lw(
                                              Lt(
                                                "plugins.workspaces.msg-delete-workspace-success"
                                              )
                                            ),
                                            this.onOpen(),
                                            [2]
                                          );
                                      }
                                    });
                                  });
                                });
                            }
                          );
                      });
                  };
                  for (var o in i) r(o);
                }),
                this.nameEl.focus();
            }),
            (t.prototype.onClose = function () {
              this.contentEl.empty();
            }),
            (t.prototype.onFinish = function () {
              var e = this.nameEl.value.trim();
              e
                ? (this.plugin.saveWorkspace(e),
                  this.plugin.setActiveWorkspace(e),
                  new lw(Lt("plugins.workspaces.msg-save-workspace-success")),
                  (this.nameEl.value = ""),
                  this.onOpen())
                : new lw(Lt("plugins.workspaces.msg-please-enter-name"));
            }),
            t
          );
        })(vD),
        XV = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t) || this;
            return (
              (r.emptyStateText = Lt(
                "plugins.workspaces.label-no-workspaces-found"
              )),
              (r.plugin = n),
              (r.shouldSave = i),
              r.setPlaceholder(
                Lt("plugins.workspaces.placeholder-type-to-search-workspaces")
              ),
              r
            );
          }
          return (
            M(t, e),
            (t.prototype.getItems = function () {
              return Object.keys(this.plugin.workspaces);
            }),
            (t.prototype.getEmptySearchItems = function () {
              return this.getItems();
            }),
            (t.prototype.getItemText = function (e) {
              return e;
            }),
            (t.prototype.renderSuggestion = function (e, t) {
              var n = e.item;
              lP(t, this.getItemText(n), e.match ? e.match.matches : null);
            }),
            (t.prototype.onChooseItem = function (e) {
              if (this.shouldSave) {
                var t = this.plugin,
                  n = t.workspaces,
                  i = t.activeWorkspace;
                i && n[i] && this.plugin.saveWorkspace(i);
              }
              this.plugin.loadWorkspace(e);
            }),
            t
          );
        })(BN),
        ZV = "YYYYMMDDHHmm",
        eq = At("plugins.zettelkasten-prefixer"),
        tq = (function () {
          function e() {
            (this.id = "zk-prefixer"),
              (this.name = eq("name")),
              (this.description = eq("desc")),
              (this.app = null),
              (this.plugin = null),
              (this.options = {});
          }
          return (
            (e.prototype.init = function (e, t) {
              (this.app = e),
                (this.plugin = t),
                t.registerRibbonAction(
                  eq("action-create-note"),
                  Km,
                  this.onCreateNote.bind(this)
                ),
                t.registerGlobalCommand({
                  id: "zk-prefixer",
                  name: eq("action-create-note"),
                  icon: Ry,
                  callback: this.onCreateNote.bind(this),
                });
            }),
            (e.prototype.onEnable = function (e, t) {
              return A(this, void 0, void 0, function () {
                var n;
                return D(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (n = this), [4, t.loadData()];
                    case 1:
                      return (
                        (n.options = i.sent() || {}),
                        t.addSettingTab(new nq(e, t, this)),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.onCreateNote = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i, r, o, s, a, l, c, u, h, p, d, f, g, m, v;
                return D(this, function (y) {
                  switch (y.label) {
                    case 0:
                      for (
                        n = (t = this).app, i = t.options, r = window.moment();
                        !o;

                      )
                        (s = this.getFormat()),
                          (a = r.format(s)),
                          this.checkNoteExists(a)
                            ? (r = r.add(1, "m"))
                            : (o = a);
                      if (
                        ((l = this.app.workspace.getLeaf(
                          nw.isModEvent(e || this.app.lastEvent)
                        )),
                        (u = i.folder) && String.isString(u))
                      ) {
                        if (
                          ((h = rt(WF(u).normalize("NFC"))),
                          !(
                            (p = n.vault.getAbstractFileByPath(h)) instanceof Db
                          ))
                        )
                          return (
                            new lw(
                              eq("msg-folder-not-found", { folderOption: u })
                            ),
                            [2]
                          );
                        c = p;
                      } else c = n.fileManager.getNewFileParent("");
                      return (f = i.template)
                        ? (g = n.metadataCache.getFirstLinkpathDest(f, ""))
                          ? [4, n.vault.cachedRead(g)]
                          : (new lw(
                              eq("msg-template-file-not-found", { template: f })
                            ),
                            [2])
                        : [3, 4];
                    case 1:
                      return (
                        (m = y.sent()),
                        (v = HN(m, { title: o }, {})),
                        [4, n.fileManager.createNewMarkdownFile(c, o)]
                      );
                    case 2:
                      return (d = y.sent()), [4, n.vault.modify(d, v)];
                    case 3:
                      return y.sent(), [3, 6];
                    case 4:
                      return [4, n.fileManager.createNewMarkdownFile(c, o)];
                    case 5:
                      (d = y.sent()), (y.label = 6);
                    case 6:
                      return [
                        4,
                        l.openFile(d, {
                          state: { mode: "source" },
                          eState: { rename: "end" },
                        }),
                      ];
                    case 7:
                      return y.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.checkNoteExists = function (e) {
              for (
                var t = !1, n = 0, i = this.app.vault.getAllLoadedFiles();
                n < i.length;
                n++
              ) {
                var r = i[n];
                if (r instanceof Ab && r.name.startsWith(e)) {
                  t = !0;
                  break;
                }
              }
              return t;
            }),
            (e.prototype.getFormat = function () {
              var e = this.options.format;
              return e && String.isString(e) ? e : ZV;
            }),
            e
          );
        })(),
        nq = (function (e) {
          function t(t, n, i) {
            var r = e.call(this, t, n) || this;
            return (r.instance = i), r;
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              var e = this,
                t = this.containerEl;
              t.empty();
              var n = this.instance.options;
              new ZD(t)
                .setName(eq("option-new-file-location"))
                .setDesc(eq("option-new-file-location-description"))
                .addText(function (t) {
                  t
                    .setPlaceholder(
                      Lt("setting.folder-path-example-placeholder")
                    )
                    .setValue(n.folder)
                    .onChange(function (t) {
                      (n.folder = t.trim()), e.plugin.saveData(n);
                    }),
                    new cz(e.app, t.inputEl);
                }),
                new ZD(t)
                  .setName(eq("option-template-file"))
                  .setDesc(eq("option-template-file-description"))
                  .addText(function (t) {
                    t
                      .setPlaceholder(eq("option-template-file-placeholder"))
                      .setValue(n.template)
                      .onChange(function (t) {
                        (n.template = t.trim()), e.plugin.saveData(n);
                      }),
                      new az(e.app, t.inputEl);
                  });
              var i = document.createDocumentFragment();
              i.appendText(Lt("plugins.daily-notes.label-refer-to-syntax")),
                i.createEl("a", {
                  text: Lt("plugins.daily-notes.label-syntax-link"),
                  attr: {
                    href: "https://momentjs.com/docs/#/displaying/format/",
                    target: "_blank",
                  },
                }),
                i.createEl("br"),
                i.appendText(
                  Lt("plugins.daily-notes.label-syntax-live-preview")
                );
              var r = i.createEl("b", "u-pop");
              new ZD(t)
                .setName(eq("option-id-format"))
                .setDesc(i)
                .addMomentFormat(function (t) {
                  return t
                    .setSampleEl(r)
                    .setDefaultFormat(ZV)
                    .setValue(n.format)
                    .onChange(function (t) {
                      (n.format = t.trim()), e.plugin.saveData(n);
                    });
                });
            }),
            t
          );
        })(sB),
        iq = (function () {
          function e(e, t) {
            (this.app = e), (this.containerEl = t);
          }
          return (
            (e.prototype.registerStatusBarItem = function () {
              return this.containerEl.createDiv("status-bar-item");
            }),
            e
          );
        })();
      var rq = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.name = Lt("setting.about.name")), (t.id = "about"), t;
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              return A(this, void 0, Promise, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g,
                  m,
                  v,
                  y,
                  b,
                  w,
                  k,
                  C = this;
                return D(this, function (x) {
                  switch (x.label) {
                    case 0:
                      return (
                        (e = this.containerEl).empty(),
                        (t = (function () {
                          var e = Lt("setting.about.label-unknown-version"),
                            t = Lt("setting.about.label-unknown-version"),
                            n = "",
                            i = !1,
                            r = !1,
                            o = !0,
                            s = !0,
                            a = !1;
                          return (
                            ut(function (l) {
                              var c = l.remote.app.getVersion();
                              (t = "v" + c),
                                (e = "v" + l.ipcRenderer.sendSync("version")),
                                (n = l.ipcRenderer.sendSync("update")),
                                (o = GF("0.7.3", c)) &&
                                  ((i = l.ipcRenderer.sendSync("check-update")),
                                  (r =
                                    l.ipcRenderer.sendSync("disable-update"))),
                                (s = GF("0.10.0", c)) &&
                                  (a = l.ipcRenderer.sendSync("disable-gpu"));
                            }),
                            {
                              appVersion: e,
                              installerVersion: t,
                              update: n,
                              checking: i,
                              updateDisabled: r,
                              supportsCheckAndDisable: o,
                              supportsAppReady: s,
                              disableGpu: a,
                            }
                          );
                        })()),
                        (n = t.appVersion),
                        (i = t.installerVersion),
                        (r = t.update),
                        (o = t.updateDisabled),
                        (s = t.checking),
                        (a = t.supportsCheckAndDisable),
                        (l = t.supportsAppReady),
                        (c = t.disableGpu),
                        eb.isDesktopApp
                          ? (s &&
                              ((u = function () {
                                ut(function (e) {
                                  a &&
                                    (s =
                                      e.ipcRenderer.sendSync("check-update"));
                                }),
                                  s ? setTimeout(u, 1e3) : C.display();
                              }),
                              setTimeout(u, 0)),
                            (h = new ZD(e)
                              .setName(
                                Lt("setting.about.label-current-version") + n
                              )
                              .setDesc(
                                createFragment(function (e) {
                                  e.appendText(
                                    Lt("setting.about.label-install-version", {
                                      version: i,
                                    })
                                  ),
                                    e.createEl("br"),
                                    "update-manual-required" === r
                                      ? (e.createEl("b", {
                                          text: Lt(
                                            "setting.about.label-manual-install-required"
                                          ),
                                        }),
                                        e.appendText(" "),
                                        e.createEl("a", {
                                          text: Lt(
                                            "setting.about.label-download-link"
                                          ),
                                          attr: {
                                            href: "https://obsidian.md/download",
                                          },
                                        }))
                                      : "update-downloaded" === r
                                      ? (e.appendText(
                                          Lt(
                                            "setting.about.label-new-version-ready"
                                          )
                                        ),
                                        e.createEl("br"),
                                        e.createEl("a", {
                                          text: Lt(
                                            "setting.about.label-read-changelog"
                                          ),
                                          attr: {
                                            href: "https://forum.obsidian.md/c/announcements/13",
                                          },
                                        }),
                                        e.createEl("br"),
                                        e.appendText(
                                          Lt(
                                            "setting.about.label-relaunch-to-update"
                                          )
                                        ))
                                      : (e.appendText(
                                          Lt("setting.about.label-up-to-date")
                                        ),
                                        e.createEl("br"),
                                        e.createEl("a", {
                                          text: Lt(
                                            "setting.about.label-read-changelog"
                                          ),
                                          attr: {
                                            href: "https://forum.obsidian.md/c/announcements/13",
                                          },
                                        })),
                                    e.createEl("br"),
                                    s &&
                                      (e.appendText(
                                        Lt(
                                          "setting.about.label-checking-for-updates"
                                        )
                                      ),
                                      e.createEl("br")),
                                    e.lastChild.detach();
                                })
                              )),
                            "update-downloaded" === r
                              ? h.addButton(function (e) {
                                  return e
                                    .setCta()
                                    .setButtonText(
                                      Lt("setting.about.button-relaunch")
                                    )
                                    .onClick(function () {
                                      ut(function (e) {
                                        e.ipcRenderer.sendSync("relaunch");
                                      });
                                    });
                                })
                              : a &&
                                h.addButton(function (e) {
                                  return e
                                    .setCta()
                                    .setButtonText(
                                      Lt(
                                        "setting.about.button-check-for-updates"
                                      )
                                    )
                                    .onClick(function () {
                                      ut(function (e) {
                                        e.ipcRenderer.sendSync(
                                          "check-update",
                                          !0
                                        ),
                                          C.display();
                                      });
                                    });
                                }),
                            a &&
                              new ZD(e)
                                .setName(Lt("setting.about.option-auto-update"))
                                .setDesc(
                                  Lt(
                                    "setting.about.option-auto-update-description"
                                  )
                                )
                                .addToggle(function (e) {
                                  return e.setValue(!o).onChange(function (e) {
                                    ut(function (t) {
                                      t.ipcRenderer.sendSync(
                                        "disable-update",
                                        !e
                                      ),
                                        setTimeout(function () {
                                          return C.display();
                                        }, 500);
                                    });
                                  });
                                }),
                            [3, 3])
                          : [3, 1]
                      );
                    case 1:
                      return dI ? [4, mI.getInfo()] : [3, 3];
                    case 2:
                      (p = x.sent()),
                        new ZD(e)
                          .setName(
                            Lt("setting.about.label-current-version") +
                              p.version +
                              " (" +
                              p.build +
                              ")"
                          )
                          .setDesc("API v" + Dq),
                        (x.label = 3);
                    case 3:
                      return (
                        (d = this.app.setting),
                        new ZD(e)
                          .setName(Lt("setting.about.option-open-help"))
                          .setDesc(
                            Lt("setting.about.option-open-help-description")
                          )
                          .addButton(function (e) {
                            return e
                              .setButtonText(Lt("setting.about.button-open"))
                              .onClick(function () {
                                d.close(), C.app.openHelp();
                              });
                          }),
                        (f = localStorage.getItem(mt) || vt),
                        (g = f),
                        new ZD(e)
                          .setName(Lt("setting.about.option-language"))
                          .setDesc(
                            Lt("setting.about.option-language-description")
                          )
                          .addButton(function (e) {
                            (m = e),
                              e
                                .setCta()
                                .setButtonText(
                                  Lt("setting.about.button-relaunch")
                                )
                                .onClick(function () {
                                  g === vt
                                    ? localStorage.removeItem(mt)
                                    : localStorage.setItem(mt, g),
                                    window.location.reload();
                                }),
                              e.buttonEl.hide();
                          })
                          .addDropdown(function (e) {
                            for (var t in (e.onChange(function (e) {
                              (g = e), m.buttonEl.toggle(f !== g);
                            }),
                            yt))
                              yt.hasOwnProperty(t) && e.addOption(t, yt[t]);
                            e.setValue(f);
                          }),
                        (v = this.app.account).checkKey(function () {
                          var t = v.license,
                            n = v.key,
                            i = v.keyValidation;
                          if (t && eb.isDesktopApp) {
                            var r = !1;
                            ut(function (e) {
                              r = e.ipcRenderer.sendSync("insider-build", null);
                            }),
                              new ZD(e)
                                .setName(
                                  Lt("setting.about.option-insider-build")
                                )
                                .setDesc(
                                  Lt(
                                    "setting.about.option-insider-build-description"
                                  )
                                )
                                .addToggle(function (e) {
                                  return e.setValue(r).onChange(function (e) {
                                    ut(function (t) {
                                      t.ipcRenderer.sendSync(
                                        "insider-build",
                                        e
                                      );
                                    });
                                  });
                                });
                          }
                          var o = new ZD(e);
                          if (n) {
                            var s = Lt(
                              "setting.about.label-your-commercial-license-key",
                              { key: n }
                            );
                            "valid" === i &&
                              (s +=
                                " " +
                                Lt(
                                  "setting.about.label-commercial-license-info",
                                  {
                                    company: v.company,
                                    seats: v.seats,
                                    expiry: window
                                      .moment(v.expiry)
                                      .format("MMMM D, YYYY"),
                                  }
                                )),
                              o
                                .setName(
                                  Lt("setting.about.label-commercial-license")
                                )
                                .setDesc(s),
                              "valid" === i
                                ? o.addButton(function (e) {
                                    return e
                                      .setButtonText(
                                        Lt(
                                          "setting.about.button-remove-commercial-license"
                                        )
                                      )
                                      .onClick(function () {
                                        v.setKey(null), C.display();
                                      });
                                  })
                                : i
                                ? (o.descEl.createEl("p", {
                                    text:
                                      Lt(
                                        "setting.about.label-invalid-commercial-license"
                                      ) +
                                      "" +
                                      i,
                                  }),
                                  o.addButton(function (e) {
                                    return e
                                      .setButtonText(
                                        Lt(
                                          "setting.about.button-activate-commercial-license"
                                        )
                                      )
                                      .setCta()
                                      .onClick(function () {
                                        C.openCommercialLicenseModal();
                                      });
                                  }))
                                : o.descEl.createEl("p", {
                                    text: Lt(
                                      "setting.about.label-validating-commercial-license"
                                    ),
                                  });
                          } else if (t) {
                            var a = document.createDocumentFragment();
                            a.createEl("b", {
                              cls: "u-pop",
                              text: "Catalyst " + t,
                            }),
                              a.appendText(
                                Lt("setting.about.label-personal-license")
                              ),
                              a.appendText(
                                Lt("setting.about.label-thank-you-for-support")
                              ),
                              o
                                .setName(Lt("setting.about.label-license"))
                                .setDesc(a)
                                .addButton(function (e) {
                                  return e
                                    .setButtonText(
                                      Lt(
                                        "setting.about.button-activate-commercial-license"
                                      )
                                    )
                                    .onClick(function () {
                                      C.openCommercialLicenseModal();
                                    });
                                });
                          } else
                            o.setName(Lt("setting.about.label-license"))
                              .setDesc(
                                Lt("setting.about.label-free-personal-license")
                              )
                              .addButton(function (e) {
                                return e
                                  .setCta()
                                  .setButtonText(
                                    Lt(
                                      "setting.about.button-activate-commercial-license"
                                    )
                                  )
                                  .onClick(function () {
                                    C.openCommercialLicenseModal();
                                  });
                              });
                        }),
                        new ZD(e)
                          .setName(Lt("setting.about.option-advanced"))
                          .setHeading(),
                        eb.isDesktopApp &&
                          l &&
                          new ZD(e)
                            .setName(Lt("setting.about.option-hw-acceleration"))
                            .setDesc(
                              createFragment(function (e) {
                                e.createDiv({
                                  text: Lt(
                                    "setting.about.option-hw-acceleration-description"
                                  ),
                                }),
                                  e.createDiv({
                                    cls: "mod-warning",
                                    text: Lt(
                                      "setting.about.option-hw-acceleration-warning"
                                    ),
                                  });
                              })
                            )
                            .addButton(function (e) {
                              (y = e),
                                e
                                  .setCta()
                                  .setButtonText(
                                    Lt("setting.about.button-relaunch")
                                  )
                                  .onClick(function () {
                                    ut(function (e) {
                                      e.ipcRenderer.sendSync("relaunch");
                                    });
                                  }),
                                e.buttonEl.hide();
                            })
                            .addToggle(function (e) {
                              return e.setValue(!c).onChange(function (e) {
                                (e = !e),
                                  ut(function (t) {
                                    t.ipcRenderer.sendSync("disable-gpu", e),
                                      y.buttonEl.toggle(e !== c);
                                  });
                              });
                            }),
                        (w =
                          localStorage.getItem(this.app.appId + "-config") ||
                          ""),
                        (k = w),
                        new ZD(e)
                          .setName(Lt("setting.about.option-config-location"))
                          .setDesc(
                            Lt(
                              "setting.about.option-config-location-description"
                            )
                          )
                          .addButton(function (e) {
                            (b = e),
                              e
                                .setCta()
                                .setButtonText(
                                  Lt("setting.about.button-relaunch")
                                )
                                .onClick(function () {
                                  localStorage.setItem(
                                    C.app.appId + "-config",
                                    k
                                  ),
                                    window.location.reload();
                                }),
                              e.buttonEl.hide();
                          })
                          .addText(function (e) {
                            e.setPlaceholder(".obsidian")
                              .setValue(w)
                              .onChange(function (t) {
                                !t || Tb.validateConfigDir(t)
                                  ? (en(), (k = t), b.buttonEl.toggle(t !== w))
                                  : Zt(
                                      e.inputEl,
                                      Lt(
                                        "setting.about.option-config-location-warning"
                                      ),
                                      {
                                        placement: "left",
                                        classes: ["mod-error"],
                                      }
                                    );
                              });
                          }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.openCommercialLicenseModal = function () {
              var e = this;
              this.setting.close();
              var t,
                n,
                i = this.app,
                r = new yD(i)
                  .setTitle(Lt("setting.about.label-activate-license"))
                  .setContent(
                    createFragment(function (e) {
                      e.createDiv("message-container", function (e) {
                        n = e.createDiv("message mod-error");
                      }),
                        n.hide();
                      var i = "https://obsidian.md/pricing";
                      e.createEl(
                        "p",
                        {
                          text: Lt(
                            "setting.account.message-obtain-commercial-license",
                            { pricingPageLink: i }
                          ),
                        },
                        function (e) {
                          e.innerHTML = e.innerHTML.replace(
                            i,
                            '<a href="' + i + '">' + i + "</a>"
                          );
                        }
                      ),
                        e.createEl("p", {
                          text: Lt(
                            "setting.about.label-enter-commercial-license"
                          ),
                        }),
                        e.createEl("p", {}, function (e) {
                          e.createEl("label", {
                            cls: "input-label",
                            text: Lt("setting.about.label-license-key"),
                          }),
                            (t = e.createEl(
                              "input",
                              { type: "text" },
                              function (e) {
                                e.setAttribute(
                                  "placeholder",
                                  Lt("setting.about.license-key-placeholder")
                                );
                              }
                            ));
                        });
                    })
                  )
                  .addButton(
                    "mod-cta",
                    Lt("setting.about.button-activate"),
                    function () {
                      return (
                        (i.account.key = t.value),
                        i.account.checkKey(function () {
                          "valid" === i.account.keyValidation
                            ? (r.close(), e.setting.open())
                            : ((i.account.key = null),
                              n.setText(i.account.keyValidation),
                              n.show());
                        }),
                        !0
                      );
                    }
                  )
                  .addCancelButton();
              r.open();
            }),
            t
          );
        })(IN),
        oq = (function (e) {
          function t(t, n) {
            var i = e.call(this, t, n) || this;
            return (i.name = Lt("setting.account.name")), (i.id = "account"), i;
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              var e,
                t,
                n,
                i,
                r = this,
                o = this.app.account;
              this.containerEl.empty(), (e = this.containerEl.createDiv());
              var s = function () {
                  t.hide();
                  var e = n.value,
                    s = i.value,
                    a = !1;
                  "" === e
                    ? (t.setText(Lt("setting.account.message-empty-email")),
                      (a = !0))
                    : -1 === e.indexOf("@")
                    ? (t.setText(Lt("setting.account.message-invalid-email")),
                      (a = !0))
                    : "" === s &&
                      (t.setText(Lt("setting.account.message-empty-password")),
                      (a = !0)),
                    a
                      ? t.show()
                      : o.login(e, s, function (e) {
                          if (e.error && "Login failed" === e.error)
                            return (
                              t.setText(
                                Lt("setting.account.message-login-failed")
                              ),
                              void t.show()
                            );
                          r.display();
                        });
                },
                a = this.containerEl.createDiv("loader-cube", function (e) {
                  for (var t = 1; t <= 9; t++)
                    e.createDiv({ cls: "sk-cube sk-cube" + t });
                }),
                l = this.containerEl.createDiv({}, function (e) {
                  e.createEl("h2", {
                    text: Lt("setting.account.label-log-in"),
                  }),
                    e.createDiv("message-container", function (e) {
                      (t = e.createDiv("message mod-error")).hide();
                    }),
                    e.createEl("p", "login-field", function (e) {
                      e.createEl("label", {
                        cls: "input-label",
                        text: Lt("setting.account.label-email"),
                      }),
                        (n = e.createEl(
                          "input",
                          { type: "email" },
                          function (e) {
                            e.setAttribute(
                              "placeholder",
                              Lt("setting.account.placeholder-email")
                            ),
                              e.addEventListener("keydown", function (e) {
                                e.isComposing || "Enter" !== e.key || s();
                              });
                          }
                        ));
                    }),
                    e.createEl("p", "login-field", function (e) {
                      e.createEl("label", {
                        cls: "input-label",
                        text: Lt("setting.account.label-password"),
                      }),
                        (i = e.createEl(
                          "input",
                          { type: "password" },
                          function (e) {
                            e.setAttribute(
                              "placeholder",
                              Lt("setting.account.placeholder-password")
                            ),
                              e.addEventListener("keydown", function (e) {
                                e.isComposing || "Enter" !== e.key || s();
                              });
                          }
                        ));
                    }),
                    e.createDiv("button-container u-center-text", function (e) {
                      e.createEl(
                        "button",
                        {
                          cls: "mod-cta",
                          text: Lt("setting.account.button-login"),
                        },
                        function (e) {
                          e.addEventListener("click", s.bind(r));
                        }
                      );
                    }),
                    e.createEl("p", "u-center-text", function (e) {
                      e.createSpan({
                        text: Lt("setting.account.label-no-account"),
                      }),
                        e.createEl(
                          "a",
                          { text: Lt("setting.account.link-sign-up-now") },
                          function (e) {
                            e.setAttribute(
                              "href",
                              "https://obsidian.md/account#mode=signup"
                            ),
                              e.setAttribute("target", "_blank");
                          }
                        );
                    });
                });
              l.hide();
              var c = function () {
                o.getUserInfo().then(function () {
                  o.checkKey(function () {
                    o.token &&
                      (function () {
                        e.empty(),
                          e.createEl("h2", {
                            text: Lt("setting.account.label-welcome", {
                              name: r.app.account.name,
                            }),
                          }),
                          e.createEl(
                            "p",
                            {
                              text: Lt(
                                "setting.account.label-your-account-email"
                              ),
                            },
                            function (e) {
                              e.createSpan({
                                cls: "u-pop",
                                text: r.app.account.email,
                              });
                            }
                          );
                        var t,
                          n = r.app.account,
                          i = e.createDiv(),
                          o = n.license;
                        ["insider", "supporter", "vip"].contains(o)
                          ? ("insider" === o
                              ? (t = Lt("setting.account.label-insider"))
                              : "supporter" === o
                              ? (t = Lt("setting.account.label-supporter"))
                              : "vip" === o &&
                                (t = Lt("setting.account.label-vip")),
                            i.createEl("p", {}, function (e) {
                              e.innerHTML = Lt(
                                "setting.account.label-role-text",
                                { role: '<b class="u-pop">' + t + "</b>" }
                              );
                            }),
                            i.createEl("p", {}, function (e) {
                              var t = Lt(
                                  "setting.account.message-get-community-badges-link-text"
                                ),
                                n = Lt(
                                  "setting.account.message-get-community-badges-instructions",
                                  {
                                    link:
                                      '<a href="https://help.obsidian.md/Licenses/Catalyst+license#How+do+I+get+my+shiny+badges+after+I+upgrade">' +
                                      t +
                                      "</a>",
                                  }
                                );
                              e.innerHTML = n;
                            }))
                          : (o = null),
                          (n.key && n.license) ||
                            e.createEl("p", {
                              text: Lt(
                                "setting.account.label-action-suggestion"
                              ),
                            }),
                          n.key ||
                            e.createEl("p", {}, function (e) {
                              e.createEl("button", "mod-cta", function (e) {
                                e.createEl(
                                  "a",
                                  {
                                    text: Lt(
                                      "setting.account.button-get-commercial-license"
                                    ),
                                  },
                                  function (e) {
                                    e.setAttribute(
                                      "href",
                                      "https://obsidian.md/pricing"
                                    ),
                                      e.setAttribute("target", "_blank");
                                  }
                                );
                              });
                            }),
                          n.license ||
                            e.createEl("p", {}, function (e) {
                              e.createEl("button", "mod-cta", function (e) {
                                e.createEl(
                                  "a",
                                  {
                                    text: Lt(
                                      "setting.account.button-get-catalyst-license"
                                    ),
                                  },
                                  function (e) {
                                    e.setAttribute(
                                      "href",
                                      "https://obsidian.md/pricing"
                                    ),
                                      e.setAttribute("target", "_blank");
                                  }
                                );
                              }),
                                e.createEl(
                                  "button",
                                  {
                                    cls: "mod-cta",
                                    text: Lt(
                                      "setting.account.button-check-for-catalyst-license"
                                    ),
                                  },
                                  function (e) {
                                    e.addEventListener("click", function () {
                                      c();
                                    });
                                  }
                                );
                            }),
                          o &&
                            "vip" !== o &&
                            e.createEl("a", {}, function (e) {
                              e.createEl("button", {
                                cls: "mod-cta",
                                text: Lt(
                                  "setting.account.button-upgrade-catalyst-license"
                                ),
                              }),
                                e.setAttribute(
                                  "href",
                                  "https://obsidian.md/account"
                                ),
                                e.setAttribute("target", "_blank");
                            }),
                          e.createEl(
                            "button",
                            { text: Lt("setting.account.button-log-out") },
                            function (e) {
                              e.addEventListener("click", function () {
                                n.logout(r.display.bind(r));
                              });
                            }
                          );
                      })(),
                      a.hide(),
                      o.token ? (l.hide(), e.show()) : (l.show(), e.hide());
                  });
                });
              };
              c();
            }),
            t
          );
        })(IN),
        sq = At("setting.appearance"),
        aq = [
          { id: "obsidian", nameI18n: "dark-theme" },
          { id: "moonstone", nameI18n: "light-theme" },
        ],
        lq = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.name = sq("name")), (t.id = "appearance"), t;
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              return A(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g,
                  m = this;
                return D(this, function (v) {
                  for (
                    t = (e = this).containerEl,
                      n = e.app,
                      t.empty(),
                      i = n.customCss,
                      new ZD(t)
                        .setName(sq("option-base-theme"))
                        .setDesc(sq("option-base-theme-description"))
                        .addDropdown(function (e) {
                          e.onChange(function (e) {
                            n.changeTheme(e);
                          });
                          for (var t = 0, i = aq; t < i.length; t++) {
                            var r = i[t];
                            e.addOption(r.id, sq(r.nameI18n));
                          }
                          e.setValue(n.getTheme());
                        }),
                      new ZD(t)
                        .setName(Lt("plugins.translucency.name"))
                        .setDesc(Lt("plugins.translucency.desc"))
                        .addToggle(function (e) {
                          return e
                            .setValue(n.vault.getConfig("translucency"))
                            .onChange(function (e) {
                              i.setTranslucency(e);
                            });
                        }),
                      s = xb.baseFontSize,
                      a = function (e) {
                        return r.extraSettingsEl.toggleVisibility(e !== s);
                      },
                      new ZD(t)
                        .setName(sq("option-font-size"))
                        .setDesc(sq("option-font-size-description"))
                        .addExtraButton(function (e) {
                          return (r = e
                            .setIcon(Xm)
                            .setTooltip(
                              Lt("setting.hotkeys.tooltip-restore-default")
                            )
                            .onClick(function () {
                              o.setValue(s);
                            }));
                        })
                        .addSlider(function (e) {
                          return (o = e
                            .setLimits(10, 30, 1)
                            .setDynamicTooltip()
                            .setValue(n.vault.getConfig("baseFontSize"))
                            .onChange(function (e) {
                              n.changeBaseFontSize(e), a(e);
                            }));
                        }),
                      a(o.getValue()),
                      new ZD(t)
                        .setName(sq("option-font-size-action"))
                        .setDesc(sq("option-font-size-action-description"))
                        .addToggle(function (e) {
                          return e
                            .setValue(n.vault.getConfig("baseFontSizeAction"))
                            .onChange(function (e) {
                              n.vault.setConfig("baseFontSizeAction", e);
                            });
                        }),
                      l = new ZD(t)
                        .setName(sq("option-themes"))
                        .setDesc(sq("option-manage-themes-description")),
                      eb.isDesktopApp &&
                        l.addExtraButton(function (e) {
                          return e
                            .setIcon(fm)
                            .setTooltip(sq("button-open-themes-folder"))
                            .onClick(function () {
                              return A(m, void 0, void 0, function () {
                                var e, t;
                                return D(this, function (n) {
                                  switch (n.label) {
                                    case 0:
                                      return (
                                        (e = this.app.vault),
                                        (t = i.getThemeFolder()),
                                        [4, e.exists(t)]
                                      );
                                    case 1:
                                      return n.sent()
                                        ? [3, 3]
                                        : [4, e.createFolder(t)];
                                    case 2:
                                      n.sent(), (n.label = 3);
                                    case 3:
                                      return (
                                        this.app.openWithDefaultApp(t), [2]
                                      );
                                  }
                                });
                              });
                            });
                        }),
                      l.addButton(function (e) {
                        return e
                          .setButtonText(sq("option-theme-button-manage"))
                          .setCta()
                          .onClick(function () {
                            new pq(n, m).open();
                          });
                      }),
                      c = i.snippets,
                      u = i.enabledSnippets,
                      h = new ZD(t)
                        .setHeading()
                        .setName(sq("option-css-snippets"))
                        .addExtraButton(function (e) {
                          return e
                            .setIcon(dv)
                            .setTooltip(sq("button-reload-snippets"))
                            .onClick(function () {
                              return A(m, void 0, void 0, function () {
                                return D(this, function (e) {
                                  switch (e.label) {
                                    case 0:
                                      return [4, i.readCssFolders()];
                                    case 1:
                                      return (
                                        e.sent(),
                                        new lw(sq("msg-reloaded-snippets")),
                                        this.display(),
                                        [2]
                                      );
                                  }
                                });
                              });
                            });
                        }),
                      eb.isDesktopApp &&
                        h.addExtraButton(function (e) {
                          return e
                            .setIcon(fm)
                            .setTooltip(sq("button-open-snippets-folder"))
                            .onClick(function () {
                              return A(m, void 0, void 0, function () {
                                var e, t;
                                return D(this, function (n) {
                                  switch (n.label) {
                                    case 0:
                                      return (
                                        (e = this.app.vault),
                                        (t = i.getSnippetsFolder()),
                                        [4, e.exists(t)]
                                      );
                                    case 1:
                                      return n.sent()
                                        ? [3, 3]
                                        : [4, e.createFolder(t)];
                                    case 2:
                                      n.sent(), (n.label = 3);
                                    case 3:
                                      return (
                                        this.app.openWithDefaultApp(t), [2]
                                      );
                                  }
                                });
                              });
                            });
                        }),
                      0 === c.length &&
                        new ZD(t)
                          .setName(sq("label-no-css-snippets-found"))
                          .setDesc(
                            sq("no-snippet-description", {
                              path: "vault/" + i.getSnippetsFolder(),
                            })
                          ),
                      p = function (e) {
                        new ZD(t)
                          .setName(e)
                          .setDesc(
                            sq("option-toggle-snippet-description", {
                              path: "vault/" + i.getSnippetPath(e),
                            })
                          )
                          .addToggle(function (t) {
                            return t.setValue(u.has(e)).onChange(function (t) {
                              return A(m, void 0, void 0, function () {
                                return D(this, function (n) {
                                  switch (n.label) {
                                    case 0:
                                      return [4, i.setCssEnabledStatus(e, t)];
                                    case 1:
                                      return n.sent(), [2];
                                  }
                                });
                              });
                            });
                          });
                      },
                      d = 0,
                      f = c;
                    d < f.length;
                    d++
                  )
                    (g = f[d]), p(g);
                  return [2];
                });
              });
            }),
            t
          );
        })(IN),
        cq = QN("obsidianmd/obsidian-releases", "community-css-themes.json"),
        uq = Wh(
          function () {
            return A(void 0, void 0, Promise, function () {
              var e, t;
              return D(this, function (n) {
                switch (n.label) {
                  case 0:
                    return [4, ajaxPromise({ url: cq })];
                  case 1:
                    if (
                      ((e = n.sent()), (t = JSON.parse(e)), !Array.isArray(t))
                    )
                      throw new Error("Failed to parse community themes.");
                    return [2, t];
                }
              });
            });
          },
          3e5,
          6e4
        ),
        hq = Wh(
          function () {
            return A(void 0, void 0, Promise, function () {
              var e, t;
              return D(this, function (n) {
                switch (n.label) {
                  case 0:
                    return (
                      (t = (e = JSON).parse),
                      [
                        4,
                        ajaxPromise({
                          url: "https://releases.obsidian.md/stats/theme",
                        }),
                      ]
                    );
                  case 1:
                    return [2, t.apply(e, [n.sent()])];
                }
              });
            });
          },
          3e5,
          6e4
        ),
        pq = (function (e) {
          function t(t, n) {
            var i = e.call(this, t) || this;
            return (
              (i.localThemes = []),
              (i.themes = []),
              (i.appearanceSettings = null),
              (i.localSearchInput = null),
              (i.searchInput = null),
              (i.currentModeToggle = null),
              (i.localThemeListEl = null),
              (i.themeListEl = null),
              (i.appearanceSettings = n),
              (i.sortOrder = t.vault.getConfig("communityThemeSortOrder")),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.onOpen = function () {
              this.modalEl.addClass("mod-community-theme"), this.loadThemes();
            }),
            (t.prototype.onClose = function () {
              this.appearanceSettings.display();
            }),
            (t.prototype.loadThemes = function () {
              return A(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c,
                  u,
                  h,
                  p,
                  d,
                  f,
                  g,
                  m,
                  v,
                  y,
                  b,
                  w,
                  k,
                  C,
                  x,
                  S,
                  E,
                  M,
                  L = this;
                return D(this, function (A) {
                  switch (A.label) {
                    case 0:
                      (e = this.contentEl),
                        (t = {}),
                        (n = {}),
                        (i = setTimeout(function () {
                          return new lw(
                            Lt("plugins.custom-css.msg-fetching-themes")
                          );
                        }, 100)),
                        (A.label = 1);
                    case 1:
                      return A.trys.push([1, 3, , 4]), [4, uq()];
                    case 2:
                      for (
                        r = A.sent(), clearTimeout(i), o = 0, s = r;
                        o < s.length;
                        o++
                      )
                        (a = s[o]), (t[a.name] = a);
                      return [3, 4];
                    case 3:
                      return (
                        (l = A.sent()),
                        console.error(l),
                        clearTimeout(i),
                        new lw(Lt("plugins.custom-css.msg-load-error")),
                        [3, 4]
                      );
                    case 4:
                      return A.trys.push([4, 6, , 7]), [4, hq()];
                    case 5:
                      return (n = A.sent()), [3, 7];
                    case 6:
                      return (c = A.sent()), console.error(c), [3, 7];
                    case 7:
                      for (
                        e.empty(),
                          u = this.localThemes = [],
                          h = this.themes = [],
                          e.createDiv({
                            cls: "modal-title",
                            text: sq("label-installed-themes"),
                          }),
                          p = e.createDiv("community-theme-container"),
                          d = p.createDiv("community-theme-filters-container"),
                          this.localThemeListEl = p.createDiv("theme-list"),
                          new ZD(d).addSearch(function (e) {
                            return e
                              .setPlaceholder(
                                Lt("plugins.custom-css.prompt-filter")
                              )
                              .onChange(function () {
                                return L.updateLocalThemeVisibility();
                              })
                              .then(function (e) {
                                return (L.localSearchInput = e);
                              });
                          }),
                          u.push(
                            this.addThemeCard({
                              name: "Default",
                              author: "Obsidian",
                              modes: ["dark", "light"],
                              screenshot:
                                "obsidian" === this.app.getTheme()
                                  ? "dark.png"
                                  : "light.png",
                              repo: "obsidianmd/obsidian-releases",
                              el: null,
                              downloads: 0,
                            })
                          ),
                          f = this.app.customCss.themes,
                          g = 0,
                          m = f;
                        g < m.length;
                        g++
                      )
                        (w = m[g]),
                          (v = t[w])
                            ? ((C = v.name),
                              (x = v.author),
                              (S = v.repo),
                              (E = v.modes),
                              (M = v.screenshot),
                              u.push(
                                this.addThemeCard({
                                  name: C,
                                  author: x,
                                  repo: S,
                                  modes: E,
                                  screenshot: M,
                                  el: null,
                                  downloads: n[C] ? n[C].download : 0,
                                })
                              ))
                            : u.push(
                                this.addThemeCard({
                                  name: w,
                                  author: "Unknown",
                                  modes: ["dark", "light"],
                                  screenshot: "",
                                  repo: "",
                                  el: null,
                                  downloads: 0,
                                })
                              );
                      if (Object.keys(t).length > 0) {
                        for (w in (e.createEl("hr"),
                        e.createDiv({
                          cls: "modal-title",
                          text: sq("option-community-themes"),
                        }),
                        (y = e.createDiv("community-theme-container")),
                        (b = y.createDiv("community-theme-filters-container")),
                        (this.themeListEl = y.createDiv("theme-list")),
                        new ZD(b)
                          .addSearch(function (e) {
                            return e
                              .setPlaceholder(
                                Lt("plugins.custom-css.prompt-filter")
                              )
                              .onChange(function () {
                                return L.updateThemeVisibility();
                              })
                              .then(function (e) {
                                return (L.searchInput = e);
                              });
                          })
                          .addButton(function (e) {
                            return e
                              .onClick(function (e) {
                                L.showSortMenu(e);
                              })
                              .then(function (e) {
                                if (eb.isMobile)
                                  e.setButtonText(
                                    Lt(
                                      "plugins.file-explorer.action-change-sort"
                                    )
                                  );
                                else {
                                  var t = e.buttonEl;
                                  Xy(t, $m),
                                    nn(
                                      t,
                                      Lt(
                                        "plugins.file-explorer.action-change-sort"
                                      )
                                    ),
                                    t.addClass("clickable-icon");
                                }
                              });
                          }),
                        b.createDiv(
                          "community-theme-mode-toggle-container",
                          function (e) {
                            e.createEl("label", {
                              cls: "community-theme-mode-toggle-label",
                              text:
                                "obsidian" === L.app.getTheme()
                                  ? Lt(
                                      "plugins.custom-css.label-dark-theme-only"
                                    )
                                  : Lt(
                                      "plugins.custom-css.label-light-theme-only"
                                    ),
                            }),
                              (L.currentModeToggle = new rT(e)
                                .setValue(!0)
                                .onChange(function () {
                                  return L.updateThemeVisibility();
                                }));
                          }
                        ),
                        t))
                          t.hasOwnProperty(w) &&
                            (f.contains(w) ||
                              ((k = t[w]),
                              (C = k.name),
                              (x = k.author),
                              (S = k.repo),
                              (E = k.modes),
                              (M = k.screenshot),
                              h.push(
                                this.addThemeCard({
                                  name: C,
                                  author: x,
                                  repo: S,
                                  modes: E,
                                  screenshot: M,
                                  el: null,
                                  downloads: n[C] ? n[C].download : 0,
                                })
                              )));
                        this.updateThemeVisibility();
                      }
                      return this.updateLocalThemeVisibility(), [2];
                  }
                });
              });
            }),
            (t.prototype.addThemeCard = function (e) {
              var t = this,
                n = e.name,
                i = e.author,
                r = e.repo,
                o = e.screenshot,
                s = e.downloads,
                a = "Default" === n,
                l = a || this.app.customCss.themes.contains(n),
                c = (e.el = createDiv("community-theme"));
              a && (n = Lt("setting.appearance.label-default-theme")),
                c.createDiv({ cls: "community-theme-title", text: n });
              var u = c.createDiv({
                cls: "community-theme-info u-center-text",
                text: i,
              });
              if (
                (s &&
                  u.createSpan("community-theme-downloads", function (e) {
                    e.createSpan({}, function (e) {
                      Xy(e, gv, 12);
                    }),
                      e.createSpan({
                        cls: "community-plugin-downloads-text",
                        text: s.toLocaleString(),
                      }),
                      nn(
                        e,
                        Lt(
                          "setting.third-party-plugin.tooltip-downloaded-times",
                          { count: s }
                        )
                      );
                  }),
                r && o)
              ) {
                var h = QN(r, o);
                c.createDiv()
                  .createEl(
                    "img",
                    {
                      cls: "community-theme-screenshot",
                      attr: { alt: n, src: h },
                    },
                    function (e) {
                      nn(e, sq("tooltip-click-to-enlarge"));
                    }
                  )
                  .addEventListener("click", function () {
                    var e = new vD(t.app);
                    e.modalEl.addClass("mod-image-lightbox"),
                      e.contentEl.createEl("img", {
                        cls: "community-theme-lightbox",
                        attr: { alt: n, src: h },
                      }),
                      e.open();
                  });
              } else
                c.createDiv({
                  cls: "community-theme-screenshot mod-unavailable",
                  text: sq("label-screenshot-unavailable"),
                });
              var p = c.createDiv("modal-button-container"),
                d = this.app.customCss.theme,
                f = (a && !d) || d === n;
              if (
                (f
                  ? (c.addClass("is-selected"),
                    p.createEl("button", {
                      text: sq("label-currently-selected"),
                    }))
                  : p
                      .createEl("button", {
                        cls: "mod-cta",
                        text: Lt("plugins.custom-css.label-use"),
                      })
                      .addEventListener("click", function () {
                        return A(t, void 0, void 0, function () {
                          var t, i;
                          return D(this, function (r) {
                            switch (r.label) {
                              case 0:
                                return a
                                  ? (this.app.customCss.setTheme(""), [3, 4])
                                  : [3, 1];
                              case 1:
                                return l
                                  ? [3, 3]
                                  : [4, this.downloadOrUpdateTheme(e)];
                              case 2:
                                r.sent();
                                try {
                                  (t = []),
                                    (i =
                                      localStorage.getItem("local-themes")) &&
                                      ((t = JSON.parse(i)),
                                      Array.isArray(t) || (t = [])),
                                    t.contains(n) ||
                                      (t.push(n),
                                      localStorage.setItem(
                                        "local-themes",
                                        JSON.stringify(t)
                                      ),
                                      ajax({
                                        method: "POST",
                                        url:
                                          "https://releases.obsidian.md/stats/theme/" +
                                          n +
                                          "/download",
                                      }));
                                } catch (e) {
                                  console.error(e);
                                }
                                r.label = 3;
                              case 3:
                                this.app.customCss.setTheme(n), (r.label = 4);
                              case 4:
                                return (
                                  new lw(
                                    Lt(
                                      "plugins.custom-css.msg-now-using-theme",
                                      { title: n }
                                    )
                                  ),
                                  [4, this.loadThemes()]
                                );
                              case 5:
                                return r.sent(), [2];
                            }
                          });
                        });
                      }),
                !a && l)
              ) {
                if (r)
                  p.createEl("button", {
                    cls: "mod-cta",
                    text: Lt("plugins.custom-css.label-update"),
                  }).addEventListener("click", function () {
                    return A(t, void 0, void 0, function () {
                      return D(this, function (t) {
                        switch (t.label) {
                          case 0:
                            return [4, this.downloadOrUpdateTheme(e)];
                          case 1:
                            return (
                              t.sent(),
                              new lw(
                                Lt("plugins.custom-css.msg-updated-theme", {
                                  title: n,
                                })
                              ),
                              [4, this.loadThemes()]
                            );
                          case 2:
                            return t.sent(), [2];
                        }
                      });
                    });
                  });
                var g = p.createSpan({
                  cls: "community-theme-remove-button clickable-icon u-muted",
                });
                Xy(g, um, 16),
                  nn(g, Lt("plugins.custom-css.tooltip-remove-theme")),
                  g.addEventListener("click", function () {
                    return A(t, void 0, void 0, function () {
                      return D(this, function (e) {
                        switch (e.label) {
                          case 0:
                            return [4, this.removeTheme(n)];
                          case 1:
                            return (
                              e.sent(),
                              f && this.app.customCss.setTheme(""),
                              new lw(
                                Lt("plugins.custom-css.msg-deleted-theme", {
                                  title: n,
                                })
                              ),
                              [4, this.loadThemes()]
                            );
                          case 2:
                            return e.sent(), [2];
                        }
                      });
                    });
                  });
              }
              return (
                r &&
                  !a &&
                  u.createSpan({ cls: "clickable-icon" }, function (e) {
                    Xy(e, Ky, 18),
                      nn(e, Lt("plugins.custom-css.label-visit-on-github")),
                      e.addEventListener("click", function () {
                        window.open(XN(r));
                      });
                  }),
                e
              );
            }),
            (t.prototype.showSortMenu = function (e) {
              var t = this;
              e.preventDefault();
              for (
                var n = new rw(this.app), i = this.sortOrder, r = 0, o = mB;
                r < o.length;
                r++
              ) {
                for (
                  var s = function (e) {
                      var r = Lt("setting.third-party-plugin." + vB[e]);
                      n.addItem(function (n) {
                        return n
                          .setTitle(r)
                          .setActive(e === i)
                          .onClick(function () {
                            (t.sortOrder = e),
                              t.app.vault.setConfig(
                                "communityThemeSortOrder",
                                e
                              ),
                              t.updateThemeVisibility();
                          });
                      });
                    },
                    a = 0,
                    l = o[r];
                  a < l.length;
                  a++
                ) {
                  s(l[a]);
                }
                n.addSeparator();
              }
              n.showAtMouseEvent(e);
            }),
            (t.prototype.downloadOrUpdateTheme = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i, r, o, s;
                return D(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (t = e.name),
                        (n = this.app),
                        (i = n.vault),
                        (r = n.customCss),
                        [4, this.downloadCss(e)]
                      );
                    case 1:
                      return (
                        (o = a.sent()),
                        (s = r.getThemeFolder()),
                        [4, i.exists(s)]
                      );
                    case 2:
                      return a.sent() ? [3, 4] : [4, i.createFolder(s)];
                    case 3:
                      a.sent(), (a.label = 4);
                    case 4:
                      return [4, i.adapter.write(r.getThemePath(t), o)];
                    case 5:
                      return a.sent(), [4, r.readCssFolders()];
                    case 6:
                      return a.sent(), [2];
                  }
                });
              });
            }),
            (t.prototype.removeTheme = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return (
                        (t = this.app),
                        (n = t.vault),
                        (i = t.customCss),
                        [4, n.adapter.exists(i.getThemePath(e))]
                      );
                    case 1:
                      return r.sent()
                        ? [4, n.adapter.remove(i.getThemePath(e))]
                        : [3, 4];
                    case 2:
                      return r.sent(), [4, i.readCssFolders()];
                    case 3:
                      r.sent(), (r.label = 4);
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.downloadCss = function (e) {
              var t = QN(e.repo, "obsidian.css");
              return ajaxPromise({ url: t });
            }),
            (t.prototype.updateLocalThemeVisibility = function () {
              for (
                var e = this.localSearchInput.getValue().toLowerCase(),
                  t = [],
                  n = 0,
                  i = this.localThemes;
                n < i.length;
                n++
              ) {
                var r = i[n];
                ("" === e || r.name.toLowerCase().contains(e)) && t.push(r);
              }
              this.localThemeListEl.setChildrenInPlace(
                t.map(function (e) {
                  return e.el;
                })
              );
            }),
            (t.prototype.updateThemeVisibility = function () {
              for (
                var e = this.searchInput.getValue().toLowerCase(),
                  t = this.currentModeToggle.getValue(),
                  n = "obsidian" === this.app.getTheme() ? "dark" : "light",
                  i = this.sortOrder,
                  r = [],
                  o = 0,
                  s = this.themes;
                o < s.length;
                o++
              ) {
                var a = s[o],
                  l = a.modes,
                  c = !0,
                  u = !0;
                "" !== e && (c = a.name.toLowerCase().contains(e)),
                  t && l && (u = l.contains(n)),
                  c && u && r.push(a);
              }
              if ("release" === i) r.reverse();
              else if ("releaseReverse" !== i) {
                var h = null;
                "download" === i
                  ? (h = function (e, t) {
                      return t.downloads - e.downloads;
                    })
                  : "downloadReverse" === i
                  ? (h = function (e, t) {
                      return e.downloads - t.downloads;
                    })
                  : "alphabetical" === i
                  ? (h = function (e, t) {
                      return YN(e.name, t.name);
                    })
                  : "alphabeticalReverse" === i &&
                    (h = function (e, t) {
                      return -YN(e.name, t.name);
                    }),
                  r.sort(h);
              }
              this.themeListEl.setChildrenInPlace(
                r.map(function (e) {
                  return e.el;
                })
              );
            }),
            t
          );
        })(vD),
        dq = At("setting.third-party-plugin"),
        fq = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.name = dq("name")), (t.id = "community-plugins"), t;
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              this.render(!0);
            }),
            (t.prototype.render = function (e) {
              var t = this,
                n = this.containerEl;
              n.empty();
              var i = this.app.plugins,
                r = !i.isEnabled();
              if (
                (new ZD(n)
                  .setName(dq("option-safe-mode"))
                  .setDesc(
                    dq(
                      r
                        ? "option-safe-mode-description-on"
                        : "option-safe-mode-description-off"
                    )
                  )
                  .addToggle(function (e) {
                    e.setValue(r).onChange(function (e) {
                      return A(t, void 0, void 0, function () {
                        return D(this, function (t) {
                          switch (t.label) {
                            case 0:
                              return e ? [4, i.setEnable(!1)] : [3, 2];
                            case 1:
                              return t.sent(), this.render(), [3, 3];
                            case 2:
                              this.setting.close(),
                                new lB(this.app).open(),
                                (t.label = 3);
                            case 3:
                              return [2];
                          }
                        });
                      });
                    });
                  }),
                i.isEnabled())
              ) {
                new ZD(n)
                  .setName(dq("option-browse-community-plugins"))
                  .setDesc(dq("option-browse-community-plugins-description"))
                  .addButton(function (e) {
                    return e
                      .setCta()
                      .setButtonText(dq("button-browse"))
                      .onClick(function () {
                        return A(t, void 0, void 0, function () {
                          return D(this, function (e) {
                            return (
                              this.setting.close(),
                              new yB(this.app, null, !0).open(),
                              [2]
                            );
                          });
                        });
                      });
                  });
                var o = i.manifests,
                  s = i.plugins,
                  a = Object.keys(o),
                  l = i.updates,
                  c = Object.keys(l).length;
                if (
                  (a.sort(function (e, t) {
                    return o[e].name.localeCompare(o[t].name);
                  }),
                  new ZD(n)
                    .setName(dq("label-current-plugins"))
                    .setDesc(
                      dq("label-currently-installed", { count: a.length }) +
                        " " +
                        (c > 0 ? dq("msg-updates-found", { count: c }) : "")
                    )
                    .then(function (e) {
                      return A(t, void 0, void 0, function () {
                        var t = this;
                        return D(this, function (r) {
                          return (
                            c > 0
                              ? e.addButton(function (e) {
                                  return e
                                    .setCta()
                                    .setButtonText(
                                      dq("button-update-all-plugins")
                                    )
                                    .onClick(function () {
                                      return Th(n, function () {
                                        return A(
                                          t,
                                          void 0,
                                          void 0,
                                          function () {
                                            var e, t, n, r, o;
                                            return D(this, function (s) {
                                              switch (s.label) {
                                                case 0:
                                                  for (t in ((e = []), l))
                                                    e.push(t);
                                                  (n = 0), (s.label = 1);
                                                case 1:
                                                  return n < e.length
                                                    ? ((r = e[n]),
                                                      l.hasOwnProperty(r)
                                                        ? ((o = l[r]),
                                                          [
                                                            4,
                                                            i.installPlugin(
                                                              o.repo,
                                                              o.version,
                                                              o.manifest
                                                            ),
                                                          ])
                                                        : [3, 3])
                                                    : [3, 4];
                                                case 2:
                                                  s.sent(), (s.label = 3);
                                                case 3:
                                                  return n++, [3, 1];
                                                case 4:
                                                  return this.render(), [2];
                                              }
                                            });
                                          }
                                        );
                                      });
                                    });
                                })
                              : a.length > 0 &&
                                e.addButton(function (e) {
                                  return e
                                    .setCta()
                                    .setButtonText(
                                      dq("button-check-for-updates")
                                    )
                                    .onClick(function () {
                                      return Th(n, function () {
                                        return A(
                                          t,
                                          void 0,
                                          void 0,
                                          function () {
                                            return D(this, function (e) {
                                              switch (e.label) {
                                                case 0:
                                                  return [
                                                    4,
                                                    i.checkForUpdates(),
                                                  ];
                                                case 1:
                                                  return (
                                                    e.sent(), this.render(), [2]
                                                  );
                                              }
                                            });
                                          }
                                        );
                                      });
                                    });
                                }),
                            [2]
                          );
                        });
                      });
                    }),
                  new ZD(n)
                    .setName(dq("label-debug-startup-time"))
                    .setDesc(dq("label-debug-startup-time-description"))
                    .addToggle(function (e) {
                      return e
                        .setValue("1" === localStorage.getItem("debug-plugin"))
                        .onChange(function (e) {
                          e
                            ? localStorage.setItem("debug-plugin", "1")
                            : localStorage.removeItem("debug-plugin");
                        });
                    }),
                  a.length > 0)
                ) {
                  new ZD(n)
                    .setName(dq("option-search-installed-plugin"))
                    .setDesc(dq("option-search-installed-plugin-description"))
                    .addSearch(function (n) {
                      return n
                        .setPlaceholder(
                          dq("placeholder-search-installed-plugin")
                        )
                        .onChange(function (e) {
                          t.updateSearch(e);
                        })
                        .then(function () {
                          e &&
                            !eb.isMobile &&
                            setTimeout(function () {
                              return n.inputEl.focus();
                            });
                        });
                    });
                  var u = new ZD(n)
                    .setHeading()
                    .setName(dq("label-installed-plugins"))
                    .addExtraButton(function (e) {
                      return e
                        .setIcon(dv)
                        .setTooltip(dq("button-reload-plugins"))
                        .onClick(function () {
                          return A(t, void 0, void 0, function () {
                            return D(this, function (e) {
                              switch (e.label) {
                                case 0:
                                  return [4, i.loadManifests()];
                                case 1:
                                  return (
                                    e.sent(),
                                    new lw(
                                      dq("msg-reloaded-third-party-plugins")
                                    ),
                                    this.render(),
                                    [2]
                                  );
                              }
                            });
                          });
                        });
                    });
                  eb.isDesktopApp &&
                    u.addExtraButton(function (e) {
                      return e
                        .setIcon(fm)
                        .setTooltip(dq("button-open-plugins-folder"))
                        .onClick(function () {
                          return A(t, void 0, void 0, function () {
                            var e, t;
                            return D(this, function (n) {
                              switch (n.label) {
                                case 0:
                                  return (
                                    (e = this.app.vault),
                                    (t = i.getPluginFolder()),
                                    [4, e.exists(t)]
                                  );
                                case 1:
                                  return n.sent()
                                    ? [3, 3]
                                    : [4, e.createFolder(t)];
                                case 2:
                                  n.sent(), (n.label = 3);
                                case 3:
                                  return this.app.openWithDefaultApp(t), [2];
                              }
                            });
                          });
                        });
                    });
                }
                for (
                  var h = function (e) {
                      if (!o.hasOwnProperty(e)) {
                        var r = s[e].manifest;
                        new ZD(n)
                          .setName(r.name)
                          .setDesc(r.description)
                          .addToggle(function (e) {
                            return e.setValue(!0).onChange(function (e) {
                              return A(t, void 0, void 0, function () {
                                return D(this, function (e) {
                                  switch (e.label) {
                                    case 0:
                                      return [4, i.disablePluginAndSave(r.id)];
                                    case 1:
                                      return e.sent(), this.render(), [2];
                                  }
                                });
                              });
                            });
                          });
                      }
                    },
                    p = 0,
                    d = Object.keys(s);
                  p < d.length;
                  p++
                ) {
                  h(d[p]);
                }
                (this.installedPluginsEl = n.createDiv(
                  "installed-plugins-container"
                )),
                  this.updateSearch("");
              }
            }),
            (t.prototype.renderInstalledPlugin = function (e, t, n, i, r) {
              var o,
                s,
                a = this,
                l = this.app.plugins,
                c = l.plugins,
                u = l.updates,
                h = e.id,
                p = function () {
                  var t = !1,
                    n = !1;
                  l.getPlugin(e.id) &&
                    ((t = a.setting.pluginTabs.some(function (t) {
                      return t.id === e.id;
                    })),
                    Object.keys(a.app.commands.commands).some(function (t) {
                      return t.startsWith(e.id + ":");
                    }) && (n = !0)),
                    o.extraSettingsEl.toggle(t),
                    s.extraSettingsEl.toggle(n);
                },
                d = new ZD(t)
                  .setDesc(
                    createFragment(function (t) {
                      (e.version &&
                        t.createDiv({
                          text: dq("label-version", { version: e.version }),
                        }),
                      e.author) &&
                        lP(
                          t.createDiv({ text: dq("label-by-author") }),
                          e.author,
                          i
                        );
                      lP(t.createDiv(), e.description, r);
                    })
                  )
                  .then(function (t) {
                    if (u.hasOwnProperty(h)) {
                      var i = u[h];
                      t.addButton(function (e) {
                        return e
                          .setCta()
                          .setButtonText(dq("button-update"))
                          .setTooltip(
                            dq("msg-update-plugin", { version: i.version })
                          )
                          .onClick(function () {
                            return Th(t.settingEl, function () {
                              return A(a, void 0, void 0, function () {
                                return D(this, function (e) {
                                  switch (e.label) {
                                    case 0:
                                      return [
                                        4,
                                        l.installPlugin(
                                          i.repo,
                                          i.version,
                                          i.manifest
                                        ),
                                      ];
                                    case 1:
                                      return e.sent(), this.render(), [2];
                                  }
                                });
                              });
                            });
                          });
                      });
                    }
                    lP(t.nameEl, e.name, n);
                  })
                  .addExtraButton(function (t) {
                    return (o = t
                      .setIcon(xm)
                      .setTooltip(Lt("setting.options"))
                      .onClick(function () {
                        return a.setting.openTabById(e.id);
                      }));
                  })
                  .addExtraButton(function (t) {
                    return (s = t
                      .setIcon(Qm)
                      .setTooltip(Lt("setting.hotkeys.name"))
                      .onClick(function () {
                        var t = a.setting.openTabById("hotkeys");
                        t instanceof JN && t.setQuery(e.id);
                      }));
                  })
                  .addExtraButton(function (t) {
                    return t
                      .setIcon(Jm)
                      .setTooltip(dq("label-uninstall"))
                      .onClick(function () {
                        new yD(a.app)
                          .setTitle(dq("label-uninstall-plugin"))
                          .setContent(dq("label-uninstall-plugin-confirmation"))
                          .addButton(
                            "mod-warning",
                            dq("label-uninstall"),
                            function () {
                              return A(a, void 0, void 0, function () {
                                return D(this, function (t) {
                                  switch (t.label) {
                                    case 0:
                                      return [4, l.uninstallPlugin(e.id)];
                                    case 1:
                                      return t.sent(), this.render(), [2];
                                  }
                                });
                              });
                            }
                          )
                          .addCancelButton()
                          .open();
                      });
                  })
                  .addToggle(function (t) {
                    return t
                      .setValue(c.hasOwnProperty(e.id))
                      .onChange(function (n) {
                        return A(a, void 0, void 0, function () {
                          return D(this, function (i) {
                            switch (i.label) {
                              case 0:
                                return n
                                  ? [4, l.enablePluginAndSave(e.id)]
                                  : [3, 2];
                              case 1:
                                return i.sent() || t.setValue(!1), [3, 4];
                              case 2:
                                return [4, l.disablePluginAndSave(e.id)];
                              case 3:
                                i.sent(), (i.label = 4);
                              case 4:
                                return p(), n && setTimeout(p, 100), [2];
                            }
                          });
                        });
                      });
                  }).infoEl;
              (d.style.cursor = "pointer"),
                d.addEventListener("click", function () {
                  a.setting.close(), new yB(a.app, h, !0).open();
                }),
                p();
            }),
            (t.prototype.updateSearch = function (e) {
              var t = this.app.plugins,
                n = this.installedPluginsEl;
              n.empty();
              var i = t.manifests,
                r = Object.keys(i);
              r.sort(function (e, t) {
                return i[e].name.localeCompare(i[t].name);
              });
              for (
                var o = (e = e.trim().toLowerCase()).split(" "), s = 0, a = r;
                s < a.length;
                s++
              ) {
                var l = a[s],
                  c = i[l],
                  u = null,
                  h = null,
                  p = null;
                (!e ||
                  ((u = oP(o, c.name.toLowerCase())),
                  (h = c.author ? oP(o, c.author.toLowerCase()) : null),
                  (p = c.description
                    ? oP(o, c.description.toLowerCase())
                    : null),
                  u || h || p)) &&
                  this.renderInstalledPlugin(c, n, u, h, p);
              }
            }),
            t
          );
        })(IN),
        gq = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.name = Lt("setting.editor.name")),
              (t.id = "editor"),
              (t.passedVimTest = !1),
              t
            );
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              var e = this;
              this.containerEl.empty();
              var t,
                n = eb.isMobile || OR.enable;
              (new ZD(this.containerEl)
                .setHeading()
                .setName(Lt("setting.editor.section-general")),
              new ZD(this.containerEl)
                .setName(Lt("setting.editor.option-default-new-pane-view"))
                .setDesc(
                  Lt("setting.editor.option-default-new-pane-view-description")
                )
                .addDropdown(function (t) {
                  return t
                    .addOption(
                      "source",
                      Lt("setting.editor.option-default-new-pane-view-editing")
                    )
                    .addOption(
                      "preview",
                      Lt("setting.editor.option-default-new-pane-view-reading")
                    )
                    .setValue(e.app.vault.getConfig("defaultViewMode"))
                    .onChange(function (t) {
                      e.app.vault.setConfig("defaultViewMode", t);
                    });
                }),
              n &&
                new ZD(this.containerEl)
                  .setName(Lt("setting.editor.option-default-editing-mode"))
                  .setDesc(
                    Lt("setting.editor.option-default-editing-mode-description")
                  )
                  .addDropdown(function (t) {
                    return t
                      .addOption(
                        "live-preview",
                        Lt(
                          "setting.editor.option-default-editing-mode-live-preview"
                        )
                      )
                      .addOption(
                        "source",
                        Lt("setting.editor.option-default-editing-mode-source")
                      )
                      .setValue(
                        e.app.vault.getConfig("livePreview")
                          ? "live-preview"
                          : "source"
                      )
                      .onChange(function (t) {
                        e.app.vault.setConfig(
                          "livePreview",
                          "live-preview" === t
                        );
                        for (
                          var n = 0, i = e.app.workspace.getLeavesOfType(FR);
                          n < i.length;
                          n++
                        ) {
                          var r = i[n];
                          if (r.view instanceof IR) {
                            var o = r.view.getState();
                            (o.source = "live-preview" !== t),
                              r.setViewState({ type: FR, state: o });
                          }
                        }
                      });
                  }),
              eb.isDesktopApp) &&
                new ZD(this.containerEl)
                  .setName(Lt("setting.editor.option-legacy-editor"))
                  .setDesc(
                    createFragment(function (e) {
                      e.appendText(
                        Lt("setting.editor.option-legacy-editor-description")
                      ),
                        e.createEl("br"),
                        e.createSpan({
                          cls: "mod-warning",
                          text: Lt("setting.msg-restart-required"),
                        });
                    })
                  )
                  .addButton(function (n) {
                    (t = n),
                      n
                        .setCta()
                        .setButtonText(Lt("setting.about.button-relaunch"))
                        .onClick(function () {
                          return A(e, void 0, void 0, function () {
                            return D(this, function (e) {
                              switch (e.label) {
                                case 0:
                                  return [4, this.app.vault.saveConfig()];
                                case 1:
                                  return (
                                    e.sent(), window.location.reload(), [2]
                                  );
                              }
                            });
                          });
                        }),
                      n.buttonEl.hide();
                  })
                  .addToggle(function (n) {
                    return n
                      .setValue(e.app.vault.getConfig("legacyEditor"))
                      .onChange(function (n) {
                        e.app.vault.setConfig("legacyEditor", n),
                          t.buttonEl.show();
                      });
                  });
              new ZD(this.containerEl)
                .setHeading()
                .setName(Lt("setting.editor.section-display")),
                this.addOption(
                  "readableLineLength",
                  Lt("setting.editor.option-readable-line-length"),
                  Lt("setting.editor.option-readable-line-description")
                ),
                this.addOption(
                  "strictLineBreaks",
                  Lt("setting.editor.option-strict-line-break"),
                  Lt("setting.editor.option-strict-line-break-description")
                ),
                this.addOption(
                  "showFrontmatter",
                  Lt("setting.editor.option-show-frontmatter"),
                  Lt("setting.editor.option-show-frontmatter-description")
                ),
                this.addOption(
                  "foldHeading",
                  Lt("setting.editor.option-fold-heading"),
                  Lt("setting.editor.option-fold-heading-description")
                ),
                this.addOption(
                  "foldIndent",
                  Lt("setting.editor.option-fold-indent"),
                  Lt("setting.editor.option-fold-indent-description")
                ),
                this.addOption(
                  "showLineNumber",
                  Lt("setting.editor.option-show-line-number"),
                  Lt("setting.editor.option-show-line-number-description")
                ),
                this.addOption(
                  "lineWrap",
                  Lt("setting.editor.option-line-wrap"),
                  Lt("setting.editor.option-line-wrap-description")
                ),
                this.addOption(
                  "rightToLeft",
                  Lt("setting.editor.option-rtl"),
                  Lt("setting.editor.option-rtl-description")
                ),
                new ZD(this.containerEl)
                  .setHeading()
                  .setName(Lt("setting.editor.section-behavior"));
              var i = this.app.vault.getConfig("spellcheck"),
                r = new ZD(this.containerEl)
                  .setName(Lt("setting.editor.option-spellcheck"))
                  .setDesc(Lt("setting.editor.option-spellcheck-description"));
              eb.isDesktopApp &&
                r.addExtraButton(function (t) {
                  return t.onClick(function () {
                    OR.enable ? new vq(e.app).open() : new mq(e.app).open();
                  });
                }),
                r.addToggle(function (t) {
                  return t.setValue(i).onChange(function (t) {
                    return e.app.vault.setConfig("spellcheck", t);
                  });
                }),
                eb.isDesktopApp &&
                  OR.enable &&
                  ut(function (t) {
                    var n = t.remote.getCurrentWebContents().session,
                      i = new ZD(e.containerEl)
                        .setName(Lt("setting.editor.spellcheck-languages"))
                        .setDesc(
                          Lt("setting.editor.spellcheck-languages-description")
                        );
                    if (fe)
                      i.setDesc(
                        Lt(
                          "setting.editor.spellcheck-languages-mac-description"
                        )
                      );
                    else {
                      var r = function () {
                        i.clear();
                        var o = n.availableSpellCheckerLanguages,
                          s = e.app.vault.getConfig("spellcheckLanguages"),
                          a = i.controlEl.createDiv("setting-command-hotkeys");
                        if (s) {
                          var l = s.map(function (e) {
                            return {
                              lang: e,
                              display: o.contains(e)
                                ? Dt(e)
                                : Dt(e) + " (Not available)",
                            };
                          });
                          l.sort(function (e, t) {
                            return YN(e.display, t.display);
                          });
                          for (
                            var c = function (t, n) {
                                a.createSpan({
                                  cls: "setting-hotkey",
                                  text: n,
                                }).createSpan(
                                  "setting-hotkey-icon",
                                  function (n) {
                                    Xy(n, Jm, 8),
                                      n.addEventListener("click", function () {
                                        var n = s.filter(function (e) {
                                          return e !== t;
                                        });
                                        e.app.vault.setConfig(
                                          "spellcheckLanguages",
                                          n
                                        ),
                                          r();
                                      });
                                  }
                                );
                              },
                              u = 0,
                              h = l;
                            u < h.length;
                            u++
                          ) {
                            var p = h[u];
                            c(p.lang, p.display);
                          }
                          var d = i.controlEl.createSpan(
                            "setting-restore-hotkey-button"
                          );
                          Xy(d, Xm, 18),
                            d.addEventListener("click", function () {
                              e.app.vault.setConfig(
                                "spellcheckLanguages",
                                null
                              ),
                                r();
                            });
                        } else
                          a.createSpan({
                            cls: "setting-hotkey",
                            text: Dt(t.remote.app.getLocale()),
                          });
                        i.addDropdown(function (n) {
                          (n.selectEl.style.width = "80px"),
                            n.addOption("", "+");
                          var i = o.map(function (e) {
                            return { lang: e, display: Dt(e) };
                          });
                          i.sort(function (e, t) {
                            return YN(e.display, t.display);
                          });
                          for (var a = 0, l = i; a < l.length; a++) {
                            var c = l[a],
                              u = c.lang,
                              h = c.display;
                            n.addOption(u, h);
                          }
                          n.onChange(function (n) {
                            if (n) {
                              if (
                                (s || (s = [t.remote.app.getLocale()]),
                                s.contains(n))
                              )
                                return void r();
                              s.push(n),
                                e.app.vault.setConfig("spellcheckLanguages", s),
                                r();
                            }
                          });
                        });
                      };
                      r();
                    }
                  }),
                this.addOption(
                  "autoPairBrackets",
                  Lt("setting.editor.option-auto-pair-brackets"),
                  Lt("setting.editor.option-auto-pair-brackets-description")
                ),
                this.addOption(
                  "autoPairMarkdown",
                  Lt("setting.editor.option-auto-pair-markdown"),
                  Lt("setting.editor.option-auto-pair-markdown-description")
                ),
                this.addOption(
                  "smartIndentList",
                  Lt("setting.editor.option-smart-indent-lists"),
                  Lt("setting.editor.option-smart-indent-lists-description")
                ),
                this.addOption(
                  "useTab",
                  Lt("setting.editor.option-use-tabs"),
                  Lt("setting.editor.option-use-tabs-description")
                ),
                new ZD(this.containerEl)
                  .setName(Lt("setting.editor.option-tab-size"))
                  .setDesc(Lt("setting.editor.option-tab-size-description"))
                  .addSlider(function (t) {
                    return t
                      .setLimits(2, 8, 1)
                      .setValue(e.app.vault.getConfig("tabSize"))
                      .setDynamicTooltip()
                      .onChange(function (t) {
                        e.app.vault.setConfig("tabSize", t);
                      });
                  }),
                new ZD(this.containerEl)
                  .setHeading()
                  .setName(Lt("setting.about.option-advanced")),
                this.addOption(
                  "autoConvertHtml",
                  Lt("setting.editor.option-auto-convert-html"),
                  Lt("setting.editor.option-auto-convert-html-description")
                ),
                fe &&
                  !n &&
                  this.addOption(
                    "emacsyKeys",
                    Lt("setting.editor.option-emacsy-keys"),
                    Lt("setting.editor.option-emacsy-keys-description")
                  );
              var o = eb.isMobile
                ? !!localStorage.getItem("vim")
                : this.app.vault.getConfig("vimMode");
              new ZD(this.containerEl)
                .setName(Lt("setting.editor.option-vim-key-bindings"))
                .setDesc(
                  createFragment(function (e) {
                    e.appendText(
                      Lt("setting.editor.option-vim-key-bindings-description")
                    ),
                      eb.isMobile &&
                        (e.createEl("br"),
                        e.appendText(
                          Lt("setting.editor.option-vim-key-bindings-mobile")
                        ));
                  })
                )
                .addToggle(function (t) {
                  return t.setValue(o).onChange(function (n) {
                    e.passedVimTest || !0 !== n
                      ? eb.isMobile
                        ? (n
                            ? localStorage.setItem("vim", "true")
                            : localStorage.removeItem("vim"),
                          e.app.workspace.updateOptions())
                        : e.app.vault.setConfig("vimMode", n)
                      : (t.setValue(!1), e.startVimTest(t));
                  });
                });
            }),
            (t.prototype.addOption = function (e, t, n) {
              var i = this;
              new ZD(this.containerEl)
                .setName(t)
                .setDesc(n)
                .addToggle(function (t) {
                  return t
                    .setValue(i.app.vault.getConfig(e))
                    .onChange(function (t) {
                      return i.app.vault.setConfig(e, t);
                    });
                });
            }),
            (t.prototype.startVimTest = function (e) {
              var t,
                n = this,
                i = createFragment(),
                r = function () {
                  var i = t.value.toLowerCase();
                  "" === i
                    ? new lw(
                        Lt("setting.editor.msg-vim-mode-please-enter-command")
                      )
                    : i.startsWith(":q")
                    ? ((n.passedVimTest = !0),
                      e.setValue(!0),
                      o.close(),
                      new lw(Lt("setting.editor.msg-vim-mode-enabled")))
                    : new lw(Lt("setting.editor.msg-vim-mode-not-enabled"));
                },
                o = new yD(this.app);
              i.createEl("p", {
                cls: "mod-warning",
                text: Lt("setting.editor.label-vim-warning"),
              }),
                i.createEl("p", { text: Lt("setting.editor.label-vim-test") }),
                i.createEl("p", {}, function (e) {
                  e.createEl("label", {
                    cls: "input-label",
                    text: Lt("setting.editor.label-vim-your-answer"),
                  }),
                    (t = e.createEl("input", { type: "text" })).setAttribute(
                      "placeholder",
                      Lt("setting.editor.placeholder-enter-command")
                    ),
                    t.addEventListener("keydown", function (e) {
                      e.isComposing || "Enter" !== e.key || r();
                    });
                }),
                o.setTitle(Lt("setting.editor.label-confirm-enable-vim")),
                o.setContent(i),
                o.addButton(
                  "mod-cta",
                  Lt("setting.editor.button-confirm-enable-vim"),
                  r
                ),
                o.addCancelButton(),
                o.open(),
                t.focus();
            }),
            t
          );
        })(IN),
        mq = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return n.titleEl.setText(Lt("setting.editor.spellcheck-dict")), n;
          }
          return (
            M(t, e),
            (t.prototype.onOpen = function () {
              (this.dictionary = this.app.vault.getConfig(
                "spellcheckDictionary"
              )),
                this.rerender();
            }),
            (t.prototype.onClose = function () {
              this.contentEl.empty();
            }),
            (t.prototype.rerender = function () {
              var e = this,
                t = this.dictionary,
                n = this.contentEl;
              n.empty();
              for (
                var i = n.createDiv("spellchecker-dictionary-container"),
                  r = function (n) {
                    var r = i.createDiv("spellchecker-dictionary-item"),
                      o = r.createDiv("spellchecker-dictionary-remove-button");
                    Xy(o, Jm, 12),
                      nn(o, "Remove from dictionary"),
                      o.addEventListener("click", function () {
                        t.remove(n),
                          tO.removeFromSpellcheck(n),
                          e.app.vault.setConfig("spellcheckDictionary", t),
                          e.rerender();
                      }),
                      r.createDiv({
                        cls: "spellchecker-dictionary-word",
                        text: n,
                      });
                  },
                  o = 0,
                  s = t;
                o < s.length;
                o++
              ) {
                r(s[o]);
              }
              0 === t.length &&
                n.createEl("p", {
                  text: Lt("setting.editor.spellcheck-dict-empty"),
                });
            }),
            t
          );
        })(vD),
        vq = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return n.titleEl.setText(Lt("setting.editor.spellcheck-dict")), n;
          }
          return (
            M(t, e),
            (t.prototype.onOpen = function () {
              this.rerender();
            }),
            (t.prototype.onClose = function () {
              this.contentEl.empty();
            }),
            (t.prototype.rerender = function () {
              var e = this,
                t = this.contentEl;
              t.empty(),
                ut(function (n) {
                  return A(e, void 0, void 0, function () {
                    var e,
                      i,
                      r,
                      o,
                      s,
                      a,
                      l,
                      c = this;
                    return D(this, function (u) {
                      switch (u.label) {
                        case 0:
                          return [
                            4,
                            (e =
                              n.remote.getCurrentWebContents()
                                .session).listWordsInSpellCheckerDictionary(),
                          ];
                        case 1:
                          for (
                            (i = u.sent()).sort(YN),
                              r = t.createDiv(
                                "spellchecker-dictionary-container"
                              ),
                              o = function (t) {
                                var n = r.createDiv(
                                    "spellchecker-dictionary-item"
                                  ),
                                  i = n.createDiv(
                                    "spellchecker-dictionary-remove-button"
                                  );
                                Xy(i, Jm, 12),
                                  nn(i, "Remove from dictionary"),
                                  i.addEventListener("click", function () {
                                    e.removeWordFromSpellCheckerDictionary(t),
                                      c.rerender();
                                  }),
                                  n.createDiv({
                                    cls: "spellchecker-dictionary-word",
                                    text: t,
                                  });
                              },
                              s = 0,
                              a = i;
                            s < a.length;
                            s++
                          )
                            (l = a[s]), o(l);
                          return (
                            0 === i.length &&
                              t.createEl("p", {
                                text: Lt(
                                  "setting.editor.spellcheck-dict-empty"
                                ),
                              }),
                            [2]
                          );
                      }
                    });
                  });
                });
            }),
            t
          );
        })(vD),
        yq = At("setting.file"),
        bq = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.name = yq("name")),
              (t.id = "file"),
              (t.deleteOption = [
                {
                  value: "system",
                  description: yq("option-choice-system-trash"),
                },
                {
                  value: "local",
                  description: yq("option-choice-vault-trash"),
                },
                {
                  value: "none",
                  description: yq("option-choice-permanent-delete"),
                },
              ]),
              (t.newNoteLocationOptions = [
                { value: "root", description: yq("option-choice-vault-root") },
                {
                  value: "current",
                  description: yq("option-choice-current-folder"),
                },
                {
                  value: "folder",
                  description: yq("option-choice-specified-folder"),
                },
              ]),
              (t.newLinkFormatOptions = [
                {
                  value: "shortest",
                  description: yq("option-choice-shortest-linktext"),
                },
                {
                  value: "relative",
                  description: yq("option-choice-relative-path"),
                },
                {
                  value: "absolute",
                  description: yq("option-choice-absolute-path"),
                },
              ]),
              (t.newAttachmentLocationOptions = [
                { value: "root", description: yq("option-choice-vault-root") },
                {
                  value: "folder",
                  description: yq("option-choice-specified-folder"),
                },
                {
                  value: "current",
                  description: yq("option-choice-current-folder"),
                },
                {
                  value: "subfolder",
                  description: yq("option-choice-subdirectory"),
                },
              ]),
              t
            );
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              var e = this,
                t = this.app,
                n = this.containerEl;
              n.empty(),
                new ZD(n)
                  .setName(yq("option-confirm-file-deletion"))
                  .setDesc(yq("option-confirm-file-deletion-description"))
                  .addToggle(function (n) {
                    return n
                      .setValue(t.vault.getConfig("promptDelete"))
                      .onChange(function (t) {
                        e.app.vault.setConfig("promptDelete", t);
                      });
                  }),
                new ZD(n)
                  .setName(yq("option-delete-destination"))
                  .setDesc(yq("option-delete-destination-description"))
                  .addDropdown(function (n) {
                    n.onChange(function (e) {
                      t.vault.setConfig("trashOption", e);
                    });
                    for (var i = 0, r = e.deleteOption; i < r.length; i++) {
                      var o = r[i];
                      n.addOption(o.value, o.description);
                    }
                    n.setValue(t.vault.getConfig("trashOption"));
                  });
              var i = t.vault.getConfig("alwaysUpdateLinks");
              new ZD(n)
                .setName(yq("option-always-update-links"))
                .setDesc(yq("option-always-update-links-description"))
                .addToggle(function (t) {
                  return t.setValue(i).onChange(function (t) {
                    e.app.vault.setConfig("alwaysUpdateLinks", t);
                  });
                });
              var r,
                o = function () {
                  a.settingEl.toggle("folder" === r.getValue());
                };
              new ZD(n)
                .setName(yq("option-new-note-location"))
                .setDesc(yq("option-new-note-location-description"))
                .addDropdown(function (n) {
                  (r = n),
                    n.onChange(function (e) {
                      t.vault.setConfig("newFileLocation", e), o();
                    });
                  for (
                    var i = 0, s = e.newNoteLocationOptions;
                    i < s.length;
                    i++
                  ) {
                    var a = s[i];
                    n.addOption(a.value, a.description);
                  }
                  n.setValue(t.vault.getConfig("newFileLocation"));
                });
              var s = t.vault.getConfig("newFileFolderPath"),
                a = new ZD(n)
                  .setName(yq("option-new-file-folder-path"))
                  .setDesc(yq("option-new-file-folder-path-description"))
                  .addText(function (e) {
                    e
                      .setPlaceholder(
                        Lt("setting.folder-path-example-placeholder")
                      )
                      .setValue("/" === s ? "" : s)
                      .onChange(function (e) {
                        t.vault.setConfig("newFileFolderPath", e);
                      }),
                      new cz(t, e.inputEl);
                  });
              new ZD(n)
                .setName(yq("option-link-autocompleted-format"))
                .setDesc(yq("option-link-autocompleted-format-description"))
                .addDropdown(function (n) {
                  n.onChange(function (e) {
                    t.vault.setConfig("newLinkFormat", e);
                  });
                  for (
                    var i = 0, r = e.newLinkFormatOptions;
                    i < r.length;
                    i++
                  ) {
                    var o = r[i];
                    n.addOption(o.value, o.description);
                  }
                  n.setValue(t.vault.getConfig("newLinkFormat"));
                }),
                new ZD(n)
                  .setName(yq("option-use-wiki-links"))
                  .setDesc(yq("option-use-wiki-links-description"))
                  .addToggle(function (e) {
                    return e
                      .setValue(!t.vault.getConfig("useMarkdownLinks"))
                      .onChange(function (e) {
                        t.vault.setConfig("useMarkdownLinks", !e);
                      });
                  }),
                new ZD(n)
                  .setName(yq("option-show-unsupported-files"))
                  .setDesc(yq("option-show-unsupported-files-description"))
                  .addToggle(function (e) {
                    return e
                      .setValue(t.vault.getConfig("showUnsupportedFiles"))
                      .onChange(function (e) {
                        t.vault.setConfig("showUnsupportedFiles", e);
                      });
                  });
              var l = null,
                c = null,
                u = null,
                h = null,
                p = null,
                d = function () {
                  c.settingEl.toggle("folder" === l.getValue()),
                    u.settingEl.toggle("subfolder" === l.getValue());
                },
                f = function () {
                  var e = l.getValue();
                  return "root" === e
                    ? "/"
                    : "folder" === e
                    ? h.getValue()
                    : "current" === e
                    ? "./"
                    : "subfolder" === e
                    ? "./" + p.getValue()
                    : void 0;
                };
              new ZD(n)
                .setName(yq("option-new-attachment-location"))
                .setDesc(yq("option-new-attachment-location-description"))
                .addDropdown(function (n) {
                  n.onChange(function (e) {
                    d(), t.vault.setConfig("attachmentFolderPath", f());
                  });
                  for (
                    var i = 0, r = e.newAttachmentLocationOptions;
                    i < r.length;
                    i++
                  ) {
                    var o = r[i];
                    n.addOption(o.value, o.description);
                  }
                  l = n;
                }),
                t.vault.getConfig("attachmentFolderPath"),
                (c = new ZD(n)
                  .setName(yq("option-attachment-folder-path"))
                  .setDesc(yq("option-attachment-folder-path-description"))
                  .addText(function (e) {
                    e
                      .setPlaceholder(
                        Lt("setting.folder-path-example-placeholder")
                      )
                      .onChange(function (e) {
                        t.vault.setConfig("attachmentFolderPath", f());
                      }),
                      new cz(t, e.inputEl),
                      (h = e);
                  })),
                (u = new ZD(n)
                  .setName(yq("option-attachment-subfolder-path"))
                  .setDesc(yq("option-attachment-subfolder-path-description"))
                  .addText(function (e) {
                    return e
                      .setPlaceholder(
                        yq("option-attachment-subfolder-path-placeholder")
                      )
                      .onChange(function (e) {
                        t.vault.setConfig("attachmentFolderPath", f());
                      })
                      .then(function (e) {
                        p = e;
                      });
                  })),
                o(),
                (function (e) {
                  if ("/" !== e)
                    if ("." !== e && "./" !== e) {
                      if (e.startsWith("./"))
                        return (
                          l.setValue("subfolder"), void p.setValue(e.slice(2))
                        );
                      l.setValue("folder"), h.setValue(e);
                    } else l.setValue("current");
                  else l.setValue("root");
                })(t.vault.getConfig("attachmentFolderPath")),
                d();
            }),
            t
          );
        })(IN),
        wq = At("setting.mobile-toolbar"),
        kq = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.emptyStateText = Lt(
                "plugins.command-palette.label-no-commands"
              )),
              n.setPlaceholder(wq("placeholder-select-quick-action")),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.getItems = function () {
              return Object.values(this.app.commands.commands);
            }),
            (t.prototype.getItemText = function (e) {
              return e.name;
            }),
            (t.prototype.onChooseItem = function (e) {
              this.app.vault.setConfig("mobilePullAction", e.id);
            }),
            t
          );
        })(BN),
        Cq = (function (e) {
          function t(t, n) {
            var i = e.call(this, t, n) || this;
            return (
              (i.name = wq("name")),
              (i.id = "mobile"),
              t.commands.addCommand({
                id: "mobile:quick-action",
                name: wq("option-configure-quick-action"),
                icon: vy,
                checkCallback: function (e) {
                  if (eb.isMobile) return e || new kq(t).open(), !0;
                },
              }),
              i
            );
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              var e = this,
                t = this.app,
                n = this.containerEl;
              n.empty();
              var i = t.vault.getConfig("mobilePullAction"),
                r = t.commands.findCommand(i);
              new ZD(n)
                .setName(wq("option-configure-quick-action"))
                .setDesc(
                  wq("option-configure-quick-action-description", {
                    command: r ? r.name : "",
                  })
                )
                .addButton(function (e) {
                  return e
                    .setButtonText(wq("button-configure"))
                    .onClick(function (e) {
                      t.commands.executeCommandById("mobile:quick-action", e);
                    });
                });
              var o = t.commands.commands,
                s = t.commands.editorCommands,
                a = t.vault.getConfig("mobileToolbarCommands"),
                l = Object.keys(s).filter(function (e) {
                  return !a.contains(e);
                }),
                c = function () {
                  t.vault.setConfig("mobileToolbarCommands", a), e.display();
                };
              if (a) {
                new ZD(n).setName(wq("manage-toolbar-options")).setHeading();
                for (
                  var u = n.createDiv(),
                    h = function (e) {
                      var t = o[e];
                      u.createDiv("mobile-option-setting-item", function (n) {
                        n.createSpan(
                          "mobile-option-setting-item-remove-icon",
                          function (t) {
                            Xy(t, Xv, 22),
                              t.addEventListener("click", function () {
                                a.contains(e) && (a.remove(e), c());
                              });
                          }
                        ),
                          n.createSpan(
                            "mobile-option-setting-item-option-icon",
                            function (e) {
                              return Xy(e, t.icon || Ly, 22);
                            }
                          ),
                          n.createSpan({
                            cls: "mobile-option-setting-item-name",
                            text: t.name,
                          }),
                          n.createSpan(
                            "mobile-option-setting-drag-icon",
                            function (t) {
                              Xy(t, ym),
                                nn(t, Lt("interface.drag-to-rearrange")),
                                qt(
                                  t,
                                  n,
                                  u,
                                  0,
                                  function () {
                                    return null;
                                  },
                                  function (t) {
                                    a.remove(e), a.splice(t, 0, e), c();
                                  }
                                );
                            }
                          );
                      });
                    },
                    p = 0,
                    d = (a = a.filter(function (e) {
                      return o[e];
                    }));
                  p < d.length;
                  p++
                ) {
                  h(d[p]);
                }
              }
              if (l.length > 0) {
                new ZD(n)
                  .setName(wq("option-more-toolbar-options"))
                  .setHeading();
                for (
                  var f = function (e) {
                      var t = o[e];
                      n.createDiv("mobile-option-setting-item", function (n) {
                        n.createSpan(
                          "mobile-option-setting-item-add-icon",
                          function (t) {
                            Xy(t, Qv, 22),
                              t.addEventListener("click", function () {
                                a.contains(e) || (a.push(e), c());
                              });
                          }
                        ),
                          n.createSpan(
                            "mobile-option-setting-item-option-icon",
                            function (e) {
                              return Xy(e, t.icon || Ly, 22);
                            }
                          ),
                          n.createSpan({ text: t.name });
                      });
                    },
                    g = 0,
                    m = l;
                  g < m.length;
                  g++
                ) {
                  f(m[g]);
                }
              }
              var v = Object.keys(o)
                .filter(function (e) {
                  return !s[e] && !a.contains(e);
                })
                .map(function (e) {
                  return o[e];
                });
              new ZD(n)
                .setName(wq("option-add-command"))
                .setDesc(wq("option-add-command-description"))
                .addText(function (t) {
                  return t
                    .setPlaceholder(
                      Lt("plugins.command-palette.prompt-type-command")
                    )
                    .then(function () {
                      new iz(e.app, t.inputEl, v, function (e) {
                        var t = e.id;
                        a.contains(t) || (a.push(t), c());
                      });
                    });
                });
            }),
            t
          );
        })(IN),
        xq = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.name = Lt("setting.builtin-plugins")), (t.id = "plugins"), t
            );
          }
          return (
            M(t, e),
            (t.prototype.display = function () {
              this.render(!0);
            }),
            (t.prototype.render = function (e) {
              var t = this,
                n = this.app.internalPlugins;
              this.containerEl.empty();
              var i = this.containerEl.createDiv("plugin-list-plugins");
              new ZD(i)
                .setName(Lt("setting.core-plugin.option-search-plugin"))
                .setDesc(
                  Lt("setting.core-plugin.option-search-plugin-description")
                )
                .addSearch(function (t) {
                  return t
                    .setPlaceholder(
                      Lt("setting.core-plugin.placeholder-search-plugin")
                    )
                    .onChange(function (e) {
                      return s(e);
                    })
                    .then(function () {
                      e &&
                        !eb.isMobile &&
                        setTimeout(function () {
                          return t.inputEl.focus();
                        });
                    });
                });
              var r = i.createDiv(),
                o = {},
                s = function (e) {
                  r.empty(),
                    new ZD(r)
                      .setHeading()
                      .setName(Lt("setting.core-plugin.plugin-list"));
                  for (
                    var i = (e = (e || "").trim().toLowerCase()).split(" "),
                      s = n.plugins,
                      a = function (n) {
                        var a,
                          l,
                          c = s[n],
                          u = c.instance,
                          h = null,
                          p = null;
                        if (
                          e &&
                          ((h = oP(i, u.name.toLowerCase())),
                          (p = oP(i, u.description.toLowerCase())),
                          !h && !p)
                        )
                          return "continue";
                        var d = function () {
                          var e = !1,
                            i = !1;
                          c.enabled &&
                            ((e = t.setting.pluginTabs.some(function (e) {
                              return e.id === n;
                            })),
                            Object.keys(t.app.commands.commands).some(function (
                              e
                            ) {
                              return e.startsWith(n + ":");
                            }) && (i = !0)),
                            a.extraSettingsEl.toggle(e),
                            l.extraSettingsEl.toggle(i);
                        };
                        new ZD(r)
                          .setName(
                            createFragment(function (e) {
                              return lP(e, u.name, h);
                            })
                          )
                          .setDesc(
                            createFragment(function (e) {
                              return lP(e, u.description, p);
                            })
                          )
                          .addExtraButton(function (e) {
                            return (a = e
                              .setIcon(xm)
                              .setTooltip(Lt("setting.options"))
                              .onClick(function () {
                                return t.setting.openTabById(n);
                              }));
                          })
                          .addExtraButton(function (e) {
                            return (l = e
                              .setIcon(Qm)
                              .setTooltip(Lt("setting.hotkeys.name"))
                              .onClick(function () {
                                var e = t.setting.openTabById("hotkeys");
                                e instanceof JN && e.setQuery(n);
                              }));
                          })
                          .addToggle(function (e) {
                            (o[n] = e),
                              e.setValue(c.enabled).onChange(function (e) {
                                e ? c.enable(!0) : c.disable(!0), d();
                              });
                          }),
                          d();
                      },
                      l = 0,
                      c = Object.keys(s);
                    l < c.length;
                    l++
                  ) {
                    a(c[l]);
                  }
                };
              s(),
                n.on("change", function () {
                  t.updateEnabledState(o, t.app.internalPlugins);
                });
            }),
            (t.prototype.updateEnabledState = function (e, t) {
              var n = t.plugins;
              for (var i in n)
                if (n.hasOwnProperty(i)) {
                  var r = n[i],
                    o = e[i];
                  o && o.setValue(r.enabled);
                }
            }),
            t
          );
        })(IN),
        Sq = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.settingTabs = []),
              (n.pluginTabs = []),
              (n.activeTab = null),
              (n.lastTabId = ""),
              n.modalEl.addClass("mod-settings"),
              (n.settingContainerEl = n.contentEl.createDiv(
                "vertical-tabs-container",
                function (e) {
                  n.tabHeadersEl = e.createDiv(
                    "vertical-tab-header",
                    function (e) {
                      e.createDiv("vertical-tab-header-group", function (e) {
                        e.createDiv({
                          cls: "vertical-tab-header-group-title",
                          text: Lt("setting.options"),
                        }),
                          (n.tabContainer = e.createDiv(
                            "vertical-tab-header-group-items"
                          ));
                      }),
                        e.createDiv("vertical-tab-header-group", function (e) {
                          (n.pluginTabHeaderGroup = e.createDiv({
                            cls: "vertical-tab-header-group-title",
                            text: Lt("setting.plugin-options"),
                          })),
                            n.pluginTabHeaderGroup.hide(),
                            (n.pluginTabContainer = e.createDiv(
                              "vertical-tab-header-group-items"
                            ));
                        });
                    }
                  );
                  var t = (n.tabContentContainer = e.createDiv(
                    "vertical-tab-content-container"
                  ));
                  eb.isMobile && t.detach();
                }
              )),
              eb.isMobile && n.addSettingTab(new Cq(t, n)),
              n.addSettingTab(new gq(t, n)),
              n.addSettingTab(new bq(t, n)),
              n.addSettingTab(new lq(t, n)),
              n.addSettingTab(new JN(t, n)),
              n.addSettingTab(new rq(t, n)),
              n.addSettingTab(new oq(t, n)),
              n.addSettingTab(new xq(t, n)),
              n.addSettingTab(new fq(t, n)),
              n
            );
          }
          return (
            M(t, e),
            (t.prototype.addSettingTab = function (e) {
              var t = this;
              e.navEl ||
                (e.navEl = createDiv(
                  { cls: "vertical-tab-nav-item", text: e.name },
                  function (n) {
                    n.addEventListener("click", function () {
                      t.openTab(e);
                    });
                  }
                )),
                this.isPluginSettingTab(e)
                  ? this.pluginTabs.push(e)
                  : (this.settingTabs.push(e),
                    this.tabContainer.appendChild(e.navEl)),
                this.updatePluginSection();
            }),
            (t.prototype.removeSettingTab = function (e) {
              this.pluginTabs.remove(e), this.settingTabs.remove(e);
              var t = this.activeTab;
              t && t === e && this.closeActiveTab(), this.updatePluginSection();
            }),
            (t.prototype.isPluginSettingTab = function (e) {
              return e instanceof sB || e instanceof oB;
            }),
            (t.prototype.updatePluginSection = function () {
              var e = this.pluginTabs;
              e.sort(function (e, t) {
                return YN(e.name, t.name);
              }),
                this.pluginTabHeaderGroup.toggle(e.length > 0),
                this.pluginTabContainer.setChildrenInPlace(
                  e.map(function (e) {
                    return e.navEl;
                  })
                );
            }),
            (t.prototype.openTab = function (e) {
              var t = this,
                n = this,
                i = n.activeTab,
                r = n.settingContainerEl,
                o = n.tabContentContainer;
              if (
                (i && (i.navEl.removeClass("is-active"), o.empty(), i.hide()),
                (this.activeTab = e),
                (this.lastTabId = e.id),
                e.navEl.addClass("is-active"),
                o.empty(),
                eb.isMobile)
              ) {
                var s = o.createDiv("modal-setting-back-button", function (e) {
                  e.addEventListener("click", function () {
                    return t.closeActiveTab();
                  });
                });
                s.createSpan("modal-setting-back-button-icon", function (e) {
                  Xy(e, Nm, 20);
                }),
                  s.createSpan({ text: e.name }),
                  o.appendChild(e.containerEl),
                  Gb(r, o, "right");
              } else o.appendChild(e.containerEl);
              e.display();
            }),
            (t.prototype.closeActiveTab = function () {
              var e = this,
                t = this.activeTab;
              if (t) {
                t.navEl.removeClass("is-active");
                var n = function () {
                  e.tabContentContainer.empty(), t.hide();
                };
                eb.isMobile
                  ? ((this.activeTab = null),
                    Gb(this.settingContainerEl, this.tabHeadersEl, "left", n))
                  : n(),
                  (this.activeTab = null);
              }
            }),
            (t.prototype.openTabById = function (e) {
              for (var t = 0, n = this.settingTabs; t < n.length; t++) {
                if ((o = n[t]).id === e) return this.openTab(o), o;
              }
              for (var i = 0, r = this.pluginTabs; i < r.length; i++) {
                var o;
                if ((o = r[i]).id === e) return this.openTab(o), o;
              }
              return null;
            }),
            (t.prototype.onOpen = function () {
              e.prototype.onOpen.call(this),
                eb.isMobile ||
                  this.openTabById(this.lastTabId) ||
                  this.openTab(this.settingTabs[0]);
            }),
            (t.prototype.onClose = function () {
              e.prototype.onClose.call(this), this.closeActiveTab();
            }),
            t
          );
        })(vD),
        Eq = (function () {
          function e() {
            var e = this;
            this.showTimeout = 0;
            var t = (this.el = createDiv({ cls: "progress-bar" }));
            (this.messageEl = t.createDiv({
              cls: "progress-bar-message u-center-text",
              text: "",
            })),
              t.createDiv("progress-bar-indicator", function (t) {
                t.createDiv("progress-bar-line"),
                  (e.lineEl = t.createDiv("progress-bar-subline")),
                  (e.line1El = t.createDiv(
                    "progress-bar-subline mod-increase"
                  )),
                  (e.line2El = t.createDiv(
                    "progress-bar-subline mod-decrease"
                  ));
              }),
              t.addEventListener("click", function (t) {
                t.preventDefault(), e.show();
              }),
              this.setUnknownProgress();
          }
          return (
            (e.prototype.delayedShow = function () {
              var e = this;
              return (
                document.body.appendChild(this.el),
                (this.el.style.opacity = "0"),
                (this.showTimeout = window.setTimeout(function () {
                  return e.show();
                }, 300)),
                this
              );
            }),
            (e.prototype.show = function () {
              return (
                window.clearTimeout(this.showTimeout),
                (this.showTimeout = 0),
                document.body.appendChild(this.el),
                (this.el.style.opacity = ""),
                this
              );
            }),
            (e.prototype.hide = function () {
              return (
                window.clearTimeout(this.showTimeout),
                (this.showTimeout = 0),
                this.el.remove(),
                this
              );
            }),
            (e.prototype.setMessage = function (e) {
              return this.messageEl.setText(e), this;
            }),
            (e.prototype.setUnknownProgress = function () {
              return (
                this.lineEl.hide(),
                this.line1El.show(),
                this.line2El.show(),
                this
              );
            }),
            (e.prototype.setProgress = function (e, t) {
              this.lineEl.show(), this.line1El.hide(), this.line2El.hide();
              var n = ((e / t) * 100).toFixed(4);
              return (this.lineEl.style.width = n + "%"), this;
            }),
            e
          );
        })(),
        Mq = (function () {
          function e() {
            (this.id = "slash-command"),
              (this.name = Lt("plugins.slash-command.name")),
              (this.description = Lt("plugins.slash-command.desc")),
              (this.defaultOn = !1);
          }
          return (
            (e.prototype.init = function (e, t) {
              this.suggest = new Aq(e);
            }),
            (e.prototype.onEnable = function (e, t) {
              return A(this, void 0, Promise, function () {
                return D(this, function (t) {
                  return (
                    e.workspace.editorSuggest.addSuggest(this.suggest), [2]
                  );
                });
              });
            }),
            (e.prototype.onDisable = function (e, t) {
              e.workspace.editorSuggest.removeSuggest(this.suggest);
            }),
            e
          );
        })(),
        Lq = /(^|\s)\/([^\s\/]*)$/,
        Aq = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            M(t, e),
            (t.prototype.onTrigger = function (e, t, n) {
              var i = e.line,
                r = t.getLine(i).substr(0, e.ch).match(Lq);
              if (r) {
                var o = r.index + r[1].length,
                  s = r[2];
                return {
                  start: { line: i, ch: o },
                  end: { line: i, ch: e.ch },
                  query: s,
                };
              }
              return null;
            }),
            (t.prototype.selectSuggestion = function (e, t) {
              var n = this.context;
              (this.close(), n) &&
                ((this.app.lastEvent = t),
                n.editor.replaceRange("", n.start, n.end),
                zR(e.item));
            }),
            (t.prototype.getSuggestions = function (e) {
              var t = e.query;
              t = t.toLowerCase();
              for (
                var n = this.app.internalPlugins
                    .getPluginById("command-palette")
                    .instance.getCommands(),
                  i = ZT(t),
                  r = [],
                  o = 0,
                  s = n;
                o < s.length;
                o++
              ) {
                var a = s[o],
                  l = i(a.name);
                l && r.push({ match: l, item: a });
              }
              return iP(r), r;
            }),
            (t.prototype.renderSuggestion = function (e, t) {
              var n = t.createSpan("suggestion-prefix"),
                i = t.createSpan("suggestion-content"),
                r = e.item,
                o =
                  this.app.internalPlugins.getPluginById("command-palette")
                    .instance.options.pinned;
              o &&
                o.contains(r.id) &&
                t.createSpan({ cls: "suggestion-flair" }, function (e) {
                  Xy(e, nv, 13);
                });
              var s = r.name,
                a = s.indexOf(": ");
              if (-1 !== a) {
                var l = s.slice(0, a),
                  c = s.slice(a + 2);
                aP(n, l, e.match), aP(i, c, e.match, -(a + 2));
              } else aP(i, s, e.match), n.remove();
              var u = this.app,
                h = u.hotkeyManager.getHotkeys(r.id),
                p = u.hotkeyManager.getDefaultHotkeys(r.id);
              if (h)
                for (var d = 0, f = h; d < f.length; d++) {
                  var g = f[d];
                  t.createEl("kbd", { cls: "suggestion-hotkey", text: bT(g) });
                }
              else if (p)
                for (var m = 0, v = p; m < v.length; m++) {
                  g = v[m];
                  t.createEl("kbd", { cls: "suggestion-hotkey", text: bT(g) });
                }
            }),
            t
          );
        })(kN),
        Dq = "0.13.28";
      function Tq(e) {
        return !GF(Dq, e);
      }
      ut(function (e) {
        Dq = e.ipcRenderer.sendSync("version");
      });
      var Pq,
        Oq = function (e) {
          (this.appContainerEl = null),
            (this.horizontalMainContainerEl = null),
            (this.workspaceEl = null),
            (this.statusBarEl = null),
            (this.appContainerEl = e.createDiv(
              "app-container is-left-sidedock-collapsed is-right-sidedock-collapsed"
            )),
            (this.horizontalMainContainerEl = this.appContainerEl.createDiv(
              "horizontal-main-container"
            )),
            (this.workspaceEl =
              this.horizontalMainContainerEl.createDiv("workspace")),
            (this.statusBarEl = this.appContainerEl.createDiv("status-bar"));
        },
        Fq = window.frameDom;
      if (Fq) {
        var Iq = document.createDocumentFragment(),
          Nq = Iq.createDiv("titlebar-button mod-back");
        Xy(Nq, Nm, 15),
          Nq.addEventListener("click", function () {
            window.history.back();
          });
        var Bq = Iq.createDiv("titlebar-button mod-forward");
        Xy(Bq, Bm, 15),
          Bq.addEventListener("click", function () {
            window.history.forward();
          }),
          xt.then(function () {
            nn(Nq, Lt("interface.window.go-back")),
              nn(Bq, Lt("interface.window.go-forward"));
          }),
          Fq.leftButtonContainerEl.appendChild(Iq),
          (Fq.leftSpacing = 30),
          Fq.updateStatus();
      }
      ut(function (e) {
        e.remote.dialog;
      });
      try {
        var Rq = "";
        fe
          ? (Rq = "mod-macos")
          : ge
          ? (Rq = "mod-windows")
          : me && (Rq = "mod-linux"),
          Rq && document.body.addClass(Rq);
      } catch (e) {
        console.error(e);
      }
      (Pq = document.body).on("mouseover", "[aria-label]", Qt),
        Pq.on("mouseout", "[aria-label]", Xt),
        Pq.addEventListener("mouseup", en),
        window.addEventListener(
          "touchstart",
          function (e) {
            1 === e.touches.length &&
              ((Ht.sx = e.changedTouches[0].clientX),
              (Ht.sy = e.changedTouches[0].clientY),
              (Ht.t = Date.now()));
          },
          !0
        ),
        window.addEventListener(
          "touchend",
          function (e) {
            0 === e.touches.length &&
              ((Ht.ex = e.changedTouches[0].clientX),
              (Ht.ey = e.changedTouches[0].clientY),
              (Ht.t = Date.now()));
          },
          !0
        ),
        document.addEventListener(
          "scroll",
          function () {
            return (document.documentElement.scrollTop = 0);
          },
          { passive: !1 }
        );
      var zq = "EmulateMobile",
        Hq = (function () {
          function e(e, t) {
            var n = this;
            (this.hotkeyManager = null),
              (this.customCss = null),
              (this.viewRegistry = new pI()),
              (this.nextFrameEvents = []),
              (this.nextFrameTimer = null),
              (this.fileManager = null),
              (this.setting = null),
              (this.account = null),
              (this.isMobile = !1),
              (this.mobileToolbar = null),
              (this.shareReceiver = null),
              (this.lastEvent = null),
              console.log(
                "%cObsidian Developer Console",
                "color:#7f6df2; font-size:40px; font-weight:bold;"
              );
            var i = document.body;
            (this.appId = t),
              (this.keymap = new nw()),
              (this.scope = this.keymap.getRootScope()),
              (this.commands = new HR(this)),
              (this.hotkeyManager = new xT(this)),
              (this.dragManager = new gT(this)),
              (this.dom = new Oq(i)),
              (this.customCss = new VR(this)),
              (this.loadProgress = new Eq()),
              (this.shareReceiver = new XR(this)),
              localStorage.getItem(zq) &&
                ((eb.isMobile = !0), (eb.isDesktop = !1)),
              (this.isMobile = eb.isMobile),
              eb.isMobile &&
                ((this.mobileToolbar = new YR(this)),
                i.addClass("is-mobile"),
                i.createDiv("safe-area-top-cover"),
                (i.style.backgroundColor = "var(--background-primary)")),
              eb.isIosApp &&
                (function () {
                  document.body.style["-webkit-touch-callout"] = "none";
                  var e = window;
                  e.addEventListener("touchstart", function (t) {
                    if (!(t.touches.length > 1)) {
                      var n = t.touches[0],
                        i = t.target,
                        r = n.clientX,
                        o = n.clientY,
                        s = n.identifier,
                        a = Date.now(),
                        l = function () {
                          e.removeEventListener("touchcancel", h, !0),
                            e.removeEventListener("touchend", h, !0),
                            e.removeEventListener("touchmove", p, !0),
                            e.removeEventListener("dragstart", d, !0);
                        },
                        c = function (e, t) {
                          l(),
                            "touchend" === e.type &&
                              Date.now() - a > 400 &&
                              (i.dispatchEvent(
                                new MouseEvent("contextmenu", {
                                  button: 0,
                                  buttons: 0,
                                  ctrlKey: e.ctrlKey,
                                  altKey: e.altKey,
                                  metaKey: e.metaKey,
                                  shiftKey: e.shiftKey,
                                  screenX: t.screenX,
                                  screenY: t.screenY,
                                  bubbles: !0,
                                  cancelable: !0,
                                  clientX: r,
                                  clientY: o,
                                })
                              ),
                              e.preventDefault());
                        },
                        u = function (e, t) {
                          var n = t.clientX - r,
                            i = t.clientY - o;
                          n * n + i * i > 25 && l();
                        },
                        h = function (e) {
                          for (
                            var t = e.changedTouches, n = 0;
                            n < t.length;
                            n++
                          ) {
                            var i = t[n];
                            if (i.identifier === s) return void c(e, i);
                          }
                        },
                        p = function (e) {
                          for (
                            var t = e.changedTouches, n = 0;
                            n < t.length;
                            n++
                          ) {
                            var i = t[n];
                            if (i.identifier === s) return void u(0, i);
                          }
                        },
                        d = function (e) {
                          var t = e.target;
                          t instanceof Node &&
                            (t === i || t.contains(i)) &&
                            l();
                        };
                      e.addEventListener("touchcancel", h, !0),
                        e.addEventListener("touchend", h, !0),
                        e.addEventListener("touchmove", p, !0),
                        e.addEventListener("dragstart", d, !0);
                    }
                  });
                })(),
              A(n, void 0, void 0, function () {
                var t,
                  n,
                  i = this;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      (t = this.loadProgress), (r.label = 1);
                    case 1:
                      return (
                        r.trys.push([1, 3, , 4]),
                        t
                          .setMessage(Lt("interface.start-up.loading-obsidian"))
                          .delayedShow(),
                        [4, this.initializeWithAdapter(e)]
                      );
                    case 2:
                      return r.sent(), t.hide(), [3, 4];
                    case 3:
                      return (
                        (n = r.sent()),
                        console.error(n),
                        t.setMessage(
                          Lt("interface.start-up.obsidian-load-error") +
                            " " +
                            (n ? n.toString() : "unknown")
                        ),
                        t.el.createEl(
                          "button",
                          {
                            cls: "mod-cta",
                            text: Lt("interface.start-up.button-reload-app"),
                          },
                          function (e) {
                            (e.style.marginTop = "50px"),
                              e.onClickEvent(function () {
                                window.location.reload();
                              });
                          }
                        ),
                        t.el.createEl(
                          "button",
                          {
                            cls: "mod-cta",
                            text: Lt(
                              "interface.start-up.button-open-another-vault"
                            ),
                          },
                          function (e) {
                            (e.style.marginTop = "20px"),
                              e.onClickEvent(function () {
                                i.openVaultChooser();
                              });
                          }
                        ),
                        [3, 4]
                      );
                    case 4:
                      return [2];
                  }
                });
              });
          }
          return (
            (e.prototype.setAttachmentFolder = function (e) {
              this.vault.setConfig("attachmentFolderPath", e.path);
              var t = Lt("plugins.file-explorer.msg-set-attachment-folder", {
                path: e.path,
              });
              new lw(t);
            }),
            (e.prototype.nextFrame = function (e) {
              this.nextFrameTimer ||
                (this.nextFrameTimer = window.requestAnimationFrame(
                  this.onNextFrame.bind(this)
                )),
                this.nextFrameEvents.push(e);
            }),
            (e.prototype.nextFramePromise = function () {
              var e = this;
              return new Promise(function (t) {
                return e.nextFrame(t);
              });
            }),
            (e.prototype.onNextFrame = function (e) {
              this.nextFrameTimer = null;
              var t = this.nextFrameEvents;
              this.nextFrameEvents = [];
              for (var n = 0, i = t; n < i.length; n++) {
                (0, i[n])(e);
              }
            }),
            (e.prototype.nextFrameOnceCallback = function (e) {
              var t = this,
                n = !1;
              return function () {
                n ||
                  ((n = !0),
                  t.nextFrame(function (t) {
                    (n = !1), e(t);
                  }));
              };
            }),
            (e.prototype.initializeWithAdapter = function (t) {
              return A(this, void 0, void 0, function () {
                var n,
                  i,
                  r,
                  o,
                  s,
                  a,
                  l,
                  c = this;
                return D(this, function (u) {
                  switch (u.label) {
                    case 0:
                      if (
                        ((this.vault = new Tb(t)),
                        this.loadProgress.setMessage(
                          Lt("interface.start-up.loading-components")
                        ),
                        !eb.isDesktopApp)
                      )
                        return [3, 4];
                      u.label = 1;
                    case 1:
                      return (
                        u.trys.push([1, 3, , 4]), [4, this.vault.readRaw("")]
                      );
                    case 2:
                      return u.sent(), [3, 4];
                    case 3:
                      return "ENOENT" === (n = u.sent()).code
                        ? ((this.vault = null),
                          this.openVaultChooser(),
                          window.close(),
                          [2])
                        : (n.code, [3, 4]);
                    case 4:
                      return (
                        (i = e.getOverrideConfigDir(this.appId)) &&
                          this.vault.setConfigDir(i),
                        [4, this.vault.setupConfig()]
                      );
                    case 5:
                      return (
                        u.sent(),
                        this.disableCssTransition(),
                        (this.workspace = new FN(this, this.dom.workspaceEl)),
                        (this.fileManager = new jN(this)),
                        (this.statusBar = new iq(this, this.dom.statusBarEl)),
                        (this.metadataCache = new XD(this, this.vault)),
                        (this.account = new Pn()),
                        this.account.license,
                        (this.setting = new Sq(this)),
                        (this.foldManager = new $R(this)),
                        this.setTheme(this.vault.getConfig("theme")),
                        this.changeBaseFontSize(
                          this.vault.getConfig("baseFontSize")
                        ),
                        this.customCss.load(),
                        window.addEventListener(
                          "click",
                          this.onMouseEvent.bind(this)
                        ),
                        window.addEventListener(
                          "mousedown",
                          this.onMouseEvent.bind(this)
                        ),
                        this.shareReceiver.setupWorkspace(),
                        this.loadProgress.setMessage(
                          Lt("interface.start-up.loading-plugins")
                        ),
                        (this.internalPlugins = new wB(this)),
                        (this.plugins = new aB(this)),
                        this.internalPlugins.loadPlugin(new yz()),
                        this.internalPlugins.loadPlugin(new Fz()),
                        this.internalPlugins.loadPlugin(new nV()),
                        this.internalPlugins.loadPlugin(new oN()),
                        this.internalPlugins.loadPlugin(new BB()),
                        this.internalPlugins.loadPlugin(new Xz()),
                        this.internalPlugins.loadPlugin(new RV()),
                        this.internalPlugins.loadPlugin(new pH()),
                        this.internalPlugins.loadPlugin(new pz()),
                        this.internalPlugins.loadPlugin(new _V()),
                        this.internalPlugins.loadPlugin(new Gz()),
                        this.internalPlugins.loadPlugin(new rz()),
                        this.internalPlugins.loadPlugin(new Mq()),
                        this.internalPlugins.loadPlugin(new mz()),
                        this.internalPlugins.loadPlugin(new cV()),
                        this.internalPlugins.loadPlugin(new Rz()),
                        this.internalPlugins.loadPlugin(new tq()),
                        this.internalPlugins.loadPlugin(new oV()),
                        this.internalPlugins.loadPlugin(new uH()),
                        this.internalPlugins.loadPlugin(new YV()),
                        this.internalPlugins.loadPlugin(new aV()),
                        this.internalPlugins.loadPlugin(new tz()),
                        this.internalPlugins.loadPlugin(new gz()),
                        this.internalPlugins.loadPlugin(new JV()),
                        this.internalPlugins.loadPlugin(new Az()),
                        this.internalPlugins.loadPlugin(new eV()),
                        this.internalPlugins.loadPlugin(new CV()),
                        [4, this.plugins.initialize()]
                      );
                    case 6:
                      return u.sent(), [4, this.hotkeyManager.load()];
                    case 7:
                      return (
                        u.sent(),
                        this.registerCommands(),
                        [4, this.internalPlugins.enable()]
                      );
                    case 8:
                      u.sent(),
                        this.loadProgress.setMessage(
                          Lt("interface.start-up.loading-vault")
                        ),
                        (u.label = 9);
                    case 9:
                      return u.trys.push([9, 11, , 12]), [4, this.vault.load()];
                    case 10:
                      return u.sent(), [3, 12];
                    case 11:
                      throw (
                        ((r = u.sent()),
                        new lw(
                          Lt("interface.start-up.msg-failed-to-load-vault") + r
                            ? r.message
                            : ""
                        ),
                        console.error(r),
                        r)
                      );
                    case 12:
                      return (
                        this.vault.on("closed", function () {
                          c.openVaultChooser(), window.close();
                        }),
                        this.loadProgress.setMessage(
                          Lt("interface.start-up.loading-cache")
                        ),
                        [4, this.metadataCache.initialize()]
                      );
                    case 13:
                      return (
                        u.sent(),
                        "Obsidian Help" === this.vault.getName() &&
                          "boolean" != typeof this.vault.config.legacyEditor &&
                          this.vault.setConfig("legacyEditor", !1),
                        this.vault.getConfig("legacyEditor") ||
                          (OR.enable = !0),
                        (eb.isMobile || OR.enable) &&
                          this.commands.addCommand({
                            id: "editor:toggle-source",
                            name: Lt("commands.toggle-source-mode"),
                            icon: Ov,
                            editorCheckCallback: function (e, t, n) {
                              if (n.editMode && n.currentMode === n.editMode) {
                                if (!e) {
                                  var i = n.leaf,
                                    r = n.getState();
                                  (r.source = !r.source),
                                    i.setViewState({ type: FR, state: r }),
                                    c.workspace.requestSaveLayout();
                                }
                                return !0;
                              }
                            },
                          }),
                        this.loadProgress.setMessage(
                          Lt("interface.start-up.loading-workspace")
                        ),
                        [4, this.workspace.loadLayout()]
                      );
                    case 14:
                      u.sent(),
                        setTimeout(function () {
                          c.enableCssTransition();
                        }, 500),
                        this.workspace.registerUriHook(),
                        this.registerQuitHook(),
                        this.metadataCache.showIndexingNotice(),
                        this.shareReceiver.setupNative(),
                        eb.isDesktopApp &&
                          ((o = function () {
                            ut(function (e) {
                              "update-manual-required" ===
                                e.ipcRenderer.sendSync("update") &&
                                (clearInterval(s),
                                new lw(
                                  createFragment(function (e) {
                                    e.createEl("b", {
                                      text: Lt(
                                        "interface.label-update-available"
                                      ),
                                    }),
                                      e.createEl("p", {
                                        text: Lt(
                                          "setting.about.label-manual-install-required"
                                        ),
                                      }),
                                      e
                                        .createEl("p")
                                        .createEl("button", {
                                          cls: "mod-cta",
                                          text: Lt(
                                            "setting.about.label-download"
                                          ),
                                        })
                                        .addEventListener("click", function () {
                                          return window.open(
                                            "https://obsidian.md/download"
                                          );
                                        });
                                  }),
                                  0
                                ));
                            });
                          }),
                          (s = setInterval(o, 36e5)),
                          o(),
                          !localStorage.getItem(
                            "shownLivePreview-" + this.appId
                          ) &&
                            this.vault.getConfig("legacyEditor") &&
                            ((a = new vD(this)).setTitle(
                              Lt("setting.editor.label-live-preview-update")
                            ),
                            a.contentEl.createEl("p", {
                              text: Lt(
                                "setting.editor.label-live-preview-update-1"
                              ),
                            }),
                            a.contentEl.createEl("p", {
                              text: Lt(
                                "setting.editor.label-live-preview-update-2"
                              ),
                            }),
                            a.contentEl.createEl("p", {
                              text: Lt(
                                "setting.editor.label-live-preview-update-3"
                              ),
                            }),
                            a.contentEl.createEl(
                              "p",
                              { cls: "u-center-text" },
                              function (e) {
                                e.createEl("div", {
                                  cls: "live-preview-image",
                                });
                              }
                            ),
                            a.contentEl.createEl("p", {
                              text: Lt(
                                "setting.editor.label-live-preview-update-4"
                              ),
                            }),
                            a.contentEl.createDiv(
                              "modal-button-container",
                              function (e) {
                                e.createEl(
                                  "button",
                                  {
                                    cls: "mod-cta",
                                    text: Lt(
                                      "setting.editor.button-turn-on-live-preview"
                                    ),
                                  },
                                  function (e) {
                                    e.onClickEvent(function () {
                                      return A(c, void 0, void 0, function () {
                                        return D(this, function (e) {
                                          switch (e.label) {
                                            case 0:
                                              return (
                                                this.vault.setConfig(
                                                  "legacyEditor",
                                                  !1
                                                ),
                                                this.vault.setConfig(
                                                  "livePreview",
                                                  !0
                                                ),
                                                [4, this.vault.saveConfig()]
                                              );
                                            case 1:
                                              return (
                                                e.sent(),
                                                localStorage.setItem(
                                                  "shownLivePreview-" +
                                                    this.appId,
                                                  "true"
                                                ),
                                                window.location.reload(),
                                                [2]
                                              );
                                          }
                                        });
                                      });
                                    });
                                  }
                                ),
                                  e.createEl(
                                    "button",
                                    { text: Lt("interface.button-learn-more") },
                                    function (e) {
                                      e.onClickEvent(function () {
                                        window.open(
                                          "https://help.obsidian.md/Live+preview+update"
                                        );
                                      });
                                    }
                                  ),
                                  e.createEl(
                                    "button",
                                    { text: Lt("interface.button-not-now") },
                                    function (e) {
                                      e.onClickEvent(function () {
                                        a.close();
                                      });
                                    }
                                  );
                              }
                            ),
                            a.open(),
                            (a.onClose = function () {
                              localStorage.setItem(
                                "shownLivePreview-" + c.appId,
                                "true"
                              );
                            }))),
                        (u.label = 15);
                    case 15:
                      return (
                        u.trys.push([15, 18, , 19]),
                        !(l = this.internalPlugins.getPluginById("sync")) ||
                        l.enabled
                          ? [3, 17]
                          : [4, WD(this.appId + "-sync")]
                      );
                    case 16:
                      u.sent(), (u.label = 17);
                    case 17:
                      return [3, 19];
                    case 18:
                      return u.sent(), [3, 19];
                    case 19:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.registerCommands = function () {
              var e = this,
                t = this.commands;
              t.addCommand({
                id: "app:go-back",
                name: Lt("commands.navigate-back"),
                icon: Nm,
                callback: function () {
                  history.back();
                },
                hotkeys: [vT(["Mod", "Alt"], "ArrowLeft")],
              }),
                t.addCommand({
                  id: "app:go-forward",
                  name: Lt("commands.navigate-forward"),
                  icon: Bm,
                  callback: function () {
                    history.forward();
                  },
                  hotkeys: [vT(["Mod", "Alt"], "ArrowRight")],
                }),
                t.addCommand({
                  id: "app:open-vault",
                  name: Lt("interface.switch-vault"),
                  icon: ov,
                  callback: this.openVaultChooser.bind(this),
                }),
                t.addCommand({
                  id: "theme:use-dark",
                  name: Lt("commands.use-dark-mode"),
                  callback: function () {
                    e.changeTheme("obsidian");
                  },
                }),
                t.addCommand({
                  id: "theme:use-light",
                  name: Lt("commands.use-light-mode"),
                  callback: function () {
                    e.changeTheme("moonstone");
                  },
                }),
                t.addCommand({
                  id: "app:open-settings",
                  name: Lt("commands.open-settings"),
                  icon: Yv,
                  callback: function () {
                    e.setting.open();
                  },
                  hotkeys: [vT(["Mod"], ",")],
                }),
                t.addCommand({
                  id: "markdown:toggle-preview",
                  name: Lt("commands.toggle-preview"),
                  icon: $y,
                  checkCallback: function (t) {
                    var n = e.workspace.getActiveViewOfType(IR);
                    if (n) {
                      if (!t) {
                        var i = n.leaf,
                          r = i.getViewState();
                        (r.state.mode =
                          "preview" === r.state.mode ? "source" : "preview"),
                          i.setViewState(r, { focus: !0 });
                      }
                      return !0;
                    }
                  },
                  hotkeys: [vT(["Mod"], "E")],
                }),
                t.addCommand({
                  id: "workspace:close",
                  name: Lt("commands.close-active-pane"),
                  icon: Jm,
                  checkCallback: function (t) {
                    var n = e.workspace.activeLeaf;
                    return !!n && (t || n.detach(), !0);
                  },
                  hotkeys: [vT(["Mod"], "W")],
                }),
                t.addCommand({
                  id: "workspace:close-others",
                  name: Lt("commands.close-other-panes"),
                  icon: Jm,
                  checkCallback: function (t) {
                    var n = e.workspace.activeLeaf,
                      i = [];
                    if (
                      (e.workspace.iterateRootLeaves(function (e) {
                        e !== n && i.push(e);
                      }),
                      !t)
                    )
                      for (var r = 0, o = i; r < o.length; r++) {
                        o[r].detach();
                      }
                    return i.length > 0;
                  },
                }),
                t.addCommand({
                  id: "app:delete-file",
                  name: Lt("commands.delete-current-file"),
                  icon: um,
                  checkCallback: function (t) {
                    var n = e.workspace.getActiveFile();
                    if (n)
                      return t || e.fileManager.promptForFileDeletion(n), !0;
                  },
                }),
                t.addCommand({
                  id: "app:toggle-left-sidebar",
                  name: Lt("commands.toggle-left-sidebar"),
                  callback: function () {
                    e.workspace.leftSplit.toggle();
                  },
                }),
                t.addCommand({
                  id: "app:toggle-right-sidebar",
                  name: Lt("commands.toggle-right-sidebar"),
                  callback: function () {
                    e.workspace.rightSplit.toggle();
                  },
                }),
                t.addCommand({
                  id: "app:toggle-default-new-pane-mode",
                  name: Lt("commands.toggle-default-new-pane-mode"),
                  callback: function () {
                    var t = e.vault.getConfig("defaultViewMode");
                    "source" === t
                      ? (e.vault.setConfig("defaultViewMode", "preview"),
                        new lw(Lt("interface.msg-switched-to-read")))
                      : "preview" === t &&
                        (e.vault.setConfig("defaultViewMode", "source"),
                        new lw(Lt("interface.msg-switched-to-edit")));
                  },
                }),
                t.addCommand({
                  id: "app:open-help",
                  name: Lt("commands.open-help"),
                  icon: Ly,
                  callback: this.openHelp.bind(this),
                  hotkeys: [vT([], "F1")],
                }),
                t.addCommand({
                  id: "app:reload",
                  name: Lt("commands.reload"),
                  icon: Xm,
                  callback: function () {
                    return window.location.reload();
                  },
                }),
                t.addCommand({
                  id: "app:show-debug-info",
                  name: Lt("commands.show-debug-info"),
                  callback: function () {
                    new DN(e).open();
                  },
                }),
                t.addCommand({
                  id: "file-explorer:new-file",
                  name: Lt("plugins.file-explorer.action-create-note"),
                  icon: dy,
                  callback: function () {
                    return e.fileManager.createAndOpenMarkdownFile();
                  },
                  hotkeys: [vT(["Mod"], "N")],
                }),
                t.addCommand({
                  id: "file-explorer:new-file-in-new-pane",
                  name: Lt(
                    "plugins.file-explorer.action-create-note-in-new-pane"
                  ),
                  icon: dy,
                  callback: function () {
                    return e.fileManager.createAndOpenMarkdownFile(void 0, !0);
                  },
                  hotkeys: [vT(["Mod", "Shift"], "N")],
                }),
                (function (e) {
                  var t = this,
                    n = e.commands;
                  function i() {
                    var t = e.vault.getConfig("foldHeading"),
                      n = e.vault.getConfig("foldIndent");
                    return t || n;
                  }
                  n.addCommand({
                    id: "editor:open-search",
                    name: Lt("commands.search-current-file"),
                    icon: Dy,
                    checkCallback: function (t) {
                      var n = e.workspace.getActiveViewOfType(IR);
                      if (n) return t || n.showSearch(), !0;
                    },
                    hotkeys: [vT(["Mod"], "F")],
                  }),
                    n.addCommand({
                      id: "editor:open-search-replace",
                      name: Lt("commands.search-replace-current-file"),
                      icon: Dy,
                      checkCallback: function (t) {
                        var n = e.workspace.getActiveViewOfType(IR);
                        if (n && "source" === n.getMode())
                          return t || n.showSearch(!0), !0;
                      },
                      hotkeys: [
                        fe ? vT(["Mod", "Alt"], "F") : vT(["Mod"], "H"),
                      ],
                    }),
                    n.addCommand({
                      id: "editor:focus",
                      name: Lt("commands.focus-editor"),
                      icon: "",
                      editorCallback: function (e) {
                        return e.focus();
                      },
                    }),
                    n.addCommand({
                      id: "editor:toggle-fold",
                      name: Lt("commands.toggle-fold"),
                      icon: uy,
                      editorCheckCallback: function (e, t) {
                        if (i()) return e || t.exec("toggleFold"), !0;
                      },
                    }),
                    n.addCommand({
                      id: "editor:fold-all",
                      name: Lt("commands.fold-all"),
                      icon: oy,
                      allowPreview: !0,
                      editorCheckCallback: function (e, t, n) {
                        if (i()) {
                          if ("source" === n.getMode())
                            return e || t.exec("foldAll"), !0;
                          if ("preview" === n.getMode())
                            return e || n.previewMode.foldAll(), !0;
                        }
                      },
                    }),
                    n.addCommand({
                      id: "editor:unfold-all",
                      name: Lt("commands.unfold-all"),
                      icon: sy,
                      allowPreview: !0,
                      editorCheckCallback: function (e, t, n) {
                        if (i()) {
                          if ("source" === n.getMode())
                            return e || t.exec("unfoldAll"), !0;
                          if ("preview" === n.getMode())
                            return e || n.previewMode.unfoldAll(), !0;
                        }
                      },
                    }),
                    n.addCommand({
                      id: "editor:insert-wikilink",
                      name: Lt("setting.mobile-toolbar.option-internal-link"),
                      icon: xv,
                      editorCallback: function (e) {
                        return e.triggerWikilink(!1);
                      },
                    }),
                    n.addCommand({
                      id: "editor:insert-embed",
                      name: Lt("setting.mobile-toolbar.option-internal-embed"),
                      icon: Sv,
                      editorCallback: function (e) {
                        return e.triggerWikilink(!0);
                      },
                    }),
                    n.addCommand({
                      id: "editor:insert-link",
                      name: Lt("commands.insert-link"),
                      icon: Iv,
                      editorCallback: function (e) {
                        return e.insertMarkdownLink();
                      },
                      hotkeys: [vT(["Mod"], "K")],
                    }),
                    n.addCommand({
                      id: "editor:insert-tag",
                      name: Lt("setting.mobile-toolbar.option-tag"),
                      icon: Mv,
                      editorCallback: function (e) {
                        return e.insertText("#");
                      },
                    }),
                    n.addCommand({
                      id: "editor:set-heading",
                      name: Lt("setting.mobile-toolbar.option-heading"),
                      icon: Lv,
                      editorCallback: function (t) {
                        return new KR(e, new ew(e.scope), t).open();
                      },
                    }),
                    n.addCommand({
                      id: "editor:toggle-bold",
                      name: Lt("commands.toggle-bold"),
                      icon: Av,
                      editorCallback: function (e) {
                        return e.toggleSurroundingMarkdown("**");
                      },
                      hotkeys: [vT(["Mod"], "B")],
                    }),
                    n.addCommand({
                      id: "editor:toggle-italics",
                      name: Lt("commands.toggle-italics"),
                      icon: Dv,
                      editorCallback: function (e) {
                        return e.toggleSurroundingMarkdown("*");
                      },
                      hotkeys: [vT(["Mod"], "I")],
                    }),
                    n.addCommand({
                      id: "editor:toggle-strikethrough",
                      name: Lt("setting.mobile-toolbar.option-strikethrough"),
                      icon: Tv,
                      editorCallback: function (e) {
                        return e.toggleSurroundingMarkdown("~~");
                      },
                    }),
                    n.addCommand({
                      id: "editor:toggle-highlight",
                      name: Lt("commands.toggle-highlight"),
                      icon: Pv,
                      editorCallback: function (e) {
                        return e.toggleSurroundingMarkdown("==");
                      },
                    }),
                    n.addCommand({
                      id: "editor:toggle-code",
                      name: Lt("setting.mobile-toolbar.option-code"),
                      icon: Ov,
                      editorCallback: function (e) {
                        return e.toggleSurroundingMarkdown("`");
                      },
                    }),
                    n.addCommand({
                      id: "editor:toggle-blockquote",
                      name: Lt("setting.mobile-toolbar.option-blockquote"),
                      icon: Fv,
                      editorCallback: function (e) {
                        return e.toggleBlockquote();
                      },
                    }),
                    n.addCommand({
                      id: "editor:toggle-comments",
                      name: Lt("commands.toggle-comments"),
                      icon: Wv,
                      editorCallback: function (e) {
                        return e.toggleSurroundingMarkdown("%%");
                      },
                      hotkeys: [vT(["Mod"], "/")],
                    }),
                    n.addCommand({
                      id: "editor:toggle-bullet-list",
                      name: Lt("setting.mobile-toolbar.option-bullet-list"),
                      icon: Nv,
                      editorCallback: function (e) {
                        return e.toggleBulletList();
                      },
                    }),
                    n.addCommand({
                      id: "editor:toggle-numbered-list",
                      name: Lt("setting.mobile-toolbar.option-numbered-list"),
                      icon: Bv,
                      editorCallback: function (e) {
                        return e.toggleNumberList();
                      },
                    }),
                    n.addCommand({
                      id: "editor:toggle-checklist-status",
                      name: Lt("commands.toggle-checklist"),
                      icon: Rv,
                      editorCallback: function (e) {
                        return e.toggleCheckList();
                      },
                      hotkeys: [vT(["Mod"], "Enter")],
                    }),
                    n.addCommand({
                      id: "editor:cycle-list-checklist",
                      name: Lt("commands.cycle-list-checklist"),
                      icon: Rv,
                      editorCallback: function (e) {
                        return e.toggleCheckList(!0);
                      },
                    }),
                    n.addCommand({
                      id: "editor:indent-list",
                      name: Lt("setting.mobile-toolbar.option-indent-list"),
                      icon: Zv,
                      mobileOnly: !0,
                      editorCallback: function (e) {
                        return e.indentList();
                      },
                    }),
                    n.addCommand({
                      id: "editor:unindent-list",
                      name: Lt("setting.mobile-toolbar.option-unindent-list"),
                      icon: ey,
                      mobileOnly: !0,
                      editorCallback: function (e) {
                        return e.unindentList();
                      },
                    }),
                    n.addCommand({
                      id: "editor:swap-line-up",
                      name: Lt("commands.swap-line-up"),
                      icon: ly,
                      editorCallback: function (e) {
                        return e.exec("swapLineUp");
                      },
                    }),
                    n.addCommand({
                      id: "editor:swap-line-down",
                      name: Lt("commands.swap-line-down"),
                      icon: cy,
                      editorCallback: function (e) {
                        return e.exec("swapLineDown");
                      },
                    }),
                    n.addCommand({
                      id: "editor:undo",
                      name: Lt("setting.mobile-toolbar.option-undo"),
                      icon: zv,
                      mobileOnly: !0,
                      editorCallback: function (e) {
                        return e.undo();
                      },
                    }),
                    n.addCommand({
                      id: "editor:redo",
                      name: Lt("setting.mobile-toolbar.option-redo"),
                      icon: Hv,
                      mobileOnly: !0,
                      editorCallback: function (e) {
                        return e.redo();
                      },
                    }),
                    n.addCommand({
                      id: "editor:move-caret-up",
                      name: Lt("setting.mobile-toolbar.option-move-caret-up"),
                      icon: Vv,
                      mobileOnly: !0,
                      editorCallback: function (e) {
                        return e.exec("goUp");
                      },
                    }),
                    n.addCommand({
                      id: "editor:move-caret-down",
                      name: Lt("setting.mobile-toolbar.option-move-caret-down"),
                      icon: qv,
                      mobileOnly: !0,
                      editorCallback: function (e) {
                        return e.exec("goDown");
                      },
                    }),
                    n.addCommand({
                      id: "editor:move-caret-left",
                      name: Lt("setting.mobile-toolbar.option-move-caret-left"),
                      icon: jv,
                      mobileOnly: !0,
                      editorCallback: function (e) {
                        return e.exec("goLeft");
                      },
                    }),
                    n.addCommand({
                      id: "editor:move-caret-right",
                      name: Lt(
                        "setting.mobile-toolbar.option-move-caret-right"
                      ),
                      icon: Uv,
                      mobileOnly: !0,
                      editorCallback: function (e) {
                        return e.exec("goRight");
                      },
                    }),
                    n.addCommand({
                      id: "editor:go-start",
                      name: Lt("setting.mobile-toolbar.option-first-line"),
                      icon: Gv,
                      mobileOnly: !0,
                      editorCallback: function (e) {
                        return e.exec("goStart");
                      },
                    }),
                    n.addCommand({
                      id: "editor:go-end",
                      name: Lt("setting.mobile-toolbar.option-last-line"),
                      icon: Kv,
                      mobileOnly: !0,
                      editorCallback: function (e) {
                        return e.exec("goEnd");
                      },
                    }),
                    n.addCommand({
                      id: "editor:toggle-keyboard",
                      name: Lt("setting.mobile-toolbar.option-toggle-keyboard"),
                      icon: _v,
                      mobileOnly: !0,
                      editorCallback: function (e) {
                        e.hasFocus() ? e.blur() : e.focus();
                      },
                    }),
                    n.addCommand({
                      id: "editor:configure-toolbar",
                      name: Lt(
                        "setting.mobile-toolbar.option-configure-toolbar"
                      ),
                      icon: Yv,
                      mobileOnly: !0,
                      editorCallback: function () {
                        var t = e.setting;
                        t.openTabById("mobile-toolbar"), t.open();
                      },
                    }),
                    n.addCommand({
                      id: "editor:attach-file",
                      name: Lt("setting.mobile-toolbar.option-attach"),
                      icon: $v,
                      editorCallback: function (n) {
                        var i,
                          r = document.body.createEl("input", { type: "file" });
                        (r.style.position = "fixed"),
                          (r.style.opacity = "0"),
                          (r.style.zIndex = "-9999"),
                          r.addEventListener("change", function () {
                            return A(t, void 0, void 0, function () {
                              var t, i, a, l, c, u, h, p;
                              return D(this, function (d) {
                                switch (d.label) {
                                  case 0:
                                    if ((o(), !(t = r.files))) return s(), [2];
                                    if (!(i = e.workspace.getActiveFile()))
                                      return s(), [2];
                                    d.label = 1;
                                  case 1:
                                    d.trys.push([1, , 7, 8]),
                                      (a = 0),
                                      (d.label = 2);
                                  case 2:
                                    return a < t.length
                                      ? ((l = t[a]),
                                        (c = Ye(l.name)),
                                        [4, l.arrayBuffer()])
                                      : [3, 6];
                                  case 3:
                                    return (
                                      (u = d.sent()),
                                      [4, e.saveAttachment(Xe(c), et(c), u)]
                                    );
                                  case 4:
                                    (h = d.sent()) &&
                                      ((p = e.fileManager.generateMarkdownLink(
                                        h,
                                        i.path
                                      )),
                                      n.replaceSelection(p)),
                                      (d.label = 5);
                                  case 5:
                                    return a++, [3, 2];
                                  case 6:
                                    return [3, 8];
                                  case 7:
                                    return s(), [7];
                                  case 8:
                                    return [2];
                                }
                              });
                            });
                          });
                        var o = function () {
                            document.removeEventListener("focus", a),
                              document.removeEventListener("click", a),
                              clearTimeout(i);
                          },
                          s = function () {
                            r.detach();
                          },
                          a = function () {
                            o(), (i = window.setTimeout(s, 5e3));
                          };
                        r.focus(),
                          r.click(),
                          setTimeout(function () {
                            document.addEventListener("focus", a),
                              document.addEventListener("click", a);
                          }, 0);
                      },
                    }),
                    n.addCommand({
                      id: "editor:delete-paragraph",
                      name: Lt("commands.delete-paragraph"),
                      icon: ay,
                      editorCallback: function (e) {
                        return e.exec("deleteLine");
                      },
                      hotkeys: [vT(["Mod"], "D")],
                    }),
                    n.addCommand({
                      id: "editor:toggle-spellcheck",
                      name: Lt("commands.toggle-spellcheck"),
                      callback: function () {
                        e.vault.setConfig(
                          "spellcheck",
                          !e.vault.getConfig("spellcheck")
                        );
                      },
                    }),
                    eb.isMobileApp &&
                      (n.addCommand({
                        id: "editor:paste",
                        name: Lt("interface.menu.paste"),
                        icon: Uy,
                        editorCallback: function (e) {
                          return A(t, void 0, void 0, function () {
                            var t, n;
                            return D(this, function (i) {
                              switch (i.label) {
                                case 0:
                                  return (
                                    (n = (t = e).replaceSelection),
                                    [4, window.navigator.clipboard.readText()]
                                  );
                                case 1:
                                  return [2, n.apply(t, [i.sent()])];
                              }
                            });
                          });
                        },
                      }),
                      n.addCommand({
                        id: "editor:copy",
                        name: Lt("interface.menu.copy"),
                        icon: Vy,
                        editorCallback: function (e) {
                          return A(t, void 0, void 0, function () {
                            return D(this, function (t) {
                              switch (t.label) {
                                case 0:
                                  return [
                                    4,
                                    window.navigator.clipboard.writeText(
                                      e.getSelection()
                                    ),
                                  ];
                                case 1:
                                  return [2, t.sent()];
                              }
                            });
                          });
                        },
                      }),
                      n.addCommand({
                        id: "editor:context-menu",
                        name: Lt("commands.context-menu"),
                        icon: ym,
                        editorCallback: function (e, t) {
                          var n = t.editMode,
                            i = t.sourceMode,
                            r = n || i;
                          if (r) {
                            var o = e.getCursor("head"),
                              s = e.coordsAtPos(o);
                            r.clipboardManager.onContextMenu(
                              new MouseEvent("contextmenu", {
                                bubbles: !0,
                                cancelable: !1,
                                view: window,
                                button: 0,
                                buttons: 0,
                                clientX: s.left,
                                clientY: s.top,
                              })
                            );
                          }
                        },
                      }));
                })(this),
                eb.isDesktopApp &&
                  cb.registerPostProcessor(function (t) {
                    return e.fixFileLinks(t);
                  }),
                cb.registerPostProcessor(function (t) {
                  for (
                    var n = function (t) {
                        var n = t.parentElement;
                        if (!n) return "continue";
                        if (n.findAll(".copy-code-button").length > 0)
                          return "continue";
                        var i = fb(t);
                        i.endsWith("\n") && (i = i.substr(0, i.length - 1)),
                          n
                            .createEl("button", {
                              cls: "copy-code-button",
                              text: Lt("interface.menu.copy"),
                            })
                            .onClickEvent(function () {
                              return A(e, void 0, void 0, function () {
                                return D(this, function (e) {
                                  switch (e.label) {
                                    case 0:
                                      return [
                                        4,
                                        navigator.clipboard.writeText(i),
                                      ];
                                    case 1:
                                      return (
                                        e.sent(),
                                        new lw(
                                          Lt("interface.copied", { item: "" })
                                        ),
                                        [2]
                                      );
                                  }
                                });
                              });
                            });
                      },
                      i = 0,
                      r = t.findAll("pre > code");
                    i < r.length;
                    i++
                  ) {
                    n(r[i]);
                  }
                });
            }),
            (e.prototype.disableCssTransition = function () {
              this.dom.appContainerEl.addClass("no-transition");
            }),
            (e.prototype.enableCssTransition = function () {
              this.dom.appContainerEl.removeClass("no-transition");
            }),
            (e.prototype.getTheme = function () {
              return this.vault.getConfig("theme");
            }),
            (e.prototype.fixFileLinks = function (e) {
              if (eb.isDesktopApp)
                for (
                  var t = 0, n = e.findAll("img, audio, video, iframe");
                  t < n.length;
                  t++
                ) {
                  var i = n[t];
                  (i instanceof HTMLImageElement ||
                    i instanceof HTMLMediaElement ||
                    i instanceof HTMLIFrameElement) &&
                    i.src.startsWith("file:///") &&
                    (i.src = "app://local/" + i.src.substr("file:///".length));
                }
            }),
            (e.prototype.changeTheme = function (e) {
              var t = this;
              e &&
                (this.disableCssTransition(),
                this.setTheme(e),
                setTimeout(function () {
                  t.enableCssTransition();
                }, 200),
                this.vault.setConfig("theme", e),
                this.workspace.trigger("css-change"));
            }),
            (e.prototype.changeBaseFontSize = function (e) {
              (e = Math.clamp(e, 10, 30)),
                document.body.style.setProperty("--editor-font-size", e + "px"),
                this.vault.setConfig("baseFontSize", e),
                this.workspace.trigger("css-change");
            }),
            (e.prototype.setTheme = function (e) {
              var t = document.body,
                n = "obsidian" === e;
              t.toggleClass("theme-light", !n),
                t.toggleClass("theme-dark", n),
                eb.isMobileApp &&
                  (eb.isAndroidApp && wI.setStyle({ style: fn.Dark }),
                  eb.isIosApp &&
                    (wI.setStyle({ style: n ? fn.Dark : fn.Light }),
                    xI.setStyle({ style: n ? pn.Dark : pn.Light })));
            }),
            (e.prototype.garbleText = function () {
              this.dom.appContainerEl.addClass("is-text-garbled");
            }),
            (e.prototype.importLocalFile = function (e) {
              return A(this, void 0, Promise, function () {
                var t, n, i, r;
                return D(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return [4, tI.readLocalFile(e)];
                    case 1:
                      return (t = o.sent())
                        ? ((n = Ye(rt(e))),
                          (i = et(n)),
                          (r = Xe(n)),
                          [2, this.saveAttachment(r, i, t)])
                        : [2, null];
                  }
                });
              });
            }),
            (e.prototype.saveAttachment = function (e, t, n) {
              return A(this, void 0, Promise, function () {
                var i, r, o;
                return D(this, function (s) {
                  switch (s.label) {
                    case 0:
                      return (
                        (i = null),
                        (r = this.workspace.getActiveViewOfType(IR)) &&
                          (i = r.file),
                        [4, this.vault.getAvailablePathForAttachments(e, t, i)]
                      );
                    case 1:
                      return (o = s.sent()), [4, this.vault.createBinary(o, n)];
                    case 2:
                      return [2, s.sent()];
                  }
                });
              });
            }),
            (e.prototype.onMouseEvent = function (e) {
              (3 !== e.button && 4 !== e.button) ||
                (e.preventDefault(), e.stopPropagation());
            }),
            (e.prototype.openVaultChooser = function () {
              eb.isDesktopApp &&
                ut(function (e) {
                  e.ipcRenderer.sendSync("starter");
                }),
                eb.isMobileApp &&
                  (localStorage.removeItem("mobile-selected-vault"),
                  setTimeout(function () {
                    location.reload();
                  }, 200));
            }),
            (e.prototype.openHelp = function () {
              eb.isDesktopApp
                ? ut(function (e) {
                    var t = localStorage.getItem(mt);
                    e.ipcRenderer.sendSync("helpdocs", t);
                  })
                : window.open("https://help.obsidian.md/", "_blank");
            }),
            (e.prototype.openWithDefaultApp = function (e) {
              return A(this, void 0, void 0, function () {
                var t, n, i;
                return D(this, function (r) {
                  switch (r.label) {
                    case 0:
                      if (
                        ((t = this.vault.adapter),
                        eb.isDesktopApp &&
                          t instanceof tI &&
                          ((n = t.getFullPath(e)),
                          ut(function (e) {
                            var t = e.shell;
                            t && (t.openPath ? t.openPath(n) : t.openItem(n));
                          })),
                        !(eb.isMobileApp && dI && t instanceof GR))
                      )
                        return [3, 4];
                      r.label = 1;
                    case 1:
                      return r.trys.push([1, 3, , 4]), [4, t.open(e)];
                    case 2:
                      return r.sent(), [3, 4];
                    case 3:
                      return (
                        (i = r.sent()),
                        new lw(i.message || "Failed to open file"),
                        [3, 4]
                      );
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.showInFolder = function (e) {
              var t = this;
              ut(function (n) {
                var i = t.vault.adapter,
                  r = n.shell;
                if (r && i instanceof tI) {
                  var o = i.getFullPath(e);
                  r.showItemInFolder(o);
                }
              });
            }),
            (e.prototype.getObsidianUrl = function (e) {
              var t = this.vault.getName(),
                n = at(e.path);
              return (
                "obsidian://open?vault=" +
                encodeURIComponent(t) +
                "&file=" +
                encodeURIComponent(n)
              );
            }),
            (e.prototype.copyObsidianUrl = function (e) {
              Pt(this.getObsidianUrl(e)),
                new lw(Lt("interface.copied", { item: Lt("interface.url") }));
            }),
            (e.prototype.registerQuitHook = function () {
              var e = this;
              window.onbeforeunload = function (t) {
                window.onbeforeunload = null;
                var n = e.workspace;
                if (n) {
                  var i = new Yh();
                  n.trigger("quit", i),
                    i.isEmpty() ||
                      (t.preventDefault(),
                      e.loadProgress.show().setMessage("Saving..."),
                      A(e, void 0, void 0, function () {
                        return D(this, function (e) {
                          switch (e.label) {
                            case 0:
                              return [4, i.promise()];
                            case 1:
                              return e.sent(), window.close(), [2];
                          }
                        });
                      }));
                }
              };
            }),
            (e.prototype.loadLocalStorage = function (e) {
              try {
                var t = localStorage.getItem(this.appId + "-" + e);
                if (t) return JSON.parse(t);
              } catch (e) {}
              return null;
            }),
            (e.prototype.saveLocalStorage = function (e, t) {
              try {
                t
                  ? localStorage.setItem(
                      this.appId + "-" + e,
                      JSON.stringify(t)
                    )
                  : localStorage.removeItem(this.appId + "-" + e);
              } catch (e) {}
            }),
            (e.prototype.on = function (e, t, n) {
              return this.workspace.on(e, t, n);
            }),
            (e.prototype.emulateMobile = function (e) {
              e
                ? (localStorage.EmulateMobile = 1)
                : delete localStorage.EmulateMobile,
                window.location.reload();
            }),
            (e.getOverrideConfigDir = function (e) {
              var t = localStorage.getItem(e + "-config");
              return t && String.isString(t) ? t : null;
            }),
            e
          );
        })();
      function Vq(e) {
        return A(this, void 0, void 0, function () {
          var t, n, i, r;
          return D(this, function (o) {
            switch (o.label) {
              case 0:
                return o.trys.push([0, 2, , 3]), [4, WD(e + "-sync")];
              case 1:
                return o.sent(), [3, 3];
              case 2:
                return o.sent(), [3, 3];
              case 3:
                return o.trys.push([3, 5, , 6]), [4, WD(e + "-cache")];
              case 4:
                return o.sent(), [3, 6];
              case 5:
                return o.sent(), [3, 6];
              case 6:
                try {
                  for (
                    t = Object.keys(localStorage).filter(function (t) {
                      return t.startsWith(e + "-");
                    }),
                      n = 0,
                      i = t;
                    n < i.length;
                    n++
                  )
                    (r = i[n]), localStorage.removeItem(r);
                } catch (e) {}
                return [2];
            }
          });
        });
      }
      function qq() {
        return A(this, void 0, void 0, function () {
          function e(e) {
            if (fI) {
              if (e.startsWith("icloud/")) {
                if (r) return { fs: r, path: s + "/" + Ye(e) };
              } else if (e.startsWith("documents/"))
                return { fs: i, path: Ye(e) };
            } else if (gI) return e.contains("/") ? { fs: o, path: e } : { fs: i, path: a + "/" + e };
            return null;
          }
          function t(t) {
            return A(this, void 0, Promise, function () {
              var i, s, a, l, h, p, d, f, g, m, v, y;
              return D(this, function (b) {
                switch (b.label) {
                  case 0:
                    if (!t) return [2, !1];
                    if (!(i = e(t))) return [2];
                    (s = i.fs), (a = i.path), (b.label = 1);
                  case 1:
                    return b.trys.push([1, 3, , 4]), [4, s.stat(a)];
                  case 2:
                    return b.sent(), [3, 4];
                  case 3:
                    return b.sent(), [2, !1];
                  case 4:
                    return (
                      localStorage.setItem("mobile-selected-vault", t),
                      s === o &&
                        c.contains(t) &&
                        c[0] !== t &&
                        (c.remove(t), c.unshift(t), u()),
                      n.empty(),
                      (l = n.createDiv("mobile-vault-chooser-screen mod-main")),
                      (h = l.createDiv(
                        "mobile-vault-chooser-content"
                      )).createDiv(
                        { cls: "mobile-vault-chooser-logo-container" },
                        function (e) {
                          e.createDiv({
                            cls: "mobile-vault-chooser-logo",
                            text: "Obsidian",
                          });
                        }
                      ),
                      (p = h.createDiv()),
                      fI && s === r
                        ? ((d = Hq.getOverrideConfigDir(t) || Eb),
                          (f = Uh()),
                          p.setText(
                            "Waiting for iCloud to synchronize Obsidian configuration files..."
                          ),
                          (g = h.createDiv()),
                          (m = h.createEl("button", {
                            cls: "mod-cta",
                            text: "Skip",
                          })).addEventListener("click", function () {
                            f.resolve();
                          }),
                          (v = yI.addListener("icloud", function (e) {
                            g.setText("... " + e.current + " files left"),
                              0 === e.current && f.resolve();
                          })),
                          [4, s.verifyIcloud(a + "/" + d)])
                        : [3, 8]
                    );
                  case 5:
                    return b.sent(), [4, f.promise];
                  case 6:
                    return b.sent(), [4, v.remove()];
                  case 7:
                    b.sent(), g.detach(), m.detach(), (b.label = 8);
                  case 8:
                    return (
                      p.setText("Loading your vault data..."), [4, s.watch(a)]
                    );
                  case 9:
                    return (
                      b.sent(),
                      l.detach(),
                      n.detach(),
                      (y = new GR(a, s)),
                      (window.app = new Hq(y, t)),
                      bI.hide(),
                      [2, !0]
                    );
                }
              });
            });
          }
          var n,
            i,
            r,
            o,
            s,
            a,
            l,
            c,
            u,
            h,
            p,
            d,
            f,
            g,
            m,
            v = this;
          return D(this, function (y) {
            switch (y.label) {
              case 0:
                (eb.isMobileApp = !0),
                  (eb.isMobile = !0),
                  (eb.isAndroidApp = gI),
                  (eb.isIosApp = fI);
                try {
                  (navigator.clipboard.readText = function () {
                    return A(v, void 0, void 0, function () {
                      return D(this, function (e) {
                        switch (e.label) {
                          case 0:
                            return [4, vI.read()];
                          case 1:
                            return [2, e.sent().value];
                        }
                      });
                    });
                  }),
                    (navigator.clipboard.writeText = function (e) {
                      return A(v, void 0, void 0, function () {
                        return D(this, function (t) {
                          switch (t.label) {
                            case 0:
                              return [4, vI.write({ string: e })];
                            case 1:
                              return t.sent(), [2];
                          }
                        });
                      });
                    });
                } catch (e) {}
                try {
                  mI.addListener("appStateChange", function (e) {
                    var t = e.isActive;
                    window.dispatchEvent(new FocusEvent(t ? "focus" : "blur"));
                  });
                } catch (e) {}
                if (
                  (document.body.addClass("is-mobile"),
                  gI && document.body.addClass("is-android"),
                  fI && document.body.addClass("is-ios"),
                  (n = document.body.createDiv("mobile-vault-chooser")),
                  !gI)
                )
                  return [3, 8];
                if (!Symbol || !Symbol.asyncIterator)
                  return (
                    n
                      .createDiv("mobile-vault-chooser-screen mod-main")
                      .createDiv("mobile-vault-chooser-content", function (e) {
                        e.createDiv(
                          { cls: "mobile-vault-chooser-logo-container" },
                          function (e) {
                            e.createDiv({
                              cls: "mobile-vault-chooser-logo",
                              text: "Obsidian",
                            });
                          }
                        ),
                          e.createDiv({
                            text: 'Your Android device is not up to date, and must be updated for Obsidian to work. Please find a way to upgrade the app "Android WebView".',
                          });
                      }),
                    [2]
                  );
                y.label = 1;
              case 1:
                0, (y.label = 2);
              case 2:
                return y.trys.push([2, 4, , 6]), [4, yI.checkPerms()];
              case 3:
                return y.sent(), [3, 7];
              case 4:
                return (
                  y.sent(),
                  [
                    4,
                    new Promise(function (e) {
                      var t = n.createDiv(
                        "mobile-vault-chooser-screen mod-main"
                      );
                      t.createDiv("mobile-vault-chooser-content", function (n) {
                        n.createDiv(
                          { cls: "mobile-vault-chooser-logo-container" },
                          function (e) {
                            e.createDiv({
                              cls: "mobile-vault-chooser-logo",
                              text: "Obsidian",
                            });
                          }
                        ),
                          new ZD(n)
                            .setDesc(
                              createFragment(function (e) {
                                e.createEl("p", "", function (e) {
                                  e.createSpan({
                                    text: "Obsidian will now request permission to access your device storage. ",
                                  }),
                                    e.createEl("a", {
                                      cls: "external-link",
                                      href: "https://help.obsidian.md/Android+App#Storage+Permission",
                                      text: "Learn more",
                                    });
                                }),
                                  e.createEl("p", {
                                    text: "Note: Obsidian will never access files outside of the vault folders you choose.",
                                  });
                              })
                            )
                            .addButton(function (n) {
                              return n
                                .setButtonText("Grant permission")
                                .onClick(function () {
                                  return A(v, void 0, void 0, function () {
                                    var n;
                                    return D(this, function (i) {
                                      switch (i.label) {
                                        case 0:
                                          return (
                                            i.trys.push([0, 2, , 3]),
                                            [4, yI.requestPerms()]
                                          );
                                        case 1:
                                          return (
                                            i.sent(), t.detach(), e(), [3, 3]
                                          );
                                        case 2:
                                          return (
                                            (n = i.sent()),
                                            new lw(n.toString()),
                                            [3, 3]
                                          );
                                        case 3:
                                          return [2];
                                      }
                                    });
                                  });
                                });
                            });
                      });
                    }),
                  ]
                );
              case 5:
                return y.sent(), [3, 6];
              case 6:
                return [3, 1];
              case 7:
                return [3, 10];
              case 8:
                return [4, yI.requestPermissions()];
              case 9:
                y.sent(), (y.label = 10);
              case 10:
                return [4, (i = new WR(sI.Documents)).init()];
              case 11:
                if ((y.sent(), (r = null), (o = null), !fI)) return [3, 15];
                (r = new WR("ICLOUD")), (y.label = 12);
              case 12:
                return y.trys.push([12, 14, , 15]), [4, r.init()];
              case 13:
                return y.sent(), [3, 15];
              case 14:
                return y.sent(), (r = null), [3, 15];
              case 15:
                return gI ? [4, (o = new WR(null)).init()] : [3, 17];
              case 16:
                y.sent(), (y.label = 17);
              case 17:
                if (((s = "Documents"), (a = "Obsidian"), !fI || !r))
                  return [3, 28];
                y.label = 18;
              case 18:
                return y.trys.push([18, 23, , 25]), [4, r.stat(s)];
              case 19:
                return "directory" === y.sent().type
                  ? [3, 22]
                  : [4, r.delete(s)];
              case 20:
                return y.sent(), [4, r.mkdir(s)];
              case 21:
                y.sent(), (y.label = 22);
              case 22:
                return [3, 25];
              case 23:
                return y.sent(), [4, r.mkdir(s)];
              case 24:
                return y.sent(), [3, 25];
              case 25:
                return y.trys.push([25, 27, , 28]), [4, r.write(".hidden", "")];
              case 26:
                return y.sent(), [3, 28];
              case 27:
                return y.sent(), [3, 28];
              case 28:
                (l = localStorage.getItem("mobile-selected-vault")), (c = []);
                try {
                  c = JSON.parse(
                    localStorage.getItem("mobile-external-vaults")
                  );
                } catch (e) {}
                return (
                  (c && Array.isArray(c)) || (c = []),
                  (u = function () {
                    localStorage.setItem(
                      "mobile-external-vaults",
                      JSON.stringify(c)
                    );
                  }),
                  [
                    4,
                    (function () {
                      return A(v, void 0, Promise, function () {
                        var e,
                          n,
                          o,
                          l,
                          u,
                          h,
                          p,
                          d = this;
                        return D(this, function (f) {
                          switch (f.label) {
                            case 0:
                              return [4, mI.getLaunchUrl()];
                            case 1:
                              return (e = f.sent()) &&
                                e.url &&
                                (n = PN(e.url)) &&
                                (o = n.vault)
                                ? ((l = function (e, n, i) {
                                    return A(d, void 0, Promise, function () {
                                      var r, s, a, l, c, u;
                                      return D(this, function (h) {
                                        switch (h.label) {
                                          case 0:
                                            return (
                                              h.trys.push([0, 2, , 3]),
                                              [4, e.readdir(n)]
                                            );
                                          case 1:
                                            return (r = h.sent()), [3, 3];
                                          case 2:
                                            return (
                                              (s = h.sent()),
                                              console.error(s),
                                              [2, !1]
                                            );
                                          case 3:
                                            (a = 0), (l = r), (h.label = 4);
                                          case 4:
                                            if (!(a < l.length)) return [3, 11];
                                            if (
                                              (c = l[a]).toLowerCase() !==
                                                o.toLowerCase() ||
                                              c.startsWith(".")
                                            )
                                              return [3, 10];
                                            h.label = 5;
                                          case 5:
                                            return (
                                              h.trys.push([5, 9, , 10]),
                                              [4, e.stat(n ? n + "/" + c : c)]
                                            );
                                          case 6:
                                            return "directory" !== h.sent().type
                                              ? [3, 8]
                                              : [4, t(i + c)];
                                          case 7:
                                            return [2, h.sent()];
                                          case 8:
                                            return [3, 10];
                                          case 9:
                                            return (
                                              (u = h.sent()),
                                              console.error(u),
                                              [3, 10]
                                            );
                                          case 10:
                                            return a++, [3, 4];
                                          case 11:
                                            return [2, !1];
                                        }
                                      });
                                    });
                                  }),
                                  fI
                                    ? r
                                      ? [4, l(r, s, "icloud/")]
                                      : [3, 3]
                                    : [3, 5])
                                : [2, !1];
                            case 2:
                              if (f.sent()) return [2, !0];
                              f.label = 3;
                            case 3:
                              return [4, l(i, "", "documents/")];
                            case 4:
                              return f.sent() ? [2, !0] : [3, 11];
                            case 5:
                              if (!gI) return [3, 11];
                              (u = 0), (h = c), (f.label = 6);
                            case 6:
                              return u < h.length
                                ? Ye((p = h[u])) !== o
                                  ? [3, 8]
                                  : [4, t(p)]
                                : [3, 9];
                            case 7:
                              if (f.sent()) return [2, !0];
                              f.label = 8;
                            case 8:
                              return u++, [3, 6];
                            case 9:
                              return [4, l(i, a, "")];
                            case 10:
                              if (f.sent()) return [2];
                              f.label = 11;
                            case 11:
                              return [2, !1];
                          }
                        });
                      });
                    })(),
                  ]
                );
              case 29:
                return y.sent() ? [2] : [4, t(l)];
              case 30:
                return y.sent() ? [2] : ((h = null), [4, mI.getInfo()]);
              case 31:
                return (
                  (p = y.sent()),
                  (d = n.createDiv(
                    "mobile-vault-chooser-screen mod-main"
                  )).createDiv("mobile-vault-chooser-content", function (e) {
                    e.createDiv(
                      { cls: "mobile-vault-chooser-logo-container" },
                      function (e) {
                        e.createDiv({
                          cls: "mobile-vault-chooser-logo",
                          text: "Obsidian",
                        }),
                          e.createDiv({
                            cls: "mobile-vault-chooser-version",
                            text: "Version " + p.version,
                          });
                      }
                    ),
                      e.createDiv("mobile-vault-chooser-actions", function (e) {
                        fI &&
                          !r &&
                          e.createEl("p", "mod-warning", function (e) {
                            e.createSpan({
                              text: "You cannot access or create vaults in iCloud because it's disabled for Obsidian.",
                            });
                          }),
                          e.createEl("hr");
                        var i = gI
                          ? "https://help.obsidian.md/Getting+started/Sync+your+notes+across+devices#Sync+notes+on+Android"
                          : "https://help.obsidian.md/Getting+started/Sync+your+notes+across+devices#Sync+your+notes+on+iPhone+and+iPad";
                        new jq(e)
                          .setIcon(Um)
                          .setTitle("How to setup sync")
                          .addButton(vm)
                          .onClick(function () {
                            return window.open(i);
                          }),
                          e.createEl("hr"),
                          new jq(e)
                            .setIcon(Qv)
                            .setTitle("Create new vault")
                            .addButton(vm)
                            .onClick(function () {
                              return Gb(n, g(), "right");
                            }),
                          gI &&
                            new jq(e)
                              .setIcon(fm)
                              .setTitle("Open folder as vault")
                              .addButton(vm)
                              .onClick(function () {
                                return A(v, void 0, void 0, function () {
                                  var e, n, i, r;
                                  return D(this, function (s) {
                                    switch (s.label) {
                                      case 0:
                                        return (
                                          s.trys.push([0, 6, , 7]),
                                          [4, yI.choose()]
                                        );
                                      case 1:
                                        return (e = s.sent()) && e.path
                                          ? e.isRoot
                                            ? (new lw(
                                                "Please choose a different folder than the root folder of your device."
                                              ),
                                              [2])
                                            : ((n = e.path), [4, o.stat(n)])
                                          : [3, 5];
                                      case 2:
                                        return "directory" !==
                                          (null === (r = s.sent()) ||
                                          void 0 === r
                                            ? void 0
                                            : r.type)
                                          ? [3, 4]
                                          : (c.contains(n) || c.unshift(n),
                                            u(),
                                            [4, t(n)]);
                                      case 3:
                                        return s.sent(), [3, 5];
                                      case 4:
                                        new lw(
                                          "Failed to load external vault."
                                        ),
                                          (s.label = 5);
                                      case 5:
                                        return [3, 7];
                                      case 6:
                                        return (
                                          ((i = s.sent()) &&
                                            i.message &&
                                            i.message.contains("canceled")) ||
                                            new lw(i.toString()),
                                          [3, 7]
                                        );
                                      case 7:
                                        return [2];
                                    }
                                  });
                                });
                              }),
                          (h = e.createDiv());
                      });
                  }),
                  (f = function (e, t, i) {
                    var r = createDiv("mobile-vault-chooser-screen");
                    return (
                      r.createDiv("mobile-vault-chooser-header", function (i) {
                        i.createDiv(
                          "mobile-vault-chooser-header-icon",
                          function (e) {
                            Xy(e, Nm, 20);
                          }
                        ),
                          i.createDiv({
                            cls: "mobile-vault-chooser-header-title",
                            text: e,
                          }),
                          i.addEventListener("click", function () {
                            return Gb(n, t, "left");
                          });
                      }),
                      r.createDiv("mobile-vault-chooser-content", i),
                      r
                    );
                  }),
                  (g = function () {
                    return f("Create new vault", d, function (n) {
                      var i, s;
                      new ZD(n).setName("Vault name").addText(function (e) {
                        return e
                          .setPlaceholder("Enter name...")
                          .then(function (e) {
                            return (i = e);
                          });
                      }),
                        fI &&
                          (r
                            ? new ZD(n)
                                .setName("Store in iCloud")
                                .setDesc("This cannot be changed later.")
                                .addToggle(function (e) {
                                  e.setValue(!1), (s = e);
                                })
                            : new ZD(n)
                                .setName("Store in iCloud")
                                .setDesc(
                                  createFragment(function (e) {
                                    return e.createEl("p", {
                                      cls: "mod-warning",
                                      text: "This option is not available right now because iCloud is disabled for Obsidian.",
                                    });
                                  })
                                )
                                .addToggle(function (e) {
                                  e.setValue(!1);
                                })
                                .setDisabled(!0));
                      var a = "";
                      if (gI)
                        var l = new ZD(n)
                          .setName("Vault location")
                          .setDesc("Pick a folder to put your new vault.")
                          .addButton(function (e) {
                            return e
                              .setButtonText("Choose")
                              .onClick(function () {
                                return A(v, void 0, void 0, function () {
                                  var e, t, n, i;
                                  return D(this, function (r) {
                                    switch (r.label) {
                                      case 0:
                                        return (
                                          r.trys.push([0, 4, , 5]),
                                          [4, yI.choose()]
                                        );
                                      case 1:
                                        return (e = r.sent()) && e.path
                                          ? (new lw(e.uri),
                                            (t = e.path),
                                            [4, o.stat(t)])
                                          : [3, 3];
                                      case 2:
                                        if (
                                          "directory" !==
                                          (null === (i = r.sent()) ||
                                          void 0 === i
                                            ? void 0
                                            : i.type)
                                        )
                                          return (
                                            new lw("Failed to pick vault."), [2]
                                          );
                                        (a = t),
                                          l.setDesc(
                                            createFragment(function (e) {
                                              e.appendText(
                                                "Your new vault will be placed in "
                                              ),
                                                e.createSpan({
                                                  cls: "u-pop",
                                                  text: t,
                                                }),
                                                e.appendText(".");
                                            })
                                          ),
                                          (r.label = 3);
                                      case 3:
                                        return [3, 5];
                                      case 4:
                                        return (
                                          ((n = r.sent()) &&
                                            n.message &&
                                            n.message.contains("canceled")) ||
                                            new lw(n.toString()),
                                          [2]
                                        );
                                      case 5:
                                        return [2];
                                    }
                                  });
                                });
                              });
                          });
                      new ZD(n).addButton(function (n) {
                        return n
                          .setButtonText("Create")
                          .then(function (e) {
                            e.buttonEl.addEventListener(
                              "mousedown",
                              function (e) {
                                return e.preventDefault();
                              }
                            );
                          })
                          .setCta()
                          .onClick(function () {
                            return A(v, void 0, void 0, function () {
                              var n, r, o, l, h, p;
                              return D(this, function (d) {
                                switch (d.label) {
                                  case 0:
                                    if (!(n = i.getValue().trim()))
                                      return (
                                        new lw("Please enter a vault name."),
                                        [2]
                                      );
                                    if (ze.test(n))
                                      return (
                                        new lw(
                                          "Vault name cannot contain any of these characters: " +
                                            Be
                                        ),
                                        [2]
                                      );
                                    if (fI)
                                      r =
                                        s && s.getValue()
                                          ? "icloud/" + n
                                          : "documents/" + n;
                                    else if (gI) {
                                      if (!a)
                                        return (
                                          new lw(
                                            "Please choose a location for your new vault."
                                          ),
                                          [2]
                                        );
                                      r = a + "/" + n;
                                    }
                                    if (!(o = e(r))) return [3, 8];
                                    (l = o.fs), (h = o.path), (d.label = 1);
                                  case 1:
                                    return (
                                      d.trys.push([1, 5, , 6]), [4, l.exists(h)]
                                    );
                                  case 2:
                                    return d.sent() ? [3, 4] : [4, l.mkdir(h)];
                                  case 3:
                                    d.sent(), (d.label = 4);
                                  case 4:
                                    return [3, 6];
                                  case 5:
                                    return (
                                      (p = d.sent()),
                                      new lw(
                                        "Failed to create vault. " + p.message
                                      ),
                                      [2]
                                    );
                                  case 6:
                                    return (
                                      gI &&
                                        (c.contains(r) || (c.unshift(r), u())),
                                      [4, t(r)]
                                    );
                                  case 7:
                                    d.sent(), (d.label = 8);
                                  case 8:
                                    return [2];
                                }
                              });
                            });
                          });
                      });
                    });
                  }),
                  [
                    4,
                    (m = function () {
                      return A(v, void 0, void 0, function () {
                        var l,
                          p,
                          g,
                          v,
                          y,
                          b,
                          w,
                          k,
                          C,
                          x,
                          S,
                          E = this;
                        return D(this, function (M) {
                          switch (M.label) {
                            case 0:
                              return (
                                h.empty(),
                                h.createEl("hr"),
                                (l = function (r, s, l) {
                                  var p = function () {
                                    var l = f(s, d, function (h) {
                                      if (gI) {
                                        var p = r;
                                        if (!r.contains("/")) {
                                          var g = i.uri + "/" + a;
                                          g.startsWith("file://") &&
                                            (g = g.substr("file://".length)),
                                            (p = g + "/" + r);
                                        }
                                        new ZD(h)
                                          .setName("Vault location")
                                          .setDesc(
                                            createFragment(function (e) {
                                              e.appendText(
                                                "This vault is located at "
                                              ),
                                                (e.createSpan({
                                                  cls: "u-pop",
                                                  text: p,
                                                }).style.wordBreak =
                                                  "break-all");
                                            })
                                          )
                                          .controlEl.detach(),
                                          h.createEl("hr");
                                      }
                                      h.createDiv(
                                        "mobile-vault-chooser-actions",
                                        function (i) {
                                          new jq(i)
                                            .setIcon(iv)
                                            .setTitle("Enter vault")
                                            .addButton(vm)
                                            .onClick(function () {
                                              return t(r);
                                            }),
                                            new jq(i)
                                              .setIcon(gm)
                                              .setTitle("Rename vault")
                                              .addButton(vm)
                                              .onClick(function () {
                                                return Gb(
                                                  n,
                                                  f(
                                                    "Rename vault " + s,
                                                    l,
                                                    function (t) {
                                                      var i = null;
                                                      new ZD(t)
                                                        .setName(
                                                          "New vault name"
                                                        )
                                                        .addText(function (e) {
                                                          return e
                                                            .setValue(s)
                                                            .setPlaceholder(
                                                              "Enter name..."
                                                            )
                                                            .then(function (e) {
                                                              return (i = e);
                                                            });
                                                        }),
                                                        t.createDiv(
                                                          "mobile-vault-chooser-button-container",
                                                          function (t) {
                                                            t.createEl(
                                                              "button",
                                                              {
                                                                cls: "mobile-vault-chooser-button mod-cta",
                                                                text: "Rename",
                                                              },
                                                              function (t) {
                                                                t.addEventListener(
                                                                  "mousedown",
                                                                  function (e) {
                                                                    return e.preventDefault();
                                                                  }
                                                                ),
                                                                  t.addEventListener(
                                                                    "click",
                                                                    function () {
                                                                      return A(
                                                                        E,
                                                                        void 0,
                                                                        void 0,
                                                                        function () {
                                                                          var t,
                                                                            s,
                                                                            a,
                                                                            l,
                                                                            h,
                                                                            p,
                                                                            f,
                                                                            g,
                                                                            v,
                                                                            y,
                                                                            b,
                                                                            w;
                                                                          return D(
                                                                            this,
                                                                            function (
                                                                              k
                                                                            ) {
                                                                              switch (
                                                                                k.label
                                                                              ) {
                                                                                case 0:
                                                                                  return (t =
                                                                                    i.getValue())
                                                                                    ? ze.test(
                                                                                        t
                                                                                      )
                                                                                      ? (new lw(
                                                                                          "Vault name cannot contain any of these characters: " +
                                                                                            Be
                                                                                        ),
                                                                                        [
                                                                                          2,
                                                                                        ])
                                                                                      : (s =
                                                                                          e(
                                                                                            r
                                                                                          ))
                                                                                      ? ((a =
                                                                                          s.fs),
                                                                                        (l =
                                                                                          s.path),
                                                                                        (h =
                                                                                          Je(
                                                                                            l
                                                                                          )),
                                                                                        (p =
                                                                                          h +
                                                                                          "/" +
                                                                                          t),
                                                                                        [
                                                                                          4,
                                                                                          a.exists(
                                                                                            p
                                                                                          ),
                                                                                        ])
                                                                                      : (new lw(
                                                                                          "Failed to rename vault."
                                                                                        ),
                                                                                        [
                                                                                          2,
                                                                                        ])
                                                                                    : (new lw(
                                                                                        "Please enter a vault name."
                                                                                      ),
                                                                                      [
                                                                                        2,
                                                                                      ]);
                                                                                case 1:
                                                                                  if (
                                                                                    k.sent()
                                                                                  )
                                                                                    return (
                                                                                      new lw(
                                                                                        "A vault with this name already exists."
                                                                                      ),
                                                                                      [
                                                                                        2,
                                                                                      ]
                                                                                    );
                                                                                  k.label = 2;
                                                                                case 2:
                                                                                  return (
                                                                                    k.trys.push(
                                                                                      [
                                                                                        2,
                                                                                        4,
                                                                                        ,
                                                                                        5,
                                                                                      ]
                                                                                    ),
                                                                                    [
                                                                                      4,
                                                                                      a.rename(
                                                                                        l,
                                                                                        p
                                                                                      ),
                                                                                    ]
                                                                                  );
                                                                                case 3:
                                                                                  return (
                                                                                    k.sent(),
                                                                                    [
                                                                                      3,
                                                                                      5,
                                                                                    ]
                                                                                  );
                                                                                case 4:
                                                                                  return (
                                                                                    (f =
                                                                                      k.sent()),
                                                                                    new lw(
                                                                                      "Failed to rename vault. " +
                                                                                        f.message
                                                                                    ),
                                                                                    [
                                                                                      2,
                                                                                    ]
                                                                                  );
                                                                                case 5:
                                                                                  return (
                                                                                    k.trys.push(
                                                                                      [
                                                                                        5,
                                                                                        11,
                                                                                        ,
                                                                                        12,
                                                                                      ]
                                                                                    ),
                                                                                    (g =
                                                                                      Ye(
                                                                                        l
                                                                                      )),
                                                                                    (v =
                                                                                      r.replace(
                                                                                        new RegExp(
                                                                                          Le(
                                                                                            g
                                                                                          ) +
                                                                                            "$"
                                                                                        ),
                                                                                        t
                                                                                      )) ===
                                                                                    r
                                                                                      ? [
                                                                                          3,
                                                                                          10,
                                                                                        ]
                                                                                      : [
                                                                                          4,
                                                                                          kV(
                                                                                            r
                                                                                          ),
                                                                                        ]
                                                                                  );
                                                                                case 6:
                                                                                  return [
                                                                                    4,
                                                                                    k
                                                                                      .sent()
                                                                                      .get(
                                                                                        "data",
                                                                                        "data"
                                                                                      ),
                                                                                  ];
                                                                                case 7:
                                                                                  return (y =
                                                                                    k.sent())
                                                                                    ? ((y.appId =
                                                                                        v),
                                                                                      [
                                                                                        4,
                                                                                        kV(
                                                                                          v
                                                                                        ),
                                                                                      ])
                                                                                    : [
                                                                                        3,
                                                                                        10,
                                                                                      ];
                                                                                case 8:
                                                                                  return [
                                                                                    4,
                                                                                    k
                                                                                      .sent()
                                                                                      .put(
                                                                                        "data",
                                                                                        y,
                                                                                        "data"
                                                                                      ),
                                                                                  ];
                                                                                case 9:
                                                                                  k.sent(),
                                                                                    (k.label = 10);
                                                                                case 10:
                                                                                  return [
                                                                                    3,
                                                                                    12,
                                                                                  ];
                                                                                case 11:
                                                                                  return (
                                                                                    (b =
                                                                                      k.sent()),
                                                                                    console.error(
                                                                                      "Failed to transfer sync data",
                                                                                      b
                                                                                    ),
                                                                                    [
                                                                                      3,
                                                                                      12,
                                                                                    ]
                                                                                  );
                                                                                case 12:
                                                                                  return [
                                                                                    4,
                                                                                    Vq(
                                                                                      r
                                                                                    ),
                                                                                  ];
                                                                                case 13:
                                                                                  return (
                                                                                    k.sent(),
                                                                                    a ===
                                                                                      o &&
                                                                                      (-1 !==
                                                                                      (w =
                                                                                        c.indexOf(
                                                                                          r
                                                                                        ))
                                                                                        ? c.splice(
                                                                                            w,
                                                                                            1,
                                                                                            p
                                                                                          )
                                                                                        : c.unshift(
                                                                                            p
                                                                                          ),
                                                                                      u()),
                                                                                    Gb(
                                                                                      n,
                                                                                      d,
                                                                                      "left"
                                                                                    ),
                                                                                    [
                                                                                      4,
                                                                                      m(),
                                                                                    ]
                                                                                  );
                                                                                case 14:
                                                                                  return (
                                                                                    k.sent(),
                                                                                    [
                                                                                      2,
                                                                                    ]
                                                                                  );
                                                                              }
                                                                            }
                                                                          );
                                                                        }
                                                                      );
                                                                    }
                                                                  );
                                                              }
                                                            );
                                                          }
                                                        );
                                                    }
                                                  ),
                                                  "right"
                                                );
                                              }),
                                            gI &&
                                              r.contains("/") &&
                                              new jq(i)
                                                .setIcon(Jm)
                                                .setTitle("Forget vault")
                                                .addButton(vm)
                                                .onClick(function () {
                                                  return Gb(
                                                    n,
                                                    f(
                                                      "Forget vault " + s,
                                                      l,
                                                      function (e) {
                                                        e.createEl(
                                                          "p",
                                                          "",
                                                          function (e) {
                                                            e.createSpan({
                                                              text: "Forgetting this vault will remove it from the list of vaults without deleting any files.",
                                                            });
                                                          }
                                                        ),
                                                          e.createDiv(
                                                            "mobile-vault-chooser-button-container",
                                                            function (e) {
                                                              e.createEl(
                                                                "button",
                                                                {
                                                                  cls: "mobile-vault-chooser-button mod-warning",
                                                                  text: "Forget",
                                                                }
                                                              ).addEventListener(
                                                                "click",
                                                                function () {
                                                                  return A(
                                                                    E,
                                                                    void 0,
                                                                    void 0,
                                                                    function () {
                                                                      return D(
                                                                        this,
                                                                        function (
                                                                          e
                                                                        ) {
                                                                          switch (
                                                                            e.label
                                                                          ) {
                                                                            case 0:
                                                                              return (
                                                                                c.remove(
                                                                                  r
                                                                                ),
                                                                                u(),
                                                                                [
                                                                                  4,
                                                                                  Vq(
                                                                                    r
                                                                                  ),
                                                                                ]
                                                                              );
                                                                            case 1:
                                                                              return (
                                                                                e.sent(),
                                                                                Gb(
                                                                                  n,
                                                                                  d,
                                                                                  "left"
                                                                                ),
                                                                                [
                                                                                  4,
                                                                                  m(),
                                                                                ]
                                                                              );
                                                                            case 2:
                                                                              return (
                                                                                e.sent(),
                                                                                [
                                                                                  2,
                                                                                ]
                                                                              );
                                                                          }
                                                                        }
                                                                      );
                                                                    }
                                                                  );
                                                                }
                                                              );
                                                            }
                                                          );
                                                      }
                                                    ),
                                                    "right"
                                                  );
                                                }),
                                            new jq(i)
                                              .setIcon(um)
                                              .setTitle("Delete vault")
                                              .addButton(vm)
                                              .onClick(function () {
                                                return Gb(
                                                  n,
                                                  f(
                                                    "Delete vault " + s,
                                                    l,
                                                    function (t) {
                                                      t.createEl(
                                                        "p",
                                                        "mod-warning",
                                                        function (e) {
                                                          e.createSpan({
                                                            text: "Deleting this vault will delete all files in it.",
                                                          });
                                                        }
                                                      ),
                                                        t.createEl(
                                                          "p",
                                                          "mod-warning",
                                                          function (e) {
                                                            e.createSpan({
                                                              text: "This action is irreversible. Please confirm you want to delete it.",
                                                            });
                                                          }
                                                        ),
                                                        t.createDiv(
                                                          "mobile-vault-chooser-button-container",
                                                          function (t) {
                                                            t.createEl(
                                                              "button",
                                                              {
                                                                cls: "mobile-vault-chooser-button mod-warning",
                                                                text: "Delete",
                                                              },
                                                              function (t) {
                                                                t.addEventListener(
                                                                  "click",
                                                                  function () {
                                                                    return A(
                                                                      E,
                                                                      void 0,
                                                                      void 0,
                                                                      function () {
                                                                        var t,
                                                                          i,
                                                                          o,
                                                                          s;
                                                                        return D(
                                                                          this,
                                                                          function (
                                                                            a
                                                                          ) {
                                                                            switch (
                                                                              a.label
                                                                            ) {
                                                                              case 0:
                                                                                if (
                                                                                  !(t =
                                                                                    e(
                                                                                      r
                                                                                    ))
                                                                                )
                                                                                  return (
                                                                                    new lw(
                                                                                      "Failed to delete vault."
                                                                                    ),
                                                                                    [
                                                                                      2,
                                                                                    ]
                                                                                  );
                                                                                (i =
                                                                                  t.fs),
                                                                                  (o =
                                                                                    t.path),
                                                                                  (a.label = 1);
                                                                              case 1:
                                                                                return (
                                                                                  a.trys.push(
                                                                                    [
                                                                                      1,
                                                                                      3,
                                                                                      ,
                                                                                      4,
                                                                                    ]
                                                                                  ),
                                                                                  [
                                                                                    4,
                                                                                    i.rmdir(
                                                                                      o
                                                                                    ),
                                                                                  ]
                                                                                );
                                                                              case 2:
                                                                                return (
                                                                                  a.sent(),
                                                                                  [
                                                                                    3,
                                                                                    4,
                                                                                  ]
                                                                                );
                                                                              case 3:
                                                                                return (
                                                                                  (s =
                                                                                    a.sent()),
                                                                                  new lw(
                                                                                    "Failed to delete vault. " +
                                                                                      s.message
                                                                                  ),
                                                                                  [
                                                                                    2,
                                                                                  ]
                                                                                );
                                                                              case 4:
                                                                                return [
                                                                                  4,
                                                                                  Vq(
                                                                                    r
                                                                                  ),
                                                                                ];
                                                                              case 5:
                                                                                return (
                                                                                  a.sent(),
                                                                                  Gb(
                                                                                    n,
                                                                                    d,
                                                                                    "left"
                                                                                  ),
                                                                                  [
                                                                                    4,
                                                                                    m(),
                                                                                  ]
                                                                                );
                                                                              case 6:
                                                                                return (
                                                                                  a.sent(),
                                                                                  [
                                                                                    2,
                                                                                  ]
                                                                                );
                                                                            }
                                                                          }
                                                                        );
                                                                      }
                                                                    );
                                                                  }
                                                                );
                                                              }
                                                            );
                                                          }
                                                        );
                                                    }
                                                  ),
                                                  "right"
                                                );
                                              });
                                        }
                                      );
                                    });
                                    return l;
                                  };
                                  new jq(h)
                                    .setIcon(l ? iy : ov)
                                    .setTitle(s)
                                    .addButton(vm)
                                    .onClick(function () {
                                      return Gb(n, p(), "right");
                                    });
                                }),
                                (p = function (e, t, n, i, r) {
                                  return A(E, void 0, void 0, function () {
                                    var o, s, a, c, u, h, p;
                                    return D(this, function (d) {
                                      switch (d.label) {
                                        case 0:
                                          return (
                                            d.trys.push([0, 2, , 3]),
                                            [4, e.readdir(t)]
                                          );
                                        case 1:
                                          return (o = d.sent()), [3, 3];
                                        case 2:
                                          return (
                                            (s = d.sent()),
                                            console.error(s),
                                            [2]
                                          );
                                        case 3:
                                          (a = 0), (c = o), (d.label = 4);
                                        case 4:
                                          if (!(a < c.length)) return [3, 9];
                                          if ((u = c[a]).startsWith("."))
                                            return [3, 8];
                                          if (r && r.contains(u)) return [3, 8];
                                          d.label = 5;
                                        case 5:
                                          return (
                                            d.trys.push([5, 7, , 8]),
                                            (h = t ? t + "/" + u : u),
                                            [4, e.stat(h)]
                                          );
                                        case 6:
                                          return (
                                            "directory" === d.sent().type &&
                                              l(n + u, u, i),
                                            [3, 8]
                                          );
                                        case 7:
                                          return (
                                            (p = d.sent()),
                                            console.error(p),
                                            [3, 8]
                                          );
                                        case 8:
                                          return a++, [3, 4];
                                        case 9:
                                          return [2];
                                      }
                                    });
                                  });
                                }),
                                fI
                                  ? r
                                    ? [4, p(r, s, "icloud/", !0)]
                                    : [3, 2]
                                  : [3, 4]
                              );
                            case 1:
                              M.sent(), (M.label = 2);
                            case 2:
                              return [4, p(i, "", "documents/")];
                            case 3:
                              return M.sent(), [3, 12];
                            case 4:
                              if (!gI) return [3, 12];
                              (g = i.getUri("") + "/"),
                                (v = []),
                                (y = 0),
                                (b = c),
                                (M.label = 5);
                            case 5:
                              if (!(y < b.length)) return [3, 10];
                              (w = b[y]), (M.label = 6);
                            case 6:
                              return (
                                M.trys.push([6, 8, , 9]),
                                (k = o.getUri(w)).startsWith(g) &&
                                  (C = k.substr(g.length))
                                    .toLowerCase()
                                    .startsWith("obsidian/") &&
                                  ((x = C.substr(9)).contains("/") ||
                                    v.push(decodeURIComponent(x))),
                                [4, o.stat(w)]
                              );
                            case 7:
                              return (
                                "directory" === M.sent().type &&
                                  l(w, Ye(w), !1),
                                [3, 9]
                              );
                            case 8:
                              return (S = M.sent()), console.error(S), [3, 9];
                            case 9:
                              return y++, [3, 5];
                            case 10:
                              return [4, p(i, a, "", !1, v)];
                            case 11:
                              M.sent(), (M.label = 12);
                            case 12:
                              return [2];
                          }
                        });
                      });
                    })(),
                  ]
                );
              case 32:
                return y.sent(), [4, bI.hide()];
              case 33:
                return y.sent(), [2];
            }
          });
        });
      }
      var jq = (function () {
        function e(e) {
          var t = (this.el = e.createDiv("mobile-vault-chooser-action"));
          (this.iconEl = t.createDiv({
            cls: "mobile-vault-chooser-action-icon",
          })),
            (this.titleEl = t.createDiv({
              cls: "mobile-vault-chooser-action-name",
            }));
        }
        return (
          (e.prototype.setIcon = function (e) {
            return Xy(this.iconEl, e, 20), this;
          }),
          (e.prototype.setTitle = function (e) {
            return this.titleEl.setText(e), this;
          }),
          (e.prototype.onClick = function (e) {
            return (
              this.el.addEventListener("click", function (t) {
                0 !== t.button || t.defaultPrevented || e(t);
              }),
              this
            );
          }),
          (e.prototype.addButton = function (e, t) {
            var n = this.el.createDiv({
              cls: "mobile-vault-chooser-action-icon",
            });
            return (
              Xy(n, e, 20),
              t &&
                n.onClickEvent(function (e) {
                  e.preventDefault(), t(e);
                }),
              this
            );
          }),
          e
        );
      })();
      A(void 0, void 0, void 0, function () {
        var e;
        return D(this, function (t) {
          switch (t.label) {
            case 0:
              return [4, xt];
            case 1:
              return (
                t.sent(),
                (e = ct("electron"))
                  ? ((function (e) {
                      var t = this,
                        n = e.ipcRenderer.sendSync("vault"),
                        i = n.id,
                        r = n.path;
                      if (!r || !ct("original-fs").existsSync(r))
                        return (
                          e.ipcRenderer.sendSync("starter"), void window.close()
                        );
                      var o = new tI(r);
                      (document.title =
                        Ye(rt(r)) +
                        " - Obsidian v" +
                        e.ipcRenderer.sendSync("version")),
                        (eb.isDesktopApp = !0),
                        (eb.isDesktop = !0),
                        ready(function () {
                          return A(t, void 0, void 0, function () {
                            return D(this, function (e) {
                              return (window.app = new Hq(o, i)), [2];
                            });
                          });
                        });
                    })(e),
                    [2])
                  : dI
                  ? [4, qq()]
                  : [3, 3]
              );
            case 2:
              return t.sent(), [2];
            case 3:
              return window.close(), [2];
          }
        });
      });
    })();
})();
